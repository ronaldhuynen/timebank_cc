/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./vendor/rtippin/messenger-ui/resources/js/Messenger.js":
/*!***************************************************************!*\
  !*** ./vendor/rtippin/messenger-ui/resources/js/Messenger.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("/* provided dependency */ var $ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nwindow.Messenger = function () {\n  var opt = {\n      initialized: false,\n      APP_NAME: 'Messenger',\n      API: null,\n      WEB: null,\n      SOCKET: null,\n      SOCKET_PUSHER: false,\n      SOCKET_KEY: null,\n      SOCKET_AUTH_ENDPOINT: null,\n      SOCKET_PORT: 6001,\n      SOCKET_CLUSTER: null,\n      SOCKET_TLS: false,\n      env: 'production',\n      websockets: true,\n      lockout: false,\n      model: 'guest',\n      auth: false,\n      provider_id: null,\n      provider_alias: null,\n      provider_model: 'guest',\n      name: 'Guest User',\n      slug: '#',\n      avatar_md: null,\n      avatar_sm: null,\n      mobile: false,\n      teapot: 0,\n      modal_close: null,\n      dark_mode: true,\n      css: {\n        base: null,\n        dark: null\n      },\n      csrf_token: document.querySelector('meta[name=csrf-token]').content,\n      modules: [],\n      modal_queue: []\n    },\n    methods = {\n      Initialize: function Initialize(arg, environment) {\n        if (opt.initialized) return;\n        opt.initialized = true;\n        if (\"provider\" in arg) {\n          opt.provider_id = arg.provider.id;\n          opt.provider_alias = arg.provider.alias;\n          opt.provider_model = arg.provider.model;\n          opt.auth = true;\n          opt.name = arg.provider.name;\n          opt.slug = arg.provider.slug;\n          opt.avatar_md = arg.provider.avatar_md;\n          opt.avatar_sm = arg.provider.avatar_sm;\n        }\n        if (\"common\" in arg) {\n          opt.API = arg.common.api_endpoint + '/';\n          opt.WEB = arg.common.web_endpoint;\n          opt.SOCKET = arg.common.socket_endpoint;\n          opt.SOCKET_PUSHER = arg.common.socket_pusher;\n          opt.SOCKET_KEY = arg.common.socket_key;\n          opt.SOCKET_AUTH_ENDPOINT = arg.common.socket_auth_endpoint;\n          opt.SOCKET_PORT = arg.common.socket_port;\n          opt.SOCKET_TLS = arg.common.socket_tls;\n          if (opt.SOCKET_PUSHER) {\n            opt.SOCKET_CLUSTER = arg.common.socket_cluster;\n          }\n          opt.APP_NAME = arg.common.app_name;\n          opt.mobile = arg.common.mobile;\n          opt.dark_mode = arg.common.dark_mode;\n          if ('base_css' in arg.common) opt.css.base = arg.common.base_css;\n          if ('dark_css' in arg.common) opt.css.dark = arg.common.dark_css;\n          if ('websockets' in arg.common) opt.websockets = arg.common.websockets;\n        }\n        if (\"call\" in arg) CallManager.init(arg.call);\n        if (environment) opt.env = environment;\n        PageListeners.init();\n        for (var key in arg.load) {\n          //We use the manager name to xhr load in the js\n          //If loaded, we init and add to modules\n          if (!arg.load.hasOwnProperty(key)) continue;\n          methods.loadModule(key, arg.load[key]);\n        }\n        for (var _key in arg.modules) {\n          if (!arg.modules.hasOwnProperty(_key)) continue;\n          methods.loadModule(_key, arg.modules[_key]);\n        }\n        PageListeners.listen().tooltips();\n      },\n      loadModule: function loadModule(key, obj) {\n        try {\n          if (typeof window[key] !== 'undefined') {\n            methods.initModule({\n              name: key,\n              options: obj\n            });\n          } else {\n            XHR.script({\n              file: obj.src,\n              name: key,\n              options: obj,\n              success: methods.initModule\n            });\n          }\n        } catch (e) {\n          console.log(e);\n        }\n      },\n      initModule: function initModule(js) {\n        try {\n          if (!opt.modules.includes(js.name)) opt.modules.push(js.name);\n          if (typeof window[js.name] !== 'undefined' && typeof window[js.name]['init'] !== 'undefined') window[js.name].init(js.options);\n        } catch (e) {\n          console.log(e);\n        }\n      },\n      LockSmith: function LockSmith() {\n        opt.teapot = 0;\n        opt.modules.forEach(function (name) {\n          if (typeof window[name] !== 'undefined' && typeof window[name]['lock'] !== 'undefined') window[name].lock(false);\n        });\n      },\n      addScripts: function addScripts(jsFile) {\n        var s = document.createElement('script');\n        s.type = 'text/javascript';\n        s.appendChild(document.createTextNode(jsFile.data));\n        document.body.appendChild(s);\n      },\n      checkCsrfToken: function checkCsrfToken(token) {\n        if (opt.csrf_token !== token) {\n          opt.csrf_token = token;\n          window.Laravel = {\n            csrfToken: token\n          };\n          window.axios.defaults.headers.common['X-CSRF-TOKEN'] = token;\n          document.querySelector('meta[name=csrf-token]').content = token;\n        }\n      },\n      isProvider: function isProvider(id, model, alias) {\n        alias = alias || null;\n        if (model === null) {\n          return opt.provider_id === id && opt.provider_alias === alias;\n        }\n        return opt.provider_id === id && opt.provider_model === model.replace(/\\\\/g, '');\n      }\n    },\n    _format = {\n      makeHumanTime: function makeHumanTime(date) {\n        return dayjs(date).format('ddd, MMM Do YYYY, h:mm:ssa');\n      },\n      makeTimeAgo: function makeTimeAgo(date) {\n        return dayjs(date).fromNow();\n      },\n      escapeHtml: function escapeHtml(text) {\n        var map = {\n          '&': '&amp;',\n          '<': '&lt;',\n          '>': '&gt;',\n          '\"': '&quot;',\n          \"'\": '&#039;'\n        };\n        return text.replace(/[&<>\"']/g, function (m) {\n          return map[m];\n        });\n      },\n      focusEnd: function focusEnd(elm) {\n        if (!elm) return;\n        elm.focus();\n        if (elm.value) {\n          elm.setSelectionRange(elm.value.length, elm.value.length);\n        }\n      },\n      timeDiffInUnit: function timeDiffInUnit(date1, date2, unit) {\n        if (!date1 || !date2 || !unit) return 0;\n        var d1 = dayjs(date1),\n          d2 = dayjs(date2);\n        return d1.diff(d2, unit);\n      },\n      copyText: function copyText(btnID, inputID) {\n        var input = document.getElementById(inputID),\n          btn = $(\"#\" + btnID);\n        input.select();\n        input.setSelectionRange(0, 99999);\n        document.execCommand(\"copy\");\n        btn.removeClass('btn-primary').addClass('btn-success').html('<i class=\"far fa-clipboard\"></i> Copied');\n        setTimeout(function () {\n          btn.removeClass('btn-success').addClass('btn-primary').html('<i class=\"far fa-copy\"></i> Copy');\n        }, 2000);\n      },\n      shortcodeToImage: function shortcodeToImage(body) {\n        return typeof joypixels !== 'undefined' ? joypixels.toImage(body) : body;\n      },\n      shortcodeToUnicode: function shortcodeToUnicode(body) {\n        return typeof joypixels !== 'undefined' ? joypixels.shortnameToUnicode(body) : body;\n      }\n    },\n    buttons = {\n      addLoader: function addLoader(arg) {\n        var button = $(arg.id);\n        if (!button.length) return;\n        $(arg.id).append(' <i class=\"fas fa-sync-alt bLoading\"></i>');\n        $(arg.id).prop(\"disabled\", true);\n      },\n      spinAction: function spinAction(elm, disabled) {\n        if (typeof elm === 'undefined' || elm === null) return;\n        if (disabled) {\n          elm.prop('disabled', true);\n          elm.find('i').addClass('spin-me-round');\n        } else {\n          elm.prop('disabled', false);\n          elm.find('i').removeClass('spin-me-round');\n        }\n      },\n      removeLoader: function removeLoader() {\n        $(\".bLoading\").remove();\n        $(\".btn\").prop(\"disabled\", false);\n      }\n    },\n    alerts = {\n      //Global modal module with default options you can override\n      // Messenger.alerts().Modal({\n      //     wait_for_others : false, //Default, set true to have modal wait to show until other modals close\n      //     title : 'Alert',         //Default, set title of modal\n      //     allow_close : true,      //Default, (false) removes btns, user can't close modal\n      //     unlock_buttons : true    //Default, if true, removes all btn loaders and disabled states on page\n      //     close_btn : true,        //Default, set false to hide bottom close button\n      //     theme : 'info',          //Default, bootstrap theme prefix (danger, success, etc)\n      //     icon : 'info-sign',      //Default, header Font Awesome icon, use (fas fa-) suffix\n      //     size : 'md',             //Default, use bootstrap size prefix (xs, sm, md, ect)\n      //     h4 : true,               //Default, makes text in body h4. Set false if importing custom html\n      //     backdrop_ctrl : true,    //Default, set false to stop modal close on backdrop click\n      //     overflow : false,        //Default, set true to allow inner modal to scroll\n      //     close_btn_txt : 'Close', //Default, change close button text\n      //     pre_loader : false,      //Default. If true, modal expects a call to the onReady() below (no body set here)\n      //     centered : false,        //Default. If true, will center modal in middle of screen\n      //     timer : false            //Default, set to int in milliseconds to auto close modal on timeout\n      //     body : 'body content',   //Not set, define your modal content here. Set false to hide body completely\n      //     callback : function(){   //Optional, requires cb_btn opts below\n      //         //your executed callback logic\n      //         //by default this will not close modal\n      //     },\n      //     cb_btn_theme : '',       //Required when using callback, set bootstrap theme prefix\n      //     cb_btn_icon : '',        //Required when using callback, Font Awesome icon, use FA suffix\n      //     cb_btn_txt : '',         //Required when using callback, set callback btn text\n      //     cb_close : true,         //Optional when using callback, set true to make modal close same time when clicking callback\n      //     onReady : function(){    //Optional. Execute code here once modal has opened\n      //         //execute logic here on modal show\n      //         //Required if using pre_loader. You must call in here\n      //         //the fillModal({}) method to remove preload, fill body/title\n      //         //Messenger.alerts().fillModal({body : html, title : optional}) Fills in modal\n      //      },\n      //      onClosed : function(){  //Optional. Run this to execute code once modal closes\n      //          //console.log('Modal Closed!');\n      //      }\n      // });\n      loader: function loader(grow) {\n        return '<div class=\"col-12 my-2 text-center\"><div class=\"spinner-' + (grow ? 'grow' : 'border') + ' text-primary\" role=\"status\"></div></div>';\n      },\n      destroyModal: function destroyModal() {\n        $(\".modal-backdrop\").remove();\n        $(\".modal\").remove();\n        $(\"body\").removeClass('modal-open');\n      },\n      Modal: function Modal(arg) {\n        var elm = {\n            modal_backdrop: $(\".modal-backdrop\"),\n            modal: $(\".modal\")\n          },\n          defaults = {\n            title: 'Alert',\n            allow_close: true,\n            unlock_buttons: true,\n            close_btn: true,\n            theme: 'info',\n            icon: 'info-circle',\n            callback: null,\n            size: 'md',\n            h4: true,\n            backdrop_ctrl: true,\n            overflow: false,\n            close_btn_txt: 'Close',\n            pre_loader: false,\n            centered: false,\n            timer: false\n          };\n        if (\"wait_for_others\" in arg && elm.modal.length) {\n          opt.modal_queue.push(arg);\n          return;\n        }\n        PageListeners.listen().disposeTooltips();\n        if (elm.modal.length || elm.modal_backdrop.length) {\n          alerts.destroyModal();\n        }\n        var options = Object.assign({}, defaults, arg),\n          bottom = function bottom(options) {\n            if (!options.allow_close || !options.close_btn) {\n              return \"\";\n            }\n            if (options.callback) {\n              return \"<div class='modal-footer'><div class='mx-auto'><button type='button' class='btn btn-md btn-light modal_close' data-dismiss='modal'>Cancel</button>\" + \"<button id='modal_cb_btn' type='button' class='ml-2 btn btn-md btn-\" + options.cb_btn_theme + \" modal_callback \" + (options.pre_loader ? \"NS\" : \"\") + \"'><i class='fas fa-\" + options.cb_btn_icon + \"'></i> \" + options.cb_btn_txt + \"</button></div></div>\";\n            }\n            return \"<div class='modal-footer'><div class='mx-auto'><button type='button' class='btn btn-sm btn-light modal_close' data-dismiss='modal'>\" + options.close_btn_txt + \"</button></div></div>\";\n          },\n          body = function body(options) {\n            return options.body || options.pre_loader ? \"<div id='body_modal' class='modal-body text-dark \" + (options.h4 ? ' h4' : '') + \"'>\" + (options.pre_loader ? alerts.loader(true) : options.body) + \"</div>\" : \"\";\n          },\n          template = function template(options) {\n            return \"<div id='main_modal' class='modal fade' role='dialog'>\" + \"<div class='modal-dialog modal-\" + options.size + (options.centered ? ' modal-dialog-centered' : '') + (options.overflow ? ' modal-dialog-scrollable' : '') + \" ' role='document'>\" + \"<div class='modal-content'>\" + \"<div class='modal-header pb-2 text-\" + (options.theme === 'warning' ? 'dark' : 'light') + \" bg-gradient-\" + options.theme + \"'>\" + \"<span class='h5'><i class='fas fa-\" + options.icon + \"'></i> <strong><span id='title_modal'>\" + options.title + \"</span></strong></span>\" + (options.allow_close ? \"<button type='button' class='close modClose' data-dismiss='modal' aria-hidden='true'><i class='fas fa-times'></i></button>\" : \"\") + \"</div>\" + body(options) + bottom(options) + \"</div></div></div>\";\n          };\n        $(\"body\").append(template(options));\n        $(\"#main_modal\").modal({\n          backdrop: !options.allow_close || !options.backdrop_ctrl ? 'static' : true,\n          keyboard: false\n        }).on('shown.bs.modal', function () {\n          if (options.timer) {\n            opt.modal_close = setTimeout(function () {\n              $(\".modal\").modal(\"hide\");\n            }, options.timer);\n          }\n        }).on('click', '.modal_callback', function () {\n          if (options.callback) {\n            buttons.addLoader({\n              id: $(this)\n            });\n            options.callback();\n            if ('cb_close' in options) $(\".modal\").modal(\"hide\");\n            if ('onClosed' in options) options.onClosed();\n          }\n        }).on('hidden.bs.modal', function () {\n          clearInterval(opt.modal_close);\n          $(this).remove();\n          if (options.unlock_buttons) buttons.removeLoader();\n          if ('onClosed' in options) options.onClosed();\n          if (opt.modal_queue.length) {\n            alerts.Modal(opt.modal_queue[0]);\n            opt.modal_queue.shift();\n          }\n        });\n        if ('onReady' in options) options.onReady();\n      },\n      fillModal: function fillModal(arg) {\n        $(\"#modal_cb_btn\").show();\n        $(\"#body_modal\").html(\"loader\" in arg ? alerts.loader(true) : arg.body);\n        if (\"title\" in arg) $(\"#title_modal\").html(arg.title);\n        if (\"no_close\" in arg) $(\".modClose, .modal-footer\").remove();\n      },\n      //Global alert popup\n      // Messenger.alert().Alert({\n      //     close : false,           //Default, set true to close all open alerts before showing the next including modals\n      //     title : 'Alert',         //Default, set title of alert\n      //     theme : 'success',       //Default, bootstrap theme prefix (danger, success, etc) / May use success, info, warning, or error is using toast\n      //     icon : 'info-sign',      //Default, header Font Awesome icon, use FA suffix\n      //     timer : 5000,            //Default, set time until auto close. Set false to not auto close\n      //     body : 'body'            //Not set, define your alert content here\n      //     toast : false            //If true, we use toastr instead of bootstrap alert and the added options below\n      //     close_toast : false      //If true, we close other toast before showing this\n      //     toast_options : {        //Default options for toastr, override globals here\n      //         https://github.com/CodeSeven/toastr for docs\n      //     }\n      // });\n      Alert: function Alert(arg) {\n        var defaults = {\n            close: false,\n            title: 'Alert',\n            theme: 'success',\n            icon: 'info-circle',\n            body: '',\n            timer: 5000,\n            toast: false,\n            close_toast: false,\n            toast_options: {}\n          },\n          options = Object.assign({}, defaults, arg),\n          modal = $(\".modal\");\n        if (options.toast) {\n          if (options.close) {\n            modal.modal(\"hide\");\n            $(\".alert\").remove();\n            buttons.removeLoader();\n          }\n          if (options.close_toast) toastr.remove();\n          toastr[options.theme](options.body, options.title, options.toast_options);\n          return;\n        }\n        buttons.removeLoader();\n        modal.modal(\"hide\");\n        if (options.close) $(\".alert\").remove();\n        var alert = $('<div onclick=\"$(this).remove()\" role=\"alert\" class=\"pointer_area alert alert-' + options.theme + ' alert-dismissable NS fade show mb-2\"><button data-dismiss=\"alert\" type=\"button\" class=\"close\"><i class=\"fas fa-times\"></i></button>' + '<strong><i class=\"fas fa-' + options.icon + '\"></i> ' + options.title + ':</strong> ' + options.body + '</div>');\n        alert.prependTo(\"#alert_container\");\n        alert.css('opacity', '1').slideDown(300, function () {\n          if (options.timer) {\n            setTimeout(function () {\n              alert.remove();\n            }, options.timer);\n          }\n        });\n      },\n      showAvatar: function showAvatar(name, avatar) {\n        alerts.Modal({\n          icon: 'image',\n          theme: 'dark',\n          title: name + '\\'s Photo',\n          pre_loader: true\n        });\n        var img = new Image();\n        img.onload = function () {\n          alerts.fillModal({\n            body: '<div class=\"text-center\"><img src=\"' + this.src + '\" class=\"img-fluid rounded\" /></div>'\n          });\n        };\n        img.onerror = function () {\n          alerts.fillModal({\n            body: '<div class=\"text-center\"><span class=\"badge badge-pill badge-danger\">Image failed to load.</span></div>'\n          });\n        };\n        img.src = avatar;\n      }\n    },\n    XHR = {\n      //Global post/request function using axios\n      // Messenger.xhr().payload({\n      //     route : '/post/here',            //(Required)Set the URI to post to\n      //     data : {\n      //          input : 'data'              //(Required)data is an object of all data to post to URI\n      //     },\n      //     exports : {                      //(Not Required)if set, it will send data there instead\n      //          name : 'ManagerName',       //Manager to call by name string\n      //          sub : 'SubFunctionName'     //Manager sub function to call by name string\n      //     },\n      //     shared : {                       //(Not Required)If set, on success this data will be merged with the\n      //          arg : true,                 //received data from the backend\n      //          more : 'stuff'\n      //     },\n      //     success : function(response){    //(Not required) On success, we pass data and run your calls inside success function\n      //          console.log(response)\n      //     },\n      //     fail : function(error){          //(Not Required) if the post fails, it will by default pass the error msg to the handler popup\n      //          console.log(error);         //If you set this function, it will instead pass you the error for you to handle\n      //          doSomething();\n      //     },\n      //     bypass : true                    //(Not Required) - Set true if you wish to use your own fail method while continuing\n      //                                      //to allow the handler to popup the error message\n      //     fail_alert : true                //(Not Required) - Set true if you want error to be in alert and not modal\n      //     close_modal : true               //(Not Required) - Set true if you wish close modal on success/fail\n      //     lockout : true                   //(Not Required) - Set true to lockout all further post/gets when called\n      // });\n      payload: function payload(arg, method) {\n        if (opt.lockout) return;\n        if (\"lockout\" in arg) opt.lockout = true;\n        axios[method ? method : 'post'](arg.route, arg.data).then(function (response) {\n          methods.LockSmith();\n          PageListeners.listen().disposeTooltips();\n          if ('close_modal' in arg) alerts.destroyModal();\n          if ('exports' in arg) {\n            window[arg.exports.name][arg.exports.sub](Object.assign(response.data, arg.exports));\n            return;\n          }\n          if ('success' in arg && typeof arg.success === 'function') {\n            if ('shared' in arg) {\n              arg.success(Object.assign(response.data, arg.shared));\n              return;\n            }\n            arg.success(response.data);\n          }\n        })[\"catch\"](function (error) {\n          if (opt.env === 'local') {\n            console.trace();\n            console.log(error.response);\n          }\n          try {\n            if (error && \"response\" in error && [418, 502, 504].includes(error.response.status)) {\n              _handle.fillTeapot('payload', arg);\n              return;\n            }\n          } catch (e) {\n            console.log(e);\n          }\n          PageListeners.listen().disposeTooltips();\n          methods.LockSmith();\n          buttons.removeLoader();\n          if ('close_modal' in arg) alerts.destroyModal();\n          if (\"lockout\" in arg) opt.lockout = false;\n          if ('fail' in arg) {\n            if (typeof arg.fail === 'function') arg.fail(error.response);\n            if (!('bypass' in arg)) return;\n          }\n          _handle.xhrError({\n            type: 'fail_alert' in arg && arg.fail_alert ? 2 : 1,\n            response: error.response,\n            fail_keep_open: 'fail_keep_open' in arg\n          });\n        });\n      },\n      request: function request(arg) {\n        if (opt.lockout) return;\n        if (\"lockout\" in arg) opt.lockout = true;\n        axios.get(arg.route).then(function (response) {\n          PageListeners.listen().disposeTooltips();\n          if ('close_modal' in arg) alerts.destroyModal();\n          methods.LockSmith();\n          if ('exports' in arg) {\n            window[arg.exports.name][arg.exports.sub](Object.assign(response.data, arg.exports));\n            return;\n          }\n          if ('success' in arg && typeof arg.success === 'function') {\n            if ('shared' in arg) {\n              arg.success(Object.assign(response.data, arg.shared));\n              return;\n            }\n            arg.success(response.data);\n          }\n        })[\"catch\"](function (error) {\n          if (opt.env === 'local') {\n            console.trace();\n            console.log(error.response);\n          }\n          try {\n            if (error && \"response\" in error && [418, 502, 504].includes(error.response.status)) {\n              _handle.fillTeapot('request', arg);\n              return;\n            }\n          } catch (e) {\n            console.log(e);\n          }\n          PageListeners.listen().disposeTooltips();\n          methods.LockSmith();\n          buttons.removeLoader();\n          if ('close_modal' in arg) alerts.destroyModal();\n          if (\"lockout\" in arg) opt.lockout = false;\n          if ('fail' in arg) {\n            if (typeof arg.fail === 'function') arg.fail(error.response);\n            if (!('bypass' in arg)) return;\n          }\n          _handle.xhrError({\n            type: 'fail_alert' in arg && arg.fail_alert ? 2 : 1,\n            response: error.response\n          });\n        });\n      },\n      script: function script(arg) {\n        if (!opt.initialized) return;\n        if (opt.lockout) return;\n        if (\"lockout\" in arg) opt.lockout = true;\n        axios.get(arg.file).then(function (response) {\n          methods.addScripts(response);\n          opt.modules.push(arg.name);\n          if (\"success\" in arg) arg.success(arg);\n        })[\"catch\"](function (error) {\n          if (opt.env === 'local') {\n            console.trace();\n            console.log(error.response);\n          }\n          console.log('Failed to load ' + arg.file);\n          if (\"fail\" in arg) arg.fail();\n        });\n      },\n      lockout: function lockout(state) {\n        opt.lockout = state;\n      }\n    },\n    _handle = {\n      fillTeapot: function fillTeapot(flavor, tea) {\n        if (opt.teapot > 4) {\n          _handle.xhrError();\n          return;\n        }\n        opt.teapot++;\n        XHR[flavor](tea);\n      },\n      xhrError: function xhrError(arg) {\n        $('body').find(\".btn\").prop('disabled', false);\n        var errMessages = function errMessages() {\n            switch (Math.floor(Math.random() * Math.floor(3))) {\n              case 0:\n                return 'Your request has encountered an error. We have been made aware of this issue';\n              case 1:\n                return 'It seems we are having trouble processing your request. Our team has been notified';\n              case 2:\n                return 'Something went wrong. We are sorry about that, our team has been informed of the situation';\n            }\n          },\n          errToast = function errToast(body, close) {\n            alerts.Alert({\n              close_toast: close,\n              close: !arg.fail_keep_open,\n              toast: true,\n              theme: 'error',\n              title: body\n            });\n          },\n          errModal = function errModal(body) {\n            alerts.Modal({\n              theme: 'danger',\n              icon: 'times',\n              title: 'Error',\n              body: body\n            });\n          };\n        buttons.removeLoader();\n        if (!arg || arg && typeof arg.response === 'undefined') {\n          errToast(errMessages(), true);\n          return;\n        }\n        if (arg.response.status === 413) {\n          errToast('File upload too large', true);\n          return;\n        }\n        if (arg.response.status === 500) {\n          errToast(errMessages(), true);\n          return;\n        }\n        if (typeof arg.response.data === 'undefined' || typeof arg.response.data.message === 'undefined') {\n          errToast(errMessages(), true);\n          return;\n        }\n        if (typeof arg.response.data.errors !== 'undefined' && _typeof(arg.response.data.errors) === 'object') {\n          var theStack = '<ul class=\"' + (arg.type === 2 ? 'p-0 ml-3' : '') + '\">';\n          for (var field in arg.response.data.errors) {\n            if (!arg.response.data.errors.hasOwnProperty(field)) continue;\n            arg.response.data.errors[field].forEach(function (error) {\n              theStack += '<li>' + error + '</li>';\n            });\n          }\n          theStack += '</ul>';\n          if (arg.type === 2) {\n            errToast(theStack, !(\"no_close\" in arg));\n            return;\n          }\n          errModal(theStack);\n          return;\n        }\n        if (arg.type === 2) {\n          errToast(arg.response.data.message, true);\n          return;\n        }\n        errModal(arg.response.data.message);\n      },\n      switchCss: function switchCss(dark) {\n        var og = document.getElementById('main_css'),\n          head = document.getElementsByTagName('head')[0],\n          link = document.createElement('link');\n        link.rel = 'stylesheet';\n        link.href = dark ? opt.css.dark : opt.css.base;\n        opt.dark_mode = dark;\n        head.prepend(link);\n        link.onload = function () {\n          og.remove();\n          this.id = 'main_css';\n        };\n        if (opt.modules.includes('EmojiPicker')) {\n          EmojiPicker.updateThemes(dark);\n        }\n      }\n    },\n    _forms = {\n      updateSlug: function updateSlug(slug) {\n        opt.slug = slug;\n      },\n      Logout: function Logout() {\n        if (opt.provider_model === 'guest') return;\n        Messenger.alert().Modal({\n          size: 'sm',\n          icon: 'sign-out-alt',\n          pre_loader: true,\n          centered: true,\n          unlock_buttons: false,\n          allow_close: false,\n          backdrop_ctrl: false,\n          title: 'Logging out',\n          theme: 'primary'\n        });\n        if (opt.modules.includes('NotifyManager')) NotifyManager.sockets().disconnect();\n        XHR.payload({\n          route: '/logout',\n          data: {},\n          lockout: true,\n          success: function success() {\n            location.replace('/');\n          },\n          fail: function fail() {\n            location.reload();\n          }\n        });\n      }\n    };\n  return {\n    init: methods.Initialize,\n    isProvider: methods.isProvider,\n    common: function common() {\n      return {\n        APP_NAME: opt.APP_NAME,\n        API: opt.API,\n        WEB: opt.WEB,\n        SOCKET: opt.SOCKET,\n        SOCKET_PUSHER: opt.SOCKET_PUSHER,\n        SOCKET_KEY: opt.SOCKET_KEY,\n        SOCKET_AUTH_ENDPOINT: opt.SOCKET_AUTH_ENDPOINT,\n        SOCKET_PORT: opt.SOCKET_PORT,\n        SOCKET_TLS: opt.SOCKET_TLS,\n        SOCKET_CLUSTER: opt.SOCKET_CLUSTER,\n        provider_alias: opt.provider_alias,\n        provider_id: opt.provider_id,\n        provider_model: opt.provider_model,\n        name: opt.name,\n        slug: opt.slug,\n        avatar_md: opt.avatar_md,\n        avatar_sm: opt.avatar_sm,\n        modules: opt.modules,\n        mobile: opt.mobile,\n        csrf_token: opt.csrf_token,\n        websockets: opt.websockets,\n        dark_mode: opt.dark_mode,\n        env: opt.env\n      };\n    },\n    xhr: function xhr() {\n      return XHR;\n    },\n    handle: function handle() {\n      return _handle;\n    },\n    button: function button() {\n      return buttons;\n    },\n    alert: function alert() {\n      return alerts;\n    },\n    forms: function forms() {\n      return _forms;\n    },\n    format: function format() {\n      return _format;\n    },\n    token: methods.checkCsrfToken\n  };\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi92ZW5kb3IvcnRpcHBpbi9tZXNzZW5nZXItdWkvcmVzb3VyY2VzL2pzL01lc3Nlbmdlci5qcyIsIm1hcHBpbmdzIjoiOztBQUFBQSxNQUFNLENBQUNDLFNBQVMsR0FBSSxZQUFZO0VBQzVCLElBQUlDLEdBQUcsR0FBRztNQUNOQyxXQUFXLEVBQUcsS0FBSztNQUNuQkMsUUFBUSxFQUFHLFdBQVc7TUFDdEJDLEdBQUcsRUFBRyxJQUFJO01BQ1ZDLEdBQUcsRUFBRyxJQUFJO01BQ1ZDLE1BQU0sRUFBRyxJQUFJO01BQ2JDLGFBQWEsRUFBRyxLQUFLO01BQ3JCQyxVQUFVLEVBQUcsSUFBSTtNQUNqQkMsb0JBQW9CLEVBQUcsSUFBSTtNQUMzQkMsV0FBVyxFQUFHLElBQUk7TUFDbEJDLGNBQWMsRUFBRyxJQUFJO01BQ3JCQyxVQUFVLEVBQUcsS0FBSztNQUNsQkMsR0FBRyxFQUFHLFlBQVk7TUFDbEJDLFVBQVUsRUFBRyxJQUFJO01BQ2pCQyxPQUFPLEVBQUcsS0FBSztNQUNmQyxLQUFLLEVBQUcsT0FBTztNQUNmQyxJQUFJLEVBQUcsS0FBSztNQUNaQyxXQUFXLEVBQUcsSUFBSTtNQUNsQkMsY0FBYyxFQUFHLElBQUk7TUFDckJDLGNBQWMsRUFBRyxPQUFPO01BQ3hCQyxJQUFJLEVBQUcsWUFBWTtNQUNuQkMsSUFBSSxFQUFHLEdBQUc7TUFDVkMsU0FBUyxFQUFHLElBQUk7TUFDaEJDLFNBQVMsRUFBRyxJQUFJO01BQ2hCQyxNQUFNLEVBQUcsS0FBSztNQUNkQyxNQUFNLEVBQUcsQ0FBQztNQUNWQyxXQUFXLEVBQUcsSUFBSTtNQUNsQkMsU0FBUyxFQUFHLElBQUk7TUFDaEJDLEdBQUcsRUFBRztRQUNGQyxJQUFJLEVBQUcsSUFBSTtRQUNYQyxJQUFJLEVBQUc7TUFDWCxDQUFDO01BQ0RDLFVBQVUsRUFBR0MsUUFBUSxDQUFDQyxhQUFhLENBQUMsdUJBQXVCLENBQUMsQ0FBQ0MsT0FBTztNQUNwRUMsT0FBTyxFQUFHLEVBQUU7TUFDWkMsV0FBVyxFQUFHO0lBQ2xC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STtRQUNmQyxTQUFTLEVBQUd0QixHQUFHLENBQUNzQixTQUFTO1FBQ3pCQyxTQUFTLEVBQUd2QixHQUFHLENBQUN1QixTQUFTO1FBQ3pCWSxPQUFPLEVBQUduQyxHQUFHLENBQUNtQyxPQUFPO1FBQ3JCWCxNQUFNLEVBQUd4QixHQUFHLENBQUN3QixNQUFNO1FBQ25CTyxVQUFVLEVBQUUvQixHQUFHLENBQUMrQixVQUFVO1FBQzFCbEIsVUFBVSxFQUFHYixHQUFHLENBQUNhLFVBQVU7UUFDM0JjLFNBQVMsRUFBRzNCLEdBQUcsQ0FBQzJCLFNBQVM7UUFDekJmLEdBQUcsRUFBR1osR0FBRyxDQUFDWTtNQUNkLENBQUM7SUFDTCxDQUFDO0lBQ0RzUCxHQUFHLEVBQUcsU0FBQUEsSUFBQSxFQUFZO01BQ2QsT0FBTzVMLEdBQUc7SUFDZCxDQUFDO0lBQ0RvSixNQUFNLEVBQUcsU0FBQUEsT0FBQSxFQUFVO01BQ2YsT0FBT0EsT0FBTTtJQUNqQixDQUFDO0lBQ0R6RSxNQUFNLEVBQUcsU0FBQUEsT0FBQSxFQUFVO01BQ2YsT0FBT0YsT0FBTztJQUNsQixDQUFDO0lBQ0R1RCxLQUFLLEVBQUcsU0FBQUEsTUFBQSxFQUFVO01BQ2QsT0FBTzdDLE1BQU07SUFDakIsQ0FBQztJQUNEaUcsS0FBSyxFQUFHLFNBQUFBLE1BQUEsRUFBVTtNQUNkLE9BQU9BLE1BQUs7SUFDaEIsQ0FBQztJQUNEcEosTUFBTSxFQUFHLFNBQUFBLE9BQUEsRUFBVTtNQUNmLE9BQU9BLE9BQU07SUFDakIsQ0FBQztJQUNEUixLQUFLLEVBQUd6RCxPQUFPLENBQUN3RDtFQUNwQixDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi92ZW5kb3IvcnRpcHBpbi9tZXNzZW5nZXItdWkvcmVzb3VyY2VzL2pzL01lc3Nlbmdlci5qcz85ZWIyIl0sInNvdXJjZXNDb250ZW50IjpbIndpbmRvdy5NZXNzZW5nZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBvcHQgPSB7XG4gICAgICAgIGluaXRpYWxpemVkIDogZmFsc2UsXG4gICAgICAgIEFQUF9OQU1FIDogJ01lc3NlbmdlcicsXG4gICAgICAgIEFQSSA6IG51bGwsXG4gICAgICAgIFdFQiA6IG51bGwsXG4gICAgICAgIFNPQ0tFVCA6IG51bGwsXG4gICAgICAgIFNPQ0tFVF9QVVNIRVIgOiBmYWxzZSxcbiAgICAgICAgU09DS0VUX0tFWSA6IG51bGwsXG4gICAgICAgIFNPQ0tFVF9BVVRIX0VORFBPSU5UIDogbnVsbCxcbiAgICAgICAgU09DS0VUX1BPUlQgOiA2MDAxLFxuICAgICAgICBTT0NLRVRfQ0xVU1RFUiA6IG51bGwsXG4gICAgICAgIFNPQ0tFVF9UTFMgOiBmYWxzZSxcbiAgICAgICAgZW52IDogJ3Byb2R1Y3Rpb24nLFxuICAgICAgICB3ZWJzb2NrZXRzIDogdHJ1ZSxcbiAgICAgICAgbG9ja291dCA6IGZhbHNlLFxuICAgICAgICBtb2RlbCA6ICdndWVzdCcsXG4gICAgICAgIGF1dGggOiBmYWxzZSxcbiAgICAgICAgcHJvdmlkZXJfaWQgOiBudWxsLFxuICAgICAgICBwcm92aWRlcl9hbGlhcyA6IG51bGwsXG4gICAgICAgIHByb3ZpZGVyX21vZGVsIDogJ2d1ZXN0JyxcbiAgICAgICAgbmFtZSA6ICdHdWVzdCBVc2VyJyxcbiAgICAgICAgc2x1ZyA6ICcjJyxcbiAgICAgICAgYXZhdGFyX21kIDogbnVsbCxcbiAgICAgICAgYXZhdGFyX3NtIDogbnVsbCxcbiAgICAgICAgbW9iaWxlIDogZmFsc2UsXG4gICAgICAgIHRlYXBvdCA6IDAsXG4gICAgICAgIG1vZGFsX2Nsb3NlIDogbnVsbCxcbiAgICAgICAgZGFya19tb2RlIDogdHJ1ZSxcbiAgICAgICAgY3NzIDoge1xuICAgICAgICAgICAgYmFzZSA6IG51bGwsXG4gICAgICAgICAgICBkYXJrIDogbnVsbFxuICAgICAgICB9LFxuICAgICAgICBjc3JmX3Rva2VuIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWV0YVtuYW1lPWNzcmYtdG9rZW5dJykuY29udGVudCxcbiAgICAgICAgbW9kdWxlcyA6IFtdLFxuICAgICAgICBtb2RhbF9xdWV1ZSA6IFtdXG4gICAgfSxcbiAgICBtZXRob2RzID0ge1xuICAgICAgICBJbml0aWFsaXplIDogZnVuY3Rpb24oYXJnLCBlbnZpcm9ubWVudCl7XG4gICAgICAgICAgICBpZihvcHQuaW5pdGlhbGl6ZWQpIHJldHVybjtcbiAgICAgICAgICAgIG9wdC5pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgICAgICBpZihcInByb3ZpZGVyXCIgaW4gYXJnKXtcbiAgICAgICAgICAgICAgICBvcHQucHJvdmlkZXJfaWQgPSBhcmcucHJvdmlkZXIuaWQ7XG4gICAgICAgICAgICAgICAgb3B0LnByb3ZpZGVyX2FsaWFzID0gYXJnLnByb3ZpZGVyLmFsaWFzO1xuICAgICAgICAgICAgICAgIG9wdC5wcm92aWRlcl9tb2RlbCA9IGFyZy5wcm92aWRlci5tb2RlbDtcbiAgICAgICAgICAgICAgICBvcHQuYXV0aCA9IHRydWU7XG4gICAgICAgICAgICAgICAgb3B0Lm5hbWUgPSBhcmcucHJvdmlkZXIubmFtZTtcbiAgICAgICAgICAgICAgICBvcHQuc2x1ZyA9IGFyZy5wcm92aWRlci5zbHVnO1xuICAgICAgICAgICAgICAgIG9wdC5hdmF0YXJfbWQgPSBhcmcucHJvdmlkZXIuYXZhdGFyX21kO1xuICAgICAgICAgICAgICAgIG9wdC5hdmF0YXJfc20gPSBhcmcucHJvdmlkZXIuYXZhdGFyX3NtO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoXCJjb21tb25cIiBpbiBhcmcpe1xuICAgICAgICAgICAgICAgIG9wdC5BUEkgPSBhcmcuY29tbW9uLmFwaV9lbmRwb2ludCArICcvJztcbiAgICAgICAgICAgICAgICBvcHQuV0VCID0gYXJnLmNvbW1vbi53ZWJfZW5kcG9pbnQ7XG4gICAgICAgICAgICAgICAgb3B0LlNPQ0tFVCA9IGFyZy5jb21tb24uc29ja2V0X2VuZHBvaW50O1xuICAgICAgICAgICAgICAgIG9wdC5TT0NLRVRfUFVTSEVSID0gYXJnLmNvbW1vbi5zb2NrZXRfcHVzaGVyO1xuICAgICAgICAgICAgICAgIG9wdC5TT0NLRVRfS0VZID0gYXJnLmNvbW1vbi5zb2NrZXRfa2V5O1xuICAgICAgICAgICAgICAgIG9wdC5TT0NLRVRfQVVUSF9FTkRQT0lOVCA9IGFyZy5jb21tb24uc29ja2V0X2F1dGhfZW5kcG9pbnQ7XG4gICAgICAgICAgICAgICAgb3B0LlNPQ0tFVF9QT1JUID0gYXJnLmNvbW1vbi5zb2NrZXRfcG9ydDtcbiAgICAgICAgICAgICAgICBvcHQuU09DS0VUX1RMUyA9IGFyZy5jb21tb24uc29ja2V0X3RscztcbiAgICAgICAgICAgICAgICBpZihvcHQuU09DS0VUX1BVU0hFUil7XG4gICAgICAgICAgICAgICAgICAgIG9wdC5TT0NLRVRfQ0xVU1RFUiA9IGFyZy5jb21tb24uc29ja2V0X2NsdXN0ZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9wdC5BUFBfTkFNRSA9IGFyZy5jb21tb24uYXBwX25hbWU7XG4gICAgICAgICAgICAgICAgb3B0Lm1vYmlsZSA9IGFyZy5jb21tb24ubW9iaWxlO1xuICAgICAgICAgICAgICAgIG9wdC5kYXJrX21vZGUgPSBhcmcuY29tbW9uLmRhcmtfbW9kZTtcbiAgICAgICAgICAgICAgICBpZignYmFzZV9jc3MnIGluIGFyZy5jb21tb24pIG9wdC5jc3MuYmFzZSA9IGFyZy5jb21tb24uYmFzZV9jc3M7XG4gICAgICAgICAgICAgICAgaWYoJ2RhcmtfY3NzJyBpbiBhcmcuY29tbW9uKSBvcHQuY3NzLmRhcmsgPSBhcmcuY29tbW9uLmRhcmtfY3NzO1xuICAgICAgICAgICAgICAgIGlmKCd3ZWJzb2NrZXRzJyBpbiBhcmcuY29tbW9uKSBvcHQud2Vic29ja2V0cyA9IGFyZy5jb21tb24ud2Vic29ja2V0cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKFwiY2FsbFwiIGluIGFyZykgQ2FsbE1hbmFnZXIuaW5pdChhcmcuY2FsbCk7XG4gICAgICAgICAgICBpZihlbnZpcm9ubWVudCkgb3B0LmVudiA9IGVudmlyb25tZW50O1xuICAgICAgICAgICAgUGFnZUxpc3RlbmVycy5pbml0KCk7XG4gICAgICAgICAgICBmb3IobGV0IGtleSBpbiBhcmcubG9hZCl7XG4gICAgICAgICAgICAgICAgLy9XZSB1c2UgdGhlIG1hbmFnZXIgbmFtZSB0byB4aHIgbG9hZCBpbiB0aGUganNcbiAgICAgICAgICAgICAgICAvL0lmIGxvYWRlZCwgd2UgaW5pdCBhbmQgYWRkIHRvIG1vZHVsZXNcbiAgICAgICAgICAgICAgICBpZiAoIWFyZy5sb2FkLmhhc093blByb3BlcnR5KGtleSkpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIG1ldGhvZHMubG9hZE1vZHVsZShrZXksIGFyZy5sb2FkW2tleV0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IobGV0IGtleSBpbiBhcmcubW9kdWxlcyl7XG4gICAgICAgICAgICAgICAgaWYgKCFhcmcubW9kdWxlcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBtZXRob2RzLmxvYWRNb2R1bGUoa2V5LCBhcmcubW9kdWxlc1trZXldKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgUGFnZUxpc3RlbmVycy5saXN0ZW4oKS50b29sdGlwcygpXG4gICAgICAgIH0sXG4gICAgICAgIGxvYWRNb2R1bGUgOiBmdW5jdGlvbihrZXksIG9iail7XG4gICAgICAgICAgICB0cnl7XG4gICAgICAgICAgICAgICAgaWYodHlwZW9mIHdpbmRvd1trZXldICE9PSAndW5kZWZpbmVkJyl7XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZHMuaW5pdE1vZHVsZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lIDoga2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA6IG9ialxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICBYSFIuc2NyaXB0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGUgOiBvYmouc3JjLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA6IGtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgOiBvYmosXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzIDogbWV0aG9kcy5pbml0TW9kdWxlXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfWNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgaW5pdE1vZHVsZSA6IGZ1bmN0aW9uKGpzKXtcbiAgICAgICAgICAgIHRyeXtcbiAgICAgICAgICAgICAgICBpZighb3B0Lm1vZHVsZXMuaW5jbHVkZXMoanMubmFtZSkpIG9wdC5tb2R1bGVzLnB1c2goanMubmFtZSk7XG4gICAgICAgICAgICAgICAgaWYodHlwZW9mIHdpbmRvd1tqcy5uYW1lXSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvd1tqcy5uYW1lXVsnaW5pdCddICE9PSAndW5kZWZpbmVkJykgd2luZG93W2pzLm5hbWVdLmluaXQoanMub3B0aW9ucylcbiAgICAgICAgICAgIH1jYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIExvY2tTbWl0aCA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBvcHQudGVhcG90ID0gMDtcbiAgICAgICAgICAgIG9wdC5tb2R1bGVzLmZvckVhY2goZnVuY3Rpb24obmFtZSl7XG4gICAgICAgICAgICAgICAgaWYodHlwZW9mIHdpbmRvd1tuYW1lXSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvd1tuYW1lXVsnbG9jayddICE9PSAndW5kZWZpbmVkJykgd2luZG93W25hbWVdLmxvY2soZmFsc2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGFkZFNjcmlwdHMgOiBmdW5jdGlvbihqc0ZpbGUpe1xuICAgICAgICAgICAgbGV0IHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICAgICAgICAgIHMudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnO1xuICAgICAgICAgICAgcy5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShqc0ZpbGUuZGF0YSkpO1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2hlY2tDc3JmVG9rZW4gOiBmdW5jdGlvbih0b2tlbil7XG4gICAgICAgICAgICBpZihvcHQuY3NyZl90b2tlbiAhPT0gdG9rZW4pe1xuICAgICAgICAgICAgICAgIG9wdC5jc3JmX3Rva2VuID0gdG9rZW47XG4gICAgICAgICAgICAgICAgd2luZG93LkxhcmF2ZWwgPSB7IGNzcmZUb2tlbjogdG9rZW4gfTtcbiAgICAgICAgICAgICAgICB3aW5kb3cuYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ1gtQ1NSRi1UT0tFTiddID0gdG9rZW47XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWV0YVtuYW1lPWNzcmYtdG9rZW5dJykuY29udGVudCA9IHRva2VuXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGlzUHJvdmlkZXIgOiBmdW5jdGlvbihpZCwgbW9kZWwsIGFsaWFzKXtcbiAgICAgICAgICAgIGFsaWFzID0gYWxpYXMgfHwgbnVsbDtcbiAgICAgICAgICAgIGlmKG1vZGVsID09PSBudWxsKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3B0LnByb3ZpZGVyX2lkID09PSBpZFxuICAgICAgICAgICAgICAgICAgICAmJiBvcHQucHJvdmlkZXJfYWxpYXMgPT09IGFsaWFzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG9wdC5wcm92aWRlcl9pZCA9PT0gaWRcbiAgICAgICAgICAgICAgICAmJiBvcHQucHJvdmlkZXJfbW9kZWwgPT09IG1vZGVsLnJlcGxhY2UoL1xcXFwvZywgJycpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBmb3JtYXQgPSB7XG4gICAgICAgIG1ha2VIdW1hblRpbWUgOiBmdW5jdGlvbihkYXRlKXtcbiAgICAgICAgICAgIHJldHVybiBkYXlqcyhkYXRlKS5mb3JtYXQoJ2RkZCwgTU1NIERvIFlZWVksIGg6bW06c3NhJylcbiAgICAgICAgfSxcbiAgICAgICAgbWFrZVRpbWVBZ28gOiBmdW5jdGlvbihkYXRlKXtcbiAgICAgICAgICAgIHJldHVybiBkYXlqcyhkYXRlKS5mcm9tTm93KClcbiAgICAgICAgfSxcbiAgICAgICAgZXNjYXBlSHRtbCA6IGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgICAgICAgIGxldCBtYXAgPSB7XG4gICAgICAgICAgICAgICAgJyYnOiAnJmFtcDsnLFxuICAgICAgICAgICAgICAgICc8JzogJyZsdDsnLFxuICAgICAgICAgICAgICAgICc+JzogJyZndDsnLFxuICAgICAgICAgICAgICAgICdcIic6ICcmcXVvdDsnLFxuICAgICAgICAgICAgICAgIFwiJ1wiOiAnJiMwMzk7J1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiB0ZXh0LnJlcGxhY2UoL1smPD5cIiddL2csIGZ1bmN0aW9uKG0pIHsgcmV0dXJuIG1hcFttXTsgfSlcbiAgICAgICAgfSxcbiAgICAgICAgZm9jdXNFbmQgOiBmdW5jdGlvbiAoZWxtKSB7XG4gICAgICAgICAgICBpZighZWxtKSByZXR1cm47XG4gICAgICAgICAgICBlbG0uZm9jdXMoKTtcbiAgICAgICAgICAgIGlmKGVsbS52YWx1ZSl7XG4gICAgICAgICAgICAgICAgZWxtLnNldFNlbGVjdGlvblJhbmdlKGVsbS52YWx1ZS5sZW5ndGgsIGVsbS52YWx1ZS5sZW5ndGgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHRpbWVEaWZmSW5Vbml0IDogZnVuY3Rpb24gKGRhdGUxLCBkYXRlMiwgdW5pdCkge1xuICAgICAgICAgICAgaWYoIWRhdGUxIHx8ICFkYXRlMiB8fCAhdW5pdCkgcmV0dXJuIDA7XG4gICAgICAgICAgICBsZXQgZDEgPSBkYXlqcyhkYXRlMSksXG4gICAgICAgICAgICAgICAgZDIgPSBkYXlqcyhkYXRlMik7XG4gICAgICAgICAgICByZXR1cm4gZDEuZGlmZihkMiwgdW5pdClcbiAgICAgICAgfSxcbiAgICAgICAgY29weVRleHQgOiBmdW5jdGlvbihidG5JRCwgaW5wdXRJRCl7XG4gICAgICAgICAgICBsZXQgaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpbnB1dElEKSwgYnRuID0gJChcIiNcIitidG5JRCk7XG4gICAgICAgICAgICBpbnB1dC5zZWxlY3QoKTtcbiAgICAgICAgICAgIGlucHV0LnNldFNlbGVjdGlvblJhbmdlKDAsIDk5OTk5KTtcbiAgICAgICAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKFwiY29weVwiKTtcbiAgICAgICAgICAgIGJ0bi5yZW1vdmVDbGFzcygnYnRuLXByaW1hcnknKS5hZGRDbGFzcygnYnRuLXN1Y2Nlc3MnKS5odG1sKCc8aSBjbGFzcz1cImZhciBmYS1jbGlwYm9hcmRcIj48L2k+IENvcGllZCcpO1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgYnRuLnJlbW92ZUNsYXNzKCdidG4tc3VjY2VzcycpLmFkZENsYXNzKCdidG4tcHJpbWFyeScpLmh0bWwoJzxpIGNsYXNzPVwiZmFyIGZhLWNvcHlcIj48L2k+IENvcHknKTtcbiAgICAgICAgICAgIH0sIDIwMDApXG4gICAgICAgIH0sXG4gICAgICAgIHNob3J0Y29kZVRvSW1hZ2UgOiBmdW5jdGlvbihib2R5KXtcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2Ygam95cGl4ZWxzICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICAgICAgICAgID8gam95cGl4ZWxzLnRvSW1hZ2UoYm9keSlcbiAgICAgICAgICAgICAgICA6IGJvZHk7XG4gICAgICAgIH0sXG4gICAgICAgIHNob3J0Y29kZVRvVW5pY29kZSA6IGZ1bmN0aW9uKGJvZHkpe1xuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBqb3lwaXhlbHMgIT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICAgICAgPyBqb3lwaXhlbHMuc2hvcnRuYW1lVG9Vbmljb2RlKGJvZHkpXG4gICAgICAgICAgICAgICAgOiBib2R5O1xuICAgICAgICB9XG4gICAgfSxcbiAgICBidXR0b25zID0ge1xuICAgICAgICBhZGRMb2FkZXIgOiBmdW5jdGlvbihhcmcpe1xuICAgICAgICAgICAgbGV0IGJ1dHRvbiA9ICQoYXJnLmlkKTtcbiAgICAgICAgICAgIGlmKCFidXR0b24ubGVuZ3RoKSByZXR1cm47XG4gICAgICAgICAgICAkKGFyZy5pZCkuYXBwZW5kKCcgPGkgY2xhc3M9XCJmYXMgZmEtc3luYy1hbHQgYkxvYWRpbmdcIj48L2k+Jyk7XG4gICAgICAgICAgICAkKGFyZy5pZCkucHJvcChcImRpc2FibGVkXCIsIHRydWUpO1xuICAgICAgICB9LFxuICAgICAgICBzcGluQWN0aW9uIDogZnVuY3Rpb24oZWxtLCBkaXNhYmxlZCl7XG4gICAgICAgICAgICBpZih0eXBlb2YgZWxtID09PSAndW5kZWZpbmVkJyB8fCBlbG0gPT09IG51bGwpIHJldHVybjtcbiAgICAgICAgICAgIGlmKGRpc2FibGVkKXtcbiAgICAgICAgICAgICAgICBlbG0ucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBlbG0uZmluZCgnaScpLmFkZENsYXNzKCdzcGluLW1lLXJvdW5kJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIGVsbS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBlbG0uZmluZCgnaScpLnJlbW92ZUNsYXNzKCdzcGluLW1lLXJvdW5kJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZUxvYWRlciA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAkKFwiLmJMb2FkaW5nXCIpLnJlbW92ZSgpO1xuICAgICAgICAgICAgJChcIi5idG5cIikucHJvcChcImRpc2FibGVkXCIsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYWxlcnRzID0ge1xuICAgICAgICAvL0dsb2JhbCBtb2RhbCBtb2R1bGUgd2l0aCBkZWZhdWx0IG9wdGlvbnMgeW91IGNhbiBvdmVycmlkZVxuICAgICAgICAvLyBNZXNzZW5nZXIuYWxlcnRzKCkuTW9kYWwoe1xuICAgICAgICAvLyAgICAgd2FpdF9mb3Jfb3RoZXJzIDogZmFsc2UsIC8vRGVmYXVsdCwgc2V0IHRydWUgdG8gaGF2ZSBtb2RhbCB3YWl0IHRvIHNob3cgdW50aWwgb3RoZXIgbW9kYWxzIGNsb3NlXG4gICAgICAgIC8vICAgICB0aXRsZSA6ICdBbGVydCcsICAgICAgICAgLy9EZWZhdWx0LCBzZXQgdGl0bGUgb2YgbW9kYWxcbiAgICAgICAgLy8gICAgIGFsbG93X2Nsb3NlIDogdHJ1ZSwgICAgICAvL0RlZmF1bHQsIChmYWxzZSkgcmVtb3ZlcyBidG5zLCB1c2VyIGNhbid0IGNsb3NlIG1vZGFsXG4gICAgICAgIC8vICAgICB1bmxvY2tfYnV0dG9ucyA6IHRydWUgICAgLy9EZWZhdWx0LCBpZiB0cnVlLCByZW1vdmVzIGFsbCBidG4gbG9hZGVycyBhbmQgZGlzYWJsZWQgc3RhdGVzIG9uIHBhZ2VcbiAgICAgICAgLy8gICAgIGNsb3NlX2J0biA6IHRydWUsICAgICAgICAvL0RlZmF1bHQsIHNldCBmYWxzZSB0byBoaWRlIGJvdHRvbSBjbG9zZSBidXR0b25cbiAgICAgICAgLy8gICAgIHRoZW1lIDogJ2luZm8nLCAgICAgICAgICAvL0RlZmF1bHQsIGJvb3RzdHJhcCB0aGVtZSBwcmVmaXggKGRhbmdlciwgc3VjY2VzcywgZXRjKVxuICAgICAgICAvLyAgICAgaWNvbiA6ICdpbmZvLXNpZ24nLCAgICAgIC8vRGVmYXVsdCwgaGVhZGVyIEZvbnQgQXdlc29tZSBpY29uLCB1c2UgKGZhcyBmYS0pIHN1ZmZpeFxuICAgICAgICAvLyAgICAgc2l6ZSA6ICdtZCcsICAgICAgICAgICAgIC8vRGVmYXVsdCwgdXNlIGJvb3RzdHJhcCBzaXplIHByZWZpeCAoeHMsIHNtLCBtZCwgZWN0KVxuICAgICAgICAvLyAgICAgaDQgOiB0cnVlLCAgICAgICAgICAgICAgIC8vRGVmYXVsdCwgbWFrZXMgdGV4dCBpbiBib2R5IGg0LiBTZXQgZmFsc2UgaWYgaW1wb3J0aW5nIGN1c3RvbSBodG1sXG4gICAgICAgIC8vICAgICBiYWNrZHJvcF9jdHJsIDogdHJ1ZSwgICAgLy9EZWZhdWx0LCBzZXQgZmFsc2UgdG8gc3RvcCBtb2RhbCBjbG9zZSBvbiBiYWNrZHJvcCBjbGlja1xuICAgICAgICAvLyAgICAgb3ZlcmZsb3cgOiBmYWxzZSwgICAgICAgIC8vRGVmYXVsdCwgc2V0IHRydWUgdG8gYWxsb3cgaW5uZXIgbW9kYWwgdG8gc2Nyb2xsXG4gICAgICAgIC8vICAgICBjbG9zZV9idG5fdHh0IDogJ0Nsb3NlJywgLy9EZWZhdWx0LCBjaGFuZ2UgY2xvc2UgYnV0dG9uIHRleHRcbiAgICAgICAgLy8gICAgIHByZV9sb2FkZXIgOiBmYWxzZSwgICAgICAvL0RlZmF1bHQuIElmIHRydWUsIG1vZGFsIGV4cGVjdHMgYSBjYWxsIHRvIHRoZSBvblJlYWR5KCkgYmVsb3cgKG5vIGJvZHkgc2V0IGhlcmUpXG4gICAgICAgIC8vICAgICBjZW50ZXJlZCA6IGZhbHNlLCAgICAgICAgLy9EZWZhdWx0LiBJZiB0cnVlLCB3aWxsIGNlbnRlciBtb2RhbCBpbiBtaWRkbGUgb2Ygc2NyZWVuXG4gICAgICAgIC8vICAgICB0aW1lciA6IGZhbHNlICAgICAgICAgICAgLy9EZWZhdWx0LCBzZXQgdG8gaW50IGluIG1pbGxpc2Vjb25kcyB0byBhdXRvIGNsb3NlIG1vZGFsIG9uIHRpbWVvdXRcbiAgICAgICAgLy8gICAgIGJvZHkgOiAnYm9keSBjb250ZW50JywgICAvL05vdCBzZXQsIGRlZmluZSB5b3VyIG1vZGFsIGNvbnRlbnQgaGVyZS4gU2V0IGZhbHNlIHRvIGhpZGUgYm9keSBjb21wbGV0ZWx5XG4gICAgICAgIC8vICAgICBjYWxsYmFjayA6IGZ1bmN0aW9uKCl7ICAgLy9PcHRpb25hbCwgcmVxdWlyZXMgY2JfYnRuIG9wdHMgYmVsb3dcbiAgICAgICAgLy8gICAgICAgICAvL3lvdXIgZXhlY3V0ZWQgY2FsbGJhY2sgbG9naWNcbiAgICAgICAgLy8gICAgICAgICAvL2J5IGRlZmF1bHQgdGhpcyB3aWxsIG5vdCBjbG9zZSBtb2RhbFxuICAgICAgICAvLyAgICAgfSxcbiAgICAgICAgLy8gICAgIGNiX2J0bl90aGVtZSA6ICcnLCAgICAgICAvL1JlcXVpcmVkIHdoZW4gdXNpbmcgY2FsbGJhY2ssIHNldCBib290c3RyYXAgdGhlbWUgcHJlZml4XG4gICAgICAgIC8vICAgICBjYl9idG5faWNvbiA6ICcnLCAgICAgICAgLy9SZXF1aXJlZCB3aGVuIHVzaW5nIGNhbGxiYWNrLCBGb250IEF3ZXNvbWUgaWNvbiwgdXNlIEZBIHN1ZmZpeFxuICAgICAgICAvLyAgICAgY2JfYnRuX3R4dCA6ICcnLCAgICAgICAgIC8vUmVxdWlyZWQgd2hlbiB1c2luZyBjYWxsYmFjaywgc2V0IGNhbGxiYWNrIGJ0biB0ZXh0XG4gICAgICAgIC8vICAgICBjYl9jbG9zZSA6IHRydWUsICAgICAgICAgLy9PcHRpb25hbCB3aGVuIHVzaW5nIGNhbGxiYWNrLCBzZXQgdHJ1ZSB0byBtYWtlIG1vZGFsIGNsb3NlIHNhbWUgdGltZSB3aGVuIGNsaWNraW5nIGNhbGxiYWNrXG4gICAgICAgIC8vICAgICBvblJlYWR5IDogZnVuY3Rpb24oKXsgICAgLy9PcHRpb25hbC4gRXhlY3V0ZSBjb2RlIGhlcmUgb25jZSBtb2RhbCBoYXMgb3BlbmVkXG4gICAgICAgIC8vICAgICAgICAgLy9leGVjdXRlIGxvZ2ljIGhlcmUgb24gbW9kYWwgc2hvd1xuICAgICAgICAvLyAgICAgICAgIC8vUmVxdWlyZWQgaWYgdXNpbmcgcHJlX2xvYWRlci4gWW91IG11c3QgY2FsbCBpbiBoZXJlXG4gICAgICAgIC8vICAgICAgICAgLy90aGUgZmlsbE1vZGFsKHt9KSBtZXRob2QgdG8gcmVtb3ZlIHByZWxvYWQsIGZpbGwgYm9keS90aXRsZVxuICAgICAgICAvLyAgICAgICAgIC8vTWVzc2VuZ2VyLmFsZXJ0cygpLmZpbGxNb2RhbCh7Ym9keSA6IGh0bWwsIHRpdGxlIDogb3B0aW9uYWx9KSBGaWxscyBpbiBtb2RhbFxuICAgICAgICAvLyAgICAgIH0sXG4gICAgICAgIC8vICAgICAgb25DbG9zZWQgOiBmdW5jdGlvbigpeyAgLy9PcHRpb25hbC4gUnVuIHRoaXMgdG8gZXhlY3V0ZSBjb2RlIG9uY2UgbW9kYWwgY2xvc2VzXG4gICAgICAgIC8vICAgICAgICAgIC8vY29uc29sZS5sb2coJ01vZGFsIENsb3NlZCEnKTtcbiAgICAgICAgLy8gICAgICB9XG4gICAgICAgIC8vIH0pO1xuICAgICAgICBsb2FkZXIgOiBmdW5jdGlvbihncm93KXtcbiAgICAgICAgICAgIHJldHVybiAnPGRpdiBjbGFzcz1cImNvbC0xMiBteS0yIHRleHQtY2VudGVyXCI+PGRpdiBjbGFzcz1cInNwaW5uZXItJysoZ3JvdyA/ICdncm93JyA6ICdib3JkZXInKSsnIHRleHQtcHJpbWFyeVwiIHJvbGU9XCJzdGF0dXNcIj48L2Rpdj48L2Rpdj4nXG4gICAgICAgIH0sXG4gICAgICAgIGRlc3Ryb3lNb2RhbCA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAkKFwiLm1vZGFsLWJhY2tkcm9wXCIpLnJlbW92ZSgpO1xuICAgICAgICAgICAgJChcIi5tb2RhbFwiKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKCdtb2RhbC1vcGVuJyk7XG4gICAgICAgIH0sXG4gICAgICAgIE1vZGFsIDogZnVuY3Rpb24oYXJnKXtcbiAgICAgICAgICAgIGxldCBlbG0gPSB7XG4gICAgICAgICAgICAgICAgbW9kYWxfYmFja2Ryb3AgOiAkKFwiLm1vZGFsLWJhY2tkcm9wXCIpLFxuICAgICAgICAgICAgICAgIG1vZGFsIDogJChcIi5tb2RhbFwiKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgICAgIHRpdGxlIDogJ0FsZXJ0JyxcbiAgICAgICAgICAgICAgICBhbGxvd19jbG9zZSA6IHRydWUsXG4gICAgICAgICAgICAgICAgdW5sb2NrX2J1dHRvbnMgOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNsb3NlX2J0biA6IHRydWUsXG4gICAgICAgICAgICAgICAgdGhlbWUgOiAnaW5mbycsXG4gICAgICAgICAgICAgICAgaWNvbiA6ICdpbmZvLWNpcmNsZScsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2sgOiBudWxsLFxuICAgICAgICAgICAgICAgIHNpemUgOiAnbWQnLFxuICAgICAgICAgICAgICAgIGg0IDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBiYWNrZHJvcF9jdHJsIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBvdmVyZmxvdyA6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNsb3NlX2J0bl90eHQgOiAnQ2xvc2UnLFxuICAgICAgICAgICAgICAgIHByZV9sb2FkZXIgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBjZW50ZXJlZCA6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHRpbWVyIDogZmFsc2VcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZihcIndhaXRfZm9yX290aGVyc1wiIGluIGFyZyAmJiBlbG0ubW9kYWwubGVuZ3RoKXtcbiAgICAgICAgICAgICAgICBvcHQubW9kYWxfcXVldWUucHVzaChhcmcpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFBhZ2VMaXN0ZW5lcnMubGlzdGVuKCkuZGlzcG9zZVRvb2x0aXBzKCk7XG4gICAgICAgICAgICBpZihlbG0ubW9kYWwubGVuZ3RoIHx8IGVsbS5tb2RhbF9iYWNrZHJvcC5sZW5ndGgpe1xuICAgICAgICAgICAgICAgIGFsZXJ0cy5kZXN0cm95TW9kYWwoKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0cywgYXJnKSxcbiAgICAgICAgICAgIGJvdHRvbSA9IGZ1bmN0aW9uKG9wdGlvbnMpe1xuICAgICAgICAgICAgICAgIGlmKCFvcHRpb25zLmFsbG93X2Nsb3NlIHx8ICFvcHRpb25zLmNsb3NlX2J0bil7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZihvcHRpb25zLmNhbGxiYWNrKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiPGRpdiBjbGFzcz0nbW9kYWwtZm9vdGVyJz48ZGl2IGNsYXNzPSdteC1hdXRvJz48YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3M9J2J0biBidG4tbWQgYnRuLWxpZ2h0IG1vZGFsX2Nsb3NlJyBkYXRhLWRpc21pc3M9J21vZGFsJz5DYW5jZWw8L2J1dHRvbj5cIiArXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjxidXR0b24gaWQ9J21vZGFsX2NiX2J0bicgdHlwZT0nYnV0dG9uJyBjbGFzcz0nbWwtMiBidG4gYnRuLW1kIGJ0bi1cIitvcHRpb25zLmNiX2J0bl90aGVtZStcIiBtb2RhbF9jYWxsYmFjayBcIisob3B0aW9ucy5wcmVfbG9hZGVyID8gXCJOU1wiIDogXCJcIikrXCInPjxpIGNsYXNzPSdmYXMgZmEtXCIrb3B0aW9ucy5jYl9idG5faWNvbitcIic+PC9pPiBcIitvcHRpb25zLmNiX2J0bl90eHQrXCI8L2J1dHRvbj48L2Rpdj48L2Rpdj5cIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiPGRpdiBjbGFzcz0nbW9kYWwtZm9vdGVyJz48ZGl2IGNsYXNzPSdteC1hdXRvJz48YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3M9J2J0biBidG4tc20gYnRuLWxpZ2h0IG1vZGFsX2Nsb3NlJyBkYXRhLWRpc21pc3M9J21vZGFsJz5cIitvcHRpb25zLmNsb3NlX2J0bl90eHQrXCI8L2J1dHRvbj48L2Rpdj48L2Rpdj5cIjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBib2R5ID0gZnVuY3Rpb24ob3B0aW9ucyl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChvcHRpb25zLmJvZHkgfHwgb3B0aW9ucy5wcmVfbG9hZGVyID8gXCI8ZGl2IGlkPSdib2R5X21vZGFsJyBjbGFzcz0nbW9kYWwtYm9keSB0ZXh0LWRhcmsgXCIrKG9wdGlvbnMuaDQgPyAnIGg0JyA6ICcnKStcIic+XCIrKG9wdGlvbnMucHJlX2xvYWRlciA/IGFsZXJ0cy5sb2FkZXIodHJ1ZSkgOiBvcHRpb25zLmJvZHkpK1wiPC9kaXY+XCIgOiBcIlwiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0ZW1wbGF0ZSA9IGZ1bmN0aW9uKG9wdGlvbnMpe1xuICAgICAgICAgICAgICAgIHJldHVybiBcIjxkaXYgaWQ9J21haW5fbW9kYWwnIGNsYXNzPSdtb2RhbCBmYWRlJyByb2xlPSdkaWFsb2cnPlwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiPGRpdiBjbGFzcz0nbW9kYWwtZGlhbG9nIG1vZGFsLVwiK29wdGlvbnMuc2l6ZSsob3B0aW9ucy5jZW50ZXJlZCA/ICcgbW9kYWwtZGlhbG9nLWNlbnRlcmVkJyA6ICcnKSsob3B0aW9ucy5vdmVyZmxvdyA/ICcgbW9kYWwtZGlhbG9nLXNjcm9sbGFibGUnIDogJycpK1wiICcgcm9sZT0nZG9jdW1lbnQnPlwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiPGRpdiBjbGFzcz0nbW9kYWwtY29udGVudCc+XCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgXCI8ZGl2IGNsYXNzPSdtb2RhbC1oZWFkZXIgcGItMiB0ZXh0LVwiKyhvcHRpb25zLnRoZW1lID09PSAnd2FybmluZycgPyAnZGFyaycgOiAnbGlnaHQnKStcIiBiZy1ncmFkaWVudC1cIitvcHRpb25zLnRoZW1lK1wiJz5cIiArXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjxzcGFuIGNsYXNzPSdoNSc+PGkgY2xhc3M9J2ZhcyBmYS1cIitvcHRpb25zLmljb24rXCInPjwvaT4gPHN0cm9uZz48c3BhbiBpZD0ndGl0bGVfbW9kYWwnPlwiK29wdGlvbnMudGl0bGUrXCI8L3NwYW4+PC9zdHJvbmc+PC9zcGFuPlwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgIChvcHRpb25zLmFsbG93X2Nsb3NlID8gXCI8YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3M9J2Nsb3NlIG1vZENsb3NlJyBkYXRhLWRpc21pc3M9J21vZGFsJyBhcmlhLWhpZGRlbj0ndHJ1ZSc+PGkgY2xhc3M9J2ZhcyBmYS10aW1lcyc+PC9pPjwvYnV0dG9uPlwiIDogXCJcIiApK1xuICAgICAgICAgICAgICAgICAgICAgICAgXCI8L2Rpdj5cIitib2R5KG9wdGlvbnMpK2JvdHRvbShvcHRpb25zKStcIjwvZGl2PjwvZGl2PjwvZGl2PlwiO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICQoXCJib2R5XCIpLmFwcGVuZCh0ZW1wbGF0ZShvcHRpb25zKSk7XG4gICAgICAgICAgICAkKFwiI21haW5fbW9kYWxcIikubW9kYWwoe2JhY2tkcm9wOiAoIW9wdGlvbnMuYWxsb3dfY2xvc2UgfHwgIW9wdGlvbnMuYmFja2Ryb3BfY3RybCA/ICdzdGF0aWMnIDogdHJ1ZSksIGtleWJvYXJkOiBmYWxzZX0pXG4gICAgICAgICAgICAub24oJ3Nob3duLmJzLm1vZGFsJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmKG9wdGlvbnMudGltZXIpe1xuICAgICAgICAgICAgICAgICAgICBvcHQubW9kYWxfY2xvc2UgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiLm1vZGFsXCIpLm1vZGFsKFwiaGlkZVwiKVxuICAgICAgICAgICAgICAgICAgICB9LCBvcHRpb25zLnRpbWVyKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAub24oJ2NsaWNrJywgJy5tb2RhbF9jYWxsYmFjaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmKG9wdGlvbnMuY2FsbGJhY2spe1xuICAgICAgICAgICAgICAgICAgICBidXR0b25zLmFkZExvYWRlcih7aWQgOiAkKHRoaXMpfSk7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgaWYoJ2NiX2Nsb3NlJyBpbiBvcHRpb25zKSAkKFwiLm1vZGFsXCIpLm1vZGFsKFwiaGlkZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYoJ29uQ2xvc2VkJyBpbiBvcHRpb25zKSBvcHRpb25zLm9uQ2xvc2VkKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5vbignaGlkZGVuLmJzLm1vZGFsJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwob3B0Lm1vZGFsX2Nsb3NlKTtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIGlmKG9wdGlvbnMudW5sb2NrX2J1dHRvbnMpIGJ1dHRvbnMucmVtb3ZlTG9hZGVyKCk7XG4gICAgICAgICAgICAgICAgaWYoJ29uQ2xvc2VkJyBpbiBvcHRpb25zKSBvcHRpb25zLm9uQ2xvc2VkKCk7XG4gICAgICAgICAgICAgICAgaWYob3B0Lm1vZGFsX3F1ZXVlLmxlbmd0aCl7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0cy5Nb2RhbChvcHQubW9kYWxfcXVldWVbMF0pO1xuICAgICAgICAgICAgICAgICAgICBvcHQubW9kYWxfcXVldWUuc2hpZnQoKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYoJ29uUmVhZHknIGluIG9wdGlvbnMpIG9wdGlvbnMub25SZWFkeSgpXG4gICAgICAgIH0sXG4gICAgICAgIGZpbGxNb2RhbCA6IGZ1bmN0aW9uKGFyZyl7XG4gICAgICAgICAgICAkKFwiI21vZGFsX2NiX2J0blwiKS5zaG93KCk7XG4gICAgICAgICAgICAkKFwiI2JvZHlfbW9kYWxcIikuaHRtbCgoXCJsb2FkZXJcIiBpbiBhcmcgPyBhbGVydHMubG9hZGVyKHRydWUpIDogYXJnLmJvZHkpKTtcbiAgICAgICAgICAgIGlmKFwidGl0bGVcIiBpbiBhcmcpICQoXCIjdGl0bGVfbW9kYWxcIikuaHRtbChhcmcudGl0bGUpO1xuICAgICAgICAgICAgaWYoXCJub19jbG9zZVwiIGluIGFyZykgJChcIi5tb2RDbG9zZSwgLm1vZGFsLWZvb3RlclwiKS5yZW1vdmUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgLy9HbG9iYWwgYWxlcnQgcG9wdXBcbiAgICAgICAgLy8gTWVzc2VuZ2VyLmFsZXJ0KCkuQWxlcnQoe1xuICAgICAgICAvLyAgICAgY2xvc2UgOiBmYWxzZSwgICAgICAgICAgIC8vRGVmYXVsdCwgc2V0IHRydWUgdG8gY2xvc2UgYWxsIG9wZW4gYWxlcnRzIGJlZm9yZSBzaG93aW5nIHRoZSBuZXh0IGluY2x1ZGluZyBtb2RhbHNcbiAgICAgICAgLy8gICAgIHRpdGxlIDogJ0FsZXJ0JywgICAgICAgICAvL0RlZmF1bHQsIHNldCB0aXRsZSBvZiBhbGVydFxuICAgICAgICAvLyAgICAgdGhlbWUgOiAnc3VjY2VzcycsICAgICAgIC8vRGVmYXVsdCwgYm9vdHN0cmFwIHRoZW1lIHByZWZpeCAoZGFuZ2VyLCBzdWNjZXNzLCBldGMpIC8gTWF5IHVzZSBzdWNjZXNzLCBpbmZvLCB3YXJuaW5nLCBvciBlcnJvciBpcyB1c2luZyB0b2FzdFxuICAgICAgICAvLyAgICAgaWNvbiA6ICdpbmZvLXNpZ24nLCAgICAgIC8vRGVmYXVsdCwgaGVhZGVyIEZvbnQgQXdlc29tZSBpY29uLCB1c2UgRkEgc3VmZml4XG4gICAgICAgIC8vICAgICB0aW1lciA6IDUwMDAsICAgICAgICAgICAgLy9EZWZhdWx0LCBzZXQgdGltZSB1bnRpbCBhdXRvIGNsb3NlLiBTZXQgZmFsc2UgdG8gbm90IGF1dG8gY2xvc2VcbiAgICAgICAgLy8gICAgIGJvZHkgOiAnYm9keScgICAgICAgICAgICAvL05vdCBzZXQsIGRlZmluZSB5b3VyIGFsZXJ0IGNvbnRlbnQgaGVyZVxuICAgICAgICAvLyAgICAgdG9hc3QgOiBmYWxzZSAgICAgICAgICAgIC8vSWYgdHJ1ZSwgd2UgdXNlIHRvYXN0ciBpbnN0ZWFkIG9mIGJvb3RzdHJhcCBhbGVydCBhbmQgdGhlIGFkZGVkIG9wdGlvbnMgYmVsb3dcbiAgICAgICAgLy8gICAgIGNsb3NlX3RvYXN0IDogZmFsc2UgICAgICAvL0lmIHRydWUsIHdlIGNsb3NlIG90aGVyIHRvYXN0IGJlZm9yZSBzaG93aW5nIHRoaXNcbiAgICAgICAgLy8gICAgIHRvYXN0X29wdGlvbnMgOiB7ICAgICAgICAvL0RlZmF1bHQgb3B0aW9ucyBmb3IgdG9hc3RyLCBvdmVycmlkZSBnbG9iYWxzIGhlcmVcbiAgICAgICAgLy8gICAgICAgICBodHRwczovL2dpdGh1Yi5jb20vQ29kZVNldmVuL3RvYXN0ciBmb3IgZG9jc1xuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvLyB9KTtcbiAgICAgICAgQWxlcnQgOiBmdW5jdGlvbihhcmcpe1xuICAgICAgICAgICAgbGV0IGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgICAgIGNsb3NlIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgdGl0bGUgOiAnQWxlcnQnLFxuICAgICAgICAgICAgICAgIHRoZW1lIDogJ3N1Y2Nlc3MnLFxuICAgICAgICAgICAgICAgIGljb24gOiAnaW5mby1jaXJjbGUnLFxuICAgICAgICAgICAgICAgIGJvZHkgOiAnJyxcbiAgICAgICAgICAgICAgICB0aW1lciA6IDUwMDAsXG4gICAgICAgICAgICAgICAgdG9hc3QgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBjbG9zZV90b2FzdCA6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHRvYXN0X29wdGlvbnMgOiB7fVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0cywgYXJnKSxcbiAgICAgICAgICAgIG1vZGFsID0gJChcIi5tb2RhbFwiKTtcbiAgICAgICAgICAgIGlmKG9wdGlvbnMudG9hc3Qpe1xuICAgICAgICAgICAgICAgIGlmKG9wdGlvbnMuY2xvc2Upe1xuICAgICAgICAgICAgICAgICAgICBtb2RhbC5tb2RhbChcImhpZGVcIik7XG4gICAgICAgICAgICAgICAgICAgICQoXCIuYWxlcnRcIikucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbnMucmVtb3ZlTG9hZGVyKClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYob3B0aW9ucy5jbG9zZV90b2FzdCkgdG9hc3RyLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIHRvYXN0cltvcHRpb25zLnRoZW1lXShvcHRpb25zLmJvZHksIG9wdGlvbnMudGl0bGUsIG9wdGlvbnMudG9hc3Rfb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnV0dG9ucy5yZW1vdmVMb2FkZXIoKTtcbiAgICAgICAgICAgIG1vZGFsLm1vZGFsKFwiaGlkZVwiKTtcbiAgICAgICAgICAgIGlmKG9wdGlvbnMuY2xvc2UpICQoXCIuYWxlcnRcIikucmVtb3ZlKCk7XG4gICAgICAgICAgICBsZXQgYWxlcnQgPSAkKCc8ZGl2IG9uY2xpY2s9XCIkKHRoaXMpLnJlbW92ZSgpXCIgcm9sZT1cImFsZXJ0XCIgY2xhc3M9XCJwb2ludGVyX2FyZWEgYWxlcnQgYWxlcnQtJytvcHRpb25zLnRoZW1lKycgYWxlcnQtZGlzbWlzc2FibGUgTlMgZmFkZSBzaG93IG1iLTJcIj48YnV0dG9uIGRhdGEtZGlzbWlzcz1cImFsZXJ0XCIgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiY2xvc2VcIj48aSBjbGFzcz1cImZhcyBmYS10aW1lc1wiPjwvaT48L2J1dHRvbj4nICtcbiAgICAgICAgICAgICAgICAnPHN0cm9uZz48aSBjbGFzcz1cImZhcyBmYS0nK29wdGlvbnMuaWNvbisnXCI+PC9pPiAnK29wdGlvbnMudGl0bGUrJzo8L3N0cm9uZz4gJytvcHRpb25zLmJvZHkrJzwvZGl2PicpO1xuICAgICAgICAgICAgYWxlcnQucHJlcGVuZFRvKFwiI2FsZXJ0X2NvbnRhaW5lclwiKTtcbiAgICAgICAgICAgIGFsZXJ0LmNzcygnb3BhY2l0eScsICcxJykuc2xpZGVEb3duKDMwMCwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBpZihvcHRpb25zLnRpbWVyKXtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQucmVtb3ZlKClcbiAgICAgICAgICAgICAgICAgICAgfSwgb3B0aW9ucy50aW1lcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNob3dBdmF0YXIgOiBmdW5jdGlvbiAobmFtZSwgYXZhdGFyKSB7XG4gICAgICAgICAgICBhbGVydHMuTW9kYWwoe1xuICAgICAgICAgICAgICAgIGljb24gOiAnaW1hZ2UnLFxuICAgICAgICAgICAgICAgIHRoZW1lIDogJ2RhcmsnLFxuICAgICAgICAgICAgICAgIHRpdGxlIDogbmFtZSsnXFwncyBQaG90bycsXG4gICAgICAgICAgICAgICAgcHJlX2xvYWRlciA6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbGV0IGltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgICAgaW1nLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGFsZXJ0cy5maWxsTW9kYWwoe1xuICAgICAgICAgICAgICAgICAgICBib2R5IDogJzxkaXYgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPjxpbWcgc3JjPVwiJyt0aGlzLnNyYysnXCIgY2xhc3M9XCJpbWctZmx1aWQgcm91bmRlZFwiIC8+PC9kaXY+J1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGltZy5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgYWxlcnRzLmZpbGxNb2RhbCh7XG4gICAgICAgICAgICAgICAgICAgIGJvZHkgOiAnPGRpdiBjbGFzcz1cInRleHQtY2VudGVyXCI+PHNwYW4gY2xhc3M9XCJiYWRnZSBiYWRnZS1waWxsIGJhZGdlLWRhbmdlclwiPkltYWdlIGZhaWxlZCB0byBsb2FkLjwvc3Bhbj48L2Rpdj4nXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaW1nLnNyYyA9IGF2YXRhcjtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgWEhSID0ge1xuICAgICAgICAvL0dsb2JhbCBwb3N0L3JlcXVlc3QgZnVuY3Rpb24gdXNpbmcgYXhpb3NcbiAgICAgICAgLy8gTWVzc2VuZ2VyLnhocigpLnBheWxvYWQoe1xuICAgICAgICAvLyAgICAgcm91dGUgOiAnL3Bvc3QvaGVyZScsICAgICAgICAgICAgLy8oUmVxdWlyZWQpU2V0IHRoZSBVUkkgdG8gcG9zdCB0b1xuICAgICAgICAvLyAgICAgZGF0YSA6IHtcbiAgICAgICAgLy8gICAgICAgICAgaW5wdXQgOiAnZGF0YScgICAgICAgICAgICAgIC8vKFJlcXVpcmVkKWRhdGEgaXMgYW4gb2JqZWN0IG9mIGFsbCBkYXRhIHRvIHBvc3QgdG8gVVJJXG4gICAgICAgIC8vICAgICB9LFxuICAgICAgICAvLyAgICAgZXhwb3J0cyA6IHsgICAgICAgICAgICAgICAgICAgICAgLy8oTm90IFJlcXVpcmVkKWlmIHNldCwgaXQgd2lsbCBzZW5kIGRhdGEgdGhlcmUgaW5zdGVhZFxuICAgICAgICAvLyAgICAgICAgICBuYW1lIDogJ01hbmFnZXJOYW1lJywgICAgICAgLy9NYW5hZ2VyIHRvIGNhbGwgYnkgbmFtZSBzdHJpbmdcbiAgICAgICAgLy8gICAgICAgICAgc3ViIDogJ1N1YkZ1bmN0aW9uTmFtZScgICAgIC8vTWFuYWdlciBzdWIgZnVuY3Rpb24gdG8gY2FsbCBieSBuYW1lIHN0cmluZ1xuICAgICAgICAvLyAgICAgfSxcbiAgICAgICAgLy8gICAgIHNoYXJlZCA6IHsgICAgICAgICAgICAgICAgICAgICAgIC8vKE5vdCBSZXF1aXJlZClJZiBzZXQsIG9uIHN1Y2Nlc3MgdGhpcyBkYXRhIHdpbGwgYmUgbWVyZ2VkIHdpdGggdGhlXG4gICAgICAgIC8vICAgICAgICAgIGFyZyA6IHRydWUsICAgICAgICAgICAgICAgICAvL3JlY2VpdmVkIGRhdGEgZnJvbSB0aGUgYmFja2VuZFxuICAgICAgICAvLyAgICAgICAgICBtb3JlIDogJ3N0dWZmJ1xuICAgICAgICAvLyAgICAgfSxcbiAgICAgICAgLy8gICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbihyZXNwb25zZSl7ICAgIC8vKE5vdCByZXF1aXJlZCkgT24gc3VjY2Vzcywgd2UgcGFzcyBkYXRhIGFuZCBydW4geW91ciBjYWxscyBpbnNpZGUgc3VjY2VzcyBmdW5jdGlvblxuICAgICAgICAvLyAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSlcbiAgICAgICAgLy8gICAgIH0sXG4gICAgICAgIC8vICAgICBmYWlsIDogZnVuY3Rpb24oZXJyb3IpeyAgICAgICAgICAvLyhOb3QgUmVxdWlyZWQpIGlmIHRoZSBwb3N0IGZhaWxzLCBpdCB3aWxsIGJ5IGRlZmF1bHQgcGFzcyB0aGUgZXJyb3IgbXNnIHRvIHRoZSBoYW5kbGVyIHBvcHVwXG4gICAgICAgIC8vICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsgICAgICAgICAvL0lmIHlvdSBzZXQgdGhpcyBmdW5jdGlvbiwgaXQgd2lsbCBpbnN0ZWFkIHBhc3MgeW91IHRoZSBlcnJvciBmb3IgeW91IHRvIGhhbmRsZVxuICAgICAgICAvLyAgICAgICAgICBkb1NvbWV0aGluZygpO1xuICAgICAgICAvLyAgICAgfSxcbiAgICAgICAgLy8gICAgIGJ5cGFzcyA6IHRydWUgICAgICAgICAgICAgICAgICAgIC8vKE5vdCBSZXF1aXJlZCkgLSBTZXQgdHJ1ZSBpZiB5b3Ugd2lzaCB0byB1c2UgeW91ciBvd24gZmFpbCBtZXRob2Qgd2hpbGUgY29udGludWluZ1xuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90byBhbGxvdyB0aGUgaGFuZGxlciB0byBwb3B1cCB0aGUgZXJyb3IgbWVzc2FnZVxuICAgICAgICAvLyAgICAgZmFpbF9hbGVydCA6IHRydWUgICAgICAgICAgICAgICAgLy8oTm90IFJlcXVpcmVkKSAtIFNldCB0cnVlIGlmIHlvdSB3YW50IGVycm9yIHRvIGJlIGluIGFsZXJ0IGFuZCBub3QgbW9kYWxcbiAgICAgICAgLy8gICAgIGNsb3NlX21vZGFsIDogdHJ1ZSAgICAgICAgICAgICAgIC8vKE5vdCBSZXF1aXJlZCkgLSBTZXQgdHJ1ZSBpZiB5b3Ugd2lzaCBjbG9zZSBtb2RhbCBvbiBzdWNjZXNzL2ZhaWxcbiAgICAgICAgLy8gICAgIGxvY2tvdXQgOiB0cnVlICAgICAgICAgICAgICAgICAgIC8vKE5vdCBSZXF1aXJlZCkgLSBTZXQgdHJ1ZSB0byBsb2Nrb3V0IGFsbCBmdXJ0aGVyIHBvc3QvZ2V0cyB3aGVuIGNhbGxlZFxuICAgICAgICAvLyB9KTtcbiAgICAgICAgcGF5bG9hZCA6IGZ1bmN0aW9uKGFyZywgbWV0aG9kKXtcbiAgICAgICAgICAgIGlmKG9wdC5sb2Nrb3V0KSByZXR1cm47XG4gICAgICAgICAgICBpZihcImxvY2tvdXRcIiBpbiBhcmcpIG9wdC5sb2Nrb3V0ID0gdHJ1ZTtcbiAgICAgICAgICAgIGF4aW9zW21ldGhvZCA/IG1ldGhvZCA6ICdwb3N0J10oYXJnLnJvdXRlLGFyZy5kYXRhKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgbWV0aG9kcy5Mb2NrU21pdGgoKTtcbiAgICAgICAgICAgICAgICBQYWdlTGlzdGVuZXJzLmxpc3RlbigpLmRpc3Bvc2VUb29sdGlwcygpO1xuICAgICAgICAgICAgICAgIGlmKCdjbG9zZV9tb2RhbCcgaW4gYXJnKSBhbGVydHMuZGVzdHJveU1vZGFsKCk7XG4gICAgICAgICAgICAgICAgaWYoJ2V4cG9ydHMnIGluIGFyZyl7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvd1thcmcuZXhwb3J0cy5uYW1lXVthcmcuZXhwb3J0cy5zdWJdKE9iamVjdC5hc3NpZ24ocmVzcG9uc2UuZGF0YSwgYXJnLmV4cG9ydHMpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZignc3VjY2VzcycgaW4gYXJnICYmIHR5cGVvZiBhcmcuc3VjY2VzcyA9PT0gJ2Z1bmN0aW9uJyl7XG4gICAgICAgICAgICAgICAgICAgIGlmKCdzaGFyZWQnIGluIGFyZyl7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcuc3VjY2VzcyhPYmplY3QuYXNzaWduKHJlc3BvbnNlLmRhdGEsIGFyZy5zaGFyZWQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhcmcuc3VjY2VzcyhyZXNwb25zZS5kYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGlmKG9wdC5lbnYgPT09ICdsb2NhbCcpe1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLnRyYWNlKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0cnl7XG4gICAgICAgICAgICAgICAgICAgIGlmKGVycm9yICYmIFwicmVzcG9uc2VcIiBpbiBlcnJvciAmJiBbNDE4LCA1MDIsIDUwNF0uaW5jbHVkZXMoZXJyb3IucmVzcG9uc2Uuc3RhdHVzKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGUuZmlsbFRlYXBvdCgncGF5bG9hZCcsIGFyZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9Y2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgUGFnZUxpc3RlbmVycy5saXN0ZW4oKS5kaXNwb3NlVG9vbHRpcHMoKTtcbiAgICAgICAgICAgICAgICBtZXRob2RzLkxvY2tTbWl0aCgpO1xuICAgICAgICAgICAgICAgIGJ1dHRvbnMucmVtb3ZlTG9hZGVyKCk7XG4gICAgICAgICAgICAgICAgaWYoJ2Nsb3NlX21vZGFsJyBpbiBhcmcpIGFsZXJ0cy5kZXN0cm95TW9kYWwoKTtcbiAgICAgICAgICAgICAgICBpZihcImxvY2tvdXRcIiBpbiBhcmcpIG9wdC5sb2Nrb3V0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYoJ2ZhaWwnIGluIGFyZyl7XG4gICAgICAgICAgICAgICAgICAgIGlmKHR5cGVvZiBhcmcuZmFpbCA9PT0gJ2Z1bmN0aW9uJykgYXJnLmZhaWwoZXJyb3IucmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICBpZighKCdieXBhc3MnIGluIGFyZykpIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaGFuZGxlLnhockVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA6ICgnZmFpbF9hbGVydCcgaW4gYXJnICYmIGFyZy5mYWlsX2FsZXJ0ID8gMiA6IDEpLFxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA6IGVycm9yLnJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICBmYWlsX2tlZXBfb3BlbiA6ICdmYWlsX2tlZXBfb3BlbicgaW4gYXJnXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVxdWVzdCA6IGZ1bmN0aW9uKGFyZyl7XG4gICAgICAgICAgICBpZihvcHQubG9ja291dCkgcmV0dXJuO1xuICAgICAgICAgICAgaWYoXCJsb2Nrb3V0XCIgaW4gYXJnKSBvcHQubG9ja291dCA9IHRydWU7XG4gICAgICAgICAgICBheGlvcy5nZXQoYXJnLnJvdXRlKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgUGFnZUxpc3RlbmVycy5saXN0ZW4oKS5kaXNwb3NlVG9vbHRpcHMoKTtcbiAgICAgICAgICAgICAgICBpZignY2xvc2VfbW9kYWwnIGluIGFyZykgYWxlcnRzLmRlc3Ryb3lNb2RhbCgpO1xuICAgICAgICAgICAgICAgIG1ldGhvZHMuTG9ja1NtaXRoKCk7XG4gICAgICAgICAgICAgICAgaWYoJ2V4cG9ydHMnIGluIGFyZyl7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvd1thcmcuZXhwb3J0cy5uYW1lXVthcmcuZXhwb3J0cy5zdWJdKE9iamVjdC5hc3NpZ24ocmVzcG9uc2UuZGF0YSwgYXJnLmV4cG9ydHMpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZignc3VjY2VzcycgaW4gYXJnICYmIHR5cGVvZiBhcmcuc3VjY2VzcyA9PT0gJ2Z1bmN0aW9uJyl7XG4gICAgICAgICAgICAgICAgICAgIGlmKCdzaGFyZWQnIGluIGFyZyl7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcuc3VjY2VzcyhPYmplY3QuYXNzaWduKHJlc3BvbnNlLmRhdGEsIGFyZy5zaGFyZWQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhcmcuc3VjY2VzcyhyZXNwb25zZS5kYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGlmKG9wdC5lbnYgPT09ICdsb2NhbCcpe1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLnRyYWNlKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0cnl7XG4gICAgICAgICAgICAgICAgICAgIGlmKGVycm9yICYmIFwicmVzcG9uc2VcIiBpbiBlcnJvciAmJiBbNDE4LCA1MDIsIDUwNF0uaW5jbHVkZXMoZXJyb3IucmVzcG9uc2Uuc3RhdHVzKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGUuZmlsbFRlYXBvdCgncmVxdWVzdCcsIGFyZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9Y2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgUGFnZUxpc3RlbmVycy5saXN0ZW4oKS5kaXNwb3NlVG9vbHRpcHMoKTtcbiAgICAgICAgICAgICAgICBtZXRob2RzLkxvY2tTbWl0aCgpO1xuICAgICAgICAgICAgICAgIGJ1dHRvbnMucmVtb3ZlTG9hZGVyKCk7XG4gICAgICAgICAgICAgICAgaWYoJ2Nsb3NlX21vZGFsJyBpbiBhcmcpIGFsZXJ0cy5kZXN0cm95TW9kYWwoKTtcbiAgICAgICAgICAgICAgICBpZihcImxvY2tvdXRcIiBpbiBhcmcpIG9wdC5sb2Nrb3V0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYoJ2ZhaWwnIGluIGFyZyl7XG4gICAgICAgICAgICAgICAgICAgIGlmKHR5cGVvZiBhcmcuZmFpbCA9PT0gJ2Z1bmN0aW9uJykgYXJnLmZhaWwoZXJyb3IucmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICBpZighKCdieXBhc3MnIGluIGFyZykpIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaGFuZGxlLnhockVycm9yKHt0eXBlIDogKCdmYWlsX2FsZXJ0JyBpbiBhcmcgJiYgYXJnLmZhaWxfYWxlcnQgPyAyIDogMSksIHJlc3BvbnNlIDogZXJyb3IucmVzcG9uc2V9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBzY3JpcHQgOiBmdW5jdGlvbihhcmcpe1xuICAgICAgICAgICAgaWYoIW9wdC5pbml0aWFsaXplZCkgcmV0dXJuO1xuICAgICAgICAgICAgaWYob3B0LmxvY2tvdXQpIHJldHVybjtcbiAgICAgICAgICAgIGlmKFwibG9ja291dFwiIGluIGFyZykgb3B0LmxvY2tvdXQgPSB0cnVlO1xuICAgICAgICAgICAgYXhpb3MuZ2V0KGFyZy5maWxlKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBtZXRob2RzLmFkZFNjcmlwdHMocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIG9wdC5tb2R1bGVzLnB1c2goYXJnLm5hbWUpO1xuICAgICAgICAgICAgICAgIGlmKFwic3VjY2Vzc1wiIGluIGFyZykgYXJnLnN1Y2Nlc3MoYXJnKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZihvcHQuZW52ID09PSAnbG9jYWwnKXtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS50cmFjZSgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0ZhaWxlZCB0byBsb2FkICcrYXJnLmZpbGUpO1xuICAgICAgICAgICAgICAgIGlmKFwiZmFpbFwiIGluIGFyZykgYXJnLmZhaWwoKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIGxvY2tvdXQgOiBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgICAgIG9wdC5sb2Nrb3V0ID0gc3RhdGVcbiAgICAgICAgfVxuICAgIH0sXG4gICAgaGFuZGxlID0ge1xuICAgICAgICBmaWxsVGVhcG90IDogZnVuY3Rpb24oZmxhdm9yLCB0ZWEpe1xuICAgICAgICAgICAgaWYob3B0LnRlYXBvdCA+IDQpe1xuICAgICAgICAgICAgICAgIGhhbmRsZS54aHJFcnJvcigpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdC50ZWFwb3QrKztcbiAgICAgICAgICAgIFhIUltmbGF2b3JdKHRlYSlcbiAgICAgICAgfSxcbiAgICAgICAgeGhyRXJyb3IgOiBmdW5jdGlvbihhcmcpe1xuICAgICAgICAgICAgJCgnYm9keScpLmZpbmQoXCIuYnRuXCIpLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpO1xuICAgICAgICAgICAgbGV0IGVyck1lc3NhZ2VzID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBzd2l0Y2goTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogTWF0aC5mbG9vcigzKSkpe1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiAnWW91ciByZXF1ZXN0IGhhcyBlbmNvdW50ZXJlZCBhbiBlcnJvci4gV2UgaGF2ZSBiZWVuIG1hZGUgYXdhcmUgb2YgdGhpcyBpc3N1ZSc7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTogcmV0dXJuICdJdCBzZWVtcyB3ZSBhcmUgaGF2aW5nIHRyb3VibGUgcHJvY2Vzc2luZyB5b3VyIHJlcXVlc3QuIE91ciB0ZWFtIGhhcyBiZWVuIG5vdGlmaWVkJztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOiByZXR1cm4gJ1NvbWV0aGluZyB3ZW50IHdyb25nLiBXZSBhcmUgc29ycnkgYWJvdXQgdGhhdCwgb3VyIHRlYW0gaGFzIGJlZW4gaW5mb3JtZWQgb2YgdGhlIHNpdHVhdGlvbic7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVyclRvYXN0ID0gZnVuY3Rpb24oYm9keSwgY2xvc2Upe1xuICAgICAgICAgICAgICAgIGFsZXJ0cy5BbGVydCh7XG4gICAgICAgICAgICAgICAgICAgIGNsb3NlX3RvYXN0IDogY2xvc2UsXG4gICAgICAgICAgICAgICAgICAgIGNsb3NlIDogIWFyZy5mYWlsX2tlZXBfb3BlbixcbiAgICAgICAgICAgICAgICAgICAgdG9hc3QgOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB0aGVtZSA6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlIDogYm9keVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyTW9kYWwgPSBmdW5jdGlvbihib2R5KXtcbiAgICAgICAgICAgICAgICBhbGVydHMuTW9kYWwoe1xuICAgICAgICAgICAgICAgICAgICB0aGVtZSA6ICdkYW5nZXInLFxuICAgICAgICAgICAgICAgICAgICBpY29uIDogJ3RpbWVzJyxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGUgOiAnRXJyb3InLFxuICAgICAgICAgICAgICAgICAgICBib2R5IDogYm9keVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYnV0dG9ucy5yZW1vdmVMb2FkZXIoKTtcbiAgICAgICAgICAgIGlmKCFhcmcgfHwgYXJnICYmIHR5cGVvZiBhcmcucmVzcG9uc2UgPT09ICd1bmRlZmluZWQnKXtcbiAgICAgICAgICAgICAgICBlcnJUb2FzdChlcnJNZXNzYWdlcygpLCB0cnVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihhcmcucmVzcG9uc2Uuc3RhdHVzID09PSA0MTMpe1xuICAgICAgICAgICAgICAgIGVyclRvYXN0KCdGaWxlIHVwbG9hZCB0b28gbGFyZ2UnLCB0cnVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihhcmcucmVzcG9uc2Uuc3RhdHVzID09PSA1MDApe1xuICAgICAgICAgICAgICAgIGVyclRvYXN0KGVyck1lc3NhZ2VzKCksIHRydWUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHR5cGVvZiBhcmcucmVzcG9uc2UuZGF0YSA9PT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAgICAgICAgICAgICB0eXBlb2YgYXJnLnJlc3BvbnNlLmRhdGEubWVzc2FnZSA9PT0gJ3VuZGVmaW5lZCcpe1xuICAgICAgICAgICAgICAgIGVyclRvYXN0KGVyck1lc3NhZ2VzKCksIHRydWUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHR5cGVvZiBhcmcucmVzcG9uc2UuZGF0YS5lcnJvcnMgIT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICAgICAgJiYgdHlwZW9mIGFyZy5yZXNwb25zZS5kYXRhLmVycm9ycyA9PT0gJ29iamVjdCcpe1xuICAgICAgICAgICAgICAgIGxldCB0aGVTdGFjayA9ICc8dWwgY2xhc3M9XCInKyhhcmcudHlwZSA9PT0gMiA/ICdwLTAgbWwtMycgOiAnJykrJ1wiPic7XG4gICAgICAgICAgICAgICAgZm9yKGxldCBmaWVsZCBpbiBhcmcucmVzcG9uc2UuZGF0YS5lcnJvcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhcmcucmVzcG9uc2UuZGF0YS5lcnJvcnMuaGFzT3duUHJvcGVydHkoZmllbGQpKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgYXJnLnJlc3BvbnNlLmRhdGEuZXJyb3JzW2ZpZWxkXS5mb3JFYWNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhlU3RhY2sgKz0gJzxsaT4nICsgZXJyb3IgKyAnPC9saT4nO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGVTdGFjayArPSAnPC91bD4nO1xuICAgICAgICAgICAgICAgIGlmKGFyZy50eXBlID09PSAyKXtcbiAgICAgICAgICAgICAgICAgICAgZXJyVG9hc3QodGhlU3RhY2ssICEoXCJub19jbG9zZVwiIGluIGFyZykpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVyck1vZGFsKHRoZVN0YWNrKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihhcmcudHlwZSA9PT0gMil7XG4gICAgICAgICAgICAgICAgZXJyVG9hc3QoYXJnLnJlc3BvbnNlLmRhdGEubWVzc2FnZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZXJyTW9kYWwoYXJnLnJlc3BvbnNlLmRhdGEubWVzc2FnZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHN3aXRjaENzcyA6IGZ1bmN0aW9uIChkYXJrKXtcbiAgICAgICAgICAgIGxldCBvZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluX2NzcycpLFxuICAgICAgICAgICAgICAgIGhlYWQgID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXSxcbiAgICAgICAgICAgICAgICBsaW5rICA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpbmsnKTtcbiAgICAgICAgICAgIGxpbmsucmVsICA9ICdzdHlsZXNoZWV0JztcbiAgICAgICAgICAgIGxpbmsuaHJlZiA9IChkYXJrID8gb3B0LmNzcy5kYXJrIDogb3B0LmNzcy5iYXNlKTtcbiAgICAgICAgICAgIG9wdC5kYXJrX21vZGUgPSBkYXJrO1xuICAgICAgICAgICAgaGVhZC5wcmVwZW5kKGxpbmspO1xuICAgICAgICAgICAgbGluay5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgb2cucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5pZCA9ICdtYWluX2NzcydcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKG9wdC5tb2R1bGVzLmluY2x1ZGVzKCdFbW9qaVBpY2tlcicpKXtcbiAgICAgICAgICAgICAgICBFbW9qaVBpY2tlci51cGRhdGVUaGVtZXMoZGFyayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGZvcm1zID0ge1xuICAgICAgICB1cGRhdGVTbHVnIDogZnVuY3Rpb24oc2x1Zyl7XG4gICAgICAgICAgICBvcHQuc2x1ZyA9IHNsdWc7XG4gICAgICAgIH0sXG4gICAgICAgIExvZ291dCA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBpZihvcHQucHJvdmlkZXJfbW9kZWwgPT09ICdndWVzdCcpIHJldHVybjtcbiAgICAgICAgICAgIE1lc3Nlbmdlci5hbGVydCgpLk1vZGFsKHtcbiAgICAgICAgICAgICAgICBzaXplIDogJ3NtJyxcbiAgICAgICAgICAgICAgICBpY29uIDogJ3NpZ24tb3V0LWFsdCcsXG4gICAgICAgICAgICAgICAgcHJlX2xvYWRlciA6IHRydWUsXG4gICAgICAgICAgICAgICAgY2VudGVyZWQgOiB0cnVlLFxuICAgICAgICAgICAgICAgIHVubG9ja19idXR0b25zIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgYWxsb3dfY2xvc2UgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBiYWNrZHJvcF9jdHJsIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgdGl0bGU6ICdMb2dnaW5nIG91dCcsXG4gICAgICAgICAgICAgICAgdGhlbWU6ICdwcmltYXJ5J1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZihvcHQubW9kdWxlcy5pbmNsdWRlcygnTm90aWZ5TWFuYWdlcicpKSBOb3RpZnlNYW5hZ2VyLnNvY2tldHMoKS5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICBYSFIucGF5bG9hZCh7XG4gICAgICAgICAgICAgICAgcm91dGUgOiAnL2xvZ291dCcsXG4gICAgICAgICAgICAgICAgZGF0YSA6IHt9LFxuICAgICAgICAgICAgICAgIGxvY2tvdXQgOiB0cnVlLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlcGxhY2UoJy8nKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmFpbCA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW5pdCA6IG1ldGhvZHMuSW5pdGlhbGl6ZSxcbiAgICAgICAgaXNQcm92aWRlciA6IG1ldGhvZHMuaXNQcm92aWRlcixcbiAgICAgICAgY29tbW9uIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgQVBQX05BTUUgOiBvcHQuQVBQX05BTUUsXG4gICAgICAgICAgICAgICAgQVBJIDogb3B0LkFQSSxcbiAgICAgICAgICAgICAgICBXRUIgOiBvcHQuV0VCLFxuICAgICAgICAgICAgICAgIFNPQ0tFVCA6IG9wdC5TT0NLRVQsXG4gICAgICAgICAgICAgICAgU09DS0VUX1BVU0hFUiA6IG9wdC5TT0NLRVRfUFVTSEVSLFxuICAgICAgICAgICAgICAgIFNPQ0tFVF9LRVkgOiBvcHQuU09DS0VUX0tFWSxcbiAgICAgICAgICAgICAgICBTT0NLRVRfQVVUSF9FTkRQT0lOVCA6IG9wdC5TT0NLRVRfQVVUSF9FTkRQT0lOVCxcbiAgICAgICAgICAgICAgICBTT0NLRVRfUE9SVCA6IG9wdC5TT0NLRVRfUE9SVCxcbiAgICAgICAgICAgICAgICBTT0NLRVRfVExTIDogb3B0LlNPQ0tFVF9UTFMsXG4gICAgICAgICAgICAgICAgU09DS0VUX0NMVVNURVIgOiBvcHQuU09DS0VUX0NMVVNURVIsXG4gICAgICAgICAgICAgICAgcHJvdmlkZXJfYWxpYXMgOiBvcHQucHJvdmlkZXJfYWxpYXMsXG4gICAgICAgICAgICAgICAgcHJvdmlkZXJfaWQgOiBvcHQucHJvdmlkZXJfaWQsXG4gICAgICAgICAgICAgICAgcHJvdmlkZXJfbW9kZWwgOiBvcHQucHJvdmlkZXJfbW9kZWwsXG4gICAgICAgICAgICAgICAgbmFtZSA6IG9wdC5uYW1lLFxuICAgICAgICAgICAgICAgIHNsdWcgOiBvcHQuc2x1ZyxcbiAgICAgICAgICAgICAgICBhdmF0YXJfbWQgOiBvcHQuYXZhdGFyX21kLFxuICAgICAgICAgICAgICAgIGF2YXRhcl9zbSA6IG9wdC5hdmF0YXJfc20sXG4gICAgICAgICAgICAgICAgbW9kdWxlcyA6IG9wdC5tb2R1bGVzLFxuICAgICAgICAgICAgICAgIG1vYmlsZSA6IG9wdC5tb2JpbGUsXG4gICAgICAgICAgICAgICAgY3NyZl90b2tlbjogb3B0LmNzcmZfdG9rZW4sXG4gICAgICAgICAgICAgICAgd2Vic29ja2V0cyA6IG9wdC53ZWJzb2NrZXRzLFxuICAgICAgICAgICAgICAgIGRhcmtfbW9kZSA6IG9wdC5kYXJrX21vZGUsXG4gICAgICAgICAgICAgICAgZW52IDogb3B0LmVudlxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgeGhyIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIFhIUlxuICAgICAgICB9LFxuICAgICAgICBoYW5kbGUgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZVxuICAgICAgICB9LFxuICAgICAgICBidXR0b24gOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIGJ1dHRvbnNcbiAgICAgICAgfSxcbiAgICAgICAgYWxlcnQgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIGFsZXJ0c1xuICAgICAgICB9LFxuICAgICAgICBmb3JtcyA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gZm9ybXNcbiAgICAgICAgfSxcbiAgICAgICAgZm9ybWF0IDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXRcbiAgICAgICAgfSxcbiAgICAgICAgdG9rZW4gOiBtZXRob2RzLmNoZWNrQ3NyZlRva2VuXG4gICAgfTtcbn0oKSk7Il0sIm5hbWVzIjpbIndpbmRvdyIsIk1lc3NlbmdlciIsIm9wdCIsImluaXRpYWxpemVkIiwiQVBQX05BTUUiLCJBUEkiLCJXRUIiLCJTT0NLRVQiLCJTT0NLRVRfUFVTSEVSIiwiU09DS0VUX0tFWSIsIlNPQ0tFVF9BVVRIX0VORFBPSU5UIiwiU09DS0VUX1BPUlQiLCJTT0NLRVRfQ0xVU1RFUiIsIlNPQ0tFVF9UTFMiLCJlbnYiLCJ3ZWJzb2NrZXRzIiwibG9ja291dCIsIm1vZGVsIiwiYXV0aCIsInByb3ZpZGVyX2lkIiwicHJvdmlkZXJfYWxpYXMiLCJwcm92aWRlcl9tb2RlbCIsIm5hbWUiLCJzbHVnIiwiYXZhdGFyX21kIiwiYXZhdGFyX3NtIiwibW9iaWxlIiwidGVhcG90IiwibW9kYWxfY2xvc2UiLCJkYXJrX21vZGUiLCJjc3MiLCJiYXNlIiwiZGFyayIsImNzcmZfdG9rZW4iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwibW9kdWxlcyIsIm1vZGFsX3F1ZXVlIiwibWV0aG9kcyIsIkluaXRpYWxpemUiLCJhcmciLCJlbnZpcm9ubWVudCIsInByb3ZpZGVyIiwiaWQiLCJhbGlhcyIsImNvbW1vbiIsImFwaV9lbmRwb2ludCIsIndlYl9lbmRwb2ludCIsInNvY2tldF9lbmRwb2ludCIsInNvY2tldF9wdXNoZXIiLCJzb2NrZXRfa2V5Iiwic29ja2V0X2F1dGhfZW5kcG9pbnQiLCJzb2NrZXRfcG9ydCIsInNvY2tldF90bHMiLCJzb2NrZXRfY2x1c3RlciIsImFwcF9uYW1lIiwiYmFzZV9jc3MiLCJkYXJrX2NzcyIsIkNhbGxNYW5hZ2VyIiwiaW5pdCIsImNhbGwiLCJQYWdlTGlzdGVuZXJzIiwia2V5IiwibG9hZCIsImhhc093blByb3BlcnR5IiwibG9hZE1vZHVsZSIsImxpc3RlbiIsInRvb2x0aXBzIiwib2JqIiwiaW5pdE1vZHVsZSIsIm9wdGlvbnMiLCJYSFIiLCJzY3JpcHQiLCJmaWxlIiwic3JjIiwic3VjY2VzcyIsImUiLCJjb25zb2xlIiwibG9nIiwianMiLCJpbmNsdWRlcyIsInB1c2giLCJMb2NrU21pdGgiLCJmb3JFYWNoIiwibG9jayIsImFkZFNjcmlwdHMiLCJqc0ZpbGUiLCJzIiwiY3JlYXRlRWxlbWVudCIsInR5cGUiLCJhcHBlbmRDaGlsZCIsImNyZWF0ZVRleHROb2RlIiwiZGF0YSIsImJvZHkiLCJjaGVja0NzcmZUb2tlbiIsInRva2VuIiwiTGFyYXZlbCIsImNzcmZUb2tlbiIsImF4aW9zIiwiZGVmYXVsdHMiLCJoZWFkZXJzIiwiaXNQcm92aWRlciIsInJlcGxhY2UiLCJmb3JtYXQiLCJtYWtlSHVtYW5UaW1lIiwiZGF0ZSIsImRheWpzIiwibWFrZVRpbWVBZ28iLCJmcm9tTm93IiwiZXNjYXBlSHRtbCIsInRleHQiLCJtYXAiLCJtIiwiZm9jdXNFbmQiLCJlbG0iLCJmb2N1cyIsInZhbHVlIiwic2V0U2VsZWN0aW9uUmFuZ2UiLCJsZW5ndGgiLCJ0aW1lRGlmZkluVW5pdCIsImRhdGUxIiwiZGF0ZTIiLCJ1bml0IiwiZDEiLCJkMiIsImRpZmYiLCJjb3B5VGV4dCIsImJ0bklEIiwiaW5wdXRJRCIsImlucHV0IiwiZ2V0RWxlbWVudEJ5SWQiLCJidG4iLCIkIiwic2VsZWN0IiwiZXhlY0NvbW1hbmQiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwiaHRtbCIsInNldFRpbWVvdXQiLCJzaG9ydGNvZGVUb0ltYWdlIiwiam95cGl4ZWxzIiwidG9JbWFnZSIsInNob3J0Y29kZVRvVW5pY29kZSIsInNob3J0bmFtZVRvVW5pY29kZSIsImJ1dHRvbnMiLCJhZGRMb2FkZXIiLCJidXR0b24iLCJhcHBlbmQiLCJwcm9wIiwic3BpbkFjdGlvbiIsImRpc2FibGVkIiwiZmluZCIsInJlbW92ZUxvYWRlciIsInJlbW92ZSIsImFsZXJ0cyIsImxvYWRlciIsImdyb3ciLCJkZXN0cm95TW9kYWwiLCJNb2RhbCIsIm1vZGFsX2JhY2tkcm9wIiwibW9kYWwiLCJ0aXRsZSIsImFsbG93X2Nsb3NlIiwidW5sb2NrX2J1dHRvbnMiLCJjbG9zZV9idG4iLCJ0aGVtZSIsImljb24iLCJjYWxsYmFjayIsInNpemUiLCJoNCIsImJhY2tkcm9wX2N0cmwiLCJvdmVyZmxvdyIsImNsb3NlX2J0bl90eHQiLCJwcmVfbG9hZGVyIiwiY2VudGVyZWQiLCJ0aW1lciIsImRpc3Bvc2VUb29sdGlwcyIsIk9iamVjdCIsImFzc2lnbiIsImJvdHRvbSIsImNiX2J0bl90aGVtZSIsImNiX2J0bl9pY29uIiwiY2JfYnRuX3R4dCIsInRlbXBsYXRlIiwiYmFja2Ryb3AiLCJrZXlib2FyZCIsIm9uIiwib25DbG9zZWQiLCJjbGVhckludGVydmFsIiwic2hpZnQiLCJvblJlYWR5IiwiZmlsbE1vZGFsIiwic2hvdyIsIkFsZXJ0IiwiY2xvc2UiLCJ0b2FzdCIsImNsb3NlX3RvYXN0IiwidG9hc3Rfb3B0aW9ucyIsInRvYXN0ciIsImFsZXJ0IiwicHJlcGVuZFRvIiwic2xpZGVEb3duIiwic2hvd0F2YXRhciIsImF2YXRhciIsImltZyIsIkltYWdlIiwib25sb2FkIiwib25lcnJvciIsInBheWxvYWQiLCJtZXRob2QiLCJyb3V0ZSIsInRoZW4iLCJyZXNwb25zZSIsImV4cG9ydHMiLCJzdWIiLCJzaGFyZWQiLCJlcnJvciIsInRyYWNlIiwic3RhdHVzIiwiaGFuZGxlIiwiZmlsbFRlYXBvdCIsImZhaWwiLCJ4aHJFcnJvciIsImZhaWxfYWxlcnQiLCJmYWlsX2tlZXBfb3BlbiIsInJlcXVlc3QiLCJnZXQiLCJzdGF0ZSIsImZsYXZvciIsInRlYSIsImVyck1lc3NhZ2VzIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiZXJyVG9hc3QiLCJlcnJNb2RhbCIsIm1lc3NhZ2UiLCJlcnJvcnMiLCJfdHlwZW9mIiwidGhlU3RhY2siLCJmaWVsZCIsInN3aXRjaENzcyIsIm9nIiwiaGVhZCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwibGluayIsInJlbCIsImhyZWYiLCJwcmVwZW5kIiwiRW1vamlQaWNrZXIiLCJ1cGRhdGVUaGVtZXMiLCJmb3JtcyIsInVwZGF0ZVNsdWciLCJMb2dvdXQiLCJOb3RpZnlNYW5hZ2VyIiwic29ja2V0cyIsImRpc2Nvbm5lY3QiLCJsb2NhdGlvbiIsInJlbG9hZCIsInhociJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./vendor/rtippin/messenger-ui/resources/js/Messenger.js\n");

/***/ }),

/***/ "./vendor/rtippin/messenger-ui/resources/js/app.js":
/*!*********************************************************!*\
  !*** ./vendor/rtippin/messenger-ui/resources/js/app.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nObject(function webpackMissingModule() { var e = new Error(\"Cannot find module 'vanilla-lazyload'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\n/* provided dependency */ var $ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/**\n * First we will load all of this project's JavaScript dependencies which\n * includes Vue and other libraries. It is a great starting point when\n * building robust, powerful web applications using Vue and Laravel.\n */\n\n__webpack_require__(/*! ./bootstrap */ \"./vendor/rtippin/messenger-ui/resources/js/bootstrap.js\");\n\n\n/**\n * Next, we define a few global options for toastr, autolinker, and datatables\n */\n\nwindow.LazyImages = new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'vanilla-lazyload'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())({\n  elements_selector: \".lazy\"\n});\ntoastr.options = {\n  \"progressBar\": true,\n  \"closeButton\": true,\n  \"positionClass\": \"toast-top-right\",\n  \"preventDuplicates\": false,\n  \"onclick\": null,\n  \"showDuration\": \"100\",\n  \"hideDuration\": \"500\",\n  \"timeOut\": \"1700\",\n  \"extendedTimeOut\": \"1000\",\n  \"showEasing\": \"swing\",\n  \"hideEasing\": \"linear\",\n  \"showMethod\": \"fadeIn\",\n  \"hideMethod\": \"fadeOut\",\n  \"closeHtml\": \"<button><i class=\\\"fas fa-times\\\"></i></button>\"\n};\nwindow.autolinker = new Autolinker({\n  urls: {\n    schemeMatches: true,\n    wwwMatches: true,\n    tldMatches: true\n  },\n  email: true,\n  phone: false,\n  mention: false,\n  hashtag: false,\n  stripPrefix: true,\n  stripTrailingSlash: true,\n  newWindow: true,\n  truncate: {\n    length: 50,\n    location: 'smart'\n  }\n});\n$.extend(true, $.fn.dataTable.defaults, {\n  \"drawCallback\": function drawCallback(settings) {\n    var api = new $.fn.DataTable.Api(settings),\n      pagination = $(this).closest('.dataTables_wrapper').find('.dataTables_paginate');\n    pagination.toggle(api.page.info().pages > 1);\n    $(this).find('tr').last().find(\".dropdown\").addClass('dropup');\n    LazyImages.update();\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi92ZW5kb3IvcnRpcHBpbi9tZXNzZW5nZXItdWkvcmVzb3VyY2VzL2pzL2FwcC5qcyIsIm1hcHBpbmdzIjoiOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBQSxtQkFBTyxDQUFDLDRFQUFhLENBQUM7QUFFa0I7O0FBRXhDO0FBQ0E7QUFDQTs7QUFFQUUsTUFBTSxDQUFDQyxVQUFVLEdBQUcsSUFBSUYsK0lBQVEsQ0FBQztFQUM3QkcsaUJBQWlCLEVBQUU7QUFDdkIsQ0FBQyxDQUFDO0FBRUZDLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHO0VBQ2IsYUFBYSxFQUFFLElBQUk7RUFDbkIsYUFBYSxFQUFHLElBQUk7RUFDcEIsZUFBZSxFQUFFLGlCQUFpQjtFQUNsQyxtQkFBbUIsRUFBRSxLQUFLO0VBQzFCLFNBQVMsRUFBRSxJQUFJO0VBQ2YsY0FBYyxFQUFFLEtBQUs7RUFDckIsY0FBYyxFQUFFLEtBQUs7RUFDckIsU0FBUyxFQUFFLE1BQU07RUFDakIsaUJBQWlCLEVBQUUsTUFBTTtFQUN6QixZQUFZLEVBQUUsT0FBTztFQUNyQixZQUFZLEVBQUUsUUFBUTtFQUN0QixZQUFZLEVBQUUsUUFBUTtFQUN0QixZQUFZLEVBQUUsU0FBUztFQUN2QixXQUFXLEVBQUc7QUFDbEIsQ0FBQztBQUNESixNQUFNLENBQUNLLFVBQVUsR0FBRyxJQUFJQyxVQUFVLENBQUM7RUFDL0JDLElBQUksRUFBRztJQUNIQyxhQUFhLEVBQUcsSUFBSTtJQUNwQkMsVUFBVSxFQUFHLElBQUk7SUFDakJDLFVBQVUsRUFBRztFQUNqQixDQUFDO0VBQ0RDLEtBQUssRUFBRyxJQUFJO0VBQ1pDLEtBQUssRUFBRyxLQUFLO0VBQ2JDLE9BQU8sRUFBRyxLQUFLO0VBQ2ZDLE9BQU8sRUFBRyxLQUFLO0VBQ2ZDLFdBQVcsRUFBRyxJQUFJO0VBQ2xCQyxrQkFBa0IsRUFBRyxJQUFJO0VBQ3pCQyxTQUFTLEVBQUcsSUFBSTtFQUNoQkMsUUFBUSxFQUFHO0lBQ1BDLE1BQU0sRUFBRyxFQUFFO0lBQ1hDLFFBQVEsRUFBRztFQUNmO0FBQ0osQ0FBQyxDQUFDO0FBRUZDLENBQUMsQ0FBQ0MsTUFBTSxDQUFFLElBQUksRUFBRUQsQ0FBQyxDQUFDRSxFQUFFLENBQUNDLFNBQVMsQ0FBQ0MsUUFBUSxFQUFFO0VBQ3JDLGNBQWMsRUFBRSxTQUFBQyxhQUFTQyxRQUFRLEVBQUM7SUFDOUIsSUFBSUMsR0FBRyxHQUFHLElBQUlQLENBQUMsQ0FBQ0UsRUFBRSxDQUFDTSxTQUFTLENBQUNDLEdBQUcsQ0FBQ0gsUUFBUSxDQUFDO01BQUVJLFVBQVUsR0FBR1YsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDVyxPQUFPLENBQUMscUJBQXFCLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLHNCQUFzQixDQUFDO0lBQzVIRixVQUFVLENBQUNHLE1BQU0sQ0FBQ04sR0FBRyxDQUFDTyxJQUFJLENBQUNDLElBQUksQ0FBQyxDQUFDLENBQUNDLEtBQUssR0FBRyxDQUFDLENBQUM7SUFDNUNoQixDQUFDLENBQUMsSUFBSSxDQUFDLENBQUNZLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQ0ssSUFBSSxDQUFDLENBQUMsQ0FBQ0wsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDTSxRQUFRLENBQUMsUUFBUSxDQUFDO0lBQzlEdEMsVUFBVSxDQUFDdUMsTUFBTSxDQUFDLENBQUM7RUFDdkI7QUFDSixDQUFDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi92ZW5kb3IvcnRpcHBpbi9tZXNzZW5nZXItdWkvcmVzb3VyY2VzL2pzL2FwcC5qcz81NWEyIl0sInNvdXJjZXNDb250ZW50IjpbIlxuLyoqXG4gKiBGaXJzdCB3ZSB3aWxsIGxvYWQgYWxsIG9mIHRoaXMgcHJvamVjdCdzIEphdmFTY3JpcHQgZGVwZW5kZW5jaWVzIHdoaWNoXG4gKiBpbmNsdWRlcyBWdWUgYW5kIG90aGVyIGxpYnJhcmllcy4gSXQgaXMgYSBncmVhdCBzdGFydGluZyBwb2ludCB3aGVuXG4gKiBidWlsZGluZyByb2J1c3QsIHBvd2VyZnVsIHdlYiBhcHBsaWNhdGlvbnMgdXNpbmcgVnVlIGFuZCBMYXJhdmVsLlxuICovXG5cbnJlcXVpcmUoJy4vYm9vdHN0cmFwJyk7XG5cbmltcG9ydCBMYXp5TG9hZCBmcm9tIFwidmFuaWxsYS1sYXp5bG9hZFwiO1xuXG4vKipcbiAqIE5leHQsIHdlIGRlZmluZSBhIGZldyBnbG9iYWwgb3B0aW9ucyBmb3IgdG9hc3RyLCBhdXRvbGlua2VyLCBhbmQgZGF0YXRhYmxlc1xuICovXG5cbndpbmRvdy5MYXp5SW1hZ2VzID0gbmV3IExhenlMb2FkKHtcbiAgICBlbGVtZW50c19zZWxlY3RvcjogXCIubGF6eVwiXG59KTtcblxudG9hc3RyLm9wdGlvbnMgPSB7XG4gICAgXCJwcm9ncmVzc0JhclwiOiB0cnVlLFxuICAgIFwiY2xvc2VCdXR0b25cIiA6IHRydWUsXG4gICAgXCJwb3NpdGlvbkNsYXNzXCI6IFwidG9hc3QtdG9wLXJpZ2h0XCIsXG4gICAgXCJwcmV2ZW50RHVwbGljYXRlc1wiOiBmYWxzZSxcbiAgICBcIm9uY2xpY2tcIjogbnVsbCxcbiAgICBcInNob3dEdXJhdGlvblwiOiBcIjEwMFwiLFxuICAgIFwiaGlkZUR1cmF0aW9uXCI6IFwiNTAwXCIsXG4gICAgXCJ0aW1lT3V0XCI6IFwiMTcwMFwiLFxuICAgIFwiZXh0ZW5kZWRUaW1lT3V0XCI6IFwiMTAwMFwiLFxuICAgIFwic2hvd0Vhc2luZ1wiOiBcInN3aW5nXCIsXG4gICAgXCJoaWRlRWFzaW5nXCI6IFwibGluZWFyXCIsXG4gICAgXCJzaG93TWV0aG9kXCI6IFwiZmFkZUluXCIsXG4gICAgXCJoaWRlTWV0aG9kXCI6IFwiZmFkZU91dFwiLFxuICAgIFwiY2xvc2VIdG1sXCIgOiBcIjxidXR0b24+PGkgY2xhc3M9XFxcImZhcyBmYS10aW1lc1xcXCI+PC9pPjwvYnV0dG9uPlwiXG59O1xud2luZG93LmF1dG9saW5rZXIgPSBuZXcgQXV0b2xpbmtlcih7XG4gICAgdXJscyA6IHtcbiAgICAgICAgc2NoZW1lTWF0Y2hlcyA6IHRydWUsXG4gICAgICAgIHd3d01hdGNoZXMgOiB0cnVlLFxuICAgICAgICB0bGRNYXRjaGVzIDogdHJ1ZVxuICAgIH0sXG4gICAgZW1haWwgOiB0cnVlLFxuICAgIHBob25lIDogZmFsc2UsXG4gICAgbWVudGlvbiA6IGZhbHNlLFxuICAgIGhhc2h0YWcgOiBmYWxzZSxcbiAgICBzdHJpcFByZWZpeCA6IHRydWUsXG4gICAgc3RyaXBUcmFpbGluZ1NsYXNoIDogdHJ1ZSxcbiAgICBuZXdXaW5kb3cgOiB0cnVlLFxuICAgIHRydW5jYXRlIDoge1xuICAgICAgICBsZW5ndGggOiA1MCxcbiAgICAgICAgbG9jYXRpb24gOiAnc21hcnQnXG4gICAgfVxufSk7XG5cbiQuZXh0ZW5kKCB0cnVlLCAkLmZuLmRhdGFUYWJsZS5kZWZhdWx0cywge1xuICAgIFwiZHJhd0NhbGxiYWNrXCI6IGZ1bmN0aW9uKHNldHRpbmdzKXtcbiAgICAgICAgbGV0IGFwaSA9IG5ldyAkLmZuLkRhdGFUYWJsZS5BcGkoc2V0dGluZ3MpLCBwYWdpbmF0aW9uID0gJCh0aGlzKS5jbG9zZXN0KCcuZGF0YVRhYmxlc193cmFwcGVyJykuZmluZCgnLmRhdGFUYWJsZXNfcGFnaW5hdGUnKTtcbiAgICAgICAgcGFnaW5hdGlvbi50b2dnbGUoYXBpLnBhZ2UuaW5mbygpLnBhZ2VzID4gMSk7XG4gICAgICAgICQodGhpcykuZmluZCgndHInKS5sYXN0KCkuZmluZChcIi5kcm9wZG93blwiKS5hZGRDbGFzcygnZHJvcHVwJyk7XG4gICAgICAgIExhenlJbWFnZXMudXBkYXRlKCk7XG4gICAgfVxufSk7Il0sIm5hbWVzIjpbInJlcXVpcmUiLCJMYXp5TG9hZCIsIndpbmRvdyIsIkxhenlJbWFnZXMiLCJlbGVtZW50c19zZWxlY3RvciIsInRvYXN0ciIsIm9wdGlvbnMiLCJhdXRvbGlua2VyIiwiQXV0b2xpbmtlciIsInVybHMiLCJzY2hlbWVNYXRjaGVzIiwid3d3TWF0Y2hlcyIsInRsZE1hdGNoZXMiLCJlbWFpbCIsInBob25lIiwibWVudGlvbiIsImhhc2h0YWciLCJzdHJpcFByZWZpeCIsInN0cmlwVHJhaWxpbmdTbGFzaCIsIm5ld1dpbmRvdyIsInRydW5jYXRlIiwibGVuZ3RoIiwibG9jYXRpb24iLCIkIiwiZXh0ZW5kIiwiZm4iLCJkYXRhVGFibGUiLCJkZWZhdWx0cyIsImRyYXdDYWxsYmFjayIsInNldHRpbmdzIiwiYXBpIiwiRGF0YVRhYmxlIiwiQXBpIiwicGFnaW5hdGlvbiIsImNsb3Nlc3QiLCJmaW5kIiwidG9nZ2xlIiwicGFnZSIsImluZm8iLCJwYWdlcyIsImxhc3QiLCJhZGRDbGFzcyIsInVwZGF0ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./vendor/rtippin/messenger-ui/resources/js/app.js\n");

/***/ }),

/***/ "./vendor/rtippin/messenger-ui/resources/js/bootstrap.js":
/*!***************************************************************!*\
  !*** ./vendor/rtippin/messenger-ui/resources/js/bootstrap.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nObject(function webpackMissingModule() { var e = new Error(\"Cannot find module 'datatables.net-bs4'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\nObject(function webpackMissingModule() { var e = new Error(\"Cannot find module 'simplebar'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\n/* harmony import */ var _Messenger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Messenger */ \"./vendor/rtippin/messenger-ui/resources/js/Messenger.js\");\n/* harmony import */ var _Messenger__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_Messenger__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _managers_PageListeners__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./managers/PageListeners */ \"./vendor/rtippin/messenger-ui/resources/js/managers/PageListeners.js\");\n/* harmony import */ var _managers_PageListeners__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_managers_PageListeners__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _managers_InactivityManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./managers/InactivityManager */ \"./vendor/rtippin/messenger-ui/resources/js/managers/InactivityManager.js\");\n/* harmony import */ var _managers_InactivityManager__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_managers_InactivityManager__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _managers_CallManager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./managers/CallManager */ \"./vendor/rtippin/messenger-ui/resources/js/managers/CallManager.js\");\n/* harmony import */ var _managers_CallManager__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_managers_CallManager__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _managers_NotifyManager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./managers/NotifyManager */ \"./vendor/rtippin/messenger-ui/resources/js/managers/NotifyManager.js\");\n/* harmony import */ var _managers_FriendsManager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./managers/FriendsManager */ \"./vendor/rtippin/messenger-ui/resources/js/managers/FriendsManager.js\");\n/* harmony import */ var _managers_FriendsManager__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_managers_FriendsManager__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _managers_ThreadManager__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./managers/ThreadManager */ \"./vendor/rtippin/messenger-ui/resources/js/managers/ThreadManager.js\");\n/* harmony import */ var _managers_ThreadManager__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_managers_ThreadManager__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _modules_ThreadBots__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./modules/ThreadBots */ \"./vendor/rtippin/messenger-ui/resources/js/modules/ThreadBots.js\");\n/* harmony import */ var _modules_ThreadBots__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_modules_ThreadBots__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _templates_ThreadTemplates__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./templates/ThreadTemplates */ \"./vendor/rtippin/messenger-ui/resources/js/templates/ThreadTemplates.js\");\n/* harmony import */ var _templates_ThreadTemplates__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_templates_ThreadTemplates__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _modules_MessengerSettings__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./modules/MessengerSettings */ \"./vendor/rtippin/messenger-ui/resources/js/modules/MessengerSettings.js\");\n/* harmony import */ var _modules_MessengerSettings__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_modules_MessengerSettings__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _modules_RecordAudio__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./modules/RecordAudio */ \"./vendor/rtippin/messenger-ui/resources/js/modules/RecordAudio.js\");\n/* harmony import */ var _modules_InviteJoin__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./modules/InviteJoin */ \"./vendor/rtippin/messenger-ui/resources/js/modules/InviteJoin.js\");\n/* harmony import */ var _modules_InviteJoin__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_modules_InviteJoin__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _modules_EmojiPicker__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./modules/EmojiPicker */ \"./vendor/rtippin/messenger-ui/resources/js/modules/EmojiPicker.js\");\n/**\n * We'll load jQuery and the Bootstrap jQuery plugin which provides support\n * for JavaScript based Bootstrap features such as modals and tabs. This\n * code may be modified to fit the specific needs of your application.\n */\n\n// window.$ = window.jQuery = require('jquery');\nvar token = document.head.querySelector('meta[name=\"csrf-token\"]');\nwindow.Laravel = {\n  csrfToken: token.content\n};\n\n// require('bootstrap-sass');\ntry {\n  window.Popper = (__webpack_require__(/*! popper.js */ \"./node_modules/popper.js/dist/esm/popper.js\")[\"default\"]);\n  __webpack_require__(/*! bootstrap */ \"./node_modules/bootstrap/dist/js/bootstrap.js\");\n} catch (e) {}\n\n/**\n * We'll load the axios HTTP library which allows us to easily issue requests\n * to our Laravel back-end. This library automatically handles sending the\n * CSRF token as a header based on the value of the \"XSRF\" token cookie.\n */\n\nwindow.axios = __webpack_require__(/*! axios */ \"./node_modules/axios/dist/browser/axios.cjs\");\nwindow.axios.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';\n\n/**\n * Next we will register the CSRF Token as a common header with Axios so that\n * all outgoing HTTP requests automatically have it attached. This is just\n * a simple convenience so we don't have to attach every token manually.\n */\n\nif (token) {\n  window.axios.defaults.headers.common['X-CSRF-TOKEN'] = token.content;\n} else {\n  console.error('CSRF token not found');\n}\n\n/**\n * Load dependencies used across this app\n * Autolinker makes text links clickable\n * Datatables turns a table into a JS instance with sorting\n * Toastr is used for notification popups\n * Autosize allows textareas to grow dynamically\n * Validator is for BS3 and adds validation to forms using html5 attr\n */\nwindow.uuid = __webpack_require__(/*! uuid */ \"./node_modules/uuid/dist/esm-browser/index.js\");\nwindow.Autolinker = __webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'autolinker'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n\nwindow.dt = __webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'datatables.net'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\nwindow.toastr = __webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'toastr'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\nwindow.dayjs = __webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'dayjs'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\nvar relativeTime = __webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'dayjs/plugin/relativeTime'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\nvar advancedFormat = __webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'dayjs/plugin/advancedFormat'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\nvar utc = __webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'dayjs/plugin/utc'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\ndayjs.extend(relativeTime);\ndayjs.extend(advancedFormat);\ndayjs.extend(utc);\n\n\n/**\n * Now we need to load in our global app controllers (Routers)\n * Messenger holds global methods and common data\n * PageListeners holds events and watchers to be called\n * on any page at any time\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi92ZW5kb3IvcnRpcHBpbi9tZXNzZW5nZXItdWkvcmVzb3VyY2VzL2pzL2Jvb3RzdHJhcC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJQSxLQUFLLEdBQUdDLFFBQVEsQ0FBQ0MsSUFBSSxDQUFDQyxhQUFhLENBQUMseUJBQXlCLENBQUM7QUFDbEVDLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHO0VBQUVDLFNBQVMsRUFBRU4sS0FBSyxDQUFDTztBQUFRLENBQUM7O0FBRzdDO0FBQ0EsSUFBSTtFQUNBSCxNQUFNLENBQUNJLE1BQU0sR0FBR0MsZ0dBQTRCO0VBQzVDQSxtQkFBTyxDQUFDLGdFQUFXLENBQUM7QUFDeEIsQ0FBQyxDQUFDLE9BQU9DLENBQUMsRUFBRSxDQUFDOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUFOLE1BQU0sQ0FBQ08sS0FBSyxHQUFHRixtQkFBTyxDQUFDLDBEQUFPLENBQUM7QUFFL0JMLE1BQU0sQ0FBQ08sS0FBSyxDQUFDQyxRQUFRLENBQUNDLE9BQU8sQ0FBQ0MsTUFBTSxDQUFDLGtCQUFrQixDQUFDLEdBQUcsZ0JBQWdCOztBQUUzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUlBLElBQUlkLEtBQUssRUFBRTtFQUNQSSxNQUFNLENBQUNPLEtBQUssQ0FBQ0MsUUFBUSxDQUFDQyxPQUFPLENBQUNDLE1BQU0sQ0FBQyxjQUFjLENBQUMsR0FBR2QsS0FBSyxDQUFDTyxPQUFPO0FBQ3hFLENBQUMsTUFBTTtFQUNIUSxPQUFPLENBQUNDLEtBQUssQ0FBQyxzQkFBc0IsQ0FBQztBQUN6Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FaLE1BQU0sQ0FBQ2EsSUFBSSxHQUFHUixtQkFBTyxDQUFDLDJEQUFNLENBQUM7QUFDN0JMLE1BQU0sQ0FBQ2MsVUFBVSxHQUFHVCxtQkFBTyxDQUFDLHlJQUFZLENBQUM7QUFDTDtBQUNwQ0wsTUFBTSxDQUFDZSxFQUFFLEdBQUdWLG1CQUFPLENBQUUsNklBQWdCLENBQUM7QUFDdENMLE1BQU0sQ0FBQ2dCLE1BQU0sR0FBR1gsbUJBQU8sQ0FBQyxxSUFBUSxDQUFDO0FBQ2pDTCxNQUFNLENBQUNpQixLQUFLLEdBQUdaLG1CQUFPLENBQUMsb0lBQU8sQ0FBQztBQUMvQixJQUFJYSxZQUFZLEdBQUdiLG1CQUFPLENBQUMsd0pBQTJCLENBQUM7QUFDdkQsSUFBSWMsY0FBYyxHQUFHZCxtQkFBTyxDQUFDLDBKQUE2QixDQUFDO0FBQzNELElBQUllLEdBQUcsR0FBR2YsbUJBQU8sQ0FBQywrSUFBa0IsQ0FBQztBQUNyQ1ksS0FBSyxDQUFDSSxNQUFNLENBQUNILFlBQVksQ0FBQztBQUMxQkQsS0FBSyxDQUFDSSxNQUFNLENBQUNGLGNBQWMsQ0FBQztBQUM1QkYsS0FBSyxDQUFDSSxNQUFNLENBQUNELEdBQUcsQ0FBQztBQUNFOztBQUVuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRXNDO0FBQ2lCO0FBQ1E7QUFDWjtBQUNJO0FBQ0U7QUFDRjtBQUNQO0FBQ1k7QUFDRTtBQUNaO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi92ZW5kb3IvcnRpcHBpbi9tZXNzZW5nZXItdWkvcmVzb3VyY2VzL2pzL2Jvb3RzdHJhcC5qcz8zN2NhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogV2UnbGwgbG9hZCBqUXVlcnkgYW5kIHRoZSBCb290c3RyYXAgalF1ZXJ5IHBsdWdpbiB3aGljaCBwcm92aWRlcyBzdXBwb3J0XG4gKiBmb3IgSmF2YVNjcmlwdCBiYXNlZCBCb290c3RyYXAgZmVhdHVyZXMgc3VjaCBhcyBtb2RhbHMgYW5kIHRhYnMuIFRoaXNcbiAqIGNvZGUgbWF5IGJlIG1vZGlmaWVkIHRvIGZpdCB0aGUgc3BlY2lmaWMgbmVlZHMgb2YgeW91ciBhcHBsaWNhdGlvbi5cbiAqL1xuXG4vLyB3aW5kb3cuJCA9IHdpbmRvdy5qUXVlcnkgPSByZXF1aXJlKCdqcXVlcnknKTtcbmxldCB0b2tlbiA9IGRvY3VtZW50LmhlYWQucXVlcnlTZWxlY3RvcignbWV0YVtuYW1lPVwiY3NyZi10b2tlblwiXScpO1xud2luZG93LkxhcmF2ZWwgPSB7IGNzcmZUb2tlbjogdG9rZW4uY29udGVudCB9O1xuXG5cbi8vIHJlcXVpcmUoJ2Jvb3RzdHJhcC1zYXNzJyk7XG50cnkge1xuICAgIHdpbmRvdy5Qb3BwZXIgPSByZXF1aXJlKCdwb3BwZXIuanMnKS5kZWZhdWx0O1xuICAgIHJlcXVpcmUoJ2Jvb3RzdHJhcCcpO1xufSBjYXRjaCAoZSkge31cblxuLyoqXG4gKiBXZSdsbCBsb2FkIHRoZSBheGlvcyBIVFRQIGxpYnJhcnkgd2hpY2ggYWxsb3dzIHVzIHRvIGVhc2lseSBpc3N1ZSByZXF1ZXN0c1xuICogdG8gb3VyIExhcmF2ZWwgYmFjay1lbmQuIFRoaXMgbGlicmFyeSBhdXRvbWF0aWNhbGx5IGhhbmRsZXMgc2VuZGluZyB0aGVcbiAqIENTUkYgdG9rZW4gYXMgYSBoZWFkZXIgYmFzZWQgb24gdGhlIHZhbHVlIG9mIHRoZSBcIlhTUkZcIiB0b2tlbiBjb29raWUuXG4gKi9cblxud2luZG93LmF4aW9zID0gcmVxdWlyZSgnYXhpb3MnKTtcblxud2luZG93LmF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydYLVJlcXVlc3RlZC1XaXRoJ10gPSAnWE1MSHR0cFJlcXVlc3QnO1xuXG4vKipcbiAqIE5leHQgd2Ugd2lsbCByZWdpc3RlciB0aGUgQ1NSRiBUb2tlbiBhcyBhIGNvbW1vbiBoZWFkZXIgd2l0aCBBeGlvcyBzbyB0aGF0XG4gKiBhbGwgb3V0Z29pbmcgSFRUUCByZXF1ZXN0cyBhdXRvbWF0aWNhbGx5IGhhdmUgaXQgYXR0YWNoZWQuIFRoaXMgaXMganVzdFxuICogYSBzaW1wbGUgY29udmVuaWVuY2Ugc28gd2UgZG9uJ3QgaGF2ZSB0byBhdHRhY2ggZXZlcnkgdG9rZW4gbWFudWFsbHkuXG4gKi9cblxuXG5cbmlmICh0b2tlbikge1xuICAgIHdpbmRvdy5heGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnWC1DU1JGLVRPS0VOJ10gPSB0b2tlbi5jb250ZW50O1xufSBlbHNlIHtcbiAgICBjb25zb2xlLmVycm9yKCdDU1JGIHRva2VuIG5vdCBmb3VuZCcpO1xufVxuXG4vKipcbiAqIExvYWQgZGVwZW5kZW5jaWVzIHVzZWQgYWNyb3NzIHRoaXMgYXBwXG4gKiBBdXRvbGlua2VyIG1ha2VzIHRleHQgbGlua3MgY2xpY2thYmxlXG4gKiBEYXRhdGFibGVzIHR1cm5zIGEgdGFibGUgaW50byBhIEpTIGluc3RhbmNlIHdpdGggc29ydGluZ1xuICogVG9hc3RyIGlzIHVzZWQgZm9yIG5vdGlmaWNhdGlvbiBwb3B1cHNcbiAqIEF1dG9zaXplIGFsbG93cyB0ZXh0YXJlYXMgdG8gZ3JvdyBkeW5hbWljYWxseVxuICogVmFsaWRhdG9yIGlzIGZvciBCUzMgYW5kIGFkZHMgdmFsaWRhdGlvbiB0byBmb3JtcyB1c2luZyBodG1sNSBhdHRyXG4gKi9cbndpbmRvdy51dWlkID0gcmVxdWlyZSgndXVpZCcpO1xud2luZG93LkF1dG9saW5rZXIgPSByZXF1aXJlKCdhdXRvbGlua2VyJyk7XG5pbXBvcnQgZHQgZnJvbSAnZGF0YXRhYmxlcy5uZXQtYnM0JztcbndpbmRvdy5kdCA9IHJlcXVpcmUoICdkYXRhdGFibGVzLm5ldCcpO1xud2luZG93LnRvYXN0ciA9IHJlcXVpcmUoJ3RvYXN0cicpO1xud2luZG93LmRheWpzID0gcmVxdWlyZSgnZGF5anMnKTtcbmxldCByZWxhdGl2ZVRpbWUgPSByZXF1aXJlKCdkYXlqcy9wbHVnaW4vcmVsYXRpdmVUaW1lJyk7XG5sZXQgYWR2YW5jZWRGb3JtYXQgPSByZXF1aXJlKCdkYXlqcy9wbHVnaW4vYWR2YW5jZWRGb3JtYXQnKTtcbmxldCB1dGMgPSByZXF1aXJlKCdkYXlqcy9wbHVnaW4vdXRjJyk7XG5kYXlqcy5leHRlbmQocmVsYXRpdmVUaW1lKTtcbmRheWpzLmV4dGVuZChhZHZhbmNlZEZvcm1hdCk7XG5kYXlqcy5leHRlbmQodXRjKTtcbmltcG9ydCAnc2ltcGxlYmFyJztcblxuLyoqXG4gKiBOb3cgd2UgbmVlZCB0byBsb2FkIGluIG91ciBnbG9iYWwgYXBwIGNvbnRyb2xsZXJzIChSb3V0ZXJzKVxuICogTWVzc2VuZ2VyIGhvbGRzIGdsb2JhbCBtZXRob2RzIGFuZCBjb21tb24gZGF0YVxuICogUGFnZUxpc3RlbmVycyBob2xkcyBldmVudHMgYW5kIHdhdGNoZXJzIHRvIGJlIGNhbGxlZFxuICogb24gYW55IHBhZ2UgYXQgYW55IHRpbWVcbiAqL1xuXG5pbXBvcnQge01lc3Nlbmdlcn0gZnJvbSAnLi9NZXNzZW5nZXInO1xuaW1wb3J0IHtQYWdlTGlzdGVuZXJzfSBmcm9tICcuL21hbmFnZXJzL1BhZ2VMaXN0ZW5lcnMnO1xuaW1wb3J0IHtJbmFjdGl2aXR5TWFuYWdlcn0gZnJvbSAnLi9tYW5hZ2Vycy9JbmFjdGl2aXR5TWFuYWdlcic7XG5pbXBvcnQge0NhbGxNYW5hZ2VyfSBmcm9tICcuL21hbmFnZXJzL0NhbGxNYW5hZ2VyJztcbmltcG9ydCB7Tm90aWZ5TWFuYWdlcn0gZnJvbSAnLi9tYW5hZ2Vycy9Ob3RpZnlNYW5hZ2VyJztcbmltcG9ydCB7RnJpZW5kc01hbmFnZXJ9IGZyb20gJy4vbWFuYWdlcnMvRnJpZW5kc01hbmFnZXInO1xuaW1wb3J0IHtUaHJlYWRNYW5hZ2VyfSBmcm9tICcuL21hbmFnZXJzL1RocmVhZE1hbmFnZXInO1xuaW1wb3J0IHtUaHJlYWRCb3RzfSBmcm9tICcuL21vZHVsZXMvVGhyZWFkQm90cyc7XG5pbXBvcnQge1RocmVhZFRlbXBsYXRlc30gZnJvbSAnLi90ZW1wbGF0ZXMvVGhyZWFkVGVtcGxhdGVzJztcbmltcG9ydCB7TWVzc2VuZ2VyU2V0dGluZ3N9IGZyb20gJy4vbW9kdWxlcy9NZXNzZW5nZXJTZXR0aW5ncyc7XG5pbXBvcnQge1JlY29yZEF1ZGlvfSBmcm9tICcuL21vZHVsZXMvUmVjb3JkQXVkaW8nO1xuaW1wb3J0IHtJbnZpdGVKb2lufSBmcm9tICcuL21vZHVsZXMvSW52aXRlSm9pbic7XG5pbXBvcnQge0Vtb2ppUGlja2VyfSBmcm9tICcuL21vZHVsZXMvRW1vamlQaWNrZXInOyJdLCJuYW1lcyI6WyJ0b2tlbiIsImRvY3VtZW50IiwiaGVhZCIsInF1ZXJ5U2VsZWN0b3IiLCJ3aW5kb3ciLCJMYXJhdmVsIiwiY3NyZlRva2VuIiwiY29udGVudCIsIlBvcHBlciIsInJlcXVpcmUiLCJlIiwiYXhpb3MiLCJkZWZhdWx0cyIsImhlYWRlcnMiLCJjb21tb24iLCJjb25zb2xlIiwiZXJyb3IiLCJ1dWlkIiwiQXV0b2xpbmtlciIsImR0IiwidG9hc3RyIiwiZGF5anMiLCJyZWxhdGl2ZVRpbWUiLCJhZHZhbmNlZEZvcm1hdCIsInV0YyIsImV4dGVuZCIsIk1lc3NlbmdlciIsIlBhZ2VMaXN0ZW5lcnMiLCJJbmFjdGl2aXR5TWFuYWdlciIsIkNhbGxNYW5hZ2VyIiwiTm90aWZ5TWFuYWdlciIsIkZyaWVuZHNNYW5hZ2VyIiwiVGhyZWFkTWFuYWdlciIsIlRocmVhZEJvdHMiLCJUaHJlYWRUZW1wbGF0ZXMiLCJNZXNzZW5nZXJTZXR0aW5ncyIsIlJlY29yZEF1ZGlvIiwiSW52aXRlSm9pbiIsIkVtb2ppUGlja2VyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./vendor/rtippin/messenger-ui/resources/js/bootstrap.js\n");

/***/ }),

/***/ "./vendor/rtippin/messenger-ui/resources/js/managers/CallManager.js":
/*!**************************************************************************!*\
  !*** ./vendor/rtippin/messenger-ui/resources/js/managers/CallManager.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("/* provided dependency */ var $ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\nwindow.CallManager = function () {\n  var opt = {\n      initialized: false,\n      INIT_time: null,\n      API: Messenger.common().API,\n      demo: false,\n      processing: false,\n      _call: null,\n      call: false,\n      call_loaded: false,\n      call_id: null,\n      call_mode: null,\n      created_at: null,\n      call_type: null,\n      call_owner: null,\n      thread_id: null,\n      thread_type: null,\n      thread_name: null,\n      call_admin: null,\n      thread_admin: null,\n      room_id: null,\n      room_pin: null,\n      janus_secret: null,\n      janus_debug: false,\n      janus_ice: [],\n      janus_main: [],\n      channel: null,\n      channel_status: false,\n      active_profiles: [],\n      heartbeat_interval: null,\n      heartbeat_retries: 0,\n      elements: {\n        call_status: $(\"#call_status\"),\n        call_status_msg: $(\"#call_status_msg\"),\n        call_status_body: $(\"#call_status_body\"),\n        main_call: $(\"#main_call\")\n      }\n    },\n    mounted = {\n      Initialize: function Initialize(arg) {\n        if (opt.initialized) return;\n        opt.call = true;\n        opt.janus_secret = arg.janus_secret;\n        opt.janus_debug = arg.janus_debug;\n        opt.janus_main = arg.janus_main;\n        opt.janus_ice = arg.janus_ice;\n        opt.initialized = true;\n        if (arg.hasOwnProperty('demo')) {\n          opt.call_loaded = true;\n          opt.demo = true;\n          opt.room_id = parseInt(arg.room_id);\n          opt.room_pin = arg.room_pin;\n          Sockets.setupRTC();\n          return;\n        }\n        mounted.loadCall(arg.thread_id, arg.call_id, mounted.setup);\n      },\n      setup: function setup(call) {\n        opt.call_id = call.id;\n        opt.call_type = call.type;\n        if (!call.active || call.options.kicked) {\n          mounted.callFailed();\n          return;\n        }\n        opt._call = call;\n        opt.call_loaded = true;\n        opt.call_owner = call.owner_id;\n        opt.thread_id = call.thread_id;\n        opt.thread_type = call.meta.thread_type;\n        opt.thread_name = call.meta.thread_name;\n        opt.call_admin = call.options.admin;\n        opt.created_at = call.created_at;\n        opt.INIT_time = dayjs();\n        mounted.setJanusInfo(call, false);\n        NotifyManager.setTitle(call.meta.thread_name + ' | ' + 'Video Call');\n      },\n      loadCall: function loadCall(thread, call, success) {\n        Messenger.xhr().request({\n          route: Messenger.common().API + 'threads/' + thread + '/calls/' + call,\n          success: success,\n          fail: mounted.callFailed\n        });\n      },\n      joinConfirm: function joinConfirm() {\n        opt.elements.call_status_msg.html('Ready to join with ' + opt._call.meta.thread_name + '?');\n        opt.elements.call_status_body.html(templates.join_confirm());\n        $(\"#call_join_confirm\").one('click', mounted.checkIfJoined);\n        $(\"#call_exit_confirm\").one('click', function () {\n          window.close();\n        });\n      },\n      checkIfJoined: function checkIfJoined() {\n        if (!opt._call.options.joined || !opt._call.options.in_call) {\n          opt.elements.call_status_body.html(Messenger.alert().loader(true));\n          Messenger.xhr().payload({\n            route: Messenger.common().API + 'threads/' + opt._call.thread_id + '/calls/' + opt._call.id + '/join',\n            data: {},\n            success: function success() {\n              mounted.loadCall(opt._call.thread_id, opt._call.id, function (call) {\n                mounted.setJanusInfo(call, true);\n              });\n            },\n            fail: mounted.callFailed,\n            bypass: true,\n            fail_alert: true\n          });\n        } else {\n          mounted.ready();\n        }\n      },\n      ready: function ready() {\n        Sockets.heartbeat(false);\n        Sockets.setupRTC();\n        mounted.setConnections();\n        opt.elements.call_status.addClass('NS');\n        opt.elements.main_call.removeClass('NS');\n        if (opt.call_admin) $(\"#end_call_nav\").removeClass('NS');\n        if (opt.call_type === 1) {\n          window.addEventListener(\"beforeunload\", methods.windowClosed, false);\n          window.addEventListener(\"keydown\", methods.checkForRefresh, false);\n        }\n      },\n      setJanusInfo: function setJanusInfo(call, reloaded) {\n        if (!call.options.setup_complete) {\n          setTimeout(function () {\n            mounted.loadCall(call.thread_id, call.id, mounted.setJanusInfo);\n          }, 1500);\n          return;\n        }\n        opt._call = call;\n        opt.call_admin = call.options.admin;\n        opt.room_id = parseInt(call.options.room_id);\n        opt.room_pin = call.options.room_pin;\n        if (reloaded) {\n          mounted.ready();\n        } else {\n          mounted.joinConfirm();\n        }\n      },\n      setConnections: function setConnections(delayed) {\n        if (!Messenger.common().modules.includes('NotifyManager') || !NotifyManager.sockets().status) {\n          if (Messenger.format().timeDiffInUnit(dayjs(), opt.INIT_time, 's') >= 8) {\n            delayed = true;\n          }\n          setTimeout(function () {\n            mounted.setConnections(true);\n          }, delayed ? 1000 : 0);\n          return;\n        }\n        Sockets.setup();\n      },\n      callFailed: function callFailed() {\n        Messenger.alert().Modal({\n          allow_close: false,\n          size: 'md',\n          theme: 'danger',\n          centered: true,\n          icon: 'video',\n          pre_loader: true,\n          title: 'Call session not found. Redirecting you...'\n        });\n        setTimeout(function () {\n          window.location.href = Messenger.common().WEB;\n        }, 4000);\n        setTimeout(function () {\n          window.close();\n        }, 3000);\n      }\n    },\n    Sockets = {\n      heartbeat: function heartbeat(check) {\n        if (opt.call_mode === 4) return;\n        var beat = function beat() {\n          if (Messenger.common().modules.includes('NotifyManager') && !NotifyManager.sockets().forced_disconnect) {\n            Messenger.xhr().request({\n              route: Messenger.common().API + 'threads/' + opt.thread_id + '/calls/' + opt.call_id + '/heartbeat',\n              success: function success() {\n                opt.heartbeat_retries = 0;\n              },\n              fail: Sockets.heartbeatFailed\n            });\n          }\n        };\n        beat();\n        if (check) return;\n        opt.heartbeat_interval = setInterval(beat, 30000);\n      },\n      heartbeatFailed: function heartbeatFailed() {\n        opt.heartbeat_retries++;\n        if (opt.heartbeat_retries < 4) Sockets.heartbeat(true);\n        if (opt.heartbeat_retries >= 4) {\n          clearInterval(opt.heartbeat_interval);\n          if (opt.channel) opt.channel.unsubscribe();\n          if (Messenger.common().modules.includes('JanusServer')) JanusServer.config().destroy();\n          mounted.callFailed();\n          setTimeout(function () {\n            window.close();\n          }, 3000);\n        }\n      },\n      setup: function setup() {\n        opt.channel = NotifyManager.sockets().Echo.join('messenger.call.' + opt.call_id + '.thread.' + opt.thread_id);\n        opt.channel.here(function (users) {\n          opt.active_profiles = [];\n          opt.channel_status = true;\n          $.each(users, function () {\n            if (!Messenger.isProvider(this.provider_id, null, this.provider_alias)) {\n              opt.active_profiles.push({\n                owner_id: this.provider_id,\n                avatar: this.avatar.sm,\n                name: this.name\n              });\n            }\n          });\n        }).joining(function (user) {\n          opt.active_profiles.push({\n            owner_id: user.provider_id,\n            avatar: user.avatar.sm,\n            name: user.name\n          });\n          Sockets.pushJoin(user);\n        }).leaving(function (user) {\n          for (var i = 0; i < opt.active_profiles.length; i++) {\n            if (opt.active_profiles[i].owner_id === user.provider_id) {\n              opt.active_profiles.splice(i, 1);\n              break;\n            }\n          }\n          Sockets.pushLeave(user);\n        }).listen('.shutdown', methods.serverShutdownNotice);\n      },\n      setupRTC: function setupRTC() {\n        if (!Messenger.common().modules.includes('JanusServer')) {\n          setTimeout(Sockets.setupRTC, 0);\n          return;\n        }\n        JanusServer.config().init(opt.demo);\n      },\n      pushJoin: function pushJoin(user) {\n        if (Messenger.common().modules.includes('JanusServer')) JanusServer.socket().peerJoin(user);\n      },\n      pushLeave: function pushLeave(user) {\n        if (Messenger.common().modules.includes('JanusServer')) JanusServer.socket().peerLeave(user);\n      },\n      disconnected: function disconnected() {\n        opt.channel_status = false;\n        if (Messenger.common().modules.includes('JanusServer')) JanusServer.socket().onDisconnect();\n      },\n      reconnected: function reconnected(full) {\n        opt.channel_status = true;\n        if (Messenger.common().modules.includes('JanusServer')) JanusServer.socket().onReconnect();\n      }\n    },\n    templates = {\n      call_alert: function call_alert(data) {\n        return '<div id=\"new_call_modal\" class=\"col-12 text-center mb-1\"><h4 class=\"font-weight-bold\">' + (data.call.thread_type === 2 ? data.call.thread_name : data.sender.name) + '</h4>' + '<img class=\"img-fluid rounded\" src=\"' + (data.call.thread_type === 2 ? data.call.thread_avatar.sm : data.sender.avatar.sm) + '\" /></div>';\n      },\n      join_confirm: function join_confirm() {\n        return '<div class=\"col-12 text-center\">' + '<button id=\"call_join_confirm\" type=\"button\" title=\"Join\" class=\"mx-3 shadow-lg btn btn-circle btn-circle-xl btn-success\">Join <i class=\"fas fa-video\"></i></button>' + '<button id=\"call_exit_confirm\" type=\"button\" title=\"Exit\" class=\"mx-3 shadow-lg btn btn-circle btn-circle-xl btn-danger\">Exit <i class=\"fas fa-times\"></i></button>' + '</div>';\n      }\n    },\n    methods = {\n      serverShutdownNotice: function serverShutdownNotice(server) {\n        NotifyManager.sound('notify');\n        if (server.shutdown) {\n          Messenger.alert().Modal({\n            icon: 'power-off',\n            unlock_buttons: false,\n            backdrop_ctrl: false,\n            title: 'Service Notice',\n            theme: 'warning',\n            body: 'Our calls system is going down for maintenance. You have <b>' + server.grace + ' minutes</b> ' + 'before your session will end automatically. We apologize for any inconvenience. ' + (server.message ? '<br><br>Note: ' + server.message : '')\n          });\n          return;\n        }\n        Messenger.alert().Modal({\n          icon: 'power-off',\n          unlock_buttons: false,\n          backdrop_ctrl: false,\n          title: 'Service Notice',\n          theme: 'success',\n          body: 'The calls system maintenance was cancelled. You may resume your session as normal.'\n        });\n      },\n      windowClosed: function windowClosed() {\n        if (window.opener) {\n          window.opener.CallManager.leave(true, {\n            type: 1,\n            id: opt.call_id,\n            thread_id: opt.thread_id\n          });\n        }\n      },\n      checkForRefresh: function checkForRefresh(e) {\n        if (e.key === 'F5' || e.ctrlKey && e.key === 'r') {\n          window.removeEventListener(\"beforeunload\", methods.windowClosed, false);\n        }\n      },\n      updateMessenger: function updateMessenger(call, action) {\n        if (Messenger.common().modules.includes('ThreadManager')) {\n          ThreadManager.Import().callStatus(call, action);\n        }\n      },\n      incomingCall: function incomingCall(call) {\n        NotifyManager.sound('call');\n        methods.updateMessenger(call.call, 'incoming');\n        Messenger.alert().Modal({\n          wait_for_others: true,\n          backdrop_ctrl: false,\n          centered: true,\n          theme: 'primary',\n          icon: 'video',\n          size: 'sm',\n          title: 'Incoming video call',\n          body: templates.call_alert(call),\n          cb_btn_txt: 'Answer',\n          cb_btn_icon: 'video',\n          cb_btn_theme: 'success',\n          callback: function callback() {\n            methods.joinCall(call.call, true);\n          },\n          cb_close: true,\n          timer: 25000\n        });\n      },\n      joinCall: function joinCall(call) {\n        methods.openCallWindow(call);\n        methods.updateMessenger(call, 'joined');\n      },\n      leaveCall: function leaveCall(parent, call) {\n        if (!parent) {\n          opt.processing = true;\n          if (opt.heartbeat_interval) clearInterval(opt.heartbeat_interval);\n          if (opt.channel_status) opt.channel.unsubscribe();\n          if (opt.call_type === 1) window.removeEventListener(\"beforeunload\", methods.windowClosed, false);\n        }\n        var route;\n        if (parent) {\n          route = call.thread_id + '/calls/' + call.id + '/leave';\n        } else {\n          route = opt.thread_id + '/calls/' + opt.call_id + '/leave';\n        }\n        Messenger.xhr().payload({\n          route: Messenger.common().API + 'threads/' + route,\n          data: {},\n          success: function success(data) {\n            if (parent) {\n              if (Messenger.common().modules.includes('ThreadManager')) {\n                ThreadManager.Import().callStatus(call, 'left');\n              }\n              NotifyManager.heartbeat();\n              return;\n            }\n            if (window.opener) {\n              if (typeof window.opener.ThreadManager !== 'undefined') {\n                window.opener.ThreadManager.Import().callStatus(opt._call, 'left');\n              }\n              if (typeof window.opener.NotifyManager !== 'undefined') window.opener.NotifyManager.heartbeat();\n            }\n            window.close();\n            setTimeout(function () {\n              window.close();\n              window.location.reload();\n            }, 2500);\n          },\n          fail: function fail() {\n            if (window.opener) window.close();\n          }\n        });\n      },\n      openCallWindow: function openCallWindow(call) {\n        var popUp = window.open('', call.id);\n        if (!popUp || typeof popUp.closed === 'undefined' || popUp.closed) {\n          Messenger.alert().destroyModal();\n          Messenger.alert().Modal({\n            size: 'md',\n            icon: 'video',\n            backdrop_ctrl: false,\n            title: 'Popup Blocked',\n            theme: 'info',\n            h4: false,\n            body: '<div class=\"card\"><div class=\"card-body bg-warning shadow rounded\">' + '<h5>It appears your browser is blocking popups. Please allow popups or click the link below to join the call</h5>' + '</div></div><div class=\"mt-4 col-12 text-center h3 font-weight-bold\"><a onclick=\"Messenger.alert().destroyModal()\" target=\"_blank\" href=\"' + Messenger.common().WEB + '/threads/' + call.thread_id + '/calls/' + call.id + '\" ><i class=\"fas fa-video\"></i> Join Call</a></div>'\n          });\n          return;\n        }\n        if (popUp.location.href === 'about:blank') popUp.location.href = Messenger.common().WEB + '/threads/' + call.thread_id + '/calls/' + call.id;\n        popUp.focus();\n      },\n      endCall: function endCall() {\n        if (!opt.call_admin) return;\n        if (opt.heartbeat_interval) clearInterval(opt.heartbeat_interval);\n        opt.initialized = false;\n        if (opt.call_type === 1) {\n          window.removeEventListener(\"beforeunload\", methods.windowClosed, false);\n        }\n        var route = opt.thread_id + '/calls/' + opt.call_id + '/end';\n        Messenger.xhr().payload({\n          route: Messenger.common().API + 'threads/' + route,\n          data: {},\n          success: function success() {\n            if (opt.call_type === 1) {\n              window.close();\n              setTimeout(function () {\n                window.location.reload();\n              }, 3500);\n            }\n          },\n          fail: function fail() {\n            Messenger.xhr().lockout(false);\n          },\n          bypass: true\n        });\n        Messenger.xhr().lockout(true);\n      },\n      callEnded: function callEnded(call) {\n        methods.updateMessenger(call, 'ended');\n        if (opt.initialized && opt.call_type === 1) window.removeEventListener(\"beforeunload\", methods.windowClosed, false);\n        if (opt.initialized && call.id === opt.call_id) {\n          if (opt.heartbeat_interval) clearInterval(opt.heartbeat_interval);\n          setTimeout(function () {\n            window.location.reload();\n          }, 3500);\n        }\n        if (window.opener && call.id === opt.call_id && Messenger.common().modules.includes('JanusServer')) {\n          if (Messenger.common().modules.includes('JanusServer')) JanusServer.config().destroy();\n          window.close();\n        }\n      },\n      callLeft: function callLeft(call) {\n        if (opt.initialized) return;\n        methods.updateMessenger(call, 'left');\n      },\n      callJoined: function callJoined(call) {\n        if (opt.initialized) return;\n        var modal = $(\"#new_call_modal\");\n        methods.updateMessenger(call, 'joined');\n        if (modal.length) Messenger.alert().destroyModal();\n      },\n      popupNoCall: function popupNoCall() {\n        Messenger.alert().Alert({\n          toast: true,\n          theme: 'error',\n          title: 'It appears that call/replay is not available or does not exist'\n        });\n      }\n    };\n  return {\n    init: mounted.Initialize,\n    newCall: methods.incomingCall,\n    join: methods.joinCall,\n    leave: methods.leaveCall,\n    joined: methods.callJoined,\n    left: methods.callLeft,\n    endCall: methods.endCall,\n    callEnded: methods.callEnded,\n    popupNoCall: methods.popupNoCall,\n    setThreadAdmin: function setThreadAdmin(x) {\n      opt.thread_admin = x;\n    },\n    state: function state() {\n      return {\n        initialized: opt.initialized,\n        processing: opt.processing,\n        call: opt.call,\n        call_loaded: opt.call_loaded,\n        call_id: opt.call_id,\n        call_mode: opt.call_mode,\n        call_type: opt.call_type,\n        call_owner: opt.call_owner,\n        call_admin: opt.call_admin,\n        demo: opt.demo,\n        room_id: opt.room_id,\n        room_pin: opt.room_pin,\n        janus_secret: opt.janus_secret,\n        janus_debug: opt.janus_debug,\n        janus_main: opt.janus_main,\n        janus_ice: opt.janus_ice,\n        created_at: opt.created_at,\n        thread_id: opt.thread_id,\n        thread_name: opt.thread_name,\n        thread_type: opt.thread_type,\n        thread_admin: opt.thread_admin\n      };\n    },\n    channel: function channel() {\n      return {\n        socket: opt.channel,\n        state: opt.channel_status,\n        profiles: opt.active_profiles,\n        reconnected: Sockets.reconnected,\n        disconnected: Sockets.disconnected\n      };\n    }\n  };\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi92ZW5kb3IvcnRpcHBpbi9tZXNzZW5nZXItdWkvcmVzb3VyY2VzL2pzL21hbmFnZXJzL0NhbGxNYW5hZ2VyLmpzIiwibWFwcGluZ3MiOiI7QUFBQUEsTUFBTSxDQUFDQyxXQUFXLEdBQUksWUFBWTtFQUM5QixJQUFJQyxHQUFHLEdBQUc7TUFDTkMsV0FBVyxFQUFHLEtBQUs7TUFDbkJDLFNBQVMsRUFBRyxJQUFJO01BQ2hCQyxHQUFHLEVBQUdDLFNBQVMsQ0FBQ0MsTUFBTSxDQUFDLENBQUMsQ0FBQ0YsR0FBRztNQUM1QkcsSUFBSSxFQUFHLEtBQUs7TUFDWkMsVUFBVSxFQUFHLEtBQUs7TUFDbEJDLEtBQUssRUFBRyxJQUFJO01BQ1pDLElBQUksRUFBRyxLQUFLO01BQ1pDLFdBQVcsRUFBRyxLQUFLO01BQ25CQyxPQUFPLEVBQUcsSUFBSTtNQUNkQyxTQUFTLEVBQUcsSUFBSTtNQUNoQkMsVUFBVSxFQUFHLElBQUk7TUFDakJDLFNBQVMsRUFBRyxJQUFJO01BQ2hCQyxVQUFVLEVBQUcsSUFBSTtNQUNqQkMsU0FBUyxFQUFHLElBQUk7TUFDaEJDLFdBQVcsRUFBRyxJQUFJO01BQ2xCQyxXQUFXLEVBQUcsSUFBSTtNQUNsQkMsVUFBVSxFQUFHLElBQUk7TUFDakJDLFlBQVksRUFBRyxJQUFJO01BQ25CQyxPQUFPLEVBQUcsSUFBSTtNQUNkQyxRQUFRLEVBQUcsSUFBSTtNQUNmQyxZQUFZLEVBQUcsSUFBSTtNQUNuQkMsV0FBVyxFQUFHLEtBQUs7TUFDbkJDLFNBQVMsRUFBRyxFQUFFO01BQ2RDLFVBQVUsRUFBRyxFQUFFO01BQ2ZDLE9BQU8sRUFBRyxJQUFJO01BQ2RDLGNBQWMsRUFBRyxLQUFLO01BQ3RCQyxlQUFlLEVBQUcsRUFBRTtNQUNwQkMsa0JBQWtCLEVBQUcsSUFBSTtNQUN6QkMsaUJBQWlCLEVBQUcsQ0FBQztNQUNyQkMsUUFBUSxFQUFHO1FBQ1BDLFdBQVcsRUFBR0MsQ0FBQyxDQUFDLGNBQWMsQ0FBQztRQUMvQkMsZUFBZSxFQUFHRCxDQUFDLENB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QUFHL00sR0FBRyxDQUFDNkIsZUFBZTtRQUM5QndILFdBQVcsRUFBRzFHLE9BQU8sQ0FBQzBHLFdBQVc7UUFDakNGLFlBQVksRUFBR3hHLE9BQU8sQ0FBQ3dHO01BQzNCLENBQUM7SUFDTDtFQUNKLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBRSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3ZlbmRvci9ydGlwcGluL21lc3Nlbmdlci11aS9yZXNvdXJjZXMvanMvbWFuYWdlcnMvQ2FsbE1hbmFnZXIuanM/ODBiMCJdLCJzb3VyY2VzQ29udGVudCI6WyJ3aW5kb3cuQ2FsbE1hbmFnZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBvcHQgPSB7XG4gICAgICAgIGluaXRpYWxpemVkIDogZmFsc2UsXG4gICAgICAgIElOSVRfdGltZSA6IG51bGwsXG4gICAgICAgIEFQSSA6IE1lc3Nlbmdlci5jb21tb24oKS5BUEksXG4gICAgICAgIGRlbW8gOiBmYWxzZSxcbiAgICAgICAgcHJvY2Vzc2luZyA6IGZhbHNlLFxuICAgICAgICBfY2FsbCA6IG51bGwsXG4gICAgICAgIGNhbGwgOiBmYWxzZSxcbiAgICAgICAgY2FsbF9sb2FkZWQgOiBmYWxzZSxcbiAgICAgICAgY2FsbF9pZCA6IG51bGwsXG4gICAgICAgIGNhbGxfbW9kZSA6IG51bGwsXG4gICAgICAgIGNyZWF0ZWRfYXQgOiBudWxsLFxuICAgICAgICBjYWxsX3R5cGUgOiBudWxsLFxuICAgICAgICBjYWxsX293bmVyIDogbnVsbCxcbiAgICAgICAgdGhyZWFkX2lkIDogbnVsbCxcbiAgICAgICAgdGhyZWFkX3R5cGUgOiBudWxsLFxuICAgICAgICB0aHJlYWRfbmFtZSA6IG51bGwsXG4gICAgICAgIGNhbGxfYWRtaW4gOiBudWxsLFxuICAgICAgICB0aHJlYWRfYWRtaW4gOiBudWxsLFxuICAgICAgICByb29tX2lkIDogbnVsbCxcbiAgICAgICAgcm9vbV9waW4gOiBudWxsLFxuICAgICAgICBqYW51c19zZWNyZXQgOiBudWxsLFxuICAgICAgICBqYW51c19kZWJ1ZyA6IGZhbHNlLFxuICAgICAgICBqYW51c19pY2UgOiBbXSxcbiAgICAgICAgamFudXNfbWFpbiA6IFtdLFxuICAgICAgICBjaGFubmVsIDogbnVsbCxcbiAgICAgICAgY2hhbm5lbF9zdGF0dXMgOiBmYWxzZSxcbiAgICAgICAgYWN0aXZlX3Byb2ZpbGVzIDogW10sXG4gICAgICAgIGhlYXJ0YmVhdF9pbnRlcnZhbCA6IG51bGwsXG4gICAgICAgIGhlYXJ0YmVhdF9yZXRyaWVzIDogMCxcbiAgICAgICAgZWxlbWVudHMgOiB7XG4gICAgICAgICAgICBjYWxsX3N0YXR1cyA6ICQoXCIjY2FsbF9zdGF0dXNcIiksXG4gICAgICAgICAgICBjYWxsX3N0YXR1c19tc2cgOiAkKFwiI2NhbGxfc3RhdHVzX21zZ1wiKSxcbiAgICAgICAgICAgIGNhbGxfc3RhdHVzX2JvZHkgOiAkKFwiI2NhbGxfc3RhdHVzX2JvZHlcIiksXG4gICAgICAgICAgICBtYWluX2NhbGwgOiAkKFwiI21haW5fY2FsbFwiKSxcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbW91bnRlZCA9IHtcbiAgICAgICAgSW5pdGlhbGl6ZSA6IGZ1bmN0aW9uKGFyZyl7XG4gICAgICAgICAgICBpZihvcHQuaW5pdGlhbGl6ZWQpIHJldHVybjtcbiAgICAgICAgICAgIG9wdC5jYWxsID0gdHJ1ZTtcbiAgICAgICAgICAgIG9wdC5qYW51c19zZWNyZXQgPSBhcmcuamFudXNfc2VjcmV0O1xuICAgICAgICAgICAgb3B0LmphbnVzX2RlYnVnID0gYXJnLmphbnVzX2RlYnVnO1xuICAgICAgICAgICAgb3B0LmphbnVzX21haW4gPSBhcmcuamFudXNfbWFpbjtcbiAgICAgICAgICAgIG9wdC5qYW51c19pY2UgPSBhcmcuamFudXNfaWNlO1xuICAgICAgICAgICAgb3B0LmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmKGFyZy5oYXNPd25Qcm9wZXJ0eSgnZGVtbycpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG9wdC5jYWxsX2xvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgb3B0LmRlbW8gPSB0cnVlO1xuICAgICAgICAgICAgICAgIG9wdC5yb29tX2lkID0gcGFyc2VJbnQoYXJnLnJvb21faWQpO1xuICAgICAgICAgICAgICAgIG9wdC5yb29tX3BpbiA9IGFyZy5yb29tX3BpbjtcbiAgICAgICAgICAgICAgICBTb2NrZXRzLnNldHVwUlRDKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbW91bnRlZC5sb2FkQ2FsbChhcmcudGhyZWFkX2lkLCBhcmcuY2FsbF9pZCwgbW91bnRlZC5zZXR1cCk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldHVwIDogZnVuY3Rpb24oY2FsbCl7XG4gICAgICAgICAgICBvcHQuY2FsbF9pZCA9IGNhbGwuaWQ7XG4gICAgICAgICAgICBvcHQuY2FsbF90eXBlID0gY2FsbC50eXBlO1xuICAgICAgICAgICAgaWYoIWNhbGwuYWN0aXZlIHx8IGNhbGwub3B0aW9ucy5raWNrZWQpe1xuICAgICAgICAgICAgICAgIG1vdW50ZWQuY2FsbEZhaWxlZCgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdC5fY2FsbCA9IGNhbGw7XG4gICAgICAgICAgICBvcHQuY2FsbF9sb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgb3B0LmNhbGxfb3duZXIgPSBjYWxsLm93bmVyX2lkO1xuICAgICAgICAgICAgb3B0LnRocmVhZF9pZCA9IGNhbGwudGhyZWFkX2lkO1xuICAgICAgICAgICAgb3B0LnRocmVhZF90eXBlID0gY2FsbC5tZXRhLnRocmVhZF90eXBlO1xuICAgICAgICAgICAgb3B0LnRocmVhZF9uYW1lID0gY2FsbC5tZXRhLnRocmVhZF9uYW1lO1xuICAgICAgICAgICAgb3B0LmNhbGxfYWRtaW4gPSBjYWxsLm9wdGlvbnMuYWRtaW47XG4gICAgICAgICAgICBvcHQuY3JlYXRlZF9hdCA9IGNhbGwuY3JlYXRlZF9hdDtcbiAgICAgICAgICAgIG9wdC5JTklUX3RpbWUgPSBkYXlqcygpO1xuICAgICAgICAgICAgbW91bnRlZC5zZXRKYW51c0luZm8oY2FsbCwgZmFsc2UpO1xuICAgICAgICAgICAgTm90aWZ5TWFuYWdlci5zZXRUaXRsZShjYWxsLm1ldGEudGhyZWFkX25hbWUgKyAnIHwgJyArICdWaWRlbyBDYWxsJyk7XG4gICAgICAgIH0sXG4gICAgICAgIGxvYWRDYWxsIDogZnVuY3Rpb24odGhyZWFkLCBjYWxsLCBzdWNjZXNzKXtcbiAgICAgICAgICAgIE1lc3Nlbmdlci54aHIoKS5yZXF1ZXN0KHtcbiAgICAgICAgICAgICAgICByb3V0ZSA6IE1lc3Nlbmdlci5jb21tb24oKS5BUEkgKyAndGhyZWFkcy8nICsgdGhyZWFkICsgJy9jYWxscy8nICsgY2FsbCxcbiAgICAgICAgICAgICAgICBzdWNjZXNzIDogc3VjY2VzcyxcbiAgICAgICAgICAgICAgICBmYWlsIDogbW91bnRlZC5jYWxsRmFpbGVkXG4gICAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICBqb2luQ29uZmlybSA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBvcHQuZWxlbWVudHMuY2FsbF9zdGF0dXNfbXNnLmh0bWwoJ1JlYWR5IHRvIGpvaW4gd2l0aCAnK29wdC5fY2FsbC5tZXRhLnRocmVhZF9uYW1lKyc/Jyk7XG4gICAgICAgICAgICBvcHQuZWxlbWVudHMuY2FsbF9zdGF0dXNfYm9keS5odG1sKHRlbXBsYXRlcy5qb2luX2NvbmZpcm0oKSk7XG4gICAgICAgICAgICAkKFwiI2NhbGxfam9pbl9jb25maXJtXCIpLm9uZSgnY2xpY2snLCBtb3VudGVkLmNoZWNrSWZKb2luZWQpO1xuICAgICAgICAgICAgJChcIiNjYWxsX2V4aXRfY29uZmlybVwiKS5vbmUoJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICB3aW5kb3cuY2xvc2UoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBjaGVja0lmSm9pbmVkIDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZighb3B0Ll9jYWxsLm9wdGlvbnMuam9pbmVkIHx8ICFvcHQuX2NhbGwub3B0aW9ucy5pbl9jYWxsKXtcbiAgICAgICAgICAgICAgICBvcHQuZWxlbWVudHMuY2FsbF9zdGF0dXNfYm9keS5odG1sKE1lc3Nlbmdlci5hbGVydCgpLmxvYWRlcih0cnVlKSlcbiAgICAgICAgICAgICAgICBNZXNzZW5nZXIueGhyKCkucGF5bG9hZCh7XG4gICAgICAgICAgICAgICAgICAgIHJvdXRlIDogTWVzc2VuZ2VyLmNvbW1vbigpLkFQSSArICd0aHJlYWRzLycgKyBvcHQuX2NhbGwudGhyZWFkX2lkICsgJy9jYWxscy8nICsgb3B0Ll9jYWxsLmlkICsgJy9qb2luJyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA6IHt9LFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdW50ZWQubG9hZENhbGwob3B0Ll9jYWxsLnRocmVhZF9pZCwgb3B0Ll9jYWxsLmlkLCBmdW5jdGlvbihjYWxsKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3VudGVkLnNldEphbnVzSW5mbyhjYWxsLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBmYWlsIDogbW91bnRlZC5jYWxsRmFpbGVkLFxuICAgICAgICAgICAgICAgICAgICBieXBhc3MgOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBmYWlsX2FsZXJ0IDogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBtb3VudGVkLnJlYWR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHJlYWR5IDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIFNvY2tldHMuaGVhcnRiZWF0KGZhbHNlKTtcbiAgICAgICAgICAgIFNvY2tldHMuc2V0dXBSVEMoKTtcbiAgICAgICAgICAgIG1vdW50ZWQuc2V0Q29ubmVjdGlvbnMoKTtcbiAgICAgICAgICAgIG9wdC5lbGVtZW50cy5jYWxsX3N0YXR1cy5hZGRDbGFzcygnTlMnKTtcbiAgICAgICAgICAgIG9wdC5lbGVtZW50cy5tYWluX2NhbGwucmVtb3ZlQ2xhc3MoJ05TJyk7XG4gICAgICAgICAgICBpZihvcHQuY2FsbF9hZG1pbikgJChcIiNlbmRfY2FsbF9uYXZcIikucmVtb3ZlQ2xhc3MoJ05TJyk7XG4gICAgICAgICAgICBpZihvcHQuY2FsbF90eXBlID09PSAxKXtcbiAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCBtZXRob2RzLndpbmRvd0Nsb3NlZCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBtZXRob2RzLmNoZWNrRm9yUmVmcmVzaCwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBzZXRKYW51c0luZm8gOiBmdW5jdGlvbihjYWxsLCByZWxvYWRlZCl7XG4gICAgICAgICAgICBpZighY2FsbC5vcHRpb25zLnNldHVwX2NvbXBsZXRlKXtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIG1vdW50ZWQubG9hZENhbGwoY2FsbC50aHJlYWRfaWQsIGNhbGwuaWQsIG1vdW50ZWQuc2V0SmFudXNJbmZvKVxuICAgICAgICAgICAgICAgIH0sIDE1MDApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdC5fY2FsbCA9IGNhbGw7XG4gICAgICAgICAgICBvcHQuY2FsbF9hZG1pbiA9IGNhbGwub3B0aW9ucy5hZG1pbjtcbiAgICAgICAgICAgIG9wdC5yb29tX2lkID0gcGFyc2VJbnQoY2FsbC5vcHRpb25zLnJvb21faWQpO1xuICAgICAgICAgICAgb3B0LnJvb21fcGluID0gY2FsbC5vcHRpb25zLnJvb21fcGluO1xuICAgICAgICAgICAgaWYocmVsb2FkZWQpe1xuICAgICAgICAgICAgICAgIG1vdW50ZWQucmVhZHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgbW91bnRlZC5qb2luQ29uZmlybSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBzZXRDb25uZWN0aW9ucyA6IGZ1bmN0aW9uIChkZWxheWVkKSB7XG4gICAgICAgICAgICBpZighTWVzc2VuZ2VyLmNvbW1vbigpLm1vZHVsZXMuaW5jbHVkZXMoJ05vdGlmeU1hbmFnZXInKSB8fCAhTm90aWZ5TWFuYWdlci5zb2NrZXRzKCkuc3RhdHVzKXtcbiAgICAgICAgICAgICAgICBpZihNZXNzZW5nZXIuZm9ybWF0KCkudGltZURpZmZJblVuaXQoZGF5anMoKSwgb3B0LklOSVRfdGltZSwgJ3MnKSA+PSA4KXtcbiAgICAgICAgICAgICAgICAgICAgZGVsYXllZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBtb3VudGVkLnNldENvbm5lY3Rpb25zKHRydWUpXG4gICAgICAgICAgICAgICAgfSwgZGVsYXllZCA/IDEwMDAgOiAwKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBTb2NrZXRzLnNldHVwKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGNhbGxGYWlsZWQgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgTWVzc2VuZ2VyLmFsZXJ0KCkuTW9kYWwoe1xuICAgICAgICAgICAgICAgIGFsbG93X2Nsb3NlIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2l6ZSA6ICdtZCcsXG4gICAgICAgICAgICAgICAgdGhlbWUgOiAnZGFuZ2VyJyxcbiAgICAgICAgICAgICAgICBjZW50ZXJlZCA6IHRydWUsXG4gICAgICAgICAgICAgICAgaWNvbiA6ICd2aWRlbycsXG4gICAgICAgICAgICAgICAgcHJlX2xvYWRlciA6IHRydWUsXG4gICAgICAgICAgICAgICAgdGl0bGUgOiAnQ2FsbCBzZXNzaW9uIG5vdCBmb3VuZC4gUmVkaXJlY3RpbmcgeW91Li4uJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBNZXNzZW5nZXIuY29tbW9uKCkuV0VCO1xuICAgICAgICAgICAgfSwgNDAwMCk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jbG9zZSgpO1xuICAgICAgICAgICAgfSwgMzAwMCk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIFNvY2tldHMgPSB7XG4gICAgICAgIGhlYXJ0YmVhdCA6IGZ1bmN0aW9uKGNoZWNrKXtcbiAgICAgICAgICAgIGlmKG9wdC5jYWxsX21vZGUgPT09IDQpIHJldHVybjtcbiAgICAgICAgICAgIGxldCBiZWF0ID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBpZihNZXNzZW5nZXIuY29tbW9uKCkubW9kdWxlcy5pbmNsdWRlcygnTm90aWZ5TWFuYWdlcicpICYmICFOb3RpZnlNYW5hZ2VyLnNvY2tldHMoKS5mb3JjZWRfZGlzY29ubmVjdCl7XG4gICAgICAgICAgICAgICAgICAgIE1lc3Nlbmdlci54aHIoKS5yZXF1ZXN0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlIDogTWVzc2VuZ2VyLmNvbW1vbigpLkFQSSArICd0aHJlYWRzLycgKyBvcHQudGhyZWFkX2lkICsgJy9jYWxscy8nICsgb3B0LmNhbGxfaWQgKyAnL2hlYXJ0YmVhdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHQuaGVhcnRiZWF0X3JldHJpZXMgPSAwXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZmFpbCA6IFNvY2tldHMuaGVhcnRiZWF0RmFpbGVkXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGJlYXQoKTtcbiAgICAgICAgICAgIGlmKGNoZWNrKSByZXR1cm47XG4gICAgICAgICAgICBvcHQuaGVhcnRiZWF0X2ludGVydmFsID0gc2V0SW50ZXJ2YWwoYmVhdCwgMzAwMDApXG4gICAgICAgIH0sXG4gICAgICAgIGhlYXJ0YmVhdEZhaWxlZCA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBvcHQuaGVhcnRiZWF0X3JldHJpZXMrKztcbiAgICAgICAgICAgIGlmKG9wdC5oZWFydGJlYXRfcmV0cmllcyA8IDQpIFNvY2tldHMuaGVhcnRiZWF0KHRydWUpO1xuICAgICAgICAgICAgaWYob3B0LmhlYXJ0YmVhdF9yZXRyaWVzID49IDQpe1xuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwob3B0LmhlYXJ0YmVhdF9pbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgaWYob3B0LmNoYW5uZWwpIG9wdC5jaGFubmVsLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgaWYoTWVzc2VuZ2VyLmNvbW1vbigpLm1vZHVsZXMuaW5jbHVkZXMoJ0phbnVzU2VydmVyJykpIEphbnVzU2VydmVyLmNvbmZpZygpLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICBtb3VudGVkLmNhbGxGYWlsZWQoKTtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmNsb3NlKClcbiAgICAgICAgICAgICAgICB9LCAzMDAwKVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBzZXR1cCA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBvcHQuY2hhbm5lbCA9IE5vdGlmeU1hbmFnZXIuc29ja2V0cygpLkVjaG8uam9pbignbWVzc2VuZ2VyLmNhbGwuJytvcHQuY2FsbF9pZCsnLnRocmVhZC4nK29wdC50aHJlYWRfaWQpO1xuICAgICAgICAgICAgb3B0LmNoYW5uZWwuaGVyZShmdW5jdGlvbih1c2Vycyl7XG4gICAgICAgICAgICAgICAgb3B0LmFjdGl2ZV9wcm9maWxlcyA9IFtdO1xuICAgICAgICAgICAgICAgIG9wdC5jaGFubmVsX3N0YXR1cyA9IHRydWU7XG4gICAgICAgICAgICAgICAgJC5lYWNoKHVzZXJzLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYoIU1lc3Nlbmdlci5pc1Byb3ZpZGVyKHRoaXMucHJvdmlkZXJfaWQsIG51bGwsIHRoaXMucHJvdmlkZXJfYWxpYXMpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdC5hY3RpdmVfcHJvZmlsZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3duZXJfaWQgOiB0aGlzLnByb3ZpZGVyX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF2YXRhciA6IHRoaXMuYXZhdGFyLnNtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgOiB0aGlzLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5qb2luaW5nKGZ1bmN0aW9uKHVzZXIpIHtcbiAgICAgICAgICAgICAgICBvcHQuYWN0aXZlX3Byb2ZpbGVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBvd25lcl9pZCA6IHVzZXIucHJvdmlkZXJfaWQsXG4gICAgICAgICAgICAgICAgICAgIGF2YXRhciA6IHVzZXIuYXZhdGFyLnNtLFxuICAgICAgICAgICAgICAgICAgICBuYW1lIDogdXNlci5uYW1lXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgU29ja2V0cy5wdXNoSm9pbih1c2VyKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5sZWF2aW5nKGZ1bmN0aW9uKHVzZXIpIHtcbiAgICAgICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgb3B0LmFjdGl2ZV9wcm9maWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0LmFjdGl2ZV9wcm9maWxlc1tpXS5vd25lcl9pZCA9PT0gdXNlci5wcm92aWRlcl9pZCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHQuYWN0aXZlX3Byb2ZpbGVzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFNvY2tldHMucHVzaExlYXZlKHVzZXIpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmxpc3RlbignLnNodXRkb3duJywgbWV0aG9kcy5zZXJ2ZXJTaHV0ZG93bk5vdGljZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldHVwUlRDIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGlmKCFNZXNzZW5nZXIuY29tbW9uKCkubW9kdWxlcy5pbmNsdWRlcygnSmFudXNTZXJ2ZXInKSl7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChTb2NrZXRzLnNldHVwUlRDLCAwKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBKYW51c1NlcnZlci5jb25maWcoKS5pbml0KG9wdC5kZW1vKTtcbiAgICAgICAgfSxcbiAgICAgICAgcHVzaEpvaW4gOiBmdW5jdGlvbiAodXNlcikge1xuICAgICAgICAgICAgaWYoTWVzc2VuZ2VyLmNvbW1vbigpLm1vZHVsZXMuaW5jbHVkZXMoJ0phbnVzU2VydmVyJykpIEphbnVzU2VydmVyLnNvY2tldCgpLnBlZXJKb2luKHVzZXIpO1xuICAgICAgICB9LFxuICAgICAgICBwdXNoTGVhdmUgOiBmdW5jdGlvbiAodXNlcikge1xuICAgICAgICAgICAgaWYoTWVzc2VuZ2VyLmNvbW1vbigpLm1vZHVsZXMuaW5jbHVkZXMoJ0phbnVzU2VydmVyJykpIEphbnVzU2VydmVyLnNvY2tldCgpLnBlZXJMZWF2ZSh1c2VyKTtcbiAgICAgICAgfSxcbiAgICAgICAgZGlzY29ubmVjdGVkIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgb3B0LmNoYW5uZWxfc3RhdHVzID0gZmFsc2U7XG4gICAgICAgICAgICBpZihNZXNzZW5nZXIuY29tbW9uKCkubW9kdWxlcy5pbmNsdWRlcygnSmFudXNTZXJ2ZXInKSkgSmFudXNTZXJ2ZXIuc29ja2V0KCkub25EaXNjb25uZWN0KCk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlY29ubmVjdGVkIDogZnVuY3Rpb24gKGZ1bGwpIHtcbiAgICAgICAgICAgIG9wdC5jaGFubmVsX3N0YXR1cyA9IHRydWU7XG4gICAgICAgICAgICBpZihNZXNzZW5nZXIuY29tbW9uKCkubW9kdWxlcy5pbmNsdWRlcygnSmFudXNTZXJ2ZXInKSkgSmFudXNTZXJ2ZXIuc29ja2V0KCkub25SZWNvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgdGVtcGxhdGVzID0ge1xuICAgICAgICBjYWxsX2FsZXJ0IDogZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICByZXR1cm4gJzxkaXYgaWQ9XCJuZXdfY2FsbF9tb2RhbFwiIGNsYXNzPVwiY29sLTEyIHRleHQtY2VudGVyIG1iLTFcIj48aDQgY2xhc3M9XCJmb250LXdlaWdodC1ib2xkXCI+JysoZGF0YS5jYWxsLnRocmVhZF90eXBlID09PSAyID8gZGF0YS5jYWxsLnRocmVhZF9uYW1lIDogZGF0YS5zZW5kZXIubmFtZSkrJzwvaDQ+JyArXG4gICAgICAgICAgICAgICAgICAgICc8aW1nIGNsYXNzPVwiaW1nLWZsdWlkIHJvdW5kZWRcIiBzcmM9XCInKyhkYXRhLmNhbGwudGhyZWFkX3R5cGUgPT09IDIgPyBkYXRhLmNhbGwudGhyZWFkX2F2YXRhci5zbSA6IGRhdGEuc2VuZGVyLmF2YXRhci5zbSkrJ1wiIC8+PC9kaXY+J1xuICAgICAgICB9LFxuICAgICAgICBqb2luX2NvbmZpcm0gOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAnPGRpdiBjbGFzcz1cImNvbC0xMiB0ZXh0LWNlbnRlclwiPicgK1xuICAgICAgICAgICAgICAgICc8YnV0dG9uIGlkPVwiY2FsbF9qb2luX2NvbmZpcm1cIiB0eXBlPVwiYnV0dG9uXCIgdGl0bGU9XCJKb2luXCIgY2xhc3M9XCJteC0zIHNoYWRvdy1sZyBidG4gYnRuLWNpcmNsZSBidG4tY2lyY2xlLXhsIGJ0bi1zdWNjZXNzXCI+Sm9pbiA8aSBjbGFzcz1cImZhcyBmYS12aWRlb1wiPjwvaT48L2J1dHRvbj4nICtcbiAgICAgICAgICAgICAgICAnPGJ1dHRvbiBpZD1cImNhbGxfZXhpdF9jb25maXJtXCIgdHlwZT1cImJ1dHRvblwiIHRpdGxlPVwiRXhpdFwiIGNsYXNzPVwibXgtMyBzaGFkb3ctbGcgYnRuIGJ0bi1jaXJjbGUgYnRuLWNpcmNsZS14bCBidG4tZGFuZ2VyXCI+RXhpdCA8aSBjbGFzcz1cImZhcyBmYS10aW1lc1wiPjwvaT48L2J1dHRvbj4nICtcbiAgICAgICAgICAgICAgICAnPC9kaXY+JztcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbWV0aG9kcyA9IHtcbiAgICAgICAgc2VydmVyU2h1dGRvd25Ob3RpY2UgOiBmdW5jdGlvbihzZXJ2ZXIpe1xuICAgICAgICAgICAgTm90aWZ5TWFuYWdlci5zb3VuZCgnbm90aWZ5Jyk7XG4gICAgICAgICAgICBpZihzZXJ2ZXIuc2h1dGRvd24pe1xuICAgICAgICAgICAgICAgIE1lc3Nlbmdlci5hbGVydCgpLk1vZGFsKHtcbiAgICAgICAgICAgICAgICAgICAgaWNvbiA6ICdwb3dlci1vZmYnLFxuICAgICAgICAgICAgICAgICAgICB1bmxvY2tfYnV0dG9ucyA6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcF9jdHJsIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlIDogJ1NlcnZpY2UgTm90aWNlJyxcbiAgICAgICAgICAgICAgICAgICAgdGhlbWUgOiAnd2FybmluZycsXG4gICAgICAgICAgICAgICAgICAgIGJvZHkgOiAnT3VyIGNhbGxzIHN5c3RlbSBpcyBnb2luZyBkb3duIGZvciBtYWludGVuYW5jZS4gWW91IGhhdmUgPGI+JytzZXJ2ZXIuZ3JhY2UrJyBtaW51dGVzPC9iPiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdiZWZvcmUgeW91ciBzZXNzaW9uIHdpbGwgZW5kIGF1dG9tYXRpY2FsbHkuIFdlIGFwb2xvZ2l6ZSBmb3IgYW55IGluY29udmVuaWVuY2UuICcgKyhzZXJ2ZXIubWVzc2FnZSA/ICc8YnI+PGJyPk5vdGU6ICcrc2VydmVyLm1lc3NhZ2UgOiAnJylcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5Nb2RhbCh7XG4gICAgICAgICAgICAgICAgaWNvbiA6ICdwb3dlci1vZmYnLFxuICAgICAgICAgICAgICAgIHVubG9ja19idXR0b25zIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgYmFja2Ryb3BfY3RybCA6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHRpdGxlIDogJ1NlcnZpY2UgTm90aWNlJyxcbiAgICAgICAgICAgICAgICB0aGVtZSA6ICdzdWNjZXNzJyxcbiAgICAgICAgICAgICAgICBib2R5IDogJ1RoZSBjYWxscyBzeXN0ZW0gbWFpbnRlbmFuY2Ugd2FzIGNhbmNlbGxlZC4gWW91IG1heSByZXN1bWUgeW91ciBzZXNzaW9uIGFzIG5vcm1hbC4nXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgd2luZG93Q2xvc2VkIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGlmKHdpbmRvdy5vcGVuZXIpe1xuICAgICAgICAgICAgICAgIHdpbmRvdy5vcGVuZXIuQ2FsbE1hbmFnZXIubGVhdmUodHJ1ZSwge3R5cGUgOiAxLCBpZCA6IG9wdC5jYWxsX2lkLCB0aHJlYWRfaWQgOiBvcHQudGhyZWFkX2lkfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgY2hlY2tGb3JSZWZyZXNoIDogZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICBpZihlLmtleSA9PT0gJ0Y1JyB8fCAoZS5jdHJsS2V5ICYmIGUua2V5ID09PSAncicpKXtcbiAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCBtZXRob2RzLndpbmRvd0Nsb3NlZCwgZmFsc2UpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHVwZGF0ZU1lc3NlbmdlciA6IGZ1bmN0aW9uKGNhbGwsIGFjdGlvbil7XG4gICAgICAgICAgICBpZihNZXNzZW5nZXIuY29tbW9uKCkubW9kdWxlcy5pbmNsdWRlcygnVGhyZWFkTWFuYWdlcicpKXtcbiAgICAgICAgICAgICAgICBUaHJlYWRNYW5hZ2VyLkltcG9ydCgpLmNhbGxTdGF0dXMoY2FsbCwgYWN0aW9uKVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBpbmNvbWluZ0NhbGwgOiBmdW5jdGlvbihjYWxsKXtcbiAgICAgICAgICAgIE5vdGlmeU1hbmFnZXIuc291bmQoJ2NhbGwnKTtcbiAgICAgICAgICAgIG1ldGhvZHMudXBkYXRlTWVzc2VuZ2VyKGNhbGwuY2FsbCwgJ2luY29taW5nJyk7XG4gICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5Nb2RhbCh7XG4gICAgICAgICAgICAgICAgd2FpdF9mb3Jfb3RoZXJzIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBiYWNrZHJvcF9jdHJsIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgY2VudGVyZWQgOiB0cnVlLFxuICAgICAgICAgICAgICAgIHRoZW1lIDogJ3ByaW1hcnknLFxuICAgICAgICAgICAgICAgIGljb24gOiAndmlkZW8nLFxuICAgICAgICAgICAgICAgIHNpemUgOiAnc20nLFxuICAgICAgICAgICAgICAgIHRpdGxlIDogJ0luY29taW5nIHZpZGVvIGNhbGwnLFxuICAgICAgICAgICAgICAgIGJvZHkgOiB0ZW1wbGF0ZXMuY2FsbF9hbGVydChjYWxsKSxcbiAgICAgICAgICAgICAgICBjYl9idG5fdHh0IDogJ0Fuc3dlcicsXG4gICAgICAgICAgICAgICAgY2JfYnRuX2ljb24gOiAndmlkZW8nLFxuICAgICAgICAgICAgICAgIGNiX2J0bl90aGVtZSA6ICdzdWNjZXNzJyxcbiAgICAgICAgICAgICAgICBjYWxsYmFjayA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZHMuam9pbkNhbGwoY2FsbC5jYWxsLCB0cnVlKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2JfY2xvc2UgOiB0cnVlLFxuICAgICAgICAgICAgICAgIHRpbWVyIDogMjUwMDBcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIGpvaW5DYWxsIDogZnVuY3Rpb24oY2FsbCl7XG4gICAgICAgICAgICBtZXRob2RzLm9wZW5DYWxsV2luZG93KGNhbGwpO1xuICAgICAgICAgICAgbWV0aG9kcy51cGRhdGVNZXNzZW5nZXIoY2FsbCwgJ2pvaW5lZCcpO1xuICAgICAgICB9LFxuICAgICAgICBsZWF2ZUNhbGwgOiBmdW5jdGlvbihwYXJlbnQsIGNhbGwpe1xuICAgICAgICAgICAgaWYoIXBhcmVudCl7XG4gICAgICAgICAgICAgICAgb3B0LnByb2Nlc3NpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmKG9wdC5oZWFydGJlYXRfaW50ZXJ2YWwpIGNsZWFySW50ZXJ2YWwob3B0LmhlYXJ0YmVhdF9pbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgaWYob3B0LmNoYW5uZWxfc3RhdHVzKSBvcHQuY2hhbm5lbC51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIGlmKG9wdC5jYWxsX3R5cGUgPT09IDEpIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsIG1ldGhvZHMud2luZG93Q2xvc2VkLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgcm91dGU7XG4gICAgICAgICAgICBpZihwYXJlbnQpe1xuICAgICAgICAgICAgICAgcm91dGUgPSAgY2FsbC50aHJlYWRfaWQgKyAnL2NhbGxzLycgKyBjYWxsLmlkICsgJy9sZWF2ZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIHJvdXRlID0gIG9wdC50aHJlYWRfaWQgKyAnL2NhbGxzLycgKyBvcHQuY2FsbF9pZCArICcvbGVhdmUnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgTWVzc2VuZ2VyLnhocigpLnBheWxvYWQoe1xuICAgICAgICAgICAgICAgIHJvdXRlIDogTWVzc2VuZ2VyLmNvbW1vbigpLkFQSSArICd0aHJlYWRzLycgKyByb3V0ZSxcbiAgICAgICAgICAgICAgICBkYXRhIDoge30sXG4gICAgICAgICAgICAgICAgc3VjY2VzcyA6IGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICAgICAgICAgICBpZihwYXJlbnQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoTWVzc2VuZ2VyLmNvbW1vbigpLm1vZHVsZXMuaW5jbHVkZXMoJ1RocmVhZE1hbmFnZXInKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhyZWFkTWFuYWdlci5JbXBvcnQoKS5jYWxsU3RhdHVzKGNhbGwsICdsZWZ0JylcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIE5vdGlmeU1hbmFnZXIuaGVhcnRiZWF0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYod2luZG93Lm9wZW5lcil7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZih0eXBlb2Ygd2luZG93Lm9wZW5lci5UaHJlYWRNYW5hZ2VyICE9PSAndW5kZWZpbmVkJyl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Lm9wZW5lci5UaHJlYWRNYW5hZ2VyLkltcG9ydCgpLmNhbGxTdGF0dXMob3B0Ll9jYWxsLCAnbGVmdCcpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZih0eXBlb2Ygd2luZG93Lm9wZW5lci5Ob3RpZnlNYW5hZ2VyICE9PSAndW5kZWZpbmVkJykgd2luZG93Lm9wZW5lci5Ob3RpZnlNYW5hZ2VyLmhlYXJ0YmVhdCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpXG4gICAgICAgICAgICAgICAgICAgIH0sIDI1MDApXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmYWlsIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgaWYod2luZG93Lm9wZW5lcikgd2luZG93LmNsb3NlKClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgb3BlbkNhbGxXaW5kb3cgOiBmdW5jdGlvbihjYWxsKXtcbiAgICAgICAgICAgIGxldCBwb3BVcCA9IHdpbmRvdy5vcGVuKCcnLCBjYWxsLmlkKTtcbiAgICAgICAgICAgIGlmKCFwb3BVcCB8fCB0eXBlb2YgcG9wVXAuY2xvc2VkID09PSAndW5kZWZpbmVkJyB8fCBwb3BVcC5jbG9zZWQgKXtcbiAgICAgICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5kZXN0cm95TW9kYWwoKTtcbiAgICAgICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5Nb2RhbCh7XG4gICAgICAgICAgICAgICAgICAgIHNpemUgOiAnbWQnLFxuICAgICAgICAgICAgICAgICAgICBpY29uIDogJ3ZpZGVvJyxcbiAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3BfY3RybCA6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1BvcHVwIEJsb2NrZWQnLFxuICAgICAgICAgICAgICAgICAgICB0aGVtZTogJ2luZm8nLFxuICAgICAgICAgICAgICAgICAgICBoNCA6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBib2R5IDogJzxkaXYgY2xhc3M9XCJjYXJkXCI+PGRpdiBjbGFzcz1cImNhcmQtYm9keSBiZy13YXJuaW5nIHNoYWRvdyByb3VuZGVkXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGg1Pkl0IGFwcGVhcnMgeW91ciBicm93c2VyIGlzIGJsb2NraW5nIHBvcHVwcy4gUGxlYXNlIGFsbG93IHBvcHVwcyBvciBjbGljayB0aGUgbGluayBiZWxvdyB0byBqb2luIHRoZSBjYWxsPC9oNT4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVwibXQtNCBjb2wtMTIgdGV4dC1jZW50ZXIgaDMgZm9udC13ZWlnaHQtYm9sZFwiPjxhIG9uY2xpY2s9XCJNZXNzZW5nZXIuYWxlcnQoKS5kZXN0cm95TW9kYWwoKVwiIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCInK01lc3Nlbmdlci5jb21tb24oKS5XRUIrJy90aHJlYWRzLycrY2FsbC50aHJlYWRfaWQrJy9jYWxscy8nK2NhbGwuaWQrJ1wiID48aSBjbGFzcz1cImZhcyBmYS12aWRlb1wiPjwvaT4gSm9pbiBDYWxsPC9hPjwvZGl2PidcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihwb3BVcC5sb2NhdGlvbi5ocmVmID09PSAnYWJvdXQ6YmxhbmsnKSBwb3BVcC5sb2NhdGlvbi5ocmVmID0gTWVzc2VuZ2VyLmNvbW1vbigpLldFQiArICcvdGhyZWFkcy8nK2NhbGwudGhyZWFkX2lkKycvY2FsbHMvJytjYWxsLmlkO1xuICAgICAgICAgICAgcG9wVXAuZm9jdXMoKVxuICAgICAgICB9LFxuICAgICAgICBlbmRDYWxsIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGlmKCFvcHQuY2FsbF9hZG1pbikgcmV0dXJuO1xuICAgICAgICAgICAgaWYob3B0LmhlYXJ0YmVhdF9pbnRlcnZhbCkgY2xlYXJJbnRlcnZhbChvcHQuaGVhcnRiZWF0X2ludGVydmFsKTtcbiAgICAgICAgICAgIG9wdC5pbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYob3B0LmNhbGxfdHlwZSA9PT0gMSl7XG4gICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIiwgbWV0aG9kcy53aW5kb3dDbG9zZWQsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCByb3V0ZSA9IG9wdC50aHJlYWRfaWQgKyAnL2NhbGxzLycgKyBvcHQuY2FsbF9pZCArICcvZW5kJztcbiAgICAgICAgICAgIE1lc3Nlbmdlci54aHIoKS5wYXlsb2FkKHtcbiAgICAgICAgICAgICAgICByb3V0ZSA6IE1lc3Nlbmdlci5jb21tb24oKS5BUEkgKyAndGhyZWFkcy8nICsgcm91dGUsXG4gICAgICAgICAgICAgICAgZGF0YSA6IHt9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICBpZihvcHQuY2FsbF90eXBlID09PSAxKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAzNTAwKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmYWlsIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgTWVzc2VuZ2VyLnhocigpLmxvY2tvdXQoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYnlwYXNzIDogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBNZXNzZW5nZXIueGhyKCkubG9ja291dCh0cnVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2FsbEVuZGVkIDogZnVuY3Rpb24oY2FsbCl7XG4gICAgICAgICAgICBtZXRob2RzLnVwZGF0ZU1lc3NlbmdlcihjYWxsLCAnZW5kZWQnKTtcbiAgICAgICAgICAgIGlmKG9wdC5pbml0aWFsaXplZCAmJiBvcHQuY2FsbF90eXBlID09PSAxKSB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCBtZXRob2RzLndpbmRvd0Nsb3NlZCwgZmFsc2UpO1xuICAgICAgICAgICAgaWYob3B0LmluaXRpYWxpemVkICYmIGNhbGwuaWQgPT09IG9wdC5jYWxsX2lkKXtcbiAgICAgICAgICAgICAgICBpZihvcHQuaGVhcnRiZWF0X2ludGVydmFsKSBjbGVhckludGVydmFsKG9wdC5oZWFydGJlYXRfaW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKClcbiAgICAgICAgICAgICAgICB9LCAzNTAwKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYod2luZG93Lm9wZW5lciAmJiBjYWxsLmlkID09PSBvcHQuY2FsbF9pZCAmJiBNZXNzZW5nZXIuY29tbW9uKCkubW9kdWxlcy5pbmNsdWRlcygnSmFudXNTZXJ2ZXInKSl7XG4gICAgICAgICAgICAgICAgaWYoTWVzc2VuZ2VyLmNvbW1vbigpLm1vZHVsZXMuaW5jbHVkZXMoJ0phbnVzU2VydmVyJykpIEphbnVzU2VydmVyLmNvbmZpZygpLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICB3aW5kb3cuY2xvc2UoKVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjYWxsTGVmdCA6IGZ1bmN0aW9uKGNhbGwpe1xuICAgICAgICAgICAgaWYob3B0LmluaXRpYWxpemVkKSByZXR1cm47XG4gICAgICAgICAgICBtZXRob2RzLnVwZGF0ZU1lc3NlbmdlcihjYWxsLCAnbGVmdCcpO1xuICAgICAgICB9LFxuICAgICAgICBjYWxsSm9pbmVkIDogZnVuY3Rpb24oY2FsbCl7XG4gICAgICAgICAgICBpZihvcHQuaW5pdGlhbGl6ZWQpIHJldHVybjtcbiAgICAgICAgICAgIGxldCBtb2RhbCA9ICQoXCIjbmV3X2NhbGxfbW9kYWxcIik7XG4gICAgICAgICAgICBtZXRob2RzLnVwZGF0ZU1lc3NlbmdlcihjYWxsLCAnam9pbmVkJyk7XG4gICAgICAgICAgICBpZihtb2RhbC5sZW5ndGgpIE1lc3Nlbmdlci5hbGVydCgpLmRlc3Ryb3lNb2RhbCgpO1xuICAgICAgICB9LFxuICAgICAgICBwb3B1cE5vQ2FsbCA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5BbGVydCh7XG4gICAgICAgICAgICAgICAgdG9hc3QgOiB0cnVlLFxuICAgICAgICAgICAgICAgIHRoZW1lIDogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICB0aXRsZSA6ICdJdCBhcHBlYXJzIHRoYXQgY2FsbC9yZXBsYXkgaXMgbm90IGF2YWlsYWJsZSBvciBkb2VzIG5vdCBleGlzdCdcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIGluaXQgOiBtb3VudGVkLkluaXRpYWxpemUsXG4gICAgICAgIG5ld0NhbGwgOiBtZXRob2RzLmluY29taW5nQ2FsbCxcbiAgICAgICAgam9pbiA6IG1ldGhvZHMuam9pbkNhbGwsXG4gICAgICAgIGxlYXZlIDogbWV0aG9kcy5sZWF2ZUNhbGwsXG4gICAgICAgIGpvaW5lZCA6IG1ldGhvZHMuY2FsbEpvaW5lZCxcbiAgICAgICAgbGVmdCA6IG1ldGhvZHMuY2FsbExlZnQsXG4gICAgICAgIGVuZENhbGwgOiBtZXRob2RzLmVuZENhbGwsXG4gICAgICAgIGNhbGxFbmRlZCA6IG1ldGhvZHMuY2FsbEVuZGVkLFxuICAgICAgICBwb3B1cE5vQ2FsbCA6IG1ldGhvZHMucG9wdXBOb0NhbGwsXG4gICAgICAgIHNldFRocmVhZEFkbWluIDogZnVuY3Rpb24oeCl7XG4gICAgICAgICAgICBvcHQudGhyZWFkX2FkbWluID0geDtcbiAgICAgICAgfSxcbiAgICAgICAgc3RhdGUgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGluaXRpYWxpemVkIDogb3B0LmluaXRpYWxpemVkLFxuICAgICAgICAgICAgICAgIHByb2Nlc3NpbmcgOiBvcHQucHJvY2Vzc2luZyxcbiAgICAgICAgICAgICAgICBjYWxsIDogb3B0LmNhbGwsXG4gICAgICAgICAgICAgICAgY2FsbF9sb2FkZWQgOiBvcHQuY2FsbF9sb2FkZWQsXG4gICAgICAgICAgICAgICAgY2FsbF9pZCA6IG9wdC5jYWxsX2lkLFxuICAgICAgICAgICAgICAgIGNhbGxfbW9kZSA6IG9wdC5jYWxsX21vZGUsXG4gICAgICAgICAgICAgICAgY2FsbF90eXBlIDogb3B0LmNhbGxfdHlwZSxcbiAgICAgICAgICAgICAgICBjYWxsX293bmVyIDogb3B0LmNhbGxfb3duZXIsXG4gICAgICAgICAgICAgICAgY2FsbF9hZG1pbiA6IG9wdC5jYWxsX2FkbWluLFxuICAgICAgICAgICAgICAgIGRlbW8gOiBvcHQuZGVtbyxcbiAgICAgICAgICAgICAgICByb29tX2lkIDogb3B0LnJvb21faWQsXG4gICAgICAgICAgICAgICAgcm9vbV9waW4gOiBvcHQucm9vbV9waW4sXG4gICAgICAgICAgICAgICAgamFudXNfc2VjcmV0IDogb3B0LmphbnVzX3NlY3JldCxcbiAgICAgICAgICAgICAgICBqYW51c19kZWJ1ZyA6IG9wdC5qYW51c19kZWJ1ZyxcbiAgICAgICAgICAgICAgICBqYW51c19tYWluIDogb3B0LmphbnVzX21haW4sXG4gICAgICAgICAgICAgICAgamFudXNfaWNlIDogb3B0LmphbnVzX2ljZSxcbiAgICAgICAgICAgICAgICBjcmVhdGVkX2F0IDogb3B0LmNyZWF0ZWRfYXQsXG4gICAgICAgICAgICAgICAgdGhyZWFkX2lkIDogb3B0LnRocmVhZF9pZCxcbiAgICAgICAgICAgICAgICB0aHJlYWRfbmFtZSA6IG9wdC50aHJlYWRfbmFtZSxcbiAgICAgICAgICAgICAgICB0aHJlYWRfdHlwZSA6IG9wdC50aHJlYWRfdHlwZSxcbiAgICAgICAgICAgICAgICB0aHJlYWRfYWRtaW4gOiBvcHQudGhyZWFkX2FkbWluXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGNoYW5uZWwgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHNvY2tldCA6IG9wdC5jaGFubmVsLFxuICAgICAgICAgICAgICAgIHN0YXRlIDogb3B0LmNoYW5uZWxfc3RhdHVzLFxuICAgICAgICAgICAgICAgIHByb2ZpbGVzIDogb3B0LmFjdGl2ZV9wcm9maWxlcyxcbiAgICAgICAgICAgICAgICByZWNvbm5lY3RlZCA6IFNvY2tldHMucmVjb25uZWN0ZWQsXG4gICAgICAgICAgICAgICAgZGlzY29ubmVjdGVkIDogU29ja2V0cy5kaXNjb25uZWN0ZWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59KCkpOyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJDYWxsTWFuYWdlciIsIm9wdCIsImluaXRpYWxpemVkIiwiSU5JVF90aW1lIiwiQVBJIiwiTWVzc2VuZ2VyIiwiY29tbW9uIiwiZGVtbyIsInByb2Nlc3NpbmciLCJfY2FsbCIsImNhbGwiLCJjYWxsX2xvYWRlZCIsImNhbGxfaWQiLCJjYWxsX21vZGUiLCJjcmVhdGVkX2F0IiwiY2FsbF90eXBlIiwiY2FsbF9vd25lciIsInRocmVhZF9pZCIsInRocmVhZF90eXBlIiwidGhyZWFkX25hbWUiLCJjYWxsX2FkbWluIiwidGhyZWFkX2FkbWluIiwicm9vbV9pZCIsInJvb21fcGluIiwiamFudXNfc2VjcmV0IiwiamFudXNfZGVidWciLCJqYW51c19pY2UiLCJqYW51c19tYWluIiwiY2hhbm5lbCIsImNoYW5uZWxfc3RhdHVzIiwiYWN0aXZlX3Byb2ZpbGVzIiwiaGVhcnRiZWF0X2ludGVydmFsIiwiaGVhcnRiZWF0X3JldHJpZXMiLCJlbGVtZW50cyIsImNhbGxfc3RhdHVzIiwiJCIsImNhbGxfc3RhdHVzX21zZyIsImNhbGxfc3RhdHVzX2JvZHkiLCJtYWluX2NhbGwiLCJtb3VudGVkIiwiSW5pdGlhbGl6ZSIsImFyZyIsImhhc093blByb3BlcnR5IiwicGFyc2VJbnQiLCJTb2NrZXRzIiwic2V0dXBSVEMiLCJsb2FkQ2FsbCIsInNldHVwIiwiaWQiLCJ0eXBlIiwiYWN0aXZlIiwib3B0aW9ucyIsImtpY2tlZCIsImNhbGxGYWlsZWQiLCJvd25lcl9pZCIsIm1ldGEiLCJhZG1pbiIsImRheWpzIiwic2V0SmFudXNJbmZvIiwiTm90aWZ5TWFuYWdlciIsInNldFRpdGxlIiwidGhyZWFkIiwic3VjY2VzcyIsInhociIsInJlcXVlc3QiLCJyb3V0ZSIsImZhaWwiLCJqb2luQ29uZmlybSIsImh0bWwiLCJ0ZW1wbGF0ZXMiLCJqb2luX2NvbmZpcm0iLCJvbmUiLCJjaGVja0lmSm9pbmVkIiwiY2xvc2UiLCJqb2luZWQiLCJpbl9jYWxsIiwiYWxlcnQiLCJsb2FkZXIiLCJwYXlsb2FkIiwiZGF0YSIsImJ5cGFzcyIsImZhaWxfYWxlcnQiLCJyZWFkeSIsImhlYXJ0YmVhdCIsInNldENvbm5lY3Rpb25zIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJtZXRob2RzIiwid2luZG93Q2xvc2VkIiwiY2hlY2tGb3JSZWZyZXNoIiwicmVsb2FkZWQiLCJzZXR1cF9jb21wbGV0ZSIsInNldFRpbWVvdXQiLCJkZWxheWVkIiwibW9kdWxlcyIsImluY2x1ZGVzIiwic29ja2V0cyIsInN0YXR1cyIsImZvcm1hdCIsInRpbWVEaWZmSW5Vbml0IiwiTW9kYWwiLCJhbGxvd19jbG9zZSIsInNpemUiLCJ0aGVtZSIsImNlbnRlcmVkIiwiaWNvbiIsInByZV9sb2FkZXIiLCJ0aXRsZSIsImxvY2F0aW9uIiwiaHJlZiIsIldFQiIsImNoZWNrIiwiYmVhdCIsImZvcmNlZF9kaXNjb25uZWN0IiwiaGVhcnRiZWF0RmFpbGVkIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwidW5zdWJzY3JpYmUiLCJKYW51c1NlcnZlciIsImNvbmZpZyIsImRlc3Ryb3kiLCJFY2hvIiwiam9pbiIsImhlcmUiLCJ1c2VycyIsImVhY2giLCJpc1Byb3ZpZGVyIiwicHJvdmlkZXJfaWQiLCJwcm92aWRlcl9hbGlhcyIsInB1c2giLCJhdmF0YXIiLCJzbSIsIm5hbWUiLCJqb2luaW5nIiwidXNlciIsInB1c2hKb2luIiwibGVhdmluZyIsImkiLCJsZW5ndGgiLCJzcGxpY2UiLCJwdXNoTGVhdmUiLCJsaXN0ZW4iLCJzZXJ2ZXJTaHV0ZG93bk5vdGljZSIsImluaXQiLCJzb2NrZXQiLCJwZWVySm9pbiIsInBlZXJMZWF2ZSIsImRpc2Nvbm5lY3RlZCIsIm9uRGlzY29ubmVjdCIsInJlY29ubmVjdGVkIiwiZnVsbCIsIm9uUmVjb25uZWN0IiwiY2FsbF9hbGVydCIsInNlbmRlciIsInRocmVhZF9hdmF0YXIiLCJzZXJ2ZXIiLCJzb3VuZCIsInNodXRkb3duIiwidW5sb2NrX2J1dHRvbnMiLCJiYWNrZHJvcF9jdHJsIiwiYm9keSIsImdyYWNlIiwibWVzc2FnZSIsIm9wZW5lciIsImxlYXZlIiwiZSIsImtleSIsImN0cmxLZXkiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidXBkYXRlTWVzc2VuZ2VyIiwiYWN0aW9uIiwiVGhyZWFkTWFuYWdlciIsIkltcG9ydCIsImNhbGxTdGF0dXMiLCJpbmNvbWluZ0NhbGwiLCJ3YWl0X2Zvcl9vdGhlcnMiLCJjYl9idG5fdHh0IiwiY2JfYnRuX2ljb24iLCJjYl9idG5fdGhlbWUiLCJjYWxsYmFjayIsImpvaW5DYWxsIiwiY2JfY2xvc2UiLCJ0aW1lciIsIm9wZW5DYWxsV2luZG93IiwibGVhdmVDYWxsIiwicGFyZW50IiwicmVsb2FkIiwicG9wVXAiLCJvcGVuIiwiY2xvc2VkIiwiZGVzdHJveU1vZGFsIiwiaDQiLCJmb2N1cyIsImVuZENhbGwiLCJsb2Nrb3V0IiwiY2FsbEVuZGVkIiwiY2FsbExlZnQiLCJjYWxsSm9pbmVkIiwibW9kYWwiLCJwb3B1cE5vQ2FsbCIsIkFsZXJ0IiwidG9hc3QiLCJuZXdDYWxsIiwibGVmdCIsInNldFRocmVhZEFkbWluIiwieCIsInN0YXRlIiwicHJvZmlsZXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./vendor/rtippin/messenger-ui/resources/js/managers/CallManager.js\n");

/***/ }),

/***/ "./vendor/rtippin/messenger-ui/resources/js/managers/FriendsManager.js":
/*!*****************************************************************************!*\
  !*** ./vendor/rtippin/messenger-ui/resources/js/managers/FriendsManager.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("/* provided dependency */ var $ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\nwindow.FriendsManager = function () {\n  var opt = {\n      lock: true\n    },\n    Initialize = {\n      init: function init() {\n        opt.lock = false;\n      }\n    },\n    templates = {\n      add_to: function add_to(data) {\n        if (\"dropdown\" in data) {\n          return '<a class=\"dropdown-item network_option\" onclick=\"FriendsManager.action({dropdown : true, provider_id : \\'' + data.provider_id + '\\', action : \\'add\\', provider_alias : \\'' + data.provider_alias + '\\'}); return false;\" href=\"#\">' + '<i class=\"fas fa-user-plus\"></i> Add friend</a>';\n        }\n        return '<button id=\"add_network_' + data.provider_id + '\" data-toggle=\"tooltip\" title=\"Add friend\" data-placement=\"top\" class=\"btn btn-success pt-1 pb-0 px-2\" ' + 'onclick=\"FriendsManager.action({action : \\'add\\', provider_alias : \\'' + data.provider_alias + '\\', provider_id : \\'' + data.provider_id + '\\'});\"><i class=\"fas fa-user-plus fa-2x\"></i></button>';\n      },\n      remove_from: function remove_from(data) {\n        if (\"dropdown\" in data) {\n          return '<a class=\"dropdown-item network_option\" onclick=\"FriendsManager.action({dropdown : true, provider_id : \\'' + data.provider_id + '\\', action : \\'remove\\', provider_alias : \\'' + data.provider_alias + '\\'}); return false;\" href=\"#\">' + '<i class=\"fas fa-user-times\"></i> Remove friend</a>';\n        }\n        return '<button id=\"remove_network_' + data.provider_id + '\" data-toggle=\"tooltip\" title=\"Remove friend\" data-placement=\"top\" class=\"btn btn-danger pt-1 pb-0 px-2\" ' + 'onclick=\"FriendsManager.action({action : \\'remove\\', provider_alias : \\'' + data.party.provider_alias + '\\', provider_id : \\'' + data.party.provider_id + '\\'});\"><i class=\"fas fa-user-times fa-2x\"></i></button>';\n      },\n      cancel_request: function cancel_request(data) {\n        if (\"dropdown\" in data) {\n          return '<a class=\"dropdown-item network_option\" onclick=\"FriendsManager.action({dropdown : true, provider_id : \\'' + data.recipient.provider_id + '\\', action : \\'cancel\\', sent_friend_id : \\'' + data.id + '\\', provider_alias : \\'' + data.recipient.provider_alias + '\\'}); return false;\" href=\"#\">' + '<i class=\"fas fa-ban\"></i> Cancel friend request</a>';\n        }\n        return '<button id=\"cancel_network_' + data.provider_id + '\" data-toggle=\"tooltip\" title=\"Cancel friend request\" data-placement=\"top\" class=\"btn btn-danger pt-1 pb-0 px-2\" ' + 'onclick=\"FriendsManager.action({provider_id : \\'' + data.recipient.provider_id + '\\', action : \\'cancel\\', sent_friend_id : \\'' + data.id + '\\', provider_alias : \\'' + data.recipient.provider_alias + '\\'});\"><i class=\"fas fa-ban fa-2x\"></i></button>';\n      }\n    },\n    methods = {\n      perform: function perform(arg) {\n        if (opt.lock) return;\n        Messenger.button().addLoader({\n          id: '#' + arg.action + '_network_' + arg.provider_id\n        });\n        switch (arg.action) {\n          case 'add':\n            methods.addFriend(arg);\n            break;\n          case 'remove':\n            methods.removeFriend(arg);\n            break;\n          case 'cancel':\n            methods.cancelFriend(arg);\n            break;\n          case 'accept':\n            methods.acceptFriend(arg);\n            break;\n          case 'deny':\n            methods.denyFriend(arg);\n            break;\n        }\n      },\n      addFriend: function addFriend(arg) {\n        Messenger.xhr().payload({\n          route: Messenger.common().API + 'friends/sent',\n          data: {\n            recipient_id: arg.provider_id,\n            recipient_alias: arg.provider_alias\n          },\n          shared: arg,\n          success: function success(sent) {\n            var elm = $(\"#network_for_\" + sent.recipient.provider_id);\n            if (elm.length) elm.html(templates.cancel_request(sent));\n            Messenger.alert().Alert({\n              title: 'Friends',\n              body: 'Friend request sent to ' + sent.recipient.name + '!',\n              toast: true,\n              theme: 'success'\n            });\n            PageListeners.listen().tooltips();\n          },\n          fail_alert: true\n        });\n      },\n      acceptFriend: function acceptFriend(arg) {\n        Messenger.xhr().payload({\n          route: Messenger.common().API + 'friends/pending/' + arg.pending_friend_id,\n          data: {},\n          shared: arg,\n          success: function success(friend) {\n            var elm = $(\"#network_for_\" + friend.party.provider_id);\n            if (elm.length) elm.html(templates.remove_from(friend));\n            Messenger.alert().Alert({\n              title: 'Friends',\n              body: 'Approved the friend request from ' + friend.party.name + '!',\n              toast: true,\n              theme: 'success'\n            });\n            PageListeners.listen().tooltips();\n            NotifyManager.friendsPending();\n          },\n          fail_alert: true\n        }, 'put');\n      },\n      cancelFriend: function cancelFriend(arg) {\n        Messenger.xhr().payload({\n          route: Messenger.common().API + 'friends/sent/' + arg.sent_friend_id,\n          data: {},\n          shared: arg,\n          success: function success(provider) {\n            var elm = $(\"#network_for_\" + provider.provider_id);\n            if (elm.length) elm.html(templates.add_to(provider));\n            Messenger.alert().Alert({\n              title: 'Friends',\n              body: 'Friend request cancelled.',\n              toast: true,\n              theme: 'warning'\n            });\n            PageListeners.listen().tooltips();\n            NotifyManager.sentFriends();\n          },\n          fail_alert: true\n        }, 'delete');\n      },\n      denyFriend: function denyFriend(arg) {\n        Messenger.xhr().payload({\n          route: Messenger.common().API + 'friends/pending/' + arg.pending_friend_id,\n          data: {},\n          shared: arg,\n          success: function success(provider) {\n            var elm = $(\"#network_for_\" + provider.provider_id);\n            if (elm.length) elm.html(templates.add_to(provider));\n            Messenger.alert().Alert({\n              title: 'Friends',\n              body: 'Friend request denied.',\n              toast: true,\n              theme: 'error'\n            });\n            PageListeners.listen().tooltips();\n            NotifyManager.friendsPending();\n          },\n          fail_alert: true\n        }, 'delete');\n      },\n      removeFriend: function removeFriend(arg) {\n        Messenger.xhr().payload({\n          route: Messenger.common().API + 'friends/' + arg.friend_id,\n          data: {},\n          shared: arg,\n          success: function success(provider) {\n            var elm = $(\"#network_for_\" + provider.provider_id);\n            if (elm.length) elm.html(templates.add_to(provider));\n            Messenger.alert().Alert({\n              title: 'Friends',\n              body: 'Friend removed.',\n              toast: true,\n              theme: 'error'\n            });\n            PageListeners.listen().tooltips();\n          },\n          fail_alert: true\n        }, 'delete');\n      }\n    };\n  return {\n    action: methods.perform,\n    init: Initialize.init,\n    lock: function lock(arg) {\n      if (typeof arg === 'boolean') opt.lock = arg;\n    }\n  };\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi92ZW5kb3IvcnRpcHBpbi9tZXNzZW5nZXItdWkvcmVzb3VyY2VzL2pzL21hbmFnZXJzL0ZyaWVuZHNNYW5hZ2VyLmpzIiwibWFwcGluZ3MiOiI7QUFBQUEsTUFBTSxDQUFDQyxjQUFjLEdBQUksWUFBWTtFQUNqQyxJQUFJQyxHQUFHLEdBQUc7TUFDTkMsSUFBSSxFQUFHO0lBQ1gsQ0FBQztJQUNEQyxVQUFVLEdBQUc7TUFDWEMsSUFBSSxFQUFHLFNBQUFBLEtBQUEsRUFBVTtRQUNiSCxHQUFHLENBQUNDLElBQUksR0FBRyxLQUFLO01BQ3BCO0lBQ0YsQ0FBQztJQUNERyxTQUFTLEdBQUc7TUFDUkMsTUFBTSxFQUFHLFNBQUFBLE9BQVNDLElBQUksRUFBQztRQUNuQixJQUFHLFVBQVUsSUFBSUEsSUFBSSxFQUFDO1VBQ2xCLE9BQU8sMkdBQTJHLEdBQUNBLElBQUksQ0FBQ0MsV0FBVyxHQUFDLDJDQUEyQyxHQUFDRCxJQUFJLENBQUNFLGNBQWMsR0FBQyxnQ0FBZ0MsR0FDaE8saURBQWlEO1FBQ3pEO1FBQ0EsT0FBTywwQkFBMEIsR0FBQ0YsSUFBSSxDQUFDQyxXQUFXLEdBQUMseUdBQXlHLEdBQ3hKLHVFQUF1RSxHQUFDRCxJQUFJLENBQUNFLGNBQWMsR0FBQyxzQkFBc0IsR0FBQ0YsSUFBSSxDQUFDQyxXQUFXLEdBQUMsd0RBQXdEO01BQ3BNLENBQUM7TUFDREUsV0FBVyxFQUFHLFNBQUFBLFlBQVNILElBQUksRUFBQztRQUN4QixJQUFHLFVBQVUsSUFBSUEsSUFBSSxFQUFDO1VBQ2xCLE9BQU8sMkdBQTJHLEdBQUNBLElBQUksQ0FBQ0MsV0FBVyxHQUFDLDhDQUE4QyxHQUFDRCxJQUFJLENBQUNFLGNBQWMsR0FBQyxnQ0FBZ0MsR0FDbk8scURBQXFEO1FBQzdEO1FBQ0EsT0FBTyw2QkFBNkIsR0FBQ0YsSUFBSSxDQUFDQyxXQUFXLEdBQUMsMkdBQTJHLEdBQzdKLDBFQUEwRSxHQUFDRCxJQUFJLENBQUNJLEtBQUssQ0FBQ0YsY0FBYyxHQUFDLHNCQUFzQixH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LENBQUNtRCxRQUFRLENBQUMsQ0FBQztZQUNuRHZDLFNBQVMsQ0FBQ3VCLEtBQUssQ0FBQyxDQUFDLENBQUNDLEtBQUssQ0FBQztjQUNwQkMsS0FBSyxFQUFHLFNBQVM7Y0FDakJDLElBQUksRUFBRyxpQkFBaUI7Y0FDeEJFLEtBQUssRUFBRyxJQUFJO2NBQ1pDLEtBQUssRUFBRztZQUNaLENBQUMsQ0FBQztZQUNGQyxhQUFhLENBQUNDLE1BQU0sQ0FBQyxDQUFDLENBQUNDLFFBQVEsQ0FBQyxDQUFDO1VBQ3JDLENBQUM7VUFDREMsVUFBVSxFQUFHO1FBQ2pCLENBQUMsRUFBRSxRQUFRLENBQUM7TUFDaEI7SUFDSixDQUFDO0VBQ0QsT0FBTztJQUNIOUIsTUFBTSxFQUFHTixPQUFPLENBQUNDLE9BQU87SUFDeEJaLElBQUksRUFBR0QsVUFBVSxDQUFDQyxJQUFJO0lBQ3RCRixJQUFJLEVBQUcsU0FBQUEsS0FBU2UsR0FBRyxFQUFDO01BQ2hCLElBQUcsT0FBT0EsR0FBRyxLQUFLLFNBQVMsRUFBRWhCLEdBQUcsQ0FBQ0MsSUFBSSxHQUFHZSxHQUFHO0lBQy9DO0VBQ0osQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vdmVuZG9yL3J0aXBwaW4vbWVzc2VuZ2VyLXVpL3Jlc291cmNlcy9qcy9tYW5hZ2Vycy9GcmllbmRzTWFuYWdlci5qcz84NWJiIl0sInNvdXJjZXNDb250ZW50IjpbIndpbmRvdy5GcmllbmRzTWFuYWdlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG9wdCA9IHtcbiAgICAgICAgbG9jayA6IHRydWVcbiAgICB9LFxuICAgIEluaXRpYWxpemUgPSB7XG4gICAgICBpbml0IDogZnVuY3Rpb24oKXtcbiAgICAgICAgICBvcHQubG9jayA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0sXG4gICAgdGVtcGxhdGVzID0ge1xuICAgICAgICBhZGRfdG8gOiBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgIGlmKFwiZHJvcGRvd25cIiBpbiBkYXRhKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gJzxhIGNsYXNzPVwiZHJvcGRvd24taXRlbSBuZXR3b3JrX29wdGlvblwiIG9uY2xpY2s9XCJGcmllbmRzTWFuYWdlci5hY3Rpb24oe2Ryb3Bkb3duIDogdHJ1ZSwgcHJvdmlkZXJfaWQgOiBcXCcnK2RhdGEucHJvdmlkZXJfaWQrJ1xcJywgYWN0aW9uIDogXFwnYWRkXFwnLCBwcm92aWRlcl9hbGlhcyA6IFxcJycrZGF0YS5wcm92aWRlcl9hbGlhcysnXFwnfSk7IHJldHVybiBmYWxzZTtcIiBocmVmPVwiI1wiPicgK1xuICAgICAgICAgICAgICAgICAgICAnPGkgY2xhc3M9XCJmYXMgZmEtdXNlci1wbHVzXCI+PC9pPiBBZGQgZnJpZW5kPC9hPic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gJzxidXR0b24gaWQ9XCJhZGRfbmV0d29ya18nK2RhdGEucHJvdmlkZXJfaWQrJ1wiIGRhdGEtdG9nZ2xlPVwidG9vbHRpcFwiIHRpdGxlPVwiQWRkIGZyaWVuZFwiIGRhdGEtcGxhY2VtZW50PVwidG9wXCIgY2xhc3M9XCJidG4gYnRuLXN1Y2Nlc3MgcHQtMSBwYi0wIHB4LTJcIiAnICtcbiAgICAgICAgICAgICAgICAnb25jbGljaz1cIkZyaWVuZHNNYW5hZ2VyLmFjdGlvbih7YWN0aW9uIDogXFwnYWRkXFwnLCBwcm92aWRlcl9hbGlhcyA6IFxcJycrZGF0YS5wcm92aWRlcl9hbGlhcysnXFwnLCBwcm92aWRlcl9pZCA6IFxcJycrZGF0YS5wcm92aWRlcl9pZCsnXFwnfSk7XCI+PGkgY2xhc3M9XCJmYXMgZmEtdXNlci1wbHVzIGZhLTJ4XCI+PC9pPjwvYnV0dG9uPic7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZV9mcm9tIDogZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICBpZihcImRyb3Bkb3duXCIgaW4gZGF0YSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuICc8YSBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gbmV0d29ya19vcHRpb25cIiBvbmNsaWNrPVwiRnJpZW5kc01hbmFnZXIuYWN0aW9uKHtkcm9wZG93biA6IHRydWUsIHByb3ZpZGVyX2lkIDogXFwnJytkYXRhLnByb3ZpZGVyX2lkKydcXCcsIGFjdGlvbiA6IFxcJ3JlbW92ZVxcJywgcHJvdmlkZXJfYWxpYXMgOiBcXCcnK2RhdGEucHJvdmlkZXJfYWxpYXMrJ1xcJ30pOyByZXR1cm4gZmFsc2U7XCIgaHJlZj1cIiNcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgJzxpIGNsYXNzPVwiZmFzIGZhLXVzZXItdGltZXNcIj48L2k+IFJlbW92ZSBmcmllbmQ8L2E+JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAnPGJ1dHRvbiBpZD1cInJlbW92ZV9uZXR3b3JrXycrZGF0YS5wcm92aWRlcl9pZCsnXCIgZGF0YS10b2dnbGU9XCJ0b29sdGlwXCIgdGl0bGU9XCJSZW1vdmUgZnJpZW5kXCIgZGF0YS1wbGFjZW1lbnQ9XCJ0b3BcIiBjbGFzcz1cImJ0biBidG4tZGFuZ2VyIHB0LTEgcGItMCBweC0yXCIgJyArXG4gICAgICAgICAgICAgICAgJ29uY2xpY2s9XCJGcmllbmRzTWFuYWdlci5hY3Rpb24oe2FjdGlvbiA6IFxcJ3JlbW92ZVxcJywgcHJvdmlkZXJfYWxpYXMgOiBcXCcnK2RhdGEucGFydHkucHJvdmlkZXJfYWxpYXMrJ1xcJywgcHJvdmlkZXJfaWQgOiBcXCcnK2RhdGEucGFydHkucHJvdmlkZXJfaWQrJ1xcJ30pO1wiPjxpIGNsYXNzPVwiZmFzIGZhLXVzZXItdGltZXMgZmEtMnhcIj48L2k+PC9idXR0b24+JztcbiAgICAgICAgfSxcbiAgICAgICAgY2FuY2VsX3JlcXVlc3QgOiBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgIGlmKFwiZHJvcGRvd25cIiBpbiBkYXRhKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gJzxhIGNsYXNzPVwiZHJvcGRvd24taXRlbSBuZXR3b3JrX29wdGlvblwiIG9uY2xpY2s9XCJGcmllbmRzTWFuYWdlci5hY3Rpb24oe2Ryb3Bkb3duIDogdHJ1ZSwgcHJvdmlkZXJfaWQgOiBcXCcnK2RhdGEucmVjaXBpZW50LnByb3ZpZGVyX2lkKydcXCcsIGFjdGlvbiA6IFxcJ2NhbmNlbFxcJywgc2VudF9mcmllbmRfaWQgOiBcXCcnK2RhdGEuaWQrJ1xcJywgcHJvdmlkZXJfYWxpYXMgOiBcXCcnK2RhdGEucmVjaXBpZW50LnByb3ZpZGVyX2FsaWFzKydcXCd9KTsgcmV0dXJuIGZhbHNlO1wiIGhyZWY9XCIjXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICc8aSBjbGFzcz1cImZhcyBmYS1iYW5cIj48L2k+IENhbmNlbCBmcmllbmQgcmVxdWVzdDwvYT4nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICc8YnV0dG9uIGlkPVwiY2FuY2VsX25ldHdvcmtfJytkYXRhLnByb3ZpZGVyX2lkKydcIiBkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIiB0aXRsZT1cIkNhbmNlbCBmcmllbmQgcmVxdWVzdFwiIGRhdGEtcGxhY2VtZW50PVwidG9wXCIgY2xhc3M9XCJidG4gYnRuLWRhbmdlciBwdC0xIHBiLTAgcHgtMlwiICcgK1xuICAgICAgICAgICAgICAgICdvbmNsaWNrPVwiRnJpZW5kc01hbmFnZXIuYWN0aW9uKHtwcm92aWRlcl9pZCA6IFxcJycrZGF0YS5yZWNpcGllbnQucHJvdmlkZXJfaWQrJ1xcJywgYWN0aW9uIDogXFwnY2FuY2VsXFwnLCBzZW50X2ZyaWVuZF9pZCA6IFxcJycrZGF0YS5pZCsnXFwnLCBwcm92aWRlcl9hbGlhcyA6IFxcJycrZGF0YS5yZWNpcGllbnQucHJvdmlkZXJfYWxpYXMrJ1xcJ30pO1wiPjxpIGNsYXNzPVwiZmFzIGZhLWJhbiBmYS0yeFwiPjwvaT48L2J1dHRvbj4nO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBtZXRob2RzID0ge1xuICAgICAgICBwZXJmb3JtIDogZnVuY3Rpb24oYXJnKXtcbiAgICAgICAgICAgIGlmKG9wdC5sb2NrKSByZXR1cm47XG4gICAgICAgICAgICBNZXNzZW5nZXIuYnV0dG9uKCkuYWRkTG9hZGVyKHtpZCA6ICcjJythcmcuYWN0aW9uKydfbmV0d29ya18nK2FyZy5wcm92aWRlcl9pZH0pO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKGFyZy5hY3Rpb24pe1xuICAgICAgICAgICAgICAgIGNhc2UgJ2FkZCc6XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZHMuYWRkRnJpZW5kKGFyZyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAncmVtb3ZlJzpcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kcy5yZW1vdmVGcmllbmQoYXJnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdjYW5jZWwnOlxuICAgICAgICAgICAgICAgICAgICBtZXRob2RzLmNhbmNlbEZyaWVuZChhcmcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2FjY2VwdCc6XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZHMuYWNjZXB0RnJpZW5kKGFyZyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZGVueSc6XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZHMuZGVueUZyaWVuZChhcmcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhZGRGcmllbmQgOiBmdW5jdGlvbihhcmcpe1xuICAgICAgICAgICAgTWVzc2VuZ2VyLnhocigpLnBheWxvYWQoe1xuICAgICAgICAgICAgICAgIHJvdXRlIDogTWVzc2VuZ2VyLmNvbW1vbigpLkFQSSArICdmcmllbmRzL3NlbnQnLFxuICAgICAgICAgICAgICAgIGRhdGEgOiB7XG4gICAgICAgICAgICAgICAgICAgIHJlY2lwaWVudF9pZCA6IGFyZy5wcm92aWRlcl9pZCxcbiAgICAgICAgICAgICAgICAgICAgcmVjaXBpZW50X2FsaWFzIDogYXJnLnByb3ZpZGVyX2FsaWFzXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzaGFyZWQgOiBhcmcsXG4gICAgICAgICAgICAgICAgc3VjY2VzcyA6IGZ1bmN0aW9uKHNlbnQpe1xuICAgICAgICAgICAgICAgICAgICBsZXQgZWxtID0gJChcIiNuZXR3b3JrX2Zvcl9cIitzZW50LnJlY2lwaWVudC5wcm92aWRlcl9pZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmKGVsbS5sZW5ndGgpIGVsbS5odG1sKHRlbXBsYXRlcy5jYW5jZWxfcmVxdWVzdChzZW50KSk7XG4gICAgICAgICAgICAgICAgICAgIE1lc3Nlbmdlci5hbGVydCgpLkFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlIDogJ0ZyaWVuZHMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9keSA6ICdGcmllbmQgcmVxdWVzdCBzZW50IHRvICcgKyBzZW50LnJlY2lwaWVudC5uYW1lICsgJyEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3QgOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhlbWUgOiAnc3VjY2VzcydcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIFBhZ2VMaXN0ZW5lcnMubGlzdGVuKCkudG9vbHRpcHMoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZhaWxfYWxlcnQgOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgYWNjZXB0RnJpZW5kIDogZnVuY3Rpb24oYXJnKXtcbiAgICAgICAgICAgIE1lc3Nlbmdlci54aHIoKS5wYXlsb2FkKHtcbiAgICAgICAgICAgICAgICByb3V0ZSA6IE1lc3Nlbmdlci5jb21tb24oKS5BUEkgKyAnZnJpZW5kcy9wZW5kaW5nLycgKyBhcmcucGVuZGluZ19mcmllbmRfaWQsXG4gICAgICAgICAgICAgICAgZGF0YSA6IHt9LFxuICAgICAgICAgICAgICAgIHNoYXJlZCA6IGFyZyxcbiAgICAgICAgICAgICAgICBzdWNjZXNzIDogZnVuY3Rpb24oZnJpZW5kKXtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVsbSA9ICQoXCIjbmV0d29ya19mb3JfXCIrZnJpZW5kLnBhcnR5LnByb3ZpZGVyX2lkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYoZWxtLmxlbmd0aCkgZWxtLmh0bWwodGVtcGxhdGVzLnJlbW92ZV9mcm9tKGZyaWVuZCkpO1xuICAgICAgICAgICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5BbGVydCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSA6ICdGcmllbmRzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHkgOiAnQXBwcm92ZWQgdGhlIGZyaWVuZCByZXF1ZXN0IGZyb20gJyArIGZyaWVuZC5wYXJ0eS5uYW1lICsgJyEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3QgOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhlbWUgOiAnc3VjY2VzcydcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIFBhZ2VMaXN0ZW5lcnMubGlzdGVuKCkudG9vbHRpcHMoKTtcbiAgICAgICAgICAgICAgICAgICAgTm90aWZ5TWFuYWdlci5mcmllbmRzUGVuZGluZygpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmYWlsX2FsZXJ0IDogdHJ1ZVxuICAgICAgICAgICAgfSwgJ3B1dCcpO1xuICAgICAgICB9LFxuICAgICAgICBjYW5jZWxGcmllbmQgOiBmdW5jdGlvbihhcmcpe1xuICAgICAgICAgICAgTWVzc2VuZ2VyLnhocigpLnBheWxvYWQoe1xuICAgICAgICAgICAgICAgIHJvdXRlIDogTWVzc2VuZ2VyLmNvbW1vbigpLkFQSSArICdmcmllbmRzL3NlbnQvJyArIGFyZy5zZW50X2ZyaWVuZF9pZCxcbiAgICAgICAgICAgICAgICBkYXRhIDoge30sXG4gICAgICAgICAgICAgICAgc2hhcmVkIDogYXJnLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbihwcm92aWRlcil7XG4gICAgICAgICAgICAgICAgICAgIGxldCBlbG0gPSAkKFwiI25ldHdvcmtfZm9yX1wiK3Byb3ZpZGVyLnByb3ZpZGVyX2lkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYoZWxtLmxlbmd0aCkgZWxtLmh0bWwodGVtcGxhdGVzLmFkZF90byhwcm92aWRlcikpO1xuICAgICAgICAgICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5BbGVydCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSA6ICdGcmllbmRzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHkgOiAnRnJpZW5kIHJlcXVlc3QgY2FuY2VsbGVkLicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdCA6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGVtZSA6ICd3YXJuaW5nJ1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgUGFnZUxpc3RlbmVycy5saXN0ZW4oKS50b29sdGlwcygpO1xuICAgICAgICAgICAgICAgICAgICBOb3RpZnlNYW5hZ2VyLnNlbnRGcmllbmRzKClcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZhaWxfYWxlcnQgOiB0cnVlXG4gICAgICAgICAgICB9LCAnZGVsZXRlJyk7XG4gICAgICAgIH0sXG4gICAgICAgIGRlbnlGcmllbmQgOiBmdW5jdGlvbihhcmcpe1xuICAgICAgICAgICAgTWVzc2VuZ2VyLnhocigpLnBheWxvYWQoe1xuICAgICAgICAgICAgICAgIHJvdXRlIDogTWVzc2VuZ2VyLmNvbW1vbigpLkFQSSArICdmcmllbmRzL3BlbmRpbmcvJyArIGFyZy5wZW5kaW5nX2ZyaWVuZF9pZCxcbiAgICAgICAgICAgICAgICBkYXRhIDoge30sXG4gICAgICAgICAgICAgICAgc2hhcmVkIDogYXJnLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbihwcm92aWRlcil7XG4gICAgICAgICAgICAgICAgICAgIGxldCBlbG0gPSAkKFwiI25ldHdvcmtfZm9yX1wiK3Byb3ZpZGVyLnByb3ZpZGVyX2lkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYoZWxtLmxlbmd0aCkgZWxtLmh0bWwodGVtcGxhdGVzLmFkZF90byhwcm92aWRlcikpO1xuICAgICAgICAgICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5BbGVydCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSA6ICdGcmllbmRzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHkgOiAnRnJpZW5kIHJlcXVlc3QgZGVuaWVkLicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdCA6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGVtZSA6ICdlcnJvcidcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIFBhZ2VMaXN0ZW5lcnMubGlzdGVuKCkudG9vbHRpcHMoKTtcbiAgICAgICAgICAgICAgICAgICAgTm90aWZ5TWFuYWdlci5mcmllbmRzUGVuZGluZygpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmYWlsX2FsZXJ0IDogdHJ1ZVxuICAgICAgICAgICAgfSwgJ2RlbGV0ZScpO1xuICAgICAgICB9LFxuICAgICAgICByZW1vdmVGcmllbmQgOiBmdW5jdGlvbihhcmcpe1xuICAgICAgICAgICAgTWVzc2VuZ2VyLnhocigpLnBheWxvYWQoe1xuICAgICAgICAgICAgICAgIHJvdXRlIDogTWVzc2VuZ2VyLmNvbW1vbigpLkFQSSArICdmcmllbmRzLycgKyBhcmcuZnJpZW5kX2lkLFxuICAgICAgICAgICAgICAgIGRhdGEgOiB7fSxcbiAgICAgICAgICAgICAgICBzaGFyZWQgOiBhcmcsXG4gICAgICAgICAgICAgICAgc3VjY2VzcyA6IGZ1bmN0aW9uKHByb3ZpZGVyKXtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVsbSA9ICQoXCIjbmV0d29ya19mb3JfXCIrcHJvdmlkZXIucHJvdmlkZXJfaWQpO1xuICAgICAgICAgICAgICAgICAgICBpZihlbG0ubGVuZ3RoKSBlbG0uaHRtbCh0ZW1wbGF0ZXMuYWRkX3RvKHByb3ZpZGVyKSk7XG4gICAgICAgICAgICAgICAgICAgIE1lc3Nlbmdlci5hbGVydCgpLkFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlIDogJ0ZyaWVuZHMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9keSA6ICdGcmllbmQgcmVtb3ZlZC4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3QgOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhlbWUgOiAnZXJyb3InXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBQYWdlTGlzdGVuZXJzLmxpc3RlbigpLnRvb2x0aXBzKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmYWlsX2FsZXJ0IDogdHJ1ZVxuICAgICAgICAgICAgfSwgJ2RlbGV0ZScpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICBhY3Rpb24gOiBtZXRob2RzLnBlcmZvcm0sXG4gICAgICAgIGluaXQgOiBJbml0aWFsaXplLmluaXQsXG4gICAgICAgIGxvY2sgOiBmdW5jdGlvbihhcmcpe1xuICAgICAgICAgICAgaWYodHlwZW9mIGFyZyA9PT0gJ2Jvb2xlYW4nKSBvcHQubG9jayA9IGFyZ1xuICAgICAgICB9XG4gICAgfTtcbn0oKSk7Il0sIm5hbWVzIjpbIndpbmRvdyIsIkZyaWVuZHNNYW5hZ2VyIiwib3B0IiwibG9jayIsIkluaXRpYWxpemUiLCJpbml0IiwidGVtcGxhdGVzIiwiYWRkX3RvIiwiZGF0YSIsInByb3ZpZGVyX2lkIiwicHJvdmlkZXJfYWxpYXMiLCJyZW1vdmVfZnJvbSIsInBhcnR5IiwiY2FuY2VsX3JlcXVlc3QiLCJyZWNpcGllbnQiLCJpZCIsIm1ldGhvZHMiLCJwZXJmb3JtIiwiYXJnIiwiTWVzc2VuZ2VyIiwiYnV0dG9uIiwiYWRkTG9hZGVyIiwiYWN0aW9uIiwiYWRkRnJpZW5kIiwicmVtb3ZlRnJpZW5kIiwiY2FuY2VsRnJpZW5kIiwiYWNjZXB0RnJpZW5kIiwiZGVueUZyaWVuZCIsInhociIsInBheWxvYWQiLCJyb3V0ZSIsImNvbW1vbiIsIkFQSSIsInJlY2lwaWVudF9pZCIsInJlY2lwaWVudF9hbGlhcyIsInNoYXJlZCIsInN1Y2Nlc3MiLCJzZW50IiwiZWxtIiwiJCIsImxlbmd0aCIsImh0bWwiLCJhbGVydCIsIkFsZXJ0IiwidGl0bGUiLCJib2R5IiwibmFtZSIsInRvYXN0IiwidGhlbWUiLCJQYWdlTGlzdGVuZXJzIiwibGlzdGVuIiwidG9vbHRpcHMiLCJmYWlsX2FsZXJ0IiwicGVuZGluZ19mcmllbmRfaWQiLCJmcmllbmQiLCJOb3RpZnlNYW5hZ2VyIiwiZnJpZW5kc1BlbmRpbmciLCJzZW50X2ZyaWVuZF9pZCIsInByb3ZpZGVyIiwic2VudEZyaWVuZHMiLCJmcmllbmRfaWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./vendor/rtippin/messenger-ui/resources/js/managers/FriendsManager.js\n");

/***/ }),

/***/ "./vendor/rtippin/messenger-ui/resources/js/managers/InactivityManager.js":
/*!********************************************************************************!*\
  !*** ./vendor/rtippin/messenger-ui/resources/js/managers/InactivityManager.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("/* provided dependency */ var $ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\nwindow.InactivityManager = function () {\n  var presence_chat = null,\n    private_chat = null,\n    methods = {\n      resetTimer: function resetTimer(arg) {\n        switch (arg.type) {\n          case 1:\n            if (!private_chat) {\n              arg.activate();\n            } else {\n              window.clearTimeout(private_chat);\n            }\n            break;\n          case 2:\n            if (!presence_chat) {\n              arg.activate();\n            } else {\n              window.clearTimeout(presence_chat);\n            }\n            break;\n        }\n        methods.startTimer(arg);\n      },\n      startTimer: function startTimer(arg) {\n        switch (arg.type) {\n          case 1:\n            private_chat = setTimeout(function () {\n              methods.runInactive(arg);\n            }, 10800000); //3 hours (10800000)\n            break;\n          case 2:\n            presence_chat = setTimeout(function () {\n              methods.runInactive(arg);\n            }, CallManager.state().initialized ? 1800000 : 360000); //6 minutes (360000) - 30 minutes if in call (1800000)\n            break;\n        }\n      },\n      runInactive: function runInactive(arg) {\n        switch (arg.type) {\n          case 1:\n            private_chat = null;\n            break;\n          case 2:\n            presence_chat = null;\n            break;\n        }\n        arg.inactive();\n      },\n      setupTimer: function setupTimer(arg) {\n        $(window).mousemove(function () {\n          methods.resetTimer(arg);\n        });\n        $(window).keypress(function () {\n          methods.resetTimer(arg);\n        });\n        $(window).on(\"touchmove\", function () {\n          methods.resetTimer(arg);\n        });\n        methods.startTimer(arg);\n      }\n    };\n  return {\n    setup: methods.setupTimer\n  };\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi92ZW5kb3IvcnRpcHBpbi9tZXNzZW5nZXItdWkvcmVzb3VyY2VzL2pzL21hbmFnZXJzL0luYWN0aXZpdHlNYW5hZ2VyLmpzIiwibWFwcGluZ3MiOiI7QUFBQUEsTUFBTSxDQUFDQyxpQkFBaUIsR0FBSSxZQUFZO0VBQ3BDLElBQUlDLGFBQWEsR0FBRyxJQUFJO0lBQ3BCQyxZQUFZLEdBQUcsSUFBSTtJQUN2QkMsT0FBTyxHQUFHO01BQ05DLFVBQVUsRUFBRyxTQUFBQSxXQUFTQyxHQUFHLEVBQUM7UUFDdEIsUUFBT0EsR0FBRyxDQUFDQyxJQUFJO1VBQ1gsS0FBSyxDQUFDO1lBQ0YsSUFBRyxDQUFDSixZQUFZLEVBQUM7Y0FDYkcsR0FBRyxDQUFDRSxRQUFRLENBQUMsQ0FBQztZQUNsQixDQUFDLE1BQ0c7Y0FDQVIsTUFBTSxDQUFDUyxZQUFZLENBQUNOLFlBQVksQ0FBQztZQUNyQztZQUNKO1VBQ0EsS0FBSyxDQUFDO1lBQ0YsSUFBRyxDQUFDRCxhQUFhLEVBQUM7Y0FDZEksR0FBRyxDQUFDRSxRQUFRLENBQUMsQ0FBQztZQUNsQixDQUFDLE1BQ0c7Y0FDQVIsTUFBTSxDQUFDUyxZQUFZLENBQUNQLGFBQWEsQ0FBQztZQUN0QztZQUNKO1FBQ0o7UUFDQUUsT0FBTyxDQUFDTSxVQUFVLENBQUNKLEdBQUcsQ0FBQztNQUMzQixDQUFDO01BQ0RJLFVBQVUsRUFBRyxTQUFBQSxXQUFTSixHQUFHLEVBQUM7UUFDdEIsUUFBT0EsR0FBRyxDQUFDQyxJQUFJO1VBQ1gsS0FBSyxDQUFDO1lBQ0ZKLFlBQVksR0FBR1EsVUFBVSxDQUFDLFlBQVU7Y0FDaENQLE9BQU8sQ0FBQ1EsV0FBVyxDQUFDTixHQUFHLENBQUM7WUFDNUIsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFDbEI7VUFDQSxLQUFLLENBQUM7WUFDRkosYUFBYSxHQUFHUyxVQUFVLENBQUMsWUFBVTtjQUNqQ1AsT0FBTyxDQUFDUSxXQUFXLENBQUNOLEdBQUcsQ0FBQztZQUM1QixDQUFDLEVBQUdPLFdBQVcsQ0FBQ0MsS0FBSyxDQUFDLENBQUMsQ0FBQ0MsV0FBVyxHQUFHLE9BQU8sR0FBRyxNQUFPLENBQUMsQ0FBQyxDQUFDO1lBQzlEO1FBQ0o7TUFDSixDQUFDO01BQ0RILFdBQVcsRUFBRyxTQUFBQSxZQUFTTixHQUFHLEVBQUM7UUFDdkIsUUFBT0EsR0FBRyxDQUFDQyxJQUFJO1VBQ1gsS0FBSyxDQUFDO1lBQ0ZKLFlBQVksR0FBRyxJQUFJO1lBQ3ZCO1VBQ0EsS0FBSyxDQUFDO1lBQ0ZELGFBQWEsR0FBRyxJQUFJO1lBQ3hCO1FBQ0o7UUFDQUksR0FBRyxDQUFDVSxRQUFRLENBQUMsQ0FBQztNQUNsQixDQUFDO01BQ0RDLFVBQVUsRUFBRyxTQUFBQSxXQUFTWCxHQUFHLEVBQUM7UUFDdEJZLENBQUMsQ0FBQ2xCLE1BQU0sQ0FBQyxDQUFDbUIsU0FBUyxDQUFDLFlBQVU7VUFDMUJmLE9BQU8sQ0FBQ0MsVUFBVSxDQUFDQyxHQUFHLENBQUM7UUFDM0IsQ0FBQyxDQUFDO1FBQ0ZZLENBQUMsQ0FBQ2xCLE1BQU0sQ0FBQyxDQUFDb0IsUUFBUSxDQUFDLFlBQVU7VUFDekJoQixPQUFPLENBQUNDLFVBQVUsQ0FBQ0MsR0FBRyxDQUFDO1FBQzNCLENBQUMsQ0FBQztRQUNGWSxDQUFDLENBQUNsQixNQUFNLENBQUMsQ0FBQ3FCLEVBQUUsQ0FBQyxXQUFXLEVBQUUsWUFBVTtVQUNoQ2pCLE9BQU8sQ0FBQ0MsVUFBVSxDQUFDQyxHQUFHLENBQUM7UUFDM0IsQ0FBQyxDQUFDO1FBQ0ZGLE9BQU8sQ0FBQ00sVUFBVSxDQUFDSixHQUFHLENBQUM7TUFDM0I7SUFDSixDQUFDO0VBQ0QsT0FBTztJQUNIZ0IsS0FBSyxFQUFHbEIsT0FBTyxDQUFDYTtFQUNwQixDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi92ZW5kb3IvcnRpcHBpbi9tZXNzZW5nZXItdWkvcmVzb3VyY2VzL2pzL21hbmFnZXJzL0luYWN0aXZpdHlNYW5hZ2VyLmpzP2FkMjciXSwic291cmNlc0NvbnRlbnQiOlsid2luZG93LkluYWN0aXZpdHlNYW5hZ2VyID0gKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcHJlc2VuY2VfY2hhdCA9IG51bGwsXG4gICAgICAgIHByaXZhdGVfY2hhdCA9IG51bGwsXG4gICAgbWV0aG9kcyA9IHtcbiAgICAgICAgcmVzZXRUaW1lciA6IGZ1bmN0aW9uKGFyZyl7XG4gICAgICAgICAgICBzd2l0Y2goYXJnLnR5cGUpe1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYoIXByaXZhdGVfY2hhdCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcuYWN0aXZhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dChwcml2YXRlX2NoYXQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZighcHJlc2VuY2VfY2hhdCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcuYWN0aXZhdGUoKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHByZXNlbmNlX2NoYXQpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1ldGhvZHMuc3RhcnRUaW1lcihhcmcpO1xuICAgICAgICB9LFxuICAgICAgICBzdGFydFRpbWVyIDogZnVuY3Rpb24oYXJnKXtcbiAgICAgICAgICAgIHN3aXRjaChhcmcudHlwZSl7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBwcml2YXRlX2NoYXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2RzLnJ1bkluYWN0aXZlKGFyZylcbiAgICAgICAgICAgICAgICAgICAgfSwgMTA4MDAwMDApOyAvLzMgaG91cnMgKDEwODAwMDAwKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgcHJlc2VuY2VfY2hhdCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZHMucnVuSW5hY3RpdmUoYXJnKVxuICAgICAgICAgICAgICAgICAgICB9LCAoQ2FsbE1hbmFnZXIuc3RhdGUoKS5pbml0aWFsaXplZCA/IDE4MDAwMDAgOiAzNjAwMDApKTsgLy82IG1pbnV0ZXMgKDM2MDAwMCkgLSAzMCBtaW51dGVzIGlmIGluIGNhbGwgKDE4MDAwMDApXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHJ1bkluYWN0aXZlIDogZnVuY3Rpb24oYXJnKXtcbiAgICAgICAgICAgIHN3aXRjaChhcmcudHlwZSl7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBwcml2YXRlX2NoYXQgPSBudWxsO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgcHJlc2VuY2VfY2hhdCA9IG51bGw7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhcmcuaW5hY3RpdmUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0dXBUaW1lciA6IGZ1bmN0aW9uKGFyZyl7XG4gICAgICAgICAgICAkKHdpbmRvdykubW91c2Vtb3ZlKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgbWV0aG9kcy5yZXNldFRpbWVyKGFyZyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICQod2luZG93KS5rZXlwcmVzcyhmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIG1ldGhvZHMucmVzZXRUaW1lcihhcmcpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICQod2luZG93KS5vbihcInRvdWNobW92ZVwiLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIG1ldGhvZHMucmVzZXRUaW1lcihhcmcpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG1ldGhvZHMuc3RhcnRUaW1lcihhcmcpXG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIHNldHVwIDogbWV0aG9kcy5zZXR1cFRpbWVyXG4gICAgfTtcbn0oKSk7Il0sIm5hbWVzIjpbIndpbmRvdyIsIkluYWN0aXZpdHlNYW5hZ2VyIiwicHJlc2VuY2VfY2hhdCIsInByaXZhdGVfY2hhdCIsIm1ldGhvZHMiLCJyZXNldFRpbWVyIiwiYXJnIiwidHlwZSIsImFjdGl2YXRlIiwiY2xlYXJUaW1lb3V0Iiwic3RhcnRUaW1lciIsInNldFRpbWVvdXQiLCJydW5JbmFjdGl2ZSIsIkNhbGxNYW5hZ2VyIiwic3RhdGUiLCJpbml0aWFsaXplZCIsImluYWN0aXZlIiwic2V0dXBUaW1lciIsIiQiLCJtb3VzZW1vdmUiLCJrZXlwcmVzcyIsIm9uIiwic2V0dXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./vendor/rtippin/messenger-ui/resources/js/managers/InactivityManager.js\n");

/***/ }),

/***/ "./vendor/rtippin/messenger-ui/resources/js/managers/NotifyManager.js":
/*!****************************************************************************!*\
  !*** ./vendor/rtippin/messenger-ui/resources/js/managers/NotifyManager.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var laravel_echo__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! laravel-echo */ \"./node_modules/laravel-echo/dist/echo.js\");\n/* provided dependency */ var $ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/**\n * Echo exposes an expressive API for subscribing to channels and listening\n * for events that are broadcast by Laravel. Echo and event broadcasting\n * allows your team to easily build robust real-time web applications.\n */\n\n\nwindow.Pusher = __webpack_require__(/*! pusher-js */ \"./node_modules/pusher-js/dist/web/pusher.js\");\nwindow.NotifyManager = function () {\n  var opt = {\n      sounds: {\n        notify_sound_file: new Audio([window.location.protocol, '//', window.location.host].join('') + '/vendor/messenger/sounds/notify_tone.mp3'),\n        message_sound_file: new Audio([window.location.protocol, '//', window.location.host].join('') + '/vendor/messenger/sounds/message_tone.mp3'),\n        call_sound_file: new Audio([window.location.protocol, '//', window.location.host].join('') + '/vendor/messenger/sounds/call_tone.mp3'),\n        knok_sound_file: new Audio([window.location.protocol, '//', window.location.host].join('') + '/vendor/messenger/sounds/knok.mp3')\n      },\n      elements: {\n        notify_count_area: $(\"#nav_notify_count\"),\n        thread_count_area: $(\"#nav_thread_count\"),\n        calls_count_area: $(\"#nav_calls_count\"),\n        active_call_nav_icon: $(\"#active_call_nav_icon\"),\n        pending_friends_count_area: $(\"#nav_friends_count\"),\n        mobile_nav_count_area: $(\"#nav_mobile_total_count\"),\n        notify_area: $(\"#notification_container\"),\n        active_calls_link: $(\"#active_calls_link\"),\n        pending_friends_link: $(\"#pending_friends_nav\"),\n        active_calls_ctnr: $(\"#active_calls_ctnr\"),\n        pending_friends_ctnr: $(\"#pending_friends_ctnr\"),\n        sent_friends_ctrn: $(\"#sent_friends_ctnr\"),\n        click_notify_bell: $(\"#click_notify_bell\"),\n        del_all_notify_link: $(\"#del_all_notify_link\"),\n        click_friends_tab: $(\"#click_friends_tab\")\n      },\n      settings: {\n        notifications: true,\n        total_notify_count: 0,\n        message_popups: true,\n        notify_sound: true,\n        message_sound: true,\n        call_ringtone_sound: true,\n        sound_playing: false,\n        is_away: false,\n        global_away: false,\n        away: function away() {\n          return this.is_away && this.global_away;\n        }\n      },\n      storage: {\n        unread_notify: 0,\n        unread_thread: 0,\n        pending_friends_count: 0,\n        active_calls_count: 0,\n        active_calls: [],\n        pending_friends: [],\n        sent_friends: [],\n        original_title: null,\n        current_title: null,\n        heartbeat_interval: null,\n        heartbeat_interval_runs: 0,\n        toggle_title_interval: null,\n        last_call_update: null\n      },\n      socket: {\n        Echo: null,\n        private_channel: null,\n        socket_status: false,\n        forced_disconnect: false,\n        private_channel_retries: 0,\n        presence_channel_retries: 0\n      }\n    },\n    Initialize = {\n      Init: function Init(arg) {\n        opt.settings.message_popups = arg.message_popups;\n        opt.settings.notify_sound = arg.notify_sound;\n        opt.settings.message_sound = arg.message_sound;\n        opt.settings.call_ringtone_sound = arg.call_ringtone_sound;\n        FriendsManager.init();\n        if (!Messenger.common().websockets) opt.socket.forced_disconnect = true;\n        broadcaster.Echo(false);\n        broadcaster.heartBeat(true, false, false);\n        broadcaster.heartBeat(false, true, true);\n        opt.storage.original_title = document.head.querySelector('meta[name=\"title\"]').content;\n        opt.storage.current_title = opt.storage.original_title;\n        Initialize.setListeners();\n        InactivityManager.setup({\n          type: 1,\n          inactive: function inactive() {\n            broadcaster.Disconnect();\n            broadcaster.heartBeat(false, false, false);\n            if (Messenger.common().modules.includes('ThreadManager')) ThreadManager.state().socketStatusCheck();\n          },\n          activate: function activate() {\n            window.location.reload();\n          }\n        });\n        InactivityManager.setup({\n          type: 2,\n          inactive: function inactive() {\n            opt.settings.is_away = true;\n            if (!opt.socket.forced_disconnect) broadcaster.heartBeat(false, true, false);\n          },\n          activate: function activate() {\n            opt.settings.is_away = false;\n            if (!opt.socket.forced_disconnect) broadcaster.heartBeat(false, true, false);\n          }\n        });\n      },\n      setListeners: function setListeners() {\n        $('.notify-drop').click(function (e) {\n          e.stopPropagation();\n        });\n        opt.elements.active_calls_link.click(methods.pullActiveCalls);\n        opt.elements.click_friends_tab.click(function () {\n          if ($(\"#f_pending\").hasClass('show')) methods.pullFriendRequest();\n          if ($(\"#f_sent\").hasClass('show')) methods.pullSentFriendRequest();\n        });\n        $('#nav-friend-tabs a').on('click', function (e) {\n          e.preventDefault();\n          $(this).tab('show');\n          if (this.id === 'tab-pending') methods.pullFriendRequest();\n          if (this.id === 'tab-sent') methods.pullSentFriendRequest();\n        });\n      }\n    },\n    broadcaster = {\n      Echo: function Echo(reconnected) {\n        if (!Messenger.common().websockets) return;\n        opt.socket.forced_disconnect = false;\n        opt.socket.Echo = new laravel_echo__WEBPACK_IMPORTED_MODULE_0__[\"default\"](broadcaster.makeEcho());\n        opt.socket.Echo.connector.pusher.connection.bind('connected', function () {\n          broadcaster.clearPusherLocalStorage();\n          opt.socket.socket_status = true;\n          broadcaster.PrivateChannel();\n          if (reconnected) broadcaster.reconnected(true);\n        });\n        opt.socket.Echo.connector.pusher.connection.bind('disconnected', function () {\n          broadcaster.clearPusherLocalStorage();\n          opt.socket.socket_status = false;\n          if (Messenger.common().modules.includes('ThreadManager')) ThreadManager.state().socketStatusCheck();\n          if (CallManager.state().initialized) CallManager.channel().disconnected();\n          if (!opt.socket.forced_disconnect && !Messenger.common().SOCKET_PUSHER) {\n            setTimeout(function () {\n              broadcaster.Echo(true);\n            }, 2000);\n          }\n        });\n      },\n      makeEcho: function makeEcho() {\n        if (Messenger.common().SOCKET_PUSHER) {\n          return {\n            broadcaster: 'pusher',\n            key: Messenger.common().SOCKET_KEY,\n            cluster: Messenger.common().SOCKET_CLUSTER,\n            forceTLS: Messenger.common().SOCKET_TLS,\n            authEndpoint: Messenger.common().SOCKET_AUTH_ENDPOINT\n          };\n        }\n        return {\n          broadcaster: 'pusher',\n          key: Messenger.common().SOCKET_KEY,\n          wsHost: Messenger.common().SOCKET,\n          wsPort: Messenger.common().SOCKET_PORT,\n          wssPort: Messenger.common().SOCKET_PORT,\n          forceTLS: Messenger.common().SOCKET_TLS,\n          disableStats: true,\n          authEndpoint: Messenger.common().SOCKET_AUTH_ENDPOINT\n        };\n      },\n      reconnected: function reconnected(full) {\n        if (typeof full === \"boolean\" && !full) broadcaster.heartBeat(false, true, true);\n        if (Messenger.common().modules.includes('ThreadManager')) ThreadManager.state().reConnected(typeof full === \"boolean\" && full);\n        if (CallManager.state().initialized) CallManager.channel().reconnected(typeof full === \"boolean\" && full);\n      },\n      Disconnect: function Disconnect() {\n        if (opt.socket.Echo !== null) opt.socket.Echo.disconnect();\n        opt.socket.forced_disconnect = true;\n        opt.socket.socket_status = false;\n      },\n      PrivateChannel: function PrivateChannel() {\n        if (!opt.socket.Echo) return;\n        if (typeof opt.socket.Echo.connector.channels['private-messenger.' + Messenger.common().provider_alias + '.' + Messenger.common().provider_id] !== 'undefined') {\n          opt.socket.private_channel = opt.socket.Echo.connector.channels['private-messenger.' + Messenger.common().provider_alias + '.' + id];\n          return;\n        }\n        opt.socket.private_channel = opt.socket.Echo[\"private\"]('messenger.' + Messenger.common().provider_alias + '.' + Messenger.common().provider_id);\n        opt.socket.private_channel.listen('.new.message', methods.incomingMessage).listen('.thread.archived', methods.threadLeft).listen('.message.archived', methods.messagePurged).listen('.knock.knock', methods.incomingKnok).listen('.new.thread', methods.newThread).listen('.thread.approval', methods.threadApproval).listen('.thread.left', methods.threadLeft).listen('.incoming.call', methods.incomingCall).listen('.joined.call', methods.callJoined).listen('.left.call', methods.callLeft).listen('.call.ended', methods.callEnded).listen('.friend.request', methods.friendRequest).listen('.friend.approved', methods.friendApproved).listen('.friend.cancelled', methods.friendCancelled).listen('.promoted.admin', methods.promotedAdmin).listen('.demoted.admin', methods.demotedAdmin).listen('.permissions.updated', methods.permissionsUpdated).listen('.reaction.added', methods.incomingReact).error(function () {\n          opt.socket.socket_status = false;\n        });\n      },\n      heartBeat: function heartBeat(state, check, gather) {\n        var payload = function payload() {\n          Heartbeat.update(opt.settings.is_away, methods.manageHeartbeatData, window.location.reload);\n        };\n        if (check) {\n          payload();\n          return;\n        }\n        if (!state) {\n          clearInterval(opt.storage.heartbeat_interval);\n          opt.storage.heartbeat_interval = null;\n          return;\n        }\n        opt.storage.heartbeat_interval = setInterval(payload, 120000);\n      },\n      clearPusherLocalStorage: function clearPusherLocalStorage() {\n        if (!Messenger.common().SOCKET_PUSHER) {\n          localStorage.removeItem('pusherTransportNonTLS');\n        }\n      }\n    },\n    Heartbeat = {\n      gather: function gather(onPass, onFail) {\n        Messenger.xhr().request({\n          route: Messenger.common().API + 'heartbeat',\n          success: Heartbeat.manage,\n          shared: {\n            onPass: onPass\n          },\n          fail: onFail\n        });\n      },\n      update: function update(state, onPass, onFail) {\n        Messenger.xhr().payload({\n          route: Messenger.common().API + 'heartbeat',\n          data: {\n            away: state\n          },\n          success: Heartbeat.manage,\n          shared: {\n            onPass: onPass\n          },\n          fail: onFail\n        });\n      },\n      manage: function manage(data) {\n        if (\"onPass\" in data && typeof data.onPass === 'function') {\n          data.onPass(data);\n        }\n      }\n    },\n    methods = {\n      promotedAdmin: function promotedAdmin(data) {\n        if (Messenger.common().modules.includes('ThreadManager')) {\n          ThreadManager.Import().promotedAdmin(data.thread_id);\n        }\n      },\n      demotedAdmin: function demotedAdmin(data) {\n        if (Messenger.common().modules.includes('ThreadManager')) {\n          ThreadManager.Import().demotedAdmin(data.thread_id);\n        }\n      },\n      permissionsUpdated: function permissionsUpdated(data) {\n        if (Messenger.common().modules.includes('ThreadManager')) {\n          ThreadManager.Import().permissionsUpdated(data.thread_id);\n        }\n      },\n      friendRequest: function friendRequest(pending) {\n        Messenger.alert().Alert({\n          title: 'New friend request from ' + pending.sender.name,\n          toast: true,\n          theme: 'info'\n        });\n        broadcaster.heartBeat(false, true);\n        methods.togglePageTitle('Friend request from ' + pending.sender.name);\n        methods.playAlertSound('notify');\n      },\n      friendApproved: function friendApproved(friend) {\n        Messenger.alert().Alert({\n          title: friend.sender.name + ' approved your friend request!',\n          toast: true,\n          theme: 'success'\n        });\n        methods.togglePageTitle(friend.sender.name + ' is now your friend');\n        methods.playAlertSound('notify');\n      },\n      friendCancelled: function friendCancelled() {\n        broadcaster.heartBeat(false, true);\n      },\n      incomingCall: function incomingCall(call) {\n        if (CallManager.state().initialized || !opt.settings.notifications) return;\n        broadcaster.heartBeat(false, true, true);\n        methods.togglePageTitle(call.sender.name + ' is calling');\n        CallManager.newCall(call);\n      },\n      callEnded: function callEnded(call) {\n        if (!opt.settings.notifications) return;\n        CallManager.callEnded(call);\n        broadcaster.heartBeat(false, true, true);\n      },\n      callJoined: function callJoined(call) {\n        if (CallManager.state().initialized || !opt.settings.notifications) return;\n        opt.storage.last_call_update = call.thread_id;\n        CallManager.joined(call);\n        broadcaster.heartBeat(false, true, true);\n      },\n      callLeft: function callLeft(call) {\n        if (CallManager.state().initialized || !opt.settings.notifications) return;\n        CallManager.left(call);\n        broadcaster.heartBeat(false, true, true);\n      },\n      incomingMessage: function incomingMessage(data) {\n        if (!opt.settings.notifications) return;\n        var runTitle = function runTitle() {\n            methods.togglePageTitle(data.owner.name + ' says...');\n          },\n          myself = Messenger.isProvider(data.owner_id, data.owner_type);\n        if (Messenger.common().modules.includes('ThreadManager')) {\n          ThreadManager.Import().newMessage(data);\n          if (!myself) runTitle();\n          return;\n        }\n        if (CallManager.state().initialized || myself) return;\n        runTitle();\n        broadcaster.heartBeat(false, true, true);\n        methods.playAlertSound('message');\n        if (![0, 1, 2].includes(data.type) || !opt.settings.message_popups) return;\n        var body = null;\n        switch (data.type) {\n          case 0:\n            body = data.body.length > 45 ? Messenger.format().shortcodeToImage(data.body.substring(0, 42) + \"...\") : Messenger.format().shortcodeToImage(data.body);\n            break;\n          case 1:\n            body = \"Sent an image\";\n            break;\n          case 2:\n            body = \"Sent a file\";\n            break;\n        }\n        Messenger.alert().Alert({\n          title: data.meta.thread_type === 2 ? data.meta.thread_name : data.owner.name,\n          body: body,\n          toast: true,\n          theme: 'info',\n          toast_options: {\n            onclick: function onclick() {\n              window.location.href = Messenger.common().WEB + '/' + data.thread_id;\n            },\n            timeOut: 5000\n          }\n        });\n      },\n      incomingReact: function incomingReact(data) {\n        if (!opt.settings.notifications || CallManager.state().initialized) return;\n        if (!Messenger.common().modules.includes('ThreadManager') || ThreadManager.state().thread_id !== data.message.thread_id) {\n          Messenger.alert().Alert({\n            title: Messenger.format().shortcodeToImage(data.reaction) + ' ' + data.owner.name + ' reacted',\n            toast: true,\n            theme: 'info',\n            toast_options: {\n              onclick: function onclick() {\n                if (Messenger.common().modules.includes('ThreadManager')) {\n                  ThreadManager.load().initiate_thread({\n                    thread_id: data.message.thread_id\n                  });\n                } else {\n                  window.location.href = Messenger.common().WEB + '/' + data.message.thread_id;\n                }\n              },\n              timeOut: 5000\n            }\n          });\n          methods.togglePageTitle(data.owner.name + ' reacted...');\n          methods.playAlertSound('notify');\n        }\n      },\n      incomingKnok: function incomingKnok(data) {\n        if (!opt.settings.notifications) return;\n        var name = data.thread.group ? data.thread.name : data.sender.name;\n        var avatar = data.thread.group ? data.thread.avatar.md : data.sender.avatar.md;\n        if (CallManager.state().initialized) {\n          if (CallManager.state().thread_id === data.thread.id) {\n            methods.playAlertSound('knok');\n            methods.togglePageTitle(name + ' is knocking...');\n          }\n          return;\n        }\n        if (Messenger.common().modules.includes('ThreadManager') && ThreadManager.state().thread_id === data.thread.id) {\n          methods.playAlertSound('knok');\n          methods.togglePageTitle(name + ' is knocking...');\n          return;\n        }\n        Messenger.alert().Modal({\n          wait_for_others: true,\n          theme: 'dark',\n          icon: 'hand-rock',\n          size: 'sm',\n          centered: true,\n          title: 'Knock Knock',\n          body: '<div class=\"col-12 mb-3\"><div class=\"text-center text-dark\"><div id=\"knok_animate\"><i  class=\"fas fa-hand-rock fa-7x\"></i></div></div></div>' + '<div class=\"col-12 text-center\"> <img height=\"25\" width=\"25\" class=\"mr-2 rounded-circle\" src=\"' + avatar + '\" /><span class=\"h6 font-weight-bold\">' + name + '</span></div>',\n          onReady: function onReady() {\n            methods.playAlertSound('knok');\n            methods.togglePageTitle(name + ' is knocking...');\n            PageListeners.listen().animateKnok(true);\n          },\n          cb_btn_txt: 'View',\n          cb_btn_icon: 'comment-dots',\n          cb_btn_theme: 'success',\n          onClose: function onClose() {\n            PageListeners.listen().animateKnok(false);\n          },\n          callback: function callback() {\n            if (Messenger.common().modules.includes('ThreadManager')) {\n              ThreadManager.load().initiate_thread({\n                thread_id: data.thread.id\n              });\n              return;\n            }\n            window.location.href = Messenger.common().WEB + '/' + data.thread.id;\n          },\n          cb_close: true,\n          timer: 15000\n        });\n      },\n      newThread: function newThread(data) {\n        if (!opt.settings.notifications) return;\n        if (Messenger.common().modules.includes('ThreadManager')) {\n          ThreadManager.Import().addedToThread(data.thread.id);\n        }\n        broadcaster.heartBeat(false, true, true);\n        methods.playAlertSound('message');\n        if (data.thread.group) {\n          Messenger.alert().Alert({\n            title: data.thread.name,\n            body: data.sender.name + ' added you to the group!',\n            toast: true,\n            theme: 'info'\n          });\n        } else {\n          Messenger.alert().Alert({\n            title: data.sender.name + ' started a conversation with you!',\n            body: data.thread.pending ? 'You must accept or deny the message request' : '',\n            toast: true,\n            theme: 'info'\n          });\n        }\n      },\n      threadApproval: function threadApproval(data) {\n        if (!opt.settings.notifications) return;\n        if (Messenger.common().modules.includes('ThreadManager')) {\n          ThreadManager.Import().threadApproval(data.thread.id, data.thread.approved);\n        }\n        if (data.thread.approved) {\n          methods.playAlertSound('message');\n          Messenger.alert().Alert({\n            title: data.sender.name + ' accepted your message request!',\n            toast: true,\n            theme: 'info'\n          });\n        }\n      },\n      messagePurged: function messagePurged(data) {\n        if (!opt.settings.notifications) return;\n        if (Messenger.common().modules.includes('ThreadManager')) {\n          ThreadManager.Import().purgeMessage(data);\n        }\n      },\n      threadLeft: function threadLeft(data) {\n        if (!opt.settings.notifications) return;\n        if (Messenger.common().modules.includes('ThreadManager')) {\n          ThreadManager.Import().threadLeft(data.thread_id);\n        }\n      },\n      manageMessageCounts: function manageMessageCounts(data) {\n        opt.storage.unread_thread = data.total_unread;\n        methods.updatePageStates();\n      },\n      manageHeartbeatData: function manageHeartbeatData(data) {\n        opt.settings.global_away = data.online_status === 2;\n        opt.storage.unread_notify = 0;\n        opt.storage.unread_thread = data.unread_threads_count;\n        opt.storage.active_calls_count = data.active_calls_count;\n        if (data.active_calls_count === 0) {\n          opt.storage.active_calls = [];\n        } else {\n          opt.elements.active_call_nav_icon.addClass('glowing_text_warning');\n        }\n        opt.storage.pending_friends_count = data.pending_friends_count;\n        if (Messenger.common().modules.includes('ThreadManager')) ThreadManager.state().online(opt.settings.global_away ? 2 : 1);\n        methods.updatePageStates();\n      },\n      updatePageStates: function updatePageStates() {\n        methods.updateTitle();\n        if (opt.storage.active_calls_count === 0) {\n          opt.elements.active_calls_ctnr.html(templates.no_calls());\n          opt.elements.active_call_nav_icon.removeClass('glowing_text_warning');\n        }\n        opt.storage.unread_thread > 0 ? opt.elements.thread_count_area.html(opt.storage.unread_thread) : opt.elements.thread_count_area.html('');\n        opt.storage.pending_friends_count > 0 ? opt.elements.pending_friends_count_area.html(opt.storage.pending_friends_count) : opt.elements.pending_friends_count_area.html('');\n        opt.storage.active_calls_count > 0 ? opt.elements.calls_count_area.html(opt.storage.active_calls_count) : opt.elements.calls_count_area.html('');\n        if (opt.storage.unread_thread > 0 || opt.storage.pending_friends_count > 0 || opt.storage.active_calls_count > 0) {\n          opt.elements.mobile_nav_count_area.html(opt.storage.unread_thread + opt.storage.pending_friends_count + opt.storage.active_calls_count);\n          return;\n        }\n        opt.elements.mobile_nav_count_area.html('');\n      },\n      updateActiveCalls: function updateActiveCalls(calls) {\n        if (CallManager.state().initialized) return;\n        if (!calls.length) {\n          opt.storage.active_calls = [];\n          opt.storage.active_calls_count = 0;\n          opt.elements.active_calls_ctnr.html(templates.no_calls());\n          opt.elements.active_call_nav_icon.removeClass('glowing_text_warning');\n          methods.updatePageStates();\n          return;\n        }\n        opt.storage.active_calls = calls;\n        opt.elements.active_calls_ctnr.html('');\n        opt.storage.active_calls.forEach(function (call) {\n          opt.elements.active_calls_ctnr.append(templates.active_call(call));\n        });\n        opt.elements.active_call_nav_icon.addClass('glowing_text_warning');\n      },\n      updatePendingFriends: function updatePendingFriends(data) {\n        if (!data.length) {\n          opt.storage.pending_friends_count = 0;\n          opt.elements.pending_friends_ctnr.html('<div class=\"col-12 text-center h5 mt-2\"><span class=\"badge badge-pill badge-light shadow-sm\"><i class=\"fas fa-user-friends\"></i> No Pending Request</span></div>');\n          methods.updatePageStates();\n          return;\n        }\n        opt.storage.pending_friends = data;\n        opt.storage.pending_friends_count = opt.storage.pending_friends.length;\n        methods.updatePageStates();\n        opt.elements.pending_friends_ctnr.html('');\n        opt.storage.pending_friends.forEach(function (friend) {\n          opt.elements.pending_friends_ctnr.append(templates.pending_friend(friend));\n        });\n      },\n      updateSentFriends: function updateSentFriends(data) {\n        if (!data.length) {\n          opt.storage.sent_friends = [];\n          opt.elements.sent_friends_ctrn.html('<div class=\"col-12 text-center h5 mt-2\"><span class=\"badge badge-pill badge-light shadow-sm\"><i class=\"fas fa-user-friends\"></i> No Sent Request</span></div>');\n          return;\n        }\n        opt.storage.sent_friends = data;\n        opt.elements.sent_friends_ctrn.html('');\n        opt.storage.sent_friends.forEach(function (friend) {\n          opt.elements.sent_friends_ctrn.append(templates.sent_friend(friend));\n        });\n      },\n      updateTitle: function updateTitle() {\n        var total = opt.storage.unread_thread + opt.storage.pending_friends_count;\n        if (opt.storage.active_calls_count > 0 && !CallManager.state().initialized) total = total + opt.storage.active_calls_count;\n        if (total > 0) {\n          var the_title = '(' + total + ') ' + opt.storage.original_title;\n          opt.storage.current_title = the_title;\n          document.title = the_title;\n          return;\n        }\n        document.title = opt.storage.original_title;\n        opt.storage.current_title = opt.storage.original_title;\n      },\n      togglePageTitle: function togglePageTitle(msg) {\n        methods.pageTitle(false);\n        if (!document.hasFocus()) {\n          methods.pageTitle(true, msg);\n          $(document).one(\"click\", function () {\n            methods.pageTitle(false);\n          });\n        }\n      },\n      pageTitle: function pageTitle(power, msg) {\n        if (power) {\n          opt.storage.toggle_title_interval = setInterval(function () {\n            document.title = document.title.trim() === opt.storage.current_title.trim() ? msg : opt.storage.current_title;\n          }, 3000);\n          return;\n        }\n        if (opt.storage.toggle_title_interval) clearInterval(opt.storage.toggle_title_interval);\n        opt.storage.toggle_title_interval = null;\n        methods.updateTitle();\n      },\n      pullSentFriendRequest: function pullSentFriendRequest() {\n        Messenger.xhr().request({\n          route: Messenger.common().API + 'friends/sent',\n          success: methods.updateSentFriends,\n          fail_alert: true\n        });\n      },\n      pullFriendRequest: function pullFriendRequest() {\n        Messenger.xhr().request({\n          route: Messenger.common().API + 'friends/pending',\n          success: methods.updatePendingFriends,\n          fail_alert: true\n        });\n      },\n      pullActiveCalls: function pullActiveCalls() {\n        Messenger.xhr().request({\n          route: Messenger.common().API + 'active-calls',\n          success: methods.updateActiveCalls,\n          fail_alert: true\n        });\n      },\n      settingsToggle: function settingsToggle(arg) {\n        if (\"message_popups\" in arg) opt.settings.message_popups = arg.message_popups;\n        if (\"message_sound\" in arg) opt.settings.message_sound = arg.message_sound;\n        if (\"notify_sound\" in arg) opt.settings.notify_sound = arg.notify_sound;\n        if (\"call_ringtone_sound\" in arg) opt.settings.call_ringtone_sound = arg.call_ringtone_sound;\n        if (\"notifications\" in arg) opt.settings.notifications = arg.notifications;\n      },\n      playAlertSound: function playAlertSound(type) {\n        var soundOff = function soundOff() {\n          opt.settings.sound_playing = false;\n        };\n        try {\n          switch (type) {\n            case 'message':\n              opt.sounds.message_sound_file.volume = 0.2;\n              if (!opt.settings.message_sound || opt.settings.sound_playing) return;\n              opt.settings.sound_playing = true;\n              opt.sounds.message_sound_file.play().then(soundOff)[\"catch\"](soundOff);\n              break;\n            case 'notify':\n              if (!opt.settings.notify_sound || opt.settings.sound_playing) return;\n              opt.settings.sound_playing = true;\n              opt.sounds.notify_sound_file.play().then(soundOff)[\"catch\"](soundOff);\n              break;\n            case 'call':\n              if (!opt.settings.call_ringtone_sound || opt.settings.sound_playing) return;\n              opt.settings.sound_playing = true;\n              opt.sounds.call_sound_file.play().then(soundOff)[\"catch\"](soundOff);\n              break;\n            case 'knok':\n              if (opt.settings.sound_playing) return;\n              opt.settings.sound_playing = true;\n              opt.sounds.knok_sound_file.play().then(soundOff)[\"catch\"](soundOff);\n              break;\n          }\n        } catch (e) {\n          console.log(e);\n        }\n      },\n      callAction: function callAction(id) {\n        if (!opt.storage.active_calls || !opt.storage.active_calls.length) return;\n        for (var i = 0; i < opt.storage.active_calls.length; i++) {\n          if (opt.storage.active_calls[i].id === id) {\n            CallManager.join(opt.storage.active_calls[i]);\n            break;\n          }\n        }\n      },\n      pendingFriendAction: function pendingFriendAction(id, action) {\n        for (var i = 0; i < opt.storage.pending_friends.length; i++) {\n          if (opt.storage.pending_friends[i].id === id) {\n            $(\"#friend_actions_\" + id).remove();\n            FriendsManager.action({\n              action: action,\n              provider_id: opt.storage.pending_friends[i].sender.provider_id,\n              provider_alias: opt.storage.pending_friends[i].sender.provider_alias,\n              pending_friend_id: opt.storage.pending_friends[i].id\n            });\n            break;\n          }\n        }\n      },\n      sentFriendCancel: function sentFriendCancel(id) {\n        for (var i = 0; i < opt.storage.sent_friends.length; i++) {\n          if (opt.storage.sent_friends[i].id === id) {\n            $(\"#friend_actions_\" + id).remove();\n            FriendsManager.action({\n              action: 'cancel',\n              provider_id: opt.storage.sent_friends[i].recipient.provider_id,\n              provider_alias: opt.storage.sent_friends[i].recipient.provider_alias,\n              sent_friend_id: opt.storage.sent_friends[i].id\n            });\n            break;\n          }\n        }\n      },\n      setNewTitle: function setNewTitle(title) {\n        opt.storage.original_title = title;\n        methods.updateTitle();\n      }\n    },\n    templates = {\n      active_call: function active_call(call) {\n        var bg = 'warning',\n          color = 'dark',\n          type = 'Call',\n          msg = 'Click to join',\n          action = \"NotifyManager.calls('\" + call.id + \"');\",\n          icon = '<i class=\"fas fa-video\"></i>';\n        if (call.options.in_call) {\n          bg = 'danger';\n          color = 'light';\n          msg = 'Currently in ' + type;\n        } else if (call.options.left_call) {\n          bg = 'secondary';\n          color = 'light';\n          msg = 'Click to rejoin';\n        }\n        return '<a onclick=\"' + action + ' return false;\" href=\"#\" class=\"list-group-item list-group-item-action p-2 text-' + color + ' bg-' + bg + '\">\\n' + '    <div class=\"media\">\\n' + '        <div class=\"media-left media-top\">\\n' + '            <img class=\"rounded media-object\" height=\"50\" width=\"50\" src=\"' + call.meta.thread_avatar.sm + '\">\\n' + '        </div>\\n' + '        <div class=\"media-body\">\\n' + '            <h6 class=\"ml-2 mb-1 font-weight-bold\">' + icon + ' ' + call.meta.thread_name + ' - ' + type + '</h6>\\n' + '            <div class=\"mt-2\"><span class=\"float-right\"><span class=\"badge badge-pill badge-light\">' + icon + ' ' + msg + '</span></span></div>\\n' + '        </div>\\n' + '    </div>\\n' + '</a>';\n      },\n      no_calls: function no_calls() {\n        return '<div class=\"col-12 text-center h5 mt-2\"><span class=\"badge badge-pill badge-light shadow-sm\"><i class=\"fas fa-video\"></i> No Active Calls</span></div>';\n      },\n      pending_friend: function pending_friend(friend) {\n        return '<a onclick=\"return false;\" href=\"#\" class=\"list-group-item list-group-item-action p-2 text-dark bg-light\">\\n' + '    <div class=\"media\">\\n' + '        <div class=\"media-left media-top\" ' + (friend.sender.route ? 'onclick=\"window.location.href=\\'' + friend.sender.route + '\\'\"' : '') + '>\\n' + '            <img class=\"rounded media-object\" height=\"50\" width=\"50\" src=\"' + friend.sender.avatar.sm + '\">\\n' + '        </div>\\n' + '        <div class=\"media-body\">\\n' + '        <span class=\"mt-n1 float-right small\">' + Messenger.format().makeTimeAgo(friend.created_at) + ' <i class=\"far fa-clock\"></i></span>' + '            <h6 ' + (friend.sender.route ? 'onclick=\"window.location.href=\\'' + friend.sender.route + '\\'\"' : '') + ' class=\"ml-2 mb-1 font-weight-bold\">' + friend.sender.name + '</h6>\\n' + '            <div id=\"friend_actions_' + friend.id + '\" class=\"mt-2 col-12 px-0\">' + '               <span class=\"float-right\">' + '                   <button title=\"Accept friend request\" onclick=\"NotifyManager.pendingFriends(\\'' + friend.id + '\\', \\'accept\\')\" class=\"btn btn-sm btn-success pt-1 pb-0 px-1\"><i class=\"h5 far fa-check-circle\"></i></button>' + '                   <button title=\"Deny friend request\" onclick=\"NotifyManager.pendingFriends(\\'' + friend.id + '\\', \\'deny\\')\" class=\"btn btn-sm btn-danger mx-1 pt-1 pb-0 px-1\"><i class=\"h5 fas fa-ban\"></i></button>' + '               </span>' + '            </div>\\n' + '        </div>\\n' + '    </div>\\n' + '</a>';\n      },\n      sent_friend: function sent_friend(friend) {\n        return '<a onclick=\"return false;\" href=\"#\" class=\"list-group-item list-group-item-action p-2 text-dark bg-light\">\\n' + '    <div class=\"media\">\\n' + '        <div class=\"media-left media-top\" ' + (friend.recipient.route ? 'onclick=\"window.location.href=\\'' + friend.recipient.route + '\\'\"' : '') + '>\\n' + '            <img class=\"rounded media-object\" height=\"50\" width=\"50\" src=\"' + friend.recipient.avatar.sm + '\">\\n' + '        </div>\\n' + '        <div class=\"media-body\">\\n' + '        <span class=\"mt-n1 float-right small\">' + Messenger.format().makeTimeAgo(friend.created_at) + ' <i class=\"far fa-clock\"></i></span>' + '            <h6 ' + (friend.recipient.route ? 'onclick=\"window.location.href=\\'' + friend.recipient.route + '\\'\"' : '') + ' class=\"ml-2 mb-1 font-weight-bold\">' + friend.recipient.name + '</h6>\\n' + '            <div id=\"friend_actions_' + friend.id + '\" class=\"mt-2 col-12 px-0\">' + '               <span class=\"float-right\">' + '                   <button title=\"Cancel friend request\" onclick=\"NotifyManager.cancelFriend(\\'' + friend.id + '\\')\" class=\"btn btn-sm btn-danger mx-1 pt-1 pb-0 px-1\"><i class=\"h5 fas fa-ban\"></i></button>' + '               </span>' + '            </div>\\n' + '        </div>\\n' + '    </div>\\n' + '</a>';\n      }\n    };\n  return {\n    init: Initialize.Init,\n    newMessage: methods.incomingMessage,\n    updateMessageCount: methods.manageMessageCounts,\n    sound: methods.playAlertSound,\n    settings: methods.settingsToggle,\n    calls: methods.callAction,\n    pendingFriends: methods.pendingFriendAction,\n    cancelFriend: methods.sentFriendCancel,\n    friendsPending: methods.pullFriendRequest,\n    sentFriends: methods.pullSentFriendRequest,\n    activeCalls: methods.pullActiveCalls,\n    setTitle: methods.setNewTitle,\n    heartbeat: function heartbeat() {\n      broadcaster.heartBeat(false, true, true);\n    },\n    counts: function counts() {\n      return {\n        notify: opt.storage.unread_notify,\n        threads: opt.storage.unread_thread\n      };\n    },\n    sockets: function sockets() {\n      return {\n        forced_disconnect: opt.socket.forced_disconnect,\n        status: opt.socket.socket_status,\n        Echo: opt.socket.Echo,\n        away: opt.settings.away(),\n        disconnect: broadcaster.Disconnect\n      };\n    }\n  };\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi92ZW5kb3IvcnRpcHBpbi9tZXNzZW5nZXItdWkvcmVzb3VyY2VzL2pzL21hbmFnZXJzL05vdGlmeU1hbmFnZXIuanMiLCJtYXBwaW5ncyI6Ijs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFZ0M7QUFFaENDLE1BQU0sQ0FBQ0MsTUFBTSxHQUFHQyxtQkFBTyxDQUFDLDhEQUFXLENBQUM7QUFFcENGLE1BQU0sQ0FBQ0csYUFBYSxHQUFJLFlBQVk7RUFDaEMsSUFBSUMsR0FBRyxHQUFHO01BQ05DLE1BQU0sRUFBRztRQUNMQyxpQkFBaUIsRUFBRyxJQUFJQyxLQUFLLENBQUMsQ0FBQ1AsTUFBTSxDQUFDUSxRQUFRLENBQUNDLFFBQVEsRUFBRSxJQUFJLEVBQUVULE1BQU0sQ0FBQ1EsUUFBUSxDQUFDRSxJQUFJLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLEVBQUUsQ0FBQyxHQUFDLDBDQUEwQyxDQUFDO1FBQ3pJQyxrQkFBa0IsRUFBRyxJQUFJTCxLQUFLLENBQUMsQ0FBQ1AsTUFBTSxDQUFDUSxRQUFRLENBQUNDLFFBQVEsRUFBRSxJQUFJLEVBQUVULE1BQU0sQ0FBQ1EsUUFBUSxDQUFDRSxJQUFJLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLEVBQUUsQ0FBQyxHQUFDLDJDQUEyQyxDQUFDO1FBQzNJRSxlQUFlLEVBQUcsSUFBSU4sS0FBSyxDQUFDLENBQUNQLE1BQU0sQ0FBQ1EsUUFBUSxDQUFDQyxRQUFRLEVBQUUsSUFBSSxFQUFFVCxNQUFNLENBQUNRLFFBQVEsQ0FBQ0UsSUFBSSxDQUFDLENBQUNDLElBQUksQ0FBQyxFQUFFLENBQUMsR0FBQyx3Q0FBd0MsQ0FBQztRQUNySUcsZUFBZSxFQUFHLElBQUlQLEtBQUssQ0FBQyxDQUFDUCxNQUFNLENBQUNRLFFBQVEsQ0FBQ0MsUUFBUSxFQUFFLElBQUksRUFBRVQsTUFBTSxDQUFDUSxRQUFRLENBQUNFLElBQUksQ0FBQyxDQUFDQyxJQUFJLENBQUMsRUFBRSxDQUFDLEdBQUMsbUNBQW1DO01BQ25JLENBQUM7TUFD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QkFBaUIsRUFBR3hELEdBQUcsQ0FBQ3FELE1BQU0sQ0FBQ0csaUJBQWlCO1FBQ2hEd1AsTUFBTSxFQUFHaFQsR0FBRyxDQUFDcUQsTUFBTSxDQUFDRSxhQUFhO1FBQ2pDNUQsSUFBSSxFQUFHSyxHQUFHLENBQUNxRCxNQUFNLENBQUMxRCxJQUFJO1FBQ3RCMkMsSUFBSSxFQUFHdEMsR0FBRyxDQUFDNEIsUUFBUSxDQUFDVSxJQUFJLENBQUMsQ0FBQztRQUMxQjBGLFVBQVUsRUFBRzdELFdBQVcsQ0FBQ1c7TUFDN0IsQ0FBQztJQUNMO0VBQ0osQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vdmVuZG9yL3J0aXBwaW4vbWVzc2VuZ2VyLXVpL3Jlc291cmNlcy9qcy9tYW5hZ2Vycy9Ob3RpZnlNYW5hZ2VyLmpzP2E4MmIiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBFY2hvIGV4cG9zZXMgYW4gZXhwcmVzc2l2ZSBBUEkgZm9yIHN1YnNjcmliaW5nIHRvIGNoYW5uZWxzIGFuZCBsaXN0ZW5pbmdcbiAqIGZvciBldmVudHMgdGhhdCBhcmUgYnJvYWRjYXN0IGJ5IExhcmF2ZWwuIEVjaG8gYW5kIGV2ZW50IGJyb2FkY2FzdGluZ1xuICogYWxsb3dzIHlvdXIgdGVhbSB0byBlYXNpbHkgYnVpbGQgcm9idXN0IHJlYWwtdGltZSB3ZWIgYXBwbGljYXRpb25zLlxuICovXG5cbmltcG9ydCBFY2hvIGZyb20gJ2xhcmF2ZWwtZWNobyc7XG5cbndpbmRvdy5QdXNoZXIgPSByZXF1aXJlKCdwdXNoZXItanMnKTtcblxud2luZG93Lk5vdGlmeU1hbmFnZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBvcHQgPSB7XG4gICAgICAgIHNvdW5kcyA6IHtcbiAgICAgICAgICAgIG5vdGlmeV9zb3VuZF9maWxlIDogbmV3IEF1ZGlvKFt3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wsICcvLycsIHdpbmRvdy5sb2NhdGlvbi5ob3N0XS5qb2luKCcnKSsnL3ZlbmRvci9tZXNzZW5nZXIvc291bmRzL25vdGlmeV90b25lLm1wMycpLFxuICAgICAgICAgICAgbWVzc2FnZV9zb3VuZF9maWxlIDogbmV3IEF1ZGlvKFt3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wsICcvLycsIHdpbmRvdy5sb2NhdGlvbi5ob3N0XS5qb2luKCcnKSsnL3ZlbmRvci9tZXNzZW5nZXIvc291bmRzL21lc3NhZ2VfdG9uZS5tcDMnKSxcbiAgICAgICAgICAgIGNhbGxfc291bmRfZmlsZSA6IG5ldyBBdWRpbyhbd2luZG93LmxvY2F0aW9uLnByb3RvY29sLCAnLy8nLCB3aW5kb3cubG9jYXRpb24uaG9zdF0uam9pbignJykrJy92ZW5kb3IvbWVzc2VuZ2VyL3NvdW5kcy9jYWxsX3RvbmUubXAzJyksXG4gICAgICAgICAgICBrbm9rX3NvdW5kX2ZpbGUgOiBuZXcgQXVkaW8oW3dpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCwgJy8vJywgd2luZG93LmxvY2F0aW9uLmhvc3RdLmpvaW4oJycpKycvdmVuZG9yL21lc3Nlbmdlci9zb3VuZHMva25vay5tcDMnKVxuICAgICAgICB9LFxuICAgICAgICBlbGVtZW50cyA6IHtcbiAgICAgICAgICAgIG5vdGlmeV9jb3VudF9hcmVhIDogJChcIiNuYXZfbm90aWZ5X2NvdW50XCIpLFxuICAgICAgICAgICAgdGhyZWFkX2NvdW50X2FyZWEgOiAkKFwiI25hdl90aHJlYWRfY291bnRcIiksXG4gICAgICAgICAgICBjYWxsc19jb3VudF9hcmVhIDogJChcIiNuYXZfY2FsbHNfY291bnRcIiksXG4gICAgICAgICAgICBhY3RpdmVfY2FsbF9uYXZfaWNvbiA6ICQoXCIjYWN0aXZlX2NhbGxfbmF2X2ljb25cIiksXG4gICAgICAgICAgICBwZW5kaW5nX2ZyaWVuZHNfY291bnRfYXJlYSA6ICQoXCIjbmF2X2ZyaWVuZHNfY291bnRcIiksXG4gICAgICAgICAgICBtb2JpbGVfbmF2X2NvdW50X2FyZWEgOiAkKFwiI25hdl9tb2JpbGVfdG90YWxfY291bnRcIiksXG4gICAgICAgICAgICBub3RpZnlfYXJlYSA6ICQoXCIjbm90aWZpY2F0aW9uX2NvbnRhaW5lclwiKSxcbiAgICAgICAgICAgIGFjdGl2ZV9jYWxsc19saW5rIDogJChcIiNhY3RpdmVfY2FsbHNfbGlua1wiKSxcbiAgICAgICAgICAgIHBlbmRpbmdfZnJpZW5kc19saW5rIDogJChcIiNwZW5kaW5nX2ZyaWVuZHNfbmF2XCIpLFxuICAgICAgICAgICAgYWN0aXZlX2NhbGxzX2N0bnIgOiAkKFwiI2FjdGl2ZV9jYWxsc19jdG5yXCIpLFxuICAgICAgICAgICAgcGVuZGluZ19mcmllbmRzX2N0bnIgOiAkKFwiI3BlbmRpbmdfZnJpZW5kc19jdG5yXCIpLFxuICAgICAgICAgICAgc2VudF9mcmllbmRzX2N0cm4gOiAkKFwiI3NlbnRfZnJpZW5kc19jdG5yXCIpLFxuICAgICAgICAgICAgY2xpY2tfbm90aWZ5X2JlbGwgOiAkKFwiI2NsaWNrX25vdGlmeV9iZWxsXCIpLFxuICAgICAgICAgICAgZGVsX2FsbF9ub3RpZnlfbGluayA6ICQoXCIjZGVsX2FsbF9ub3RpZnlfbGlua1wiKSxcbiAgICAgICAgICAgIGNsaWNrX2ZyaWVuZHNfdGFiIDogJChcIiNjbGlja19mcmllbmRzX3RhYlwiKVxuICAgICAgICB9LFxuICAgICAgICBzZXR0aW5ncyA6IHtcbiAgICAgICAgICAgIG5vdGlmaWNhdGlvbnMgOiB0cnVlLFxuICAgICAgICAgICAgdG90YWxfbm90aWZ5X2NvdW50IDogMCxcbiAgICAgICAgICAgIG1lc3NhZ2VfcG9wdXBzIDogdHJ1ZSxcbiAgICAgICAgICAgIG5vdGlmeV9zb3VuZCA6IHRydWUsXG4gICAgICAgICAgICBtZXNzYWdlX3NvdW5kIDogdHJ1ZSxcbiAgICAgICAgICAgIGNhbGxfcmluZ3RvbmVfc291bmQgOiB0cnVlLFxuICAgICAgICAgICAgc291bmRfcGxheWluZyA6IGZhbHNlLFxuICAgICAgICAgICAgaXNfYXdheSA6IGZhbHNlLFxuICAgICAgICAgICAgZ2xvYmFsX2F3YXkgOiBmYWxzZSxcbiAgICAgICAgICAgIGF3YXkgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNfYXdheSAmJiB0aGlzLmdsb2JhbF9hd2F5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBzdG9yYWdlIDoge1xuICAgICAgICAgICAgdW5yZWFkX25vdGlmeSA6IDAsXG4gICAgICAgICAgICB1bnJlYWRfdGhyZWFkIDogMCxcbiAgICAgICAgICAgIHBlbmRpbmdfZnJpZW5kc19jb3VudCA6IDAsXG4gICAgICAgICAgICBhY3RpdmVfY2FsbHNfY291bnQgOiAwLFxuICAgICAgICAgICAgYWN0aXZlX2NhbGxzIDogW10sXG4gICAgICAgICAgICBwZW5kaW5nX2ZyaWVuZHMgOiBbXSxcbiAgICAgICAgICAgIHNlbnRfZnJpZW5kcyA6IFtdLFxuICAgICAgICAgICAgb3JpZ2luYWxfdGl0bGUgOiBudWxsLFxuICAgICAgICAgICAgY3VycmVudF90aXRsZSA6IG51bGwsXG4gICAgICAgICAgICBoZWFydGJlYXRfaW50ZXJ2YWwgOiBudWxsLFxuICAgICAgICAgICAgaGVhcnRiZWF0X2ludGVydmFsX3J1bnMgOiAwLFxuICAgICAgICAgICAgdG9nZ2xlX3RpdGxlX2ludGVydmFsIDogbnVsbCxcbiAgICAgICAgICAgIGxhc3RfY2FsbF91cGRhdGUgOiBudWxsXG4gICAgICAgIH0sXG4gICAgICAgIHNvY2tldCA6IHtcbiAgICAgICAgICAgIEVjaG8gOiBudWxsLFxuICAgICAgICAgICAgcHJpdmF0ZV9jaGFubmVsIDogbnVsbCxcbiAgICAgICAgICAgIHNvY2tldF9zdGF0dXMgOiBmYWxzZSxcbiAgICAgICAgICAgIGZvcmNlZF9kaXNjb25uZWN0IDogZmFsc2UsXG4gICAgICAgICAgICBwcml2YXRlX2NoYW5uZWxfcmV0cmllcyA6IDAsXG4gICAgICAgICAgICBwcmVzZW5jZV9jaGFubmVsX3JldHJpZXMgOiAwLFxuICAgICAgICB9XG4gICAgfSxcbiAgICBJbml0aWFsaXplID0ge1xuICAgICAgICBJbml0IDogZnVuY3Rpb24oYXJnKXtcbiAgICAgICAgICAgIG9wdC5zZXR0aW5ncy5tZXNzYWdlX3BvcHVwcyA9IGFyZy5tZXNzYWdlX3BvcHVwcztcbiAgICAgICAgICAgIG9wdC5zZXR0aW5ncy5ub3RpZnlfc291bmQgPSBhcmcubm90aWZ5X3NvdW5kO1xuICAgICAgICAgICAgb3B0LnNldHRpbmdzLm1lc3NhZ2Vfc291bmQgPSBhcmcubWVzc2FnZV9zb3VuZDtcbiAgICAgICAgICAgIG9wdC5zZXR0aW5ncy5jYWxsX3Jpbmd0b25lX3NvdW5kID0gYXJnLmNhbGxfcmluZ3RvbmVfc291bmQ7XG4gICAgICAgICAgICBGcmllbmRzTWFuYWdlci5pbml0KCk7XG4gICAgICAgICAgICBpZighTWVzc2VuZ2VyLmNvbW1vbigpLndlYnNvY2tldHMpIG9wdC5zb2NrZXQuZm9yY2VkX2Rpc2Nvbm5lY3QgPSB0cnVlO1xuICAgICAgICAgICAgYnJvYWRjYXN0ZXIuRWNobyhmYWxzZSk7XG4gICAgICAgICAgICBicm9hZGNhc3Rlci5oZWFydEJlYXQodHJ1ZSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgICAgIGJyb2FkY2FzdGVyLmhlYXJ0QmVhdChmYWxzZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICBvcHQuc3RvcmFnZS5vcmlnaW5hbF90aXRsZSA9IGRvY3VtZW50LmhlYWQucXVlcnlTZWxlY3RvcignbWV0YVtuYW1lPVwidGl0bGVcIl0nKS5jb250ZW50O1xuICAgICAgICAgICAgb3B0LnN0b3JhZ2UuY3VycmVudF90aXRsZSA9IG9wdC5zdG9yYWdlLm9yaWdpbmFsX3RpdGxlO1xuICAgICAgICAgICAgSW5pdGlhbGl6ZS5zZXRMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgIEluYWN0aXZpdHlNYW5hZ2VyLnNldHVwKHtcbiAgICAgICAgICAgICAgICB0eXBlIDogMSxcbiAgICAgICAgICAgICAgICBpbmFjdGl2ZSA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIGJyb2FkY2FzdGVyLkRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJvYWRjYXN0ZXIuaGVhcnRCZWF0KGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBpZihNZXNzZW5nZXIuY29tbW9uKCkubW9kdWxlcy5pbmNsdWRlcygnVGhyZWFkTWFuYWdlcicpKVRocmVhZE1hbmFnZXIuc3RhdGUoKS5zb2NrZXRTdGF0dXNDaGVjaygpXG5cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGFjdGl2YXRlIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgSW5hY3Rpdml0eU1hbmFnZXIuc2V0dXAoe1xuICAgICAgICAgICAgICAgIHR5cGUgOiAyLFxuICAgICAgICAgICAgICAgIGluYWN0aXZlIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgb3B0LnNldHRpbmdzLmlzX2F3YXkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZighb3B0LnNvY2tldC5mb3JjZWRfZGlzY29ubmVjdCkgYnJvYWRjYXN0ZXIuaGVhcnRCZWF0KGZhbHNlLCB0cnVlLCBmYWxzZSlcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGFjdGl2YXRlIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgb3B0LnNldHRpbmdzLmlzX2F3YXkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaWYoIW9wdC5zb2NrZXQuZm9yY2VkX2Rpc2Nvbm5lY3QpIGJyb2FkY2FzdGVyLmhlYXJ0QmVhdChmYWxzZSwgdHJ1ZSwgZmFsc2UpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgc2V0TGlzdGVuZXJzIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICQoJy5ub3RpZnktZHJvcCcpLmNsaWNrKGZ1bmN0aW9uKGUpe1xuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG9wdC5lbGVtZW50cy5hY3RpdmVfY2FsbHNfbGluay5jbGljayhtZXRob2RzLnB1bGxBY3RpdmVDYWxscyk7XG4gICAgICAgICAgICBvcHQuZWxlbWVudHMuY2xpY2tfZnJpZW5kc190YWIuY2xpY2soZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBpZigkKFwiI2ZfcGVuZGluZ1wiKS5oYXNDbGFzcygnc2hvdycpKSBtZXRob2RzLnB1bGxGcmllbmRSZXF1ZXN0KCk7XG4gICAgICAgICAgICAgICAgaWYoJChcIiNmX3NlbnRcIikuaGFzQ2xhc3MoJ3Nob3cnKSkgbWV0aG9kcy5wdWxsU2VudEZyaWVuZFJlcXVlc3QoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgJCgnI25hdi1mcmllbmQtdGFicyBhJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS50YWIoJ3Nob3cnKTtcbiAgICAgICAgICAgICAgICBpZih0aGlzLmlkID09PSAndGFiLXBlbmRpbmcnKSBtZXRob2RzLnB1bGxGcmllbmRSZXF1ZXN0KCk7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5pZCA9PT0gJ3RhYi1zZW50JykgbWV0aG9kcy5wdWxsU2VudEZyaWVuZFJlcXVlc3QoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBicm9hZGNhc3RlciA9IHtcbiAgICAgICAgRWNobyA6IGZ1bmN0aW9uKHJlY29ubmVjdGVkKXtcbiAgICAgICAgICAgIGlmKCFNZXNzZW5nZXIuY29tbW9uKCkud2Vic29ja2V0cykgcmV0dXJuO1xuICAgICAgICAgICAgb3B0LnNvY2tldC5mb3JjZWRfZGlzY29ubmVjdCA9IGZhbHNlO1xuICAgICAgICAgICAgb3B0LnNvY2tldC5FY2hvID0gbmV3IEVjaG8oYnJvYWRjYXN0ZXIubWFrZUVjaG8oKSk7XG4gICAgICAgICAgICBvcHQuc29ja2V0LkVjaG8uY29ubmVjdG9yLnB1c2hlci5jb25uZWN0aW9uLmJpbmQoJ2Nvbm5lY3RlZCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICBicm9hZGNhc3Rlci5jbGVhclB1c2hlckxvY2FsU3RvcmFnZSgpO1xuICAgICAgICAgICAgICAgICAgICBvcHQuc29ja2V0LnNvY2tldF9zdGF0dXMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicm9hZGNhc3Rlci5Qcml2YXRlQ2hhbm5lbCgpO1xuICAgICAgICAgICAgICAgICAgICBpZihyZWNvbm5lY3RlZCkgYnJvYWRjYXN0ZXIucmVjb25uZWN0ZWQodHJ1ZSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgb3B0LnNvY2tldC5FY2hvLmNvbm5lY3Rvci5wdXNoZXIuY29ubmVjdGlvbi5iaW5kKCdkaXNjb25uZWN0ZWQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgYnJvYWRjYXN0ZXIuY2xlYXJQdXNoZXJMb2NhbFN0b3JhZ2UoKTtcbiAgICAgICAgICAgICAgICBvcHQuc29ja2V0LnNvY2tldF9zdGF0dXMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZihNZXNzZW5nZXIuY29tbW9uKCkubW9kdWxlcy5pbmNsdWRlcygnVGhyZWFkTWFuYWdlcicpKSBUaHJlYWRNYW5hZ2VyLnN0YXRlKCkuc29ja2V0U3RhdHVzQ2hlY2soKTtcbiAgICAgICAgICAgICAgICBpZihDYWxsTWFuYWdlci5zdGF0ZSgpLmluaXRpYWxpemVkKSBDYWxsTWFuYWdlci5jaGFubmVsKCkuZGlzY29ubmVjdGVkKCk7XG4gICAgICAgICAgICAgICAgaWYoIW9wdC5zb2NrZXQuZm9yY2VkX2Rpc2Nvbm5lY3QgJiYgIU1lc3Nlbmdlci5jb21tb24oKS5TT0NLRVRfUFVTSEVSKXtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJvYWRjYXN0ZXIuRWNobyh0cnVlKVxuICAgICAgICAgICAgICAgICAgICB9LCAyMDAwKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBtYWtlRWNobyA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBpZihNZXNzZW5nZXIuY29tbW9uKCkuU09DS0VUX1BVU0hFUil7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgYnJvYWRjYXN0ZXIgOiAncHVzaGVyJyxcbiAgICAgICAgICAgICAgICAgICAga2V5OiBNZXNzZW5nZXIuY29tbW9uKCkuU09DS0VUX0tFWSxcbiAgICAgICAgICAgICAgICAgICAgY2x1c3RlcjogTWVzc2VuZ2VyLmNvbW1vbigpLlNPQ0tFVF9DTFVTVEVSLFxuICAgICAgICAgICAgICAgICAgICBmb3JjZVRMUzogTWVzc2VuZ2VyLmNvbW1vbigpLlNPQ0tFVF9UTFMsXG4gICAgICAgICAgICAgICAgICAgIGF1dGhFbmRwb2ludDogTWVzc2VuZ2VyLmNvbW1vbigpLlNPQ0tFVF9BVVRIX0VORFBPSU5ULFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGJyb2FkY2FzdGVyIDogJ3B1c2hlcicsXG4gICAgICAgICAgICAgICAga2V5OiBNZXNzZW5nZXIuY29tbW9uKCkuU09DS0VUX0tFWSxcbiAgICAgICAgICAgICAgICB3c0hvc3Q6IE1lc3Nlbmdlci5jb21tb24oKS5TT0NLRVQsXG4gICAgICAgICAgICAgICAgd3NQb3J0OiBNZXNzZW5nZXIuY29tbW9uKCkuU09DS0VUX1BPUlQsXG4gICAgICAgICAgICAgICAgd3NzUG9ydDogTWVzc2VuZ2VyLmNvbW1vbigpLlNPQ0tFVF9QT1JULFxuICAgICAgICAgICAgICAgIGZvcmNlVExTOiBNZXNzZW5nZXIuY29tbW9uKCkuU09DS0VUX1RMUyxcbiAgICAgICAgICAgICAgICBkaXNhYmxlU3RhdHM6IHRydWUsXG4gICAgICAgICAgICAgICAgYXV0aEVuZHBvaW50OiBNZXNzZW5nZXIuY29tbW9uKCkuU09DS0VUX0FVVEhfRU5EUE9JTlQsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICByZWNvbm5lY3RlZCA6IGZ1bmN0aW9uKGZ1bGwpe1xuICAgICAgICAgICAgaWYodHlwZW9mIGZ1bGwgPT09IFwiYm9vbGVhblwiICYmICFmdWxsKSBicm9hZGNhc3Rlci5oZWFydEJlYXQoZmFsc2UsIHRydWUsIHRydWUpO1xuICAgICAgICAgICAgaWYoTWVzc2VuZ2VyLmNvbW1vbigpLm1vZHVsZXMuaW5jbHVkZXMoJ1RocmVhZE1hbmFnZXInKSkgVGhyZWFkTWFuYWdlci5zdGF0ZSgpLnJlQ29ubmVjdGVkKHR5cGVvZiBmdWxsID09PSBcImJvb2xlYW5cIiAmJiBmdWxsKTtcbiAgICAgICAgICAgIGlmKENhbGxNYW5hZ2VyLnN0YXRlKCkuaW5pdGlhbGl6ZWQpIENhbGxNYW5hZ2VyLmNoYW5uZWwoKS5yZWNvbm5lY3RlZCh0eXBlb2YgZnVsbCA9PT0gXCJib29sZWFuXCIgJiYgZnVsbClcbiAgICAgICAgfSxcbiAgICAgICAgRGlzY29ubmVjdCA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBpZihvcHQuc29ja2V0LkVjaG8gIT09IG51bGwpIG9wdC5zb2NrZXQuRWNoby5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICBvcHQuc29ja2V0LmZvcmNlZF9kaXNjb25uZWN0ID0gdHJ1ZTtcbiAgICAgICAgICAgIG9wdC5zb2NrZXQuc29ja2V0X3N0YXR1cyA9IGZhbHNlO1xuICAgICAgICB9LFxuICAgICAgICBQcml2YXRlQ2hhbm5lbCA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBpZighb3B0LnNvY2tldC5FY2hvKSByZXR1cm47XG4gICAgICAgICAgICBpZih0eXBlb2Ygb3B0LnNvY2tldC5FY2hvLmNvbm5lY3Rvci5jaGFubmVsc1sncHJpdmF0ZS1tZXNzZW5nZXIuJytNZXNzZW5nZXIuY29tbW9uKCkucHJvdmlkZXJfYWxpYXMrJy4nK01lc3Nlbmdlci5jb21tb24oKS5wcm92aWRlcl9pZF0gIT09ICd1bmRlZmluZWQnKXtcbiAgICAgICAgICAgICAgICBvcHQuc29ja2V0LnByaXZhdGVfY2hhbm5lbCA9IG9wdC5zb2NrZXQuRWNoby5jb25uZWN0b3IuY2hhbm5lbHNbJ3ByaXZhdGUtbWVzc2VuZ2VyLicrTWVzc2VuZ2VyLmNvbW1vbigpLnByb3ZpZGVyX2FsaWFzKycuJytpZF07XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3B0LnNvY2tldC5wcml2YXRlX2NoYW5uZWwgPSBvcHQuc29ja2V0LkVjaG8ucHJpdmF0ZSgnbWVzc2VuZ2VyLicrTWVzc2VuZ2VyLmNvbW1vbigpLnByb3ZpZGVyX2FsaWFzKycuJytNZXNzZW5nZXIuY29tbW9uKCkucHJvdmlkZXJfaWQpO1xuICAgICAgICAgICAgb3B0LnNvY2tldC5wcml2YXRlX2NoYW5uZWwubGlzdGVuKCcubmV3Lm1lc3NhZ2UnLCBtZXRob2RzLmluY29taW5nTWVzc2FnZSlcbiAgICAgICAgICAgIC5saXN0ZW4oJy50aHJlYWQuYXJjaGl2ZWQnLCBtZXRob2RzLnRocmVhZExlZnQpXG4gICAgICAgICAgICAubGlzdGVuKCcubWVzc2FnZS5hcmNoaXZlZCcsIG1ldGhvZHMubWVzc2FnZVB1cmdlZClcbiAgICAgICAgICAgIC5saXN0ZW4oJy5rbm9jay5rbm9jaycsIG1ldGhvZHMuaW5jb21pbmdLbm9rKVxuICAgICAgICAgICAgLmxpc3RlbignLm5ldy50aHJlYWQnLCBtZXRob2RzLm5ld1RocmVhZClcbiAgICAgICAgICAgIC5saXN0ZW4oJy50aHJlYWQuYXBwcm92YWwnLCBtZXRob2RzLnRocmVhZEFwcHJvdmFsKVxuICAgICAgICAgICAgLmxpc3RlbignLnRocmVhZC5sZWZ0JywgbWV0aG9kcy50aHJlYWRMZWZ0KVxuICAgICAgICAgICAgLmxpc3RlbignLmluY29taW5nLmNhbGwnLCBtZXRob2RzLmluY29taW5nQ2FsbClcbiAgICAgICAgICAgIC5saXN0ZW4oJy5qb2luZWQuY2FsbCcsIG1ldGhvZHMuY2FsbEpvaW5lZClcbiAgICAgICAgICAgIC5saXN0ZW4oJy5sZWZ0LmNhbGwnLCBtZXRob2RzLmNhbGxMZWZ0KVxuICAgICAgICAgICAgLmxpc3RlbignLmNhbGwuZW5kZWQnLCBtZXRob2RzLmNhbGxFbmRlZClcbiAgICAgICAgICAgIC5saXN0ZW4oJy5mcmllbmQucmVxdWVzdCcsIG1ldGhvZHMuZnJpZW5kUmVxdWVzdClcbiAgICAgICAgICAgIC5saXN0ZW4oJy5mcmllbmQuYXBwcm92ZWQnLCBtZXRob2RzLmZyaWVuZEFwcHJvdmVkKVxuICAgICAgICAgICAgLmxpc3RlbignLmZyaWVuZC5jYW5jZWxsZWQnLCBtZXRob2RzLmZyaWVuZENhbmNlbGxlZClcbiAgICAgICAgICAgIC5saXN0ZW4oJy5wcm9tb3RlZC5hZG1pbicsIG1ldGhvZHMucHJvbW90ZWRBZG1pbilcbiAgICAgICAgICAgIC5saXN0ZW4oJy5kZW1vdGVkLmFkbWluJywgbWV0aG9kcy5kZW1vdGVkQWRtaW4pXG4gICAgICAgICAgICAubGlzdGVuKCcucGVybWlzc2lvbnMudXBkYXRlZCcsIG1ldGhvZHMucGVybWlzc2lvbnNVcGRhdGVkKVxuICAgICAgICAgICAgLmxpc3RlbignLnJlYWN0aW9uLmFkZGVkJywgbWV0aG9kcy5pbmNvbWluZ1JlYWN0KVxuICAgICAgICAgICAgLmVycm9yKCgpID0+IHtcbiAgICAgICAgICAgICAgICBvcHQuc29ja2V0LnNvY2tldF9zdGF0dXMgPSBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBoZWFydEJlYXQgOiBmdW5jdGlvbihzdGF0ZSwgY2hlY2ssIGdhdGhlcil7XG4gICAgICAgICAgICBsZXQgcGF5bG9hZCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgSGVhcnRiZWF0LnVwZGF0ZShvcHQuc2V0dGluZ3MuaXNfYXdheSwgbWV0aG9kcy5tYW5hZ2VIZWFydGJlYXREYXRhLCB3aW5kb3cubG9jYXRpb24ucmVsb2FkKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmKGNoZWNrKXtcbiAgICAgICAgICAgICAgICBwYXlsb2FkKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoIXN0YXRlKXtcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKG9wdC5zdG9yYWdlLmhlYXJ0YmVhdF9pbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgb3B0LnN0b3JhZ2UuaGVhcnRiZWF0X2ludGVydmFsID0gbnVsbDtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcHQuc3RvcmFnZS5oZWFydGJlYXRfaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChwYXlsb2FkLCAxMjAwMDApXG4gICAgICAgIH0sXG4gICAgICAgIGNsZWFyUHVzaGVyTG9jYWxTdG9yYWdlIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGlmKCFNZXNzZW5nZXIuY29tbW9uKCkuU09DS0VUX1BVU0hFUil7XG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3B1c2hlclRyYW5zcG9ydE5vblRMUycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBIZWFydGJlYXQgPSB7XG4gICAgICAgIGdhdGhlciA6IGZ1bmN0aW9uKG9uUGFzcywgb25GYWlsKXtcbiAgICAgICAgICAgIE1lc3Nlbmdlci54aHIoKS5yZXF1ZXN0KHtcbiAgICAgICAgICAgICAgICByb3V0ZSA6IE1lc3Nlbmdlci5jb21tb24oKS5BUEkgKyAnaGVhcnRiZWF0JyxcbiAgICAgICAgICAgICAgICBzdWNjZXNzIDogSGVhcnRiZWF0Lm1hbmFnZSxcbiAgICAgICAgICAgICAgICBzaGFyZWQgOiB7XG4gICAgICAgICAgICAgICAgICAgIG9uUGFzcyA6IG9uUGFzc1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmFpbCA6IG9uRmFpbFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgdXBkYXRlIDogZnVuY3Rpb24oc3RhdGUsIG9uUGFzcywgb25GYWlsKXtcbiAgICAgICAgICAgIE1lc3Nlbmdlci54aHIoKS5wYXlsb2FkKHtcbiAgICAgICAgICAgICAgICByb3V0ZSA6IE1lc3Nlbmdlci5jb21tb24oKS5BUEkgKyAnaGVhcnRiZWF0JyxcbiAgICAgICAgICAgICAgICBkYXRhIDoge1xuICAgICAgICAgICAgICAgICAgICBhd2F5IDogc3RhdGVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3MgOiBIZWFydGJlYXQubWFuYWdlLFxuICAgICAgICAgICAgICAgIHNoYXJlZCA6IHtcbiAgICAgICAgICAgICAgICAgICAgb25QYXNzIDogb25QYXNzXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmYWlsIDogb25GYWlsXG4gICAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICBtYW5hZ2UgOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgaWYoXCJvblBhc3NcIiBpbiBkYXRhICYmIHR5cGVvZiBkYXRhLm9uUGFzcyA9PT0gJ2Z1bmN0aW9uJyl7XG4gICAgICAgICAgICAgICAgZGF0YS5vblBhc3MoZGF0YSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgbWV0aG9kcyA9IHtcbiAgICAgICAgcHJvbW90ZWRBZG1pbiA6IGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICAgaWYoTWVzc2VuZ2VyLmNvbW1vbigpLm1vZHVsZXMuaW5jbHVkZXMoJ1RocmVhZE1hbmFnZXInKSl7XG4gICAgICAgICAgICAgICAgVGhyZWFkTWFuYWdlci5JbXBvcnQoKS5wcm9tb3RlZEFkbWluKGRhdGEudGhyZWFkX2lkLCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGRlbW90ZWRBZG1pbiA6IGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICAgaWYoTWVzc2VuZ2VyLmNvbW1vbigpLm1vZHVsZXMuaW5jbHVkZXMoJ1RocmVhZE1hbmFnZXInKSl7XG4gICAgICAgICAgICAgICAgVGhyZWFkTWFuYWdlci5JbXBvcnQoKS5kZW1vdGVkQWRtaW4oZGF0YS50aHJlYWRfaWQsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgcGVybWlzc2lvbnNVcGRhdGVkIDogZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICBpZihNZXNzZW5nZXIuY29tbW9uKCkubW9kdWxlcy5pbmNsdWRlcygnVGhyZWFkTWFuYWdlcicpKXtcbiAgICAgICAgICAgICAgICBUaHJlYWRNYW5hZ2VyLkltcG9ydCgpLnBlcm1pc3Npb25zVXBkYXRlZChkYXRhLnRocmVhZF9pZCwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBmcmllbmRSZXF1ZXN0IDogZnVuY3Rpb24ocGVuZGluZyl7XG4gICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5BbGVydCh7XG4gICAgICAgICAgICAgICAgdGl0bGUgOiAnTmV3IGZyaWVuZCByZXF1ZXN0IGZyb20gJyArIHBlbmRpbmcuc2VuZGVyLm5hbWUsXG4gICAgICAgICAgICAgICAgdG9hc3QgOiB0cnVlLFxuICAgICAgICAgICAgICAgIHRoZW1lIDogJ2luZm8nXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJyb2FkY2FzdGVyLmhlYXJ0QmVhdChmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgICBtZXRob2RzLnRvZ2dsZVBhZ2VUaXRsZSgnRnJpZW5kIHJlcXVlc3QgZnJvbSAnICsgcGVuZGluZy5zZW5kZXIubmFtZSk7XG4gICAgICAgICAgICBtZXRob2RzLnBsYXlBbGVydFNvdW5kKCdub3RpZnknKTtcbiAgICAgICAgfSxcbiAgICAgICAgZnJpZW5kQXBwcm92ZWQgOiBmdW5jdGlvbihmcmllbmQpe1xuICAgICAgICAgICAgTWVzc2VuZ2VyLmFsZXJ0KCkuQWxlcnQoe1xuICAgICAgICAgICAgICAgIHRpdGxlIDogZnJpZW5kLnNlbmRlci5uYW1lICsgJyBhcHByb3ZlZCB5b3VyIGZyaWVuZCByZXF1ZXN0IScsXG4gICAgICAgICAgICAgICAgdG9hc3QgOiB0cnVlLFxuICAgICAgICAgICAgICAgIHRoZW1lIDogJ3N1Y2Nlc3MnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG1ldGhvZHMudG9nZ2xlUGFnZVRpdGxlKGZyaWVuZC5zZW5kZXIubmFtZSArICcgaXMgbm93IHlvdXIgZnJpZW5kJyk7XG4gICAgICAgICAgICBtZXRob2RzLnBsYXlBbGVydFNvdW5kKCdub3RpZnknKTtcbiAgICAgICAgfSxcbiAgICAgICAgZnJpZW5kQ2FuY2VsbGVkIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGJyb2FkY2FzdGVyLmhlYXJ0QmVhdChmYWxzZSwgdHJ1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGluY29taW5nQ2FsbCA6IGZ1bmN0aW9uKGNhbGwpe1xuICAgICAgICAgICAgaWYoQ2FsbE1hbmFnZXIuc3RhdGUoKS5pbml0aWFsaXplZCB8fCAhb3B0LnNldHRpbmdzLm5vdGlmaWNhdGlvbnMpIHJldHVybjtcbiAgICAgICAgICAgIGJyb2FkY2FzdGVyLmhlYXJ0QmVhdChmYWxzZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICBtZXRob2RzLnRvZ2dsZVBhZ2VUaXRsZShjYWxsLnNlbmRlci5uYW1lKycgaXMgY2FsbGluZycpO1xuICAgICAgICAgICAgQ2FsbE1hbmFnZXIubmV3Q2FsbChjYWxsKVxuICAgICAgICB9LFxuICAgICAgICBjYWxsRW5kZWQgOiBmdW5jdGlvbihjYWxsKXtcbiAgICAgICAgICAgIGlmKCFvcHQuc2V0dGluZ3Mubm90aWZpY2F0aW9ucykgcmV0dXJuO1xuICAgICAgICAgICAgQ2FsbE1hbmFnZXIuY2FsbEVuZGVkKGNhbGwpO1xuICAgICAgICAgICAgYnJvYWRjYXN0ZXIuaGVhcnRCZWF0KGZhbHNlLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2FsbEpvaW5lZCA6IGZ1bmN0aW9uKGNhbGwpe1xuICAgICAgICAgICAgaWYoQ2FsbE1hbmFnZXIuc3RhdGUoKS5pbml0aWFsaXplZCB8fCAhb3B0LnNldHRpbmdzLm5vdGlmaWNhdGlvbnMpIHJldHVybjtcbiAgICAgICAgICAgIG9wdC5zdG9yYWdlLmxhc3RfY2FsbF91cGRhdGUgPSBjYWxsLnRocmVhZF9pZDtcbiAgICAgICAgICAgIENhbGxNYW5hZ2VyLmpvaW5lZChjYWxsKTtcbiAgICAgICAgICAgIGJyb2FkY2FzdGVyLmhlYXJ0QmVhdChmYWxzZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGNhbGxMZWZ0IDogZnVuY3Rpb24oY2FsbCl7XG4gICAgICAgICAgICBpZihDYWxsTWFuYWdlci5zdGF0ZSgpLmluaXRpYWxpemVkIHx8ICFvcHQuc2V0dGluZ3Mubm90aWZpY2F0aW9ucykgcmV0dXJuO1xuICAgICAgICAgICAgQ2FsbE1hbmFnZXIubGVmdChjYWxsKTtcbiAgICAgICAgICAgIGJyb2FkY2FzdGVyLmhlYXJ0QmVhdChmYWxzZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGluY29taW5nTWVzc2FnZSA6IGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICAgaWYoIW9wdC5zZXR0aW5ncy5ub3RpZmljYXRpb25zKSByZXR1cm47XG4gICAgICAgICAgICBsZXQgcnVuVGl0bGUgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIG1ldGhvZHMudG9nZ2xlUGFnZVRpdGxlKGRhdGEub3duZXIubmFtZSsnIHNheXMuLi4nKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBteXNlbGYgPSBNZXNzZW5nZXIuaXNQcm92aWRlcihkYXRhLm93bmVyX2lkLCBkYXRhLm93bmVyX3R5cGUpO1xuICAgICAgICAgICAgaWYoTWVzc2VuZ2VyLmNvbW1vbigpLm1vZHVsZXMuaW5jbHVkZXMoJ1RocmVhZE1hbmFnZXInKSl7XG4gICAgICAgICAgICAgICAgVGhyZWFkTWFuYWdlci5JbXBvcnQoKS5uZXdNZXNzYWdlKGRhdGEpO1xuICAgICAgICAgICAgICAgIGlmKCFteXNlbGYpIHJ1blRpdGxlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoQ2FsbE1hbmFnZXIuc3RhdGUoKS5pbml0aWFsaXplZCB8fCBteXNlbGYpIHJldHVybjtcbiAgICAgICAgICAgIHJ1blRpdGxlKCk7XG4gICAgICAgICAgICBicm9hZGNhc3Rlci5oZWFydEJlYXQoZmFsc2UsIHRydWUsIHRydWUpO1xuICAgICAgICAgICAgbWV0aG9kcy5wbGF5QWxlcnRTb3VuZCgnbWVzc2FnZScpO1xuICAgICAgICAgICAgaWYoIVswLDEsMl0uaW5jbHVkZXMoZGF0YS50eXBlKSB8fCAhb3B0LnNldHRpbmdzLm1lc3NhZ2VfcG9wdXBzKSByZXR1cm47XG4gICAgICAgICAgICBsZXQgYm9keSA9IG51bGw7XG4gICAgICAgICAgICBzd2l0Y2goZGF0YS50eXBlKXtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgIGJvZHkgPSBkYXRhLmJvZHkubGVuZ3RoID4gNDUgPyBNZXNzZW5nZXIuZm9ybWF0KCkuc2hvcnRjb2RlVG9JbWFnZShkYXRhLmJvZHkuc3Vic3RyaW5nKDAsIDQyKSArIFwiLi4uXCIpIDogTWVzc2VuZ2VyLmZvcm1hdCgpLnNob3J0Y29kZVRvSW1hZ2UoZGF0YS5ib2R5KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGJvZHkgPSBcIlNlbnQgYW4gaW1hZ2VcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGJvZHkgPSBcIlNlbnQgYSBmaWxlXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5BbGVydCh7XG4gICAgICAgICAgICAgICAgdGl0bGUgOiAoZGF0YS5tZXRhLnRocmVhZF90eXBlID09PSAyID8gZGF0YS5tZXRhLnRocmVhZF9uYW1lIDogZGF0YS5vd25lci5uYW1lKSxcbiAgICAgICAgICAgICAgICBib2R5IDogYm9keSxcbiAgICAgICAgICAgICAgICB0b2FzdCA6IHRydWUsXG4gICAgICAgICAgICAgICAgdGhlbWUgOiAnaW5mbycsXG4gICAgICAgICAgICAgICAgdG9hc3Rfb3B0aW9ucyA6IHtcbiAgICAgICAgICAgICAgICAgICAgb25jbGljayA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IE1lc3Nlbmdlci5jb21tb24oKS5XRUIgKyAnLycrZGF0YS50aHJlYWRfaWRcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdGltZU91dCA6IDUwMDBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICBpbmNvbWluZ1JlYWN0IDogZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICBpZighb3B0LnNldHRpbmdzLm5vdGlmaWNhdGlvbnMgfHwgQ2FsbE1hbmFnZXIuc3RhdGUoKS5pbml0aWFsaXplZCkgcmV0dXJuO1xuICAgICAgICAgICAgaWYoIU1lc3Nlbmdlci5jb21tb24oKS5tb2R1bGVzLmluY2x1ZGVzKCdUaHJlYWRNYW5hZ2VyJykgfHwgVGhyZWFkTWFuYWdlci5zdGF0ZSgpLnRocmVhZF9pZCAhPT0gZGF0YS5tZXNzYWdlLnRocmVhZF9pZCl7XG4gICAgICAgICAgICAgICAgTWVzc2VuZ2VyLmFsZXJ0KCkuQWxlcnQoe1xuICAgICAgICAgICAgICAgICAgICB0aXRsZSA6IE1lc3Nlbmdlci5mb3JtYXQoKS5zaG9ydGNvZGVUb0ltYWdlKGRhdGEucmVhY3Rpb24pKycgJytkYXRhLm93bmVyLm5hbWUrJyByZWFjdGVkJyxcbiAgICAgICAgICAgICAgICAgICAgdG9hc3QgOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB0aGVtZSA6ICdpbmZvJyxcbiAgICAgICAgICAgICAgICAgICAgdG9hc3Rfb3B0aW9ucyA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uY2xpY2sgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKE1lc3Nlbmdlci5jb21tb24oKS5tb2R1bGVzLmluY2x1ZGVzKCdUaHJlYWRNYW5hZ2VyJykpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaHJlYWRNYW5hZ2VyLmxvYWQoKS5pbml0aWF0ZV90aHJlYWQoe3RocmVhZF9pZCA6IGRhdGEubWVzc2FnZS50aHJlYWRfaWR9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBNZXNzZW5nZXIuY29tbW9uKCkuV0VCICsgJy8nK2RhdGEubWVzc2FnZS50aHJlYWRfaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZU91dCA6IDUwMDBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIG1ldGhvZHMudG9nZ2xlUGFnZVRpdGxlKGRhdGEub3duZXIubmFtZSsnIHJlYWN0ZWQuLi4nKTtcbiAgICAgICAgICAgICAgICBtZXRob2RzLnBsYXlBbGVydFNvdW5kKCdub3RpZnknKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgaW5jb21pbmdLbm9rIDogZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICBpZighb3B0LnNldHRpbmdzLm5vdGlmaWNhdGlvbnMpIHJldHVybjtcbiAgICAgICAgICAgIGxldCBuYW1lID0gZGF0YS50aHJlYWQuZ3JvdXAgPyBkYXRhLnRocmVhZC5uYW1lIDogZGF0YS5zZW5kZXIubmFtZTtcbiAgICAgICAgICAgIGxldCBhdmF0YXIgPSBkYXRhLnRocmVhZC5ncm91cCA/IGRhdGEudGhyZWFkLmF2YXRhci5tZCA6IGRhdGEuc2VuZGVyLmF2YXRhci5tZDtcbiAgICAgICAgICAgIGlmKENhbGxNYW5hZ2VyLnN0YXRlKCkuaW5pdGlhbGl6ZWQpe1xuICAgICAgICAgICAgICAgIGlmKENhbGxNYW5hZ2VyLnN0YXRlKCkudGhyZWFkX2lkID09PSBkYXRhLnRocmVhZC5pZCl7XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZHMucGxheUFsZXJ0U291bmQoJ2tub2snKTtcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kcy50b2dnbGVQYWdlVGl0bGUobmFtZSsnIGlzIGtub2NraW5nLi4uJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKE1lc3Nlbmdlci5jb21tb24oKS5tb2R1bGVzLmluY2x1ZGVzKCdUaHJlYWRNYW5hZ2VyJykgJiYgVGhyZWFkTWFuYWdlci5zdGF0ZSgpLnRocmVhZF9pZCA9PT0gZGF0YS50aHJlYWQuaWQpe1xuICAgICAgICAgICAgICAgIG1ldGhvZHMucGxheUFsZXJ0U291bmQoJ2tub2snKTtcbiAgICAgICAgICAgICAgICBtZXRob2RzLnRvZ2dsZVBhZ2VUaXRsZShuYW1lKycgaXMga25vY2tpbmcuLi4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5Nb2RhbCh7XG4gICAgICAgICAgICAgICAgd2FpdF9mb3Jfb3RoZXJzIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0aGVtZSA6ICdkYXJrJyxcbiAgICAgICAgICAgICAgICBpY29uIDogJ2hhbmQtcm9jaycsXG4gICAgICAgICAgICAgICAgc2l6ZSA6ICdzbScsXG4gICAgICAgICAgICAgICAgY2VudGVyZWQgOiB0cnVlLFxuICAgICAgICAgICAgICAgIHRpdGxlIDogJ0tub2NrIEtub2NrJyxcbiAgICAgICAgICAgICAgICBib2R5IDogJzxkaXYgY2xhc3M9XCJjb2wtMTIgbWItM1wiPjxkaXYgY2xhc3M9XCJ0ZXh0LWNlbnRlciB0ZXh0LWRhcmtcIj48ZGl2IGlkPVwia25va19hbmltYXRlXCI+PGkgIGNsYXNzPVwiZmFzIGZhLWhhbmQtcm9jayBmYS03eFwiPjwvaT48L2Rpdj48L2Rpdj48L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJjb2wtMTIgdGV4dC1jZW50ZXJcIj4gPGltZyBoZWlnaHQ9XCIyNVwiIHdpZHRoPVwiMjVcIiBjbGFzcz1cIm1yLTIgcm91bmRlZC1jaXJjbGVcIiBzcmM9XCInK2F2YXRhcisnXCIgLz48c3BhbiBjbGFzcz1cImg2IGZvbnQtd2VpZ2h0LWJvbGRcIj4nK25hbWUrJzwvc3Bhbj48L2Rpdj4nLFxuICAgICAgICAgICAgICAgIG9uUmVhZHkgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICBtZXRob2RzLnBsYXlBbGVydFNvdW5kKCdrbm9rJyk7XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZHMudG9nZ2xlUGFnZVRpdGxlKG5hbWUrJyBpcyBrbm9ja2luZy4uLicpO1xuICAgICAgICAgICAgICAgICAgICBQYWdlTGlzdGVuZXJzLmxpc3RlbigpLmFuaW1hdGVLbm9rKHRydWUpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjYl9idG5fdHh0IDogJ1ZpZXcnLFxuICAgICAgICAgICAgICAgIGNiX2J0bl9pY29uIDogJ2NvbW1lbnQtZG90cycsXG4gICAgICAgICAgICAgICAgY2JfYnRuX3RoZW1lIDogJ3N1Y2Nlc3MnLFxuICAgICAgICAgICAgICAgIG9uQ2xvc2UgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICBQYWdlTGlzdGVuZXJzLmxpc3RlbigpLmFuaW1hdGVLbm9rKGZhbHNlKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2FsbGJhY2sgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICBpZihNZXNzZW5nZXIuY29tbW9uKCkubW9kdWxlcy5pbmNsdWRlcygnVGhyZWFkTWFuYWdlcicpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIFRocmVhZE1hbmFnZXIubG9hZCgpLmluaXRpYXRlX3RocmVhZCh7dGhyZWFkX2lkIDogZGF0YS50aHJlYWQuaWR9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IE1lc3Nlbmdlci5jb21tb24oKS5XRUIgKyAnLycrZGF0YS50aHJlYWQuaWRcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNiX2Nsb3NlIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0aW1lciA6IDE1MDAwXG4gICAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICBuZXdUaHJlYWQgOiBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgIGlmKCFvcHQuc2V0dGluZ3Mubm90aWZpY2F0aW9ucykgcmV0dXJuO1xuICAgICAgICAgICAgaWYoTWVzc2VuZ2VyLmNvbW1vbigpLm1vZHVsZXMuaW5jbHVkZXMoJ1RocmVhZE1hbmFnZXInKSl7XG4gICAgICAgICAgICAgICAgVGhyZWFkTWFuYWdlci5JbXBvcnQoKS5hZGRlZFRvVGhyZWFkKGRhdGEudGhyZWFkLmlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyb2FkY2FzdGVyLmhlYXJ0QmVhdChmYWxzZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICBtZXRob2RzLnBsYXlBbGVydFNvdW5kKCdtZXNzYWdlJyk7XG4gICAgICAgICAgICBpZihkYXRhLnRocmVhZC5ncm91cCl7XG4gICAgICAgICAgICAgICAgTWVzc2VuZ2VyLmFsZXJ0KCkuQWxlcnQoe1xuICAgICAgICAgICAgICAgICAgICB0aXRsZSA6IGRhdGEudGhyZWFkLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGJvZHkgOiBkYXRhLnNlbmRlci5uYW1lKycgYWRkZWQgeW91IHRvIHRoZSBncm91cCEnLFxuICAgICAgICAgICAgICAgICAgICB0b2FzdCA6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHRoZW1lIDogJ2luZm8nXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgTWVzc2VuZ2VyLmFsZXJ0KCkuQWxlcnQoe1xuICAgICAgICAgICAgICAgICAgICB0aXRsZSA6IGRhdGEuc2VuZGVyLm5hbWUrJyBzdGFydGVkIGEgY29udmVyc2F0aW9uIHdpdGggeW91IScsXG4gICAgICAgICAgICAgICAgICAgIGJvZHkgOiAoZGF0YS50aHJlYWQucGVuZGluZyA/ICdZb3UgbXVzdCBhY2NlcHQgb3IgZGVueSB0aGUgbWVzc2FnZSByZXF1ZXN0JyA6ICcnKSxcbiAgICAgICAgICAgICAgICAgICAgdG9hc3QgOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB0aGVtZSA6ICdpbmZvJ1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHRocmVhZEFwcHJvdmFsIDogZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICBpZighb3B0LnNldHRpbmdzLm5vdGlmaWNhdGlvbnMpIHJldHVybjtcbiAgICAgICAgICAgIGlmKE1lc3Nlbmdlci5jb21tb24oKS5tb2R1bGVzLmluY2x1ZGVzKCdUaHJlYWRNYW5hZ2VyJykpe1xuICAgICAgICAgICAgICAgIFRocmVhZE1hbmFnZXIuSW1wb3J0KCkudGhyZWFkQXBwcm92YWwoZGF0YS50aHJlYWQuaWQsIGRhdGEudGhyZWFkLmFwcHJvdmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKGRhdGEudGhyZWFkLmFwcHJvdmVkKXtcbiAgICAgICAgICAgICAgICBtZXRob2RzLnBsYXlBbGVydFNvdW5kKCdtZXNzYWdlJyk7XG4gICAgICAgICAgICAgICAgTWVzc2VuZ2VyLmFsZXJ0KCkuQWxlcnQoe1xuICAgICAgICAgICAgICAgICAgICB0aXRsZSA6IGRhdGEuc2VuZGVyLm5hbWUrJyBhY2NlcHRlZCB5b3VyIG1lc3NhZ2UgcmVxdWVzdCEnLFxuICAgICAgICAgICAgICAgICAgICB0b2FzdCA6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHRoZW1lIDogJ2luZm8nXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgbWVzc2FnZVB1cmdlZCA6IGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICAgaWYoIW9wdC5zZXR0aW5ncy5ub3RpZmljYXRpb25zKSByZXR1cm47XG4gICAgICAgICAgICBpZihNZXNzZW5nZXIuY29tbW9uKCkubW9kdWxlcy5pbmNsdWRlcygnVGhyZWFkTWFuYWdlcicpKXtcbiAgICAgICAgICAgICAgICBUaHJlYWRNYW5hZ2VyLkltcG9ydCgpLnB1cmdlTWVzc2FnZShkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdGhyZWFkTGVmdCA6IGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICAgaWYoIW9wdC5zZXR0aW5ncy5ub3RpZmljYXRpb25zKSByZXR1cm47XG4gICAgICAgICAgICBpZihNZXNzZW5nZXIuY29tbW9uKCkubW9kdWxlcy5pbmNsdWRlcygnVGhyZWFkTWFuYWdlcicpKXtcbiAgICAgICAgICAgICAgICBUaHJlYWRNYW5hZ2VyLkltcG9ydCgpLnRocmVhZExlZnQoZGF0YS50aHJlYWRfaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBtYW5hZ2VNZXNzYWdlQ291bnRzIDogZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICBvcHQuc3RvcmFnZS51bnJlYWRfdGhyZWFkID0gZGF0YS50b3RhbF91bnJlYWQ7XG4gICAgICAgICAgICBtZXRob2RzLnVwZGF0ZVBhZ2VTdGF0ZXMoKVxuICAgICAgICB9LFxuICAgICAgICBtYW5hZ2VIZWFydGJlYXREYXRhIDogZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICBvcHQuc2V0dGluZ3MuZ2xvYmFsX2F3YXkgPSBkYXRhLm9ubGluZV9zdGF0dXMgPT09IDI7XG4gICAgICAgICAgICBvcHQuc3RvcmFnZS51bnJlYWRfbm90aWZ5ID0gMDtcbiAgICAgICAgICAgIG9wdC5zdG9yYWdlLnVucmVhZF90aHJlYWQgPSBkYXRhLnVucmVhZF90aHJlYWRzX2NvdW50O1xuICAgICAgICAgICAgb3B0LnN0b3JhZ2UuYWN0aXZlX2NhbGxzX2NvdW50ID0gZGF0YS5hY3RpdmVfY2FsbHNfY291bnQ7XG4gICAgICAgICAgICBpZihkYXRhLmFjdGl2ZV9jYWxsc19jb3VudCA9PT0gMCl7XG4gICAgICAgICAgICAgICAgb3B0LnN0b3JhZ2UuYWN0aXZlX2NhbGxzID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIG9wdC5lbGVtZW50cy5hY3RpdmVfY2FsbF9uYXZfaWNvbi5hZGRDbGFzcygnZ2xvd2luZ190ZXh0X3dhcm5pbmcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdC5zdG9yYWdlLnBlbmRpbmdfZnJpZW5kc19jb3VudCA9IGRhdGEucGVuZGluZ19mcmllbmRzX2NvdW50O1xuICAgICAgICAgICAgaWYoTWVzc2VuZ2VyLmNvbW1vbigpLm1vZHVsZXMuaW5jbHVkZXMoJ1RocmVhZE1hbmFnZXInKSkgVGhyZWFkTWFuYWdlci5zdGF0ZSgpLm9ubGluZShvcHQuc2V0dGluZ3MuZ2xvYmFsX2F3YXkgPyAyIDogMSk7XG4gICAgICAgICAgICBtZXRob2RzLnVwZGF0ZVBhZ2VTdGF0ZXMoKTtcbiAgICAgICAgfSxcbiAgICAgICAgdXBkYXRlUGFnZVN0YXRlcyA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBtZXRob2RzLnVwZGF0ZVRpdGxlKCk7XG4gICAgICAgICAgICBpZihvcHQuc3RvcmFnZS5hY3RpdmVfY2FsbHNfY291bnQgPT09IDApe1xuICAgICAgICAgICAgICAgIG9wdC5lbGVtZW50cy5hY3RpdmVfY2FsbHNfY3Ruci5odG1sKHRlbXBsYXRlcy5ub19jYWxscygpKTtcbiAgICAgICAgICAgICAgICBvcHQuZWxlbWVudHMuYWN0aXZlX2NhbGxfbmF2X2ljb24ucmVtb3ZlQ2xhc3MoJ2dsb3dpbmdfdGV4dF93YXJuaW5nJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcHQuc3RvcmFnZS51bnJlYWRfdGhyZWFkID4gMCA/IG9wdC5lbGVtZW50cy50aHJlYWRfY291bnRfYXJlYS5odG1sKG9wdC5zdG9yYWdlLnVucmVhZF90aHJlYWQpIDogb3B0LmVsZW1lbnRzLnRocmVhZF9jb3VudF9hcmVhLmh0bWwoJycpO1xuICAgICAgICAgICAgb3B0LnN0b3JhZ2UucGVuZGluZ19mcmllbmRzX2NvdW50ID4gMCA/IG9wdC5lbGVtZW50cy5wZW5kaW5nX2ZyaWVuZHNfY291bnRfYXJlYS5odG1sKG9wdC5zdG9yYWdlLnBlbmRpbmdfZnJpZW5kc19jb3VudCkgOiBvcHQuZWxlbWVudHMucGVuZGluZ19mcmllbmRzX2NvdW50X2FyZWEuaHRtbCgnJyk7XG4gICAgICAgICAgICBvcHQuc3RvcmFnZS5hY3RpdmVfY2FsbHNfY291bnQgPiAwID8gb3B0LmVsZW1lbnRzLmNhbGxzX2NvdW50X2FyZWEuaHRtbChvcHQuc3RvcmFnZS5hY3RpdmVfY2FsbHNfY291bnQpIDogb3B0LmVsZW1lbnRzLmNhbGxzX2NvdW50X2FyZWEuaHRtbCgnJyk7XG4gICAgICAgICAgICBpZihvcHQuc3RvcmFnZS51bnJlYWRfdGhyZWFkID4gMCB8fCBvcHQuc3RvcmFnZS5wZW5kaW5nX2ZyaWVuZHNfY291bnQgPiAwIHx8IG9wdC5zdG9yYWdlLmFjdGl2ZV9jYWxsc19jb3VudCA+IDApe1xuICAgICAgICAgICAgICAgIG9wdC5lbGVtZW50cy5tb2JpbGVfbmF2X2NvdW50X2FyZWEuaHRtbChvcHQuc3RvcmFnZS51bnJlYWRfdGhyZWFkK29wdC5zdG9yYWdlLnBlbmRpbmdfZnJpZW5kc19jb3VudCtvcHQuc3RvcmFnZS5hY3RpdmVfY2FsbHNfY291bnQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdC5lbGVtZW50cy5tb2JpbGVfbmF2X2NvdW50X2FyZWEuaHRtbCgnJylcbiAgICAgICAgfSxcbiAgICAgICAgdXBkYXRlQWN0aXZlQ2FsbHMgOiBmdW5jdGlvbihjYWxscyl7XG4gICAgICAgICAgICBpZihDYWxsTWFuYWdlci5zdGF0ZSgpLmluaXRpYWxpemVkKSByZXR1cm47XG4gICAgICAgICAgICBpZighY2FsbHMubGVuZ3RoKXtcbiAgICAgICAgICAgICAgICBvcHQuc3RvcmFnZS5hY3RpdmVfY2FsbHMgPSBbXTtcbiAgICAgICAgICAgICAgICBvcHQuc3RvcmFnZS5hY3RpdmVfY2FsbHNfY291bnQgID0gMDtcbiAgICAgICAgICAgICAgICBvcHQuZWxlbWVudHMuYWN0aXZlX2NhbGxzX2N0bnIuaHRtbCh0ZW1wbGF0ZXMubm9fY2FsbHMoKSk7XG4gICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLmFjdGl2ZV9jYWxsX25hdl9pY29uLnJlbW92ZUNsYXNzKCdnbG93aW5nX3RleHRfd2FybmluZycpO1xuICAgICAgICAgICAgICAgIG1ldGhvZHMudXBkYXRlUGFnZVN0YXRlcygpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdC5zdG9yYWdlLmFjdGl2ZV9jYWxscyA9IGNhbGxzO1xuICAgICAgICAgICAgb3B0LmVsZW1lbnRzLmFjdGl2ZV9jYWxsc19jdG5yLmh0bWwoJycpO1xuICAgICAgICAgICAgb3B0LnN0b3JhZ2UuYWN0aXZlX2NhbGxzLmZvckVhY2goZnVuY3Rpb24oY2FsbCl7XG4gICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLmFjdGl2ZV9jYWxsc19jdG5yLmFwcGVuZCh0ZW1wbGF0ZXMuYWN0aXZlX2NhbGwoY2FsbCkpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG9wdC5lbGVtZW50cy5hY3RpdmVfY2FsbF9uYXZfaWNvbi5hZGRDbGFzcygnZ2xvd2luZ190ZXh0X3dhcm5pbmcnKTtcbiAgICAgICAgfSxcbiAgICAgICAgdXBkYXRlUGVuZGluZ0ZyaWVuZHMgOiBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgIGlmKCFkYXRhLmxlbmd0aCl7XG4gICAgICAgICAgICAgICAgb3B0LnN0b3JhZ2UucGVuZGluZ19mcmllbmRzX2NvdW50ID0gMDtcbiAgICAgICAgICAgICAgICBvcHQuZWxlbWVudHMucGVuZGluZ19mcmllbmRzX2N0bnIuaHRtbCgnPGRpdiBjbGFzcz1cImNvbC0xMiB0ZXh0LWNlbnRlciBoNSBtdC0yXCI+PHNwYW4gY2xhc3M9XCJiYWRnZSBiYWRnZS1waWxsIGJhZGdlLWxpZ2h0IHNoYWRvdy1zbVwiPjxpIGNsYXNzPVwiZmFzIGZhLXVzZXItZnJpZW5kc1wiPjwvaT4gTm8gUGVuZGluZyBSZXF1ZXN0PC9zcGFuPjwvZGl2PicpO1xuICAgICAgICAgICAgICAgIG1ldGhvZHMudXBkYXRlUGFnZVN0YXRlcygpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdC5zdG9yYWdlLnBlbmRpbmdfZnJpZW5kcyA9IGRhdGE7XG4gICAgICAgICAgICBvcHQuc3RvcmFnZS5wZW5kaW5nX2ZyaWVuZHNfY291bnQgPSBvcHQuc3RvcmFnZS5wZW5kaW5nX2ZyaWVuZHMubGVuZ3RoO1xuICAgICAgICAgICAgbWV0aG9kcy51cGRhdGVQYWdlU3RhdGVzKCk7XG4gICAgICAgICAgICBvcHQuZWxlbWVudHMucGVuZGluZ19mcmllbmRzX2N0bnIuaHRtbCgnJyk7XG4gICAgICAgICAgICBvcHQuc3RvcmFnZS5wZW5kaW5nX2ZyaWVuZHMuZm9yRWFjaChmdW5jdGlvbihmcmllbmQpe1xuICAgICAgICAgICAgICAgIG9wdC5lbGVtZW50cy5wZW5kaW5nX2ZyaWVuZHNfY3Ruci5hcHBlbmQodGVtcGxhdGVzLnBlbmRpbmdfZnJpZW5kKGZyaWVuZCkpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICB1cGRhdGVTZW50RnJpZW5kcyA6IGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICAgaWYoIWRhdGEubGVuZ3RoKXtcbiAgICAgICAgICAgICAgICBvcHQuc3RvcmFnZS5zZW50X2ZyaWVuZHMgPSBbXTtcbiAgICAgICAgICAgICAgICBvcHQuZWxlbWVudHMuc2VudF9mcmllbmRzX2N0cm4uaHRtbCgnPGRpdiBjbGFzcz1cImNvbC0xMiB0ZXh0LWNlbnRlciBoNSBtdC0yXCI+PHNwYW4gY2xhc3M9XCJiYWRnZSBiYWRnZS1waWxsIGJhZGdlLWxpZ2h0IHNoYWRvdy1zbVwiPjxpIGNsYXNzPVwiZmFzIGZhLXVzZXItZnJpZW5kc1wiPjwvaT4gTm8gU2VudCBSZXF1ZXN0PC9zcGFuPjwvZGl2PicpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdC5zdG9yYWdlLnNlbnRfZnJpZW5kcyA9IGRhdGE7XG4gICAgICAgICAgICBvcHQuZWxlbWVudHMuc2VudF9mcmllbmRzX2N0cm4uaHRtbCgnJyk7XG4gICAgICAgICAgICBvcHQuc3RvcmFnZS5zZW50X2ZyaWVuZHMuZm9yRWFjaChmdW5jdGlvbihmcmllbmQpe1xuICAgICAgICAgICAgICAgIG9wdC5lbGVtZW50cy5zZW50X2ZyaWVuZHNfY3Rybi5hcHBlbmQodGVtcGxhdGVzLnNlbnRfZnJpZW5kKGZyaWVuZCkpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICB1cGRhdGVUaXRsZSA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBsZXQgdG90YWwgPSBvcHQuc3RvcmFnZS51bnJlYWRfdGhyZWFkK29wdC5zdG9yYWdlLnBlbmRpbmdfZnJpZW5kc19jb3VudDtcbiAgICAgICAgICAgIGlmKG9wdC5zdG9yYWdlLmFjdGl2ZV9jYWxsc19jb3VudCA+IDAgJiYgIUNhbGxNYW5hZ2VyLnN0YXRlKCkuaW5pdGlhbGl6ZWQpIHRvdGFsID0gdG90YWwrb3B0LnN0b3JhZ2UuYWN0aXZlX2NhbGxzX2NvdW50O1xuICAgICAgICAgICAgaWYodG90YWwgPiAwKXtcbiAgICAgICAgICAgICAgICBsZXQgdGhlX3RpdGxlID0gJygnK3RvdGFsKycpICcrb3B0LnN0b3JhZ2Uub3JpZ2luYWxfdGl0bGU7XG4gICAgICAgICAgICAgICAgb3B0LnN0b3JhZ2UuY3VycmVudF90aXRsZSA9IHRoZV90aXRsZTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC50aXRsZSA9IHRoZV90aXRsZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkb2N1bWVudC50aXRsZSA9IG9wdC5zdG9yYWdlLm9yaWdpbmFsX3RpdGxlO1xuICAgICAgICAgICAgb3B0LnN0b3JhZ2UuY3VycmVudF90aXRsZSA9IG9wdC5zdG9yYWdlLm9yaWdpbmFsX3RpdGxlO1xuICAgICAgICB9LFxuICAgICAgICB0b2dnbGVQYWdlVGl0bGUgOiBmdW5jdGlvbihtc2cpe1xuICAgICAgICAgICAgbWV0aG9kcy5wYWdlVGl0bGUoZmFsc2UpO1xuICAgICAgICAgICAgaWYoIWRvY3VtZW50Lmhhc0ZvY3VzKCkpe1xuICAgICAgICAgICAgICAgIG1ldGhvZHMucGFnZVRpdGxlKHRydWUsIG1zZyk7XG4gICAgICAgICAgICAgICAgJChkb2N1bWVudCkub25lKFwiY2xpY2tcIiwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kcy5wYWdlVGl0bGUoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHBhZ2VUaXRsZSA6IGZ1bmN0aW9uKHBvd2VyLCBtc2cpe1xuICAgICAgICAgICAgaWYocG93ZXIpe1xuICAgICAgICAgICAgICAgIG9wdC5zdG9yYWdlLnRvZ2dsZV90aXRsZV9pbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQudGl0bGUgPSAoZG9jdW1lbnQudGl0bGUudHJpbSgpID09PSBvcHQuc3RvcmFnZS5jdXJyZW50X3RpdGxlLnRyaW0oKSA/IG1zZyA6IG9wdC5zdG9yYWdlLmN1cnJlbnRfdGl0bGUpO1xuICAgICAgICAgICAgICAgIH0sIDMwMDApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKG9wdC5zdG9yYWdlLnRvZ2dsZV90aXRsZV9pbnRlcnZhbCkgY2xlYXJJbnRlcnZhbChvcHQuc3RvcmFnZS50b2dnbGVfdGl0bGVfaW50ZXJ2YWwpO1xuICAgICAgICAgICAgb3B0LnN0b3JhZ2UudG9nZ2xlX3RpdGxlX2ludGVydmFsID0gbnVsbDtcbiAgICAgICAgICAgIG1ldGhvZHMudXBkYXRlVGl0bGUoKVxuICAgICAgICB9LFxuICAgICAgICBwdWxsU2VudEZyaWVuZFJlcXVlc3QgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgTWVzc2VuZ2VyLnhocigpLnJlcXVlc3Qoe1xuICAgICAgICAgICAgICAgIHJvdXRlIDogTWVzc2VuZ2VyLmNvbW1vbigpLkFQSSArICdmcmllbmRzL3NlbnQnLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3MgOiBtZXRob2RzLnVwZGF0ZVNlbnRGcmllbmRzLFxuICAgICAgICAgICAgICAgIGZhaWxfYWxlcnQgOiB0cnVlXG4gICAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICBwdWxsRnJpZW5kUmVxdWVzdCA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBNZXNzZW5nZXIueGhyKCkucmVxdWVzdCh7XG4gICAgICAgICAgICAgICAgcm91dGUgOiBNZXNzZW5nZXIuY29tbW9uKCkuQVBJICsgJ2ZyaWVuZHMvcGVuZGluZycsXG4gICAgICAgICAgICAgICAgc3VjY2VzcyA6IG1ldGhvZHMudXBkYXRlUGVuZGluZ0ZyaWVuZHMsXG4gICAgICAgICAgICAgICAgZmFpbF9hbGVydCA6IHRydWVcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIHB1bGxBY3RpdmVDYWxscyA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBNZXNzZW5nZXIueGhyKCkucmVxdWVzdCh7XG4gICAgICAgICAgICAgICAgcm91dGUgOiBNZXNzZW5nZXIuY29tbW9uKCkuQVBJICsgJ2FjdGl2ZS1jYWxscycsXG4gICAgICAgICAgICAgICAgc3VjY2VzcyA6IG1ldGhvZHMudXBkYXRlQWN0aXZlQ2FsbHMsXG4gICAgICAgICAgICAgICAgZmFpbF9hbGVydCA6IHRydWVcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIHNldHRpbmdzVG9nZ2xlIDogZnVuY3Rpb24oYXJnKXtcbiAgICAgICAgICAgIGlmKFwibWVzc2FnZV9wb3B1cHNcIiBpbiBhcmcpIG9wdC5zZXR0aW5ncy5tZXNzYWdlX3BvcHVwcyA9IGFyZy5tZXNzYWdlX3BvcHVwcztcbiAgICAgICAgICAgIGlmKFwibWVzc2FnZV9zb3VuZFwiIGluIGFyZykgb3B0LnNldHRpbmdzLm1lc3NhZ2Vfc291bmQgPSBhcmcubWVzc2FnZV9zb3VuZDtcbiAgICAgICAgICAgIGlmKFwibm90aWZ5X3NvdW5kXCIgaW4gYXJnKSBvcHQuc2V0dGluZ3Mubm90aWZ5X3NvdW5kID0gYXJnLm5vdGlmeV9zb3VuZDtcbiAgICAgICAgICAgIGlmKFwiY2FsbF9yaW5ndG9uZV9zb3VuZFwiIGluIGFyZykgb3B0LnNldHRpbmdzLmNhbGxfcmluZ3RvbmVfc291bmQgPSBhcmcuY2FsbF9yaW5ndG9uZV9zb3VuZDtcbiAgICAgICAgICAgIGlmKFwibm90aWZpY2F0aW9uc1wiIGluIGFyZykgb3B0LnNldHRpbmdzLm5vdGlmaWNhdGlvbnMgPSBhcmcubm90aWZpY2F0aW9ucztcbiAgICAgICAgfSxcbiAgICAgICAgcGxheUFsZXJ0U291bmQgOiBmdW5jdGlvbih0eXBlKXtcbiAgICAgICAgICAgIGxldCBzb3VuZE9mZiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBvcHQuc2V0dGluZ3Muc291bmRfcGxheWluZyA9IGZhbHNlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRyeXtcbiAgICAgICAgICAgICAgICBzd2l0Y2godHlwZSl7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ21lc3NhZ2UnOlxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0LnNvdW5kcy5tZXNzYWdlX3NvdW5kX2ZpbGUudm9sdW1lID0gMC4yO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIW9wdC5zZXR0aW5ncy5tZXNzYWdlX3NvdW5kIHx8IG9wdC5zZXR0aW5ncy5zb3VuZF9wbGF5aW5nKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHQuc2V0dGluZ3Muc291bmRfcGxheWluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHQuc291bmRzLm1lc3NhZ2Vfc291bmRfZmlsZS5wbGF5KCkudGhlbihzb3VuZE9mZikuY2F0Y2goc291bmRPZmYpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbm90aWZ5JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFvcHQuc2V0dGluZ3Mubm90aWZ5X3NvdW5kIHx8IG9wdC5zZXR0aW5ncy5zb3VuZF9wbGF5aW5nKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHQuc2V0dGluZ3Muc291bmRfcGxheWluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHQuc291bmRzLm5vdGlmeV9zb3VuZF9maWxlLnBsYXkoKS50aGVuKHNvdW5kT2ZmKS5jYXRjaChzb3VuZE9mZik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdjYWxsJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFvcHQuc2V0dGluZ3MuY2FsbF9yaW5ndG9uZV9zb3VuZCB8fCBvcHQuc2V0dGluZ3Muc291bmRfcGxheWluZykgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0LnNldHRpbmdzLnNvdW5kX3BsYXlpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0LnNvdW5kcy5jYWxsX3NvdW5kX2ZpbGUucGxheSgpLnRoZW4oc291bmRPZmYpLmNhdGNoKHNvdW5kT2ZmKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2tub2snOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYob3B0LnNldHRpbmdzLnNvdW5kX3BsYXlpbmcpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdC5zZXR0aW5ncy5zb3VuZF9wbGF5aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdC5zb3VuZHMua25va19zb3VuZF9maWxlLnBsYXkoKS50aGVuKHNvdW5kT2ZmKS5jYXRjaChzb3VuZE9mZik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1jYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGNhbGxBY3Rpb24gOiBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgICAgIGlmKCFvcHQuc3RvcmFnZS5hY3RpdmVfY2FsbHMgfHwgIW9wdC5zdG9yYWdlLmFjdGl2ZV9jYWxscy5sZW5ndGgpIHJldHVybjtcbiAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBvcHQuc3RvcmFnZS5hY3RpdmVfY2FsbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAob3B0LnN0b3JhZ2UuYWN0aXZlX2NhbGxzW2ldLmlkID09PSBpZCkge1xuICAgICAgICAgICAgICAgICAgICBDYWxsTWFuYWdlci5qb2luKG9wdC5zdG9yYWdlLmFjdGl2ZV9jYWxsc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgcGVuZGluZ0ZyaWVuZEFjdGlvbiA6IGZ1bmN0aW9uIChpZCwgYWN0aW9uKSB7XG4gICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgb3B0LnN0b3JhZ2UucGVuZGluZ19mcmllbmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYob3B0LnN0b3JhZ2UucGVuZGluZ19mcmllbmRzW2ldLmlkID09PSBpZCl7XG4gICAgICAgICAgICAgICAgICAgICQoXCIjZnJpZW5kX2FjdGlvbnNfXCIraWQpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICBGcmllbmRzTWFuYWdlci5hY3Rpb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uIDogYWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJfaWQgOiBvcHQuc3RvcmFnZS5wZW5kaW5nX2ZyaWVuZHNbaV0uc2VuZGVyLnByb3ZpZGVyX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJfYWxpYXMgOiBvcHQuc3RvcmFnZS5wZW5kaW5nX2ZyaWVuZHNbaV0uc2VuZGVyLnByb3ZpZGVyX2FsaWFzLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGVuZGluZ19mcmllbmRfaWQgOiBvcHQuc3RvcmFnZS5wZW5kaW5nX2ZyaWVuZHNbaV0uaWRcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgc2VudEZyaWVuZENhbmNlbCA6IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IG9wdC5zdG9yYWdlLnNlbnRfZnJpZW5kcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmKG9wdC5zdG9yYWdlLnNlbnRfZnJpZW5kc1tpXS5pZCA9PT0gaWQpe1xuICAgICAgICAgICAgICAgICAgICAkKFwiI2ZyaWVuZF9hY3Rpb25zX1wiK2lkKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgRnJpZW5kc01hbmFnZXIuYWN0aW9uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbiA6ICdjYW5jZWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJfaWQgOiBvcHQuc3RvcmFnZS5zZW50X2ZyaWVuZHNbaV0ucmVjaXBpZW50LnByb3ZpZGVyX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJfYWxpYXMgOiBvcHQuc3RvcmFnZS5zZW50X2ZyaWVuZHNbaV0ucmVjaXBpZW50LnByb3ZpZGVyX2FsaWFzLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VudF9mcmllbmRfaWQgOiBvcHQuc3RvcmFnZS5zZW50X2ZyaWVuZHNbaV0uaWRcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgc2V0TmV3VGl0bGUgOiBmdW5jdGlvbih0aXRsZSl7XG4gICAgICAgICAgICBvcHQuc3RvcmFnZS5vcmlnaW5hbF90aXRsZSA9IHRpdGxlO1xuICAgICAgICAgICAgbWV0aG9kcy51cGRhdGVUaXRsZSgpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICB0ZW1wbGF0ZXMgPSB7XG4gICAgICAgIGFjdGl2ZV9jYWxsIDogZnVuY3Rpb24gKGNhbGwpIHtcbiAgICAgICAgICAgIGxldCBiZyA9ICd3YXJuaW5nJywgY29sb3IgPSAnZGFyaycsIHR5cGUgPSAnQ2FsbCcsXG4gICAgICAgICAgICAgICAgbXNnID0gJ0NsaWNrIHRvIGpvaW4nLCBhY3Rpb24gPSBcIk5vdGlmeU1hbmFnZXIuY2FsbHMoJ1wiK2NhbGwuaWQrXCInKTtcIixcbiAgICAgICAgICAgICAgICBpY29uID0gJzxpIGNsYXNzPVwiZmFzIGZhLXZpZGVvXCI+PC9pPic7XG4gICAgICAgICAgICBpZihjYWxsLm9wdGlvbnMuaW5fY2FsbCl7XG4gICAgICAgICAgICAgICAgYmcgPSAnZGFuZ2VyJztcbiAgICAgICAgICAgICAgICBjb2xvciA9ICdsaWdodCc7XG4gICAgICAgICAgICAgICAgbXNnID0gJ0N1cnJlbnRseSBpbiAnK3R5cGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGNhbGwub3B0aW9ucy5sZWZ0X2NhbGwpe1xuICAgICAgICAgICAgICAgIGJnID0gJ3NlY29uZGFyeSc7XG4gICAgICAgICAgICAgICAgY29sb3IgPSAnbGlnaHQnO1xuICAgICAgICAgICAgICAgIG1zZyA9ICdDbGljayB0byByZWpvaW4nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICc8YSBvbmNsaWNrPVwiJythY3Rpb24rJyByZXR1cm4gZmFsc2U7XCIgaHJlZj1cIiNcIiBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBsaXN0LWdyb3VwLWl0ZW0tYWN0aW9uIHAtMiB0ZXh0LScrY29sb3IrJyBiZy0nK2JnKydcIj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgIDxkaXYgY2xhc3M9XCJtZWRpYVwiPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgIDxkaXYgY2xhc3M9XCJtZWRpYS1sZWZ0IG1lZGlhLXRvcFwiPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICA8aW1nIGNsYXNzPVwicm91bmRlZCBtZWRpYS1vYmplY3RcIiBoZWlnaHQ9XCI1MFwiIHdpZHRoPVwiNTBcIiBzcmM9XCInK2NhbGwubWV0YS50aHJlYWRfYXZhdGFyLnNtKydcIj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICA8ZGl2IGNsYXNzPVwibWVkaWEtYm9keVwiPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICA8aDYgY2xhc3M9XCJtbC0yIG1iLTEgZm9udC13ZWlnaHQtYm9sZFwiPicraWNvbisnICcrY2FsbC5tZXRhLnRocmVhZF9uYW1lKycgLSAnK3R5cGUrJzwvaDY+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtdC0yXCI+PHNwYW4gY2xhc3M9XCJmbG9hdC1yaWdodFwiPjxzcGFuIGNsYXNzPVwiYmFkZ2UgYmFkZ2UtcGlsbCBiYWRnZS1saWdodFwiPicraWNvbisnICcrbXNnKyc8L3NwYW4+PC9zcGFuPjwvZGl2PlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgPC9kaXY+XFxuJyArXG4gICAgICAgICAgICAgICAgJzwvYT4nXG4gICAgICAgIH0sXG4gICAgICAgIG5vX2NhbGxzIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiAnPGRpdiBjbGFzcz1cImNvbC0xMiB0ZXh0LWNlbnRlciBoNSBtdC0yXCI+PHNwYW4gY2xhc3M9XCJiYWRnZSBiYWRnZS1waWxsIGJhZGdlLWxpZ2h0IHNoYWRvdy1zbVwiPjxpIGNsYXNzPVwiZmFzIGZhLXZpZGVvXCI+PC9pPiBObyBBY3RpdmUgQ2FsbHM8L3NwYW4+PC9kaXY+JztcbiAgICAgICAgfSxcbiAgICAgICAgcGVuZGluZ19mcmllbmQgOiBmdW5jdGlvbiAoZnJpZW5kKSB7XG4gICAgICAgICAgICByZXR1cm4gJzxhIG9uY2xpY2s9XCJyZXR1cm4gZmFsc2U7XCIgaHJlZj1cIiNcIiBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBsaXN0LWdyb3VwLWl0ZW0tYWN0aW9uIHAtMiB0ZXh0LWRhcmsgYmctbGlnaHRcIj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgIDxkaXYgY2xhc3M9XCJtZWRpYVwiPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgIDxkaXYgY2xhc3M9XCJtZWRpYS1sZWZ0IG1lZGlhLXRvcFwiICcrKGZyaWVuZC5zZW5kZXIucm91dGUgPyAnb25jbGljaz1cIndpbmRvdy5sb2NhdGlvbi5ocmVmPVxcJycrZnJpZW5kLnNlbmRlci5yb3V0ZSsnXFwnXCInIDogJycpKyc+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJyb3VuZGVkIG1lZGlhLW9iamVjdFwiIGhlaWdodD1cIjUwXCIgd2lkdGg9XCI1MFwiIHNyYz1cIicrZnJpZW5kLnNlbmRlci5hdmF0YXIuc20rJ1wiPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgIDxkaXYgY2xhc3M9XCJtZWRpYS1ib2R5XCI+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgPHNwYW4gY2xhc3M9XCJtdC1uMSBmbG9hdC1yaWdodCBzbWFsbFwiPicrTWVzc2VuZ2VyLmZvcm1hdCgpLm1ha2VUaW1lQWdvKGZyaWVuZC5jcmVhdGVkX2F0KSsnIDxpIGNsYXNzPVwiZmFyIGZhLWNsb2NrXCI+PC9pPjwvc3Bhbj4nK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICA8aDYgJysoZnJpZW5kLnNlbmRlci5yb3V0ZSA/ICdvbmNsaWNrPVwid2luZG93LmxvY2F0aW9uLmhyZWY9XFwnJytmcmllbmQuc2VuZGVyLnJvdXRlKydcXCdcIicgOiAnJykrJyBjbGFzcz1cIm1sLTIgbWItMSBmb250LXdlaWdodC1ib2xkXCI+JytmcmllbmQuc2VuZGVyLm5hbWUrJzwvaDY+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgIDxkaXYgaWQ9XCJmcmllbmRfYWN0aW9uc18nK2ZyaWVuZC5pZCsnXCIgY2xhc3M9XCJtdC0yIGNvbC0xMiBweC0wXCI+JyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmxvYXQtcmlnaHRcIj4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgICAgICAgIDxidXR0b24gdGl0bGU9XCJBY2NlcHQgZnJpZW5kIHJlcXVlc3RcIiBvbmNsaWNrPVwiTm90aWZ5TWFuYWdlci5wZW5kaW5nRnJpZW5kcyhcXCcnK2ZyaWVuZC5pZCsnXFwnLCBcXCdhY2NlcHRcXCcpXCIgY2xhc3M9XCJidG4gYnRuLXNtIGJ0bi1zdWNjZXNzIHB0LTEgcGItMCBweC0xXCI+PGkgY2xhc3M9XCJoNSBmYXIgZmEtY2hlY2stY2lyY2xlXCI+PC9pPjwvYnV0dG9uPicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0aXRsZT1cIkRlbnkgZnJpZW5kIHJlcXVlc3RcIiBvbmNsaWNrPVwiTm90aWZ5TWFuYWdlci5wZW5kaW5nRnJpZW5kcyhcXCcnK2ZyaWVuZC5pZCsnXFwnLCBcXCdkZW55XFwnKVwiIGNsYXNzPVwiYnRuIGJ0bi1zbSBidG4tZGFuZ2VyIG14LTEgcHQtMSBwYi0wIHB4LTFcIj48aSBjbGFzcz1cImg1IGZhcyBmYS1iYW5cIj48L2k+PC9idXR0b24+JyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgIDwvc3Bhbj4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgPC9kaXY+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgPC9kaXY+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICA8L2Rpdj5cXG4nICtcbiAgICAgICAgICAgICAgICAnPC9hPidcbiAgICAgICAgfSxcbiAgICAgICAgc2VudF9mcmllbmQgOiBmdW5jdGlvbiAoZnJpZW5kKSB7XG4gICAgICAgICAgICByZXR1cm4gJzxhIG9uY2xpY2s9XCJyZXR1cm4gZmFsc2U7XCIgaHJlZj1cIiNcIiBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBsaXN0LWdyb3VwLWl0ZW0tYWN0aW9uIHAtMiB0ZXh0LWRhcmsgYmctbGlnaHRcIj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgIDxkaXYgY2xhc3M9XCJtZWRpYVwiPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgIDxkaXYgY2xhc3M9XCJtZWRpYS1sZWZ0IG1lZGlhLXRvcFwiICcrKGZyaWVuZC5yZWNpcGllbnQucm91dGUgPyAnb25jbGljaz1cIndpbmRvdy5sb2NhdGlvbi5ocmVmPVxcJycrZnJpZW5kLnJlY2lwaWVudC5yb3V0ZSsnXFwnXCInIDogJycpKyc+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJyb3VuZGVkIG1lZGlhLW9iamVjdFwiIGhlaWdodD1cIjUwXCIgd2lkdGg9XCI1MFwiIHNyYz1cIicrZnJpZW5kLnJlY2lwaWVudC5hdmF0YXIuc20rJ1wiPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgIDxkaXYgY2xhc3M9XCJtZWRpYS1ib2R5XCI+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgPHNwYW4gY2xhc3M9XCJtdC1uMSBmbG9hdC1yaWdodCBzbWFsbFwiPicrTWVzc2VuZ2VyLmZvcm1hdCgpLm1ha2VUaW1lQWdvKGZyaWVuZC5jcmVhdGVkX2F0KSsnIDxpIGNsYXNzPVwiZmFyIGZhLWNsb2NrXCI+PC9pPjwvc3Bhbj4nK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICA8aDYgJysoZnJpZW5kLnJlY2lwaWVudC5yb3V0ZSA/ICdvbmNsaWNrPVwid2luZG93LmxvY2F0aW9uLmhyZWY9XFwnJytmcmllbmQucmVjaXBpZW50LnJvdXRlKydcXCdcIicgOiAnJykrJyBjbGFzcz1cIm1sLTIgbWItMSBmb250LXdlaWdodC1ib2xkXCI+JytmcmllbmQucmVjaXBpZW50Lm5hbWUrJzwvaDY+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgIDxkaXYgaWQ9XCJmcmllbmRfYWN0aW9uc18nK2ZyaWVuZC5pZCsnXCIgY2xhc3M9XCJtdC0yIGNvbC0xMiBweC0wXCI+JyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmxvYXQtcmlnaHRcIj4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgICAgICAgIDxidXR0b24gdGl0bGU9XCJDYW5jZWwgZnJpZW5kIHJlcXVlc3RcIiBvbmNsaWNrPVwiTm90aWZ5TWFuYWdlci5jYW5jZWxGcmllbmQoXFwnJytmcmllbmQuaWQrJ1xcJylcIiBjbGFzcz1cImJ0biBidG4tc20gYnRuLWRhbmdlciBteC0xIHB0LTEgcGItMCBweC0xXCI+PGkgY2xhc3M9XCJoNSBmYXMgZmEtYmFuXCI+PC9pPjwvYnV0dG9uPicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICA8L3NwYW4+JyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgPC9kaXY+XFxuJyArXG4gICAgICAgICAgICAgICAgJzwvYT4nXG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIGluaXQgOiBJbml0aWFsaXplLkluaXQsXG4gICAgICAgIG5ld01lc3NhZ2UgOiBtZXRob2RzLmluY29taW5nTWVzc2FnZSxcbiAgICAgICAgdXBkYXRlTWVzc2FnZUNvdW50IDogbWV0aG9kcy5tYW5hZ2VNZXNzYWdlQ291bnRzLFxuICAgICAgICBzb3VuZCA6IG1ldGhvZHMucGxheUFsZXJ0U291bmQsXG4gICAgICAgIHNldHRpbmdzIDogbWV0aG9kcy5zZXR0aW5nc1RvZ2dsZSxcbiAgICAgICAgY2FsbHMgOiBtZXRob2RzLmNhbGxBY3Rpb24sXG4gICAgICAgIHBlbmRpbmdGcmllbmRzIDogbWV0aG9kcy5wZW5kaW5nRnJpZW5kQWN0aW9uLFxuICAgICAgICBjYW5jZWxGcmllbmQgOiBtZXRob2RzLnNlbnRGcmllbmRDYW5jZWwsXG4gICAgICAgIGZyaWVuZHNQZW5kaW5nIDogbWV0aG9kcy5wdWxsRnJpZW5kUmVxdWVzdCxcbiAgICAgICAgc2VudEZyaWVuZHMgOiBtZXRob2RzLnB1bGxTZW50RnJpZW5kUmVxdWVzdCxcbiAgICAgICAgYWN0aXZlQ2FsbHMgOiBtZXRob2RzLnB1bGxBY3RpdmVDYWxscyxcbiAgICAgICAgc2V0VGl0bGUgOiBtZXRob2RzLnNldE5ld1RpdGxlLFxuICAgICAgICBoZWFydGJlYXQgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgYnJvYWRjYXN0ZXIuaGVhcnRCZWF0KGZhbHNlLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgY291bnRzIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbm90aWZ5IDogb3B0LnN0b3JhZ2UudW5yZWFkX25vdGlmeSxcbiAgICAgICAgICAgICAgICB0aHJlYWRzIDogb3B0LnN0b3JhZ2UudW5yZWFkX3RocmVhZFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBzb2NrZXRzIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZm9yY2VkX2Rpc2Nvbm5lY3QgOiBvcHQuc29ja2V0LmZvcmNlZF9kaXNjb25uZWN0LFxuICAgICAgICAgICAgICAgIHN0YXR1cyA6IG9wdC5zb2NrZXQuc29ja2V0X3N0YXR1cyxcbiAgICAgICAgICAgICAgICBFY2hvIDogb3B0LnNvY2tldC5FY2hvLFxuICAgICAgICAgICAgICAgIGF3YXkgOiBvcHQuc2V0dGluZ3MuYXdheSgpLFxuICAgICAgICAgICAgICAgIGRpc2Nvbm5lY3QgOiBicm9hZGNhc3Rlci5EaXNjb25uZWN0XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufSgpKTsiXSwibmFtZXMiOlsiRWNobyIsIndpbmRvdyIsIlB1c2hlciIsInJlcXVpcmUiLCJOb3RpZnlNYW5hZ2VyIiwib3B0Iiwic291bmRzIiwibm90aWZ5X3NvdW5kX2ZpbGUiLCJBdWRpbyIsImxvY2F0aW9uIiwicHJvdG9jb2wiLCJob3N0Iiwiam9pbiIsIm1lc3NhZ2Vfc291bmRfZmlsZSIsImNhbGxfc291bmRfZmlsZSIsImtub2tfc291bmRfZmlsZSIsImVsZW1lbnRzIiwibm90aWZ5X2NvdW50X2FyZWEiLCIkIiwidGhyZWFkX2NvdW50X2FyZWEiLCJjYWxsc19jb3VudF9hcmVhIiwiYWN0aXZlX2NhbGxfbmF2X2ljb24iLCJwZW5kaW5nX2ZyaWVuZHNfY291bnRfYXJlYSIsIm1vYmlsZV9uYXZfY291bnRfYXJlYSIsIm5vdGlmeV9hcmVhIiwiYWN0aXZlX2NhbGxzX2xpbmsiLCJwZW5kaW5nX2ZyaWVuZHNfbGluayIsImFjdGl2ZV9jYWxsc19jdG5yIiwicGVuZGluZ19mcmllbmRzX2N0bnIiLCJzZW50X2ZyaWVuZHNfY3RybiIsImNsaWNrX25vdGlmeV9iZWxsIiwiZGVsX2FsbF9ub3RpZnlfbGluayIsImNsaWNrX2ZyaWVuZHNfdGFiIiwic2V0dGluZ3MiLCJub3RpZmljYXRpb25zIiwidG90YWxfbm90aWZ5X2NvdW50IiwibWVzc2FnZV9wb3B1cHMiLCJub3RpZnlfc291bmQiLCJtZXNzYWdlX3NvdW5kIiwiY2FsbF9yaW5ndG9uZV9zb3VuZCIsInNvdW5kX3BsYXlpbmciLCJpc19hd2F5IiwiZ2xvYmFsX2F3YXkiLCJhd2F5Iiwic3RvcmFnZSIsInVucmVhZF9ub3RpZnkiLCJ1bnJlYWRfdGhyZWFkIiwicGVuZGluZ19mcmllbmRzX2NvdW50IiwiYWN0aXZlX2NhbGxzX2NvdW50IiwiYWN0aXZlX2NhbGxzIiwicGVuZGluZ19mcmllbmRzIiwic2VudF9mcmllbmRzIiwib3JpZ2luYWxfdGl0bGUiLCJjdXJyZW50X3RpdGxlIiwiaGVhcnRiZWF0X2ludGVydmFsIiwiaGVhcnRiZWF0X2ludGVydmFsX3J1bnMiLCJ0b2dnbGVfdGl0bGVfaW50ZXJ2YWwiLCJsYXN0X2NhbGxfdXBkYXRlIiwic29ja2V0IiwicHJpdmF0ZV9jaGFubmVsIiwic29ja2V0X3N0YXR1cyIsImZvcmNlZF9kaXNjb25uZWN0IiwicHJpdmF0ZV9jaGFubmVsX3JldHJpZXMiLCJwcmVzZW5jZV9jaGFubmVsX3JldHJpZXMiLCJJbml0aWFsaXplIiwiSW5pdCIsImFyZyIsIkZyaWVuZHNNYW5hZ2VyIiwiaW5pdCIsIk1lc3NlbmdlciIsImNvbW1vbiIsIndlYnNvY2tldHMiLCJicm9hZGNhc3RlciIsImhlYXJ0QmVhdCIsImRvY3VtZW50IiwiaGVhZCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50Iiwic2V0TGlzdGVuZXJzIiwiSW5hY3Rpdml0eU1hbmFnZXIiLCJzZXR1cCIsInR5cGUiLCJpbmFjdGl2ZSIsIkRpc2Nvbm5lY3QiLCJtb2R1bGVzIiwiaW5jbHVkZXMiLCJUaHJlYWRNYW5hZ2VyIiwic3RhdGUiLCJzb2NrZXRTdGF0dXNDaGVjayIsImFjdGl2YXRlIiwicmVsb2FkIiwiY2xpY2siLCJlIiwic3RvcFByb3BhZ2F0aW9uIiwibWV0aG9kcyIsInB1bGxBY3RpdmVDYWxscyIsImhhc0NsYXNzIiwicHVsbEZyaWVuZFJlcXVlc3QiLCJwdWxsU2VudEZyaWVuZFJlcXVlc3QiLCJvbiIsInByZXZlbnREZWZhdWx0IiwidGFiIiwiaWQiLCJyZWNvbm5lY3RlZCIsIm1ha2VFY2hvIiwiY29ubmVjdG9yIiwicHVzaGVyIiwiY29ubmVjdGlvbiIsImJpbmQiLCJjbGVhclB1c2hlckxvY2FsU3RvcmFnZSIsIlByaXZhdGVDaGFubmVsIiwiQ2FsbE1hbmFnZXIiLCJpbml0aWFsaXplZCIsImNoYW5uZWwiLCJkaXNjb25uZWN0ZWQiLCJTT0NLRVRfUFVTSEVSIiwic2V0VGltZW91dCIsImtleSIsIlNPQ0tFVF9LRVkiLCJjbHVzdGVyIiwiU09DS0VUX0NMVVNURVIiLCJmb3JjZVRMUyIsIlNPQ0tFVF9UTFMiLCJhdXRoRW5kcG9pbnQiLCJTT0NLRVRfQVVUSF9FTkRQT0lOVCIsIndzSG9zdCIsIlNPQ0tFVCIsIndzUG9ydCIsIlNPQ0tFVF9QT1JUIiwid3NzUG9ydCIsImRpc2FibGVTdGF0cyIsImZ1bGwiLCJyZUNvbm5lY3RlZCIsImRpc2Nvbm5lY3QiLCJjaGFubmVscyIsInByb3ZpZGVyX2FsaWFzIiwicHJvdmlkZXJfaWQiLCJsaXN0ZW4iLCJpbmNvbWluZ01lc3NhZ2UiLCJ0aHJlYWRMZWZ0IiwibWVzc2FnZVB1cmdlZCIsImluY29taW5nS25vayIsIm5ld1RocmVhZCIsInRocmVhZEFwcHJvdmFsIiwiaW5jb21pbmdDYWxsIiwiY2FsbEpvaW5lZCIsImNhbGxMZWZ0IiwiY2FsbEVuZGVkIiwiZnJpZW5kUmVxdWVzdCIsImZyaWVuZEFwcHJvdmVkIiwiZnJpZW5kQ2FuY2VsbGVkIiwicHJvbW90ZWRBZG1pbiIsImRlbW90ZWRBZG1pbiIsInBlcm1pc3Npb25zVXBkYXRlZCIsImluY29taW5nUmVhY3QiLCJlcnJvciIsImNoZWNrIiwiZ2F0aGVyIiwicGF5bG9hZCIsIkhlYXJ0YmVhdCIsInVwZGF0ZSIsIm1hbmFnZUhlYXJ0YmVhdERhdGEiLCJjbGVhckludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJsb2NhbFN0b3JhZ2UiLCJyZW1vdmVJdGVtIiwib25QYXNzIiwib25GYWlsIiwieGhyIiwicmVxdWVzdCIsInJvdXRlIiwiQVBJIiwic3VjY2VzcyIsIm1hbmFnZSIsInNoYXJlZCIsImZhaWwiLCJkYXRhIiwiSW1wb3J0IiwidGhyZWFkX2lkIiwicGVuZGluZyIsImFsZXJ0IiwiQWxlcnQiLCJ0aXRsZSIsInNlbmRlciIsIm5hbWUiLCJ0b2FzdCIsInRoZW1lIiwidG9nZ2xlUGFnZVRpdGxlIiwicGxheUFsZXJ0U291bmQiLCJmcmllbmQiLCJjYWxsIiwibmV3Q2FsbCIsImpvaW5lZCIsImxlZnQiLCJydW5UaXRsZSIsIm93bmVyIiwibXlzZWxmIiwiaXNQcm92aWRlciIsIm93bmVyX2lkIiwib3duZXJfdHlwZSIsIm5ld01lc3NhZ2UiLCJib2R5IiwibGVuZ3RoIiwiZm9ybWF0Iiwic2hvcnRjb2RlVG9JbWFnZSIsInN1YnN0cmluZyIsIm1ldGEiLCJ0aHJlYWRfdHlwZSIsInRocmVhZF9uYW1lIiwidG9hc3Rfb3B0aW9ucyIsIm9uY2xpY2siLCJocmVmIiwiV0VCIiwidGltZU91dCIsIm1lc3NhZ2UiLCJyZWFjdGlvbiIsImxvYWQiLCJpbml0aWF0ZV90aHJlYWQiLCJ0aHJlYWQiLCJncm91cCIsImF2YXRhciIsIm1kIiwiTW9kYWwiLCJ3YWl0X2Zvcl9vdGhlcnMiLCJpY29uIiwic2l6ZSIsImNlbnRlcmVkIiwib25SZWFkeSIsIlBhZ2VMaXN0ZW5lcnMiLCJhbmltYXRlS25vayIsImNiX2J0bl90eHQiLCJjYl9idG5faWNvbiIsImNiX2J0bl90aGVtZSIsIm9uQ2xvc2UiLCJjYWxsYmFjayIsImNiX2Nsb3NlIiwidGltZXIiLCJhZGRlZFRvVGhyZWFkIiwiYXBwcm92ZWQiLCJwdXJnZU1lc3NhZ2UiLCJtYW5hZ2VNZXNzYWdlQ291bnRzIiwidG90YWxfdW5yZWFkIiwidXBkYXRlUGFnZVN0YXRlcyIsIm9ubGluZV9zdGF0dXMiLCJ1bnJlYWRfdGhyZWFkc19jb3VudCIsImFkZENsYXNzIiwib25saW5lIiwidXBkYXRlVGl0bGUiLCJodG1sIiwidGVtcGxhdGVzIiwibm9fY2FsbHMiLCJyZW1vdmVDbGFzcyIsInVwZGF0ZUFjdGl2ZUNhbGxzIiwiY2FsbHMiLCJmb3JFYWNoIiwiYXBwZW5kIiwiYWN0aXZlX2NhbGwiLCJ1cGRhdGVQZW5kaW5nRnJpZW5kcyIsInBlbmRpbmdfZnJpZW5kIiwidXBkYXRlU2VudEZyaWVuZHMiLCJzZW50X2ZyaWVuZCIsInRvdGFsIiwidGhlX3RpdGxlIiwibXNnIiwicGFnZVRpdGxlIiwiaGFzRm9jdXMiLCJvbmUiLCJwb3dlciIsInRyaW0iLCJmYWlsX2FsZXJ0Iiwic2V0dGluZ3NUb2dnbGUiLCJzb3VuZE9mZiIsInZvbHVtZSIsInBsYXkiLCJ0aGVuIiwiY29uc29sZSIsImxvZyIsImNhbGxBY3Rpb24iLCJpIiwicGVuZGluZ0ZyaWVuZEFjdGlvbiIsImFjdGlvbiIsInJlbW92ZSIsInBlbmRpbmdfZnJpZW5kX2lkIiwic2VudEZyaWVuZENhbmNlbCIsInJlY2lwaWVudCIsInNlbnRfZnJpZW5kX2lkIiwic2V0TmV3VGl0bGUiLCJiZyIsImNvbG9yIiwib3B0aW9ucyIsImluX2NhbGwiLCJsZWZ0X2NhbGwiLCJ0aHJlYWRfYXZhdGFyIiwic20iLCJtYWtlVGltZUFnbyIsImNyZWF0ZWRfYXQiLCJ1cGRhdGVNZXNzYWdlQ291bnQiLCJzb3VuZCIsInBlbmRpbmdGcmllbmRzIiwiY2FuY2VsRnJpZW5kIiwiZnJpZW5kc1BlbmRpbmciLCJzZW50RnJpZW5kcyIsImFjdGl2ZUNhbGxzIiwic2V0VGl0bGUiLCJoZWFydGJlYXQiLCJjb3VudHMiLCJub3RpZnkiLCJ0aHJlYWRzIiwic29ja2V0cyIsInN0YXR1cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./vendor/rtippin/messenger-ui/resources/js/managers/NotifyManager.js\n");

/***/ }),

/***/ "./vendor/rtippin/messenger-ui/resources/js/managers/PageListeners.js":
/*!****************************************************************************!*\
  !*** ./vendor/rtippin/messenger-ui/resources/js/managers/PageListeners.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("/* provided dependency */ var $ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\nwindow.PageListeners = function () {\n  var opt = {\n      FSinterval: null,\n      animations: ['flip', 'rubberBand', 'bounce', 'swing', 'tada', 'jello'],\n      email_suggestion: null,\n      email_input: null,\n      knok_interval: null,\n      play_tooltip: true\n    },\n    mounted = {\n      init: function init() {\n        methods.validateForms();\n      }\n    },\n    methods = {\n      validateForms: function validateForms() {\n        var forms = document.getElementsByClassName('needs-validation');\n        Array.prototype.filter.call(forms, function (form) {\n          form.addEventListener('submit', function (event) {\n            if (form.checkValidity() === false) {\n              event.preventDefault();\n              event.stopPropagation();\n              $(\".invalid-always-show\").show();\n            } else {\n              $(\".invalid-always-show\").hide();\n            }\n            form.classList.add('was-validated');\n          }, false);\n        });\n      },\n      tooltipState: function tooltipState(state) {\n        opt.play_tooltip = state;\n      },\n      disposeTooltips: function disposeTooltips(force) {\n        if (!opt.play_tooltip && !force) return;\n        $('.tooltip').remove();\n      },\n      tooltips: function tooltips(force) {\n        if (!opt.play_tooltip && !force) return;\n        var tips = $('[data-toggle=\"tooltip\"], [data-tooltip=\"tooltip\"]');\n        tips.tooltip('dispose');\n        tips.tooltip();\n      },\n      animateKnok: function animateKnok(state) {\n        if (!state) {\n          clearInterval(opt.knok_interval);\n          return;\n        }\n        if (opt.knok_interval) clearInterval(opt.knok_interval);\n        var elm = $(\"#knok_animate\");\n        elm.removeClass().addClass('wobble animated').one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function () {\n          $(this).removeClass();\n        });\n        opt.knok_interval = setInterval(function () {\n          elm.removeClass().addClass('wobble animated').one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function () {\n            $(this).removeClass();\n          });\n        }, 3000);\n      },\n      triggerCommon: function triggerCommon() {\n        methods.validateForms();\n        methods.tooltips();\n      }\n    };\n  return {\n    init: mounted.init,\n    listen: function listen() {\n      return methods;\n    }\n  };\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi92ZW5kb3IvcnRpcHBpbi9tZXNzZW5nZXItdWkvcmVzb3VyY2VzL2pzL21hbmFnZXJzL1BhZ2VMaXN0ZW5lcnMuanMiLCJtYXBwaW5ncyI6IjtBQUFBQSxNQUFNLENBQUNDLGFBQWEsR0FBSSxZQUFZO0VBQ2hDLElBQUlDLEdBQUcsR0FBRztNQUNOQyxVQUFVLEVBQUcsSUFBSTtNQUNqQkMsVUFBVSxFQUFHLENBQUMsTUFBTSxFQUFFLFlBQVksRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxPQUFPLENBQUM7TUFDdkVDLGdCQUFnQixFQUFHLElBQUk7TUFDdkJDLFdBQVcsRUFBRyxJQUFJO01BQ2xCQyxhQUFhLEVBQUcsSUFBSTtNQUNwQkMsWUFBWSxFQUFHO0lBQ25CLENBQUM7SUFDREMsT0FBTyxHQUFHO01BQ05DLElBQUksRUFBRyxTQUFBQSxLQUFBLEVBQVU7UUFDYkMsT0FBTyxDQUFDQyxhQUFhLENBQUMsQ0FBQztNQUMzQjtJQUNKLENBQUM7SUFDREQsT0FBTyxHQUFHO01BQ05DLGFBQWEsRUFBRyxTQUFBQSxjQUFBLEVBQVU7UUFDdEIsSUFBSUMsS0FBSyxHQUFHQyxRQUFRLENBQUNDLHNCQUFzQixDQUFDLGtCQUFrQixDQUFDO1FBQy9EQyxLQUFLLENBQUNDLFNBQVMsQ0FBQ0MsTUFBTSxDQUFDQyxJQUFJLENBQUNOLEtBQUssRUFBRSxVQUFTTyxJQUFJLEVBQUU7VUFDOUNBLElBQUksQ0FBQ0MsZ0JBQWdCLENBQUMsUUFBUSxFQUFFLFVBQVNDLEtBQUssRUFBRTtZQUM1QyxJQUFJRixJQUFJLENBQUNHLGFBQWEsQ0FBQyxDQUFDLEtBQUssS0FBSyxFQUFFO2NBQ2hDRCxLQUFLLENBQUNFLGNBQWMsQ0FBQyxDQUFDO2NBQ3RCRixLQUFLLENBQUNHLGVBQWUsQ0FBQyxDQUFDO2NBQ3ZCQyxDQUFDLENBQUMsc0JBQXNCLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLENBQUM7WUFDcEMsQ0FBQyxNQUNJO2NBQ0RELENBQUMsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDRSxJQUFJLENBQUMsQ0FBQztZQUNwQztZQUNBUixJQUFJLENBQUNTLFNBQVMsQ0FBQ0MsR0FBRyxDQUFDLGVBQWUsQ0FBQztVQUN2QyxDQUFDLEVBQUUsS0FBSyxDQUFDO1FBQ2IsQ0FBQyxDQUFDO01BQ04sQ0FBQztNQUNEQyxZQUFZLEVBQUcsU0FBQUEsYUFBU0MsS0FBSyxFQUFDO1FBQzFCOUIsR0FBRyxDQUFDTSxZQUFZLEdBQUd3QixLQUFLO01BQzVCLENBQUM7TUFDREMsZUFBZSxFQUFHLFNBQUFBLGdCQUFTQyxLQUFLLEVBQUM7UUFDN0IsSUFBRyxDQUFDaEMsR0FBRyxDQUFDTSxZQUFZLElBQUksQ0FBQzBCLEtBQUssRUFBRTtRQUNoQ1IsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDUyxNQUFNLENBQUMsQ0FBQztNQUMxQixDQUFDO01BQ0RDLFFBQVEsRUFBRyxTQUFBQSxTQUFTRixLQUFLLEVBQUM7UUFDdEIsSUFBRyxDQUFDaEMsR0FBRyxDQUFDTSxZQUFZLElBQUksQ0FBQzBCLEtBQUssRUFBRTtRQUNoQyxJQUFJRyxJQUFJLEdBQUdYLENBQUMsQ0FBQyxtREFBbUQsQ0FBQztRQUNqRVcsSUFBSSxDQUFDQyxPQUFPLENBQUMsU0FBUyxDQUFDO1FBQ3ZCRCxJQUFJLENBQUNDLE9BQU8sQ0FBQyxDQUFDO01BQ2xCLENBQUM7TUFDREMsV0FBVyxFQUFHLFNBQUFBLFlBQVNQLEtBQUssRUFBQztRQUN6QixJQUFHLENBQUNBLEtBQUssRUFBQztVQUNOUSxhQUFhLENBQUN0QyxHQUFHLENBQUNLLGFBQWEsQ0FBQztVQUNoQztRQUNKO1FBQ0EsSUFBR0wsR0FBRyxDQUFDSyxhQUFhLEVBQUVpQyxhQUFhLENBQUN0QyxHQUFHLENBQUNLLGFBQWEsQ0FBQztRQUN0RCxJQUFJa0MsR0FBRyxHQUFHZixDQUFDLENBQUMsZUFBZSxDQUFDO1FBQzVCZSxHQUFHLENBQUNDLFdBQVcsQ0FBQyxDQUFDLENBQUNDLFFBQVEsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDQyxHQUFHLENBQUMsOEVBQThFLEVBQUUsWUFBVTtVQUN4SWxCLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQ2dCLFdBQVcsQ0FBQyxDQUFDO1FBQ3pCLENBQUMsQ0FBQztRQUNGeEMsR0FBRyxDQUFDSyxhQUFhLEdBQUdzQyxXQUFXLENBQUMsWUFBVTtVQUN0Q0osR0FBRyxDQUFDQyxXQUFXLENBQUMsQ0FBQyxDQUFDQyxRQUFRLENBQUMsaUJBQWlCLENBQUMsQ0FBQ0MsR0FBRyxDQUFDLDhFQUE4RSxFQUFFLFlBQVU7WUFDeElsQixDQUFDLENBQUMsSUFBSSxDQUFDLENBQUNnQixXQUFXLENBQUMsQ0FBQztVQUN6QixDQUFDLENBQUM7UUFDTixDQUFDLEVBQUUsSUFBSSxDQUFDO01BRVosQ0FBQztNQUNESSxhQUFhLEVBQUcsU0FBQUEsY0FBQSxFQUFVO1FBQ3RCbkMsT0FBTyxDQUFDQyxhQUFhLENBQUMsQ0FBQztRQUN2QkQsT0FBTyxDQUFDeUIsUUFBUSxDQUFDLENBQUM7TUFDdEI7SUFDSixDQUFDO0VBQ0QsT0FBTztJQUNIMUIsSUFBSSxFQUFHRCxPQUFPLENBQUNDLElBQUk7SUFDbkJxQyxNQUFNLEVBQUcsU0FBQUEsT0FBQSxFQUFVO01BQ2YsT0FBT3BDLE9BQU87SUFDbEI7RUFDSixDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi92ZW5kb3IvcnRpcHBpbi9tZXNzZW5nZXItdWkvcmVzb3VyY2VzL2pzL21hbmFnZXJzL1BhZ2VMaXN0ZW5lcnMuanM/NDRhMyJdLCJzb3VyY2VzQ29udGVudCI6WyJ3aW5kb3cuUGFnZUxpc3RlbmVycyA9IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG9wdCA9IHtcbiAgICAgICAgRlNpbnRlcnZhbCA6IG51bGwsXG4gICAgICAgIGFuaW1hdGlvbnMgOiBbJ2ZsaXAnLCAncnViYmVyQmFuZCcsICdib3VuY2UnLCAnc3dpbmcnLCAndGFkYScsICdqZWxsbyddLFxuICAgICAgICBlbWFpbF9zdWdnZXN0aW9uIDogbnVsbCxcbiAgICAgICAgZW1haWxfaW5wdXQgOiBudWxsLFxuICAgICAgICBrbm9rX2ludGVydmFsIDogbnVsbCxcbiAgICAgICAgcGxheV90b29sdGlwIDogdHJ1ZVxuICAgIH0sXG4gICAgbW91bnRlZCA9IHtcbiAgICAgICAgaW5pdCA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBtZXRob2RzLnZhbGlkYXRlRm9ybXMoKVxuICAgICAgICB9XG4gICAgfSxcbiAgICBtZXRob2RzID0ge1xuICAgICAgICB2YWxpZGF0ZUZvcm1zIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGxldCBmb3JtcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ25lZWRzLXZhbGlkYXRpb24nKTtcbiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbChmb3JtcywgZnVuY3Rpb24oZm9ybSkge1xuICAgICAgICAgICAgICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvcm0uY2hlY2tWYWxpZGl0eSgpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5pbnZhbGlkLWFsd2F5cy1zaG93XCIpLnNob3coKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5pbnZhbGlkLWFsd2F5cy1zaG93XCIpLmhpZGUoKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZvcm0uY2xhc3NMaXN0LmFkZCgnd2FzLXZhbGlkYXRlZCcpO1xuICAgICAgICAgICAgICAgIH0sIGZhbHNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICB0b29sdGlwU3RhdGUgOiBmdW5jdGlvbihzdGF0ZSl7XG4gICAgICAgICAgICBvcHQucGxheV90b29sdGlwID0gc3RhdGU7XG4gICAgICAgIH0sXG4gICAgICAgIGRpc3Bvc2VUb29sdGlwcyA6IGZ1bmN0aW9uKGZvcmNlKXtcbiAgICAgICAgICAgIGlmKCFvcHQucGxheV90b29sdGlwICYmICFmb3JjZSkgcmV0dXJuO1xuICAgICAgICAgICAgJCgnLnRvb2x0aXAnKS5yZW1vdmUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgdG9vbHRpcHMgOiBmdW5jdGlvbihmb3JjZSl7XG4gICAgICAgICAgICBpZighb3B0LnBsYXlfdG9vbHRpcCAmJiAhZm9yY2UpIHJldHVybjtcbiAgICAgICAgICAgIGxldCB0aXBzID0gJCgnW2RhdGEtdG9nZ2xlPVwidG9vbHRpcFwiXSwgW2RhdGEtdG9vbHRpcD1cInRvb2x0aXBcIl0nKTtcbiAgICAgICAgICAgIHRpcHMudG9vbHRpcCgnZGlzcG9zZScpO1xuICAgICAgICAgICAgdGlwcy50b29sdGlwKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGFuaW1hdGVLbm9rIDogZnVuY3Rpb24oc3RhdGUpe1xuICAgICAgICAgICAgaWYoIXN0YXRlKXtcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKG9wdC5rbm9rX2ludGVydmFsKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihvcHQua25va19pbnRlcnZhbCkgY2xlYXJJbnRlcnZhbChvcHQua25va19pbnRlcnZhbCk7XG4gICAgICAgICAgICBsZXQgZWxtID0gJChcIiNrbm9rX2FuaW1hdGVcIik7XG4gICAgICAgICAgICBlbG0ucmVtb3ZlQ2xhc3MoKS5hZGRDbGFzcygnd29iYmxlIGFuaW1hdGVkJykub25lKCd3ZWJraXRBbmltYXRpb25FbmQgbW96QW5pbWF0aW9uRW5kIE1TQW5pbWF0aW9uRW5kIG9hbmltYXRpb25lbmQgYW5pbWF0aW9uZW5kJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG9wdC5rbm9rX2ludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBlbG0ucmVtb3ZlQ2xhc3MoKS5hZGRDbGFzcygnd29iYmxlIGFuaW1hdGVkJykub25lKCd3ZWJraXRBbmltYXRpb25FbmQgbW96QW5pbWF0aW9uRW5kIE1TQW5pbWF0aW9uRW5kIG9hbmltYXRpb25lbmQgYW5pbWF0aW9uZW5kJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSwgMzAwMCk7XG5cbiAgICAgICAgfSxcbiAgICAgICAgdHJpZ2dlckNvbW1vbiA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBtZXRob2RzLnZhbGlkYXRlRm9ybXMoKTtcbiAgICAgICAgICAgIG1ldGhvZHMudG9vbHRpcHMoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW5pdCA6IG1vdW50ZWQuaW5pdCxcbiAgICAgICAgbGlzdGVuIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiBtZXRob2RzXG4gICAgICAgIH1cbiAgICB9O1xufSgpKTsiXSwibmFtZXMiOlsid2luZG93IiwiUGFnZUxpc3RlbmVycyIsIm9wdCIsIkZTaW50ZXJ2YWwiLCJhbmltYXRpb25zIiwiZW1haWxfc3VnZ2VzdGlvbiIsImVtYWlsX2lucHV0Iiwia25va19pbnRlcnZhbCIsInBsYXlfdG9vbHRpcCIsIm1vdW50ZWQiLCJpbml0IiwibWV0aG9kcyIsInZhbGlkYXRlRm9ybXMiLCJmb3JtcyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsIkFycmF5IiwicHJvdG90eXBlIiwiZmlsdGVyIiwiY2FsbCIsImZvcm0iLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJjaGVja1ZhbGlkaXR5IiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCIkIiwic2hvdyIsImhpZGUiLCJjbGFzc0xpc3QiLCJhZGQiLCJ0b29sdGlwU3RhdGUiLCJzdGF0ZSIsImRpc3Bvc2VUb29sdGlwcyIsImZvcmNlIiwicmVtb3ZlIiwidG9vbHRpcHMiLCJ0aXBzIiwidG9vbHRpcCIsImFuaW1hdGVLbm9rIiwiY2xlYXJJbnRlcnZhbCIsImVsbSIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJvbmUiLCJzZXRJbnRlcnZhbCIsInRyaWdnZXJDb21tb24iLCJsaXN0ZW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./vendor/rtippin/messenger-ui/resources/js/managers/PageListeners.js\n");

/***/ }),

/***/ "./vendor/rtippin/messenger-ui/resources/js/managers/ThreadManager.js":
/*!****************************************************************************!*\
  !*** ./vendor/rtippin/messenger-ui/resources/js/managers/ThreadManager.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("/* provided dependency */ var $ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\nfunction _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _iterableToArray(r) { if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r); }\nfunction _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nwindow.ThreadManager = function () {\n  var opt = {\n      INIT: false,\n      ORIGINAL_ARG: null,\n      SETUP: true,\n      API: Messenger.common().API,\n      thread: {\n        id: null,\n        type: null,\n        name: null,\n        admin: false,\n        pending: false,\n        muted: false,\n        replying: false,\n        reply_to_id: null,\n        awaiting_my_approval: false,\n        created_at: null,\n        messages_unread: false,\n        click_to_read: false,\n        messaging: true,\n        can_call: true,\n        lockout: false,\n        thread_history: true,\n        history_id: null,\n        history_route: null,\n        history_loading: false,\n        initializing: false,\n        _id: null,\n        _thread: null\n      },\n      states: {\n        lock: true,\n        load_in_retries: 0,\n        state_lockout_retries: 0,\n        thread_filtered: false,\n        thread_filter_search: null,\n        messenger_search_term: null\n      },\n      socket: {\n        online_status_setting: 1,\n        chat: null,\n        socket_retries: 0,\n        send_typing: 0,\n        is_away: false\n      },\n      storage: {\n        active_profiles: [],\n        who_typing: [],\n        bot_typing: [],\n        threads: [],\n        messages: [],\n        participants: [],\n        pending_messages: [],\n        temp_data: null\n      },\n      timers: {\n        mark_read_timeout: null,\n        recent_bobble_timeout: null,\n        socket_interval: null,\n        remove_typing_interval: null,\n        private_bobble_refresh_timeout: null,\n        bobble_refresh_interval: null,\n        drag_drop_overlay_hide: null\n      },\n      elements: {\n        nav_search_link: $(\".nav-search-link\"),\n        my_avatar_area: $(\"#my_avatar_status\"),\n        thread_area: $(\"#messages_ul\"),\n        message_container: $(\"#message_container\"),\n        message_sidebar_container: $(\"#message_sidebar_container\"),\n        socket_error_msg: $(\"#socket_error\"),\n        thread_search_input: $(\"#thread_search_input\"),\n        thread_search_bar: $(\"#threads_search_bar\"),\n        drag_drop_zone: $('#drag_drop_overlay'),\n        messenger_search_input: null,\n        messenger_search_results: null,\n        msg_panel: null,\n        doc_file: null,\n        group_avatar_file: null,\n        record_audio_message_btn: null,\n        add_emoji_btn: null,\n        data_table: null,\n        message_text_input: null,\n        form: null,\n        the_thread: null,\n        msg_stack: null,\n        pending_msg_stack: null,\n        new_msg_alert: null,\n        reply_message_alert: null,\n        seen_by_final: null\n      }\n    },\n    mounted = {\n      Initialize: function Initialize(arg) {\n        if (!Messenger.common().modules.includes('ThreadTemplates')) {\n          setTimeout(function () {\n            mounted.Initialize(arg);\n          }, 0);\n          return;\n        }\n        opt.states.lock = false;\n        if (!opt.ORIGINAL_ARG) {\n          opt.ORIGINAL_ARG = arg;\n        }\n        if (\"online_status_setting\" in arg) opt.socket.online_status_setting = arg.online_status_setting;\n        if (\"messaging\" in arg) opt.thread.messaging = arg.messaging;\n        if (\"lockout\" in arg) opt.thread.lockout = arg.lockout;\n        if (\"admin\" in arg) opt.thread.admin = arg.admin;\n        if (\"awaiting_my_approval\" in arg) opt.thread.awaiting_my_approval = arg.awaiting_my_approval;\n        if (\"pending\" in arg) opt.thread.pending = arg.pending;\n        if (\"can_call\" in arg) opt.thread.can_call = arg.can_call;\n        if (\"setup\" in arg && \"thread_id\" in arg && arg.type === 0) {\n          mounted.setupOnce();\n          LoadIn.initiate_thread({\n            thread_id: arg.thread_id\n          });\n          return;\n        }\n        if (\"setup\" in arg && arg.type === 3) {\n          mounted.setupOnce();\n          LoadIn.createPrivate({\n            id: arg.id,\n            alias: arg.alias\n          });\n          return;\n        }\n        opt.INIT = true;\n        PageListeners.listen().disposeTooltips();\n        opt.thread.type = arg.type;\n        if ([1, 2, 3, 4].includes(arg.type)) {\n          opt.elements.message_text_input = $(\"#message_text_input\");\n          opt.elements.form = $(\"#thread_form\");\n          opt.elements.new_msg_alert = $(\"#new_message_alert\");\n          opt.elements.reply_message_alert = $(\"#reply_message_alert\");\n          opt.elements.msg_panel = $(\".chat-body\");\n          opt.elements.doc_file = $(\"#doc_file\");\n          opt.elements.group_avatar_file = $(\"#thread_avatar_image_file\");\n          opt.elements.record_audio_message_btn = $(\"#record_audio_message_btn\");\n          opt.elements.add_emoji_btn = $(\"#add_emoji_btn\");\n          opt.elements.seen_by_final = $(\"#seen-by_final\");\n        }\n        if ([1, 2, 3].includes(arg.type)) {\n          if (arg.type === 3) opt.storage.temp_data = arg.temp_data;\n          mounted.startWatchdog();\n        }\n        if (arg.type === 4) mounted.startWatchdog();\n        if (arg.type === 5 && !Messenger.common().mobile) opt.elements.message_container.html(ThreadTemplates.render().empty_base());\n        if (arg.type === 7) {\n          opt.elements.msg_panel = $(\".chat-body\");\n          opt.elements.messenger_search_results = $(\"#messenger_search_content\");\n          opt.elements.messenger_search_input = $(\"#messenger_search_profiles\");\n          mounted.startWatchdog();\n        }\n        if ('thread_id' in arg) {\n          opt.thread.id = arg.thread_id;\n          opt.thread.name = arg.t_name;\n          opt.elements.the_thread = $('#msg_thread_' + arg.thread_id);\n          opt.elements.msg_stack = $('#messages_container_' + arg.thread_id);\n          opt.elements.pending_msg_stack = $(\"#pending_messages\");\n          opt.thread.initializing = false;\n          opt.thread._id = null;\n          if (arg.type !== 3) methods.initializeRecentMessages();\n        }\n        Health.checkConnection();\n        if ('setup' in arg) mounted.setupOnce();\n        PageListeners.listen().tooltips();\n      },\n      setupOnce: function setupOnce() {\n        if (!opt.SETUP) return;\n        var elm = document.getElementById('message_container');\n        LoadIn.threads();\n        setInterval(function () {\n          if (!NotifyManager.sockets().forced_disconnect) LoadIn.threads();\n        }, 300000);\n        if (opt.thread.type === 5) window.history.replaceState({\n          type: 5\n        }, null, Messenger.common().WEB);\n        window.onpopstate = function (event) {\n          if (event.state && \"type\" in event.state && !opt.states.lock) {\n            switch (event.state.type) {\n              case 1:\n              case 2:\n                LoadIn.initiate_thread({\n                  thread_id: event.state.thread_id\n                }, true);\n                break;\n              case 3:\n                LoadIn.createPrivate({\n                  alias: event.state.alias,\n                  id: event.state.id\n                }, true);\n                break;\n              case 4:\n                LoadIn.createGroup(true);\n                break;\n              case 5:\n                LoadIn.closeOpened();\n                break;\n              case 6:\n                LoadIn.contacts(true);\n                break;\n              case 7:\n                LoadIn.search(true);\n                break;\n            }\n          } else {\n            return false;\n          }\n        };\n        opt.elements.thread_search_input.on(\"keyup mouseup\", methods.checkThreadFilters);\n        ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(function (eventName) {\n          elm.addEventListener(eventName, methods.fileDragDrop, false);\n        });\n        if (opt.elements.nav_search_link.length) opt.elements.nav_search_link.click(mounted.searchLinkClicked);\n        setInterval(mounted.timeAgo, 10000);\n        opt.SETUP = false;\n      },\n      reset: function reset(lock) {\n        mounted.stopWatchdog();\n        if (opt.socket.chat) opt.socket.chat.unsubscribe();\n        if (opt.timers.remove_typing_interval) clearInterval(opt.timers.remove_typing_interval);\n        if (opt.timers.socket_interval) clearInterval(opt.timers.socket_interval);\n        if (opt.timers.mark_read_timeout) clearTimeout(opt.timers.mark_read_timeout);\n        if (opt.timers.recent_bobble_timeout) clearTimeout(opt.timers.recent_bobble_timeout);\n        if (opt.timers.bobble_refresh_interval) clearInterval(opt.timers.bobble_refresh_interval);\n        if (opt.timers.private_bobble_refresh_timeout) clearTimeout(opt.timers.private_bobble_refresh_timeout);\n        if (opt.timers.drag_drop_overlay_hide) {\n          clearTimeout(opt.timers.drag_drop_overlay_hide);\n          opt.elements.drag_drop_zone.addClass('NS');\n        }\n        opt.elements.message_container.removeClass('msg-ctnr-unread');\n        opt.elements.thread_area.find('.thread_list_item').removeClass('alert-warning shadow-sm rounded');\n        opt.elements.thread_area.find('.thread-group-avatar').removeClass('avatar-is-online').addClass('avatar-is-offline');\n        PageListeners.listen().disposeTooltips();\n        opt = Object.assign({}, opt, {\n          thread: {\n            id: null,\n            type: null,\n            name: null,\n            admin: false,\n            pending: false,\n            muted: false,\n            replying: false,\n            reply_to_id: null,\n            awaiting_my_approval: false,\n            created_at: null,\n            messages_unread: false,\n            click_to_read: false,\n            messaging: true,\n            can_call: true,\n            lockout: false,\n            thread_history: true,\n            history_id: null,\n            history_route: null,\n            history_loading: false,\n            initializing: false,\n            _id: null,\n            _thread: null\n          },\n          states: {\n            lock: lock,\n            load_in_retries: 0,\n            state_lockout_retries: 0,\n            thread_filtered: opt.states.thread_filtered,\n            thread_filter_search: opt.states.thread_filter_search,\n            messenger_search_term: null\n          },\n          socket: {\n            online_status_setting: opt.socket.online_status_setting,\n            chat: null,\n            socket_retries: 0,\n            send_typing: 0,\n            is_away: false\n          },\n          storage: {\n            active_profiles: [],\n            who_typing: [],\n            bot_typing: [],\n            threads: opt.storage.threads,\n            messages: [],\n            participants: [],\n            pending_messages: [],\n            temp_data: null\n          },\n          timers: {\n            mark_read_timeout: null,\n            recent_bobble_timeout: null,\n            socket_interval: null,\n            remove_typing_interval: null,\n            private_bobble_refresh_timeout: null,\n            bobble_refresh_interval: null,\n            drag_drop_overlay_hide: null\n          },\n          elements: {\n            nav_search_link: opt.elements.nav_search_link,\n            my_avatar_area: opt.elements.my_avatar_area,\n            thread_area: opt.elements.thread_area,\n            message_container: opt.elements.message_container,\n            message_sidebar_container: opt.elements.message_sidebar_container,\n            socket_error_msg: opt.elements.socket_error_msg,\n            thread_search_input: opt.elements.thread_search_input,\n            thread_search_bar: opt.elements.thread_search_bar,\n            drag_drop_zone: opt.elements.drag_drop_zone,\n            messenger_search_input: null,\n            messenger_search_results: null,\n            msg_panel: null,\n            doc_file: null,\n            group_avatar_file: null,\n            record_audio_message_btn: null,\n            data_table: null,\n            message_text_input: null,\n            form: null,\n            the_thread: null,\n            msg_stack: null,\n            pending_msg_stack: null,\n            new_msg_alert: null,\n            reply_message_alert: null,\n            seen_by_final: null,\n            add_emoji_btn: null\n          }\n        });\n      },\n      timeAgo: function timeAgo() {\n        $(\"time.timeago\").each(function () {\n          $(this).html(Messenger.format().makeTimeAgo($(this).attr('datetime')));\n        });\n      },\n      startWatchdog: function startWatchdog() {\n        switch (opt.thread.type) {\n          case 1:\n          case 2:\n            if (!opt.thread.lockout && opt.thread.messaging) opt.elements.message_text_input.prop('disabled', false);\n            opt.timers.remove_typing_interval = setInterval(methods.removeTypers, 1000);\n            opt.timers.bobble_refresh_interval = setInterval(function () {\n              if (!NotifyManager.sockets().forced_disconnect) LoadIn.bobbleHeads();\n            }, 180000);\n            opt.elements.msg_panel.click(mounted.msgPanelClick);\n            opt.elements.msg_panel.scroll(mounted.msgPanelScroll);\n            opt.elements.doc_file.change(mounted.documentChange);\n            opt.elements.group_avatar_file.change(mounted.uploadGroupAvatar);\n            opt.elements.record_audio_message_btn.click(mounted.audioMessage);\n            opt.elements.add_emoji_btn.click(mounted.showEmojiPicker);\n            opt.elements.message_text_input.on('paste', methods.pasteImage);\n            opt.elements.form.keydown(mounted.formKeydown);\n            opt.elements.form.on('input keyup', methods.manageSendMessageButton);\n            opt.elements.form.on('submit', mounted.stopDefault);\n            opt.elements.new_msg_alert.click(mounted.newMsgAlertClick);\n            opt.elements.reply_message_alert.click(methods.resetReplying);\n            opt.elements.message_container.click(mounted.clickMarkRead);\n            if (Messenger.common().mobile) opt.elements.message_text_input.click(mounted.inputClickScroll);\n            if (!Messenger.common().mobile) opt.elements.message_text_input.focus();\n            break;\n          case 3:\n            opt.elements.message_text_input.prop('disabled', false);\n            opt.elements.msg_panel.click(mounted.msgPanelClick);\n            opt.elements.doc_file.change(mounted.documentChange);\n            opt.elements.record_audio_message_btn.click(mounted.audioMessage);\n            opt.elements.add_emoji_btn.click(mounted.showEmojiPicker);\n            opt.elements.form.keydown(mounted.formKeydown);\n            opt.elements.form.on('input keyup', methods.manageSendMessageButton);\n            opt.elements.form.on('submit', mounted.stopDefault);\n            if (!Messenger.common().mobile) opt.elements.message_text_input.focus();\n            break;\n          case 4:\n            var subject = document.getElementById('subject');\n            opt.elements.msg_panel.click(mounted.msgPanelClick);\n            if (!Messenger.common().mobile) subject.focus();\n            PageListeners.listen().validateForms();\n            break;\n          case 7:\n            opt.elements.messenger_search_input.on(\"keyup mouseup\", mounted.runMessengerSearch);\n            opt.elements.msg_panel.click(mounted.msgPanelClick);\n            opt.elements.messenger_search_input.focus();\n            break;\n        }\n      },\n      stopWatchdog: function stopWatchdog() {\n        switch (opt.thread.type) {\n          case 1:\n          case 2:\n            try {\n              opt.elements.msg_panel.off('click', mounted.msgPanelClick);\n              opt.elements.msg_panel.off('scroll', mounted.msgPanelScroll);\n              opt.elements.doc_file.off('change', mounted.documentChange);\n              opt.elements.group_avatar_file.off('change', mounted.uploadGroupAvatar);\n              opt.elements.record_audio_message_btn.off('click', mounted.audioMessage);\n              opt.elements.add_emoji_btn.off('click', mounted.showEmojiPicker);\n              opt.elements.message_text_input.off('paste', methods.pasteImage);\n              opt.elements.form.off('keydown', mounted.formKeydown);\n              opt.elements.form.off('input keyup', methods.manageSendMessageButton);\n              opt.elements.form.off('submit', mounted.stopDefault);\n              opt.elements.new_msg_alert.off('click', mounted.newMsgAlertClick);\n              opt.elements.reply_message_alert.off('click', methods.resetReplying);\n              opt.elements.message_container.off('click', mounted.clickMarkRead);\n              if (Messenger.common().mobile) opt.elements.message_text_input.off('click', mounted.inputClickScroll);\n            } catch (e) {\n              console.log(e);\n            }\n            break;\n          case 3:\n            try {\n              opt.elements.msg_panel.off('click', mounted.msgPanelClick);\n              opt.elements.doc_file.off('change', mounted.documentChange);\n              opt.elements.record_audio_message_btn.off('click', mounted.audioMessage);\n              opt.elements.add_emoji_btn.off('click', mounted.showEmojiPicker);\n              opt.elements.form.off('keydown', mounted.formKeydown);\n              opt.elements.form.off('input keyup', methods.manageSendMessageButton);\n              opt.elements.form.off('submit', mounted.stopDefault);\n            } catch (e) {\n              console.log(e);\n            }\n            break;\n          case 4:\n            try {\n              opt.elements.msg_panel.off('click', mounted.msgPanelClick);\n            } catch (e) {\n              console.log(e);\n            }\n            break;\n          case 7:\n            try {\n              opt.elements.msg_panel.off('click', mounted.msgPanelClick);\n              opt.elements.messenger_search_input.off(\"keyup mouseup\", mounted.runMessengerSearch);\n            } catch (e) {\n              console.log(e);\n            }\n            break;\n        }\n      },\n      stopDefault: function stopDefault(e) {\n        e.preventDefault();\n      },\n      searchLinkClicked: function searchLinkClicked(e) {\n        mounted.stopDefault(e);\n        $('body').click();\n        LoadIn.search();\n      },\n      runMessengerSearch: function runMessengerSearch(e) {\n        if (opt.thread.type !== 7) return;\n        var current_term = opt.states.messenger_search_term,\n          time = new Date();\n        if (e && e.type === 'mouseup') {\n          setTimeout(mounted.runMessengerSearch, 0);\n          return;\n        }\n        if (opt.elements.messenger_search_input.val().trim().length) {\n          if (opt.elements.messenger_search_input.val().trim().length >= 3) {\n            if (current_term !== opt.elements.messenger_search_input.val().trim()) {\n              opt.states.messenger_search_term = opt.elements.messenger_search_input.val().trim();\n              opt.elements.messenger_search_results.html(ThreadTemplates.render().loader());\n              Messenger.xhr().request({\n                route: Messenger.common().API + 'search/' + opt.states.messenger_search_term,\n                success: methods.manageMessengerSearch,\n                fail_alert: true\n              });\n            }\n          } else {\n            opt.states.messenger_search_term = opt.elements.messenger_search_input.val().trim();\n            opt.elements.messenger_search_results.html(ThreadTemplates.render().thread_empty_search(true));\n          }\n        } else {\n          opt.states.messenger_search_term = null;\n          opt.elements.messenger_search_results.html(ThreadTemplates.render().thread_empty_search());\n        }\n      },\n      inputClickScroll: function inputClickScroll() {\n        setTimeout(function () {\n          methods.threadScrollBottom(true, false);\n        }, 200);\n      },\n      formKeydown: function formKeydown(e) {\n        switch (opt.thread.type) {\n          case 1:\n          case 2:\n            if (opt.thread.lockout || !opt.thread.messaging) return;\n            if (e.keyCode === 13) {\n              methods.sendMessage();\n              methods.stopTyping();\n              return;\n            }\n            methods.isTyping();\n            break;\n          case 3:\n            if (e.keyCode === 13) new_forms.newPrivate(false);\n            break;\n        }\n      },\n      clickMarkRead: function clickMarkRead() {\n        if (opt.thread.click_to_read || methods.checkThreadStorageUnread()) methods.markRead();\n      },\n      msgPanelClick: function msgPanelClick(e) {\n        if (opt.thread.type === 7) {\n          var _focus_input = document.getElementById('messenger_search_profiles');\n          Messenger.format().focusEnd(_focus_input);\n          return;\n        }\n        var focus_input = document.getElementById('message_text_input');\n        switch (opt.thread.type) {\n          case 1:\n          case 2:\n            if (opt.thread.lockout || !opt.thread.messaging) return;\n            var elm_class = $(e.target).attr('class');\n            var ignore = ['message-text', 'message-text pt-2', 'fas fa-trash', 'fas fa-grin', 'dropdown-item', 'fas fa-ellipsis-v', 'fas fa-grin-tongue', 'fas fa-reply', 'fas fa-pen', 'joypixels', 'ml-1 font-weight-bold text-primary', 'badge badge-light mr-1 px-1 pointer_area', 'reacted-by-me badge badge-light mr-1 px-1 pointer_area'];\n            if (ignore.includes(elm_class) || Messenger.common().mobile) return;\n            Messenger.format().focusEnd(focus_input);\n            break;\n          case 3:\n            if (!opt.thread.messaging) return;\n            Messenger.format().focusEnd(focus_input);\n            break;\n          case 4:\n            if (e.target.id === 'msg_thread_new_group') Messenger.format().focusEnd(document.getElementById('subject'));\n            break;\n        }\n      },\n      msgPanelScroll: function msgPanelScroll() {\n        if ($(this).scrollTop() <= 500) methods.loadHistory();\n        if (methods.threadScrollBottom(false, true) && opt.thread.messages_unread && !opt.socket.is_away && document.hasFocus()) methods.markRead();\n      },\n      newMsgAlertClick: function newMsgAlertClick() {\n        methods.threadScrollBottom(true, false);\n        methods.markRead();\n      },\n      audioMessage: function audioMessage() {\n        if (opt.thread.lockout || !opt.thread.messaging) return;\n        RecordAudio.open();\n      },\n      showEmojiPicker: function showEmojiPicker() {\n        if (opt.thread.lockout || !opt.thread.messaging) return;\n        EmojiPicker.addMessage();\n      },\n      documentChange: function documentChange() {\n        switch (opt.thread.type) {\n          case 1:\n          case 2:\n            if (opt.thread.lockout || !opt.thread.messaging) return;\n            _toConsumableArray(opt.elements.doc_file[0].files).forEach(methods.sendUploadFiles);\n            opt.elements.doc_file[0].value = '';\n            break;\n          case 3:\n            if (!opt.thread.messaging) return;\n            Messenger.button().addLoader({\n              id: '#file_upload_btn'\n            });\n            new_forms.newPrivate(true);\n            break;\n        }\n      },\n      uploadGroupAvatar: function uploadGroupAvatar() {\n        var data = new FormData();\n        data.append('image', opt.elements.group_avatar_file[0].files[0]);\n        Messenger.alert().fillModal({\n          loader: true,\n          no_close: true,\n          body: null,\n          title: 'Uploading...'\n        });\n        Messenger.xhr().payload({\n          route: Messenger.common().API + 'threads/' + opt.thread.id + '/avatar',\n          data: data,\n          success: function success(data) {\n            Messenger.alert().Alert({\n              title: 'You updated ' + data.name + '\\'s Avatar.',\n              toast: true\n            });\n          },\n          close_modal: true,\n          fail_alert: true\n        });\n      },\n      switchToggleListener: function switchToggleListener() {\n        $(\".switch_input\").each(function () {\n          if ($(this).is(':checked')) {\n            $(this).parents().closest('tr').addClass('table-warning');\n            return;\n          }\n          $(this).parents().closest('tr').removeClass('table-warning');\n        });\n      },\n      startPresence: function startPresence(full) {\n        if (opt.thread.awaiting_my_approval || opt.thread.muted || opt.thread.lockout) return;\n        if (full) opt.socket.chat = null;\n        if (opt.socket.chat) {\n          opt.socket.chat.subscribe();\n          return;\n        }\n        if (typeof NotifyManager.sockets().Echo.connector.channels['presence-messenger.thread.' + opt.thread.id] !== 'undefined') {\n          NotifyManager.sockets().Echo.connector.channels['presence-messenger.thread.' + opt.thread.id].subscribe();\n          opt.socket.chat = NotifyManager.sockets().Echo.connector.channels['presence-messenger.thread.' + opt.thread.id];\n        } else {\n          opt.socket.chat = NotifyManager.sockets().Echo.join('messenger.thread.' + opt.thread.id);\n        }\n        opt.socket.chat.here(function (users) {\n          opt.storage.active_profiles = [];\n          $('.thread_error_area').hide();\n          $.each(users, function () {\n            if (!Messenger.isProvider(this.provider_id, null, this.provider_alias)) {\n              opt.storage.active_profiles.push(this);\n              methods.updateBobbleHead(this.provider_id, null);\n            }\n          });\n          methods.drawBobbleHeads();\n          methods.sendOnlineStatus(opt.socket.is_away && opt.socket.online_status_setting !== 0 ? 2 : opt.socket.online_status_setting);\n        }).joining(function (user) {\n          opt.storage.active_profiles.push(user);\n          if (opt.storage.messages.length) methods.updateBobbleHead(user.provider_id, opt.storage.messages[0].id);\n          methods.drawBobbleHeads();\n          methods.sendOnlineStatus(opt.socket.is_away && opt.socket.online_status_setting !== 0 ? 2 : opt.socket.online_status_setting);\n          PageListeners.listen().tooltips();\n        }).leaving(function (user) {\n          methods.updateActiveProfile(user.provider_id, 3);\n        }).listenForWhisper('typing', methods.addTypers).listenForWhisper('stop-typing', methods.removeTypers).listenForWhisper('online', function (user) {\n          methods.threadOnlineStatus(user.online_status);\n          methods.updateActiveProfile(user.provider_id, user.online_status);\n        }).listenForWhisper('read', function (message) {\n          methods.updateBobbleHead(message.provider_id, message.message_id);\n          methods.drawBobbleHeads();\n        }).listen('.thread.settings', methods.groupSettingsState).listen('.thread.avatar', methods.groupAvatarState).listen('.message.edited', methods.renderUpdatedMessage).listen('.reaction.added', methods.updateNewReaction).listen('.reaction.removed', methods.updateRemoveReaction);\n      }\n    },\n    Health = {\n      checkConnection: function checkConnection() {\n        if (!Messenger.common().modules.includes('NotifyManager') || !NotifyManager.sockets().status || !NotifyManager.sockets().Echo) {\n          if (opt.socket.socket_retries >= 10) {\n            opt.storage.active_profiles = [];\n            opt.socket.socket_retries = 0;\n            Health.unreadCheck();\n            opt.elements.socket_error_msg.html(ThreadTemplates.render().socket_error());\n            if (opt.thread.id) {\n              $('.thread_error_area').show();\n              $('.thread_error_btn').popover();\n            }\n          }\n          if (opt.timers.socket_interval === null) {\n            opt.timers.socket_interval = setInterval(function () {\n              Health.checkConnection();\n            }, 1000);\n          }\n          opt.socket.socket_retries++;\n          if (Messenger.common().modules.includes('NotifyManager') && NotifyManager.sockets().forced_disconnect) opt.elements.my_avatar_area.html(ThreadTemplates.render().my_avatar_status(0));\n          return;\n        }\n        Health.onConnection();\n      },\n      onConnection: function onConnection(full) {\n        opt.elements.my_avatar_area.html(ThreadTemplates.render().my_avatar_status(opt.socket.online_status_setting));\n        PageListeners.listen().tooltips();\n        opt.socket.socket_retries = 0;\n        opt.elements.socket_error_msg.html('');\n        clearInterval(opt.timers.socket_interval);\n        opt.timers.socket_interval = null;\n        if (opt.thread.id && opt.thread.type !== 3) {\n          $('.thread_error_area').hide();\n          mounted.startPresence(full);\n        }\n      },\n      reConnected: function reConnected(full) {\n        opt.elements.my_avatar_area.html(ThreadTemplates.render().my_avatar_status(opt.socket.online_status_setting));\n        PageListeners.listen().tooltips();\n        Health.onConnection(full);\n        if (!CallManager.state().initialized) LoadIn.threads();\n        if (opt.thread.id) {\n          opt.storage.participants = [];\n          methods.initializeRecentMessages(true);\n        }\n      },\n      unreadCheck: function unreadCheck() {\n        if (!Messenger.common().modules.includes('NotifyManager') || NotifyManager.sockets().forced_disconnect) return;\n        var checkTotalUnread = function checkTotalUnread() {\n          if (CallManager.state().initialized) return;\n          Messenger.xhr().request({\n            route: Messenger.common().API + 'unread-threads-count',\n            success: function success(data) {\n              if (NotifyManager.counts().threads !== data.unread_threads_count) {\n                NotifyManager.updateMessageCount({\n                  total_unread: data.unread_threads_count\n                });\n                LoadIn.threads();\n              }\n            },\n            fail: null\n          });\n        };\n        if (opt.thread.id) {\n          Messenger.xhr().request({\n            route: Messenger.common().API + 'threads/' + opt.thread.id + '/is-unread',\n            success: function success(data) {\n              if (data.unread) {\n                opt.storage.participants = [];\n                if (document.hasFocus() && !opt.socket.is_away) methods.markRead();\n                methods.initializeRecentMessages(true);\n                if (!document.hasFocus() || opt.socket.is_away) NotifyManager.sound('message');\n              } else {\n                checkTotalUnread();\n              }\n            },\n            fail: null\n          });\n          return;\n        }\n        checkTotalUnread();\n      }\n    },\n    Imports = {\n      newMessage: function newMessage(data) {\n        if (opt.thread.id === data.thread_id) {\n          methods.addMessage(data);\n          return;\n        }\n        if (CallManager.state().initialized && CallManager.state().thread_id !== data.thread_id) return;\n        if (opt.thread.initializing && opt.thread._id === data.thread_id) {\n          opt.storage.pending_messages.push(data);\n          methods.updateThread(data, false, false, true);\n          return;\n        }\n        methods.updateThread(data, false, false, true);\n        if (!Messenger.isProvider(data.owner_id, data.owner_type)) NotifyManager.sound('message');\n      },\n      audioMessage: function audioMessage(audio) {\n        if (opt.thread.id) {\n          if (opt.thread.type === 3) {\n            new_forms.newPrivate(false, true, audio);\n          } else {\n            methods.sendUploadFiles(audio, false, true);\n          }\n        }\n      },\n      callStatus: function callStatus(data, action) {\n        methods.threadCallStatus(data, action);\n      },\n      addedToThread: function addedToThread(thread_id) {\n        LoadIn.thread(thread_id);\n        NotifyManager.sound('message');\n      },\n      promotedAdmin: function promotedAdmin(thread_id) {\n        if (opt.thread.id === thread_id) {\n          NotifyManager.sound('notify');\n          Messenger.alert().Alert({\n            title: 'You were promoted to admin. Refreshing the group...',\n            toast: true,\n            theme: 'info'\n          });\n          LoadIn.initiate_thread({\n            thread_id: opt.thread.id,\n            force: true\n          });\n        }\n      },\n      demotedAdmin: function demotedAdmin(thread_id) {\n        if (opt.thread.id === thread_id) {\n          NotifyManager.sound('notify');\n          Messenger.alert().Alert({\n            title: 'You were demoted from admin. Refreshing the group...',\n            toast: true,\n            theme: 'info'\n          });\n          LoadIn.initiate_thread({\n            thread_id: opt.thread.id,\n            force: true\n          });\n        }\n      },\n      permissionsUpdated: function permissionsUpdated(thread_id) {\n        if (opt.thread.id === thread_id) {\n          NotifyManager.sound('notify');\n          Messenger.alert().Alert({\n            title: 'Your permissions were updated. Refreshing the group...',\n            toast: true,\n            theme: 'info'\n          });\n          LoadIn.initiate_thread({\n            thread_id: opt.thread.id,\n            force: true\n          });\n        }\n      },\n      threadApproval: function threadApproval(thread_id, approved) {\n        if (approved) {\n          if (opt.thread.id === thread_id) {\n            LoadIn.initiate_thread({\n              thread_id: thread_id,\n              force: true\n            });\n          } else {\n            LoadIn.threads();\n          }\n        } else {\n          if (opt.thread.id === thread_id) LoadIn.closeOpened();\n          setTimeout(function () {\n            methods.removeThread(thread_id);\n          }, 2500);\n        }\n      },\n      threadLeft: function threadLeft(thread_id) {\n        if (opt.thread.id === thread_id) LoadIn.closeOpened();\n        setTimeout(function () {\n          methods.removeThread(thread_id);\n        }, 2500);\n      },\n      purgeMessage: function purgeMessage(message) {\n        if (opt.thread.id === message.thread_id) {\n          methods.purgeMessage(message.message_id);\n          $(\"#message_\" + message.message_id).remove();\n        }\n      }\n    },\n    methods = {\n      initiatePrivate: function initiatePrivate(arg, data, noHistory) {\n        var _data$options$awaitin;\n        if (data.resources.hasOwnProperty('messages')) {\n          opt.storage.messages = data.resources.messages.data;\n          if (!data.resources.messages.meta.final_page) {\n            opt.thread.thread_history = true;\n            opt.thread.history_id = data.resources.messages.meta.next_page_id;\n            opt.thread.history_route = data.resources.messages.meta.next_page_route;\n          } else {\n            opt.thread.thread_history = false;\n            opt.thread.history_id = null;\n            opt.thread.history_route = null;\n          }\n        }\n        opt.storage.participants = data.resources.hasOwnProperty('participants') ? data.resources.participants.data : [];\n        opt.elements.message_container.html(ThreadTemplates.render().render_private(data));\n        if (!noHistory) window.history.pushState({\n          type: 1,\n          thread_id: data.id\n        }, null, Messenger.common().WEB + '/' + data.id);\n        opt.thread.created_at = data.created_at;\n        opt.thread.muted = data.options.muted;\n        opt.thread._thread = data;\n        mounted.Initialize({\n          type: data.type,\n          thread_id: data.id,\n          t_name: data.name,\n          can_call: data.options.call,\n          admin: data.options.admin,\n          pending: data.pending,\n          awaiting_my_approval: (_data$options$awaitin = data.options.awaiting_my_approval) !== null && _data$options$awaitin !== void 0 ? _data$options$awaitin : false,\n          messaging: data.options.message,\n          lockout: data.locked\n        });\n        methods.updateThread(data, true, false, 'new' in arg);\n      },\n      initiateGroup: function initiateGroup(arg, data, noHistory) {\n        if (data.resources.hasOwnProperty('messages')) {\n          opt.storage.messages = data.resources.messages.data;\n          if (!data.resources.messages.meta.final_page) {\n            opt.thread.thread_history = true;\n            opt.thread.history_id = data.resources.messages.meta.next_page_id;\n            opt.thread.history_route = data.resources.messages.meta.next_page_route;\n          } else {\n            opt.thread.thread_history = false;\n            opt.thread.history_id = null;\n            opt.thread.history_route = null;\n          }\n        }\n        opt.storage.participants = data.resources.hasOwnProperty('participants') ? data.resources.participants.data : [];\n        opt.elements.message_container.html(ThreadTemplates.render().render_group(data));\n        if (!noHistory) window.history.pushState({\n          type: 2,\n          thread_id: data.id\n        }, null, Messenger.common().WEB + '/' + data.id);\n        opt.thread.created_at = data.created_at;\n        opt.thread.muted = data.options.muted;\n        opt.thread._thread = data;\n        mounted.Initialize({\n          type: data.type,\n          thread_id: data.id,\n          t_name: data.name,\n          can_call: data.options.call,\n          admin: data.options.admin,\n          messaging: data.options.message,\n          lockout: data.locked\n        });\n        methods.updateThread(data, true, false, 'new' in arg);\n      },\n      manageMessengerSearch: function manageMessengerSearch(search) {\n        if (opt.thread.type !== 7) return;\n        if (!search.data.length) {\n          opt.elements.messenger_search_results.html(ThreadTemplates.render().thread_empty_search(true, true));\n          return;\n        }\n        opt.elements.messenger_search_results.html('');\n        search.data.forEach(function (profile) {\n          opt.elements.messenger_search_results.append(ThreadTemplates.render().messenger_search(profile));\n        });\n        LazyImages.update();\n      },\n      fileDragDrop: function fileDragDrop(e) {\n        var isFile = function isFile() {\n          for (var i = 0; i < e.dataTransfer.items.length; i++) {\n            if (e.dataTransfer.items[i].kind === \"file\") {\n              return true;\n            }\n          }\n          return false;\n        };\n        if (!isFile()) return;\n        e.preventDefault();\n        e.stopPropagation();\n        if (![1, 2].includes(opt.thread.type) || !opt.thread.id || opt.thread.lockout || !opt.thread.messaging) return;\n        if (['dragenter', 'dragover'].includes(e.type)) {\n          if (opt.timers.drag_drop_overlay_hide) clearTimeout(opt.timers.drag_drop_overlay_hide);\n          opt.elements.drag_drop_zone.fadeIn('fast');\n        }\n        if (e.type === 'dragleave') {\n          opt.timers.drag_drop_overlay_hide = setTimeout(function () {\n            opt.elements.drag_drop_zone.fadeOut('fast');\n          }, 200);\n        }\n        if (e.type === 'drop') {\n          opt.elements.drag_drop_zone.fadeOut('fast');\n          var files = e.dataTransfer.files;\n          _toConsumableArray(files).forEach(methods.sendUploadFiles);\n          opt.elements.message_text_input.focus();\n        }\n      },\n      manageSendMessageButton: function manageSendMessageButton() {\n        var btn = $(\"#inline_send_msg_btn\"),\n          message_contents = opt.elements.message_text_input.val();\n        if (message_contents.trim().length) {\n          if (!btn.length) {\n            opt.elements.message_text_input.after(ThreadTemplates.render().send_msg_btn(false));\n          }\n        } else {\n          btn.remove();\n        }\n      },\n      groupSettingsState: function groupSettingsState(settings) {\n        if (!Messenger.isProvider(settings.sender.provider_id, null, settings.sender.provider_alias)) {\n          NotifyManager.sound('notify');\n          Messenger.alert().Alert({\n            title: settings.sender.name + ' updated the groups settings. Refreshing the group...',\n            toast: true,\n            theme: 'info'\n          });\n        }\n        LoadIn.initiate_thread({\n          thread_id: opt.thread.id,\n          force: true\n        });\n      },\n      groupAvatarState: function groupAvatarState(settings) {\n        if (!Messenger.isProvider(settings.sender.provider_id, null, settings.sender.provider_alias)) {\n          NotifyManager.sound('notify');\n          Messenger.alert().Alert({\n            title: settings.sender.name + ' updated the groups avatar. Refreshing the group...',\n            toast: true,\n            theme: 'info'\n          });\n        }\n        LoadIn.initiate_thread({\n          thread_id: opt.thread.id,\n          force: true\n        });\n      },\n      threadScrollBottom: function threadScrollBottom(force, check) {\n        if (!opt.elements.the_thread) return false;\n        var top = opt.elements.the_thread.prop(\"scrollTop\"),\n          height = opt.elements.the_thread.prop(\"scrollHeight\"),\n          offset = opt.elements.the_thread.prop(\"offsetHeight\");\n        if (force || top === height - offset || height - offset - top < 200) {\n          if (!check) opt.elements.the_thread.scrollTop(height);\n          return true;\n        }\n        return false;\n      },\n      statusOnline: function statusOnline(state, inactivity) {\n        opt.socket.is_away = state === 2 && inactivity;\n        if (opt.INIT && opt.elements.my_avatar_area.length) {\n          opt.elements.my_avatar_area.html(ThreadTemplates.render().my_avatar_status(state === 1 && opt.socket.online_status_setting === 2 ? 2 : state === 1 && opt.socket.online_status_setting === 0 ? 0 : state === 2 && opt.socket.online_status_setting === 0 ? 0 : state));\n          PageListeners.listen().tooltips();\n        }\n        methods.sendOnlineStatus(state === 1 && opt.socket.online_status_setting === 2 ? 2 : state);\n      },\n      updateOnlineStatusSetting: function updateOnlineStatusSetting(state) {\n        opt.socket.online_status_setting = state;\n        methods.statusOnline(state, false);\n      },\n      checkThreadStorageUnread: function checkThreadStorageUnread() {\n        if (!opt.thread.id) return false;\n        var thread = methods.locateStorageItem({\n          type: 'thread',\n          id: opt.thread.id\n        });\n        return thread.found && opt.storage.threads[thread.index].unread;\n      },\n      markRead: function markRead() {\n        if (!opt.thread.id || opt.thread.awaiting_my_approval || !methods.threadScrollBottom(false, true)) return;\n        opt.thread.messages_unread = false;\n        opt.elements.message_container.removeClass('msg-ctnr-unread');\n        opt.thread.click_to_read = false;\n        opt.elements.new_msg_alert.hide();\n        methods.updateThread({\n          thread_id: opt.thread.id\n        }, false, true, false);\n        if (opt.storage.messages.length) methods.seenMessage(opt.storage.messages[0].id);\n        var runMarkRead = function runMarkRead() {\n          Messenger.xhr().request({\n            route: Messenger.common().API + 'threads/' + opt.thread.id + '/mark-read',\n            fail: null\n          });\n        };\n        if (opt.timers.mark_read_timeout) {\n          clearTimeout(opt.timers.mark_read_timeout);\n        }\n        opt.timers.mark_read_timeout = setTimeout(runMarkRead, 1000);\n      },\n      loadDataTable: function loadDataTable(elm, special) {\n        if (opt.elements.data_table) opt.elements.data_table.destroy();\n        if (!elm || !elm.length) return;\n        if (special) {\n          opt.elements.data_table = elm.DataTable({\n            \"language\": {\n              \"info\": \"Showing _START_ to _END_ of _TOTAL_ friends\",\n              \"lengthMenu\": \"Show _MENU_ friends\",\n              \"infoEmpty\": \"Showing 0 to 0 of 0 friends\",\n              \"infoFiltered\": \"(filtered from _MAX_ total friends)\",\n              \"emptyTable\": \"No friends found\",\n              \"zeroRecords\": \"No matching friends found\"\n            },\n            \"drawCallback\": function drawCallback(settings) {\n              var api = new $.fn.DataTable.Api(settings),\n                pagination = $(this).closest('.dataTables_wrapper').find('.dataTables_paginate');\n              pagination.toggle(api.page.info().pages > 1);\n              LazyImages.update();\n            },\n            \"pageLength\": 100\n          });\n          return;\n        }\n        opt.elements.data_table = elm.DataTable({\n          \"language\": {\n            \"info\": \"Showing _START_ to _END_ of _TOTAL_ participants\",\n            \"lengthMenu\": \"Show _MENU_ participants\",\n            \"infoEmpty\": \"Showing 0 to 0 of 0 participants\",\n            \"infoFiltered\": \"(filtered from _MAX_ total participants)\",\n            \"emptyTable\": \"No participants found\",\n            \"zeroRecords\": \"No matching participants found\"\n          },\n          \"drawCallback\": function drawCallback(settings) {\n            var api = new $.fn.DataTable.Api(settings),\n              pagination = $(this).closest('.dataTables_wrapper').find('.dataTables_paginate');\n            pagination.toggle(api.page.info().pages > 1);\n            LazyImages.update();\n          }\n        });\n      },\n      addTypers: function addTypers(user) {\n        if (!opt.storage.messages.length) return;\n        if (user.provider_alias === 'bot') {\n          methods.addBotTypers(user);\n          return;\n        }\n        var time = new Date(),\n          find = methods.locateStorageItem({\n            type: 'typing',\n            id: user.provider_id\n          });\n        if (!find.found) {\n          opt.storage.who_typing.push({\n            id: user.provider_id,\n            alias: user.provider_alias,\n            avatar: user.avatar,\n            name: user.name,\n            time: time.getTime()\n          });\n          opt.storage.who_typing.forEach(function (user) {\n            if (!$(\"#typing_\" + user.id).length) {\n              methods.updateBobbleHead(user.id, null);\n            }\n          });\n          methods.drawBobbleHeads();\n          return;\n        }\n        opt.storage.who_typing[find.index].time = time.getTime();\n      },\n      addBotTypers: function addBotTypers(bot) {\n        var time = new Date();\n        var find = methods.locateStorageItem({\n          type: 'bot-typing',\n          id: bot.provider_id\n        });\n        if (!find.found) {\n          opt.storage.bot_typing.push({\n            id: bot.provider_id,\n            alias: bot.provider_alias,\n            avatar: bot.avatar,\n            name: bot.name,\n            time: time.getTime()\n          });\n          methods.drawBotTypingBobbleHeads();\n          return;\n        }\n        opt.storage.bot_typing[find.index].time = time.getTime();\n      },\n      removeTypers: function removeTypers(user) {\n        user = user || null;\n        var time = new Date();\n        if (user) {\n          var find = methods.locateStorageItem({\n            type: 'typing',\n            id: user.provider_id\n          });\n          if (find.found) {\n            opt.storage.who_typing.splice(find.index, 1);\n          }\n          methods.updateBobbleHead(user.provider_id, opt.storage.messages[opt.storage.messages.length - 1].message_id);\n          methods.drawBobbleHeads();\n          return;\n        }\n        if (opt.storage.who_typing.length) {\n          opt.storage.who_typing.forEach(function (user, index) {\n            if ((time.getTime() - user.time) / 1000 > 2) {\n              opt.storage.who_typing.splice(index, 1);\n              methods.updateBobbleHead(user.id, opt.storage.messages[opt.storage.messages.length - 1].message_id);\n            }\n          });\n          methods.drawBobbleHeads();\n          return;\n        }\n        if (opt.storage.bot_typing.length) {\n          methods.removeBotTypers(time);\n          return;\n        }\n        $('.typing-ellipsis').remove();\n      },\n      removeBotTypers: function removeBotTypers(time) {\n        opt.storage.bot_typing.forEach(function (bot, index) {\n          if ((time.getTime() - bot.time) / 1000 > 3) {\n            opt.storage.bot_typing.splice(index, 1);\n          }\n        });\n        methods.drawBotTypingBobbleHeads();\n      },\n      purgeMessage: function purgeMessage(id) {\n        var message = methods.locateStorageItem({\n            type: 'message',\n            id: id\n          }),\n          i = message.index;\n        if (message.found) {\n          opt.storage.messages.splice(i, 1);\n        }\n        methods.imageLoadListener(false);\n      },\n      privateMainBobbleDraw: function privateMainBobbleDraw(id) {\n        var bobble = methods.locateStorageItem({\n            type: 'bobble',\n            id: id\n          }),\n          status = $(\"#main_bobble_\" + id);\n        if (!status.length || !bobble.found) return;\n        status.html(ThreadTemplates.render().thread_private_header_bobble(opt.storage.participants[bobble.index].owner));\n        PageListeners.listen().tooltips();\n        clearTimeout(opt.timers.private_bobble_refresh_timeout);\n        if (opt.storage.participants[bobble.index].owner.options.online_status === 0) {\n          opt.timers.private_bobble_refresh_timeout = setTimeout(function () {\n            methods.privateMainBobbleDraw(id);\n          }, 20000);\n        }\n      },\n      drawBotTypingBobbleHeads: function drawBotTypingBobbleHeads() {\n        $(\".bot-bobble-head\").remove();\n        opt.storage.bot_typing.forEach(function (bot) {\n          opt.elements.seen_by_final.prepend(ThreadTemplates.render().bot_typing_bobble_head(bot));\n        });\n      },\n      drawBobbleHeads: function drawBobbleHeads() {\n        if (!opt.storage.participants.length || !opt.storage.messages.length) return;\n        opt.storage.participants.forEach(function (value) {\n          if (Messenger.isProvider(value.owner_id, value.owner_type) || !value.last_read.message_id || 'added' in value && value.added) return;\n          $(\".bobble_head_\" + value.owner_id).remove();\n          var message = $(\"#message_\" + value.last_read.message_id);\n          if (value.caught_up && value.typing || opt.storage.messages[0].id === value.last_read.message_id) {\n            opt.elements.seen_by_final.prepend(ThreadTemplates.render().bobble_head(value, true));\n            value.added = true;\n            value.caught_up = true;\n          } else if (message.length) {\n            if (!message.next().hasClass('seen-by')) message.after(ThreadTemplates.render().seen_by(value.last_read.message_id));\n            $(\"#seen-by_\" + value.last_read.message_id).prepend(ThreadTemplates.render().bobble_head(value, false));\n            value.added = true;\n            value.caught_up = false;\n          }\n          if (opt.thread.type === 1) {\n            methods.privateMainBobbleDraw(value.owner_id);\n          }\n        });\n        $(\".seen-by\").each(function () {\n          if (!$(this).children().length) $(this).remove();\n        });\n        methods.threadScrollBottom(false, false);\n      },\n      updateBobbleHead: function updateBobbleHead(owner, message) {\n        var typing = methods.locateStorageItem({\n            type: 'typing',\n            id: owner\n          }),\n          found = false;\n        if (message === null) {\n          if (typing.found && opt.storage.messages.length) {\n            message = opt.storage.messages[0].id;\n          } else {\n            message = false;\n          }\n        }\n        for (var x = 0; x < opt.storage.active_profiles.length; x++) {\n          if (opt.storage.active_profiles[x].provider_id === owner) {\n            found = true;\n            break;\n          }\n        }\n        var bobble = methods.locateStorageItem({\n            type: 'bobble',\n            id: owner\n          }),\n          i = bobble.index;\n        if (bobble.found) {\n          opt.storage.participants[i].last_read.message_id = message ? message : opt.storage.participants[i].last_read.message_id;\n          opt.storage.participants[i].added = false;\n          opt.storage.participants[i].typing = typing.found;\n          opt.storage.participants[i].caught_up = typing.found ? true : opt.storage.participants[i].caught_up;\n          opt.storage.participants[i].in_chat = typing.found || found;\n          if (typing.found) {\n            opt.storage.participants[i].owner.options.online_status = 1;\n          }\n          $(\".bobble_head_\" + owner).remove();\n          $(\".seen-by\").each(function () {\n            if (!$(this).children().length) $(this).remove();\n          });\n        }\n      },\n      checkRecentBobbleHeads: function checkRecentBobbleHeads(reload) {\n        if (reload) {\n          LoadIn.bobbleHeads();\n          return;\n        }\n        for (var i = 0; i < opt.storage.participants.length; i++) {\n          if (opt.storage.participants[i].caught_up && !opt.storage.participants[i].typing && opt.storage.messages[0].id !== opt.storage.participants[i].last_read.message_id) {\n            methods.updateBobbleHead(opt.storage.participants[i].owner_id, opt.storage.participants[i].last_read.message_id);\n          }\n        }\n        methods.drawBobbleHeads();\n      },\n      updateActiveProfile: function updateActiveProfile(owner, action) {\n        if (action === 3) {\n          for (var i = 0; i < opt.storage.active_profiles.length; i++) {\n            if (opt.storage.active_profiles[i].provider_id === owner) {\n              opt.storage.active_profiles.splice(i, 1);\n              break;\n            }\n          }\n        } else {\n          var bobble = methods.locateStorageItem({\n              type: 'bobble',\n              id: owner\n            }),\n            z = bobble.index;\n          if (bobble.found) {\n            opt.storage.participants[z].owner.options.online_status = action;\n          }\n        }\n        methods.updateBobbleHead(owner, null);\n        methods.drawBobbleHeads();\n        if (action === 3 && opt.thread.type === 1) setTimeout(LoadIn.bobbleHeads, 6000);\n      },\n      imageLoadListener: function imageLoadListener(scroll) {\n        var images = document.getElementsByClassName('msg_image'),\n          emojis = document.getElementsByClassName('joypixels'),\n          loadImage = function loadImage(e) {\n            $(e.target).siblings('.spinner-grow').remove();\n            $(e.target).removeClass('msg_image NS');\n            if (scroll) methods.threadScrollBottom(true, false);\n            if (e.type === 'error') {\n              $(e.target).replaceWith('<span class=\"badge badge-pill badge-danger\">Image failed to load.</span>');\n            }\n          },\n          loadEmoji = function loadEmoji(e) {\n            if (scroll) methods.threadScrollBottom(true, false);\n            if (e.type === 'error') $(e.target).remove();\n          };\n        [].forEach.call(images, function (img) {\n          img.addEventListener('load', loadImage, false);\n          img.addEventListener('error', loadImage, false);\n        });\n        [].forEach.call(emojis, function (img) {\n          img.addEventListener('load', loadEmoji, false);\n          img.addEventListener('error', loadEmoji, false);\n        });\n      },\n      manageRecentMessages: function manageRecentMessages() {\n        var messages_html = '';\n        opt.storage.messages.reverse().forEach(function (value, key) {\n          if (value.system_message) {\n            messages_html += ThreadTemplates.render().system_message(value);\n            return;\n          }\n          if (Messenger.isProvider(value.owner_id, value.owner_type)) {\n            if (key !== 0 && opt.storage.messages[key - 1].owner_id === value.owner_id && opt.storage.messages[key - 1].owner_type === value.owner_type && !opt.storage.messages[key - 1].system_message && !value.hasOwnProperty('reply_to') && Messenger.format().timeDiffInUnit(value.created_at, opt.storage.messages[key - 1].created_at, 'm') < 30) {\n              messages_html += ThreadTemplates.render().my_message_grouped(value);\n              return;\n            }\n            if (value.hasOwnProperty('reply_to')) {\n              messages_html += ThreadTemplates.render().my_message_reply(value);\n              return;\n            }\n            messages_html += ThreadTemplates.render().my_message(value);\n            return;\n          }\n          if (key !== 0 && opt.storage.messages[key - 1].owner_id === value.owner_id && opt.storage.messages[key - 1].owner_type === value.owner_type && !opt.storage.messages[key - 1].system_message && !value.hasOwnProperty('reply_to') && Messenger.format().timeDiffInUnit(value.created_at, opt.storage.messages[key - 1].created_at, 'm') < 30) {\n            messages_html += ThreadTemplates.render().message_grouped(value);\n            return;\n          }\n          if (value.hasOwnProperty('reply_to')) {\n            messages_html += ThreadTemplates.render().message_reply(value);\n            return;\n          }\n          messages_html += ThreadTemplates.render().message(value);\n        });\n        opt.elements.msg_stack.append(messages_html);\n        opt.storage.messages.reverse();\n        methods.imageLoadListener(true);\n        methods.drawBobbleHeads();\n        methods.threadScrollBottom(true, false);\n        if (!opt.thread.thread_history) {\n          opt.elements.msg_stack.prepend(ThreadTemplates.render().end_of_history(opt.thread.created_at));\n        }\n      },\n      manageHistoryMessages: function manageHistoryMessages(data) {\n        $(\"#loading_history_marker\").remove();\n        var messages = data.data.filter(function (value) {\n          return !methods.locateStorageItem({\n            type: 'message',\n            id: value.id\n          }).found;\n        });\n        var last_message = opt.storage.messages.length ? opt.storage.messages[opt.storage.messages.length - 1] : null;\n        var messages_html = '';\n        messages.forEach(function (value) {\n          opt.storage.messages.push(value);\n        });\n        messages.reverse();\n        messages.forEach(function (value, key) {\n          if (value.system_message) {\n            messages_html += ThreadTemplates.render().system_message(value);\n            return;\n          }\n          if (Messenger.isProvider(value.owner_id, value.owner_type)) {\n            if (key !== 0 && messages[key - 1].owner_id === value.owner_id && messages[key - 1].owner_type === value.owner_type && !messages[key - 1].system_message && !value.hasOwnProperty('reply_to') && Messenger.format().timeDiffInUnit(value.created_at, messages[key - 1].created_at, 'm') < 30) {\n              messages_html += ThreadTemplates.render().my_message_grouped(value);\n              return;\n            }\n            if (value.hasOwnProperty('reply_to')) {\n              messages_html += ThreadTemplates.render().my_message_reply(value);\n              return;\n            }\n            messages_html += ThreadTemplates.render().my_message(value);\n            return;\n          }\n          if (key !== 0 && messages[key - 1].owner_id === value.owner_id && messages[key - 1].owner_type === value.owner_type && !messages[key - 1].system_message && !value.hasOwnProperty('reply_to') && Messenger.format().timeDiffInUnit(value.created_at, messages[key - 1].created_at, 'm') < 30) {\n            messages_html += ThreadTemplates.render().message_grouped(value);\n            return;\n          }\n          if (value.hasOwnProperty('reply_to')) {\n            messages_html += ThreadTemplates.render().message_reply(value);\n            return;\n          }\n          messages_html += ThreadTemplates.render().message(value);\n        });\n        opt.elements.msg_stack.prepend(messages_html);\n        if (messages.length && last_message !== null && !last_message.system_message && !messages[messages.length - 1].system_message && !last_message.hasOwnProperty('reply_to') && !messages[messages.length - 1].hasOwnProperty('reply_to') && messages[messages.length - 1].owner_id === last_message.owner_id && messages[messages.length - 1].owner_type === last_message.owner_type) {\n          var replace_html = Messenger.isProvider(last_message.owner_id, last_message.owner_type) ? ThreadTemplates.render().my_message_grouped(last_message) : ThreadTemplates.render().message_grouped(last_message);\n          opt.elements.msg_stack.find(\"#message_\" + last_message.id).replaceWith(replace_html);\n        }\n        if (opt.elements.the_thread.prop(\"scrollTop\") === 0) {\n          if (opt.storage.messages.length && opt.storage.messages[opt.storage.messages.length - 1].id !== data.meta.page_id) {\n            document.getElementById('message_' + data.meta.page_id).scrollIntoView();\n            document.getElementById('msg_thread_' + opt.thread.id).scrollTop -= 40;\n            if (Messenger.common().mobile) window.scrollTo(0, 0);\n          } else opt.elements.the_thread.scrollTop(40);\n        }\n        methods.imageLoadListener(false);\n        methods.drawBobbleHeads();\n        if (!messages.length || data.meta.final_page) {\n          opt.thread.thread_history = false;\n          opt.thread.history_route = null;\n          opt.thread.history_id = null;\n          opt.elements.msg_stack.prepend(ThreadTemplates.render().end_of_history(opt.thread.created_at));\n        } else {\n          opt.thread.history_route = data.meta.next_page_route;\n          opt.thread.history_id = data.meta.next_page_id;\n        }\n        opt.thread.history_loading = false;\n        PageListeners.listen().tooltips();\n      },\n      initializeRecentMessages: function initializeRecentMessages(reset) {\n        var onLoad = function onLoad(data) {\n          if (data) {\n            opt.storage.messages = data.data;\n            if (data.meta.final_page) opt.thread.thread_history = false;\n          }\n          opt.elements.msg_stack.html('');\n          methods.manageRecentMessages();\n          if (opt.storage.pending_messages.length) {\n            opt.storage.pending_messages.forEach(methods.addMessage);\n            opt.storage.pending_messages = [];\n            methods.markRead();\n          }\n          if (!opt.storage.participants.length) LoadIn.bobbleHeads();\n        };\n        if (!reset && opt.storage.messages.length) {\n          onLoad();\n        } else {\n          opt.states.lock = true;\n          Messenger.xhr().request({\n            route: Messenger.common().API + 'threads/' + opt.thread.id + '/messages',\n            success: onLoad,\n            fail: function fail() {\n              opt.states.load_in_retries++;\n              if (opt.states.load_in_retries > 4) {\n                opt.elements.msg_stack.html('');\n                Messenger.alert().Alert({\n                  toast: true,\n                  theme: 'warning',\n                  title: 'We could not load in your messages at this time'\n                });\n                return;\n              }\n              methods.initializeRecentMessages();\n            }\n          });\n        }\n      },\n      loadHistory: function loadHistory() {\n        if (opt.states.lock || opt.thread.history_loading || !opt.thread.thread_history || !opt.storage.messages.length) return;\n        opt.states.lock = true;\n        opt.thread.history_loading = true;\n        opt.elements.msg_stack.prepend(ThreadTemplates.render().loading_history());\n        Messenger.xhr().request({\n          route: opt.thread.history_route,\n          success: methods.manageHistoryMessages,\n          fail: function fail() {\n            $(\"#loading_history_marker\").remove();\n          },\n          bypass: true,\n          fail_alert: true\n        });\n      },\n      isTyping: function isTyping() {\n        var time = new Date();\n        if (opt.socket.online_status_setting === 1 && opt.storage.active_profiles.length && opt.socket.chat && (time.getTime() - opt.socket.send_typing) / 1000 > 1.5) {\n          opt.socket.send_typing = time.getTime();\n          opt.socket.chat.whisper('typing', {\n            provider_id: Messenger.common().provider_id,\n            provider_alias: Messenger.common().provider_alias,\n            name: Messenger.common().name,\n            avatar: Messenger.common().avatar_sm\n          });\n        }\n      },\n      stopTyping: function stopTyping() {\n        if (opt.socket.online_status_setting === 1 && opt.storage.active_profiles.length && opt.socket.chat && opt.socket.send_typing > 0) {\n          opt.socket.send_typing = 0;\n          opt.socket.chat.whisper('stop-typing', {\n            provider_id: Messenger.common().provider_id,\n            provider_alias: Messenger.common().provider_alias,\n            name: Messenger.common().name,\n            avatar: Messenger.common().avatar_sm\n          });\n        }\n      },\n      seenMessage: function seenMessage(message) {\n        if (opt.storage.active_profiles.length && opt.socket.chat) {\n          opt.socket.chat.whisper('read', {\n            provider_id: Messenger.common().provider_id,\n            provider_alias: Messenger.common().provider_alias,\n            avatar: Messenger.common().avatar_sm,\n            message_id: message\n          });\n        }\n      },\n      sendOnlineStatus: function sendOnlineStatus(status) {\n        if (!opt.storage.active_profiles.length || !opt.socket.chat) return;\n        opt.socket.chat.whisper('online', {\n          provider_id: Messenger.common().provider_id,\n          provider_alias: Messenger.common().provider_alias,\n          name: Messenger.common().name,\n          avatar: Messenger.common().avatar_sm,\n          online_status: opt.socket.online_status_setting !== 0 ? status : 0\n        });\n      },\n      pasteImage: function pasteImage(event) {\n        if (opt.thread.type === 3) return;\n        var items = (event.clipboardData || event.originalEvent.clipboardData).items,\n          blob = null;\n        for (var i = 0; i < items.length; i++) {\n          if (items[i].type.indexOf(\"image\") === 0) {\n            blob = items[i].getAsFile();\n          }\n        }\n        if (blob !== null) {\n          var reader = new FileReader();\n          reader.onload = function (event) {\n            var file = event.target.result;\n            Messenger.alert().Modal({\n              size: 'lg',\n              theme: 'dark',\n              icon: 'image',\n              backdrop_ctrl: false,\n              title: 'Send Screenshot?',\n              body: '<img class=\"img-fluid\" src=\"' + file + '\"><canvas class=\"NS\" id=\"paste_canvas\"></canvas>',\n              cb_btn_txt: 'Send',\n              cb_btn_icon: 'cloud-upload-alt',\n              cb_btn_theme: 'success',\n              onReady: function onReady() {\n                var canvas = document.getElementById(\"paste_canvas\"),\n                  ctx = canvas.getContext(\"2d\"),\n                  image = new Image();\n                image.onload = function () {\n                  canvas.width = image.width;\n                  canvas.height = image.height;\n                  ctx.drawImage(image, 0, 0);\n                };\n                image.src = file;\n              },\n              callback: function callback() {\n                document.getElementById(\"paste_canvas\").toBlob(function (blob) {\n                  methods.sendUploadFiles(blob);\n                  $(\".modal\").modal('hide');\n                  opt.elements.message_text_input.focus();\n                }, 'image/png');\n              }\n            });\n          };\n          reader.readAsDataURL(blob);\n        }\n      },\n      sendMessage: function sendMessage() {\n        if (!opt.thread.id || opt.thread.lockout || !opt.thread.messaging) return;\n        var message_contents = opt.elements.message_text_input.val();\n        if (message_contents.trim().length) {\n          opt.elements.message_text_input.val('').focus();\n          var pending = methods.makePendingMessage(0, message_contents);\n          methods.managePendingMessage('add', pending);\n          var formData = {\n            message: message_contents,\n            temporary_id: pending.id\n          };\n          if (opt.thread.replying) {\n            formData.reply_to_id = opt.thread.reply_to_id;\n            methods.resetReplying();\n          }\n          Messenger.xhr().payload({\n            route: Messenger.common().API + 'threads/' + opt.thread.id + '/messages',\n            data: formData,\n            success: function success(x) {\n              methods.managePendingMessage('completed', pending, x);\n            },\n            fail: function fail() {\n              methods.managePendingMessage('purge', pending);\n            },\n            fail_alert: true,\n            bypass: true\n          });\n          methods.manageSendMessageButton();\n        }\n      },\n      sendUploadFiles: function sendUploadFiles(file, getType, audioMessage) {\n        var type = {};\n        if (file.type.match('image.*')) {\n          type.number = 1;\n          type.input = 'image';\n          type.path = '/images';\n        } else if (file.type.match('audio.*')) {\n          type.number = 3;\n          type.input = 'audio';\n          type.path = '/audio';\n        } else if (file.type.match('video.*')) {\n          type.number = 4;\n          type.input = 'video';\n          type.path = '/videos';\n        } else {\n          type.number = 2;\n          type.input = 'document';\n          type.path = '/documents';\n        }\n        if (getType === true) {\n          return type.input;\n        }\n        var pending = methods.makePendingMessage(type.number, null);\n        methods.managePendingMessage('add', pending);\n        var form = new FormData();\n        if (audioMessage === true) {\n          form.append(type.input, file, 'audio_message.webm');\n          form.append('extra', JSON.stringify({\n            audio_message: true\n          }));\n        } else {\n          form.append(type.input, file);\n        }\n        form.append('temporary_id', pending.id);\n        if (opt.thread.replying) {\n          form.append('reply_to_id', opt.thread.reply_to_id);\n          methods.resetReplying();\n        }\n        Messenger.xhr().payload({\n          route: Messenger.common().API + 'threads/' + opt.thread.id + type.path,\n          data: form,\n          success: function success(x) {\n            methods.managePendingMessage('completed', pending, x);\n          },\n          fail: function fail() {\n            methods.managePendingMessage('purge', pending);\n          },\n          fail_alert: true,\n          bypass: true\n        });\n      },\n      makePendingMessage: function makePendingMessage(type, body) {\n        return {\n          body: body ? Messenger.format().escapeHtml(body) : null,\n          id: uuid.v4(),\n          type: type,\n          owner_id: Messenger.common().provider_id,\n          owner_type: Messenger.common().provider_model,\n          thread_id: opt.thread.id\n        };\n      },\n      addPendingMessage: function addPendingMessage(message) {\n        if (opt.storage.pending_messages.length > 1 || opt.storage.messages.length > 1 && Messenger.isProvider(opt.storage.messages[0].owner_id, opt.storage.messages[0].owner_type) && !opt.storage.messages[0].system_message) {\n          opt.elements.pending_msg_stack.append(ThreadTemplates.render().pending_message_grouped(message));\n        } else {\n          opt.elements.pending_msg_stack.append(ThreadTemplates.render().pending_message(message));\n        }\n      },\n      managePendingMessage: function managePendingMessage(action, pending, _final) {\n        var msg_elm = $(\"#pending_message_\" + pending.id),\n          storage = methods.locateStorageItem({\n            type: 'pending_message',\n            id: pending.id\n          });\n        switch (action) {\n          case 'add':\n            opt.storage.pending_messages.push(pending);\n            methods.addPendingMessage(pending);\n            methods.messageStatusState(pending, false);\n            setTimeout(function () {\n              $(\"#pending_message_loading_\" + pending.id).show();\n            }, 1500);\n            break;\n          case 'completed':\n            msg_elm.remove();\n            if (storage.found) opt.storage.pending_messages.splice(storage.index, 1);\n            methods.addMessage(_final);\n            break;\n          case 'purge':\n            $(\"#pending_message_loading_\" + pending.id).removeClass('text-primary').addClass('text-danger').show();\n            setTimeout(function () {\n              msg_elm.remove();\n            }, 5000);\n            if (storage.found) opt.storage.pending_messages.splice(storage.index, 1);\n            break;\n        }\n      },\n      locateStorageItem: function locateStorageItem(arg) {\n        var collection,\n          term,\n          item = {\n            found: false,\n            index: 0\n          };\n        switch (arg.type) {\n          case 'message':\n            collection = opt.storage.messages;\n            term = 'id';\n            break;\n          case 'pending_message':\n            collection = opt.storage.pending_messages;\n            term = 'id';\n            break;\n          case 'thread':\n            collection = opt.storage.threads;\n            term = 'id';\n            break;\n          case 'bobble':\n            collection = opt.storage.participants;\n            term = 'owner_id';\n            break;\n          case 'typing':\n            collection = opt.storage.who_typing;\n            term = 'id';\n            break;\n          case 'bot-typing':\n            collection = opt.storage.bot_typing;\n            term = 'id';\n            break;\n        }\n        for (var i = 0; i < collection.length; i++) {\n          if (collection[i][term] === arg.id) {\n            item.found = true;\n            item.index = i;\n            break;\n          }\n        }\n        return item;\n      },\n      addMessage: function addMessage(msg) {\n        if (msg.thread_id !== opt.thread.id) return;\n        if (methods.locateStorageItem({\n          type: 'message',\n          id: msg.id\n        }).found) return;\n        if (msg.temporary_id) {\n          var pending = methods.locateStorageItem({\n            type: 'pending_message',\n            id: msg.temporary_id\n          });\n          if (pending.found) {\n            msg.temporary_id = null;\n            methods.managePendingMessage('completed', opt.storage.pending_messages[pending.index], msg);\n            return;\n          }\n        }\n        methods.updateThread(msg, false, false, true);\n        opt.storage.messages.unshift(msg);\n        methods.updateBobbleHead(msg.owner_id, msg.id);\n        if (msg.system_message) {\n          opt.elements.msg_stack.append(ThreadTemplates.render().system_message(msg));\n        } else if (msg.hasOwnProperty('reply_to')) {\n          Messenger.isProvider(msg.owner_id, msg.owner_type) ? opt.elements.msg_stack.append(ThreadTemplates.render().my_message_reply(msg)) : opt.elements.msg_stack.append(ThreadTemplates.render().message_reply(msg));\n        } else if (opt.storage.messages.length > 1 && opt.storage.messages[1].owner_id === msg.owner_id && opt.storage.messages[1].owner_type === msg.owner_type && !opt.storage.messages[1].system_message && Messenger.format().timeDiffInUnit(msg.created_at, opt.storage.messages[1].created_at, 'm') < 30) {\n          Messenger.isProvider(msg.owner_id, msg.owner_type) ? opt.elements.msg_stack.append(ThreadTemplates.render().my_message_grouped(msg)) : opt.elements.msg_stack.append(ThreadTemplates.render().message_grouped(msg));\n        } else {\n          Messenger.isProvider(msg.owner_id, msg.owner_type) ? opt.elements.msg_stack.append(ThreadTemplates.render().my_message(msg)) : opt.elements.msg_stack.append(ThreadTemplates.render().message(msg));\n        }\n        methods.messageStatusState(msg, true);\n        methods.drawBobbleHeads();\n        if (opt.timers.recent_bobble_timeout) clearTimeout(opt.timers.recent_bobble_timeout);\n        opt.timers.recent_bobble_timeout = setTimeout(function () {\n          methods.checkRecentBobbleHeads([88, 97, 98, 99].includes(msg.type));\n        }, 3000);\n      },\n      messageStatusState: function messageStatusState(message, sound) {\n        opt.thread.click_to_read = false;\n        var forceScroll = Messenger.isProvider(message.owner_id, message.owner_type) || ThreadTemplates.youtubeRegex().test(message.body) || message.type === 4,\n          didScroll = methods.threadScrollBottom(forceScroll, false),\n          hide = function hide() {\n            opt.elements.new_msg_alert.hide();\n            opt.thread.messages_unread = false;\n            opt.elements.message_container.removeClass('msg-ctnr-unread');\n          };\n        methods.imageLoadListener(didScroll);\n        if (didScroll && document.hasFocus() && (!opt.socket.is_away || opt.socket.is_away && opt.socket.online_status_setting === 2)) {\n          hide();\n          if (!Messenger.isProvider(message.owner_id, message.owner_type) || ![0, 1, 2].includes(message.type)) methods.markRead();\n        } else if (Messenger.isProvider(message.owner_id, message.owner_type)) {\n          if (![0, 1, 2].includes(message.type)) methods.markRead();\n          hide();\n        } else {\n          opt.thread.messages_unread = true;\n          opt.elements.message_container.addClass('msg-ctnr-unread');\n          if (!didScroll) {\n            opt.elements.new_msg_alert.show();\n            opt.elements.new_msg_alert.html(ThreadTemplates.render().thread_new_message_alert());\n          } else {\n            opt.thread.click_to_read = true;\n          }\n          if (sound) NotifyManager.sound('message');\n        }\n      },\n      threadCallStatus: function threadCallStatus(call, action) {\n        PageListeners.listen().disposeTooltips();\n        //incoming joined ended left\n        var thread = methods.locateStorageItem({\n            type: 'thread',\n            id: call.thread_id\n          }),\n          call_area = $(\"#thread_option_call\");\n        if (!thread.found) {\n          LoadIn.thread(call.thread_id);\n          return;\n        }\n        if (!opt.storage.threads[thread.index].has_call && ['joined', 'left', 'incoming'].includes(action)) {\n          LoadIn.thread(call.thread_id, function (data) {\n            if (opt.thread.id === call.thread_id) {\n              call_area.html(ThreadTemplates.render().thread_call_state(data));\n            }\n            PageListeners.listen().tooltips();\n          });\n          return;\n        }\n        if (opt.storage.threads[thread.index].has_call) {\n          if (action === 'ended') {\n            delete opt.storage.threads[thread.index].resources.active_call;\n            opt.storage.threads[thread.index].has_call = false;\n          } else if (action === 'joined') {\n            opt.storage.threads[thread.index].resources.active_call.options.in_call = true;\n            opt.storage.threads[thread.index].resources.active_call.options.joined = true;\n            opt.storage.threads[thread.index].resources.active_call.options.left_call = false;\n          } else if (action === 'left') {\n            opt.storage.threads[thread.index].resources.active_call.options.in_call = false;\n            opt.storage.threads[thread.index].resources.active_call.options.joined = true;\n            opt.storage.threads[thread.index].resources.active_call.options.left_call = true;\n          }\n          var temp = opt.storage.threads[thread.index];\n          opt.storage.threads.splice(thread.index, 1);\n          opt.storage.threads.unshift(temp);\n          methods.addThread(temp, true);\n          if (opt.thread.id === call.thread_id) {\n            if (action === 'ended') {\n              opt.thread.can_call ? call_area.html(ThreadTemplates.render().thread_call_state(temp)) : call_area.html('');\n            } else {\n              call_area.html(ThreadTemplates.render().thread_call_state(temp));\n            }\n          }\n          PageListeners.listen().tooltips();\n        } else {\n          LoadIn.thread(call.thread_id, function (data) {\n            if (opt.thread.id === call.thread_id) {\n              opt.thread.can_call ? call_area.html(ThreadTemplates.render().thread_call_state(data)) : call_area.html('');\n            }\n            PageListeners.listen().tooltips();\n          });\n        }\n      },\n      threadOnlineStatus: function threadOnlineStatus(state) {\n        if (opt.thread.type !== 1) return;\n        var thread = methods.locateStorageItem({\n          type: 'thread',\n          id: opt.thread.id\n        });\n        if (thread.found) {\n          opt.storage.threads[thread.index].resources.recipient.options.online_status = state;\n          methods.addThread(opt.storage.threads[thread.index], false);\n        }\n      },\n      removeThread: function removeThread(thread_id) {\n        var the_thread = methods.locateStorageItem({\n            type: 'thread',\n            id: thread_id\n          }),\n          elm = $(\"#thread_list_\" + thread_id);\n        if (the_thread.found) {\n          opt.storage.threads.splice(the_thread.index, 1);\n        }\n        elm.remove();\n        methods.calcUnreadThreads();\n      },\n      updateThread: function updateThread(data, thread, read, top) {\n        var the_thread = methods.locateStorageItem({\n          type: 'thread',\n          id: thread ? data.id : data.thread_id\n        });\n        if (!the_thread.found) {\n          if (thread) {\n            opt.storage.threads.unshift(data);\n            methods.addThread(data, true);\n          } else if (\"thread_id\" in data) {\n            LoadIn.thread(data.thread_id);\n          } else {\n            LoadIn.threads();\n          }\n          return;\n        }\n        if (read) {\n          opt.storage.threads[the_thread.index].unread = false;\n          opt.storage.threads[the_thread.index].unread_count = 0;\n          methods.addThread(opt.storage.threads[the_thread.index], top);\n          return;\n        }\n        if (thread) {\n          opt.storage.threads[the_thread.index] = data;\n          methods.addThread(data, top);\n          return;\n        }\n        var temp = opt.storage.threads[the_thread.index];\n        opt.storage.threads.splice(the_thread.index, 1);\n        temp.resources.latest_message = data;\n        temp.updated_at = data.created_at;\n        if (temp.type === 1 && data.thread_id !== opt.thread.id && !Messenger.isProvider(data.owner_id, data.owner_type)) temp.resources.recipient.options.online_status = 1;\n        if (temp.type === 1 && data.thread_id === opt.thread.id && !Messenger.isProvider(data.owner_id, data.owner_type)) {\n          var bobble = methods.locateStorageItem({\n              type: 'bobble',\n              id: data.owner_id\n            }),\n            i = bobble.index;\n          if (bobble.found) {\n            temp.resources.recipient.options.online_status = opt.storage.participants[i].owner.options.online_status;\n          }\n        }\n        if (Messenger.isProvider(data.owner_id, data.owner_type)) {\n          temp.unread = false;\n          temp.unread_count = 0;\n        } else if (opt.thread.id !== data.thread_id || !document.hasFocus() || opt.socket.is_away || !methods.threadScrollBottom(false, true)) {\n          temp.unread = true;\n          temp.unread_count = temp.unread_count + 1;\n        } else {\n          temp.unread = false;\n          temp.unread_count = 0;\n        }\n        opt.storage.threads.unshift(temp);\n        methods.addThread(temp, top);\n      },\n      addThread: function addThread(data, top) {\n        methods.calcUnreadThreads();\n        if (!opt.elements.thread_area.length) return;\n        if (opt.states.thread_filtered) {\n          methods.drawThreads();\n          return;\n        }\n        methods.checkShowThreadSearch();\n        $(\"#no_message_warning\").remove();\n        var thread_elm = opt.elements.thread_area.find('#thread_list_' + data.id),\n          selected = data.id === opt.thread.id;\n        if (selected) {\n          opt.elements.thread_area.find('.thread_list_item').removeClass('alert-warning shadow-sm rounded');\n          opt.elements.thread_area.find('.thread-group-avatar').removeClass('avatar-is-online').addClass('avatar-is-offline');\n        }\n        if (top || !thread_elm.length) {\n          thread_elm.remove();\n          opt.elements.thread_area.prepend(data.type === 2 ? ThreadTemplates.render().group_thread(data, selected) : ThreadTemplates.render().private_thread(data, selected));\n        } else {\n          thread_elm.replaceWith(data.type === 2 ? ThreadTemplates.render().group_thread(data, selected) : ThreadTemplates.render().private_thread(data, selected));\n        }\n      },\n      drawThreads: function drawThreads() {\n        methods.checkShowThreadSearch();\n        opt.elements.thread_area.html('');\n        if (!opt.states.thread_filtered) {\n          opt.storage.threads.forEach(function (value) {\n            opt.elements.thread_area.append(value.group ? ThreadTemplates.render().group_thread(value, value.id === opt.thread.id) : ThreadTemplates.render().private_thread(value, value.id === opt.thread.id));\n          });\n          return;\n        }\n        var filtered = opt.storage.threads.filter(function (thread) {\n          return thread.name.toLowerCase().includes(opt.states.thread_filter_search.toLowerCase());\n        });\n        if (filtered.length) {\n          filtered.forEach(function (value) {\n            opt.elements.thread_area.append(value.group ? ThreadTemplates.render().group_thread(value, value.id === opt.thread.id) : ThreadTemplates.render().private_thread(value, value.id === opt.thread.id));\n          });\n          return;\n        }\n        opt.elements.thread_area.html('<h4 id=\"no_message_warning\" class=\"text-center mt-4\"><span class=\"badge badge-pill badge-secondary\"><i class=\"fas fa-comment-slash\"></i> No matches</span></h4>');\n      },\n      checkThreadFilters: function checkThreadFilters(e) {\n        if (e && e.type === 'mouseup') {\n          setTimeout(methods.checkThreadFilters, 0);\n          return;\n        }\n        var filtered = opt.states.thread_filtered,\n          search = opt.states.thread_filter_search;\n        if (opt.elements.thread_search_input.val().trim().length) {\n          opt.states.thread_filtered = true;\n          opt.states.thread_filter_search = opt.elements.thread_search_input.val();\n          if (search !== opt.states.thread_filter_search) methods.drawThreads();\n        } else {\n          opt.states.thread_filtered = false;\n          opt.states.thread_filter_search = null;\n          if (filtered) methods.drawThreads();\n        }\n      },\n      checkShowThreadSearch: function checkShowThreadSearch() {\n        if (!opt.storage.threads.length) {\n          opt.elements.thread_search_bar.hide();\n          return;\n        }\n        opt.elements.thread_search_bar.show();\n      },\n      calcUnreadThreads: function calcUnreadThreads() {\n        var unread = 0;\n        opt.storage.threads.forEach(function (thread) {\n          if (thread.unread && thread.unread_count > 0) unread++;\n        });\n        NotifyManager.updateMessageCount({\n          total_unread: unread\n        });\n      },\n      editMessage: function editMessage(arg) {\n        if (!opt.thread.id) return;\n        var messageStorage = methods.locateStorageItem({\n            type: 'message',\n            id: arg.id\n          }),\n          i = messageStorage.index,\n          msg = $(\"#message_\" + arg.id);\n        if (messageStorage.found && Messenger.isProvider(opt.storage.messages[i].owner_id, opt.storage.messages[i].owner_type)) {\n          msg.find('.message-body').addClass('shadow-success');\n          Messenger.alert().Modal({\n            icon: 'edit',\n            theme: 'dark',\n            title: 'Editing Message',\n            h4: false,\n            backdrop_ctrl: false,\n            unlock_buttons: false,\n            body: ThreadTemplates.render().edit_message(Messenger.format().shortcodeToUnicode(opt.storage.messages[i].body)),\n            cb_btn_txt: 'Update',\n            cb_btn_icon: 'edit',\n            cb_btn_theme: 'success',\n            onReady: function onReady() {\n              setTimeout(function () {\n                Messenger.format().focusEnd(document.getElementById('edit_message_textarea'));\n                PageListeners.listen().tooltips();\n              }, 500);\n            },\n            callback: function callback() {\n              methods.updateMessage(arg);\n            },\n            onClosed: function onClosed() {\n              msg.find('.message-body').removeClass('shadow-success');\n            }\n          });\n        }\n      },\n      replyToMessage: function replyToMessage(arg) {\n        if (!opt.thread.id) return;\n        if (opt.thread.replying) {\n          methods.resetReplying();\n        }\n        var messageStorage = methods.locateStorageItem({\n            type: 'message',\n            id: arg.id\n          }),\n          i = messageStorage.index,\n          msg = $(\"#message_\" + arg.id),\n          focus_input = document.getElementById('message_text_input');\n        if (messageStorage.found && !opt.storage.messages[i].system_message) {\n          msg.find('.message-body').addClass('shadow-primary');\n          opt.elements.reply_message_alert.show();\n          opt.elements.reply_message_alert.html(ThreadTemplates.render().thread_replying_message_alert(opt.storage.messages[i]));\n          opt.thread.replying = true;\n          opt.thread.reply_to_id = arg.id;\n          Messenger.format().focusEnd(focus_input);\n        }\n      },\n      resetReplying: function resetReplying() {\n        if (!opt.thread.id || !opt.thread.replying) return;\n        var msg = $(\"#message_\" + opt.thread.reply_to_id);\n        opt.elements.reply_message_alert.hide();\n        opt.elements.reply_message_alert.html('');\n        opt.thread.replying = false;\n        opt.thread.reply_to_id = null;\n        msg.find('.message-body').removeClass('shadow-primary');\n      },\n      updateMessage: function updateMessage(arg) {\n        var textarea = $(\"#edit_message_textarea\");\n        textarea.prop('disabled', true);\n        Messenger.xhr().payload({\n          route: Messenger.common().API + 'threads/' + opt.thread.id + '/messages/' + arg.id,\n          data: {\n            message: textarea.val()\n          },\n          success: function success(message) {\n            methods.renderUpdatedMessage(message, true);\n          },\n          close_modal: true,\n          fail_alert: true\n        }, 'put');\n      },\n      renderUpdatedMessage: function renderUpdatedMessage(message, force) {\n        if (force === true && Messenger.isProvider(message.owner_id, message.owner_type)) {\n          return;\n        }\n        var msg = $(\"#message_\" + message.id),\n          messageStorage = methods.locateStorageItem({\n            type: 'message',\n            id: message.id\n          }),\n          i = messageStorage.index;\n        if (messageStorage.found) {\n          opt.storage.messages[i] = message;\n        }\n        if (msg.length) {\n          if (message.hasOwnProperty('reply_to')) {\n            msg.replaceWith(Messenger.isProvider(message.owner_id, message.owner_type) ? ThreadTemplates.render().my_message_reply(message) : ThreadTemplates.render().message_reply(message));\n          } else {\n            msg.find('.message-text').html(ThreadTemplates.render().message_body(message));\n          }\n        }\n      },\n      addNewReaction: function addNewReaction(arg) {\n        if (!opt.thread.id) return;\n        Messenger.xhr().payload({\n          route: Messenger.common().API + 'threads/' + opt.thread.id + '/messages/' + arg.message_id + '/reactions',\n          data: {\n            reaction: arg.emoji\n          },\n          fail_alert: true\n        });\n      },\n      removeReaction: function removeReaction(arg, removeLi) {\n        if (!opt.thread.id) return;\n        Messenger.xhr().payload({\n          route: Messenger.common().API + 'threads/' + opt.thread.id + '/messages/' + arg.message_id + '/reactions/' + arg.id,\n          data: {},\n          success: function success() {\n            if (removeLi === true) {\n              var reactLi = $(\"#react_li_item_\" + arg.id);\n              if (reactLi.length) {\n                reactLi.remove();\n              }\n            }\n          },\n          fail_alert: true\n        }, 'delete');\n      },\n      updateNewReaction: function updateNewReaction(reaction) {\n        var messageStorage = methods.locateStorageItem({\n            type: 'message',\n            id: reaction.message_id\n          }),\n          i = messageStorage.index;\n        if (messageStorage.found) {\n          if (opt.storage.messages[i].hasOwnProperty('reactions')) {\n            if (opt.storage.messages[i].reactions.data.hasOwnProperty(reaction.reaction)) {\n              opt.storage.messages[i].reactions.data[reaction.reaction].push(reaction);\n            } else {\n              opt.storage.messages[i].reactions.data[reaction.reaction] = [reaction];\n              opt.storage.messages[i].reactions.meta.total_unique = Object.keys(opt.storage.messages[i].reactions.data).length;\n            }\n            opt.storage.messages[i].reactions.meta.total = opt.storage.messages[i].reactions.meta.total + 1;\n          } else {\n            opt.storage.messages[i].reacted = true;\n            opt.storage.messages[i].reactions = {\n              data: {},\n              meta: {\n                total: 1,\n                total_unique: 1\n              }\n            };\n            opt.storage.messages[i].reactions.data[reaction.reaction] = [reaction];\n          }\n          methods.drawReactions(opt.storage.messages[i]);\n        }\n      },\n      updateRemoveReaction: function updateRemoveReaction(reaction) {\n        var messageStorage = methods.locateStorageItem({\n            type: 'message',\n            id: reaction.message_id\n          }),\n          i = messageStorage.index;\n        if (messageStorage.found && opt.storage.messages[i].hasOwnProperty('reactions')) {\n          if (opt.storage.messages[i].reactions.data.hasOwnProperty(reaction.reaction)) {\n            for (var y = 0; y < opt.storage.messages[i].reactions.data[reaction.reaction].length; y++) {\n              if (opt.storage.messages[i].reactions.data[reaction.reaction][y].id === reaction.id) {\n                opt.storage.messages[i].reactions.data[reaction.reaction].splice(y, 1);\n                break;\n              }\n            }\n            if (!opt.storage.messages[i].reactions.data[reaction.reaction].length) {\n              delete opt.storage.messages[i].reactions.data[reaction.reaction];\n            }\n            var unique = Object.keys(opt.storage.messages[i].reactions.data).length;\n            if (!unique) {\n              delete opt.storage.messages[i].reactions;\n              opt.storage.messages[i].reacted = false;\n            } else {\n              opt.storage.messages[i].reactions.meta.total_unique = unique;\n              opt.storage.messages[i].reactions.meta.total = opt.storage.messages[i].reactions.meta.total - 1;\n            }\n          }\n          methods.drawReactions(opt.storage.messages[i]);\n        }\n      },\n      drawReactions: function drawReactions(message) {\n        var msg = $(\"#message_\" + message.id);\n        if (msg.length) {\n          msg.find('.reactions').html(ThreadTemplates.render().message_reactions(message, msg.hasClass('my-message'), msg.hasClass('grouped-message')));\n          methods.threadScrollBottom(false, false);\n          PageListeners.listen().tooltips();\n        }\n      }\n    },\n    _archive = {\n      Message: function Message(arg) {\n        if (!opt.thread.id) return;\n        var msg = $(\"#message_\" + arg.id);\n        msg.find('.message-body').addClass('shadow-warning');\n        Messenger.alert().Modal({\n          size: 'sm',\n          body: false,\n          centered: true,\n          unlock_buttons: false,\n          title: 'Delete message?',\n          theme: 'danger',\n          cb_btn_txt: 'Delete',\n          cb_btn_theme: 'danger',\n          cb_btn_icon: 'trash',\n          icon: 'trash',\n          cb_close: true,\n          callback: function callback() {\n            Messenger.xhr().payload({\n              route: Messenger.common().API + 'threads/' + opt.thread.id + '/messages/' + arg.id,\n              data: {},\n              success: function success() {\n                Messenger.alert().Alert({\n                  title: 'Message Removed',\n                  toast: true,\n                  theme: 'warning'\n                });\n                methods.purgeMessage(arg.id);\n                msg.remove();\n              },\n              fail_alert: true\n            }, 'delete');\n          },\n          onClosed: function onClosed() {\n            msg.find('.message-body').removeClass('shadow-warning');\n          }\n        });\n      },\n      Thread: function Thread() {\n        if (!opt.thread.id) return;\n        Messenger.alert().Modal({\n          theme: 'danger',\n          icon: 'trash',\n          backdrop_ctrl: false,\n          pre_loader: true,\n          title: 'Checking delete...',\n          cb_btn_txt: 'Delete',\n          cb_btn_icon: 'trash',\n          cb_btn_theme: 'danger',\n          onReady: function onReady() {\n            Messenger.xhr().request({\n              route: Messenger.common().API + 'threads/' + opt.thread.id + '/check-archive',\n              success: function success(data) {\n                Messenger.alert().fillModal({\n                  body: ThreadTemplates.render().archive_thread_warning(data),\n                  title: ' Delete Conversation?'\n                });\n              },\n              fail: Messenger.alert().destroyModal,\n              bypass: true,\n              fail_alert: true\n            });\n          },\n          callback: _archive.postArchiveThread\n        });\n      },\n      postArchiveThread: function postArchiveThread() {\n        if (opt.states.lock) return;\n        opt.states.lock = true;\n        Messenger.xhr().payload({\n          route: Messenger.common().API + 'threads/' + opt.thread.id,\n          shared: {\n            thread_id: opt.thread.id,\n            name: opt.thread.name,\n            type: opt.thread.type\n          },\n          data: {},\n          success: function success(data) {\n            LoadIn.closeOpened(true);\n            var msg = \"You removed the conversation between you and \" + data.name;\n            if (data.type === 2) {\n              msg = \"You removed the group conversation \" + data.name;\n            }\n            Messenger.alert().Alert({\n              title: msg,\n              theme: 'success',\n              toast: true\n            });\n          },\n          fail_alert: true,\n          close_modal: true\n        }, 'delete');\n      }\n    },\n    groups = {\n      viewParticipants: function viewParticipants(reload) {\n        var gather = function gather() {\n          Messenger.xhr().request({\n            route: Messenger.common().API + 'threads/' + opt.thread.id + '/participants',\n            success: function success(data) {\n              Messenger.alert().fillModal({\n                body: ThreadTemplates.render().group_participants(data.data, opt.thread.admin, opt.thread.lockout),\n                title: opt.thread.name + ' Participants'\n              });\n              methods.loadDataTable($(\"#view_group_participants\"));\n            },\n            fail_alert: true\n          });\n        };\n        if (reload) return gather();\n        var modal = {\n          icon: 'users',\n          backdrop_ctrl: false,\n          theme: 'dark',\n          title: 'Loading Participants...',\n          pre_loader: true,\n          overflow: true,\n          unlock_buttons: false,\n          h4: false,\n          size: 'lg',\n          onReady: gather\n        };\n        if (!opt.thread.lockout && opt.thread._thread.options.add_participants) {\n          modal.cb_btn_txt = 'Add Participants';\n          modal.cb_btn_icon = 'user-plus';\n          modal.cb_btn_theme = 'success';\n          modal.callback = groups.addParticipants;\n        }\n        Messenger.alert().Modal(modal);\n      },\n      viewInviteGenerator: function viewInviteGenerator() {\n        Messenger.alert().Modal({\n          backdrop_ctrl: false,\n          icon: 'link',\n          theme: 'dark',\n          title: 'Loading Invite...',\n          pre_loader: true,\n          overflow: true,\n          unlock_buttons: false,\n          h4: false,\n          onReady: function onReady() {\n            Messenger.xhr().request({\n              route: Messenger.common().API + 'threads/' + opt.thread.id + '/invites',\n              success: groups.manageInviteGenPage,\n              fail_alert: true\n            });\n          }\n        });\n      },\n      manageInviteGenPage: function manageInviteGenPage(data) {\n        var generate_click = function generate_click() {\n            $(\"#grp_inv_generate_btn\").click(groups.generateInviteLink);\n          },\n          name = CallManager.state().initialized ? CallManager.state().thread_name : opt.thread.name;\n        if (data.data.length) {\n          Messenger.alert().fillModal({\n            body: ThreadTemplates.render().thread_show_invite(data.data),\n            title: name + ' Invite Generator'\n          });\n          var btn_switch = $(\"#grp_inv_switch_generate_btn\");\n          btn_switch.click(function () {\n            Messenger.alert().fillModal({\n              body: ThreadTemplates.render().thread_generate_invite(true)\n            });\n            generate_click();\n            $(\"#grp_inv_back_btn\").click(function () {\n              groups.manageInviteGenPage(data);\n            });\n          });\n        } else {\n          Messenger.alert().fillModal({\n            body: ThreadTemplates.render().thread_generate_invite(false),\n            title: name + ' Invite Generator'\n          });\n          generate_click();\n        }\n      },\n      generateInviteLink: function generateInviteLink() {\n        var expire = parseInt($(\"#grp_inv_expires\").val()),\n          uses = parseInt($(\"#grp_inv_uses\").val()),\n          thread = CallManager.state().initialized ? CallManager.state().thread_id : opt.thread.id,\n          expires_at = null;\n        switch (expire) {\n          case 1:\n            expires_at = dayjs().utc().add(30, 'minute').format('YYYY-MM-DD HH:mm:ss');\n            break;\n          case 2:\n            expires_at = dayjs().utc().add(1, 'hour').format('YYYY-MM-DD HH:mm:ss');\n            break;\n          case 3:\n            expires_at = dayjs().utc().add(6, 'hour').format('YYYY-MM-DD HH:mm:ss');\n            break;\n          case 4:\n            expires_at = dayjs().utc().add(12, 'hour').format('YYYY-MM-DD HH:mm:ss');\n            break;\n          case 5:\n            expires_at = dayjs().utc().add(1, 'day').format('YYYY-MM-DD HH:mm:ss');\n            break;\n          case 6:\n            expires_at = dayjs().utc().add(1, 'week').format('YYYY-MM-DD HH:mm:ss');\n            break;\n          case 7:\n            expires_at = dayjs().utc().add(2, 'week').format('YYYY-MM-DD HH:mm:ss');\n            break;\n          case 8:\n            expires_at = dayjs().utc().add(1, 'month').format('YYYY-MM-DD HH:mm:ss');\n            break;\n        }\n        Messenger.alert().fillModal({\n          loader: true,\n          body: null,\n          title: 'Generating...'\n        });\n        Messenger.xhr().payload({\n          route: Messenger.common().API + 'threads/' + thread + '/invites',\n          data: {\n            expires: expires_at,\n            uses: uses\n          },\n          success: groups.viewInviteGenerator,\n          fail: groups.viewInviteGenerator,\n          bypass: true,\n          fail_alert: true\n        });\n      },\n      removeInviteLink: function removeInviteLink(id) {\n        var thread = CallManager.state().initialized ? CallManager.state().thread_id : opt.thread.id;\n        Messenger.button().addLoader({\n          id: '#inv_remove_btn_' + id\n        });\n        Messenger.xhr().payload({\n          route: Messenger.common().API + 'threads/' + thread + '/invites/' + id,\n          data: {},\n          success: groups.viewInviteGenerator,\n          fail: groups.viewInviteGenerator,\n          bypass: true,\n          fail_alert: true\n        }, 'delete');\n      },\n      addParticipants: function addParticipants() {\n        var thread = CallManager.state().initialized ? CallManager.state().thread_id : opt.thread.id,\n          name = CallManager.state().initialized ? CallManager.state().thread_name : opt.thread.name;\n        Messenger.alert().Modal({\n          icon: 'user-plus',\n          backdrop_ctrl: false,\n          theme: 'dark',\n          title: 'Loading friends...',\n          pre_loader: true,\n          cb_btn_txt: 'Add participants',\n          cb_btn_icon: 'plus-square',\n          cb_btn_theme: 'success',\n          overflow: true,\n          h4: false,\n          size: 'lg',\n          unlock_buttons: false,\n          onReady: function onReady() {\n            Messenger.xhr().request({\n              route: Messenger.common().API + 'threads/' + thread + '/add-participants',\n              success: function success(data) {\n                Messenger.alert().fillModal({\n                  body: ThreadTemplates.render().group_add_participants(data),\n                  title: 'Add friends to ' + name\n                });\n                methods.loadDataTable($(\"#add_group_participants\"));\n              },\n              fail_alert: true\n            });\n          },\n          callback: function callback() {\n            var providers = [];\n            if (opt.elements.data_table) {\n              opt.elements.data_table.$('input[type=\"checkbox\"]:checked').map(function (key, value) {\n                providers.push({\n                  alias: value.dataset.providerAlias,\n                  id: value.dataset.providerId\n                });\n              });\n            }\n            Messenger.xhr().payload({\n              route: Messenger.common().API + 'threads/' + thread + '/participants',\n              data: {\n                providers: providers.length ? providers : null\n              },\n              success: function success(data) {\n                if (data.length) {\n                  Messenger.alert().Alert({\n                    title: 'Participants added!',\n                    toast: true\n                  });\n                } else {\n                  Messenger.alert().Alert({\n                    title: 'No valid participants found to add.',\n                    theme: 'error',\n                    toast: true\n                  });\n                }\n              },\n              fail_alert: true,\n              close_modal: true\n            });\n          }\n        });\n      },\n      viewSettings: function viewSettings() {\n        if (opt.states.lock) return;\n        opt.states.lock = true;\n        Messenger.alert().Modal({\n          icon: 'cog',\n          theme: 'dark',\n          title: 'Loading Settings...',\n          pre_loader: true,\n          h4: false,\n          backdrop_ctrl: false,\n          unlock_buttons: false,\n          cb_btn_txt: 'Save Settings',\n          cb_btn_icon: 'save',\n          cb_btn_theme: 'success',\n          onReady: function onReady() {\n            Messenger.xhr().request({\n              route: Messenger.common().API + 'threads/' + opt.thread.id + '/settings',\n              success: function success(data) {\n                Messenger.alert().fillModal({\n                  title: opt.thread.name + ' Settings',\n                  body: ThreadTemplates.render().group_settings(data)\n                });\n                PageListeners.listen().tooltips();\n                $(\".m_setting_toggle\").change(function () {\n                  $(this).is(':checked') ? $(this).closest('tr').addClass('alert-success') : $(this).closest('tr').removeClass('alert-success');\n                });\n              },\n              fail_alert: true\n            });\n          },\n          callback: groups.saveSettings\n        });\n      },\n      saveSettings: function saveSettings() {\n        Messenger.xhr().payload({\n          route: Messenger.common().API + 'threads/' + opt.thread.id + '/settings',\n          data: {\n            subject: $('#g_s_group_subject').val(),\n            add_participants: $(\"#g_s_add_participants\").is(\":checked\"),\n            invitations: $(\"#g_s_invitations\").is(\":checked\"),\n            calling: $(\"#g_s_admin_call\").is(\":checked\"),\n            messaging: $(\"#g_s_send_message\").is(\":checked\"),\n            knocks: $(\"#g_s_knocks\").is(\":checked\"),\n            chat_bots: $(\"#g_s_bots\").is(\":checked\")\n          },\n          success: function success(data) {\n            Messenger.alert().Alert({\n              title: 'You updated ' + data.name + '\\'s Settings.',\n              toast: true\n            });\n          },\n          fail_alert: true,\n          close_modal: true\n        }, 'put');\n      },\n      removeGroupAvatar: function removeGroupAvatar() {\n        Messenger.alert().fillModal({\n          loader: true,\n          no_close: true,\n          body: null,\n          title: 'Uploading...'\n        });\n        Messenger.xhr().payload({\n          route: Messenger.common().API + 'threads/' + opt.thread.id + '/avatar',\n          data: {},\n          success: function success(data) {\n            Messenger.alert().Alert({\n              title: 'You removed ' + data.name + '\\'s avatar.',\n              toast: true\n            });\n          },\n          close_modal: true,\n          fail_alert: true\n        }, 'delete');\n      },\n      removeParticipant: function removeParticipant(x) {\n        if (opt.states.lock) return;\n        opt.states.lock = true;\n        Messenger.xhr().payload({\n          route: Messenger.common().API + 'threads/' + opt.thread.id + '/participants/' + x,\n          data: {},\n          success: function success(data) {\n            Messenger.alert().Alert({\n              title: \"Participant removed\",\n              toast: true,\n              theme: 'success'\n            });\n            opt.elements.data_table.row($('#row_' + x)).remove().draw(false);\n          },\n          fail_alert: true\n        }, 'delete');\n      },\n      promoteAdmin: function promoteAdmin(participant) {\n        if (opt.states.lock) return;\n        opt.states.lock = true;\n        Messenger.alert().fillModal({\n          loader: true\n        });\n        Messenger.xhr().payload({\n          route: Messenger.common().API + 'threads/' + opt.thread.id + '/participants/' + participant + '/promote',\n          data: {},\n          success: function success(data) {\n            groups.viewParticipants(true);\n          },\n          fail_alert: true\n        });\n      },\n      demoteAdmin: function demoteAdmin(participant) {\n        if (opt.states.lock) return;\n        opt.states.lock = true;\n        Messenger.alert().fillModal({\n          loader: true\n        });\n        Messenger.xhr().payload({\n          route: Messenger.common().API + 'threads/' + opt.thread.id + '/participants/' + participant + '/demote',\n          data: {},\n          success: function success(data) {\n            groups.viewParticipants(true);\n          },\n          fail_alert: true\n        });\n      },\n      participantPermissionsView: function participantPermissionsView(participant_id) {\n        if (opt.states.lock) return;\n        opt.states.lock = true;\n        Messenger.alert().Modal({\n          icon: 'user-cog',\n          theme: 'dark',\n          title: 'Loading Permissions...',\n          pre_loader: true,\n          h4: false,\n          backdrop_ctrl: false,\n          unlock_buttons: false,\n          cb_btn_txt: 'Save Permissions',\n          cb_btn_icon: 'save',\n          cb_btn_theme: 'success',\n          onReady: function onReady() {\n            Messenger.xhr().request({\n              route: Messenger.common().API + 'threads/' + opt.thread.id + '/participants/' + participant_id,\n              success: function success(participant) {\n                Messenger.alert().fillModal({\n                  title: participant.owner.name + ' Permissions',\n                  body: ThreadTemplates.render().participant_permissions(participant)\n                });\n                PageListeners.listen().tooltips();\n                $(\".m_setting_toggle\").change(function () {\n                  $(this).is(':checked') ? $(this).closest('tr').addClass('bg-light') : $(this).closest('tr').removeClass('bg-light');\n                });\n              },\n              fail_alert: true\n            });\n          },\n          callback: function callback() {\n            groups.participantPermissionSave(participant_id);\n          }\n        });\n      },\n      participantPermissionSave: function participantPermissionSave(participant_id) {\n        Messenger.xhr().payload({\n          route: Messenger.common().API + 'threads/' + opt.thread.id + '/participants/' + participant_id,\n          data: {\n            add_participants: $(\"#p_add_participants\").is(\":checked\"),\n            manage_invites: $(\"#p_manage_invites\").is(\":checked\"),\n            send_messages: $(\"#p_send_messages\").is(\":checked\"),\n            send_knocks: $(\"#p_send_knocks\").is(\":checked\"),\n            start_calls: $(\"#p_start_calls\").is(\":checked\"),\n            manage_bots: $(\"#p_manage_bots\").is(\":checked\")\n          },\n          success: function success(participant) {\n            Messenger.alert().Alert({\n              title: 'You updated ' + participant.owner.name + '\\'s permissions.',\n              toast: true\n            });\n          },\n          fail_alert: true,\n          close_modal: true\n        }, 'put');\n      },\n      leaveGroup: function leaveGroup() {\n        Messenger.alert().Modal({\n          icon: 'sign-out-alt',\n          backdrop_ctrl: false,\n          centered: true,\n          size: 'sm',\n          h4: false,\n          theme: 'danger',\n          title: 'Leave Group?',\n          body: '<span class=\"h5 font-weight-bold\">Are you sure you want to leave ' + opt.thread.name + '?</span>',\n          cb_btn_txt: 'Leave',\n          cb_btn_icon: 'sign-out-alt',\n          cb_btn_theme: 'danger',\n          callback: function callback() {\n            Messenger.xhr().payload({\n              route: Messenger.common().API + 'threads/' + opt.thread.id + '/leave',\n              shared: {\n                thread_id: opt.thread.id,\n                name: opt.thread.name\n              },\n              data: {},\n              success: function success(data) {\n                LoadIn.closeOpened();\n                methods.removeThread(data.thread_id);\n                Messenger.alert().Alert({\n                  title: \"You left \" + data.name,\n                  toast: true,\n                  theme: 'success'\n                });\n              },\n              fail_alert: true,\n              close_modal: true\n            });\n          }\n        });\n      }\n    },\n    new_forms = {\n      newGroup: function newGroup() {\n        var subject = $(\"#subject\").val(),\n          providers = [];\n        if (opt.states.lock || !subject.trim().length) return;\n        opt.states.lock = true;\n        opt.elements.message_container.html(ThreadTemplates.render().loading_thread_base());\n        if (opt.elements.data_table) {\n          opt.elements.data_table.$('input[type=\"checkbox\"]:checked').map(function (key, value) {\n            providers.push({\n              alias: value.dataset.providerAlias,\n              id: value.dataset.providerId\n            });\n          });\n        }\n        Messenger.xhr().payload({\n          route: Messenger.common().API + 'groups',\n          data: {\n            providers: providers.length ? providers : null,\n            subject: subject\n          },\n          success: function success(x) {\n            mounted.reset(true);\n            methods.initiateGroup({\n              \"new\": true\n            }, x, false);\n          },\n          fail: LoadIn.closeOpened,\n          fail_alert: true,\n          bypass: true\n        });\n      },\n      newPrivate: function newPrivate(isFile, voiceMessage, audio) {\n        if (opt.states.lock) return;\n        var form = new FormData(),\n          message_contents = opt.elements.message_text_input.val();\n        if (isFile === true) {\n          var file = opt.elements.doc_file[0].files[0];\n          var type = methods.sendUploadFiles(file, true);\n          form.append(type, file);\n        } else if (voiceMessage === true) {\n          form.append('audio', audio, 'audio_message.webm');\n          form.append('extra', JSON.stringify({\n            audio_message: true\n          }));\n        } else {\n          if (!message_contents.trim().length) return;\n          form.append('message', message_contents);\n          opt.elements.message_text_input.val('').focus();\n        }\n        form.append('recipient_id', opt.storage.temp_data.provider_id);\n        form.append('recipient_alias', opt.storage.temp_data.provider_alias);\n        opt.states.lock = true;\n        opt.elements.message_container.html(ThreadTemplates.render().loading_thread_base());\n        Messenger.xhr().payload({\n          route: Messenger.common().API + 'privates',\n          data: form,\n          success: function success(x) {\n            mounted.reset(true);\n            methods.initiatePrivate({\n              \"new\": true\n            }, x, false);\n          },\n          fail: LoadIn.closeOpened,\n          fail_alert: true,\n          bypass: true\n        });\n      },\n      threadApproval: function threadApproval(approve) {\n        if (opt.states.lock || !opt.thread.id) return;\n        opt.states.lock = true;\n        Messenger.button().addLoader({\n          id: approve ? '#thread_approval_accept_btn' : '#thread_approval_deny_btn'\n        });\n        Messenger.xhr().payload({\n          route: Messenger.common().API + 'threads/' + opt.thread.id + '/approval',\n          data: {\n            approve: approve\n          },\n          success: function success(x) {\n            Messenger.alert().Alert({\n              title: \"You \" + (approve ? 'approved' : 'denied') + ' the message request from ' + opt.thread.name,\n              toast: true,\n              theme: approve ? 'success' : 'error'\n            });\n            if (approve) {\n              LoadIn.initiate_thread({\n                thread_id: opt.thread.id,\n                force: true\n              });\n            } else {\n              methods.removeThread(opt.thread.id);\n              LoadIn.closeOpened();\n            }\n          },\n          fail_alert: true,\n          bypass: true\n        });\n      }\n    },\n    Calls = {\n      showCreateModal: function showCreateModal() {\n        Messenger.alert().Modal({\n          size: 'sm',\n          icon: 'user-plus',\n          pre_loader: true,\n          centered: true,\n          unlock_buttons: false,\n          allow_close: false,\n          backdrop_ctrl: false,\n          title: 'Creating Call',\n          theme: 'success'\n        });\n      },\n      initCall: function initCall() {\n        if (opt.states.lock) return;\n        opt.states.lock = true;\n        Messenger.button().addLoader({\n          id: '.video_btn'\n        });\n        Calls.showCreateModal(false);\n        Messenger.xhr().payload({\n          route: Messenger.common().API + 'threads/' + opt.thread.id + '/calls',\n          data: {},\n          success: function success(data) {\n            CallManager.join(data);\n            NotifyManager.heartbeat();\n            Messenger.button().removeLoader();\n          },\n          close_modal: true,\n          fail_alert: true\n        });\n      },\n      sendKnock: function sendKnock() {\n        if (opt.states.lock || !NotifyManager.sockets().status) return;\n        Messenger.button().addLoader({\n          id: '#knok_btn'\n        });\n        Messenger.xhr().payload({\n          route: Messenger.common().API + 'threads/' + opt.thread.id + '/knock-knock',\n          data: {},\n          success: function success(data) {\n            NotifyManager.sound('knok');\n            Messenger.alert().Alert({\n              close: true,\n              title: 'Knock Knock!',\n              body: \"You sent a knock to \" + opt.thread.name + \"!\",\n              toast: true\n            });\n          },\n          fail_alert: true\n        });\n      }\n    },\n    Mute = {\n      mute: function mute() {\n        var payload = function payload() {\n          Messenger.xhr().payload({\n            route: Messenger.common().API + 'threads/' + opt.thread.id + '/mute',\n            data: {},\n            success: function success() {\n              Messenger.alert().Alert({\n                close: true,\n                title: \"You muted \" + opt.thread.name,\n                toast: true\n              });\n              LoadIn.initiate_thread({\n                thread_id: opt.thread.id,\n                force: true\n              });\n            },\n            fail_alert: true,\n            close_modal: true\n          });\n        };\n        Messenger.alert().Modal({\n          icon: 'volume-mute',\n          size: 'md',\n          backdrop_ctrl: false,\n          h4: false,\n          theme: 'primary',\n          title: 'Mute?',\n          body: '<span class=\"h5 font-weight-bold\">Really mute ' + opt.thread.name + '? You will no longer receive any alerts or notifications from that conversation.</span>',\n          cb_btn_txt: 'Mute',\n          cb_btn_icon: 'volume-mute',\n          cb_btn_theme: 'primary',\n          callback: payload\n        });\n      },\n      unmute: function unmute() {\n        Messenger.xhr().payload({\n          route: Messenger.common().API + 'threads/' + opt.thread.id + '/unmute',\n          data: {},\n          success: function success() {\n            Messenger.alert().Alert({\n              close: true,\n              title: \"You un-muted \" + opt.thread.name,\n              toast: true\n            });\n            LoadIn.initiate_thread({\n              thread_id: opt.thread.id,\n              force: true\n            });\n          },\n          fail_alert: true\n        });\n      }\n    },\n    LoadIn = {\n      closeOpened: function closeOpened(force) {\n        if (opt.states.lock && !force) return;\n        if (Messenger.common().mobile) ThreadTemplates.mobile(false);\n        mounted.reset(false);\n        mounted.Initialize({\n          type: 5\n        });\n        window.history.pushState({\n          type: 5\n        }, null, Messenger.common().WEB);\n      },\n      messageEdits: function messageEdits(route) {\n        if (!opt.thread.id) return;\n        Messenger.alert().Modal({\n          size: 'md',\n          backdrop_ctrl: false,\n          overflow: true,\n          theme: 'dark',\n          icon: 'edit',\n          title: 'Loading Edit History...',\n          pre_loader: true,\n          h4: false,\n          onReady: function onReady() {\n            Messenger.xhr().request({\n              route: route,\n              success: function success(data) {\n                Messenger.alert().fillModal({\n                  title: 'Message Edit History',\n                  body: ThreadTemplates.render().message_edit_history(data)\n                });\n              }\n            });\n          }\n        });\n      },\n      threads: function threads() {\n        Messenger.xhr().request({\n          route: Messenger.common().API + 'threads',\n          success: function success(data) {\n            opt.storage.threads = data.data;\n            if (opt.elements.thread_area.length) {\n              if (!opt.storage.threads.length) {\n                methods.checkShowThreadSearch();\n                opt.elements.thread_area.html('<h4 id=\"no_message_warning\" class=\"text-center mt-4\"><span class=\"badge badge-pill badge-secondary\"><i class=\"fas fa-comments\"></i> No conversations</span></h4>');\n                return;\n              }\n              methods.drawThreads();\n            }\n            methods.calcUnreadThreads();\n          },\n          fail: function fail() {\n            if (opt.states.load_in_retries >= 6) {\n              Messenger.alert().Alert({\n                theme: 'error',\n                title: 'We could not load in your threads. Please try refreshing your browser page',\n                toast: true\n              });\n              return;\n            }\n            opt.states.load_in_retries++;\n            LoadIn.threads();\n          }\n        });\n      },\n      threadLogs: function threadLogs(paginate, page) {\n        if (!opt.thread.id) return;\n        if (paginate) {\n          $(\"#log_paginate_btn\").html(Messenger.alert().loader(true));\n          Messenger.xhr().request({\n            route: Messenger.common().API + 'threads/' + opt.thread.id + '/logs/page/' + page,\n            success: function success(data) {\n              $(\"#log_paginate_btn\").remove();\n              $(\"#body_modal\").append(ThreadTemplates.render().thread_logs(data));\n            }\n          });\n          return;\n        }\n        Messenger.alert().Modal({\n          size: 'lg',\n          backdrop_ctrl: false,\n          overflow: true,\n          theme: 'dark',\n          icon: 'database',\n          title: 'Loading Logs...',\n          pre_loader: true,\n          h4: false,\n          onReady: function onReady() {\n            Messenger.xhr().request({\n              route: Messenger.common().API + 'threads/' + opt.thread.id + '/logs',\n              success: function success(data) {\n                Messenger.alert().fillModal({\n                  title: opt.thread.name + ' Logs',\n                  body: data.data.length ? ThreadTemplates.render().thread_logs(data) : '<h3 class=\"text-center mt-2\"><span class=\"badge badge-pill badge-secondary\"><i class=\"fas fa-database\"></i> No logs</span></h3>'\n                });\n              }\n            });\n          }\n        });\n      },\n      threadImages: function threadImages(paginate, page) {\n        if (!opt.thread.id) return;\n        if (paginate) {\n          $(\"#image_paginate_btn\").html(Messenger.alert().loader(true));\n          Messenger.xhr().request({\n            route: Messenger.common().API + 'threads/' + opt.thread.id + '/images/page/' + page,\n            success: function success(data) {\n              $(\"#image_paginate_btn\").remove();\n              $(\"#body_modal\").append(ThreadTemplates.render().thread_images(data));\n              LazyImages.update();\n            }\n          });\n          return;\n        }\n        Messenger.alert().Modal({\n          size: 'fullscreen',\n          backdrop_ctrl: false,\n          theme: 'dark',\n          icon: 'images',\n          title: 'Loading Images...',\n          pre_loader: true,\n          h4: false,\n          onReady: function onReady() {\n            Messenger.xhr().request({\n              route: Messenger.common().API + 'threads/' + opt.thread.id + '/images',\n              success: function success(data) {\n                Messenger.alert().fillModal({\n                  title: opt.thread.name + ' Shared Images',\n                  body: data.data.length ? ThreadTemplates.render().thread_images(data) : '<h3 class=\"text-center mt-2\"><span class=\"badge badge-pill badge-secondary\"><i class=\"fas fa-images\"></i> No Images</span></h3>'\n                });\n                LazyImages.update();\n              }\n            });\n          }\n        });\n      },\n      threadDocuments: function threadDocuments(paginate, page) {\n        if (!opt.thread.id) return;\n        if (paginate) {\n          $(\"#document_paginate_btn\").html(Messenger.alert().loader(true));\n          Messenger.xhr().request({\n            route: Messenger.common().API + 'threads/' + opt.thread.id + '/documents/page/' + page,\n            success: function success(data) {\n              $(\"#document_paginate_btn\").remove();\n              $(\"#documents_history\").append(ThreadTemplates.render().thread_documents(false, data));\n            }\n          });\n          return;\n        }\n        Messenger.alert().Modal({\n          size: 'lg',\n          backdrop_ctrl: false,\n          overflow: true,\n          theme: 'dark',\n          icon: 'file-alt',\n          title: 'Loading Documents...',\n          pre_loader: true,\n          h4: false,\n          onReady: function onReady() {\n            Messenger.xhr().request({\n              route: Messenger.common().API + 'threads/' + opt.thread.id + '/documents',\n              success: function success(data) {\n                Messenger.alert().fillModal({\n                  title: opt.thread.name + ' Shared Documents',\n                  body: data.data.length ? ThreadTemplates.render().thread_documents(true, data) : '<h3 class=\"text-center mt-2\"><span class=\"badge badge-pill badge-secondary\"><i class=\"fas fa-file-alt\"></i> No Documents</span></h3>'\n                });\n              }\n            });\n          }\n        });\n      },\n      messageReactions: function messageReactions(messageId) {\n        if (!opt.thread.id) return;\n        Messenger.alert().Modal({\n          size: 'md',\n          backdrop_ctrl: false,\n          overflow: true,\n          theme: 'dark',\n          icon: 'grin-tongue',\n          title: 'Loading Reactions...',\n          pre_loader: true,\n          h4: false,\n          onReady: function onReady() {\n            Messenger.xhr().request({\n              route: Messenger.common().API + 'threads/' + opt.thread.id + '/messages/' + messageId + '/reactions',\n              success: function success(data) {\n                Messenger.alert().fillModal({\n                  title: 'Message Reactions',\n                  body: ThreadTemplates.render().show_message_reactions(data)\n                });\n              }\n            });\n          }\n        });\n      },\n      threadAudio: function threadAudio(paginate, page) {\n        if (!opt.thread.id) return;\n        if (paginate) {\n          $(\"#audio_paginate_btn\").html(Messenger.alert().loader(true));\n          Messenger.xhr().request({\n            route: Messenger.common().API + 'threads/' + opt.thread.id + '/audio/page/' + page,\n            success: function success(data) {\n              $(\"#audio_paginate_btn\").remove();\n              $(\"#audio_history\").append(ThreadTemplates.render().thread_audio(false, data));\n            }\n          });\n          return;\n        }\n        Messenger.alert().Modal({\n          size: 'lg',\n          backdrop_ctrl: false,\n          overflow: true,\n          theme: 'dark',\n          icon: 'music',\n          title: 'Loading Audio...',\n          pre_loader: true,\n          h4: false,\n          onReady: function onReady() {\n            Messenger.xhr().request({\n              route: Messenger.common().API + 'threads/' + opt.thread.id + '/audio',\n              success: function success(data) {\n                Messenger.alert().fillModal({\n                  title: opt.thread.name + ' Shared Audio',\n                  body: data.data.length ? ThreadTemplates.render().thread_audio(true, data) : '<h3 class=\"text-center mt-2\"><span class=\"badge badge-pill badge-secondary\"><i class=\"fas fa-music\"></i> No Audio</span></h3>'\n                });\n              }\n            });\n          }\n        });\n      },\n      threadVideos: function threadVideos(paginate, page) {\n        if (!opt.thread.id) return;\n        if (paginate) {\n          $(\"#video_paginate_btn\").html(Messenger.alert().loader(true));\n          Messenger.xhr().request({\n            route: Messenger.common().API + 'threads/' + opt.thread.id + '/videos/page/' + page,\n            success: function success(data) {\n              $(\"#video_paginate_btn\").remove();\n              $(\"#video_history\").append(ThreadTemplates.render().thread_videos(false, data));\n            }\n          });\n          return;\n        }\n        Messenger.alert().Modal({\n          size: 'lg',\n          backdrop_ctrl: false,\n          overflow: true,\n          theme: 'dark',\n          icon: 'video',\n          title: 'Loading Videos...',\n          pre_loader: true,\n          h4: false,\n          onReady: function onReady() {\n            Messenger.xhr().request({\n              route: Messenger.common().API + 'threads/' + opt.thread.id + '/videos',\n              success: function success(data) {\n                Messenger.alert().fillModal({\n                  title: opt.thread.name + ' Shared Videos',\n                  body: data.data.length ? ThreadTemplates.render().thread_videos(true, data) : '<h3 class=\"text-center mt-2\"><span class=\"badge badge-pill badge-secondary\"><i class=\"fas fa-video\"></i> No Videos</span></h3>'\n                });\n              }\n            });\n          }\n        });\n      },\n      thread: function thread(thread_id, _success) {\n        Messenger.xhr().request({\n          route: Messenger.common().API + 'threads/' + thread_id,\n          success: function success(data) {\n            var thread = methods.locateStorageItem({\n              type: 'thread',\n              id: thread_id\n            });\n            if (!thread.found) {\n              opt.storage.threads.unshift(data);\n            } else {\n              opt.storage.threads.splice(thread.index, 1);\n              opt.storage.threads.unshift(data);\n            }\n            methods.addThread(data, true);\n            if (_success) _success(data);\n          },\n          fail_alert: true\n        });\n      },\n      bobbleHeads: function bobbleHeads() {\n        if (!opt.thread.id) return;\n        Messenger.xhr().request({\n          route: Messenger.common().API + 'threads/' + opt.thread.id + '/participants',\n          success: function success(data) {\n            opt.storage.participants = data.data;\n            $(\".bobble-head-item\").remove();\n            if (opt.storage.active_profiles.length) {\n              opt.storage.active_profiles.forEach(function (value) {\n                methods.updateBobbleHead(value.provider_id, null);\n              });\n            }\n            if (opt.thread.type === 1 && opt.storage.participants.length) {\n              for (var i = 0; i < opt.storage.participants.length; i++) {\n                if (!Messenger.isProvider(opt.storage.participants[i].owner_id, opt.storage.participants[i].owner_type)) {\n                  methods.threadOnlineStatus(opt.storage.participants[i].owner.options.online_status);\n                }\n              }\n            }\n            methods.drawBobbleHeads();\n          },\n          fail: null\n        });\n      },\n      search: function search(noHistory) {\n        if (!opt.INIT) return;\n        if (Messenger.common().mobile) ThreadTemplates.mobile(true);\n        opt.elements.message_container.html(ThreadTemplates.render().search_base());\n        mounted.reset(false);\n        mounted.Initialize({\n          type: 7\n        });\n        if (!noHistory) window.history.pushState({\n          type: 7\n        }, null, Messenger.common().WEB + '?search');\n      },\n      contacts: function contacts(noHistory) {\n        if (!opt.INIT) return;\n        if (Messenger.common().mobile) ThreadTemplates.mobile(true);\n        opt.elements.message_container.html(ThreadTemplates.render().contacts_base());\n        mounted.reset(false);\n        opt.thread.type = 6;\n        Messenger.xhr().request({\n          route: Messenger.common().API + 'friends',\n          success: function success(data) {\n            $(\"#messenger_contacts_ctnr\").html(ThreadTemplates.render().contacts(data));\n            if (!noHistory) window.history.pushState({\n              type: 6\n            }, null, Messenger.common().WEB + '?contacts');\n            methods.loadDataTable($(\"#contact_list_table\"), true);\n          },\n          fail: LoadIn.closeOpened,\n          fail_alert: true,\n          bypass: true\n        });\n      },\n      createPrivate: function createPrivate(arg, noHistory) {\n        if (CallManager.state().initialized) {\n          window.open(Messenger.common().WEB + '/recipient/' + arg.alias + '/' + arg.id);\n          return;\n        }\n        opt.elements.message_container.html(ThreadTemplates.render().loading_thread_base());\n        mounted.reset(false);\n        if (Messenger.common().mobile) ThreadTemplates.mobile(true);\n        $(\".modal\").modal('hide');\n        Messenger.xhr().request({\n          route: Messenger.common().API + 'privates/recipient/' + arg.alias + '/' + arg.id,\n          success: function success(data) {\n            if (data.thread_id) {\n              LoadIn.initiate_thread({\n                thread_id: data.thread_id\n              });\n              return;\n            }\n            opt.elements.message_container.html(ThreadTemplates.render().render_new_private(data.recipient));\n            if (!noHistory) window.history.pushState({\n              type: 3,\n              id: arg.id,\n              alias: arg.alias\n            }, null, Messenger.common().WEB + '/recipient/' + arg.alias + '/' + arg.id);\n            opt.thread.messaging = data.recipient.options.can_message_first;\n            mounted.Initialize({\n              type: 3,\n              thread_id: 'new',\n              t_name: data.recipient.name,\n              temp_data: data.recipient\n            });\n          },\n          fail: LoadIn.closeOpened,\n          fail_alert: true,\n          bypass: true\n        });\n      },\n      createGroup: function createGroup(noHistory) {\n        if (opt.states.lock) return;\n        mounted.reset(false);\n        opt.elements.message_container.html(ThreadTemplates.render().new_group_base());\n        if (!noHistory) window.history.pushState({\n          type: 4\n        }, null, Messenger.common().WEB + '?newGroup');\n        if (Messenger.common().mobile) ThreadTemplates.mobile(true);\n        mounted.Initialize({\n          type: 4\n        });\n        Messenger.xhr().request({\n          route: Messenger.common().API + 'friends',\n          success: function success(data) {\n            if (opt.thread.type === 4) {\n              $(\"#messages_container_new_group\").html(ThreadTemplates.render().new_group_friends(data));\n              methods.loadDataTable($(\"#add_group_participants\"), true);\n            }\n          },\n          fail_alert: true\n        });\n      },\n      initiate_thread: function initiate_thread(arg, noHistory) {\n        if (opt.states.lock || arg.thread_id === opt.thread.id && !(\"force\" in arg)) return;\n        if (Messenger.common().mobile) ThreadTemplates.mobile(true);\n        opt.elements.message_container.html(ThreadTemplates.render().loading_thread_base());\n        mounted.reset(true);\n        opt.thread.initializing = true;\n        opt.thread._id = arg.thread_id;\n        Messenger.xhr().request({\n          route: Messenger.common().API + 'threads/' + arg.thread_id + '/load',\n          success: function success(data) {\n            data.group ? methods.initiateGroup(arg, data, noHistory) : methods.initiatePrivate(arg, data, noHistory);\n          },\n          fail: LoadIn.closeOpened,\n          bypass: true,\n          fail_alert: true\n        });\n      }\n    };\n  return {\n    init: mounted.Initialize,\n    Import: function Import() {\n      return Imports;\n    },\n    newForms: function newForms() {\n      return new_forms;\n    },\n    calls: function calls() {\n      return Calls;\n    },\n    send: methods.sendMessage,\n    archive: function archive() {\n      return _archive;\n    },\n    editMessage: methods.editMessage,\n    reply: methods.replyToMessage,\n    addNewReaction: methods.addNewReaction,\n    removeReaction: methods.removeReaction,\n    mute: function mute() {\n      return Mute;\n    },\n    group: function group() {\n      return groups;\n    },\n    load: function load() {\n      return LoadIn;\n    },\n    switchToggle: mounted.switchToggleListener,\n    lock: function lock(arg) {\n      if (typeof arg === 'boolean') opt.states.lock = arg;\n    },\n    state: function state() {\n      return {\n        thread_id: opt.thread.id,\n        thread_lockout: opt.thread.lockout,\n        type: opt.thread.type,\n        thread_admin: opt.thread.admin,\n        t_name: opt.thread.name,\n        _thread: opt.thread._thread,\n        online_status: opt.socket.online_status_setting,\n        socketStatusCheck: Health.checkConnection,\n        reConnected: Health.reConnected,\n        online: function online(state) {\n          methods.statusOnline(state, true);\n        },\n        statusSetting: methods.updateOnlineStatusSetting\n      };\n    }\n  };\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi92ZW5kb3IvcnRpcHBpbi9tZXNzZW5nZXItdWkvcmVzb3VyY2VzL2pzL21hbmFnZXJzL1RocmVhZE1hbmFnZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBQSxNQUFNLENBQUNDLGFBQWEsR0FBSSxZQUFZO0VBQ2hDLElBQUlDLEdBQUcsR0FBRztNQUNOQyxJQUFJLEVBQUcsS0FBSztNQUNaQyxZQUFZLEVBQUcsSUFBSTtNQUNuQkMsS0FBSyxFQUFHLElBQUk7TUFDWkMsR0FBRyxFQUFHQyxTQUFTLENBQUNDLE1BQU0sQ0FBQyxDQUFDLENBQUNGLEdBQUc7TUFDNUJHLE1BQU0sRUFBRztRQUNMQyxFQUFFLEVBQUcsSUFBSTtRQUNUQyxJQUFJLEVBQUcsSUFBSTtRQUNYQyxJQUFJLEVBQUcsSUFBSTtRQUNYQyxLQUFLLEVBQUcsS0FBSztRQUNiQyxPQUFPLEVBQUcsS0FBSztRQUNmQyxLQUFLLEVBQUcsS0FBSztRQUNiQyxRQUFRLEVBQUcsS0FBSztRQUNoQkMsV0FBVyxFQUFHLElBQUk7UUFDbEJDLG9CQUFvQixFQUFHLEtBQUs7UUFDNUJDLFVBQVUsRUFBRyxJQUFJO1FBQ2pCQyxlQUFlLEVBQUcsS0FBSztRQUN2QkMsYUFBYSxFQUFHLEtBQUs7UUFDckJDLFNBQVMsRUFBRyxJQUFJO1FBQ2hCQyxRQUFRLEVBQUcsSUFBSTtRQUNmQyxPQUFPLEVBQUcsS0FBSztRQUNmQyxjQUFjLEVBQUcsSUFBSTtRQUNyQkMsVUFBVSxFQUFHLElBQUk7UUFDakJDLGFBQWEsRUFBRyxJQUFJO1FBQ3BCQyxlQUFlLEVBQUcsS0FBSztRQUN2QkMsWUFBWSxFQUFHLEtBQUs7UUFDcEJDLEdBQUcsRUFBRyxJQUFJO1FBQ1ZDLE9BQU8sRUFBRztNQUNkLENBQUM7TUFDREMsTUFBTSxFQUFHO1FBQ0xDLElBQUksRUFBRyxJQUFJO1FBQ1hDLGVBQWUsRUFBRyxDQUFDO1FBQ25CQyxxQkFBcUIsRUFBRyxDQUFDO1FBQ3pCQyxlQUFlLEVBQUcsS0FBSztRQUN2QkMsb0JBQW9CLEVB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LEVBQUM7VUFDcEJqQixPQUFPLENBQUNnUCxZQUFZLENBQUMvTixLQUFLLEVBQUUsSUFBSSxDQUFDO1FBQ3JDLENBQUM7UUFDRGtoQixhQUFhLEVBQUduaUIsT0FBTyxDQUFDa1A7TUFDNUIsQ0FBQztJQUNMO0VBQ0osQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vdmVuZG9yL3J0aXBwaW4vbWVzc2VuZ2VyLXVpL3Jlc291cmNlcy9qcy9tYW5hZ2Vycy9UaHJlYWRNYW5hZ2VyLmpzPzkyNjYiXSwic291cmNlc0NvbnRlbnQiOlsid2luZG93LlRocmVhZE1hbmFnZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBvcHQgPSB7XG4gICAgICAgIElOSVQgOiBmYWxzZSxcbiAgICAgICAgT1JJR0lOQUxfQVJHIDogbnVsbCxcbiAgICAgICAgU0VUVVAgOiB0cnVlLFxuICAgICAgICBBUEkgOiBNZXNzZW5nZXIuY29tbW9uKCkuQVBJLFxuICAgICAgICB0aHJlYWQgOiB7XG4gICAgICAgICAgICBpZCA6IG51bGwsXG4gICAgICAgICAgICB0eXBlIDogbnVsbCxcbiAgICAgICAgICAgIG5hbWUgOiBudWxsLFxuICAgICAgICAgICAgYWRtaW4gOiBmYWxzZSxcbiAgICAgICAgICAgIHBlbmRpbmcgOiBmYWxzZSxcbiAgICAgICAgICAgIG11dGVkIDogZmFsc2UsXG4gICAgICAgICAgICByZXBseWluZyA6IGZhbHNlLFxuICAgICAgICAgICAgcmVwbHlfdG9faWQgOiBudWxsLFxuICAgICAgICAgICAgYXdhaXRpbmdfbXlfYXBwcm92YWwgOiBmYWxzZSxcbiAgICAgICAgICAgIGNyZWF0ZWRfYXQgOiBudWxsLFxuICAgICAgICAgICAgbWVzc2FnZXNfdW5yZWFkIDogZmFsc2UsXG4gICAgICAgICAgICBjbGlja190b19yZWFkIDogZmFsc2UsXG4gICAgICAgICAgICBtZXNzYWdpbmcgOiB0cnVlLFxuICAgICAgICAgICAgY2FuX2NhbGwgOiB0cnVlLFxuICAgICAgICAgICAgbG9ja291dCA6IGZhbHNlLFxuICAgICAgICAgICAgdGhyZWFkX2hpc3RvcnkgOiB0cnVlLFxuICAgICAgICAgICAgaGlzdG9yeV9pZCA6IG51bGwsXG4gICAgICAgICAgICBoaXN0b3J5X3JvdXRlIDogbnVsbCxcbiAgICAgICAgICAgIGhpc3RvcnlfbG9hZGluZyA6IGZhbHNlLFxuICAgICAgICAgICAgaW5pdGlhbGl6aW5nIDogZmFsc2UsXG4gICAgICAgICAgICBfaWQgOiBudWxsLFxuICAgICAgICAgICAgX3RocmVhZCA6IG51bGwsXG4gICAgICAgIH0sXG4gICAgICAgIHN0YXRlcyA6IHtcbiAgICAgICAgICAgIGxvY2sgOiB0cnVlLFxuICAgICAgICAgICAgbG9hZF9pbl9yZXRyaWVzIDogMCxcbiAgICAgICAgICAgIHN0YXRlX2xvY2tvdXRfcmV0cmllcyA6IDAsXG4gICAgICAgICAgICB0aHJlYWRfZmlsdGVyZWQgOiBmYWxzZSxcbiAgICAgICAgICAgIHRocmVhZF9maWx0ZXJfc2VhcmNoIDogbnVsbCxcbiAgICAgICAgICAgIG1lc3Nlbmdlcl9zZWFyY2hfdGVybSA6IG51bGxcbiAgICAgICAgfSxcbiAgICAgICAgc29ja2V0IDoge1xuICAgICAgICAgICAgb25saW5lX3N0YXR1c19zZXR0aW5nIDogMSxcbiAgICAgICAgICAgIGNoYXQgOiBudWxsLFxuICAgICAgICAgICAgc29ja2V0X3JldHJpZXMgOiAwLFxuICAgICAgICAgICAgc2VuZF90eXBpbmcgOiAwLFxuICAgICAgICAgICAgaXNfYXdheSA6IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIHN0b3JhZ2UgOiB7XG4gICAgICAgICAgICBhY3RpdmVfcHJvZmlsZXMgOiBbXSxcbiAgICAgICAgICAgIHdob190eXBpbmcgOiBbXSxcbiAgICAgICAgICAgIGJvdF90eXBpbmcgOiBbXSxcbiAgICAgICAgICAgIHRocmVhZHMgOiBbXSxcbiAgICAgICAgICAgIG1lc3NhZ2VzIDogW10sXG4gICAgICAgICAgICBwYXJ0aWNpcGFudHMgOiBbXSxcbiAgICAgICAgICAgIHBlbmRpbmdfbWVzc2FnZXMgOiBbXSxcbiAgICAgICAgICAgIHRlbXBfZGF0YSA6IG51bGxcbiAgICAgICAgfSxcbiAgICAgICAgdGltZXJzIDoge1xuICAgICAgICAgICAgbWFya19yZWFkX3RpbWVvdXQgOiBudWxsLFxuICAgICAgICAgICAgcmVjZW50X2JvYmJsZV90aW1lb3V0IDogbnVsbCxcbiAgICAgICAgICAgIHNvY2tldF9pbnRlcnZhbCA6IG51bGwsXG4gICAgICAgICAgICByZW1vdmVfdHlwaW5nX2ludGVydmFsIDogbnVsbCxcbiAgICAgICAgICAgIHByaXZhdGVfYm9iYmxlX3JlZnJlc2hfdGltZW91dCA6IG51bGwsXG4gICAgICAgICAgICBib2JibGVfcmVmcmVzaF9pbnRlcnZhbCA6IG51bGwsXG4gICAgICAgICAgICBkcmFnX2Ryb3Bfb3ZlcmxheV9oaWRlIDogbnVsbFxuICAgICAgICB9LFxuICAgICAgICBlbGVtZW50cyA6IHtcbiAgICAgICAgICAgIG5hdl9zZWFyY2hfbGluayA6ICQoXCIubmF2LXNlYXJjaC1saW5rXCIpLFxuICAgICAgICAgICAgbXlfYXZhdGFyX2FyZWEgOiAkKFwiI215X2F2YXRhcl9zdGF0dXNcIiksXG4gICAgICAgICAgICB0aHJlYWRfYXJlYSA6ICQoXCIjbWVzc2FnZXNfdWxcIiksXG4gICAgICAgICAgICBtZXNzYWdlX2NvbnRhaW5lciA6ICQoXCIjbWVzc2FnZV9jb250YWluZXJcIiksXG4gICAgICAgICAgICBtZXNzYWdlX3NpZGViYXJfY29udGFpbmVyIDogJChcIiNtZXNzYWdlX3NpZGViYXJfY29udGFpbmVyXCIpLFxuICAgICAgICAgICAgc29ja2V0X2Vycm9yX21zZyA6ICQoXCIjc29ja2V0X2Vycm9yXCIpLFxuICAgICAgICAgICAgdGhyZWFkX3NlYXJjaF9pbnB1dCA6ICQoXCIjdGhyZWFkX3NlYXJjaF9pbnB1dFwiKSxcbiAgICAgICAgICAgIHRocmVhZF9zZWFyY2hfYmFyIDogJChcIiN0aHJlYWRzX3NlYXJjaF9iYXJcIiksXG4gICAgICAgICAgICBkcmFnX2Ryb3Bfem9uZSA6ICQoJyNkcmFnX2Ryb3Bfb3ZlcmxheScpLFxuICAgICAgICAgICAgbWVzc2VuZ2VyX3NlYXJjaF9pbnB1dCA6IG51bGwsXG4gICAgICAgICAgICBtZXNzZW5nZXJfc2VhcmNoX3Jlc3VsdHMgOiBudWxsLFxuICAgICAgICAgICAgbXNnX3BhbmVsIDogbnVsbCxcbiAgICAgICAgICAgIGRvY19maWxlIDogbnVsbCxcbiAgICAgICAgICAgIGdyb3VwX2F2YXRhcl9maWxlIDogbnVsbCxcbiAgICAgICAgICAgIHJlY29yZF9hdWRpb19tZXNzYWdlX2J0biA6IG51bGwsXG4gICAgICAgICAgICBhZGRfZW1vamlfYnRuIDogbnVsbCxcbiAgICAgICAgICAgIGRhdGFfdGFibGUgOiBudWxsLFxuICAgICAgICAgICAgbWVzc2FnZV90ZXh0X2lucHV0IDogbnVsbCxcbiAgICAgICAgICAgIGZvcm0gOiBudWxsLFxuICAgICAgICAgICAgdGhlX3RocmVhZCA6IG51bGwsXG4gICAgICAgICAgICBtc2dfc3RhY2sgOiBudWxsLFxuICAgICAgICAgICAgcGVuZGluZ19tc2dfc3RhY2sgOiBudWxsLFxuICAgICAgICAgICAgbmV3X21zZ19hbGVydCA6IG51bGwsXG4gICAgICAgICAgICByZXBseV9tZXNzYWdlX2FsZXJ0IDogbnVsbCxcbiAgICAgICAgICAgIHNlZW5fYnlfZmluYWwgOiBudWxsXG4gICAgICAgIH1cbiAgICB9LFxuICAgIG1vdW50ZWQgPSB7XG4gICAgICAgIEluaXRpYWxpemUgOiBmdW5jdGlvbihhcmcpIHtcbiAgICAgICAgICAgIGlmKCFNZXNzZW5nZXIuY29tbW9uKCkubW9kdWxlcy5pbmNsdWRlcygnVGhyZWFkVGVtcGxhdGVzJykpe1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBtb3VudGVkLkluaXRpYWxpemUoYXJnKVxuICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdC5zdGF0ZXMubG9jayA9IGZhbHNlO1xuICAgICAgICAgICAgaWYoIW9wdC5PUklHSU5BTF9BUkcpe1xuICAgICAgICAgICAgICAgIG9wdC5PUklHSU5BTF9BUkcgPSBhcmc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihcIm9ubGluZV9zdGF0dXNfc2V0dGluZ1wiIGluIGFyZykgb3B0LnNvY2tldC5vbmxpbmVfc3RhdHVzX3NldHRpbmcgPSBhcmcub25saW5lX3N0YXR1c19zZXR0aW5nO1xuICAgICAgICAgICAgaWYoXCJtZXNzYWdpbmdcIiBpbiBhcmcpIG9wdC50aHJlYWQubWVzc2FnaW5nID0gYXJnLm1lc3NhZ2luZztcbiAgICAgICAgICAgIGlmKFwibG9ja291dFwiIGluIGFyZykgb3B0LnRocmVhZC5sb2Nrb3V0ID0gYXJnLmxvY2tvdXQ7XG4gICAgICAgICAgICBpZihcImFkbWluXCIgaW4gYXJnKSBvcHQudGhyZWFkLmFkbWluID0gYXJnLmFkbWluO1xuICAgICAgICAgICAgaWYoXCJhd2FpdGluZ19teV9hcHByb3ZhbFwiIGluIGFyZykgb3B0LnRocmVhZC5hd2FpdGluZ19teV9hcHByb3ZhbCA9IGFyZy5hd2FpdGluZ19teV9hcHByb3ZhbDtcbiAgICAgICAgICAgIGlmKFwicGVuZGluZ1wiIGluIGFyZykgb3B0LnRocmVhZC5wZW5kaW5nID0gYXJnLnBlbmRpbmc7XG4gICAgICAgICAgICBpZihcImNhbl9jYWxsXCIgaW4gYXJnKSBvcHQudGhyZWFkLmNhbl9jYWxsID0gYXJnLmNhbl9jYWxsO1xuICAgICAgICAgICAgaWYoXCJzZXR1cFwiIGluIGFyZyAmJiBcInRocmVhZF9pZFwiIGluIGFyZyAmJiBhcmcudHlwZSA9PT0gMCl7XG4gICAgICAgICAgICAgICAgbW91bnRlZC5zZXR1cE9uY2UoKTtcbiAgICAgICAgICAgICAgICBMb2FkSW4uaW5pdGlhdGVfdGhyZWFkKHt0aHJlYWRfaWQgOiBhcmcudGhyZWFkX2lkfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoXCJzZXR1cFwiIGluIGFyZyAmJiBhcmcudHlwZSA9PT0gMyl7XG4gICAgICAgICAgICAgICAgbW91bnRlZC5zZXR1cE9uY2UoKTtcbiAgICAgICAgICAgICAgICBMb2FkSW4uY3JlYXRlUHJpdmF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIGlkIDogYXJnLmlkLFxuICAgICAgICAgICAgICAgICAgICBhbGlhcyA6IGFyZy5hbGlhc1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdC5JTklUID0gdHJ1ZTtcbiAgICAgICAgICAgIFBhZ2VMaXN0ZW5lcnMubGlzdGVuKCkuZGlzcG9zZVRvb2x0aXBzKCk7XG4gICAgICAgICAgICBvcHQudGhyZWFkLnR5cGUgPSBhcmcudHlwZTtcbiAgICAgICAgICAgIGlmKFsxLDIsMyw0XS5pbmNsdWRlcyhhcmcudHlwZSkpe1xuICAgICAgICAgICAgICAgIG9wdC5lbGVtZW50cy5tZXNzYWdlX3RleHRfaW5wdXQgPSAkKFwiI21lc3NhZ2VfdGV4dF9pbnB1dFwiKTtcbiAgICAgICAgICAgICAgICBvcHQuZWxlbWVudHMuZm9ybSA9ICQoXCIjdGhyZWFkX2Zvcm1cIik7XG4gICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLm5ld19tc2dfYWxlcnQgPSAkKFwiI25ld19tZXNzYWdlX2FsZXJ0XCIpO1xuICAgICAgICAgICAgICAgIG9wdC5lbGVtZW50cy5yZXBseV9tZXNzYWdlX2FsZXJ0ID0gJChcIiNyZXBseV9tZXNzYWdlX2FsZXJ0XCIpO1xuICAgICAgICAgICAgICAgIG9wdC5lbGVtZW50cy5tc2dfcGFuZWwgPSAkKFwiLmNoYXQtYm9keVwiKTtcbiAgICAgICAgICAgICAgICBvcHQuZWxlbWVudHMuZG9jX2ZpbGUgPSAkKFwiI2RvY19maWxlXCIpO1xuICAgICAgICAgICAgICAgIG9wdC5lbGVtZW50cy5ncm91cF9hdmF0YXJfZmlsZSA9ICQoXCIjdGhyZWFkX2F2YXRhcl9pbWFnZV9maWxlXCIpO1xuICAgICAgICAgICAgICAgIG9wdC5lbGVtZW50cy5yZWNvcmRfYXVkaW9fbWVzc2FnZV9idG4gPSAkKFwiI3JlY29yZF9hdWRpb19tZXNzYWdlX2J0blwiKTtcbiAgICAgICAgICAgICAgICBvcHQuZWxlbWVudHMuYWRkX2Vtb2ppX2J0biA9ICQoXCIjYWRkX2Vtb2ppX2J0blwiKTtcbiAgICAgICAgICAgICAgICBvcHQuZWxlbWVudHMuc2Vlbl9ieV9maW5hbCA9ICQoXCIjc2Vlbi1ieV9maW5hbFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKFsxLDIsM10uaW5jbHVkZXMoYXJnLnR5cGUpKXtcbiAgICAgICAgICAgICAgICBpZihhcmcudHlwZSA9PT0gMykgb3B0LnN0b3JhZ2UudGVtcF9kYXRhID0gYXJnLnRlbXBfZGF0YTtcbiAgICAgICAgICAgICAgICBtb3VudGVkLnN0YXJ0V2F0Y2hkb2coKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoYXJnLnR5cGUgPT09IDQpIG1vdW50ZWQuc3RhcnRXYXRjaGRvZygpO1xuICAgICAgICAgICAgaWYoYXJnLnR5cGUgPT09IDUgJiYgIU1lc3Nlbmdlci5jb21tb24oKS5tb2JpbGUpIG9wdC5lbGVtZW50cy5tZXNzYWdlX2NvbnRhaW5lci5odG1sKFRocmVhZFRlbXBsYXRlcy5yZW5kZXIoKS5lbXB0eV9iYXNlKCkpO1xuICAgICAgICAgICAgaWYoYXJnLnR5cGUgPT09IDcpe1xuICAgICAgICAgICAgICAgIG9wdC5lbGVtZW50cy5tc2dfcGFuZWwgPSAkKFwiLmNoYXQtYm9keVwiKTtcbiAgICAgICAgICAgICAgICBvcHQuZWxlbWVudHMubWVzc2VuZ2VyX3NlYXJjaF9yZXN1bHRzID0gJChcIiNtZXNzZW5nZXJfc2VhcmNoX2NvbnRlbnRcIik7XG4gICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLm1lc3Nlbmdlcl9zZWFyY2hfaW5wdXQgPSAkKFwiI21lc3Nlbmdlcl9zZWFyY2hfcHJvZmlsZXNcIik7XG4gICAgICAgICAgICAgICAgbW91bnRlZC5zdGFydFdhdGNoZG9nKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKCd0aHJlYWRfaWQnIGluIGFyZyl7XG4gICAgICAgICAgICAgICAgb3B0LnRocmVhZC5pZCA9IGFyZy50aHJlYWRfaWQ7XG4gICAgICAgICAgICAgICAgb3B0LnRocmVhZC5uYW1lID0gYXJnLnRfbmFtZTtcbiAgICAgICAgICAgICAgICBvcHQuZWxlbWVudHMudGhlX3RocmVhZCA9ICQoJyNtc2dfdGhyZWFkXycrYXJnLnRocmVhZF9pZCk7XG4gICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLm1zZ19zdGFjayA9ICQoJyNtZXNzYWdlc19jb250YWluZXJfJythcmcudGhyZWFkX2lkKTtcbiAgICAgICAgICAgICAgICBvcHQuZWxlbWVudHMucGVuZGluZ19tc2dfc3RhY2sgPSAkKFwiI3BlbmRpbmdfbWVzc2FnZXNcIik7XG4gICAgICAgICAgICAgICAgb3B0LnRocmVhZC5pbml0aWFsaXppbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBvcHQudGhyZWFkLl9pZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYoYXJnLnR5cGUgIT09IDMpIG1ldGhvZHMuaW5pdGlhbGl6ZVJlY2VudE1lc3NhZ2VzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBIZWFsdGguY2hlY2tDb25uZWN0aW9uKCk7XG4gICAgICAgICAgICBpZignc2V0dXAnIGluIGFyZykgbW91bnRlZC5zZXR1cE9uY2UoKTtcbiAgICAgICAgICAgIFBhZ2VMaXN0ZW5lcnMubGlzdGVuKCkudG9vbHRpcHMoKVxuICAgICAgICB9LFxuICAgICAgICBzZXR1cE9uY2UgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgaWYoIW9wdC5TRVRVUCkgcmV0dXJuO1xuICAgICAgICAgICAgbGV0IGVsbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZXNzYWdlX2NvbnRhaW5lcicpO1xuICAgICAgICAgICAgTG9hZEluLnRocmVhZHMoKTtcbiAgICAgICAgICAgIHNldEludGVydmFsKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgaWYoIU5vdGlmeU1hbmFnZXIuc29ja2V0cygpLmZvcmNlZF9kaXNjb25uZWN0KSBMb2FkSW4udGhyZWFkcygpXG4gICAgICAgICAgICB9LCAzMDAwMDApO1xuICAgICAgICAgICAgaWYob3B0LnRocmVhZC50eXBlID09PSA1KSB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoe3R5cGUgOiA1fSwgbnVsbCwgTWVzc2VuZ2VyLmNvbW1vbigpLldFQik7XG4gICAgICAgICAgICB3aW5kb3cub25wb3BzdGF0ZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgaWYoZXZlbnQuc3RhdGUgJiYgXCJ0eXBlXCIgaW4gZXZlbnQuc3RhdGUgJiYgIW9wdC5zdGF0ZXMubG9jayl7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaChldmVudC5zdGF0ZS50eXBlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2FkSW4uaW5pdGlhdGVfdGhyZWFkKHt0aHJlYWRfaWQgOiBldmVudC5zdGF0ZS50aHJlYWRfaWR9LCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvYWRJbi5jcmVhdGVQcml2YXRlKHthbGlhcyA6IGV2ZW50LnN0YXRlLmFsaWFzLCBpZCA6IGV2ZW50LnN0YXRlLmlkfSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2FkSW4uY3JlYXRlR3JvdXAodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2FkSW4uY2xvc2VPcGVuZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvYWRJbi5jb250YWN0cyh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvYWRJbi5zZWFyY2godHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIG9wdC5lbGVtZW50cy50aHJlYWRfc2VhcmNoX2lucHV0Lm9uKFwia2V5dXAgbW91c2V1cFwiLCBtZXRob2RzLmNoZWNrVGhyZWFkRmlsdGVycyk7XG5cbiAgICAgICAgICAgIFsnZHJhZ2VudGVyJywgJ2RyYWdvdmVyJywgJ2RyYWdsZWF2ZScsICdkcm9wJ10uZm9yRWFjaChldmVudE5hbWUgPT4ge1xuICAgICAgICAgICAgICAgIGVsbS5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgbWV0aG9kcy5maWxlRHJhZ0Ryb3AsIGZhbHNlKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZihvcHQuZWxlbWVudHMubmF2X3NlYXJjaF9saW5rLmxlbmd0aCkgb3B0LmVsZW1lbnRzLm5hdl9zZWFyY2hfbGluay5jbGljayhtb3VudGVkLnNlYXJjaExpbmtDbGlja2VkKTtcbiAgICAgICAgICAgIHNldEludGVydmFsKG1vdW50ZWQudGltZUFnbywgMTAwMDApO1xuICAgICAgICAgICAgb3B0LlNFVFVQID0gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIHJlc2V0IDogZnVuY3Rpb24obG9jayl7XG4gICAgICAgICAgICBtb3VudGVkLnN0b3BXYXRjaGRvZygpO1xuICAgICAgICAgICAgaWYob3B0LnNvY2tldC5jaGF0KSBvcHQuc29ja2V0LmNoYXQudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIGlmKG9wdC50aW1lcnMucmVtb3ZlX3R5cGluZ19pbnRlcnZhbCkgY2xlYXJJbnRlcnZhbChvcHQudGltZXJzLnJlbW92ZV90eXBpbmdfaW50ZXJ2YWwpO1xuICAgICAgICAgICAgaWYob3B0LnRpbWVycy5zb2NrZXRfaW50ZXJ2YWwpIGNsZWFySW50ZXJ2YWwob3B0LnRpbWVycy5zb2NrZXRfaW50ZXJ2YWwpO1xuICAgICAgICAgICAgaWYob3B0LnRpbWVycy5tYXJrX3JlYWRfdGltZW91dCkgY2xlYXJUaW1lb3V0KG9wdC50aW1lcnMubWFya19yZWFkX3RpbWVvdXQpO1xuICAgICAgICAgICAgaWYob3B0LnRpbWVycy5yZWNlbnRfYm9iYmxlX3RpbWVvdXQpIGNsZWFyVGltZW91dChvcHQudGltZXJzLnJlY2VudF9ib2JibGVfdGltZW91dCk7XG4gICAgICAgICAgICBpZihvcHQudGltZXJzLmJvYmJsZV9yZWZyZXNoX2ludGVydmFsKSBjbGVhckludGVydmFsKG9wdC50aW1lcnMuYm9iYmxlX3JlZnJlc2hfaW50ZXJ2YWwpO1xuICAgICAgICAgICAgaWYob3B0LnRpbWVycy5wcml2YXRlX2JvYmJsZV9yZWZyZXNoX3RpbWVvdXQpIGNsZWFyVGltZW91dChvcHQudGltZXJzLnByaXZhdGVfYm9iYmxlX3JlZnJlc2hfdGltZW91dCk7XG4gICAgICAgICAgICBpZihvcHQudGltZXJzLmRyYWdfZHJvcF9vdmVybGF5X2hpZGUpe1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChvcHQudGltZXJzLmRyYWdfZHJvcF9vdmVybGF5X2hpZGUpO1xuICAgICAgICAgICAgICAgIG9wdC5lbGVtZW50cy5kcmFnX2Ryb3Bfem9uZS5hZGRDbGFzcygnTlMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdC5lbGVtZW50cy5tZXNzYWdlX2NvbnRhaW5lci5yZW1vdmVDbGFzcygnbXNnLWN0bnItdW5yZWFkJyk7XG4gICAgICAgICAgICBvcHQuZWxlbWVudHMudGhyZWFkX2FyZWEuZmluZCgnLnRocmVhZF9saXN0X2l0ZW0nKS5yZW1vdmVDbGFzcygnYWxlcnQtd2FybmluZyBzaGFkb3ctc20gcm91bmRlZCcpO1xuICAgICAgICAgICAgb3B0LmVsZW1lbnRzLnRocmVhZF9hcmVhLmZpbmQoJy50aHJlYWQtZ3JvdXAtYXZhdGFyJykucmVtb3ZlQ2xhc3MoJ2F2YXRhci1pcy1vbmxpbmUnKS5hZGRDbGFzcygnYXZhdGFyLWlzLW9mZmxpbmUnKTtcbiAgICAgICAgICAgIFBhZ2VMaXN0ZW5lcnMubGlzdGVuKCkuZGlzcG9zZVRvb2x0aXBzKCk7XG4gICAgICAgICAgICBvcHQgPSBPYmplY3QuYXNzaWduKHt9LCBvcHQsIHtcbiAgICAgICAgICAgICAgICB0aHJlYWQgOiB7XG4gICAgICAgICAgICAgICAgICAgIGlkIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIG5hbWUgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBhZG1pbiA6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBwZW5kaW5nIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG11dGVkIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHJlcGx5aW5nIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHJlcGx5X3RvX2lkIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgYXdhaXRpbmdfbXlfYXBwcm92YWwgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlZF9hdCA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzX3VucmVhZCA6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBjbGlja190b19yZWFkIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2luZyA6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGNhbl9jYWxsIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbG9ja291dCA6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB0aHJlYWRfaGlzdG9yeSA6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGhpc3RvcnlfaWQgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBoaXN0b3J5X3JvdXRlIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgaGlzdG9yeV9sb2FkaW5nIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxpemluZyA6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBfaWQgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBfdGhyZWFkIDogbnVsbCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN0YXRlcyA6IHtcbiAgICAgICAgICAgICAgICAgICAgbG9jayA6IGxvY2ssXG4gICAgICAgICAgICAgICAgICAgIGxvYWRfaW5fcmV0cmllcyA6IDAsXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlX2xvY2tvdXRfcmV0cmllcyA6IDAsXG4gICAgICAgICAgICAgICAgICAgIHRocmVhZF9maWx0ZXJlZCA6IG9wdC5zdGF0ZXMudGhyZWFkX2ZpbHRlcmVkLFxuICAgICAgICAgICAgICAgICAgICB0aHJlYWRfZmlsdGVyX3NlYXJjaCA6IG9wdC5zdGF0ZXMudGhyZWFkX2ZpbHRlcl9zZWFyY2gsXG4gICAgICAgICAgICAgICAgICAgIG1lc3Nlbmdlcl9zZWFyY2hfdGVybSA6IG51bGxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNvY2tldCA6IHtcbiAgICAgICAgICAgICAgICAgICAgb25saW5lX3N0YXR1c19zZXR0aW5nIDogb3B0LnNvY2tldC5vbmxpbmVfc3RhdHVzX3NldHRpbmcsXG4gICAgICAgICAgICAgICAgICAgIGNoYXQgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBzb2NrZXRfcmV0cmllcyA6IDAsXG4gICAgICAgICAgICAgICAgICAgIHNlbmRfdHlwaW5nIDogMCxcbiAgICAgICAgICAgICAgICAgICAgaXNfYXdheSA6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdG9yYWdlIDoge1xuICAgICAgICAgICAgICAgICAgICBhY3RpdmVfcHJvZmlsZXMgOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgd2hvX3R5cGluZyA6IFtdLFxuICAgICAgICAgICAgICAgICAgICBib3RfdHlwaW5nIDogW10sXG4gICAgICAgICAgICAgICAgICAgIHRocmVhZHMgOiBvcHQuc3RvcmFnZS50aHJlYWRzLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlcyA6IFtdLFxuICAgICAgICAgICAgICAgICAgICBwYXJ0aWNpcGFudHMgOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgcGVuZGluZ19tZXNzYWdlcyA6IFtdLFxuICAgICAgICAgICAgICAgICAgICB0ZW1wX2RhdGEgOiBudWxsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0aW1lcnMgOiB7XG4gICAgICAgICAgICAgICAgICAgIG1hcmtfcmVhZF90aW1lb3V0IDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgcmVjZW50X2JvYmJsZV90aW1lb3V0IDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgc29ja2V0X2ludGVydmFsIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlX3R5cGluZ19pbnRlcnZhbCA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHByaXZhdGVfYm9iYmxlX3JlZnJlc2hfdGltZW91dCA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGJvYmJsZV9yZWZyZXNoX2ludGVydmFsIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgZHJhZ19kcm9wX292ZXJsYXlfaGlkZSA6IG51bGxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVsZW1lbnRzIDoge1xuICAgICAgICAgICAgICAgICAgICBuYXZfc2VhcmNoX2xpbmsgOiBvcHQuZWxlbWVudHMubmF2X3NlYXJjaF9saW5rLFxuICAgICAgICAgICAgICAgICAgICBteV9hdmF0YXJfYXJlYSA6IG9wdC5lbGVtZW50cy5teV9hdmF0YXJfYXJlYSxcbiAgICAgICAgICAgICAgICAgICAgdGhyZWFkX2FyZWEgOiBvcHQuZWxlbWVudHMudGhyZWFkX2FyZWEsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VfY29udGFpbmVyIDogb3B0LmVsZW1lbnRzLm1lc3NhZ2VfY29udGFpbmVyLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX3NpZGViYXJfY29udGFpbmVyIDogb3B0LmVsZW1lbnRzLm1lc3NhZ2Vfc2lkZWJhcl9jb250YWluZXIsXG4gICAgICAgICAgICAgICAgICAgIHNvY2tldF9lcnJvcl9tc2cgOiBvcHQuZWxlbWVudHMuc29ja2V0X2Vycm9yX21zZyxcbiAgICAgICAgICAgICAgICAgICAgdGhyZWFkX3NlYXJjaF9pbnB1dCA6IG9wdC5lbGVtZW50cy50aHJlYWRfc2VhcmNoX2lucHV0LFxuICAgICAgICAgICAgICAgICAgICB0aHJlYWRfc2VhcmNoX2JhciA6IG9wdC5lbGVtZW50cy50aHJlYWRfc2VhcmNoX2JhcixcbiAgICAgICAgICAgICAgICAgICAgZHJhZ19kcm9wX3pvbmUgOiBvcHQuZWxlbWVudHMuZHJhZ19kcm9wX3pvbmUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3Nlbmdlcl9zZWFyY2hfaW5wdXQgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBtZXNzZW5nZXJfc2VhcmNoX3Jlc3VsdHMgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBtc2dfcGFuZWwgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBkb2NfZmlsZSA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGdyb3VwX2F2YXRhcl9maWxlIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgcmVjb3JkX2F1ZGlvX21lc3NhZ2VfYnRuIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgZGF0YV90YWJsZSA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dF9pbnB1dCA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGZvcm0gOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICB0aGVfdGhyZWFkIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgbXNnX3N0YWNrIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgcGVuZGluZ19tc2dfc3RhY2sgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBuZXdfbXNnX2FsZXJ0IDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgcmVwbHlfbWVzc2FnZV9hbGVydCA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHNlZW5fYnlfZmluYWwgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBhZGRfZW1vamlfYnRuIDogbnVsbCxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICB0aW1lQWdvIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICQoXCJ0aW1lLnRpbWVhZ29cIikuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5odG1sKE1lc3Nlbmdlci5mb3JtYXQoKS5tYWtlVGltZUFnbygkKHRoaXMpLmF0dHIoJ2RhdGV0aW1lJykpKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHN0YXJ0V2F0Y2hkb2cgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgc3dpdGNoKG9wdC50aHJlYWQudHlwZSl7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYoIW9wdC50aHJlYWQubG9ja291dCAmJiBvcHQudGhyZWFkLm1lc3NhZ2luZykgb3B0LmVsZW1lbnRzLm1lc3NhZ2VfdGV4dF9pbnB1dC5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgb3B0LnRpbWVycy5yZW1vdmVfdHlwaW5nX2ludGVydmFsID0gc2V0SW50ZXJ2YWwobWV0aG9kcy5yZW1vdmVUeXBlcnMsIDEwMDApO1xuICAgICAgICAgICAgICAgICAgICBvcHQudGltZXJzLmJvYmJsZV9yZWZyZXNoX2ludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZighTm90aWZ5TWFuYWdlci5zb2NrZXRzKCkuZm9yY2VkX2Rpc2Nvbm5lY3QpIExvYWRJbi5ib2JibGVIZWFkcygpXG4gICAgICAgICAgICAgICAgICAgIH0sIDE4MDAwMCk7XG4gICAgICAgICAgICAgICAgICAgIG9wdC5lbGVtZW50cy5tc2dfcGFuZWwuY2xpY2sobW91bnRlZC5tc2dQYW5lbENsaWNrKTtcbiAgICAgICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLm1zZ19wYW5lbC5zY3JvbGwobW91bnRlZC5tc2dQYW5lbFNjcm9sbCk7XG4gICAgICAgICAgICAgICAgICAgIG9wdC5lbGVtZW50cy5kb2NfZmlsZS5jaGFuZ2UobW91bnRlZC5kb2N1bWVudENoYW5nZSk7XG4gICAgICAgICAgICAgICAgICAgIG9wdC5lbGVtZW50cy5ncm91cF9hdmF0YXJfZmlsZS5jaGFuZ2UobW91bnRlZC51cGxvYWRHcm91cEF2YXRhcik7XG4gICAgICAgICAgICAgICAgICAgIG9wdC5lbGVtZW50cy5yZWNvcmRfYXVkaW9fbWVzc2FnZV9idG4uY2xpY2sobW91bnRlZC5hdWRpb01lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICBvcHQuZWxlbWVudHMuYWRkX2Vtb2ppX2J0bi5jbGljayhtb3VudGVkLnNob3dFbW9qaVBpY2tlcik7XG4gICAgICAgICAgICAgICAgICAgIG9wdC5lbGVtZW50cy5tZXNzYWdlX3RleHRfaW5wdXQub24oJ3Bhc3RlJywgbWV0aG9kcy5wYXN0ZUltYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLmZvcm0ua2V5ZG93bihtb3VudGVkLmZvcm1LZXlkb3duKTtcbiAgICAgICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLmZvcm0ub24oJ2lucHV0IGtleXVwJywgbWV0aG9kcy5tYW5hZ2VTZW5kTWVzc2FnZUJ1dHRvbik7XG4gICAgICAgICAgICAgICAgICAgIG9wdC5lbGVtZW50cy5mb3JtLm9uKCdzdWJtaXQnLCBtb3VudGVkLnN0b3BEZWZhdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLm5ld19tc2dfYWxlcnQuY2xpY2sobW91bnRlZC5uZXdNc2dBbGVydENsaWNrKTtcbiAgICAgICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLnJlcGx5X21lc3NhZ2VfYWxlcnQuY2xpY2sobWV0aG9kcy5yZXNldFJlcGx5aW5nKTtcbiAgICAgICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLm1lc3NhZ2VfY29udGFpbmVyLmNsaWNrKG1vdW50ZWQuY2xpY2tNYXJrUmVhZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmKE1lc3Nlbmdlci5jb21tb24oKS5tb2JpbGUpIG9wdC5lbGVtZW50cy5tZXNzYWdlX3RleHRfaW5wdXQuY2xpY2sobW91bnRlZC5pbnB1dENsaWNrU2Nyb2xsKTtcbiAgICAgICAgICAgICAgICAgICAgaWYoIU1lc3Nlbmdlci5jb21tb24oKS5tb2JpbGUpIG9wdC5lbGVtZW50cy5tZXNzYWdlX3RleHRfaW5wdXQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIG9wdC5lbGVtZW50cy5tZXNzYWdlX3RleHRfaW5wdXQucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIG9wdC5lbGVtZW50cy5tc2dfcGFuZWwuY2xpY2sobW91bnRlZC5tc2dQYW5lbENsaWNrKTtcbiAgICAgICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLmRvY19maWxlLmNoYW5nZShtb3VudGVkLmRvY3VtZW50Q2hhbmdlKTtcbiAgICAgICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLnJlY29yZF9hdWRpb19tZXNzYWdlX2J0bi5jbGljayhtb3VudGVkLmF1ZGlvTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIG9wdC5lbGVtZW50cy5hZGRfZW1vamlfYnRuLmNsaWNrKG1vdW50ZWQuc2hvd0Vtb2ppUGlja2VyKTtcbiAgICAgICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLmZvcm0ua2V5ZG93bihtb3VudGVkLmZvcm1LZXlkb3duKTtcbiAgICAgICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLmZvcm0ub24oJ2lucHV0IGtleXVwJywgbWV0aG9kcy5tYW5hZ2VTZW5kTWVzc2FnZUJ1dHRvbik7XG4gICAgICAgICAgICAgICAgICAgIG9wdC5lbGVtZW50cy5mb3JtLm9uKCdzdWJtaXQnLCBtb3VudGVkLnN0b3BEZWZhdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYoIU1lc3Nlbmdlci5jb21tb24oKS5tb2JpbGUpIG9wdC5lbGVtZW50cy5tZXNzYWdlX3RleHRfaW5wdXQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGxldCBzdWJqZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1YmplY3QnKTtcbiAgICAgICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLm1zZ19wYW5lbC5jbGljayhtb3VudGVkLm1zZ1BhbmVsQ2xpY2spO1xuICAgICAgICAgICAgICAgICAgICBpZighTWVzc2VuZ2VyLmNvbW1vbigpLm1vYmlsZSkgc3ViamVjdC5mb2N1cygpO1xuICAgICAgICAgICAgICAgICAgICBQYWdlTGlzdGVuZXJzLmxpc3RlbigpLnZhbGlkYXRlRm9ybXMoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgIG9wdC5lbGVtZW50cy5tZXNzZW5nZXJfc2VhcmNoX2lucHV0Lm9uKFwia2V5dXAgbW91c2V1cFwiLCBtb3VudGVkLnJ1bk1lc3NlbmdlclNlYXJjaCk7XG4gICAgICAgICAgICAgICAgICAgIG9wdC5lbGVtZW50cy5tc2dfcGFuZWwuY2xpY2sobW91bnRlZC5tc2dQYW5lbENsaWNrKTtcbiAgICAgICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLm1lc3Nlbmdlcl9zZWFyY2hfaW5wdXQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgc3RvcFdhdGNoZG9nIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHN3aXRjaChvcHQudGhyZWFkLnR5cGUpe1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIHRyeXtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdC5lbGVtZW50cy5tc2dfcGFuZWwub2ZmKCdjbGljaycsIG1vdW50ZWQubXNnUGFuZWxDbGljayk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHQuZWxlbWVudHMubXNnX3BhbmVsLm9mZignc2Nyb2xsJywgbW91bnRlZC5tc2dQYW5lbFNjcm9sbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHQuZWxlbWVudHMuZG9jX2ZpbGUub2ZmKCdjaGFuZ2UnLCBtb3VudGVkLmRvY3VtZW50Q2hhbmdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdC5lbGVtZW50cy5ncm91cF9hdmF0YXJfZmlsZS5vZmYoJ2NoYW5nZScsIG1vdW50ZWQudXBsb2FkR3JvdXBBdmF0YXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLnJlY29yZF9hdWRpb19tZXNzYWdlX2J0bi5vZmYoJ2NsaWNrJywgbW91bnRlZC5hdWRpb01lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLmFkZF9lbW9qaV9idG4ub2ZmKCdjbGljaycsIG1vdW50ZWQuc2hvd0Vtb2ppUGlja2VyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdC5lbGVtZW50cy5tZXNzYWdlX3RleHRfaW5wdXQub2ZmKCdwYXN0ZScsIG1ldGhvZHMucGFzdGVJbWFnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHQuZWxlbWVudHMuZm9ybS5vZmYoJ2tleWRvd24nLCBtb3VudGVkLmZvcm1LZXlkb3duKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdC5lbGVtZW50cy5mb3JtLm9mZignaW5wdXQga2V5dXAnLCBtZXRob2RzLm1hbmFnZVNlbmRNZXNzYWdlQnV0dG9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdC5lbGVtZW50cy5mb3JtLm9mZignc3VibWl0JywgbW91bnRlZC5zdG9wRGVmYXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHQuZWxlbWVudHMubmV3X21zZ19hbGVydC5vZmYoJ2NsaWNrJywgbW91bnRlZC5uZXdNc2dBbGVydENsaWNrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdC5lbGVtZW50cy5yZXBseV9tZXNzYWdlX2FsZXJ0Lm9mZignY2xpY2snLCBtZXRob2RzLnJlc2V0UmVwbHlpbmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLm1lc3NhZ2VfY29udGFpbmVyLm9mZignY2xpY2snLCBtb3VudGVkLmNsaWNrTWFya1JlYWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoTWVzc2VuZ2VyLmNvbW1vbigpLm1vYmlsZSkgb3B0LmVsZW1lbnRzLm1lc3NhZ2VfdGV4dF9pbnB1dC5vZmYoJ2NsaWNrJywgbW91bnRlZC5pbnB1dENsaWNrU2Nyb2xsKTtcbiAgICAgICAgICAgICAgICAgICAgfWNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgdHJ5e1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLm1zZ19wYW5lbC5vZmYoJ2NsaWNrJywgbW91bnRlZC5tc2dQYW5lbENsaWNrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdC5lbGVtZW50cy5kb2NfZmlsZS5vZmYoJ2NoYW5nZScsIG1vdW50ZWQuZG9jdW1lbnRDaGFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLnJlY29yZF9hdWRpb19tZXNzYWdlX2J0bi5vZmYoJ2NsaWNrJywgbW91bnRlZC5hdWRpb01lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLmFkZF9lbW9qaV9idG4ub2ZmKCdjbGljaycsIG1vdW50ZWQuc2hvd0Vtb2ppUGlja2VyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdC5lbGVtZW50cy5mb3JtLm9mZigna2V5ZG93bicsIG1vdW50ZWQuZm9ybUtleWRvd24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLmZvcm0ub2ZmKCdpbnB1dCBrZXl1cCcsIG1ldGhvZHMubWFuYWdlU2VuZE1lc3NhZ2VCdXR0b24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLmZvcm0ub2ZmKCdzdWJtaXQnLCBtb3VudGVkLnN0b3BEZWZhdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgfWNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgdHJ5e1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLm1zZ19wYW5lbC5vZmYoJ2NsaWNrJywgbW91bnRlZC5tc2dQYW5lbENsaWNrKTtcbiAgICAgICAgICAgICAgICAgICAgfWNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgdHJ5e1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLm1zZ19wYW5lbC5vZmYoJ2NsaWNrJywgbW91bnRlZC5tc2dQYW5lbENsaWNrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdC5lbGVtZW50cy5tZXNzZW5nZXJfc2VhcmNoX2lucHV0Lm9mZihcImtleXVwIG1vdXNldXBcIiwgbW91bnRlZC5ydW5NZXNzZW5nZXJTZWFyY2gpO1xuICAgICAgICAgICAgICAgICAgICB9Y2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHN0b3BEZWZhdWx0IDogZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgfSxcbiAgICAgICAgc2VhcmNoTGlua0NsaWNrZWQgOiBmdW5jdGlvbihlKXtcbiAgICAgICAgICAgIG1vdW50ZWQuc3RvcERlZmF1bHQoZSk7XG4gICAgICAgICAgICAkKCdib2R5JykuY2xpY2soKTtcbiAgICAgICAgICAgIExvYWRJbi5zZWFyY2goKVxuICAgICAgICB9LFxuICAgICAgICBydW5NZXNzZW5nZXJTZWFyY2ggOiBmdW5jdGlvbihlKXtcbiAgICAgICAgICAgIGlmKG9wdC50aHJlYWQudHlwZSAhPT0gNykgcmV0dXJuO1xuICAgICAgICAgICAgbGV0IGN1cnJlbnRfdGVybSA9IG9wdC5zdGF0ZXMubWVzc2VuZ2VyX3NlYXJjaF90ZXJtLCB0aW1lID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgIGlmKGUgJiYgZS50eXBlID09PSAnbW91c2V1cCcpe1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQobW91bnRlZC5ydW5NZXNzZW5nZXJTZWFyY2gsIDApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKG9wdC5lbGVtZW50cy5tZXNzZW5nZXJfc2VhcmNoX2lucHV0LnZhbCgpLnRyaW0oKS5sZW5ndGgpe1xuICAgICAgICAgICAgICAgIGlmKG9wdC5lbGVtZW50cy5tZXNzZW5nZXJfc2VhcmNoX2lucHV0LnZhbCgpLnRyaW0oKS5sZW5ndGggPj0gMyl7XG4gICAgICAgICAgICAgICAgICAgIGlmKGN1cnJlbnRfdGVybSAhPT0gb3B0LmVsZW1lbnRzLm1lc3Nlbmdlcl9zZWFyY2hfaW5wdXQudmFsKCkudHJpbSgpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdC5zdGF0ZXMubWVzc2VuZ2VyX3NlYXJjaF90ZXJtID0gb3B0LmVsZW1lbnRzLm1lc3Nlbmdlcl9zZWFyY2hfaW5wdXQudmFsKCkudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLm1lc3Nlbmdlcl9zZWFyY2hfcmVzdWx0cy5odG1sKFRocmVhZFRlbXBsYXRlcy5yZW5kZXIoKS5sb2FkZXIoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBNZXNzZW5nZXIueGhyKCkucmVxdWVzdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91dGUgOiBNZXNzZW5nZXIuY29tbW9uKCkuQVBJICsgJ3NlYXJjaC8nK29wdC5zdGF0ZXMubWVzc2VuZ2VyX3NlYXJjaF90ZXJtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MgOiBtZXRob2RzLm1hbmFnZU1lc3NlbmdlclNlYXJjaCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWlsX2FsZXJ0IDogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICBvcHQuc3RhdGVzLm1lc3Nlbmdlcl9zZWFyY2hfdGVybSA9IG9wdC5lbGVtZW50cy5tZXNzZW5nZXJfc2VhcmNoX2lucHV0LnZhbCgpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLm1lc3Nlbmdlcl9zZWFyY2hfcmVzdWx0cy5odG1sKFRocmVhZFRlbXBsYXRlcy5yZW5kZXIoKS50aHJlYWRfZW1wdHlfc2VhcmNoKHRydWUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIG9wdC5zdGF0ZXMubWVzc2VuZ2VyX3NlYXJjaF90ZXJtID0gbnVsbDtcbiAgICAgICAgICAgICAgICBvcHQuZWxlbWVudHMubWVzc2VuZ2VyX3NlYXJjaF9yZXN1bHRzLmh0bWwoVGhyZWFkVGVtcGxhdGVzLnJlbmRlcigpLnRocmVhZF9lbXB0eV9zZWFyY2goKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGlucHV0Q2xpY2tTY3JvbGwgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgbWV0aG9kcy50aHJlYWRTY3JvbGxCb3R0b20odHJ1ZSwgZmFsc2UpXG4gICAgICAgICAgICB9LCAyMDApXG4gICAgICAgIH0sXG4gICAgICAgIGZvcm1LZXlkb3duIDogZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICBzd2l0Y2ggKG9wdC50aHJlYWQudHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmKG9wdC50aHJlYWQubG9ja291dCB8fCAhb3B0LnRocmVhZC5tZXNzYWdpbmcpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZHMuc2VuZE1lc3NhZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZHMuc3RvcFR5cGluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZHMuaXNUeXBpbmcoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmKGUua2V5Q29kZSA9PT0gMTMpIG5ld19mb3Jtcy5uZXdQcml2YXRlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgY2xpY2tNYXJrUmVhZCA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBpZihvcHQudGhyZWFkLmNsaWNrX3RvX3JlYWQgfHwgbWV0aG9kcy5jaGVja1RocmVhZFN0b3JhZ2VVbnJlYWQoKSkgbWV0aG9kcy5tYXJrUmVhZCgpXG4gICAgICAgIH0sXG4gICAgICAgIG1zZ1BhbmVsQ2xpY2sgOiBmdW5jdGlvbihlKXtcbiAgICAgICAgICAgIGlmKG9wdC50aHJlYWQudHlwZSA9PT0gNyl7XG4gICAgICAgICAgICAgICAgbGV0IGZvY3VzX2lucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lc3Nlbmdlcl9zZWFyY2hfcHJvZmlsZXMnKTtcbiAgICAgICAgICAgICAgICBNZXNzZW5nZXIuZm9ybWF0KCkuZm9jdXNFbmQoZm9jdXNfaW5wdXQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBmb2N1c19pbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZXNzYWdlX3RleHRfaW5wdXQnKTtcbiAgICAgICAgICAgIHN3aXRjaCAob3B0LnRocmVhZC50eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYob3B0LnRocmVhZC5sb2Nrb3V0IHx8ICFvcHQudGhyZWFkLm1lc3NhZ2luZykgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZWxtX2NsYXNzID0gJChlLnRhcmdldCkuYXR0cignY2xhc3MnKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGlnbm9yZSA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICdtZXNzYWdlLXRleHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ21lc3NhZ2UtdGV4dCBwdC0yJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdmYXMgZmEtdHJhc2gnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2ZhcyBmYS1ncmluJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdkcm9wZG93bi1pdGVtJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdmYXMgZmEtZWxsaXBzaXMtdicsXG4gICAgICAgICAgICAgICAgICAgICAgICAnZmFzIGZhLWdyaW4tdG9uZ3VlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdmYXMgZmEtcmVwbHknLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2ZhcyBmYS1wZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2pveXBpeGVscycsXG4gICAgICAgICAgICAgICAgICAgICAgICAnbWwtMSBmb250LXdlaWdodC1ib2xkIHRleHQtcHJpbWFyeScsXG4gICAgICAgICAgICAgICAgICAgICAgICAnYmFkZ2UgYmFkZ2UtbGlnaHQgbXItMSBweC0xIHBvaW50ZXJfYXJlYScsXG4gICAgICAgICAgICAgICAgICAgICAgICAncmVhY3RlZC1ieS1tZSBiYWRnZSBiYWRnZS1saWdodCBtci0xIHB4LTEgcG9pbnRlcl9hcmVhJ1xuICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaWdub3JlLmluY2x1ZGVzKGVsbV9jbGFzcykgfHwgTWVzc2VuZ2VyLmNvbW1vbigpLm1vYmlsZSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICBNZXNzZW5nZXIuZm9ybWF0KCkuZm9jdXNFbmQoZm9jdXNfaW5wdXQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYoIW9wdC50aHJlYWQubWVzc2FnaW5nKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIE1lc3Nlbmdlci5mb3JtYXQoKS5mb2N1c0VuZChmb2N1c19pbnB1dCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZihlLnRhcmdldC5pZCA9PT0gJ21zZ190aHJlYWRfbmV3X2dyb3VwJykgTWVzc2VuZ2VyLmZvcm1hdCgpLmZvY3VzRW5kKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWJqZWN0JykpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBtc2dQYW5lbFNjcm9sbCA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBpZigkKHRoaXMpLnNjcm9sbFRvcCgpICA8PSA1MDAgKSBtZXRob2RzLmxvYWRIaXN0b3J5KCk7XG4gICAgICAgICAgICBpZihtZXRob2RzLnRocmVhZFNjcm9sbEJvdHRvbShmYWxzZSwgdHJ1ZSkgJiYgb3B0LnRocmVhZC5tZXNzYWdlc191bnJlYWQgJiYgIW9wdC5zb2NrZXQuaXNfYXdheSAmJiBkb2N1bWVudC5oYXNGb2N1cygpKSBtZXRob2RzLm1hcmtSZWFkKClcbiAgICAgICAgfSxcbiAgICAgICAgbmV3TXNnQWxlcnRDbGljayA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBtZXRob2RzLnRocmVhZFNjcm9sbEJvdHRvbSh0cnVlLCBmYWxzZSk7XG4gICAgICAgICAgICBtZXRob2RzLm1hcmtSZWFkKClcbiAgICAgICAgfSxcbiAgICAgICAgYXVkaW9NZXNzYWdlIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGlmKG9wdC50aHJlYWQubG9ja291dCB8fCAhb3B0LnRocmVhZC5tZXNzYWdpbmcpIHJldHVybjtcbiAgICAgICAgICAgIFJlY29yZEF1ZGlvLm9wZW4oKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2hvd0Vtb2ppUGlja2VyIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGlmKG9wdC50aHJlYWQubG9ja291dCB8fCAhb3B0LnRocmVhZC5tZXNzYWdpbmcpIHJldHVybjtcbiAgICAgICAgICAgIEVtb2ppUGlja2VyLmFkZE1lc3NhZ2UoKVxuICAgICAgICB9LFxuICAgICAgICBkb2N1bWVudENoYW5nZSA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBzd2l0Y2ggKG9wdC50aHJlYWQudHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmKG9wdC50aHJlYWQubG9ja291dCB8fCAhb3B0LnRocmVhZC5tZXNzYWdpbmcpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgKFsuLi5vcHQuZWxlbWVudHMuZG9jX2ZpbGVbMF0uZmlsZXNdKS5mb3JFYWNoKG1ldGhvZHMuc2VuZFVwbG9hZEZpbGVzKTtcbiAgICAgICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLmRvY19maWxlWzBdLnZhbHVlID0gJyc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZighb3B0LnRocmVhZC5tZXNzYWdpbmcpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgTWVzc2VuZ2VyLmJ1dHRvbigpLmFkZExvYWRlcih7aWQgOiAnI2ZpbGVfdXBsb2FkX2J0bid9KTtcbiAgICAgICAgICAgICAgICAgICAgbmV3X2Zvcm1zLm5ld1ByaXZhdGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHVwbG9hZEdyb3VwQXZhdGFyIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGxldCBkYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICAgICAgICBkYXRhLmFwcGVuZCgnaW1hZ2UnLCBvcHQuZWxlbWVudHMuZ3JvdXBfYXZhdGFyX2ZpbGVbMF0uZmlsZXNbMF0pO1xuICAgICAgICAgICAgTWVzc2VuZ2VyLmFsZXJ0KCkuZmlsbE1vZGFsKHtsb2FkZXIgOiB0cnVlLCBub19jbG9zZSA6IHRydWUsIGJvZHkgOiBudWxsLCB0aXRsZSA6ICdVcGxvYWRpbmcuLi4nfSk7XG4gICAgICAgICAgICBNZXNzZW5nZXIueGhyKCkucGF5bG9hZCh7XG4gICAgICAgICAgICAgICAgcm91dGUgOiBNZXNzZW5nZXIuY29tbW9uKCkuQVBJICsgJ3RocmVhZHMvJyArIG9wdC50aHJlYWQuaWQgKyAnL2F2YXRhcicsXG4gICAgICAgICAgICAgICAgZGF0YSA6IGRhdGEsXG4gICAgICAgICAgICAgICAgc3VjY2VzcyA6IGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5BbGVydCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSA6ICdZb3UgdXBkYXRlZCAnK2RhdGEubmFtZSsnXFwncyBBdmF0YXIuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0IDogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNsb3NlX21vZGFsIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBmYWlsX2FsZXJ0IDogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBzd2l0Y2hUb2dnbGVMaXN0ZW5lciA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAkKFwiLnN3aXRjaF9pbnB1dFwiKS5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgaWYoJCh0aGlzKS5pcygnOmNoZWNrZWQnKSl7XG4gICAgICAgICAgICAgICAgICAgICQodGhpcykucGFyZW50cygpLmNsb3Nlc3QoJ3RyJykuYWRkQ2xhc3MoJ3RhYmxlLXdhcm5pbmcnKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkKHRoaXMpLnBhcmVudHMoKS5jbG9zZXN0KCd0cicpLnJlbW92ZUNsYXNzKCd0YWJsZS13YXJuaW5nJylcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIHN0YXJ0UHJlc2VuY2UgOiBmdW5jdGlvbihmdWxsKXtcbiAgICAgICAgICAgIGlmKG9wdC50aHJlYWQuYXdhaXRpbmdfbXlfYXBwcm92YWwgfHwgb3B0LnRocmVhZC5tdXRlZCB8fCBvcHQudGhyZWFkLmxvY2tvdXQpIHJldHVybjtcbiAgICAgICAgICAgIGlmKGZ1bGwpIG9wdC5zb2NrZXQuY2hhdCA9IG51bGw7XG4gICAgICAgICAgICBpZihvcHQuc29ja2V0LmNoYXQpe1xuICAgICAgICAgICAgICAgIG9wdC5zb2NrZXQuY2hhdC5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZih0eXBlb2YgTm90aWZ5TWFuYWdlci5zb2NrZXRzKCkuRWNoby5jb25uZWN0b3IuY2hhbm5lbHNbJ3ByZXNlbmNlLW1lc3Nlbmdlci50aHJlYWQuJytvcHQudGhyZWFkLmlkXSAhPT0gJ3VuZGVmaW5lZCcpe1xuICAgICAgICAgICAgICAgIE5vdGlmeU1hbmFnZXIuc29ja2V0cygpLkVjaG8uY29ubmVjdG9yLmNoYW5uZWxzWydwcmVzZW5jZS1tZXNzZW5nZXIudGhyZWFkLicrb3B0LnRocmVhZC5pZF0uc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgb3B0LnNvY2tldC5jaGF0ID0gTm90aWZ5TWFuYWdlci5zb2NrZXRzKCkuRWNoby5jb25uZWN0b3IuY2hhbm5lbHNbJ3ByZXNlbmNlLW1lc3Nlbmdlci50aHJlYWQuJytvcHQudGhyZWFkLmlkXVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBvcHQuc29ja2V0LmNoYXQgPSBOb3RpZnlNYW5hZ2VyLnNvY2tldHMoKS5FY2hvLmpvaW4oJ21lc3Nlbmdlci50aHJlYWQuJytvcHQudGhyZWFkLmlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdC5zb2NrZXQuY2hhdC5oZXJlKGZ1bmN0aW9uKHVzZXJzKXtcbiAgICAgICAgICAgICAgICBvcHQuc3RvcmFnZS5hY3RpdmVfcHJvZmlsZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAkKCcudGhyZWFkX2Vycm9yX2FyZWEnKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgJC5lYWNoKHVzZXJzLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYoIU1lc3Nlbmdlci5pc1Byb3ZpZGVyKHRoaXMucHJvdmlkZXJfaWQsIG51bGwsIHRoaXMucHJvdmlkZXJfYWxpYXMpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdC5zdG9yYWdlLmFjdGl2ZV9wcm9maWxlcy5wdXNoKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kcy51cGRhdGVCb2JibGVIZWFkKHRoaXMucHJvdmlkZXJfaWQsIG51bGwpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBtZXRob2RzLmRyYXdCb2JibGVIZWFkcygpO1xuICAgICAgICAgICAgICAgIG1ldGhvZHMuc2VuZE9ubGluZVN0YXR1cygob3B0LnNvY2tldC5pc19hd2F5ICYmIG9wdC5zb2NrZXQub25saW5lX3N0YXR1c19zZXR0aW5nICE9PSAwID8gMiA6IG9wdC5zb2NrZXQub25saW5lX3N0YXR1c19zZXR0aW5nKSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmpvaW5pbmcoZnVuY3Rpb24odXNlcikge1xuICAgICAgICAgICAgICAgIG9wdC5zdG9yYWdlLmFjdGl2ZV9wcm9maWxlcy5wdXNoKHVzZXIpO1xuICAgICAgICAgICAgICAgIGlmKG9wdC5zdG9yYWdlLm1lc3NhZ2VzLmxlbmd0aCkgbWV0aG9kcy51cGRhdGVCb2JibGVIZWFkKHVzZXIucHJvdmlkZXJfaWQsIG9wdC5zdG9yYWdlLm1lc3NhZ2VzWzBdLmlkKTtcbiAgICAgICAgICAgICAgICBtZXRob2RzLmRyYXdCb2JibGVIZWFkcygpO1xuICAgICAgICAgICAgICAgIG1ldGhvZHMuc2VuZE9ubGluZVN0YXR1cygob3B0LnNvY2tldC5pc19hd2F5ICYmIG9wdC5zb2NrZXQub25saW5lX3N0YXR1c19zZXR0aW5nICE9PSAwID8gMiA6IG9wdC5zb2NrZXQub25saW5lX3N0YXR1c19zZXR0aW5nKSk7XG4gICAgICAgICAgICAgICAgUGFnZUxpc3RlbmVycy5saXN0ZW4oKS50b29sdGlwcygpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmxlYXZpbmcoZnVuY3Rpb24odXNlcikge1xuICAgICAgICAgICAgICAgIG1ldGhvZHMudXBkYXRlQWN0aXZlUHJvZmlsZSh1c2VyLnByb3ZpZGVyX2lkLCAzKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5saXN0ZW5Gb3JXaGlzcGVyKCd0eXBpbmcnLCBtZXRob2RzLmFkZFR5cGVycylcbiAgICAgICAgICAgIC5saXN0ZW5Gb3JXaGlzcGVyKCdzdG9wLXR5cGluZycsIG1ldGhvZHMucmVtb3ZlVHlwZXJzKVxuICAgICAgICAgICAgLmxpc3RlbkZvcldoaXNwZXIoJ29ubGluZScsIGZ1bmN0aW9uKHVzZXIpe1xuICAgICAgICAgICAgICAgIG1ldGhvZHMudGhyZWFkT25saW5lU3RhdHVzKCh1c2VyLm9ubGluZV9zdGF0dXMpKTtcbiAgICAgICAgICAgICAgICBtZXRob2RzLnVwZGF0ZUFjdGl2ZVByb2ZpbGUodXNlci5wcm92aWRlcl9pZCwgdXNlci5vbmxpbmVfc3RhdHVzKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5saXN0ZW5Gb3JXaGlzcGVyKCdyZWFkJywgZnVuY3Rpb24obWVzc2FnZSl7XG4gICAgICAgICAgICAgICAgbWV0aG9kcy51cGRhdGVCb2JibGVIZWFkKG1lc3NhZ2UucHJvdmlkZXJfaWQsIG1lc3NhZ2UubWVzc2FnZV9pZCk7XG4gICAgICAgICAgICAgICAgbWV0aG9kcy5kcmF3Qm9iYmxlSGVhZHMoKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5saXN0ZW4oJy50aHJlYWQuc2V0dGluZ3MnLCBtZXRob2RzLmdyb3VwU2V0dGluZ3NTdGF0ZSlcbiAgICAgICAgICAgIC5saXN0ZW4oJy50aHJlYWQuYXZhdGFyJywgbWV0aG9kcy5ncm91cEF2YXRhclN0YXRlKVxuICAgICAgICAgICAgLmxpc3RlbignLm1lc3NhZ2UuZWRpdGVkJywgbWV0aG9kcy5yZW5kZXJVcGRhdGVkTWVzc2FnZSlcbiAgICAgICAgICAgIC5saXN0ZW4oJy5yZWFjdGlvbi5hZGRlZCcsIG1ldGhvZHMudXBkYXRlTmV3UmVhY3Rpb24pXG4gICAgICAgICAgICAubGlzdGVuKCcucmVhY3Rpb24ucmVtb3ZlZCcsIG1ldGhvZHMudXBkYXRlUmVtb3ZlUmVhY3Rpb24pXG4gICAgICAgIH1cbiAgICB9LFxuICAgIEhlYWx0aCA9IHtcbiAgICAgICAgY2hlY2tDb25uZWN0aW9uIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGlmKCFNZXNzZW5nZXIuY29tbW9uKCkubW9kdWxlcy5pbmNsdWRlcygnTm90aWZ5TWFuYWdlcicpIHx8ICFOb3RpZnlNYW5hZ2VyLnNvY2tldHMoKS5zdGF0dXMgfHwgIU5vdGlmeU1hbmFnZXIuc29ja2V0cygpLkVjaG8pe1xuICAgICAgICAgICAgICAgIGlmKG9wdC5zb2NrZXQuc29ja2V0X3JldHJpZXMgPj0gMTApe1xuICAgICAgICAgICAgICAgICAgICBvcHQuc3RvcmFnZS5hY3RpdmVfcHJvZmlsZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgb3B0LnNvY2tldC5zb2NrZXRfcmV0cmllcyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIEhlYWx0aC51bnJlYWRDaGVjaygpO1xuICAgICAgICAgICAgICAgICAgICBvcHQuZWxlbWVudHMuc29ja2V0X2Vycm9yX21zZy5odG1sKFRocmVhZFRlbXBsYXRlcy5yZW5kZXIoKS5zb2NrZXRfZXJyb3IoKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmKG9wdC50aHJlYWQuaWQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnRocmVhZF9lcnJvcl9hcmVhJykuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnRocmVhZF9lcnJvcl9idG4nKS5wb3BvdmVyKClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZihvcHQudGltZXJzLnNvY2tldF9pbnRlcnZhbCA9PT0gbnVsbCl7XG4gICAgICAgICAgICAgICAgICAgIG9wdC50aW1lcnMuc29ja2V0X2ludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBIZWFsdGguY2hlY2tDb25uZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvcHQuc29ja2V0LnNvY2tldF9yZXRyaWVzKys7XG4gICAgICAgICAgICAgICAgaWYoTWVzc2VuZ2VyLmNvbW1vbigpLm1vZHVsZXMuaW5jbHVkZXMoJ05vdGlmeU1hbmFnZXInKSAmJiBOb3RpZnlNYW5hZ2VyLnNvY2tldHMoKS5mb3JjZWRfZGlzY29ubmVjdCkgb3B0LmVsZW1lbnRzLm15X2F2YXRhcl9hcmVhLmh0bWwoVGhyZWFkVGVtcGxhdGVzLnJlbmRlcigpLm15X2F2YXRhcl9zdGF0dXMoMCkpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEhlYWx0aC5vbkNvbm5lY3Rpb24oKVxuICAgICAgICB9LFxuICAgICAgICBvbkNvbm5lY3Rpb24gOiBmdW5jdGlvbihmdWxsKXtcbiAgICAgICAgICAgIG9wdC5lbGVtZW50cy5teV9hdmF0YXJfYXJlYS5odG1sKFRocmVhZFRlbXBsYXRlcy5yZW5kZXIoKS5teV9hdmF0YXJfc3RhdHVzKG9wdC5zb2NrZXQub25saW5lX3N0YXR1c19zZXR0aW5nKSk7XG4gICAgICAgICAgICBQYWdlTGlzdGVuZXJzLmxpc3RlbigpLnRvb2x0aXBzKCk7XG4gICAgICAgICAgICBvcHQuc29ja2V0LnNvY2tldF9yZXRyaWVzID0gMDtcbiAgICAgICAgICAgIG9wdC5lbGVtZW50cy5zb2NrZXRfZXJyb3JfbXNnLmh0bWwoJycpO1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChvcHQudGltZXJzLnNvY2tldF9pbnRlcnZhbCk7XG4gICAgICAgICAgICBvcHQudGltZXJzLnNvY2tldF9pbnRlcnZhbCA9IG51bGw7XG4gICAgICAgICAgICBpZihvcHQudGhyZWFkLmlkICYmIG9wdC50aHJlYWQudHlwZSAhPT0gMyl7XG4gICAgICAgICAgICAgICAgJCgnLnRocmVhZF9lcnJvcl9hcmVhJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgIG1vdW50ZWQuc3RhcnRQcmVzZW5jZShmdWxsKVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICByZUNvbm5lY3RlZCA6IGZ1bmN0aW9uKGZ1bGwpe1xuICAgICAgICAgICAgb3B0LmVsZW1lbnRzLm15X2F2YXRhcl9hcmVhLmh0bWwoVGhyZWFkVGVtcGxhdGVzLnJlbmRlcigpLm15X2F2YXRhcl9zdGF0dXMob3B0LnNvY2tldC5vbmxpbmVfc3RhdHVzX3NldHRpbmcpKTtcbiAgICAgICAgICAgIFBhZ2VMaXN0ZW5lcnMubGlzdGVuKCkudG9vbHRpcHMoKTtcbiAgICAgICAgICAgIEhlYWx0aC5vbkNvbm5lY3Rpb24oZnVsbCk7XG4gICAgICAgICAgICBpZighQ2FsbE1hbmFnZXIuc3RhdGUoKS5pbml0aWFsaXplZCkgTG9hZEluLnRocmVhZHMoKTtcbiAgICAgICAgICAgIGlmKG9wdC50aHJlYWQuaWQpe1xuICAgICAgICAgICAgICAgIG9wdC5zdG9yYWdlLnBhcnRpY2lwYW50cyA9IFtdO1xuICAgICAgICAgICAgICAgIG1ldGhvZHMuaW5pdGlhbGl6ZVJlY2VudE1lc3NhZ2VzKHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB1bnJlYWRDaGVjayA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBpZighTWVzc2VuZ2VyLmNvbW1vbigpLm1vZHVsZXMuaW5jbHVkZXMoJ05vdGlmeU1hbmFnZXInKSB8fCBOb3RpZnlNYW5hZ2VyLnNvY2tldHMoKS5mb3JjZWRfZGlzY29ubmVjdCkgcmV0dXJuO1xuICAgICAgICAgICAgbGV0IGNoZWNrVG90YWxVbnJlYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYoQ2FsbE1hbmFnZXIuc3RhdGUoKS5pbml0aWFsaXplZCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIE1lc3Nlbmdlci54aHIoKS5yZXF1ZXN0KHtcbiAgICAgICAgICAgICAgICAgICAgcm91dGUgOiBNZXNzZW5nZXIuY29tbW9uKCkuQVBJKyd1bnJlYWQtdGhyZWFkcy1jb3VudCcsXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKE5vdGlmeU1hbmFnZXIuY291bnRzKCkudGhyZWFkcyAhPT0gZGF0YS51bnJlYWRfdGhyZWFkc19jb3VudCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTm90aWZ5TWFuYWdlci51cGRhdGVNZXNzYWdlQ291bnQoe3RvdGFsX3VucmVhZCA6IGRhdGEudW5yZWFkX3RocmVhZHNfY291bnR9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2FkSW4udGhyZWFkcygpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGZhaWwgOiBudWxsXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZihvcHQudGhyZWFkLmlkKXtcbiAgICAgICAgICAgICAgICBNZXNzZW5nZXIueGhyKCkucmVxdWVzdCh7XG4gICAgICAgICAgICAgICAgICAgIHJvdXRlIDogTWVzc2VuZ2VyLmNvbW1vbigpLkFQSSsndGhyZWFkcy8nK29wdC50aHJlYWQuaWQrJy9pcy11bnJlYWQnLFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzIDogZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnVucmVhZCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0LnN0b3JhZ2UucGFydGljaXBhbnRzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZG9jdW1lbnQuaGFzRm9jdXMoKSAmJiAhb3B0LnNvY2tldC5pc19hd2F5KSBtZXRob2RzLm1hcmtSZWFkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kcy5pbml0aWFsaXplUmVjZW50TWVzc2FnZXModHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIWRvY3VtZW50Lmhhc0ZvY3VzKCkgfHwgb3B0LnNvY2tldC5pc19hd2F5KSBOb3RpZnlNYW5hZ2VyLnNvdW5kKCdtZXNzYWdlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrVG90YWxVbnJlYWQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBmYWlsIDogbnVsbFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoZWNrVG90YWxVbnJlYWQoKVxuICAgICAgICB9XG4gICAgfSxcbiAgICBJbXBvcnRzID0ge1xuICAgICAgICBuZXdNZXNzYWdlIDogZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICBpZihvcHQudGhyZWFkLmlkID09PSBkYXRhLnRocmVhZF9pZCl7XG4gICAgICAgICAgICAgICAgbWV0aG9kcy5hZGRNZXNzYWdlKGRhdGEpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKENhbGxNYW5hZ2VyLnN0YXRlKCkuaW5pdGlhbGl6ZWQgJiYgQ2FsbE1hbmFnZXIuc3RhdGUoKS50aHJlYWRfaWQgIT09IGRhdGEudGhyZWFkX2lkKSByZXR1cm47XG4gICAgICAgICAgICBpZihvcHQudGhyZWFkLmluaXRpYWxpemluZyAmJiBvcHQudGhyZWFkLl9pZCA9PT0gZGF0YS50aHJlYWRfaWQpe1xuICAgICAgICAgICAgICAgIG9wdC5zdG9yYWdlLnBlbmRpbmdfbWVzc2FnZXMucHVzaChkYXRhKTtcbiAgICAgICAgICAgICAgICBtZXRob2RzLnVwZGF0ZVRocmVhZChkYXRhLCBmYWxzZSwgZmFsc2UsIHRydWUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1ldGhvZHMudXBkYXRlVGhyZWFkKGRhdGEsIGZhbHNlLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgICBpZighTWVzc2VuZ2VyLmlzUHJvdmlkZXIoZGF0YS5vd25lcl9pZCwgZGF0YS5vd25lcl90eXBlKSkgTm90aWZ5TWFuYWdlci5zb3VuZCgnbWVzc2FnZScpXG4gICAgICAgIH0sXG4gICAgICAgIGF1ZGlvTWVzc2FnZSA6IGZ1bmN0aW9uKGF1ZGlvKXtcbiAgICAgICAgICAgIGlmKG9wdC50aHJlYWQuaWQpe1xuICAgICAgICAgICAgICAgIGlmKG9wdC50aHJlYWQudHlwZSA9PT0gMyl7XG4gICAgICAgICAgICAgICAgICAgIG5ld19mb3Jtcy5uZXdQcml2YXRlKGZhbHNlLCB0cnVlLCBhdWRpbyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kcy5zZW5kVXBsb2FkRmlsZXMoYXVkaW8sIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGNhbGxTdGF0dXMgOiBmdW5jdGlvbihkYXRhLCBhY3Rpb24pe1xuICAgICAgICAgICAgbWV0aG9kcy50aHJlYWRDYWxsU3RhdHVzKGRhdGEsIGFjdGlvbilcbiAgICAgICAgfSxcbiAgICAgICAgYWRkZWRUb1RocmVhZCA6IGZ1bmN0aW9uKHRocmVhZF9pZCl7XG4gICAgICAgICAgICBMb2FkSW4udGhyZWFkKHRocmVhZF9pZCk7XG4gICAgICAgICAgICBOb3RpZnlNYW5hZ2VyLnNvdW5kKCdtZXNzYWdlJylcbiAgICAgICAgfSxcbiAgICAgICAgcHJvbW90ZWRBZG1pbiA6IGZ1bmN0aW9uKHRocmVhZF9pZCl7XG4gICAgICAgICAgICBpZihvcHQudGhyZWFkLmlkID09PSB0aHJlYWRfaWQpe1xuICAgICAgICAgICAgICAgIE5vdGlmeU1hbmFnZXIuc291bmQoJ25vdGlmeScpO1xuICAgICAgICAgICAgICAgIE1lc3Nlbmdlci5hbGVydCgpLkFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGUgOiAnWW91IHdlcmUgcHJvbW90ZWQgdG8gYWRtaW4uIFJlZnJlc2hpbmcgdGhlIGdyb3VwLi4uJyxcbiAgICAgICAgICAgICAgICAgICAgdG9hc3QgOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB0aGVtZSA6ICdpbmZvJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIExvYWRJbi5pbml0aWF0ZV90aHJlYWQoe3RocmVhZF9pZCA6IG9wdC50aHJlYWQuaWQsIGZvcmNlIDogdHJ1ZX0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGRlbW90ZWRBZG1pbiA6IGZ1bmN0aW9uKHRocmVhZF9pZCl7XG4gICAgICAgICAgICBpZihvcHQudGhyZWFkLmlkID09PSB0aHJlYWRfaWQpe1xuICAgICAgICAgICAgICAgIE5vdGlmeU1hbmFnZXIuc291bmQoJ25vdGlmeScpO1xuICAgICAgICAgICAgICAgIE1lc3Nlbmdlci5hbGVydCgpLkFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGUgOiAnWW91IHdlcmUgZGVtb3RlZCBmcm9tIGFkbWluLiBSZWZyZXNoaW5nIHRoZSBncm91cC4uLicsXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0IDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdGhlbWUgOiAnaW5mbydcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBMb2FkSW4uaW5pdGlhdGVfdGhyZWFkKHt0aHJlYWRfaWQgOiBvcHQudGhyZWFkLmlkLCBmb3JjZSA6IHRydWV9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBwZXJtaXNzaW9uc1VwZGF0ZWQgOiBmdW5jdGlvbih0aHJlYWRfaWQpe1xuICAgICAgICAgICAgaWYob3B0LnRocmVhZC5pZCA9PT0gdGhyZWFkX2lkKXtcbiAgICAgICAgICAgICAgICBOb3RpZnlNYW5hZ2VyLnNvdW5kKCdub3RpZnknKTtcbiAgICAgICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5BbGVydCh7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlIDogJ1lvdXIgcGVybWlzc2lvbnMgd2VyZSB1cGRhdGVkLiBSZWZyZXNoaW5nIHRoZSBncm91cC4uLicsXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0IDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdGhlbWUgOiAnaW5mbydcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBMb2FkSW4uaW5pdGlhdGVfdGhyZWFkKHt0aHJlYWRfaWQgOiBvcHQudGhyZWFkLmlkLCBmb3JjZSA6IHRydWV9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB0aHJlYWRBcHByb3ZhbCA6IGZ1bmN0aW9uKHRocmVhZF9pZCwgYXBwcm92ZWQpe1xuICAgICAgICAgICAgaWYoYXBwcm92ZWQpe1xuICAgICAgICAgICAgICAgIGlmKG9wdC50aHJlYWQuaWQgPT09IHRocmVhZF9pZCl7XG4gICAgICAgICAgICAgICAgICAgIExvYWRJbi5pbml0aWF0ZV90aHJlYWQoe3RocmVhZF9pZCA6IHRocmVhZF9pZCwgZm9yY2UgOiB0cnVlfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgTG9hZEluLnRocmVhZHMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIGlmKG9wdC50aHJlYWQuaWQgPT09IHRocmVhZF9pZCkgTG9hZEluLmNsb3NlT3BlbmVkKCk7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZHMucmVtb3ZlVGhyZWFkKHRocmVhZF9pZClcbiAgICAgICAgICAgICAgICB9LCAyNTAwKVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB0aHJlYWRMZWZ0IDogZnVuY3Rpb24odGhyZWFkX2lkKXtcbiAgICAgICAgICAgIGlmKG9wdC50aHJlYWQuaWQgPT09IHRocmVhZF9pZCkgTG9hZEluLmNsb3NlT3BlbmVkKCk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBtZXRob2RzLnJlbW92ZVRocmVhZCh0aHJlYWRfaWQpXG4gICAgICAgICAgICB9LCAyNTAwKVxuICAgICAgICB9LFxuICAgICAgICBwdXJnZU1lc3NhZ2UgOiBmdW5jdGlvbihtZXNzYWdlKXtcbiAgICAgICAgICAgIGlmKG9wdC50aHJlYWQuaWQgPT09IG1lc3NhZ2UudGhyZWFkX2lkKXtcbiAgICAgICAgICAgICAgICBtZXRob2RzLnB1cmdlTWVzc2FnZShtZXNzYWdlLm1lc3NhZ2VfaWQpO1xuICAgICAgICAgICAgICAgICQoXCIjbWVzc2FnZV9cIittZXNzYWdlLm1lc3NhZ2VfaWQpLnJlbW92ZSgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfSxcbiAgICBtZXRob2RzID0ge1xuICAgICAgICBpbml0aWF0ZVByaXZhdGUgOiBmdW5jdGlvbihhcmcsIGRhdGEsIG5vSGlzdG9yeSl7XG4gICAgICAgICAgICBpZihkYXRhLnJlc291cmNlcy5oYXNPd25Qcm9wZXJ0eSgnbWVzc2FnZXMnKSl7XG4gICAgICAgICAgICAgICAgb3B0LnN0b3JhZ2UubWVzc2FnZXMgPSBkYXRhLnJlc291cmNlcy5tZXNzYWdlcy5kYXRhO1xuICAgICAgICAgICAgICAgIGlmKCFkYXRhLnJlc291cmNlcy5tZXNzYWdlcy5tZXRhLmZpbmFsX3BhZ2Upe1xuICAgICAgICAgICAgICAgICAgICBvcHQudGhyZWFkLnRocmVhZF9oaXN0b3J5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgb3B0LnRocmVhZC5oaXN0b3J5X2lkID0gZGF0YS5yZXNvdXJjZXMubWVzc2FnZXMubWV0YS5uZXh0X3BhZ2VfaWQ7XG4gICAgICAgICAgICAgICAgICAgIG9wdC50aHJlYWQuaGlzdG9yeV9yb3V0ZSA9IGRhdGEucmVzb3VyY2VzLm1lc3NhZ2VzLm1ldGEubmV4dF9wYWdlX3JvdXRlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICBvcHQudGhyZWFkLnRocmVhZF9oaXN0b3J5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIG9wdC50aHJlYWQuaGlzdG9yeV9pZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIG9wdC50aHJlYWQuaGlzdG9yeV9yb3V0ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3B0LnN0b3JhZ2UucGFydGljaXBhbnRzID0gZGF0YS5yZXNvdXJjZXMuaGFzT3duUHJvcGVydHkoJ3BhcnRpY2lwYW50cycpID8gZGF0YS5yZXNvdXJjZXMucGFydGljaXBhbnRzLmRhdGEgOiBbXTtcbiAgICAgICAgICAgIG9wdC5lbGVtZW50cy5tZXNzYWdlX2NvbnRhaW5lci5odG1sKFRocmVhZFRlbXBsYXRlcy5yZW5kZXIoKS5yZW5kZXJfcHJpdmF0ZShkYXRhKSk7XG4gICAgICAgICAgICBpZighbm9IaXN0b3J5KSB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoe3R5cGUgOiAxLCB0aHJlYWRfaWQgOiBkYXRhLmlkfSwgbnVsbCwgTWVzc2VuZ2VyLmNvbW1vbigpLldFQiArICcvJytkYXRhLmlkKTtcbiAgICAgICAgICAgIG9wdC50aHJlYWQuY3JlYXRlZF9hdCA9IGRhdGEuY3JlYXRlZF9hdDtcbiAgICAgICAgICAgIG9wdC50aHJlYWQubXV0ZWQgPSBkYXRhLm9wdGlvbnMubXV0ZWQ7XG4gICAgICAgICAgICBvcHQudGhyZWFkLl90aHJlYWQgPSBkYXRhO1xuICAgICAgICAgICAgbW91bnRlZC5Jbml0aWFsaXplKHtcbiAgICAgICAgICAgICAgICB0eXBlIDogZGF0YS50eXBlLFxuICAgICAgICAgICAgICAgIHRocmVhZF9pZCA6IGRhdGEuaWQsXG4gICAgICAgICAgICAgICAgdF9uYW1lIDogZGF0YS5uYW1lLFxuICAgICAgICAgICAgICAgIGNhbl9jYWxsIDogZGF0YS5vcHRpb25zLmNhbGwsXG4gICAgICAgICAgICAgICAgYWRtaW4gOiBkYXRhLm9wdGlvbnMuYWRtaW4sXG4gICAgICAgICAgICAgICAgcGVuZGluZyA6IGRhdGEucGVuZGluZyxcbiAgICAgICAgICAgICAgICBhd2FpdGluZ19teV9hcHByb3ZhbCA6IGRhdGEub3B0aW9ucy5hd2FpdGluZ19teV9hcHByb3ZhbCA/PyBmYWxzZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdpbmcgOiBkYXRhLm9wdGlvbnMubWVzc2FnZSxcbiAgICAgICAgICAgICAgICBsb2Nrb3V0IDogZGF0YS5sb2NrZWRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbWV0aG9kcy51cGRhdGVUaHJlYWQoZGF0YSwgdHJ1ZSwgZmFsc2UsICgnbmV3JyBpbiBhcmcpKVxuICAgICAgICB9LFxuICAgICAgICBpbml0aWF0ZUdyb3VwIDogZnVuY3Rpb24oYXJnLCBkYXRhLCBub0hpc3Rvcnkpe1xuICAgICAgICAgICAgaWYoZGF0YS5yZXNvdXJjZXMuaGFzT3duUHJvcGVydHkoJ21lc3NhZ2VzJykpe1xuICAgICAgICAgICAgICAgIG9wdC5zdG9yYWdlLm1lc3NhZ2VzID0gZGF0YS5yZXNvdXJjZXMubWVzc2FnZXMuZGF0YTtcbiAgICAgICAgICAgICAgICBpZighZGF0YS5yZXNvdXJjZXMubWVzc2FnZXMubWV0YS5maW5hbF9wYWdlKXtcbiAgICAgICAgICAgICAgICAgICAgb3B0LnRocmVhZC50aHJlYWRfaGlzdG9yeSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIG9wdC50aHJlYWQuaGlzdG9yeV9pZCA9IGRhdGEucmVzb3VyY2VzLm1lc3NhZ2VzLm1ldGEubmV4dF9wYWdlX2lkO1xuICAgICAgICAgICAgICAgICAgICBvcHQudGhyZWFkLmhpc3Rvcnlfcm91dGUgPSBkYXRhLnJlc291cmNlcy5tZXNzYWdlcy5tZXRhLm5leHRfcGFnZV9yb3V0ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgb3B0LnRocmVhZC50aHJlYWRfaGlzdG9yeSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBvcHQudGhyZWFkLmhpc3RvcnlfaWQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBvcHQudGhyZWFkLmhpc3Rvcnlfcm91dGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdC5zdG9yYWdlLnBhcnRpY2lwYW50cyA9IGRhdGEucmVzb3VyY2VzLmhhc093blByb3BlcnR5KCdwYXJ0aWNpcGFudHMnKSA/IGRhdGEucmVzb3VyY2VzLnBhcnRpY2lwYW50cy5kYXRhIDogW107XG4gICAgICAgICAgICBvcHQuZWxlbWVudHMubWVzc2FnZV9jb250YWluZXIuaHRtbChUaHJlYWRUZW1wbGF0ZXMucmVuZGVyKCkucmVuZGVyX2dyb3VwKGRhdGEpKTtcbiAgICAgICAgICAgIGlmKCFub0hpc3RvcnkpIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSh7dHlwZSA6IDIsIHRocmVhZF9pZCA6IGRhdGEuaWR9LCBudWxsLCBNZXNzZW5nZXIuY29tbW9uKCkuV0VCICsgJy8nK2RhdGEuaWQpO1xuICAgICAgICAgICAgb3B0LnRocmVhZC5jcmVhdGVkX2F0ID0gZGF0YS5jcmVhdGVkX2F0O1xuICAgICAgICAgICAgb3B0LnRocmVhZC5tdXRlZCA9IGRhdGEub3B0aW9ucy5tdXRlZDtcbiAgICAgICAgICAgIG9wdC50aHJlYWQuX3RocmVhZCA9IGRhdGE7XG4gICAgICAgICAgICBtb3VudGVkLkluaXRpYWxpemUoe1xuICAgICAgICAgICAgICAgIHR5cGUgOiBkYXRhLnR5cGUsXG4gICAgICAgICAgICAgICAgdGhyZWFkX2lkIDogZGF0YS5pZCxcbiAgICAgICAgICAgICAgICB0X25hbWUgOiBkYXRhLm5hbWUsXG4gICAgICAgICAgICAgICAgY2FuX2NhbGwgOiBkYXRhLm9wdGlvbnMuY2FsbCxcbiAgICAgICAgICAgICAgICBhZG1pbiA6IGRhdGEub3B0aW9ucy5hZG1pbixcbiAgICAgICAgICAgICAgICBtZXNzYWdpbmcgOiBkYXRhLm9wdGlvbnMubWVzc2FnZSxcbiAgICAgICAgICAgICAgICBsb2Nrb3V0IDogZGF0YS5sb2NrZWRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbWV0aG9kcy51cGRhdGVUaHJlYWQoZGF0YSwgdHJ1ZSwgZmFsc2UsICgnbmV3JyBpbiBhcmcpKVxuICAgICAgICB9LFxuICAgICAgICBtYW5hZ2VNZXNzZW5nZXJTZWFyY2ggOiBmdW5jdGlvbihzZWFyY2gpe1xuICAgICAgICAgICAgaWYob3B0LnRocmVhZC50eXBlICE9PSA3KSByZXR1cm47XG4gICAgICAgICAgICBpZighc2VhcmNoLmRhdGEubGVuZ3RoKXtcbiAgICAgICAgICAgICAgICBvcHQuZWxlbWVudHMubWVzc2VuZ2VyX3NlYXJjaF9yZXN1bHRzLmh0bWwoVGhyZWFkVGVtcGxhdGVzLnJlbmRlcigpLnRocmVhZF9lbXB0eV9zZWFyY2godHJ1ZSwgdHJ1ZSkpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdC5lbGVtZW50cy5tZXNzZW5nZXJfc2VhcmNoX3Jlc3VsdHMuaHRtbCgnJyk7XG4gICAgICAgICAgICBzZWFyY2guZGF0YS5mb3JFYWNoKChwcm9maWxlKSA9PiB7XG4gICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLm1lc3Nlbmdlcl9zZWFyY2hfcmVzdWx0cy5hcHBlbmQoVGhyZWFkVGVtcGxhdGVzLnJlbmRlcigpLm1lc3Nlbmdlcl9zZWFyY2gocHJvZmlsZSkpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIExhenlJbWFnZXMudXBkYXRlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGZpbGVEcmFnRHJvcCA6IGZ1bmN0aW9uKGUpe1xuICAgICAgICAgICAgbGV0IGlzRmlsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGUuZGF0YVRyYW5zZmVyLml0ZW1zLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUuZGF0YVRyYW5zZmVyLml0ZW1zW2ldLmtpbmQgPT09IFwiZmlsZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYoIWlzRmlsZSgpKSByZXR1cm47XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgaWYoIVsxLDJdLmluY2x1ZGVzKG9wdC50aHJlYWQudHlwZSkgfHwgIW9wdC50aHJlYWQuaWQgfHwgb3B0LnRocmVhZC5sb2Nrb3V0IHx8ICFvcHQudGhyZWFkLm1lc3NhZ2luZykgcmV0dXJuO1xuICAgICAgICAgICAgaWYoWydkcmFnZW50ZXInLCAnZHJhZ292ZXInXS5pbmNsdWRlcyhlLnR5cGUpKXtcbiAgICAgICAgICAgICAgICBpZihvcHQudGltZXJzLmRyYWdfZHJvcF9vdmVybGF5X2hpZGUpIGNsZWFyVGltZW91dChvcHQudGltZXJzLmRyYWdfZHJvcF9vdmVybGF5X2hpZGUpO1xuICAgICAgICAgICAgICAgIG9wdC5lbGVtZW50cy5kcmFnX2Ryb3Bfem9uZS5mYWRlSW4oJ2Zhc3QnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKGUudHlwZSA9PT0gJ2RyYWdsZWF2ZScpe1xuICAgICAgICAgICAgICAgIG9wdC50aW1lcnMuZHJhZ19kcm9wX292ZXJsYXlfaGlkZSA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBvcHQuZWxlbWVudHMuZHJhZ19kcm9wX3pvbmUuZmFkZU91dCgnZmFzdCcpXG4gICAgICAgICAgICAgICAgfSwgMjAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKGUudHlwZSA9PT0gJ2Ryb3AnKXtcbiAgICAgICAgICAgICAgICBvcHQuZWxlbWVudHMuZHJhZ19kcm9wX3pvbmUuZmFkZU91dCgnZmFzdCcpO1xuICAgICAgICAgICAgICAgIGxldCBmaWxlcyA9IGUuZGF0YVRyYW5zZmVyLmZpbGVzO1xuICAgICAgICAgICAgICAgIChbLi4uZmlsZXNdKS5mb3JFYWNoKG1ldGhvZHMuc2VuZFVwbG9hZEZpbGVzKTtcbiAgICAgICAgICAgICAgICBvcHQuZWxlbWVudHMubWVzc2FnZV90ZXh0X2lucHV0LmZvY3VzKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgbWFuYWdlU2VuZE1lc3NhZ2VCdXR0b24gOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgbGV0IGJ0biA9ICQoXCIjaW5saW5lX3NlbmRfbXNnX2J0blwiKSwgbWVzc2FnZV9jb250ZW50cyA9IG9wdC5lbGVtZW50cy5tZXNzYWdlX3RleHRfaW5wdXQudmFsKCk7XG4gICAgICAgICAgICBpZihtZXNzYWdlX2NvbnRlbnRzLnRyaW0oKS5sZW5ndGgpe1xuICAgICAgICAgICAgICAgIGlmKCFidG4ubGVuZ3RoKXtcbiAgICAgICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLm1lc3NhZ2VfdGV4dF9pbnB1dC5hZnRlcihUaHJlYWRUZW1wbGF0ZXMucmVuZGVyKCkuc2VuZF9tc2dfYnRuKGZhbHNlKSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIGJ0bi5yZW1vdmUoKVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBncm91cFNldHRpbmdzU3RhdGUgOiBmdW5jdGlvbihzZXR0aW5ncyl7XG4gICAgICAgICAgICBpZighTWVzc2VuZ2VyLmlzUHJvdmlkZXIoc2V0dGluZ3Muc2VuZGVyLnByb3ZpZGVyX2lkLCBudWxsLCBzZXR0aW5ncy5zZW5kZXIucHJvdmlkZXJfYWxpYXMpKXtcbiAgICAgICAgICAgICAgICBOb3RpZnlNYW5hZ2VyLnNvdW5kKCdub3RpZnknKTtcbiAgICAgICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5BbGVydCh7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlIDogc2V0dGluZ3Muc2VuZGVyLm5hbWUrJyB1cGRhdGVkIHRoZSBncm91cHMgc2V0dGluZ3MuIFJlZnJlc2hpbmcgdGhlIGdyb3VwLi4uJyxcbiAgICAgICAgICAgICAgICAgICAgdG9hc3QgOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB0aGVtZSA6ICdpbmZvJ1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBMb2FkSW4uaW5pdGlhdGVfdGhyZWFkKHt0aHJlYWRfaWQgOiBvcHQudGhyZWFkLmlkLCBmb3JjZSA6IHRydWV9KVxuICAgICAgICB9LFxuICAgICAgICBncm91cEF2YXRhclN0YXRlIDogZnVuY3Rpb24oc2V0dGluZ3Mpe1xuICAgICAgICAgICAgaWYoIU1lc3Nlbmdlci5pc1Byb3ZpZGVyKHNldHRpbmdzLnNlbmRlci5wcm92aWRlcl9pZCwgbnVsbCwgc2V0dGluZ3Muc2VuZGVyLnByb3ZpZGVyX2FsaWFzKSl7XG4gICAgICAgICAgICAgICAgTm90aWZ5TWFuYWdlci5zb3VuZCgnbm90aWZ5Jyk7XG4gICAgICAgICAgICAgICAgTWVzc2VuZ2VyLmFsZXJ0KCkuQWxlcnQoe1xuICAgICAgICAgICAgICAgICAgICB0aXRsZSA6IHNldHRpbmdzLnNlbmRlci5uYW1lKycgdXBkYXRlZCB0aGUgZ3JvdXBzIGF2YXRhci4gUmVmcmVzaGluZyB0aGUgZ3JvdXAuLi4nLFxuICAgICAgICAgICAgICAgICAgICB0b2FzdCA6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHRoZW1lIDogJ2luZm8nXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIExvYWRJbi5pbml0aWF0ZV90aHJlYWQoe3RocmVhZF9pZCA6IG9wdC50aHJlYWQuaWQsIGZvcmNlIDogdHJ1ZX0pXG4gICAgICAgIH0sXG4gICAgICAgIHRocmVhZFNjcm9sbEJvdHRvbSA6IGZ1bmN0aW9uKGZvcmNlLCBjaGVjayl7XG4gICAgICAgICAgICBpZighb3B0LmVsZW1lbnRzLnRoZV90aHJlYWQpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGxldCB0b3AgPSBvcHQuZWxlbWVudHMudGhlX3RocmVhZC5wcm9wKFwic2Nyb2xsVG9wXCIpLCBoZWlnaHQgPSBvcHQuZWxlbWVudHMudGhlX3RocmVhZC5wcm9wKFwic2Nyb2xsSGVpZ2h0XCIpLCBvZmZzZXQgPSBvcHQuZWxlbWVudHMudGhlX3RocmVhZC5wcm9wKFwib2Zmc2V0SGVpZ2h0XCIpO1xuICAgICAgICAgICAgaWYoZm9yY2UgfHwgdG9wID09PSAoaGVpZ2h0IC0gb2Zmc2V0KSB8fCAoKGhlaWdodCAtIG9mZnNldCkgLSB0b3ApIDwgMjAwKXtcbiAgICAgICAgICAgICAgICBpZighY2hlY2spIG9wdC5lbGVtZW50cy50aGVfdGhyZWFkLnNjcm9sbFRvcChoZWlnaHQpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9LFxuICAgICAgICBzdGF0dXNPbmxpbmUgOiBmdW5jdGlvbihzdGF0ZSwgaW5hY3Rpdml0eSl7XG4gICAgICAgICAgICBvcHQuc29ja2V0LmlzX2F3YXkgPSAoc3RhdGUgPT09IDIgJiYgaW5hY3Rpdml0eSk7XG4gICAgICAgICAgICBpZihvcHQuSU5JVCAmJiBvcHQuZWxlbWVudHMubXlfYXZhdGFyX2FyZWEubGVuZ3RoKXtcbiAgICAgICAgICAgICAgICBvcHQuZWxlbWVudHMubXlfYXZhdGFyX2FyZWEuaHRtbChUaHJlYWRUZW1wbGF0ZXMucmVuZGVyKCkubXlfYXZhdGFyX3N0YXR1cygoc3RhdGUgPT09IDEgJiYgb3B0LnNvY2tldC5vbmxpbmVfc3RhdHVzX3NldHRpbmcgPT09IDIgPyAyIDogKHN0YXRlID09PSAxICYmIG9wdC5zb2NrZXQub25saW5lX3N0YXR1c19zZXR0aW5nID09PSAwID8gMCA6IChzdGF0ZSA9PT0gMiAmJiBvcHQuc29ja2V0Lm9ubGluZV9zdGF0dXNfc2V0dGluZyA9PT0gMCA/IDAgOiBzdGF0ZSkpKSkpO1xuICAgICAgICAgICAgICAgIFBhZ2VMaXN0ZW5lcnMubGlzdGVuKCkudG9vbHRpcHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1ldGhvZHMuc2VuZE9ubGluZVN0YXR1cygoc3RhdGUgPT09IDEgJiYgb3B0LnNvY2tldC5vbmxpbmVfc3RhdHVzX3NldHRpbmcgPT09IDIgPyAyIDogc3RhdGUpKVxuICAgICAgICB9LFxuICAgICAgICB1cGRhdGVPbmxpbmVTdGF0dXNTZXR0aW5nIDogZnVuY3Rpb24oc3RhdGUpe1xuICAgICAgICAgICAgb3B0LnNvY2tldC5vbmxpbmVfc3RhdHVzX3NldHRpbmcgPSBzdGF0ZTtcbiAgICAgICAgICAgIG1ldGhvZHMuc3RhdHVzT25saW5lKHN0YXRlLCBmYWxzZSlcbiAgICAgICAgfSxcbiAgICAgICAgY2hlY2tUaHJlYWRTdG9yYWdlVW5yZWFkIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGlmKCFvcHQudGhyZWFkLmlkKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBsZXQgdGhyZWFkID0gbWV0aG9kcy5sb2NhdGVTdG9yYWdlSXRlbSh7dHlwZSA6ICd0aHJlYWQnLCBpZCA6IG9wdC50aHJlYWQuaWR9KTtcbiAgICAgICAgICAgIHJldHVybiB0aHJlYWQuZm91bmQgJiYgb3B0LnN0b3JhZ2UudGhyZWFkc1t0aHJlYWQuaW5kZXhdLnVucmVhZDtcbiAgICAgICAgfSxcbiAgICAgICAgbWFya1JlYWQgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgaWYoIW9wdC50aHJlYWQuaWQgfHwgb3B0LnRocmVhZC5hd2FpdGluZ19teV9hcHByb3ZhbCB8fCAhbWV0aG9kcy50aHJlYWRTY3JvbGxCb3R0b20oZmFsc2UsIHRydWUpKSByZXR1cm47XG4gICAgICAgICAgICBvcHQudGhyZWFkLm1lc3NhZ2VzX3VucmVhZCA9IGZhbHNlO1xuICAgICAgICAgICAgb3B0LmVsZW1lbnRzLm1lc3NhZ2VfY29udGFpbmVyLnJlbW92ZUNsYXNzKCdtc2ctY3Ruci11bnJlYWQnKTtcbiAgICAgICAgICAgIG9wdC50aHJlYWQuY2xpY2tfdG9fcmVhZCA9IGZhbHNlO1xuICAgICAgICAgICAgb3B0LmVsZW1lbnRzLm5ld19tc2dfYWxlcnQuaGlkZSgpO1xuICAgICAgICAgICAgbWV0aG9kcy51cGRhdGVUaHJlYWQoe3RocmVhZF9pZCA6IG9wdC50aHJlYWQuaWR9LCBmYWxzZSwgdHJ1ZSwgZmFsc2UpO1xuICAgICAgICAgICAgaWYob3B0LnN0b3JhZ2UubWVzc2FnZXMubGVuZ3RoKSBtZXRob2RzLnNlZW5NZXNzYWdlKG9wdC5zdG9yYWdlLm1lc3NhZ2VzWzBdLmlkKTtcbiAgICAgICAgICAgIGxldCBydW5NYXJrUmVhZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBNZXNzZW5nZXIueGhyKCkucmVxdWVzdCh7XG4gICAgICAgICAgICAgICAgICAgIHJvdXRlIDogTWVzc2VuZ2VyLmNvbW1vbigpLkFQSSsndGhyZWFkcy8nK29wdC50aHJlYWQuaWQrJy9tYXJrLXJlYWQnLFxuICAgICAgICAgICAgICAgICAgICBmYWlsIDogbnVsbFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYob3B0LnRpbWVycy5tYXJrX3JlYWRfdGltZW91dCl7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KG9wdC50aW1lcnMubWFya19yZWFkX3RpbWVvdXQpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcHQudGltZXJzLm1hcmtfcmVhZF90aW1lb3V0ID0gc2V0VGltZW91dChydW5NYXJrUmVhZCwgMTAwMClcbiAgICAgICAgfSxcbiAgICAgICAgbG9hZERhdGFUYWJsZSA6IGZ1bmN0aW9uKGVsbSwgc3BlY2lhbCl7XG4gICAgICAgICAgICBpZihvcHQuZWxlbWVudHMuZGF0YV90YWJsZSkgb3B0LmVsZW1lbnRzLmRhdGFfdGFibGUuZGVzdHJveSgpO1xuICAgICAgICAgICAgaWYoIWVsbSB8fCAhZWxtLmxlbmd0aCkgcmV0dXJuO1xuICAgICAgICAgICAgaWYoc3BlY2lhbCl7XG4gICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLmRhdGFfdGFibGUgPSBlbG0uRGF0YVRhYmxlKHtcbiAgICAgICAgICAgICAgICAgICAgXCJsYW5ndWFnZVwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcImluZm9cIjogXCJTaG93aW5nIF9TVEFSVF8gdG8gX0VORF8gb2YgX1RPVEFMXyBmcmllbmRzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImxlbmd0aE1lbnVcIjogXCJTaG93IF9NRU5VXyBmcmllbmRzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImluZm9FbXB0eVwiOiBcIlNob3dpbmcgMCB0byAwIG9mIDAgZnJpZW5kc1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJpbmZvRmlsdGVyZWRcIjogXCIoZmlsdGVyZWQgZnJvbSBfTUFYXyB0b3RhbCBmcmllbmRzKVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJlbXB0eVRhYmxlXCI6IFwiTm8gZnJpZW5kcyBmb3VuZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ6ZXJvUmVjb3Jkc1wiOiBcIk5vIG1hdGNoaW5nIGZyaWVuZHMgZm91bmRcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcImRyYXdDYWxsYmFja1wiOiBmdW5jdGlvbihzZXR0aW5ncyl7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYXBpID0gbmV3ICQuZm4uRGF0YVRhYmxlLkFwaShzZXR0aW5ncyksIHBhZ2luYXRpb24gPSAkKHRoaXMpLmNsb3Nlc3QoJy5kYXRhVGFibGVzX3dyYXBwZXInKS5maW5kKCcuZGF0YVRhYmxlc19wYWdpbmF0ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbi50b2dnbGUoYXBpLnBhZ2UuaW5mbygpLnBhZ2VzID4gMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBMYXp5SW1hZ2VzLnVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcInBhZ2VMZW5ndGhcIjogMTAwXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3B0LmVsZW1lbnRzLmRhdGFfdGFibGUgPSBlbG0uRGF0YVRhYmxlKHtcbiAgICAgICAgICAgICAgICBcImxhbmd1YWdlXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgXCJpbmZvXCI6IFwiU2hvd2luZyBfU1RBUlRfIHRvIF9FTkRfIG9mIF9UT1RBTF8gcGFydGljaXBhbnRzXCIsXG4gICAgICAgICAgICAgICAgICAgIFwibGVuZ3RoTWVudVwiOiBcIlNob3cgX01FTlVfIHBhcnRpY2lwYW50c1wiLFxuICAgICAgICAgICAgICAgICAgICBcImluZm9FbXB0eVwiOiBcIlNob3dpbmcgMCB0byAwIG9mIDAgcGFydGljaXBhbnRzXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaW5mb0ZpbHRlcmVkXCI6IFwiKGZpbHRlcmVkIGZyb20gX01BWF8gdG90YWwgcGFydGljaXBhbnRzKVwiLFxuICAgICAgICAgICAgICAgICAgICBcImVtcHR5VGFibGVcIjogXCJObyBwYXJ0aWNpcGFudHMgZm91bmRcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ6ZXJvUmVjb3Jkc1wiOiBcIk5vIG1hdGNoaW5nIHBhcnRpY2lwYW50cyBmb3VuZFwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBcImRyYXdDYWxsYmFja1wiOiBmdW5jdGlvbihzZXR0aW5ncyl7XG4gICAgICAgICAgICAgICAgICAgIGxldCBhcGkgPSBuZXcgJC5mbi5EYXRhVGFibGUuQXBpKHNldHRpbmdzKSwgcGFnaW5hdGlvbiA9ICQodGhpcykuY2xvc2VzdCgnLmRhdGFUYWJsZXNfd3JhcHBlcicpLmZpbmQoJy5kYXRhVGFibGVzX3BhZ2luYXRlJyk7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb24udG9nZ2xlKGFwaS5wYWdlLmluZm8oKS5wYWdlcyA+IDEpO1xuICAgICAgICAgICAgICAgICAgICBMYXp5SW1hZ2VzLnVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBhZGRUeXBlcnMgOiBmdW5jdGlvbih1c2VyKXtcbiAgICAgICAgICAgIGlmKCFvcHQuc3RvcmFnZS5tZXNzYWdlcy5sZW5ndGgpIHJldHVybjtcbiAgICAgICAgICAgIGlmKHVzZXIucHJvdmlkZXJfYWxpYXMgPT09ICdib3QnKXtcbiAgICAgICAgICAgICAgICBtZXRob2RzLmFkZEJvdFR5cGVycyh1c2VyKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgdGltZSA9IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgZmluZCA9IG1ldGhvZHMubG9jYXRlU3RvcmFnZUl0ZW0oe3R5cGUgOiAndHlwaW5nJywgaWQgOiB1c2VyLnByb3ZpZGVyX2lkfSk7XG4gICAgICAgICAgICBpZighZmluZC5mb3VuZCl7XG4gICAgICAgICAgICAgICAgb3B0LnN0b3JhZ2Uud2hvX3R5cGluZy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgaWQgOiB1c2VyLnByb3ZpZGVyX2lkLFxuICAgICAgICAgICAgICAgICAgICBhbGlhcyA6IHVzZXIucHJvdmlkZXJfYWxpYXMsXG4gICAgICAgICAgICAgICAgICAgIGF2YXRhciA6IHVzZXIuYXZhdGFyLFxuICAgICAgICAgICAgICAgICAgICBuYW1lIDogdXNlci5uYW1lLFxuICAgICAgICAgICAgICAgICAgICB0aW1lIDogdGltZS5nZXRUaW1lKClcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBvcHQuc3RvcmFnZS53aG9fdHlwaW5nLmZvckVhY2goKHVzZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYoISQoXCIjdHlwaW5nX1wiK3VzZXIuaWQpLmxlbmd0aCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2RzLnVwZGF0ZUJvYmJsZUhlYWQodXNlci5pZCwgbnVsbClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgbWV0aG9kcy5kcmF3Qm9iYmxlSGVhZHMoKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdC5zdG9yYWdlLndob190eXBpbmdbZmluZC5pbmRleF0udGltZSA9IHRpbWUuZ2V0VGltZSgpO1xuICAgICAgICB9LFxuICAgICAgICBhZGRCb3RUeXBlcnMgOiBmdW5jdGlvbihib3Qpe1xuICAgICAgICAgICAgbGV0IHRpbWUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgbGV0IGZpbmQgPSBtZXRob2RzLmxvY2F0ZVN0b3JhZ2VJdGVtKHt0eXBlIDogJ2JvdC10eXBpbmcnLCBpZCA6IGJvdC5wcm92aWRlcl9pZH0pO1xuICAgICAgICAgICAgaWYoIWZpbmQuZm91bmQpe1xuICAgICAgICAgICAgICAgIG9wdC5zdG9yYWdlLmJvdF90eXBpbmcucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGlkIDogYm90LnByb3ZpZGVyX2lkLFxuICAgICAgICAgICAgICAgICAgICBhbGlhcyA6IGJvdC5wcm92aWRlcl9hbGlhcyxcbiAgICAgICAgICAgICAgICAgICAgYXZhdGFyIDogYm90LmF2YXRhcixcbiAgICAgICAgICAgICAgICAgICAgbmFtZSA6IGJvdC5uYW1lLFxuICAgICAgICAgICAgICAgICAgICB0aW1lIDogdGltZS5nZXRUaW1lKClcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBtZXRob2RzLmRyYXdCb3RUeXBpbmdCb2JibGVIZWFkcygpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdC5zdG9yYWdlLmJvdF90eXBpbmdbZmluZC5pbmRleF0udGltZSA9IHRpbWUuZ2V0VGltZSgpO1xuICAgICAgICB9LFxuICAgICAgICByZW1vdmVUeXBlcnMgOiBmdW5jdGlvbih1c2VyKXtcbiAgICAgICAgICAgIHVzZXIgPSB1c2VyIHx8IG51bGw7XG4gICAgICAgICAgICBsZXQgdGltZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICBpZih1c2VyKXtcbiAgICAgICAgICAgICAgICBsZXQgZmluZCA9IG1ldGhvZHMubG9jYXRlU3RvcmFnZUl0ZW0oe3R5cGUgOiAndHlwaW5nJywgaWQgOiB1c2VyLnByb3ZpZGVyX2lkfSk7XG4gICAgICAgICAgICAgICAgaWYoZmluZC5mb3VuZCl7XG4gICAgICAgICAgICAgICAgICAgIG9wdC5zdG9yYWdlLndob190eXBpbmcuc3BsaWNlKGZpbmQuaW5kZXgsIDEpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1ldGhvZHMudXBkYXRlQm9iYmxlSGVhZCh1c2VyLnByb3ZpZGVyX2lkLCBvcHQuc3RvcmFnZS5tZXNzYWdlc1sob3B0LnN0b3JhZ2UubWVzc2FnZXMubGVuZ3RoLTEpXS5tZXNzYWdlX2lkKTtcbiAgICAgICAgICAgICAgICBtZXRob2RzLmRyYXdCb2JibGVIZWFkcygpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKG9wdC5zdG9yYWdlLndob190eXBpbmcubGVuZ3RoKXtcbiAgICAgICAgICAgICAgICBvcHQuc3RvcmFnZS53aG9fdHlwaW5nLmZvckVhY2goKHVzZXIsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmKCgodGltZS5nZXRUaW1lKCkgLSB1c2VyLnRpbWUpIC8gMTAwMCkgPiAyKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdC5zdG9yYWdlLndob190eXBpbmcuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZHMudXBkYXRlQm9iYmxlSGVhZCh1c2VyLmlkLCBvcHQuc3RvcmFnZS5tZXNzYWdlc1sob3B0LnN0b3JhZ2UubWVzc2FnZXMubGVuZ3RoLTEpXS5tZXNzYWdlX2lkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIG1ldGhvZHMuZHJhd0JvYmJsZUhlYWRzKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYob3B0LnN0b3JhZ2UuYm90X3R5cGluZy5sZW5ndGgpe1xuICAgICAgICAgICAgICAgIG1ldGhvZHMucmVtb3ZlQm90VHlwZXJzKHRpbWUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICQoJy50eXBpbmctZWxsaXBzaXMnKS5yZW1vdmUoKVxuICAgICAgICB9LFxuICAgICAgICByZW1vdmVCb3RUeXBlcnMgOiBmdW5jdGlvbih0aW1lKXtcbiAgICAgICAgICAgIG9wdC5zdG9yYWdlLmJvdF90eXBpbmcuZm9yRWFjaCgoYm90LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmKCgodGltZS5nZXRUaW1lKCkgLSBib3QudGltZSkgLyAxMDAwKSA+IDMpe1xuICAgICAgICAgICAgICAgICAgICBvcHQuc3RvcmFnZS5ib3RfdHlwaW5nLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBtZXRob2RzLmRyYXdCb3RUeXBpbmdCb2JibGVIZWFkcygpO1xuICAgICAgICB9LFxuICAgICAgICBwdXJnZU1lc3NhZ2UgOiBmdW5jdGlvbihpZCl7XG4gICAgICAgICAgICBsZXQgbWVzc2FnZSA9IG1ldGhvZHMubG9jYXRlU3RvcmFnZUl0ZW0oe3R5cGUgOiAnbWVzc2FnZScsIGlkIDogaWR9KSwgaSA9IG1lc3NhZ2UuaW5kZXg7XG4gICAgICAgICAgICBpZiAobWVzc2FnZS5mb3VuZCl7XG4gICAgICAgICAgICAgICAgb3B0LnN0b3JhZ2UubWVzc2FnZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWV0aG9kcy5pbWFnZUxvYWRMaXN0ZW5lcihmYWxzZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHByaXZhdGVNYWluQm9iYmxlRHJhdyA6IGZ1bmN0aW9uKGlkKXtcbiAgICAgICAgICAgIGxldCBib2JibGUgPSBtZXRob2RzLmxvY2F0ZVN0b3JhZ2VJdGVtKHt0eXBlIDogJ2JvYmJsZScsIGlkIDogaWR9KSxcbiAgICAgICAgICAgIHN0YXR1cyA9ICQoXCIjbWFpbl9ib2JibGVfXCIraWQpO1xuICAgICAgICAgICAgaWYoIXN0YXR1cy5sZW5ndGggfHwgIWJvYmJsZS5mb3VuZCkgcmV0dXJuO1xuICAgICAgICAgICAgc3RhdHVzLmh0bWwoVGhyZWFkVGVtcGxhdGVzLnJlbmRlcigpLnRocmVhZF9wcml2YXRlX2hlYWRlcl9ib2JibGUob3B0LnN0b3JhZ2UucGFydGljaXBhbnRzW2JvYmJsZS5pbmRleF0ub3duZXIpKTtcbiAgICAgICAgICAgIFBhZ2VMaXN0ZW5lcnMubGlzdGVuKCkudG9vbHRpcHMoKTtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChvcHQudGltZXJzLnByaXZhdGVfYm9iYmxlX3JlZnJlc2hfdGltZW91dCk7XG4gICAgICAgICAgICBpZihvcHQuc3RvcmFnZS5wYXJ0aWNpcGFudHNbYm9iYmxlLmluZGV4XS5vd25lci5vcHRpb25zLm9ubGluZV9zdGF0dXMgPT09IDApe1xuICAgICAgICAgICAgICAgIG9wdC50aW1lcnMucHJpdmF0ZV9ib2JibGVfcmVmcmVzaF90aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICBtZXRob2RzLnByaXZhdGVNYWluQm9iYmxlRHJhdyhpZClcbiAgICAgICAgICAgICAgICB9LCAyMDAwMClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZHJhd0JvdFR5cGluZ0JvYmJsZUhlYWRzIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICQoXCIuYm90LWJvYmJsZS1oZWFkXCIpLnJlbW92ZSgpO1xuICAgICAgICAgICAgb3B0LnN0b3JhZ2UuYm90X3R5cGluZy5mb3JFYWNoKChib3QpID0+IHtcbiAgICAgICAgICAgICAgICBvcHQuZWxlbWVudHMuc2Vlbl9ieV9maW5hbC5wcmVwZW5kKFRocmVhZFRlbXBsYXRlcy5yZW5kZXIoKS5ib3RfdHlwaW5nX2JvYmJsZV9oZWFkKGJvdCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGRyYXdCb2JibGVIZWFkcyA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBpZighb3B0LnN0b3JhZ2UucGFydGljaXBhbnRzLmxlbmd0aCB8fCAhb3B0LnN0b3JhZ2UubWVzc2FnZXMubGVuZ3RoKSByZXR1cm47XG4gICAgICAgICAgICBvcHQuc3RvcmFnZS5wYXJ0aWNpcGFudHMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSl7XG4gICAgICAgICAgICAgICAgaWYoTWVzc2VuZ2VyLmlzUHJvdmlkZXIodmFsdWUub3duZXJfaWQsIHZhbHVlLm93bmVyX3R5cGUpIHx8ICF2YWx1ZS5sYXN0X3JlYWQubWVzc2FnZV9pZCB8fCAoJ2FkZGVkJyBpbiB2YWx1ZSAmJiB2YWx1ZS5hZGRlZCkpIHJldHVybjtcbiAgICAgICAgICAgICAgICAkKFwiLmJvYmJsZV9oZWFkX1wiK3ZhbHVlLm93bmVyX2lkKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICBsZXQgbWVzc2FnZSA9ICQoXCIjbWVzc2FnZV9cIit2YWx1ZS5sYXN0X3JlYWQubWVzc2FnZV9pZCk7XG4gICAgICAgICAgICAgICAgaWYoKHZhbHVlLmNhdWdodF91cCAmJiB2YWx1ZS50eXBpbmcpIHx8IChvcHQuc3RvcmFnZS5tZXNzYWdlc1swXS5pZCA9PT0gdmFsdWUubGFzdF9yZWFkLm1lc3NhZ2VfaWQpKXtcbiAgICAgICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLnNlZW5fYnlfZmluYWwucHJlcGVuZChUaHJlYWRUZW1wbGF0ZXMucmVuZGVyKCkuYm9iYmxlX2hlYWQodmFsdWUsIHRydWUpKTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUuYWRkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZS5jYXVnaHRfdXAgPSB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYobWVzc2FnZS5sZW5ndGgpe1xuICAgICAgICAgICAgICAgICAgICBpZighbWVzc2FnZS5uZXh0KCkuaGFzQ2xhc3MoJ3NlZW4tYnknKSkgbWVzc2FnZS5hZnRlcihUaHJlYWRUZW1wbGF0ZXMucmVuZGVyKCkuc2Vlbl9ieSh2YWx1ZS5sYXN0X3JlYWQubWVzc2FnZV9pZCkpO1xuICAgICAgICAgICAgICAgICAgICAkKFwiI3NlZW4tYnlfXCIrdmFsdWUubGFzdF9yZWFkLm1lc3NhZ2VfaWQpLnByZXBlbmQoVGhyZWFkVGVtcGxhdGVzLnJlbmRlcigpLmJvYmJsZV9oZWFkKHZhbHVlLCBmYWxzZSkpO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZS5hZGRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLmNhdWdodF91cCA9IGZhbHNlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKG9wdC50aHJlYWQudHlwZSA9PT0gMSl7XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZHMucHJpdmF0ZU1haW5Cb2JibGVEcmF3KHZhbHVlLm93bmVyX2lkKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgJChcIi5zZWVuLWJ5XCIpLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBpZighJCh0aGlzKS5jaGlsZHJlbigpLmxlbmd0aCkgJCh0aGlzKS5yZW1vdmUoKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBtZXRob2RzLnRocmVhZFNjcm9sbEJvdHRvbShmYWxzZSwgZmFsc2UpXG4gICAgICAgIH0sXG4gICAgICAgIHVwZGF0ZUJvYmJsZUhlYWQgOiBmdW5jdGlvbihvd25lciwgbWVzc2FnZSl7XG4gICAgICAgICAgICBsZXQgdHlwaW5nID0gbWV0aG9kcy5sb2NhdGVTdG9yYWdlSXRlbSh7dHlwZSA6ICd0eXBpbmcnLCBpZCA6IG93bmVyfSksXG4gICAgICAgICAgICBmb3VuZCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYobWVzc2FnZSA9PT0gbnVsbCl7XG4gICAgICAgICAgICAgICAgaWYodHlwaW5nLmZvdW5kICYmIG9wdC5zdG9yYWdlLm1lc3NhZ2VzLmxlbmd0aCl7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBvcHQuc3RvcmFnZS5tZXNzYWdlc1swXS5pZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gZmFsc2VcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IobGV0IHggPSAwOyB4IDwgb3B0LnN0b3JhZ2UuYWN0aXZlX3Byb2ZpbGVzLmxlbmd0aDsgeCsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdC5zdG9yYWdlLmFjdGl2ZV9wcm9maWxlc1t4XS5wcm92aWRlcl9pZCA9PT0gb3duZXIpe1xuICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBib2JibGUgPSBtZXRob2RzLmxvY2F0ZVN0b3JhZ2VJdGVtKHt0eXBlIDogJ2JvYmJsZScsIGlkIDogb3duZXJ9KSwgaSA9IGJvYmJsZS5pbmRleDtcbiAgICAgICAgICAgIGlmIChib2JibGUuZm91bmQpe1xuICAgICAgICAgICAgICAgIG9wdC5zdG9yYWdlLnBhcnRpY2lwYW50c1tpXS5sYXN0X3JlYWQubWVzc2FnZV9pZCA9IChtZXNzYWdlID8gbWVzc2FnZSA6IG9wdC5zdG9yYWdlLnBhcnRpY2lwYW50c1tpXS5sYXN0X3JlYWQubWVzc2FnZV9pZCk7XG4gICAgICAgICAgICAgICAgb3B0LnN0b3JhZ2UucGFydGljaXBhbnRzW2ldLmFkZGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgb3B0LnN0b3JhZ2UucGFydGljaXBhbnRzW2ldLnR5cGluZyA9IHR5cGluZy5mb3VuZDtcbiAgICAgICAgICAgICAgICBvcHQuc3RvcmFnZS5wYXJ0aWNpcGFudHNbaV0uY2F1Z2h0X3VwID0gKHR5cGluZy5mb3VuZCA/IHRydWUgOiBvcHQuc3RvcmFnZS5wYXJ0aWNpcGFudHNbaV0uY2F1Z2h0X3VwKTtcbiAgICAgICAgICAgICAgICBvcHQuc3RvcmFnZS5wYXJ0aWNpcGFudHNbaV0uaW5fY2hhdCA9ICh0eXBpbmcuZm91bmQgfHwgZm91bmQpO1xuICAgICAgICAgICAgICAgIGlmKHR5cGluZy5mb3VuZCl7XG4gICAgICAgICAgICAgICAgICAgIG9wdC5zdG9yYWdlLnBhcnRpY2lwYW50c1tpXS5vd25lci5vcHRpb25zLm9ubGluZV9zdGF0dXMgPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkKFwiLmJvYmJsZV9oZWFkX1wiK293bmVyKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAkKFwiLnNlZW4tYnlcIikuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICBpZighJCh0aGlzKS5jaGlsZHJlbigpLmxlbmd0aCkgJCh0aGlzKS5yZW1vdmUoKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjaGVja1JlY2VudEJvYmJsZUhlYWRzIDogZnVuY3Rpb24ocmVsb2FkKXtcbiAgICAgICAgICAgIGlmKHJlbG9hZCl7XG4gICAgICAgICAgICAgICAgTG9hZEluLmJvYmJsZUhlYWRzKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IG9wdC5zdG9yYWdlLnBhcnRpY2lwYW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChvcHQuc3RvcmFnZS5wYXJ0aWNpcGFudHNbaV0uY2F1Z2h0X3VwICYmICFvcHQuc3RvcmFnZS5wYXJ0aWNpcGFudHNbaV0udHlwaW5nICYmIG9wdC5zdG9yYWdlLm1lc3NhZ2VzWzBdLmlkICE9PSBvcHQuc3RvcmFnZS5wYXJ0aWNpcGFudHNbaV0ubGFzdF9yZWFkLm1lc3NhZ2VfaWQpe1xuICAgICAgICAgICAgICAgICAgICBtZXRob2RzLnVwZGF0ZUJvYmJsZUhlYWQob3B0LnN0b3JhZ2UucGFydGljaXBhbnRzW2ldLm93bmVyX2lkLCBvcHQuc3RvcmFnZS5wYXJ0aWNpcGFudHNbaV0ubGFzdF9yZWFkLm1lc3NhZ2VfaWQpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWV0aG9kcy5kcmF3Qm9iYmxlSGVhZHMoKVxuICAgICAgICB9LFxuICAgICAgICB1cGRhdGVBY3RpdmVQcm9maWxlIDogZnVuY3Rpb24ob3duZXIsIGFjdGlvbil7XG4gICAgICAgICAgICBpZihhY3Rpb24gPT09IDMpe1xuICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBvcHQuc3RvcmFnZS5hY3RpdmVfcHJvZmlsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdC5zdG9yYWdlLmFjdGl2ZV9wcm9maWxlc1tpXS5wcm92aWRlcl9pZCA9PT0gb3duZXIpe1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0LnN0b3JhZ2UuYWN0aXZlX3Byb2ZpbGVzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IGJvYmJsZSA9IG1ldGhvZHMubG9jYXRlU3RvcmFnZUl0ZW0oe3R5cGUgOiAnYm9iYmxlJywgaWQgOiBvd25lcn0pLCB6ID0gYm9iYmxlLmluZGV4O1xuICAgICAgICAgICAgICAgIGlmKGJvYmJsZS5mb3VuZCl7XG4gICAgICAgICAgICAgICAgICAgIG9wdC5zdG9yYWdlLnBhcnRpY2lwYW50c1t6XS5vd25lci5vcHRpb25zLm9ubGluZV9zdGF0dXMgPSBhY3Rpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtZXRob2RzLnVwZGF0ZUJvYmJsZUhlYWQob3duZXIsIG51bGwpO1xuICAgICAgICAgICAgbWV0aG9kcy5kcmF3Qm9iYmxlSGVhZHMoKTtcbiAgICAgICAgICAgIGlmKGFjdGlvbiA9PT0gMyAmJiBvcHQudGhyZWFkLnR5cGUgPT09IDEpIHNldFRpbWVvdXQoTG9hZEluLmJvYmJsZUhlYWRzLCA2MDAwKTtcbiAgICAgICAgfSxcbiAgICAgICAgaW1hZ2VMb2FkTGlzdGVuZXIgOiBmdW5jdGlvbihzY3JvbGwpe1xuICAgICAgICAgICAgbGV0IGltYWdlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ21zZ19pbWFnZScpLFxuICAgICAgICAgICAgZW1vamlzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnam95cGl4ZWxzJyksXG4gICAgICAgICAgICBsb2FkSW1hZ2UgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICQoZS50YXJnZXQpLnNpYmxpbmdzKCcuc3Bpbm5lci1ncm93JykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgJChlLnRhcmdldCkucmVtb3ZlQ2xhc3MoJ21zZ19pbWFnZSBOUycpO1xuICAgICAgICAgICAgICAgIGlmKHNjcm9sbCkgbWV0aG9kcy50aHJlYWRTY3JvbGxCb3R0b20odHJ1ZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGlmKGUudHlwZSA9PT0gJ2Vycm9yJyl7XG4gICAgICAgICAgICAgICAgICAgICQoZS50YXJnZXQpLnJlcGxhY2VXaXRoKCc8c3BhbiBjbGFzcz1cImJhZGdlIGJhZGdlLXBpbGwgYmFkZ2UtZGFuZ2VyXCI+SW1hZ2UgZmFpbGVkIHRvIGxvYWQuPC9zcGFuPicpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxvYWRFbW9qaSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgaWYoc2Nyb2xsKSBtZXRob2RzLnRocmVhZFNjcm9sbEJvdHRvbSh0cnVlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgaWYoZS50eXBlID09PSAnZXJyb3InKSAkKGUudGFyZ2V0KS5yZW1vdmUoKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbCggaW1hZ2VzLCBmdW5jdGlvbiggaW1nICkge1xuICAgICAgICAgICAgICAgIGltZy5hZGRFdmVudExpc3RlbmVyKCAnbG9hZCcsIGxvYWRJbWFnZSwgZmFsc2UgKTtcbiAgICAgICAgICAgICAgICBpbWcuYWRkRXZlbnRMaXN0ZW5lciggJ2Vycm9yJywgbG9hZEltYWdlLCBmYWxzZSApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwoIGVtb2ppcywgZnVuY3Rpb24oIGltZyApIHtcbiAgICAgICAgICAgICAgICBpbWcuYWRkRXZlbnRMaXN0ZW5lciggJ2xvYWQnLCBsb2FkRW1vamksIGZhbHNlICk7XG4gICAgICAgICAgICAgICAgaW1nLmFkZEV2ZW50TGlzdGVuZXIoICdlcnJvcicsIGxvYWRFbW9qaSwgZmFsc2UgKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBtYW5hZ2VSZWNlbnRNZXNzYWdlcyA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBsZXQgbWVzc2FnZXNfaHRtbCA9ICcnO1xuICAgICAgICAgICAgb3B0LnN0b3JhZ2UubWVzc2FnZXMucmV2ZXJzZSgpLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIGtleSl7XG4gICAgICAgICAgICAgICAgaWYodmFsdWUuc3lzdGVtX21lc3NhZ2Upe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlc19odG1sICs9IFRocmVhZFRlbXBsYXRlcy5yZW5kZXIoKS5zeXN0ZW1fbWVzc2FnZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYoTWVzc2VuZ2VyLmlzUHJvdmlkZXIodmFsdWUub3duZXJfaWQsIHZhbHVlLm93bmVyX3R5cGUpKXtcbiAgICAgICAgICAgICAgICAgICAgaWYoa2V5ICE9PSAwXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiBvcHQuc3RvcmFnZS5tZXNzYWdlc1trZXktMV0ub3duZXJfaWQgPT09IHZhbHVlLm93bmVyX2lkXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiBvcHQuc3RvcmFnZS5tZXNzYWdlc1trZXktMV0ub3duZXJfdHlwZSA9PT0gdmFsdWUub3duZXJfdHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgISBvcHQuc3RvcmFnZS5tZXNzYWdlc1trZXktMV0uc3lzdGVtX21lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICYmICEgdmFsdWUuaGFzT3duUHJvcGVydHkoJ3JlcGx5X3RvJylcbiAgICAgICAgICAgICAgICAgICAgICAgICYmIE1lc3Nlbmdlci5mb3JtYXQoKS50aW1lRGlmZkluVW5pdCh2YWx1ZS5jcmVhdGVkX2F0LCBvcHQuc3RvcmFnZS5tZXNzYWdlc1trZXktMV0uY3JlYXRlZF9hdCwgJ20nKSA8IDMwXG4gICAgICAgICAgICAgICAgICAgICl7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlc19odG1sICs9IFRocmVhZFRlbXBsYXRlcy5yZW5kZXIoKS5teV9tZXNzYWdlX2dyb3VwZWQodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmKHZhbHVlLmhhc093blByb3BlcnR5KCdyZXBseV90bycpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzX2h0bWwgKz0gVGhyZWFkVGVtcGxhdGVzLnJlbmRlcigpLm15X21lc3NhZ2VfcmVwbHkodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzX2h0bWwgKz0gVGhyZWFkVGVtcGxhdGVzLnJlbmRlcigpLm15X21lc3NhZ2UodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKGtleSAhPT0gMFxuICAgICAgICAgICAgICAgICAgICAmJiBvcHQuc3RvcmFnZS5tZXNzYWdlc1trZXktMV0ub3duZXJfaWQgPT09IHZhbHVlLm93bmVyX2lkXG4gICAgICAgICAgICAgICAgICAgICYmIG9wdC5zdG9yYWdlLm1lc3NhZ2VzW2tleS0xXS5vd25lcl90eXBlID09PSB2YWx1ZS5vd25lcl90eXBlXG4gICAgICAgICAgICAgICAgICAgICYmICEgb3B0LnN0b3JhZ2UubWVzc2FnZXNba2V5LTFdLnN5c3RlbV9tZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICYmICEgdmFsdWUuaGFzT3duUHJvcGVydHkoJ3JlcGx5X3RvJylcbiAgICAgICAgICAgICAgICAgICAgJiYgTWVzc2VuZ2VyLmZvcm1hdCgpLnRpbWVEaWZmSW5Vbml0KHZhbHVlLmNyZWF0ZWRfYXQsIG9wdC5zdG9yYWdlLm1lc3NhZ2VzW2tleS0xXS5jcmVhdGVkX2F0LCAnbScpIDwgMzBcbiAgICAgICAgICAgICAgICApe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlc19odG1sICs9IFRocmVhZFRlbXBsYXRlcy5yZW5kZXIoKS5tZXNzYWdlX2dyb3VwZWQodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKHZhbHVlLmhhc093blByb3BlcnR5KCdyZXBseV90bycpKXtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXNfaHRtbCArPSBUaHJlYWRUZW1wbGF0ZXMucmVuZGVyKCkubWVzc2FnZV9yZXBseSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbWVzc2FnZXNfaHRtbCArPSBUaHJlYWRUZW1wbGF0ZXMucmVuZGVyKCkubWVzc2FnZSh2YWx1ZSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgb3B0LmVsZW1lbnRzLm1zZ19zdGFjay5hcHBlbmQobWVzc2FnZXNfaHRtbCk7XG4gICAgICAgICAgICBvcHQuc3RvcmFnZS5tZXNzYWdlcy5yZXZlcnNlKCk7XG4gICAgICAgICAgICBtZXRob2RzLmltYWdlTG9hZExpc3RlbmVyKHRydWUpO1xuICAgICAgICAgICAgbWV0aG9kcy5kcmF3Qm9iYmxlSGVhZHMoKTtcbiAgICAgICAgICAgIG1ldGhvZHMudGhyZWFkU2Nyb2xsQm90dG9tKHRydWUsIGZhbHNlKTtcbiAgICAgICAgICAgIGlmKCFvcHQudGhyZWFkLnRocmVhZF9oaXN0b3J5KXtcbiAgICAgICAgICAgICAgICBvcHQuZWxlbWVudHMubXNnX3N0YWNrLnByZXBlbmQoVGhyZWFkVGVtcGxhdGVzLnJlbmRlcigpLmVuZF9vZl9oaXN0b3J5KG9wdC50aHJlYWQuY3JlYXRlZF9hdCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBtYW5hZ2VIaXN0b3J5TWVzc2FnZXMgOiBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgICQoXCIjbG9hZGluZ19oaXN0b3J5X21hcmtlclwiKS5yZW1vdmUoKTtcbiAgICAgICAgICAgIGxldCBtZXNzYWdlcyA9IGRhdGEuZGF0YS5maWx0ZXIoZnVuY3Rpb24odmFsdWUpe1xuICAgICAgICAgICAgICAgIHJldHVybiAhIG1ldGhvZHMubG9jYXRlU3RvcmFnZUl0ZW0oe3R5cGUgOiAnbWVzc2FnZScsIGlkIDp2YWx1ZS5pZCB9KS5mb3VuZDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbGV0IGxhc3RfbWVzc2FnZSA9IG9wdC5zdG9yYWdlLm1lc3NhZ2VzLmxlbmd0aCA/IG9wdC5zdG9yYWdlLm1lc3NhZ2VzW29wdC5zdG9yYWdlLm1lc3NhZ2VzLmxlbmd0aC0xXSA6IG51bGw7XG4gICAgICAgICAgICBsZXQgbWVzc2FnZXNfaHRtbCA9ICcnO1xuICAgICAgICAgICAgbWVzc2FnZXMuZm9yRWFjaCgodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICBvcHQuc3RvcmFnZS5tZXNzYWdlcy5wdXNoKHZhbHVlKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBtZXNzYWdlcy5yZXZlcnNlKCk7XG4gICAgICAgICAgICBtZXNzYWdlcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBrZXkpe1xuICAgICAgICAgICAgICAgIGlmKHZhbHVlLnN5c3RlbV9tZXNzYWdlKXtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXNfaHRtbCArPSBUaHJlYWRUZW1wbGF0ZXMucmVuZGVyKCkuc3lzdGVtX21lc3NhZ2UodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKE1lc3Nlbmdlci5pc1Byb3ZpZGVyKHZhbHVlLm93bmVyX2lkLCB2YWx1ZS5vd25lcl90eXBlKSl7XG4gICAgICAgICAgICAgICAgICAgIGlmKGtleSAhPT0gMFxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgbWVzc2FnZXNba2V5LTFdLm93bmVyX2lkID09PSB2YWx1ZS5vd25lcl9pZFxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgbWVzc2FnZXNba2V5LTFdLm93bmVyX3R5cGUgPT09IHZhbHVlLm93bmVyX3R5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgICYmICEgbWVzc2FnZXNba2V5LTFdLnN5c3RlbV9tZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiAhIHZhbHVlLmhhc093blByb3BlcnR5KCdyZXBseV90bycpXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiBNZXNzZW5nZXIuZm9ybWF0KCkudGltZURpZmZJblVuaXQodmFsdWUuY3JlYXRlZF9hdCwgbWVzc2FnZXNba2V5LTFdLmNyZWF0ZWRfYXQsICdtJykgPCAzMFxuICAgICAgICAgICAgICAgICAgICApe1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXNfaHRtbCArPSBUaHJlYWRUZW1wbGF0ZXMucmVuZGVyKCkubXlfbWVzc2FnZV9ncm91cGVkKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZih2YWx1ZS5oYXNPd25Qcm9wZXJ0eSgncmVwbHlfdG8nKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlc19odG1sICs9IFRocmVhZFRlbXBsYXRlcy5yZW5kZXIoKS5teV9tZXNzYWdlX3JlcGx5KHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlc19odG1sICs9IFRocmVhZFRlbXBsYXRlcy5yZW5kZXIoKS5teV9tZXNzYWdlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZihrZXkgIT09IDBcbiAgICAgICAgICAgICAgICAgICAgJiYgbWVzc2FnZXNba2V5LTFdLm93bmVyX2lkID09PSB2YWx1ZS5vd25lcl9pZFxuICAgICAgICAgICAgICAgICAgICAmJiBtZXNzYWdlc1trZXktMV0ub3duZXJfdHlwZSA9PT0gdmFsdWUub3duZXJfdHlwZVxuICAgICAgICAgICAgICAgICAgICAmJiAhIG1lc3NhZ2VzW2tleS0xXS5zeXN0ZW1fbWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAmJiAhIHZhbHVlLmhhc093blByb3BlcnR5KCdyZXBseV90bycpXG4gICAgICAgICAgICAgICAgICAgICYmIE1lc3Nlbmdlci5mb3JtYXQoKS50aW1lRGlmZkluVW5pdCh2YWx1ZS5jcmVhdGVkX2F0LCBtZXNzYWdlc1trZXktMV0uY3JlYXRlZF9hdCwgJ20nKSA8IDMwXG4gICAgICAgICAgICAgICAgKXtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXNfaHRtbCArPSBUaHJlYWRUZW1wbGF0ZXMucmVuZGVyKCkubWVzc2FnZV9ncm91cGVkKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZih2YWx1ZS5oYXNPd25Qcm9wZXJ0eSgncmVwbHlfdG8nKSl7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzX2h0bWwgKz0gVGhyZWFkVGVtcGxhdGVzLnJlbmRlcigpLm1lc3NhZ2VfcmVwbHkodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1lc3NhZ2VzX2h0bWwgKz0gVGhyZWFkVGVtcGxhdGVzLnJlbmRlcigpLm1lc3NhZ2UodmFsdWUpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG9wdC5lbGVtZW50cy5tc2dfc3RhY2sucHJlcGVuZChtZXNzYWdlc19odG1sKTtcbiAgICAgICAgICAgIGlmKG1lc3NhZ2VzLmxlbmd0aFxuICAgICAgICAgICAgICAgICYmIGxhc3RfbWVzc2FnZSAhPT0gbnVsbFxuICAgICAgICAgICAgICAgICYmICEgbGFzdF9tZXNzYWdlLnN5c3RlbV9tZXNzYWdlXG4gICAgICAgICAgICAgICAgJiYgISBtZXNzYWdlc1ttZXNzYWdlcy5sZW5ndGgtMV0uc3lzdGVtX21lc3NhZ2VcbiAgICAgICAgICAgICAgICAmJiAhIGxhc3RfbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eSgncmVwbHlfdG8nKVxuICAgICAgICAgICAgICAgICYmICEgbWVzc2FnZXNbbWVzc2FnZXMubGVuZ3RoLTFdLmhhc093blByb3BlcnR5KCdyZXBseV90bycpXG4gICAgICAgICAgICAgICAgJiYgbWVzc2FnZXNbbWVzc2FnZXMubGVuZ3RoLTFdLm93bmVyX2lkID09PSBsYXN0X21lc3NhZ2Uub3duZXJfaWRcbiAgICAgICAgICAgICAgICAmJiBtZXNzYWdlc1ttZXNzYWdlcy5sZW5ndGgtMV0ub3duZXJfdHlwZSA9PT0gbGFzdF9tZXNzYWdlLm93bmVyX3R5cGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGV0IHJlcGxhY2VfaHRtbCA9IE1lc3Nlbmdlci5pc1Byb3ZpZGVyKGxhc3RfbWVzc2FnZS5vd25lcl9pZCwgbGFzdF9tZXNzYWdlLm93bmVyX3R5cGUpXG4gICAgICAgICAgICAgICAgICAgID8gVGhyZWFkVGVtcGxhdGVzLnJlbmRlcigpLm15X21lc3NhZ2VfZ3JvdXBlZChsYXN0X21lc3NhZ2UpXG4gICAgICAgICAgICAgICAgICAgIDogVGhyZWFkVGVtcGxhdGVzLnJlbmRlcigpLm1lc3NhZ2VfZ3JvdXBlZChsYXN0X21lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIG9wdC5lbGVtZW50cy5tc2dfc3RhY2suZmluZChcIiNtZXNzYWdlX1wiK2xhc3RfbWVzc2FnZS5pZCkucmVwbGFjZVdpdGgocmVwbGFjZV9odG1sKVxuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihvcHQuZWxlbWVudHMudGhlX3RocmVhZC5wcm9wKFwic2Nyb2xsVG9wXCIpID09PSAwKXtcbiAgICAgICAgICAgICAgICBpZihvcHQuc3RvcmFnZS5tZXNzYWdlcy5sZW5ndGggJiYgb3B0LnN0b3JhZ2UubWVzc2FnZXNbb3B0LnN0b3JhZ2UubWVzc2FnZXMubGVuZ3RoLTFdLmlkICE9PSBkYXRhLm1ldGEucGFnZV9pZCl7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZXNzYWdlXycrZGF0YS5tZXRhLnBhZ2VfaWQpLnNjcm9sbEludG9WaWV3KCk7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtc2dfdGhyZWFkXycrb3B0LnRocmVhZC5pZCkuc2Nyb2xsVG9wIC09IDQwO1xuICAgICAgICAgICAgICAgICAgICBpZihNZXNzZW5nZXIuY29tbW9uKCkubW9iaWxlKSB3aW5kb3cuc2Nyb2xsVG8oMCwgMClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBvcHQuZWxlbWVudHMudGhlX3RocmVhZC5zY3JvbGxUb3AoNDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWV0aG9kcy5pbWFnZUxvYWRMaXN0ZW5lcihmYWxzZSk7XG4gICAgICAgICAgICBtZXRob2RzLmRyYXdCb2JibGVIZWFkcygpO1xuICAgICAgICAgICAgaWYoIW1lc3NhZ2VzLmxlbmd0aCB8fCBkYXRhLm1ldGEuZmluYWxfcGFnZSl7XG4gICAgICAgICAgICAgICAgb3B0LnRocmVhZC50aHJlYWRfaGlzdG9yeSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIG9wdC50aHJlYWQuaGlzdG9yeV9yb3V0ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgb3B0LnRocmVhZC5oaXN0b3J5X2lkID0gbnVsbDtcbiAgICAgICAgICAgICAgICBvcHQuZWxlbWVudHMubXNnX3N0YWNrLnByZXBlbmQoVGhyZWFkVGVtcGxhdGVzLnJlbmRlcigpLmVuZF9vZl9oaXN0b3J5KG9wdC50aHJlYWQuY3JlYXRlZF9hdCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBvcHQudGhyZWFkLmhpc3Rvcnlfcm91dGUgPSBkYXRhLm1ldGEubmV4dF9wYWdlX3JvdXRlO1xuICAgICAgICAgICAgICAgIG9wdC50aHJlYWQuaGlzdG9yeV9pZCA9IGRhdGEubWV0YS5uZXh0X3BhZ2VfaWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcHQudGhyZWFkLmhpc3RvcnlfbG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgUGFnZUxpc3RlbmVycy5saXN0ZW4oKS50b29sdGlwcygpXG4gICAgICAgIH0sXG4gICAgICAgIGluaXRpYWxpemVSZWNlbnRNZXNzYWdlcyA6IGZ1bmN0aW9uKHJlc2V0KSB7XG4gICAgICAgICAgICBsZXQgb25Mb2FkID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBpZihkYXRhKXtcbiAgICAgICAgICAgICAgICAgICAgb3B0LnN0b3JhZ2UubWVzc2FnZXMgPSBkYXRhLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIGlmKGRhdGEubWV0YS5maW5hbF9wYWdlKSBvcHQudGhyZWFkLnRocmVhZF9oaXN0b3J5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9wdC5lbGVtZW50cy5tc2dfc3RhY2suaHRtbCgnJyk7XG4gICAgICAgICAgICAgICAgbWV0aG9kcy5tYW5hZ2VSZWNlbnRNZXNzYWdlcygpO1xuICAgICAgICAgICAgICAgIGlmKG9wdC5zdG9yYWdlLnBlbmRpbmdfbWVzc2FnZXMubGVuZ3RoKXtcbiAgICAgICAgICAgICAgICAgICAgb3B0LnN0b3JhZ2UucGVuZGluZ19tZXNzYWdlcy5mb3JFYWNoKG1ldGhvZHMuYWRkTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIG9wdC5zdG9yYWdlLnBlbmRpbmdfbWVzc2FnZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kcy5tYXJrUmVhZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZighb3B0LnN0b3JhZ2UucGFydGljaXBhbnRzLmxlbmd0aCkgTG9hZEluLmJvYmJsZUhlYWRzKClcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZighcmVzZXQgJiYgb3B0LnN0b3JhZ2UubWVzc2FnZXMubGVuZ3RoKXtcbiAgICAgICAgICAgICAgICBvbkxvYWQoKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBvcHQuc3RhdGVzLmxvY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgIE1lc3Nlbmdlci54aHIoKS5yZXF1ZXN0KHtcbiAgICAgICAgICAgICAgICAgICAgcm91dGUgOiBNZXNzZW5nZXIuY29tbW9uKCkuQVBJKyd0aHJlYWRzLycrb3B0LnRocmVhZC5pZCsnL21lc3NhZ2VzJyxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyA6IG9uTG9hZCxcbiAgICAgICAgICAgICAgICAgICAgZmFpbCA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHQuc3RhdGVzLmxvYWRfaW5fcmV0cmllcysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYob3B0LnN0YXRlcy5sb2FkX2luX3JldHJpZXMgPiA0KXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHQuZWxlbWVudHMubXNnX3N0YWNrLmh0bWwoJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1lc3Nlbmdlci5hbGVydCgpLkFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3QgOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGVtZSA6ICd3YXJuaW5nJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUgOiAnV2UgY291bGQgbm90IGxvYWQgaW4geW91ciBtZXNzYWdlcyBhdCB0aGlzIHRpbWUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kcy5pbml0aWFsaXplUmVjZW50TWVzc2FnZXMoKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGxvYWRIaXN0b3J5IDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGlmKG9wdC5zdGF0ZXMubG9jayB8fCBvcHQudGhyZWFkLmhpc3RvcnlfbG9hZGluZyB8fCAhb3B0LnRocmVhZC50aHJlYWRfaGlzdG9yeSB8fCAhb3B0LnN0b3JhZ2UubWVzc2FnZXMubGVuZ3RoKSByZXR1cm47XG4gICAgICAgICAgICBvcHQuc3RhdGVzLmxvY2sgPSB0cnVlO1xuICAgICAgICAgICAgb3B0LnRocmVhZC5oaXN0b3J5X2xvYWRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgb3B0LmVsZW1lbnRzLm1zZ19zdGFjay5wcmVwZW5kKFRocmVhZFRlbXBsYXRlcy5yZW5kZXIoKS5sb2FkaW5nX2hpc3RvcnkoKSk7XG4gICAgICAgICAgICBNZXNzZW5nZXIueGhyKCkucmVxdWVzdCh7XG4gICAgICAgICAgICAgICAgcm91dGUgOiBvcHQudGhyZWFkLmhpc3Rvcnlfcm91dGUsXG4gICAgICAgICAgICAgICAgc3VjY2VzcyA6IG1ldGhvZHMubWFuYWdlSGlzdG9yeU1lc3NhZ2VzLFxuICAgICAgICAgICAgICAgIGZhaWwgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAkKFwiI2xvYWRpbmdfaGlzdG9yeV9tYXJrZXJcIikucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBieXBhc3MgOiB0cnVlLFxuICAgICAgICAgICAgICAgIGZhaWxfYWxlcnQgOiB0cnVlXG4gICAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICBpc1R5cGluZyA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbGV0IHRpbWUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgaWYob3B0LnNvY2tldC5vbmxpbmVfc3RhdHVzX3NldHRpbmcgPT09IDEgJiYgb3B0LnN0b3JhZ2UuYWN0aXZlX3Byb2ZpbGVzLmxlbmd0aCAmJiBvcHQuc29ja2V0LmNoYXQgJiYgKCh0aW1lLmdldFRpbWUoKSAtIG9wdC5zb2NrZXQuc2VuZF90eXBpbmcpIC8gMTAwMCkgPiAxLjUpe1xuICAgICAgICAgICAgICAgIG9wdC5zb2NrZXQuc2VuZF90eXBpbmcgPSB0aW1lLmdldFRpbWUoKTtcbiAgICAgICAgICAgICAgICBvcHQuc29ja2V0LmNoYXQud2hpc3BlcigndHlwaW5nJywge1xuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcl9pZDogTWVzc2VuZ2VyLmNvbW1vbigpLnByb3ZpZGVyX2lkLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcl9hbGlhcyA6IE1lc3Nlbmdlci5jb21tb24oKS5wcm92aWRlcl9hbGlhcyxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogTWVzc2VuZ2VyLmNvbW1vbigpLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGF2YXRhciA6IE1lc3Nlbmdlci5jb21tb24oKS5hdmF0YXJfc20sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHN0b3BUeXBpbmcgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgaWYob3B0LnNvY2tldC5vbmxpbmVfc3RhdHVzX3NldHRpbmcgPT09IDEgJiYgb3B0LnN0b3JhZ2UuYWN0aXZlX3Byb2ZpbGVzLmxlbmd0aCAmJiBvcHQuc29ja2V0LmNoYXQgJiYgb3B0LnNvY2tldC5zZW5kX3R5cGluZyA+IDApe1xuICAgICAgICAgICAgICAgIG9wdC5zb2NrZXQuc2VuZF90eXBpbmcgPSAwO1xuICAgICAgICAgICAgICAgIG9wdC5zb2NrZXQuY2hhdC53aGlzcGVyKCdzdG9wLXR5cGluZycsIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJfaWQ6IE1lc3Nlbmdlci5jb21tb24oKS5wcm92aWRlcl9pZCxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJfYWxpYXMgOiBNZXNzZW5nZXIuY29tbW9uKCkucHJvdmlkZXJfYWxpYXMsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IE1lc3Nlbmdlci5jb21tb24oKS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBhdmF0YXIgOiBNZXNzZW5nZXIuY29tbW9uKCkuYXZhdGFyX3NtLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBzZWVuTWVzc2FnZSA6IGZ1bmN0aW9uKG1lc3NhZ2Upe1xuICAgICAgICAgICAgaWYob3B0LnN0b3JhZ2UuYWN0aXZlX3Byb2ZpbGVzLmxlbmd0aCAmJiBvcHQuc29ja2V0LmNoYXQpe1xuICAgICAgICAgICAgICAgIG9wdC5zb2NrZXQuY2hhdC53aGlzcGVyKCdyZWFkJywge1xuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcl9pZDogTWVzc2VuZ2VyLmNvbW1vbigpLnByb3ZpZGVyX2lkLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcl9hbGlhcyA6IE1lc3Nlbmdlci5jb21tb24oKS5wcm92aWRlcl9hbGlhcyxcbiAgICAgICAgICAgICAgICAgICAgYXZhdGFyIDogTWVzc2VuZ2VyLmNvbW1vbigpLmF2YXRhcl9zbSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZV9pZCA6IG1lc3NhZ2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgc2VuZE9ubGluZVN0YXR1cyA6IGZ1bmN0aW9uKHN0YXR1cyl7XG4gICAgICAgICAgICBpZighb3B0LnN0b3JhZ2UuYWN0aXZlX3Byb2ZpbGVzLmxlbmd0aCB8fCAhb3B0LnNvY2tldC5jaGF0KSByZXR1cm47XG4gICAgICAgICAgICBvcHQuc29ja2V0LmNoYXQud2hpc3Blcignb25saW5lJywge1xuICAgICAgICAgICAgICAgIHByb3ZpZGVyX2lkOiBNZXNzZW5nZXIuY29tbW9uKCkucHJvdmlkZXJfaWQsXG4gICAgICAgICAgICAgICAgcHJvdmlkZXJfYWxpYXMgOiBNZXNzZW5nZXIuY29tbW9uKCkucHJvdmlkZXJfYWxpYXMsXG4gICAgICAgICAgICAgICAgbmFtZTogTWVzc2VuZ2VyLmNvbW1vbigpLm5hbWUsXG4gICAgICAgICAgICAgICAgYXZhdGFyIDogTWVzc2VuZ2VyLmNvbW1vbigpLmF2YXRhcl9zbSxcbiAgICAgICAgICAgICAgICBvbmxpbmVfc3RhdHVzOiAob3B0LnNvY2tldC5vbmxpbmVfc3RhdHVzX3NldHRpbmcgIT09IDAgPyBzdGF0dXMgOiAwKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgcGFzdGVJbWFnZSA6IGZ1bmN0aW9uKGV2ZW50KXtcbiAgICAgICAgICAgIGlmKG9wdC50aHJlYWQudHlwZSA9PT0gMykgcmV0dXJuO1xuICAgICAgICAgICAgbGV0IGl0ZW1zID0gKGV2ZW50LmNsaXBib2FyZERhdGEgIHx8IGV2ZW50Lm9yaWdpbmFsRXZlbnQuY2xpcGJvYXJkRGF0YSkuaXRlbXMsXG4gICAgICAgICAgICBibG9iID0gbnVsbDtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoaXRlbXNbaV0udHlwZS5pbmRleE9mKFwiaW1hZ2VcIikgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYmxvYiA9IGl0ZW1zW2ldLmdldEFzRmlsZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChibG9iICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbGV0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBmaWxlID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgTWVzc2VuZ2VyLmFsZXJ0KCkuTW9kYWwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZSA6ICdsZycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGVtZSA6ICdkYXJrJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb24gOiAnaW1hZ2UnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3BfY3RybCA6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUgOiAnU2VuZCBTY3JlZW5zaG90PycsXG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5IDogJzxpbWcgY2xhc3M9XCJpbWctZmx1aWRcIiBzcmM9XCInK2ZpbGUrJ1wiPjxjYW52YXMgY2xhc3M9XCJOU1wiIGlkPVwicGFzdGVfY2FudmFzXCI+PC9jYW52YXM+JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNiX2J0bl90eHQgOiAnU2VuZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjYl9idG5faWNvbiA6ICdjbG91ZC11cGxvYWQtYWx0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNiX2J0bl90aGVtZSA6ICdzdWNjZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uUmVhZHkgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBhc3RlX2NhbnZhc1wiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IGltYWdlLndpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKGltYWdlLCAwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlLnNyYyA9IGZpbGVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwYXN0ZV9jYW52YXNcIikudG9CbG9iKGZ1bmN0aW9uKGJsb2Ipe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2RzLnNlbmRVcGxvYWRGaWxlcyhibG9iKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5tb2RhbFwiKS5tb2RhbCgnaGlkZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHQuZWxlbWVudHMubWVzc2FnZV90ZXh0X2lucHV0LmZvY3VzKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAnaW1hZ2UvcG5nJylcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChibG9iKVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBzZW5kTWVzc2FnZSA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBpZighb3B0LnRocmVhZC5pZCB8fCBvcHQudGhyZWFkLmxvY2tvdXQgfHwgIW9wdC50aHJlYWQubWVzc2FnaW5nKSByZXR1cm47XG4gICAgICAgICAgICBsZXQgbWVzc2FnZV9jb250ZW50cyA9IG9wdC5lbGVtZW50cy5tZXNzYWdlX3RleHRfaW5wdXQudmFsKCk7XG4gICAgICAgICAgICBpZihtZXNzYWdlX2NvbnRlbnRzLnRyaW0oKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBvcHQuZWxlbWVudHMubWVzc2FnZV90ZXh0X2lucHV0LnZhbCgnJykuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICBsZXQgcGVuZGluZyA9IG1ldGhvZHMubWFrZVBlbmRpbmdNZXNzYWdlKDAsIG1lc3NhZ2VfY29udGVudHMpO1xuICAgICAgICAgICAgICAgIG1ldGhvZHMubWFuYWdlUGVuZGluZ01lc3NhZ2UoJ2FkZCcsIHBlbmRpbmcpO1xuICAgICAgICAgICAgICAgIGxldCBmb3JtRGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA6IG1lc3NhZ2VfY29udGVudHMsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBvcmFyeV9pZCA6IHBlbmRpbmcuaWRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmKG9wdC50aHJlYWQucmVwbHlpbmcpe1xuICAgICAgICAgICAgICAgICAgICBmb3JtRGF0YS5yZXBseV90b19pZCA9IG9wdC50aHJlYWQucmVwbHlfdG9faWQ7XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZHMucmVzZXRSZXBseWluZygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBNZXNzZW5nZXIueGhyKCkucGF5bG9hZCh7XG4gICAgICAgICAgICAgICAgICAgIHJvdXRlIDogTWVzc2VuZ2VyLmNvbW1vbigpLkFQSSArICd0aHJlYWRzLycgKyBvcHQudGhyZWFkLmlkICsgJy9tZXNzYWdlcycsXG4gICAgICAgICAgICAgICAgICAgIGRhdGEgOiBmb3JtRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyA6IGZ1bmN0aW9uKHgpe1xuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kcy5tYW5hZ2VQZW5kaW5nTWVzc2FnZSgnY29tcGxldGVkJywgcGVuZGluZywgeCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGZhaWwgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kcy5tYW5hZ2VQZW5kaW5nTWVzc2FnZSgncHVyZ2UnLCBwZW5kaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZmFpbF9hbGVydCA6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGJ5cGFzcyA6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBtZXRob2RzLm1hbmFnZVNlbmRNZXNzYWdlQnV0dG9uKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgc2VuZFVwbG9hZEZpbGVzIDogZnVuY3Rpb24oZmlsZSwgZ2V0VHlwZSwgYXVkaW9NZXNzYWdlKXtcbiAgICAgICAgICAgIGxldCB0eXBlID0ge307XG4gICAgICAgICAgICBpZihmaWxlLnR5cGUubWF0Y2goJ2ltYWdlLionKSl7XG4gICAgICAgICAgICAgICAgdHlwZS5udW1iZXIgPSAxO1xuICAgICAgICAgICAgICAgIHR5cGUuaW5wdXQgPSAnaW1hZ2UnO1xuICAgICAgICAgICAgICAgIHR5cGUucGF0aCA9ICcvaW1hZ2VzJztcbiAgICAgICAgICAgIH0gZWxzZSBpZihmaWxlLnR5cGUubWF0Y2goJ2F1ZGlvLionKSl7XG4gICAgICAgICAgICAgICAgdHlwZS5udW1iZXIgPSAzO1xuICAgICAgICAgICAgICAgIHR5cGUuaW5wdXQgPSAnYXVkaW8nO1xuICAgICAgICAgICAgICAgIHR5cGUucGF0aCA9ICcvYXVkaW8nO1xuICAgICAgICAgICAgfSBlbHNlIGlmKGZpbGUudHlwZS5tYXRjaCgndmlkZW8uKicpKXtcbiAgICAgICAgICAgICAgICB0eXBlLm51bWJlciA9IDQ7XG4gICAgICAgICAgICAgICAgdHlwZS5pbnB1dCA9ICd2aWRlbyc7XG4gICAgICAgICAgICAgICAgdHlwZS5wYXRoID0gJy92aWRlb3MnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0eXBlLm51bWJlciA9IDI7XG4gICAgICAgICAgICAgICAgdHlwZS5pbnB1dCA9ICdkb2N1bWVudCc7XG4gICAgICAgICAgICAgICAgdHlwZS5wYXRoID0gJy9kb2N1bWVudHMnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoZ2V0VHlwZSA9PT0gdHJ1ZSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGUuaW5wdXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgcGVuZGluZyA9IG1ldGhvZHMubWFrZVBlbmRpbmdNZXNzYWdlKHR5cGUubnVtYmVyLCBudWxsKTtcbiAgICAgICAgICAgIG1ldGhvZHMubWFuYWdlUGVuZGluZ01lc3NhZ2UoJ2FkZCcsIHBlbmRpbmcpO1xuICAgICAgICAgICAgbGV0IGZvcm0gPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgICAgICAgIGlmKGF1ZGlvTWVzc2FnZSA9PT0gdHJ1ZSl7XG4gICAgICAgICAgICAgICAgZm9ybS5hcHBlbmQodHlwZS5pbnB1dCwgZmlsZSwgJ2F1ZGlvX21lc3NhZ2Uud2VibScpO1xuICAgICAgICAgICAgICAgIGZvcm0uYXBwZW5kKCdleHRyYScsIEpTT04uc3RyaW5naWZ5KHthdWRpb19tZXNzYWdlIDogdHJ1ZX0pKTtcbiAgICAgICAgICAgIH1lbHNlIHtcbiAgICAgICAgICAgICAgICBmb3JtLmFwcGVuZCh0eXBlLmlucHV0LCBmaWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvcm0uYXBwZW5kKCd0ZW1wb3JhcnlfaWQnLCBwZW5kaW5nLmlkKTtcbiAgICAgICAgICAgIGlmKG9wdC50aHJlYWQucmVwbHlpbmcpe1xuICAgICAgICAgICAgICAgIGZvcm0uYXBwZW5kKCdyZXBseV90b19pZCcsIG9wdC50aHJlYWQucmVwbHlfdG9faWQpO1xuICAgICAgICAgICAgICAgIG1ldGhvZHMucmVzZXRSZXBseWluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgTWVzc2VuZ2VyLnhocigpLnBheWxvYWQoe1xuICAgICAgICAgICAgICAgIHJvdXRlIDogTWVzc2VuZ2VyLmNvbW1vbigpLkFQSSArICd0aHJlYWRzLycgKyBvcHQudGhyZWFkLmlkICsgdHlwZS5wYXRoLFxuICAgICAgICAgICAgICAgIGRhdGEgOiBmb3JtLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbih4KXtcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kcy5tYW5hZ2VQZW5kaW5nTWVzc2FnZSgnY29tcGxldGVkJywgcGVuZGluZywgeClcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZhaWwgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICBtZXRob2RzLm1hbmFnZVBlbmRpbmdNZXNzYWdlKCdwdXJnZScsIHBlbmRpbmcpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmYWlsX2FsZXJ0IDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBieXBhc3MgOiB0cnVlXG4gICAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICBtYWtlUGVuZGluZ01lc3NhZ2UgOiBmdW5jdGlvbih0eXBlLCBib2R5KXtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYm9keSA6IGJvZHkgPyBNZXNzZW5nZXIuZm9ybWF0KCkuZXNjYXBlSHRtbChib2R5KSA6IG51bGwsXG4gICAgICAgICAgICAgICAgaWQgOiB1dWlkLnY0KCksXG4gICAgICAgICAgICAgICAgdHlwZSA6IHR5cGUsXG4gICAgICAgICAgICAgICAgb3duZXJfaWQgOiBNZXNzZW5nZXIuY29tbW9uKCkucHJvdmlkZXJfaWQsXG4gICAgICAgICAgICAgICAgb3duZXJfdHlwZSA6IE1lc3Nlbmdlci5jb21tb24oKS5wcm92aWRlcl9tb2RlbCxcbiAgICAgICAgICAgICAgICB0aHJlYWRfaWQgOiBvcHQudGhyZWFkLmlkLFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhZGRQZW5kaW5nTWVzc2FnZSA6IGZ1bmN0aW9uKG1lc3NhZ2Upe1xuICAgICAgICAgICAgaWYob3B0LnN0b3JhZ2UucGVuZGluZ19tZXNzYWdlcy5sZW5ndGggPiAxIHx8XG4gICAgICAgICAgICAgICAgKG9wdC5zdG9yYWdlLm1lc3NhZ2VzLmxlbmd0aCA+IDFcbiAgICAgICAgICAgICAgICAmJiBNZXNzZW5nZXIuaXNQcm92aWRlcihvcHQuc3RvcmFnZS5tZXNzYWdlc1swXS5vd25lcl9pZCwgb3B0LnN0b3JhZ2UubWVzc2FnZXNbMF0ub3duZXJfdHlwZSlcbiAgICAgICAgICAgICAgICAmJiAhIG9wdC5zdG9yYWdlLm1lc3NhZ2VzWzBdLnN5c3RlbV9tZXNzYWdlKVxuICAgICAgICAgICAgKXtcbiAgICAgICAgICAgICAgICBvcHQuZWxlbWVudHMucGVuZGluZ19tc2dfc3RhY2suYXBwZW5kKFRocmVhZFRlbXBsYXRlcy5yZW5kZXIoKS5wZW5kaW5nX21lc3NhZ2VfZ3JvdXBlZChtZXNzYWdlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIG9wdC5lbGVtZW50cy5wZW5kaW5nX21zZ19zdGFjay5hcHBlbmQoVGhyZWFkVGVtcGxhdGVzLnJlbmRlcigpLnBlbmRpbmdfbWVzc2FnZShtZXNzYWdlKSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgbWFuYWdlUGVuZGluZ01lc3NhZ2UgOiBmdW5jdGlvbihhY3Rpb24sIHBlbmRpbmcsIGZpbmFsKXtcbiAgICAgICAgICAgIGxldCBtc2dfZWxtID0gJChcIiNwZW5kaW5nX21lc3NhZ2VfXCIrcGVuZGluZy5pZCksXG4gICAgICAgICAgICAgICAgc3RvcmFnZSA9IG1ldGhvZHMubG9jYXRlU3RvcmFnZUl0ZW0oe3R5cGUgOiAncGVuZGluZ19tZXNzYWdlJywgaWQgOiBwZW5kaW5nLmlkfSk7XG4gICAgICAgICAgICBzd2l0Y2ggKGFjdGlvbikge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2FkZCc6XG4gICAgICAgICAgICAgICAgICAgIG9wdC5zdG9yYWdlLnBlbmRpbmdfbWVzc2FnZXMucHVzaChwZW5kaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kcy5hZGRQZW5kaW5nTWVzc2FnZShwZW5kaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kcy5tZXNzYWdlU3RhdHVzU3RhdGUocGVuZGluZywgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjcGVuZGluZ19tZXNzYWdlX2xvYWRpbmdfXCIrcGVuZGluZy5pZCkuc2hvdygpXG4gICAgICAgICAgICAgICAgICAgIH0sIDE1MDApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2NvbXBsZXRlZCc6XG4gICAgICAgICAgICAgICAgICAgIG1zZ19lbG0ucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmKHN0b3JhZ2UuZm91bmQpIG9wdC5zdG9yYWdlLnBlbmRpbmdfbWVzc2FnZXMuc3BsaWNlKHN0b3JhZ2UuaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICBtZXRob2RzLmFkZE1lc3NhZ2UoZmluYWwpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3B1cmdlJzpcbiAgICAgICAgICAgICAgICAgICAgJChcIiNwZW5kaW5nX21lc3NhZ2VfbG9hZGluZ19cIitwZW5kaW5nLmlkKS5yZW1vdmVDbGFzcygndGV4dC1wcmltYXJ5JykuYWRkQ2xhc3MoJ3RleHQtZGFuZ2VyJykuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1zZ19lbG0ucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDUwMDApO1xuICAgICAgICAgICAgICAgICAgICBpZihzdG9yYWdlLmZvdW5kKSBvcHQuc3RvcmFnZS5wZW5kaW5nX21lc3NhZ2VzLnNwbGljZShzdG9yYWdlLmluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgbG9jYXRlU3RvcmFnZUl0ZW0gOiBmdW5jdGlvbihhcmcpe1xuICAgICAgICAgICAgbGV0IGNvbGxlY3Rpb24sIHRlcm0sXG4gICAgICAgICAgICBpdGVtID0ge1xuICAgICAgICAgICAgICAgIGZvdW5kIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgaW5kZXggOiAwXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc3dpdGNoKGFyZy50eXBlKXtcbiAgICAgICAgICAgICAgICBjYXNlICdtZXNzYWdlJzpcbiAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbiA9IG9wdC5zdG9yYWdlLm1lc3NhZ2VzO1xuICAgICAgICAgICAgICAgICAgICB0ZXJtID0gJ2lkJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdwZW5kaW5nX21lc3NhZ2UnOlxuICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uID0gb3B0LnN0b3JhZ2UucGVuZGluZ19tZXNzYWdlcztcbiAgICAgICAgICAgICAgICAgICAgdGVybSA9ICdpZCc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAndGhyZWFkJzpcbiAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbiA9IG9wdC5zdG9yYWdlLnRocmVhZHM7XG4gICAgICAgICAgICAgICAgICAgIHRlcm0gPSAnaWQnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2JvYmJsZSc6XG4gICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb24gPSBvcHQuc3RvcmFnZS5wYXJ0aWNpcGFudHM7XG4gICAgICAgICAgICAgICAgICAgIHRlcm0gPSAnb3duZXJfaWQnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3R5cGluZyc6XG4gICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb24gPSBvcHQuc3RvcmFnZS53aG9fdHlwaW5nO1xuICAgICAgICAgICAgICAgICAgICB0ZXJtID0gJ2lkJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdib3QtdHlwaW5nJzpcbiAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbiA9IG9wdC5zdG9yYWdlLmJvdF90eXBpbmc7XG4gICAgICAgICAgICAgICAgICAgIHRlcm0gPSAnaWQnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGNvbGxlY3Rpb24ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoY29sbGVjdGlvbltpXVt0ZXJtXSA9PT0gYXJnLmlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpdGVtLmluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGl0ZW1cbiAgICAgICAgfSxcbiAgICAgICAgYWRkTWVzc2FnZSA6IGZ1bmN0aW9uKG1zZyl7XG4gICAgICAgICAgICBpZihtc2cudGhyZWFkX2lkICE9PSBvcHQudGhyZWFkLmlkKSByZXR1cm47XG4gICAgICAgICAgICBpZihtZXRob2RzLmxvY2F0ZVN0b3JhZ2VJdGVtKHt0eXBlIDogJ21lc3NhZ2UnLCBpZCA6IG1zZy5pZH0pLmZvdW5kKSByZXR1cm47XG4gICAgICAgICAgICBpZihtc2cudGVtcG9yYXJ5X2lkKXtcbiAgICAgICAgICAgICAgICBsZXQgcGVuZGluZyA9IG1ldGhvZHMubG9jYXRlU3RvcmFnZUl0ZW0oe3R5cGUgOiAncGVuZGluZ19tZXNzYWdlJywgaWQgOiBtc2cudGVtcG9yYXJ5X2lkfSk7XG4gICAgICAgICAgICAgICAgaWYocGVuZGluZy5mb3VuZCl7XG4gICAgICAgICAgICAgICAgICAgIG1zZy50ZW1wb3JhcnlfaWQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBtZXRob2RzLm1hbmFnZVBlbmRpbmdNZXNzYWdlKCdjb21wbGV0ZWQnLCBvcHQuc3RvcmFnZS5wZW5kaW5nX21lc3NhZ2VzW3BlbmRpbmcuaW5kZXhdLCBtc2cpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWV0aG9kcy51cGRhdGVUaHJlYWQobXNnLCBmYWxzZSwgZmFsc2UsIHRydWUpO1xuICAgICAgICAgICAgb3B0LnN0b3JhZ2UubWVzc2FnZXMudW5zaGlmdChtc2cpO1xuICAgICAgICAgICAgbWV0aG9kcy51cGRhdGVCb2JibGVIZWFkKG1zZy5vd25lcl9pZCwgbXNnLmlkKTtcbiAgICAgICAgICAgIGlmKG1zZy5zeXN0ZW1fbWVzc2FnZSl7XG4gICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLm1zZ19zdGFjay5hcHBlbmQoVGhyZWFkVGVtcGxhdGVzLnJlbmRlcigpLnN5c3RlbV9tZXNzYWdlKG1zZykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihtc2cuaGFzT3duUHJvcGVydHkoJ3JlcGx5X3RvJykpe1xuICAgICAgICAgICAgICAgIE1lc3Nlbmdlci5pc1Byb3ZpZGVyKG1zZy5vd25lcl9pZCwgbXNnLm93bmVyX3R5cGUpID8gb3B0LmVsZW1lbnRzLm1zZ19zdGFjay5hcHBlbmQoVGhyZWFkVGVtcGxhdGVzLnJlbmRlcigpLm15X21lc3NhZ2VfcmVwbHkobXNnKSkgOiBvcHQuZWxlbWVudHMubXNnX3N0YWNrLmFwcGVuZChUaHJlYWRUZW1wbGF0ZXMucmVuZGVyKCkubWVzc2FnZV9yZXBseShtc2cpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYob3B0LnN0b3JhZ2UubWVzc2FnZXMubGVuZ3RoID4gMVxuICAgICAgICAgICAgICAgICYmIG9wdC5zdG9yYWdlLm1lc3NhZ2VzWzFdLm93bmVyX2lkID09PSBtc2cub3duZXJfaWRcbiAgICAgICAgICAgICAgICAmJiBvcHQuc3RvcmFnZS5tZXNzYWdlc1sxXS5vd25lcl90eXBlID09PSBtc2cub3duZXJfdHlwZVxuICAgICAgICAgICAgICAgICYmICEgb3B0LnN0b3JhZ2UubWVzc2FnZXNbMV0uc3lzdGVtX21lc3NhZ2VcbiAgICAgICAgICAgICAgICAmJiBNZXNzZW5nZXIuZm9ybWF0KCkudGltZURpZmZJblVuaXQobXNnLmNyZWF0ZWRfYXQsIG9wdC5zdG9yYWdlLm1lc3NhZ2VzWzFdLmNyZWF0ZWRfYXQsICdtJykgPCAzMFxuICAgICAgICAgICAgKXtcbiAgICAgICAgICAgICAgICBNZXNzZW5nZXIuaXNQcm92aWRlcihtc2cub3duZXJfaWQsIG1zZy5vd25lcl90eXBlKSA/IG9wdC5lbGVtZW50cy5tc2dfc3RhY2suYXBwZW5kKFRocmVhZFRlbXBsYXRlcy5yZW5kZXIoKS5teV9tZXNzYWdlX2dyb3VwZWQobXNnKSkgOiBvcHQuZWxlbWVudHMubXNnX3N0YWNrLmFwcGVuZChUaHJlYWRUZW1wbGF0ZXMucmVuZGVyKCkubWVzc2FnZV9ncm91cGVkKG1zZykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBNZXNzZW5nZXIuaXNQcm92aWRlcihtc2cub3duZXJfaWQsIG1zZy5vd25lcl90eXBlKSA/IG9wdC5lbGVtZW50cy5tc2dfc3RhY2suYXBwZW5kKFRocmVhZFRlbXBsYXRlcy5yZW5kZXIoKS5teV9tZXNzYWdlKG1zZykpIDogb3B0LmVsZW1lbnRzLm1zZ19zdGFjay5hcHBlbmQoVGhyZWFkVGVtcGxhdGVzLnJlbmRlcigpLm1lc3NhZ2UobXNnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtZXRob2RzLm1lc3NhZ2VTdGF0dXNTdGF0ZShtc2csIHRydWUpO1xuICAgICAgICAgICAgbWV0aG9kcy5kcmF3Qm9iYmxlSGVhZHMoKTtcbiAgICAgICAgICAgIGlmKG9wdC50aW1lcnMucmVjZW50X2JvYmJsZV90aW1lb3V0KSBjbGVhclRpbWVvdXQob3B0LnRpbWVycy5yZWNlbnRfYm9iYmxlX3RpbWVvdXQpO1xuICAgICAgICAgICAgb3B0LnRpbWVycy5yZWNlbnRfYm9iYmxlX3RpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgbWV0aG9kcy5jaGVja1JlY2VudEJvYmJsZUhlYWRzKFs4OCw5Nyw5OCw5OV0uaW5jbHVkZXMobXNnLnR5cGUpKVxuICAgICAgICAgICAgfSwgMzAwMCk7XG4gICAgICAgIH0sXG4gICAgICAgIG1lc3NhZ2VTdGF0dXNTdGF0ZSA6IGZ1bmN0aW9uKG1lc3NhZ2UsIHNvdW5kKXtcbiAgICAgICAgICAgIG9wdC50aHJlYWQuY2xpY2tfdG9fcmVhZCA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IGZvcmNlU2Nyb2xsID0gKE1lc3Nlbmdlci5pc1Byb3ZpZGVyKG1lc3NhZ2Uub3duZXJfaWQsIG1lc3NhZ2Uub3duZXJfdHlwZSkgfHwgVGhyZWFkVGVtcGxhdGVzLnlvdXR1YmVSZWdleCgpLnRlc3QobWVzc2FnZS5ib2R5KSB8fCBtZXNzYWdlLnR5cGUgPT09IDQpLFxuICAgICAgICAgICAgICAgIGRpZFNjcm9sbCA9IG1ldGhvZHMudGhyZWFkU2Nyb2xsQm90dG9tKGZvcmNlU2Nyb2xsLCBmYWxzZSksXG4gICAgICAgICAgICAgICAgaGlkZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLm5ld19tc2dfYWxlcnQuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICBvcHQudGhyZWFkLm1lc3NhZ2VzX3VucmVhZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBvcHQuZWxlbWVudHMubWVzc2FnZV9jb250YWluZXIucmVtb3ZlQ2xhc3MoJ21zZy1jdG5yLXVucmVhZCcpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBtZXRob2RzLmltYWdlTG9hZExpc3RlbmVyKGRpZFNjcm9sbCk7XG4gICAgICAgICAgICBpZihkaWRTY3JvbGwgJiYgZG9jdW1lbnQuaGFzRm9jdXMoKSAmJiAoIW9wdC5zb2NrZXQuaXNfYXdheSB8fCAob3B0LnNvY2tldC5pc19hd2F5ICYmIG9wdC5zb2NrZXQub25saW5lX3N0YXR1c19zZXR0aW5nID09PSAyKSkpe1xuICAgICAgICAgICAgICAgIGhpZGUoKTtcbiAgICAgICAgICAgICAgICBpZighTWVzc2VuZ2VyLmlzUHJvdmlkZXIobWVzc2FnZS5vd25lcl9pZCwgbWVzc2FnZS5vd25lcl90eXBlKSB8fCAhWzAsMSwyXS5pbmNsdWRlcyhtZXNzYWdlLnR5cGUpKSBtZXRob2RzLm1hcmtSZWFkKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoTWVzc2VuZ2VyLmlzUHJvdmlkZXIobWVzc2FnZS5vd25lcl9pZCwgbWVzc2FnZS5vd25lcl90eXBlKSl7XG4gICAgICAgICAgICAgICAgaWYoIVswLDEsMl0uaW5jbHVkZXMobWVzc2FnZS50eXBlKSkgbWV0aG9kcy5tYXJrUmVhZCgpO1xuICAgICAgICAgICAgICAgIGhpZGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgb3B0LnRocmVhZC5tZXNzYWdlc191bnJlYWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIG9wdC5lbGVtZW50cy5tZXNzYWdlX2NvbnRhaW5lci5hZGRDbGFzcygnbXNnLWN0bnItdW5yZWFkJyk7XG4gICAgICAgICAgICAgICAgaWYoIWRpZFNjcm9sbCl7XG4gICAgICAgICAgICAgICAgICAgIG9wdC5lbGVtZW50cy5uZXdfbXNnX2FsZXJ0LnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLm5ld19tc2dfYWxlcnQuaHRtbChUaHJlYWRUZW1wbGF0ZXMucmVuZGVyKCkudGhyZWFkX25ld19tZXNzYWdlX2FsZXJ0KCkpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgIG9wdC50aHJlYWQuY2xpY2tfdG9fcmVhZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKHNvdW5kKSBOb3RpZnlNYW5hZ2VyLnNvdW5kKCdtZXNzYWdlJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdGhyZWFkQ2FsbFN0YXR1cyA6IGZ1bmN0aW9uKGNhbGwsIGFjdGlvbil7XG4gICAgICAgICAgICBQYWdlTGlzdGVuZXJzLmxpc3RlbigpLmRpc3Bvc2VUb29sdGlwcygpO1xuICAgICAgICAgICAgLy9pbmNvbWluZyBqb2luZWQgZW5kZWQgbGVmdFxuICAgICAgICAgICAgbGV0IHRocmVhZCA9IG1ldGhvZHMubG9jYXRlU3RvcmFnZUl0ZW0oe3R5cGUgOiAndGhyZWFkJywgaWQgOiBjYWxsLnRocmVhZF9pZH0pLCBjYWxsX2FyZWEgPSAkKFwiI3RocmVhZF9vcHRpb25fY2FsbFwiKTtcbiAgICAgICAgICAgIGlmKCF0aHJlYWQuZm91bmQpe1xuICAgICAgICAgICAgICAgIExvYWRJbi50aHJlYWQoY2FsbC50aHJlYWRfaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKCFvcHQuc3RvcmFnZS50aHJlYWRzW3RocmVhZC5pbmRleF0uaGFzX2NhbGwgJiYgWydqb2luZWQnLCAnbGVmdCcsICdpbmNvbWluZyddLmluY2x1ZGVzKGFjdGlvbikpe1xuICAgICAgICAgICAgICAgIExvYWRJbi50aHJlYWQoY2FsbC50aHJlYWRfaWQsIGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICAgICAgICAgICBpZihvcHQudGhyZWFkLmlkID09PSBjYWxsLnRocmVhZF9pZCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsX2FyZWEuaHRtbChUaHJlYWRUZW1wbGF0ZXMucmVuZGVyKCkudGhyZWFkX2NhbGxfc3RhdGUoZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIFBhZ2VMaXN0ZW5lcnMubGlzdGVuKCkudG9vbHRpcHMoKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKG9wdC5zdG9yYWdlLnRocmVhZHNbdGhyZWFkLmluZGV4XS5oYXNfY2FsbCl7XG4gICAgICAgICAgICAgICAgaWYoYWN0aW9uID09PSAnZW5kZWQnKXtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG9wdC5zdG9yYWdlLnRocmVhZHNbdGhyZWFkLmluZGV4XS5yZXNvdXJjZXMuYWN0aXZlX2NhbGw7XG4gICAgICAgICAgICAgICAgICAgIG9wdC5zdG9yYWdlLnRocmVhZHNbdGhyZWFkLmluZGV4XS5oYXNfY2FsbCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmKGFjdGlvbiA9PT0gJ2pvaW5lZCcpe1xuICAgICAgICAgICAgICAgICAgICBvcHQuc3RvcmFnZS50aHJlYWRzW3RocmVhZC5pbmRleF0ucmVzb3VyY2VzLmFjdGl2ZV9jYWxsLm9wdGlvbnMuaW5fY2FsbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIG9wdC5zdG9yYWdlLnRocmVhZHNbdGhyZWFkLmluZGV4XS5yZXNvdXJjZXMuYWN0aXZlX2NhbGwub3B0aW9ucy5qb2luZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBvcHQuc3RvcmFnZS50aHJlYWRzW3RocmVhZC5pbmRleF0ucmVzb3VyY2VzLmFjdGl2ZV9jYWxsLm9wdGlvbnMubGVmdF9jYWxsID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYoYWN0aW9uID09PSAnbGVmdCcpe1xuICAgICAgICAgICAgICAgICAgICBvcHQuc3RvcmFnZS50aHJlYWRzW3RocmVhZC5pbmRleF0ucmVzb3VyY2VzLmFjdGl2ZV9jYWxsLm9wdGlvbnMuaW5fY2FsbCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBvcHQuc3RvcmFnZS50aHJlYWRzW3RocmVhZC5pbmRleF0ucmVzb3VyY2VzLmFjdGl2ZV9jYWxsLm9wdGlvbnMuam9pbmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgb3B0LnN0b3JhZ2UudGhyZWFkc1t0aHJlYWQuaW5kZXhdLnJlc291cmNlcy5hY3RpdmVfY2FsbC5vcHRpb25zLmxlZnRfY2FsbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCB0ZW1wID0gb3B0LnN0b3JhZ2UudGhyZWFkc1t0aHJlYWQuaW5kZXhdO1xuICAgICAgICAgICAgICAgIG9wdC5zdG9yYWdlLnRocmVhZHMuc3BsaWNlKHRocmVhZC5pbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgb3B0LnN0b3JhZ2UudGhyZWFkcy51bnNoaWZ0KHRlbXApO1xuICAgICAgICAgICAgICAgIG1ldGhvZHMuYWRkVGhyZWFkKHRlbXAsIHRydWUpO1xuICAgICAgICAgICAgICAgIGlmKG9wdC50aHJlYWQuaWQgPT09IGNhbGwudGhyZWFkX2lkKXtcbiAgICAgICAgICAgICAgICAgICAgaWYoYWN0aW9uID09PSAnZW5kZWQnKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdC50aHJlYWQuY2FuX2NhbGwgPyBjYWxsX2FyZWEuaHRtbChUaHJlYWRUZW1wbGF0ZXMucmVuZGVyKCkudGhyZWFkX2NhbGxfc3RhdGUodGVtcCkpIDogY2FsbF9hcmVhLmh0bWwoJycpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsX2FyZWEuaHRtbChUaHJlYWRUZW1wbGF0ZXMucmVuZGVyKCkudGhyZWFkX2NhbGxfc3RhdGUodGVtcCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFBhZ2VMaXN0ZW5lcnMubGlzdGVuKCkudG9vbHRpcHMoKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBMb2FkSW4udGhyZWFkKGNhbGwudGhyZWFkX2lkLCBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgICAgICAgICAgaWYob3B0LnRocmVhZC5pZCA9PT0gY2FsbC50aHJlYWRfaWQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0LnRocmVhZC5jYW5fY2FsbCA/IGNhbGxfYXJlYS5odG1sKFRocmVhZFRlbXBsYXRlcy5yZW5kZXIoKS50aHJlYWRfY2FsbF9zdGF0ZShkYXRhKSkgOiBjYWxsX2FyZWEuaHRtbCgnJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgUGFnZUxpc3RlbmVycy5saXN0ZW4oKS50b29sdGlwcygpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHRocmVhZE9ubGluZVN0YXR1cyA6IGZ1bmN0aW9uKHN0YXRlKXtcbiAgICAgICAgICAgIGlmKG9wdC50aHJlYWQudHlwZSAhPT0gMSkgcmV0dXJuO1xuICAgICAgICAgICAgbGV0IHRocmVhZCA9IG1ldGhvZHMubG9jYXRlU3RvcmFnZUl0ZW0oe3R5cGUgOiAndGhyZWFkJywgaWQgOiBvcHQudGhyZWFkLmlkfSk7XG4gICAgICAgICAgICBpZih0aHJlYWQuZm91bmQpe1xuICAgICAgICAgICAgICAgIG9wdC5zdG9yYWdlLnRocmVhZHNbdGhyZWFkLmluZGV4XS5yZXNvdXJjZXMucmVjaXBpZW50Lm9wdGlvbnMub25saW5lX3N0YXR1cyA9IHN0YXRlO1xuICAgICAgICAgICAgICAgIG1ldGhvZHMuYWRkVGhyZWFkKG9wdC5zdG9yYWdlLnRocmVhZHNbdGhyZWFkLmluZGV4XSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICByZW1vdmVUaHJlYWQgOiBmdW5jdGlvbih0aHJlYWRfaWQpe1xuICAgICAgICAgICAgbGV0IHRoZV90aHJlYWQgPSBtZXRob2RzLmxvY2F0ZVN0b3JhZ2VJdGVtKHt0eXBlIDogJ3RocmVhZCcsIGlkIDogdGhyZWFkX2lkfSksIGVsbSA9ICQoXCIjdGhyZWFkX2xpc3RfXCIrdGhyZWFkX2lkKTtcbiAgICAgICAgICAgIGlmKHRoZV90aHJlYWQuZm91bmQpe1xuICAgICAgICAgICAgICAgIG9wdC5zdG9yYWdlLnRocmVhZHMuc3BsaWNlKHRoZV90aHJlYWQuaW5kZXgsIDEpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbG0ucmVtb3ZlKCk7XG4gICAgICAgICAgICBtZXRob2RzLmNhbGNVbnJlYWRUaHJlYWRzKClcbiAgICAgICAgfSxcbiAgICAgICAgdXBkYXRlVGhyZWFkIDogZnVuY3Rpb24oZGF0YSwgdGhyZWFkLCByZWFkLCB0b3Ape1xuICAgICAgICAgICAgbGV0IHRoZV90aHJlYWQgPSBtZXRob2RzLmxvY2F0ZVN0b3JhZ2VJdGVtKHt0eXBlIDogJ3RocmVhZCcsIGlkIDogKHRocmVhZCA/IGRhdGEuaWQgOiBkYXRhLnRocmVhZF9pZCl9KTtcbiAgICAgICAgICAgIGlmKCF0aGVfdGhyZWFkLmZvdW5kKXtcbiAgICAgICAgICAgICAgICBpZih0aHJlYWQpe1xuICAgICAgICAgICAgICAgICAgICBvcHQuc3RvcmFnZS50aHJlYWRzLnVuc2hpZnQoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZHMuYWRkVGhyZWFkKGRhdGEsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmKFwidGhyZWFkX2lkXCIgaW4gZGF0YSl7XG4gICAgICAgICAgICAgICAgICAgIExvYWRJbi50aHJlYWQoZGF0YS50aHJlYWRfaWQpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgIExvYWRJbi50aHJlYWRzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHJlYWQpe1xuICAgICAgICAgICAgICAgIG9wdC5zdG9yYWdlLnRocmVhZHNbdGhlX3RocmVhZC5pbmRleF0udW5yZWFkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgb3B0LnN0b3JhZ2UudGhyZWFkc1t0aGVfdGhyZWFkLmluZGV4XS51bnJlYWRfY291bnQgPSAwO1xuICAgICAgICAgICAgICAgIG1ldGhvZHMuYWRkVGhyZWFkKG9wdC5zdG9yYWdlLnRocmVhZHNbdGhlX3RocmVhZC5pbmRleF0sIHRvcCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYodGhyZWFkKXtcbiAgICAgICAgICAgICAgICBvcHQuc3RvcmFnZS50aHJlYWRzW3RoZV90aHJlYWQuaW5kZXhdID0gZGF0YTtcbiAgICAgICAgICAgICAgICBtZXRob2RzLmFkZFRocmVhZChkYXRhLCB0b3ApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCB0ZW1wID0gb3B0LnN0b3JhZ2UudGhyZWFkc1t0aGVfdGhyZWFkLmluZGV4XTtcbiAgICAgICAgICAgIG9wdC5zdG9yYWdlLnRocmVhZHMuc3BsaWNlKHRoZV90aHJlYWQuaW5kZXgsIDEpO1xuICAgICAgICAgICAgdGVtcC5yZXNvdXJjZXMubGF0ZXN0X21lc3NhZ2UgPSBkYXRhO1xuICAgICAgICAgICAgdGVtcC51cGRhdGVkX2F0ID0gZGF0YS5jcmVhdGVkX2F0O1xuICAgICAgICAgICAgaWYodGVtcC50eXBlID09PSAxICYmIGRhdGEudGhyZWFkX2lkICE9PSBvcHQudGhyZWFkLmlkICYmICFNZXNzZW5nZXIuaXNQcm92aWRlcihkYXRhLm93bmVyX2lkLCBkYXRhLm93bmVyX3R5cGUpKSB0ZW1wLnJlc291cmNlcy5yZWNpcGllbnQub3B0aW9ucy5vbmxpbmVfc3RhdHVzID0gMTtcbiAgICAgICAgICAgIGlmKHRlbXAudHlwZSA9PT0gMSAmJiBkYXRhLnRocmVhZF9pZCA9PT0gb3B0LnRocmVhZC5pZCAmJiAhTWVzc2VuZ2VyLmlzUHJvdmlkZXIoZGF0YS5vd25lcl9pZCwgZGF0YS5vd25lcl90eXBlKSl7XG4gICAgICAgICAgICAgICAgbGV0IGJvYmJsZSA9IG1ldGhvZHMubG9jYXRlU3RvcmFnZUl0ZW0oe3R5cGUgOiAnYm9iYmxlJywgaWQgOiBkYXRhLm93bmVyX2lkfSksIGkgPSBib2JibGUuaW5kZXg7XG4gICAgICAgICAgICAgICAgaWYoYm9iYmxlLmZvdW5kKXtcbiAgICAgICAgICAgICAgICAgICAgdGVtcC5yZXNvdXJjZXMucmVjaXBpZW50Lm9wdGlvbnMub25saW5lX3N0YXR1cyA9IG9wdC5zdG9yYWdlLnBhcnRpY2lwYW50c1tpXS5vd25lci5vcHRpb25zLm9ubGluZV9zdGF0dXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoTWVzc2VuZ2VyLmlzUHJvdmlkZXIoZGF0YS5vd25lcl9pZCwgZGF0YS5vd25lcl90eXBlKSl7XG4gICAgICAgICAgICAgICAgdGVtcC51bnJlYWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0ZW1wLnVucmVhZF9jb3VudCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKG9wdC50aHJlYWQuaWQgIT09IGRhdGEudGhyZWFkX2lkIHx8ICFkb2N1bWVudC5oYXNGb2N1cygpIHx8IG9wdC5zb2NrZXQuaXNfYXdheSB8fCAhbWV0aG9kcy50aHJlYWRTY3JvbGxCb3R0b20oZmFsc2UsIHRydWUpKXtcbiAgICAgICAgICAgICAgICB0ZW1wLnVucmVhZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGVtcC51bnJlYWRfY291bnQgPSB0ZW1wLnVucmVhZF9jb3VudCsxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICB0ZW1wLnVucmVhZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRlbXAudW5yZWFkX2NvdW50ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdC5zdG9yYWdlLnRocmVhZHMudW5zaGlmdCh0ZW1wKTtcbiAgICAgICAgICAgIG1ldGhvZHMuYWRkVGhyZWFkKHRlbXAsIHRvcClcbiAgICAgICAgfSxcbiAgICAgICAgYWRkVGhyZWFkIDogZnVuY3Rpb24oZGF0YSwgdG9wKXtcbiAgICAgICAgICAgIG1ldGhvZHMuY2FsY1VucmVhZFRocmVhZHMoKTtcbiAgICAgICAgICAgIGlmKCFvcHQuZWxlbWVudHMudGhyZWFkX2FyZWEubGVuZ3RoKSByZXR1cm47XG4gICAgICAgICAgICBpZihvcHQuc3RhdGVzLnRocmVhZF9maWx0ZXJlZCl7XG4gICAgICAgICAgICAgICAgbWV0aG9kcy5kcmF3VGhyZWFkcygpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1ldGhvZHMuY2hlY2tTaG93VGhyZWFkU2VhcmNoKCk7XG4gICAgICAgICAgICAkKFwiI25vX21lc3NhZ2Vfd2FybmluZ1wiKS5yZW1vdmUoKTtcbiAgICAgICAgICAgIGxldCB0aHJlYWRfZWxtID0gb3B0LmVsZW1lbnRzLnRocmVhZF9hcmVhLmZpbmQoJyN0aHJlYWRfbGlzdF8nK2RhdGEuaWQpLFxuICAgICAgICAgICAgc2VsZWN0ZWQgPSBkYXRhLmlkID09PSBvcHQudGhyZWFkLmlkO1xuICAgICAgICAgICAgaWYoc2VsZWN0ZWQpe1xuICAgICAgICAgICAgICAgIG9wdC5lbGVtZW50cy50aHJlYWRfYXJlYS5maW5kKCcudGhyZWFkX2xpc3RfaXRlbScpLnJlbW92ZUNsYXNzKCdhbGVydC13YXJuaW5nIHNoYWRvdy1zbSByb3VuZGVkJyk7XG4gICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLnRocmVhZF9hcmVhLmZpbmQoJy50aHJlYWQtZ3JvdXAtYXZhdGFyJykucmVtb3ZlQ2xhc3MoJ2F2YXRhci1pcy1vbmxpbmUnKS5hZGRDbGFzcygnYXZhdGFyLWlzLW9mZmxpbmUnKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYodG9wIHx8ICF0aHJlYWRfZWxtLmxlbmd0aCl7XG4gICAgICAgICAgICAgICAgdGhyZWFkX2VsbS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICBvcHQuZWxlbWVudHMudGhyZWFkX2FyZWEucHJlcGVuZCgoZGF0YS50eXBlID09PSAyID8gVGhyZWFkVGVtcGxhdGVzLnJlbmRlcigpLmdyb3VwX3RocmVhZChkYXRhLCBzZWxlY3RlZCkgOiBUaHJlYWRUZW1wbGF0ZXMucmVuZGVyKCkucHJpdmF0ZV90aHJlYWQoZGF0YSwgc2VsZWN0ZWQpKSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgdGhyZWFkX2VsbS5yZXBsYWNlV2l0aCgoZGF0YS50eXBlID09PSAyID8gVGhyZWFkVGVtcGxhdGVzLnJlbmRlcigpLmdyb3VwX3RocmVhZChkYXRhLCBzZWxlY3RlZCkgOiBUaHJlYWRUZW1wbGF0ZXMucmVuZGVyKCkucHJpdmF0ZV90aHJlYWQoZGF0YSwgc2VsZWN0ZWQpKSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZHJhd1RocmVhZHMgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgbWV0aG9kcy5jaGVja1Nob3dUaHJlYWRTZWFyY2goKTtcbiAgICAgICAgICAgIG9wdC5lbGVtZW50cy50aHJlYWRfYXJlYS5odG1sKCcnKTtcbiAgICAgICAgICAgIGlmKCFvcHQuc3RhdGVzLnRocmVhZF9maWx0ZXJlZCl7XG4gICAgICAgICAgICAgICAgb3B0LnN0b3JhZ2UudGhyZWFkcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLnRocmVhZF9hcmVhLmFwcGVuZCgodmFsdWUuZ3JvdXAgP1xuICAgICAgICAgICAgICAgICAgICAgICAgVGhyZWFkVGVtcGxhdGVzLnJlbmRlcigpLmdyb3VwX3RocmVhZCh2YWx1ZSwgdmFsdWUuaWQgPT09IG9wdC50aHJlYWQuaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFRocmVhZFRlbXBsYXRlcy5yZW5kZXIoKS5wcml2YXRlX3RocmVhZCh2YWx1ZSwgdmFsdWUuaWQgPT09IG9wdC50aHJlYWQuaWQpKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGZpbHRlcmVkID0gb3B0LnN0b3JhZ2UudGhyZWFkcy5maWx0ZXIoZnVuY3Rpb24gKHRocmVhZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aHJlYWQubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKG9wdC5zdGF0ZXMudGhyZWFkX2ZpbHRlcl9zZWFyY2gudG9Mb3dlckNhc2UoKSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYoZmlsdGVyZWQubGVuZ3RoKXtcbiAgICAgICAgICAgICAgICBmaWx0ZXJlZC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLnRocmVhZF9hcmVhLmFwcGVuZCgodmFsdWUuZ3JvdXAgP1xuICAgICAgICAgICAgICAgICAgICAgICAgVGhyZWFkVGVtcGxhdGVzLnJlbmRlcigpLmdyb3VwX3RocmVhZCh2YWx1ZSwgdmFsdWUuaWQgPT09IG9wdC50aHJlYWQuaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFRocmVhZFRlbXBsYXRlcy5yZW5kZXIoKS5wcml2YXRlX3RocmVhZCh2YWx1ZSwgdmFsdWUuaWQgPT09IG9wdC50aHJlYWQuaWQpKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3B0LmVsZW1lbnRzLnRocmVhZF9hcmVhLmh0bWwoJzxoNCBpZD1cIm5vX21lc3NhZ2Vfd2FybmluZ1wiIGNsYXNzPVwidGV4dC1jZW50ZXIgbXQtNFwiPjxzcGFuIGNsYXNzPVwiYmFkZ2UgYmFkZ2UtcGlsbCBiYWRnZS1zZWNvbmRhcnlcIj48aSBjbGFzcz1cImZhcyBmYS1jb21tZW50LXNsYXNoXCI+PC9pPiBObyBtYXRjaGVzPC9zcGFuPjwvaDQ+Jyk7XG4gICAgICAgIH0sXG4gICAgICAgIGNoZWNrVGhyZWFkRmlsdGVycyA6IGZ1bmN0aW9uKGUpe1xuICAgICAgICAgICAgaWYoZSAmJiBlLnR5cGUgPT09ICdtb3VzZXVwJyl7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChtZXRob2RzLmNoZWNrVGhyZWFkRmlsdGVycywgMCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGZpbHRlcmVkID0gb3B0LnN0YXRlcy50aHJlYWRfZmlsdGVyZWQsIHNlYXJjaCA9IG9wdC5zdGF0ZXMudGhyZWFkX2ZpbHRlcl9zZWFyY2g7XG4gICAgICAgICAgICBpZihvcHQuZWxlbWVudHMudGhyZWFkX3NlYXJjaF9pbnB1dC52YWwoKS50cmltKCkubGVuZ3RoKXtcbiAgICAgICAgICAgICAgICBvcHQuc3RhdGVzLnRocmVhZF9maWx0ZXJlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgb3B0LnN0YXRlcy50aHJlYWRfZmlsdGVyX3NlYXJjaCA9IG9wdC5lbGVtZW50cy50aHJlYWRfc2VhcmNoX2lucHV0LnZhbCgpO1xuICAgICAgICAgICAgICAgIGlmKHNlYXJjaCAhPT0gb3B0LnN0YXRlcy50aHJlYWRfZmlsdGVyX3NlYXJjaCkgbWV0aG9kcy5kcmF3VGhyZWFkcygpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIG9wdC5zdGF0ZXMudGhyZWFkX2ZpbHRlcmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgb3B0LnN0YXRlcy50aHJlYWRfZmlsdGVyX3NlYXJjaCA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYoZmlsdGVyZWQpIG1ldGhvZHMuZHJhd1RocmVhZHMoKVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjaGVja1Nob3dUaHJlYWRTZWFyY2ggOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgaWYoIW9wdC5zdG9yYWdlLnRocmVhZHMubGVuZ3RoKXtcbiAgICAgICAgICAgICAgICBvcHQuZWxlbWVudHMudGhyZWFkX3NlYXJjaF9iYXIuaGlkZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdC5lbGVtZW50cy50aHJlYWRfc2VhcmNoX2Jhci5zaG93KClcbiAgICAgICAgfSxcbiAgICAgICAgY2FsY1VucmVhZFRocmVhZHMgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgbGV0IHVucmVhZCA9IDA7XG4gICAgICAgICAgICBvcHQuc3RvcmFnZS50aHJlYWRzLmZvckVhY2goZnVuY3Rpb24odGhyZWFkKXtcbiAgICAgICAgICAgICAgICBpZih0aHJlYWQudW5yZWFkICYmIHRocmVhZC51bnJlYWRfY291bnQgPiAwKSB1bnJlYWQrKztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgTm90aWZ5TWFuYWdlci51cGRhdGVNZXNzYWdlQ291bnQoe3RvdGFsX3VucmVhZCA6IHVucmVhZH0pXG4gICAgICAgIH0sXG4gICAgICAgIGVkaXRNZXNzYWdlIDogZnVuY3Rpb24oYXJnKXtcbiAgICAgICAgICAgIGlmKCFvcHQudGhyZWFkLmlkKSByZXR1cm47XG4gICAgICAgICAgICBsZXQgbWVzc2FnZVN0b3JhZ2UgPSBtZXRob2RzLmxvY2F0ZVN0b3JhZ2VJdGVtKHt0eXBlIDogJ21lc3NhZ2UnLCBpZCA6IGFyZy5pZH0pLCBpID0gbWVzc2FnZVN0b3JhZ2UuaW5kZXgsIG1zZyA9ICQoXCIjbWVzc2FnZV9cIithcmcuaWQpO1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2VTdG9yYWdlLmZvdW5kICYmIE1lc3Nlbmdlci5pc1Byb3ZpZGVyKG9wdC5zdG9yYWdlLm1lc3NhZ2VzW2ldLm93bmVyX2lkLCBvcHQuc3RvcmFnZS5tZXNzYWdlc1tpXS5vd25lcl90eXBlKSl7XG4gICAgICAgICAgICAgICAgbXNnLmZpbmQoJy5tZXNzYWdlLWJvZHknKS5hZGRDbGFzcygnc2hhZG93LXN1Y2Nlc3MnKTtcbiAgICAgICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5Nb2RhbCh7XG4gICAgICAgICAgICAgICAgICAgIGljb24gOiAnZWRpdCcsXG4gICAgICAgICAgICAgICAgICAgIHRoZW1lIDogJ2RhcmsnLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0VkaXRpbmcgTWVzc2FnZScsXG4gICAgICAgICAgICAgICAgICAgIGg0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3BfY3RybCA6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB1bmxvY2tfYnV0dG9ucyA6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBib2R5IDogVGhyZWFkVGVtcGxhdGVzLnJlbmRlcigpLmVkaXRfbWVzc2FnZShNZXNzZW5nZXIuZm9ybWF0KCkuc2hvcnRjb2RlVG9Vbmljb2RlKG9wdC5zdG9yYWdlLm1lc3NhZ2VzW2ldLmJvZHkpKSxcbiAgICAgICAgICAgICAgICAgICAgY2JfYnRuX3R4dCA6ICdVcGRhdGUnLFxuICAgICAgICAgICAgICAgICAgICBjYl9idG5faWNvbiA6ICdlZGl0JyxcbiAgICAgICAgICAgICAgICAgICAgY2JfYnRuX3RoZW1lIDogJ3N1Y2Nlc3MnLFxuICAgICAgICAgICAgICAgICAgICBvblJlYWR5IDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1lc3Nlbmdlci5mb3JtYXQoKS5mb2N1c0VuZChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdF9tZXNzYWdlX3RleHRhcmVhJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhZ2VMaXN0ZW5lcnMubGlzdGVuKCkudG9vbHRpcHMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDUwMClcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kcy51cGRhdGVNZXNzYWdlKGFyZylcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZWQgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgbXNnLmZpbmQoJy5tZXNzYWdlLWJvZHknKS5yZW1vdmVDbGFzcygnc2hhZG93LXN1Y2Nlc3MnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICByZXBseVRvTWVzc2FnZSA6IGZ1bmN0aW9uKGFyZyl7XG4gICAgICAgICAgICBpZighb3B0LnRocmVhZC5pZCkgcmV0dXJuO1xuICAgICAgICAgICAgaWYob3B0LnRocmVhZC5yZXBseWluZyl7XG4gICAgICAgICAgICAgICAgbWV0aG9kcy5yZXNldFJlcGx5aW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgbWVzc2FnZVN0b3JhZ2UgPSBtZXRob2RzLmxvY2F0ZVN0b3JhZ2VJdGVtKHt0eXBlIDogJ21lc3NhZ2UnLCBpZCA6IGFyZy5pZH0pLFxuICAgICAgICAgICAgICAgIGkgPSBtZXNzYWdlU3RvcmFnZS5pbmRleCxcbiAgICAgICAgICAgICAgICBtc2cgPSAkKFwiI21lc3NhZ2VfXCIrYXJnLmlkKSxcbiAgICAgICAgICAgICAgICBmb2N1c19pbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZXNzYWdlX3RleHRfaW5wdXQnKTtcbiAgICAgICAgICAgIGlmIChtZXNzYWdlU3RvcmFnZS5mb3VuZCAmJiAhIG9wdC5zdG9yYWdlLm1lc3NhZ2VzW2ldLnN5c3RlbV9tZXNzYWdlKXtcbiAgICAgICAgICAgICAgICBtc2cuZmluZCgnLm1lc3NhZ2UtYm9keScpLmFkZENsYXNzKCdzaGFkb3ctcHJpbWFyeScpO1xuICAgICAgICAgICAgICAgIG9wdC5lbGVtZW50cy5yZXBseV9tZXNzYWdlX2FsZXJ0LnNob3coKTtcbiAgICAgICAgICAgICAgICBvcHQuZWxlbWVudHMucmVwbHlfbWVzc2FnZV9hbGVydC5odG1sKFRocmVhZFRlbXBsYXRlcy5yZW5kZXIoKS50aHJlYWRfcmVwbHlpbmdfbWVzc2FnZV9hbGVydChvcHQuc3RvcmFnZS5tZXNzYWdlc1tpXSkpO1xuICAgICAgICAgICAgICAgIG9wdC50aHJlYWQucmVwbHlpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIG9wdC50aHJlYWQucmVwbHlfdG9faWQgPSBhcmcuaWQ7XG4gICAgICAgICAgICAgICAgTWVzc2VuZ2VyLmZvcm1hdCgpLmZvY3VzRW5kKGZvY3VzX2lucHV0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgcmVzZXRSZXBseWluZyA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBpZighb3B0LnRocmVhZC5pZCB8fCAhb3B0LnRocmVhZC5yZXBseWluZykgcmV0dXJuO1xuICAgICAgICAgICAgbGV0IG1zZyA9ICQoXCIjbWVzc2FnZV9cIitvcHQudGhyZWFkLnJlcGx5X3RvX2lkKTtcbiAgICAgICAgICAgIG9wdC5lbGVtZW50cy5yZXBseV9tZXNzYWdlX2FsZXJ0LmhpZGUoKTtcbiAgICAgICAgICAgIG9wdC5lbGVtZW50cy5yZXBseV9tZXNzYWdlX2FsZXJ0Lmh0bWwoJycpO1xuICAgICAgICAgICAgb3B0LnRocmVhZC5yZXBseWluZyA9IGZhbHNlO1xuICAgICAgICAgICAgb3B0LnRocmVhZC5yZXBseV90b19pZCA9IG51bGw7XG4gICAgICAgICAgICBtc2cuZmluZCgnLm1lc3NhZ2UtYm9keScpLnJlbW92ZUNsYXNzKCdzaGFkb3ctcHJpbWFyeScpO1xuICAgICAgICB9LFxuICAgICAgICB1cGRhdGVNZXNzYWdlIDogZnVuY3Rpb24oYXJnKXtcbiAgICAgICAgICAgIGxldCB0ZXh0YXJlYSA9ICQoXCIjZWRpdF9tZXNzYWdlX3RleHRhcmVhXCIpO1xuICAgICAgICAgICAgdGV4dGFyZWEucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcbiAgICAgICAgICAgIE1lc3Nlbmdlci54aHIoKS5wYXlsb2FkKHtcbiAgICAgICAgICAgICAgICByb3V0ZSA6IE1lc3Nlbmdlci5jb21tb24oKS5BUEkgKyAndGhyZWFkcy8nICsgb3B0LnRocmVhZC5pZCArICcvbWVzc2FnZXMvJyArIGFyZy5pZCxcbiAgICAgICAgICAgICAgICBkYXRhIDoge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlIDogdGV4dGFyZWEudmFsKClcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbihtZXNzYWdlKXtcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kcy5yZW5kZXJVcGRhdGVkTWVzc2FnZShtZXNzYWdlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNsb3NlX21vZGFsIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBmYWlsX2FsZXJ0IDogdHJ1ZVxuICAgICAgICAgICAgfSwgJ3B1dCcpO1xuICAgICAgICB9LFxuICAgICAgICByZW5kZXJVcGRhdGVkTWVzc2FnZSA6IGZ1bmN0aW9uKG1lc3NhZ2UsIGZvcmNlKXtcbiAgICAgICAgICAgIGlmKGZvcmNlID09PSB0cnVlICYmIE1lc3Nlbmdlci5pc1Byb3ZpZGVyKG1lc3NhZ2Uub3duZXJfaWQsIG1lc3NhZ2Uub3duZXJfdHlwZSkpe1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBtc2cgPSAkKFwiI21lc3NhZ2VfXCIrbWVzc2FnZS5pZCksIG1lc3NhZ2VTdG9yYWdlID0gbWV0aG9kcy5sb2NhdGVTdG9yYWdlSXRlbSh7dHlwZSA6ICdtZXNzYWdlJywgaWQgOiBtZXNzYWdlLmlkfSksIGkgPSBtZXNzYWdlU3RvcmFnZS5pbmRleDtcbiAgICAgICAgICAgIGlmIChtZXNzYWdlU3RvcmFnZS5mb3VuZCl7XG4gICAgICAgICAgICAgICAgb3B0LnN0b3JhZ2UubWVzc2FnZXNbaV0gPSBtZXNzYWdlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYobXNnLmxlbmd0aCl7XG4gICAgICAgICAgICAgICAgaWYobWVzc2FnZS5oYXNPd25Qcm9wZXJ0eSgncmVwbHlfdG8nKSl7XG4gICAgICAgICAgICAgICAgICAgIG1zZy5yZXBsYWNlV2l0aChNZXNzZW5nZXIuaXNQcm92aWRlcihtZXNzYWdlLm93bmVyX2lkLCBtZXNzYWdlLm93bmVyX3R5cGUpID8gVGhyZWFkVGVtcGxhdGVzLnJlbmRlcigpLm15X21lc3NhZ2VfcmVwbHkobWVzc2FnZSkgOiBUaHJlYWRUZW1wbGF0ZXMucmVuZGVyKCkubWVzc2FnZV9yZXBseShtZXNzYWdlKSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgbXNnLmZpbmQoJy5tZXNzYWdlLXRleHQnKS5odG1sKFRocmVhZFRlbXBsYXRlcy5yZW5kZXIoKS5tZXNzYWdlX2JvZHkobWVzc2FnZSkpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhZGROZXdSZWFjdGlvbiA6IGZ1bmN0aW9uKGFyZyl7XG4gICAgICAgICAgICBpZighb3B0LnRocmVhZC5pZCkgcmV0dXJuO1xuICAgICAgICAgICAgTWVzc2VuZ2VyLnhocigpLnBheWxvYWQoe1xuICAgICAgICAgICAgICAgIHJvdXRlIDogTWVzc2VuZ2VyLmNvbW1vbigpLkFQSSArICd0aHJlYWRzLycgKyBvcHQudGhyZWFkLmlkICsgJy9tZXNzYWdlcy8nICsgYXJnLm1lc3NhZ2VfaWQgKyAnL3JlYWN0aW9ucycsXG4gICAgICAgICAgICAgICAgZGF0YSA6IHtcbiAgICAgICAgICAgICAgICAgICAgcmVhY3Rpb24gOiBhcmcuZW1vamlcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZhaWxfYWxlcnQgOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVtb3ZlUmVhY3Rpb24gOiBmdW5jdGlvbihhcmcsIHJlbW92ZUxpKXtcbiAgICAgICAgICAgIGlmKCFvcHQudGhyZWFkLmlkKSByZXR1cm47XG4gICAgICAgICAgICBNZXNzZW5nZXIueGhyKCkucGF5bG9hZCh7XG4gICAgICAgICAgICAgICAgcm91dGUgOiBNZXNzZW5nZXIuY29tbW9uKCkuQVBJICsgJ3RocmVhZHMvJyArIG9wdC50aHJlYWQuaWQgKyAnL21lc3NhZ2VzLycgKyBhcmcubWVzc2FnZV9pZCArICcvcmVhY3Rpb25zLycrYXJnLmlkLFxuICAgICAgICAgICAgICAgIGRhdGEgOiB7fSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgaWYocmVtb3ZlTGkgPT09IHRydWUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlYWN0TGkgPSAkKFwiI3JlYWN0X2xpX2l0ZW1fXCIrYXJnLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHJlYWN0TGkubGVuZ3RoKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFjdExpLnJlbW92ZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZhaWxfYWxlcnQgOiB0cnVlXG4gICAgICAgICAgICB9LCAnZGVsZXRlJyk7XG4gICAgICAgIH0sXG4gICAgICAgIHVwZGF0ZU5ld1JlYWN0aW9uIDogZnVuY3Rpb24ocmVhY3Rpb24pe1xuICAgICAgICAgICAgbGV0IG1lc3NhZ2VTdG9yYWdlID0gbWV0aG9kcy5sb2NhdGVTdG9yYWdlSXRlbSh7dHlwZSA6ICdtZXNzYWdlJywgaWQgOiByZWFjdGlvbi5tZXNzYWdlX2lkfSksXG4gICAgICAgICAgICAgICAgaSA9IG1lc3NhZ2VTdG9yYWdlLmluZGV4O1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2VTdG9yYWdlLmZvdW5kKXtcbiAgICAgICAgICAgICAgICBpZihvcHQuc3RvcmFnZS5tZXNzYWdlc1tpXS5oYXNPd25Qcm9wZXJ0eSgncmVhY3Rpb25zJykpe1xuICAgICAgICAgICAgICAgICAgICBpZihvcHQuc3RvcmFnZS5tZXNzYWdlc1tpXS5yZWFjdGlvbnMuZGF0YS5oYXNPd25Qcm9wZXJ0eShyZWFjdGlvbi5yZWFjdGlvbikpe1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0LnN0b3JhZ2UubWVzc2FnZXNbaV0ucmVhY3Rpb25zLmRhdGFbcmVhY3Rpb24ucmVhY3Rpb25dLnB1c2gocmVhY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0LnN0b3JhZ2UubWVzc2FnZXNbaV0ucmVhY3Rpb25zLmRhdGFbcmVhY3Rpb24ucmVhY3Rpb25dID0gW3JlYWN0aW9uXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdC5zdG9yYWdlLm1lc3NhZ2VzW2ldLnJlYWN0aW9ucy5tZXRhLnRvdGFsX3VuaXF1ZSA9IE9iamVjdC5rZXlzKG9wdC5zdG9yYWdlLm1lc3NhZ2VzW2ldLnJlYWN0aW9ucy5kYXRhKS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgb3B0LnN0b3JhZ2UubWVzc2FnZXNbaV0ucmVhY3Rpb25zLm1ldGEudG90YWwgPSBvcHQuc3RvcmFnZS5tZXNzYWdlc1tpXS5yZWFjdGlvbnMubWV0YS50b3RhbCsxO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG9wdC5zdG9yYWdlLm1lc3NhZ2VzW2ldLnJlYWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBvcHQuc3RvcmFnZS5tZXNzYWdlc1tpXS5yZWFjdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhIDoge30sXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRhIDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsIDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbF91bmlxdWUgOiAxXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIG9wdC5zdG9yYWdlLm1lc3NhZ2VzW2ldLnJlYWN0aW9ucy5kYXRhW3JlYWN0aW9uLnJlYWN0aW9uXSA9IFtyZWFjdGlvbl07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1ldGhvZHMuZHJhd1JlYWN0aW9ucyhvcHQuc3RvcmFnZS5tZXNzYWdlc1tpXSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdXBkYXRlUmVtb3ZlUmVhY3Rpb24gOiBmdW5jdGlvbihyZWFjdGlvbil7XG4gICAgICAgICAgICBsZXQgbWVzc2FnZVN0b3JhZ2UgPSBtZXRob2RzLmxvY2F0ZVN0b3JhZ2VJdGVtKHt0eXBlIDogJ21lc3NhZ2UnLCBpZCA6IHJlYWN0aW9uLm1lc3NhZ2VfaWR9KSxcbiAgICAgICAgICAgICAgICBpID0gbWVzc2FnZVN0b3JhZ2UuaW5kZXg7XG4gICAgICAgICAgICBpZiAobWVzc2FnZVN0b3JhZ2UuZm91bmQgJiYgb3B0LnN0b3JhZ2UubWVzc2FnZXNbaV0uaGFzT3duUHJvcGVydHkoJ3JlYWN0aW9ucycpKXtcbiAgICAgICAgICAgICAgICBpZihvcHQuc3RvcmFnZS5tZXNzYWdlc1tpXS5yZWFjdGlvbnMuZGF0YS5oYXNPd25Qcm9wZXJ0eShyZWFjdGlvbi5yZWFjdGlvbikpe1xuICAgICAgICAgICAgICAgICAgICBmb3IobGV0IHkgPSAwOyB5IDwgb3B0LnN0b3JhZ2UubWVzc2FnZXNbaV0ucmVhY3Rpb25zLmRhdGFbcmVhY3Rpb24ucmVhY3Rpb25dLmxlbmd0aDsgeSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0LnN0b3JhZ2UubWVzc2FnZXNbaV0ucmVhY3Rpb25zLmRhdGFbcmVhY3Rpb24ucmVhY3Rpb25dW3ldLmlkID09PSByZWFjdGlvbi5pZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdC5zdG9yYWdlLm1lc3NhZ2VzW2ldLnJlYWN0aW9ucy5kYXRhW3JlYWN0aW9uLnJlYWN0aW9uXS5zcGxpY2UoeSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYoIW9wdC5zdG9yYWdlLm1lc3NhZ2VzW2ldLnJlYWN0aW9ucy5kYXRhW3JlYWN0aW9uLnJlYWN0aW9uXS5sZW5ndGgpe1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG9wdC5zdG9yYWdlLm1lc3NhZ2VzW2ldLnJlYWN0aW9ucy5kYXRhW3JlYWN0aW9uLnJlYWN0aW9uXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsZXQgdW5pcXVlID0gT2JqZWN0LmtleXMob3B0LnN0b3JhZ2UubWVzc2FnZXNbaV0ucmVhY3Rpb25zLmRhdGEpLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgaWYoIXVuaXF1ZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgb3B0LnN0b3JhZ2UubWVzc2FnZXNbaV0ucmVhY3Rpb25zO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0LnN0b3JhZ2UubWVzc2FnZXNbaV0ucmVhY3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0LnN0b3JhZ2UubWVzc2FnZXNbaV0ucmVhY3Rpb25zLm1ldGEudG90YWxfdW5pcXVlID0gdW5pcXVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0LnN0b3JhZ2UubWVzc2FnZXNbaV0ucmVhY3Rpb25zLm1ldGEudG90YWwgPSBvcHQuc3RvcmFnZS5tZXNzYWdlc1tpXS5yZWFjdGlvbnMubWV0YS50b3RhbC0xO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1ldGhvZHMuZHJhd1JlYWN0aW9ucyhvcHQuc3RvcmFnZS5tZXNzYWdlc1tpXSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZHJhd1JlYWN0aW9ucyA6IGZ1bmN0aW9uKG1lc3NhZ2Upe1xuICAgICAgICAgICAgbGV0IG1zZyA9ICQoXCIjbWVzc2FnZV9cIittZXNzYWdlLmlkKTtcbiAgICAgICAgICAgIGlmKG1zZy5sZW5ndGgpe1xuICAgICAgICAgICAgICAgIG1zZy5maW5kKCcucmVhY3Rpb25zJykuaHRtbChUaHJlYWRUZW1wbGF0ZXMucmVuZGVyKCkubWVzc2FnZV9yZWFjdGlvbnMobWVzc2FnZSwgbXNnLmhhc0NsYXNzKCdteS1tZXNzYWdlJyksIG1zZy5oYXNDbGFzcygnZ3JvdXBlZC1tZXNzYWdlJykpKTtcbiAgICAgICAgICAgICAgICBtZXRob2RzLnRocmVhZFNjcm9sbEJvdHRvbShmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIFBhZ2VMaXN0ZW5lcnMubGlzdGVuKCkudG9vbHRpcHMoKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBhcmNoaXZlID0ge1xuICAgICAgICBNZXNzYWdlIDogZnVuY3Rpb24oYXJnKXtcbiAgICAgICAgICAgIGlmKCFvcHQudGhyZWFkLmlkKSByZXR1cm47XG4gICAgICAgICAgICBsZXQgbXNnID0gJChcIiNtZXNzYWdlX1wiK2FyZy5pZCk7XG4gICAgICAgICAgICBtc2cuZmluZCgnLm1lc3NhZ2UtYm9keScpLmFkZENsYXNzKCdzaGFkb3ctd2FybmluZycpO1xuICAgICAgICAgICAgTWVzc2VuZ2VyLmFsZXJ0KCkuTW9kYWwoe1xuICAgICAgICAgICAgICAgIHNpemUgOiAnc20nLFxuICAgICAgICAgICAgICAgIGJvZHkgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBjZW50ZXJlZCA6IHRydWUsXG4gICAgICAgICAgICAgICAgdW5sb2NrX2J1dHRvbnMgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0aXRsZTogJ0RlbGV0ZSBtZXNzYWdlPycsXG4gICAgICAgICAgICAgICAgdGhlbWU6ICdkYW5nZXInLFxuICAgICAgICAgICAgICAgIGNiX2J0bl90eHQ6ICdEZWxldGUnLFxuICAgICAgICAgICAgICAgIGNiX2J0bl90aGVtZSA6ICdkYW5nZXInLFxuICAgICAgICAgICAgICAgIGNiX2J0bl9pY29uOid0cmFzaCcsXG4gICAgICAgICAgICAgICAgaWNvbjogJ3RyYXNoJyxcbiAgICAgICAgICAgICAgICBjYl9jbG9zZSA6IHRydWUsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2sgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICBNZXNzZW5nZXIueGhyKCkucGF5bG9hZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICByb3V0ZSA6IE1lc3Nlbmdlci5jb21tb24oKS5BUEkgKyAndGhyZWFkcy8nICsgb3B0LnRocmVhZC5pZCArICcvbWVzc2FnZXMvJyArIGFyZy5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1lc3Nlbmdlci5hbGVydCgpLkFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUgOiAnTWVzc2FnZSBSZW1vdmVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3QgOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGVtZSA6ICd3YXJuaW5nJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZHMucHVyZ2VNZXNzYWdlKGFyZy5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbXNnLnJlbW92ZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZmFpbF9hbGVydCA6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfSwgJ2RlbGV0ZScpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25DbG9zZWQgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICBtc2cuZmluZCgnLm1lc3NhZ2UtYm9keScpLnJlbW92ZUNsYXNzKCdzaGFkb3ctd2FybmluZycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBUaHJlYWQgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgaWYoIW9wdC50aHJlYWQuaWQpIHJldHVybjtcbiAgICAgICAgICAgIE1lc3Nlbmdlci5hbGVydCgpLk1vZGFsKHtcbiAgICAgICAgICAgICAgICB0aGVtZSA6ICdkYW5nZXInLFxuICAgICAgICAgICAgICAgIGljb24gOiAndHJhc2gnLFxuICAgICAgICAgICAgICAgIGJhY2tkcm9wX2N0cmwgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBwcmVfbG9hZGVyIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0aXRsZSA6ICdDaGVja2luZyBkZWxldGUuLi4nLFxuICAgICAgICAgICAgICAgIGNiX2J0bl90eHQgOiAnRGVsZXRlJyxcbiAgICAgICAgICAgICAgICBjYl9idG5faWNvbiA6ICd0cmFzaCcsXG4gICAgICAgICAgICAgICAgY2JfYnRuX3RoZW1lIDogJ2RhbmdlcicsXG4gICAgICAgICAgICAgICAgb25SZWFkeSA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIE1lc3Nlbmdlci54aHIoKS5yZXF1ZXN0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlIDogTWVzc2VuZ2VyLmNvbW1vbigpLkFQSSArICd0aHJlYWRzLycgKyBvcHQudGhyZWFkLmlkICsgJy9jaGVjay1hcmNoaXZlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5maWxsTW9kYWwoe2JvZHkgOiBUaHJlYWRUZW1wbGF0ZXMucmVuZGVyKCkuYXJjaGl2ZV90aHJlYWRfd2FybmluZyhkYXRhKSwgdGl0bGUgOiAnIERlbGV0ZSBDb252ZXJzYXRpb24/J30pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhaWwgOiBNZXNzZW5nZXIuYWxlcnQoKS5kZXN0cm95TW9kYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICBieXBhc3MgOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmFpbF9hbGVydCA6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrIDogYXJjaGl2ZS5wb3N0QXJjaGl2ZVRocmVhZFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgcG9zdEFyY2hpdmVUaHJlYWQgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgaWYob3B0LnN0YXRlcy5sb2NrKSByZXR1cm47XG4gICAgICAgICAgICBvcHQuc3RhdGVzLmxvY2sgPSB0cnVlO1xuICAgICAgICAgICAgTWVzc2VuZ2VyLnhocigpLnBheWxvYWQoe1xuICAgICAgICAgICAgICAgIHJvdXRlIDogTWVzc2VuZ2VyLmNvbW1vbigpLkFQSSArICd0aHJlYWRzLycgKyBvcHQudGhyZWFkLmlkLFxuICAgICAgICAgICAgICAgIHNoYXJlZCA6IHtcbiAgICAgICAgICAgICAgICAgICAgdGhyZWFkX2lkIDogb3B0LnRocmVhZC5pZCxcbiAgICAgICAgICAgICAgICAgICAgbmFtZSA6IG9wdC50aHJlYWQubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA6IG9wdC50aHJlYWQudHlwZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZGF0YSA6IHt9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgICAgICAgICAgTG9hZEluLmNsb3NlT3BlbmVkKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgbXNnID0gXCJZb3UgcmVtb3ZlZCB0aGUgY29udmVyc2F0aW9uIGJldHdlZW4geW91IGFuZCBcIiArIGRhdGEubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS50eXBlID09PSAyKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1zZyA9IFwiWW91IHJlbW92ZWQgdGhlIGdyb3VwIGNvbnZlcnNhdGlvbiBcIiArIGRhdGEubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5BbGVydCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSA6IG1zZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoZW1lIDogJ3N1Y2Nlc3MnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3QgOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmYWlsX2FsZXJ0IDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjbG9zZV9tb2RhbCA6IHRydWVcbiAgICAgICAgICAgIH0sICdkZWxldGUnKTtcblxuICAgICAgICB9XG4gICAgfSxcbiAgICBncm91cHMgPSB7XG4gICAgICAgIHZpZXdQYXJ0aWNpcGFudHMgOiBmdW5jdGlvbihyZWxvYWQpe1xuICAgICAgICAgICAgbGV0IGdhdGhlciA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBNZXNzZW5nZXIueGhyKCkucmVxdWVzdCh7XG4gICAgICAgICAgICAgICAgICAgIHJvdXRlIDogTWVzc2VuZ2VyLmNvbW1vbigpLkFQSSArICd0aHJlYWRzLycgKyBvcHQudGhyZWFkLmlkICsgJy9wYXJ0aWNpcGFudHMnLFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzIDogZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5maWxsTW9kYWwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHkgOiBUaHJlYWRUZW1wbGF0ZXMucmVuZGVyKCkuZ3JvdXBfcGFydGljaXBhbnRzKGRhdGEuZGF0YSwgb3B0LnRocmVhZC5hZG1pbiwgb3B0LnRocmVhZC5sb2Nrb3V0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSA6IG9wdC50aHJlYWQubmFtZSsnIFBhcnRpY2lwYW50cydcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kcy5sb2FkRGF0YVRhYmxlKCQoXCIjdmlld19ncm91cF9wYXJ0aWNpcGFudHNcIikpXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGZhaWxfYWxlcnQgOiB0cnVlXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZihyZWxvYWQpIHJldHVybiBnYXRoZXIoKTtcbiAgICAgICAgICAgIGxldCBtb2RhbCA9IHtcbiAgICAgICAgICAgICAgICBpY29uIDogJ3VzZXJzJyxcbiAgICAgICAgICAgICAgICBiYWNrZHJvcF9jdHJsIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgdGhlbWUgOiAnZGFyaycsXG4gICAgICAgICAgICAgICAgdGl0bGUgOiAnTG9hZGluZyBQYXJ0aWNpcGFudHMuLi4nLFxuICAgICAgICAgICAgICAgIHByZV9sb2FkZXIgOiB0cnVlLFxuICAgICAgICAgICAgICAgIG92ZXJmbG93IDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB1bmxvY2tfYnV0dG9ucyA6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGg0IDogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2l6ZSA6ICdsZycsXG4gICAgICAgICAgICAgICAgb25SZWFkeSA6IGdhdGhlclxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmKCFvcHQudGhyZWFkLmxvY2tvdXQgJiYgb3B0LnRocmVhZC5fdGhyZWFkLm9wdGlvbnMuYWRkX3BhcnRpY2lwYW50cyl7XG4gICAgICAgICAgICAgICAgbW9kYWwuY2JfYnRuX3R4dCA9ICdBZGQgUGFydGljaXBhbnRzJztcbiAgICAgICAgICAgICAgICBtb2RhbC5jYl9idG5faWNvbiA9ICd1c2VyLXBsdXMnO1xuICAgICAgICAgICAgICAgIG1vZGFsLmNiX2J0bl90aGVtZSA9ICdzdWNjZXNzJztcbiAgICAgICAgICAgICAgICBtb2RhbC5jYWxsYmFjayA9IGdyb3Vwcy5hZGRQYXJ0aWNpcGFudHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5Nb2RhbChtb2RhbCk7XG4gICAgICAgIH0sXG4gICAgICAgIHZpZXdJbnZpdGVHZW5lcmF0b3IgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgTWVzc2VuZ2VyLmFsZXJ0KCkuTW9kYWwoe1xuICAgICAgICAgICAgICAgIGJhY2tkcm9wX2N0cmwgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBpY29uIDogJ2xpbmsnLFxuICAgICAgICAgICAgICAgIHRoZW1lIDogJ2RhcmsnLFxuICAgICAgICAgICAgICAgIHRpdGxlIDogJ0xvYWRpbmcgSW52aXRlLi4uJyxcbiAgICAgICAgICAgICAgICBwcmVfbG9hZGVyIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBvdmVyZmxvdyA6IHRydWUsXG4gICAgICAgICAgICAgICAgdW5sb2NrX2J1dHRvbnMgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBoNCA6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG9uUmVhZHkgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICBNZXNzZW5nZXIueGhyKCkucmVxdWVzdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICByb3V0ZSA6IE1lc3Nlbmdlci5jb21tb24oKS5BUEkrJ3RocmVhZHMvJytvcHQudGhyZWFkLmlkKycvaW52aXRlcycsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzIDogZ3JvdXBzLm1hbmFnZUludml0ZUdlblBhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBmYWlsX2FsZXJ0IDogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBtYW5hZ2VJbnZpdGVHZW5QYWdlIDogZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICBsZXQgZ2VuZXJhdGVfY2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgJChcIiNncnBfaW52X2dlbmVyYXRlX2J0blwiKS5jbGljayhncm91cHMuZ2VuZXJhdGVJbnZpdGVMaW5rKVxuICAgICAgICAgICAgfSwgbmFtZSA9IChDYWxsTWFuYWdlci5zdGF0ZSgpLmluaXRpYWxpemVkID8gQ2FsbE1hbmFnZXIuc3RhdGUoKS50aHJlYWRfbmFtZSA6IG9wdC50aHJlYWQubmFtZSk7XG4gICAgICAgICAgICBpZihkYXRhLmRhdGEubGVuZ3RoKXtcbiAgICAgICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5maWxsTW9kYWwoe1xuICAgICAgICAgICAgICAgICAgICBib2R5IDogVGhyZWFkVGVtcGxhdGVzLnJlbmRlcigpLnRocmVhZF9zaG93X2ludml0ZShkYXRhLmRhdGEpLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZSA6IG5hbWUrJyBJbnZpdGUgR2VuZXJhdG9yJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGxldCBidG5fc3dpdGNoID0gJChcIiNncnBfaW52X3N3aXRjaF9nZW5lcmF0ZV9idG5cIik7XG4gICAgICAgICAgICAgICAgYnRuX3N3aXRjaC5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIE1lc3Nlbmdlci5hbGVydCgpLmZpbGxNb2RhbCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5IDogVGhyZWFkVGVtcGxhdGVzLnJlbmRlcigpLnRocmVhZF9nZW5lcmF0ZV9pbnZpdGUodHJ1ZSlcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlX2NsaWNrKCk7XG4gICAgICAgICAgICAgICAgICAgICQoXCIjZ3JwX2ludl9iYWNrX2J0blwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cHMubWFuYWdlSW52aXRlR2VuUGFnZShkYXRhKVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5maWxsTW9kYWwoe1xuICAgICAgICAgICAgICAgICAgICBib2R5IDogVGhyZWFkVGVtcGxhdGVzLnJlbmRlcigpLnRocmVhZF9nZW5lcmF0ZV9pbnZpdGUoZmFsc2UpLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZSA6IG5hbWUrJyBJbnZpdGUgR2VuZXJhdG9yJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGdlbmVyYXRlX2NsaWNrKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZ2VuZXJhdGVJbnZpdGVMaW5rIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGxldCBleHBpcmUgPSBwYXJzZUludCgkKFwiI2dycF9pbnZfZXhwaXJlc1wiKS52YWwoKSksIHVzZXMgPSBwYXJzZUludCgkKFwiI2dycF9pbnZfdXNlc1wiKS52YWwoKSksXG4gICAgICAgICAgICAgICAgdGhyZWFkID0gKENhbGxNYW5hZ2VyLnN0YXRlKCkuaW5pdGlhbGl6ZWQgPyBDYWxsTWFuYWdlci5zdGF0ZSgpLnRocmVhZF9pZCA6IG9wdC50aHJlYWQuaWQpLFxuICAgICAgICAgICAgICAgIGV4cGlyZXNfYXQgPSBudWxsO1xuICAgICAgICAgICAgc3dpdGNoIChleHBpcmUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGV4cGlyZXNfYXQgPSBkYXlqcygpLnV0YygpLmFkZCgzMCwgJ21pbnV0ZScpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgZXhwaXJlc19hdCA9IGRheWpzKCkudXRjKCkuYWRkKDEsICdob3VyJykuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tOnNzJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBleHBpcmVzX2F0ID0gZGF5anMoKS51dGMoKS5hZGQoNiwgJ2hvdXInKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGV4cGlyZXNfYXQgPSBkYXlqcygpLnV0YygpLmFkZCgxMiwgJ2hvdXInKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIGV4cGlyZXNfYXQgPSBkYXlqcygpLnV0YygpLmFkZCgxLCAnZGF5JykuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tOnNzJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICBleHBpcmVzX2F0ID0gZGF5anMoKS51dGMoKS5hZGQoMSwgJ3dlZWsnKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgIGV4cGlyZXNfYXQgPSBkYXlqcygpLnV0YygpLmFkZCgyLCAnd2VlaycpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICAgICAgZXhwaXJlc19hdCA9IGRheWpzKCkudXRjKCkuYWRkKDEsICdtb250aCcpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgTWVzc2VuZ2VyLmFsZXJ0KCkuZmlsbE1vZGFsKHtcbiAgICAgICAgICAgICAgICBsb2FkZXIgOiB0cnVlLFxuICAgICAgICAgICAgICAgIGJvZHkgOiBudWxsLFxuICAgICAgICAgICAgICAgIHRpdGxlIDogJ0dlbmVyYXRpbmcuLi4nXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIE1lc3Nlbmdlci54aHIoKS5wYXlsb2FkKHtcbiAgICAgICAgICAgICAgICByb3V0ZSA6IE1lc3Nlbmdlci5jb21tb24oKS5BUEkgKyAndGhyZWFkcy8nICsgdGhyZWFkICsgJy9pbnZpdGVzJyxcbiAgICAgICAgICAgICAgICBkYXRhIDoge1xuICAgICAgICAgICAgICAgICAgICBleHBpcmVzIDogZXhwaXJlc19hdCxcbiAgICAgICAgICAgICAgICAgICAgdXNlcyA6IHVzZXNcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3MgOiBncm91cHMudmlld0ludml0ZUdlbmVyYXRvcixcbiAgICAgICAgICAgICAgICBmYWlsIDogZ3JvdXBzLnZpZXdJbnZpdGVHZW5lcmF0b3IsXG4gICAgICAgICAgICAgICAgYnlwYXNzIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBmYWlsX2FsZXJ0IDogdHJ1ZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgcmVtb3ZlSW52aXRlTGluayA6IGZ1bmN0aW9uKGlkKXtcbiAgICAgICAgICAgIGxldCB0aHJlYWQgPSAoQ2FsbE1hbmFnZXIuc3RhdGUoKS5pbml0aWFsaXplZCA/IENhbGxNYW5hZ2VyLnN0YXRlKCkudGhyZWFkX2lkIDogb3B0LnRocmVhZC5pZCk7XG4gICAgICAgICAgICBNZXNzZW5nZXIuYnV0dG9uKCkuYWRkTG9hZGVyKHtpZCA6ICcjaW52X3JlbW92ZV9idG5fJyArIGlkfSk7XG4gICAgICAgICAgICBNZXNzZW5nZXIueGhyKCkucGF5bG9hZCh7XG4gICAgICAgICAgICAgICAgcm91dGUgOiBNZXNzZW5nZXIuY29tbW9uKCkuQVBJICsgJ3RocmVhZHMvJyArIHRocmVhZCArICcvaW52aXRlcy8nICsgaWQsXG4gICAgICAgICAgICAgICAgZGF0YSA6IHt9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3MgOiBncm91cHMudmlld0ludml0ZUdlbmVyYXRvcixcbiAgICAgICAgICAgICAgICBmYWlsIDogZ3JvdXBzLnZpZXdJbnZpdGVHZW5lcmF0b3IsXG4gICAgICAgICAgICAgICAgYnlwYXNzIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBmYWlsX2FsZXJ0IDogdHJ1ZVxuICAgICAgICAgICAgfSwgJ2RlbGV0ZScpXG4gICAgICAgIH0sXG4gICAgICAgIGFkZFBhcnRpY2lwYW50cyA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBsZXQgdGhyZWFkID0gKENhbGxNYW5hZ2VyLnN0YXRlKCkuaW5pdGlhbGl6ZWQgPyBDYWxsTWFuYWdlci5zdGF0ZSgpLnRocmVhZF9pZCA6IG9wdC50aHJlYWQuaWQpLFxuICAgICAgICAgICAgICAgIG5hbWUgPSAoQ2FsbE1hbmFnZXIuc3RhdGUoKS5pbml0aWFsaXplZCA/IENhbGxNYW5hZ2VyLnN0YXRlKCkudGhyZWFkX25hbWUgOiBvcHQudGhyZWFkLm5hbWUpO1xuICAgICAgICAgICAgTWVzc2VuZ2VyLmFsZXJ0KCkuTW9kYWwoe1xuICAgICAgICAgICAgICAgIGljb24gOiAndXNlci1wbHVzJyxcbiAgICAgICAgICAgICAgICBiYWNrZHJvcF9jdHJsIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgdGhlbWUgOiAnZGFyaycsXG4gICAgICAgICAgICAgICAgdGl0bGUgOiAnTG9hZGluZyBmcmllbmRzLi4uJyxcbiAgICAgICAgICAgICAgICBwcmVfbG9hZGVyIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjYl9idG5fdHh0IDogJ0FkZCBwYXJ0aWNpcGFudHMnLFxuICAgICAgICAgICAgICAgIGNiX2J0bl9pY29uIDogJ3BsdXMtc3F1YXJlJyxcbiAgICAgICAgICAgICAgICBjYl9idG5fdGhlbWUgOiAnc3VjY2VzcycsXG4gICAgICAgICAgICAgICAgb3ZlcmZsb3cgOiB0cnVlLFxuICAgICAgICAgICAgICAgIGg0IDogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2l6ZSA6ICdsZycsXG4gICAgICAgICAgICAgICAgdW5sb2NrX2J1dHRvbnMgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBvblJlYWR5IDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgTWVzc2VuZ2VyLnhocigpLnJlcXVlc3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgcm91dGUgOiBNZXNzZW5nZXIuY29tbW9uKCkuQVBJICsgJ3RocmVhZHMvJyt0aHJlYWQrJy9hZGQtcGFydGljaXBhbnRzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5maWxsTW9kYWwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5IDogVGhyZWFkVGVtcGxhdGVzLnJlbmRlcigpLmdyb3VwX2FkZF9wYXJ0aWNpcGFudHMoZGF0YSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlIDogJ0FkZCBmcmllbmRzIHRvICcrbmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZHMubG9hZERhdGFUYWJsZSgkKFwiI2FkZF9ncm91cF9wYXJ0aWNpcGFudHNcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhaWxfYWxlcnQgOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjYWxsYmFjayA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwcm92aWRlcnMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgaWYob3B0LmVsZW1lbnRzLmRhdGFfdGFibGUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLmRhdGFfdGFibGUuJCgnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdOmNoZWNrZWQnKS5tYXAoKGtleSwgdmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnMucHVzaCh7YWxpYXMgOiB2YWx1ZS5kYXRhc2V0LnByb3ZpZGVyQWxpYXMsIGlkIDogdmFsdWUuZGF0YXNldC5wcm92aWRlcklkfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgTWVzc2VuZ2VyLnhocigpLnBheWxvYWQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgcm91dGUgOiBNZXNzZW5nZXIuY29tbW9uKCkuQVBJICsgJ3RocmVhZHMvJyArIHRocmVhZCArICcvcGFydGljaXBhbnRzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJzIDogcHJvdmlkZXJzLmxlbmd0aCA/IHByb3ZpZGVycyA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyA6IGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRhdGEubGVuZ3RoKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWVzc2VuZ2VyLmFsZXJ0KCkuQWxlcnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUgOiAnUGFydGljaXBhbnRzIGFkZGVkIScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdCA6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWVzc2VuZ2VyLmFsZXJ0KCkuQWxlcnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUgOiAnTm8gdmFsaWQgcGFydGljaXBhbnRzIGZvdW5kIHRvIGFkZC4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlbWUgOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3QgOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhaWxfYWxlcnQgOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2VfbW9kYWwgOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICB2aWV3U2V0dGluZ3MgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgaWYob3B0LnN0YXRlcy5sb2NrKSByZXR1cm47XG4gICAgICAgICAgICBvcHQuc3RhdGVzLmxvY2sgPSB0cnVlO1xuICAgICAgICAgICAgTWVzc2VuZ2VyLmFsZXJ0KCkuTW9kYWwoe1xuICAgICAgICAgICAgICAgIGljb24gOiAnY29nJyxcbiAgICAgICAgICAgICAgICB0aGVtZSA6ICdkYXJrJyxcbiAgICAgICAgICAgICAgICB0aXRsZTogJ0xvYWRpbmcgU2V0dGluZ3MuLi4nLFxuICAgICAgICAgICAgICAgIHByZV9sb2FkZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgaDQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGJhY2tkcm9wX2N0cmwgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB1bmxvY2tfYnV0dG9ucyA6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNiX2J0bl90eHQgOiAnU2F2ZSBTZXR0aW5ncycsXG4gICAgICAgICAgICAgICAgY2JfYnRuX2ljb24gOiAnc2F2ZScsXG4gICAgICAgICAgICAgICAgY2JfYnRuX3RoZW1lIDogJ3N1Y2Nlc3MnLFxuICAgICAgICAgICAgICAgIG9uUmVhZHk6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgTWVzc2VuZ2VyLnhocigpLnJlcXVlc3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgcm91dGUgOiBNZXNzZW5nZXIuY29tbW9uKCkuQVBJICsgJ3RocmVhZHMvJyArIG9wdC50aHJlYWQuaWQgKyAnL3NldHRpbmdzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5maWxsTW9kYWwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSA6IG9wdC50aHJlYWQubmFtZSsnIFNldHRpbmdzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keSA6IFRocmVhZFRlbXBsYXRlcy5yZW5kZXIoKS5ncm91cF9zZXR0aW5ncyhkYXRhKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhZ2VMaXN0ZW5lcnMubGlzdGVuKCkudG9vbHRpcHMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiLm1fc2V0dGluZ190b2dnbGVcIikuY2hhbmdlKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuaXMoJzpjaGVja2VkJykgPyAkKHRoaXMpLmNsb3Nlc3QoJ3RyJykuYWRkQ2xhc3MoJ2FsZXJ0LXN1Y2Nlc3MnKSA6ICQodGhpcykuY2xvc2VzdCgndHInKS5yZW1vdmVDbGFzcygnYWxlcnQtc3VjY2VzcycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmYWlsX2FsZXJ0IDogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2FsbGJhY2sgOiBncm91cHMuc2F2ZVNldHRpbmdzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgc2F2ZVNldHRpbmdzIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIE1lc3Nlbmdlci54aHIoKS5wYXlsb2FkKHtcbiAgICAgICAgICAgICAgICByb3V0ZSA6IE1lc3Nlbmdlci5jb21tb24oKS5BUEkgKyAndGhyZWFkcy8nICsgb3B0LnRocmVhZC5pZCArICcvc2V0dGluZ3MnLFxuICAgICAgICAgICAgICAgIGRhdGEgOiB7XG4gICAgICAgICAgICAgICAgICAgIHN1YmplY3QgOiAkKCcjZ19zX2dyb3VwX3N1YmplY3QnKS52YWwoKSxcbiAgICAgICAgICAgICAgICAgICAgYWRkX3BhcnRpY2lwYW50cyA6ICQoXCIjZ19zX2FkZF9wYXJ0aWNpcGFudHNcIikuaXMoXCI6Y2hlY2tlZFwiKSxcbiAgICAgICAgICAgICAgICAgICAgaW52aXRhdGlvbnMgOiAkKFwiI2dfc19pbnZpdGF0aW9uc1wiKS5pcyhcIjpjaGVja2VkXCIpLFxuICAgICAgICAgICAgICAgICAgICBjYWxsaW5nIDogJChcIiNnX3NfYWRtaW5fY2FsbFwiKS5pcyhcIjpjaGVja2VkXCIpLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdpbmcgOiAkKFwiI2dfc19zZW5kX21lc3NhZ2VcIikuaXMoXCI6Y2hlY2tlZFwiKSxcbiAgICAgICAgICAgICAgICAgICAga25vY2tzIDogJChcIiNnX3Nfa25vY2tzXCIpLmlzKFwiOmNoZWNrZWRcIiksXG4gICAgICAgICAgICAgICAgICAgIGNoYXRfYm90cyA6ICQoXCIjZ19zX2JvdHNcIikuaXMoXCI6Y2hlY2tlZFwiKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgICAgICAgICAgTWVzc2VuZ2VyLmFsZXJ0KCkuQWxlcnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUgOiAnWW91IHVwZGF0ZWQgJytkYXRhLm5hbWUrJ1xcJ3MgU2V0dGluZ3MuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0IDogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZhaWxfYWxlcnQgOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNsb3NlX21vZGFsIDogdHJ1ZVxuICAgICAgICAgICAgfSwgJ3B1dCcpO1xuICAgICAgICB9LFxuICAgICAgICByZW1vdmVHcm91cEF2YXRhciA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5maWxsTW9kYWwoe2xvYWRlciA6IHRydWUsIG5vX2Nsb3NlIDogdHJ1ZSwgYm9keSA6IG51bGwsIHRpdGxlIDogJ1VwbG9hZGluZy4uLid9KTtcbiAgICAgICAgICAgIE1lc3Nlbmdlci54aHIoKS5wYXlsb2FkKHtcbiAgICAgICAgICAgICAgICByb3V0ZSA6IE1lc3Nlbmdlci5jb21tb24oKS5BUEkgKyAndGhyZWFkcy8nICsgb3B0LnRocmVhZC5pZCArICcvYXZhdGFyJyxcbiAgICAgICAgICAgICAgICBkYXRhIDoge30sXG4gICAgICAgICAgICAgICAgc3VjY2VzcyA6IGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5BbGVydCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSA6ICdZb3UgcmVtb3ZlZCAnK2RhdGEubmFtZSsnXFwncyBhdmF0YXIuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0IDogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNsb3NlX21vZGFsIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBmYWlsX2FsZXJ0IDogdHJ1ZSxcbiAgICAgICAgICAgIH0sICdkZWxldGUnKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVtb3ZlUGFydGljaXBhbnQgOiBmdW5jdGlvbih4KXtcbiAgICAgICAgICAgIGlmKG9wdC5zdGF0ZXMubG9jaykgcmV0dXJuO1xuICAgICAgICAgICAgb3B0LnN0YXRlcy5sb2NrID0gdHJ1ZTtcbiAgICAgICAgICAgIE1lc3Nlbmdlci54aHIoKS5wYXlsb2FkKHtcbiAgICAgICAgICAgICAgICByb3V0ZSA6IE1lc3Nlbmdlci5jb21tb24oKS5BUEkgKyAndGhyZWFkcy8nICsgb3B0LnRocmVhZC5pZCArICcvcGFydGljaXBhbnRzLycgKyB4LFxuICAgICAgICAgICAgICAgIGRhdGEgOiB7fSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzIDogZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICAgICAgICAgIE1lc3Nlbmdlci5hbGVydCgpLkFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlIDogXCJQYXJ0aWNpcGFudCByZW1vdmVkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdCA6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGVtZSA6ICdzdWNjZXNzJ1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLmRhdGFfdGFibGUucm93KCQoJyNyb3dfJyt4KSkucmVtb3ZlKCkuZHJhdyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmYWlsX2FsZXJ0IDogdHJ1ZVxuICAgICAgICAgICAgfSwgJ2RlbGV0ZScpO1xuICAgICAgICB9LFxuICAgICAgICBwcm9tb3RlQWRtaW4gOiBmdW5jdGlvbihwYXJ0aWNpcGFudCl7XG4gICAgICAgICAgICBpZihvcHQuc3RhdGVzLmxvY2spIHJldHVybjtcbiAgICAgICAgICAgIG9wdC5zdGF0ZXMubG9jayA9IHRydWU7XG4gICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5maWxsTW9kYWwoe2xvYWRlciA6IHRydWV9KTtcbiAgICAgICAgICAgIE1lc3Nlbmdlci54aHIoKS5wYXlsb2FkKHtcbiAgICAgICAgICAgICAgICByb3V0ZSA6IE1lc3Nlbmdlci5jb21tb24oKS5BUEkgKyAndGhyZWFkcy8nICsgb3B0LnRocmVhZC5pZCArICcvcGFydGljaXBhbnRzLycgKyBwYXJ0aWNpcGFudCArICcvcHJvbW90ZScsXG4gICAgICAgICAgICAgICAgZGF0YSA6IHt9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBncm91cHMudmlld1BhcnRpY2lwYW50cyh0cnVlKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZhaWxfYWxlcnQgOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgZGVtb3RlQWRtaW4gOiBmdW5jdGlvbihwYXJ0aWNpcGFudCl7XG4gICAgICAgICAgICBpZihvcHQuc3RhdGVzLmxvY2spIHJldHVybjtcbiAgICAgICAgICAgIG9wdC5zdGF0ZXMubG9jayA9IHRydWU7XG4gICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5maWxsTW9kYWwoe2xvYWRlciA6IHRydWV9KTtcbiAgICAgICAgICAgIE1lc3Nlbmdlci54aHIoKS5wYXlsb2FkKHtcbiAgICAgICAgICAgICAgICByb3V0ZSA6IE1lc3Nlbmdlci5jb21tb24oKS5BUEkgKyAndGhyZWFkcy8nICsgb3B0LnRocmVhZC5pZCArICcvcGFydGljaXBhbnRzLycgKyBwYXJ0aWNpcGFudCArICcvZGVtb3RlJyxcbiAgICAgICAgICAgICAgICBkYXRhIDoge30sXG4gICAgICAgICAgICAgICAgc3VjY2VzcyA6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGdyb3Vwcy52aWV3UGFydGljaXBhbnRzKHRydWUpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmFpbF9hbGVydCA6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBwYXJ0aWNpcGFudFBlcm1pc3Npb25zVmlldyA6IGZ1bmN0aW9uKHBhcnRpY2lwYW50X2lkKXtcbiAgICAgICAgICAgIGlmKG9wdC5zdGF0ZXMubG9jaykgcmV0dXJuO1xuICAgICAgICAgICAgb3B0LnN0YXRlcy5sb2NrID0gdHJ1ZTtcbiAgICAgICAgICAgIE1lc3Nlbmdlci5hbGVydCgpLk1vZGFsKHtcbiAgICAgICAgICAgICAgICBpY29uIDogJ3VzZXItY29nJyxcbiAgICAgICAgICAgICAgICB0aGVtZSA6ICdkYXJrJyxcbiAgICAgICAgICAgICAgICB0aXRsZTogJ0xvYWRpbmcgUGVybWlzc2lvbnMuLi4nLFxuICAgICAgICAgICAgICAgIHByZV9sb2FkZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgaDQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGJhY2tkcm9wX2N0cmwgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB1bmxvY2tfYnV0dG9ucyA6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNiX2J0bl90eHQgOiAnU2F2ZSBQZXJtaXNzaW9ucycsXG4gICAgICAgICAgICAgICAgY2JfYnRuX2ljb24gOiAnc2F2ZScsXG4gICAgICAgICAgICAgICAgY2JfYnRuX3RoZW1lIDogJ3N1Y2Nlc3MnLFxuICAgICAgICAgICAgICAgIG9uUmVhZHk6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgTWVzc2VuZ2VyLnhocigpLnJlcXVlc3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgcm91dGUgOiBNZXNzZW5nZXIuY29tbW9uKCkuQVBJICsgJ3RocmVhZHMvJyArIG9wdC50aHJlYWQuaWQgKyAnL3BhcnRpY2lwYW50cy8nICsgcGFydGljaXBhbnRfaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzIDogZnVuY3Rpb24ocGFydGljaXBhbnQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1lc3Nlbmdlci5hbGVydCgpLmZpbGxNb2RhbCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlIDogcGFydGljaXBhbnQub3duZXIubmFtZSsnIFBlcm1pc3Npb25zJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keSA6IFRocmVhZFRlbXBsYXRlcy5yZW5kZXIoKS5wYXJ0aWNpcGFudF9wZXJtaXNzaW9ucyhwYXJ0aWNpcGFudClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYWdlTGlzdGVuZXJzLmxpc3RlbigpLnRvb2x0aXBzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5tX3NldHRpbmdfdG9nZ2xlXCIpLmNoYW5nZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmlzKCc6Y2hlY2tlZCcpID8gJCh0aGlzKS5jbG9zZXN0KCd0cicpLmFkZENsYXNzKCdiZy1saWdodCcpIDogJCh0aGlzKS5jbG9zZXN0KCd0cicpLnJlbW92ZUNsYXNzKCdiZy1saWdodCcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmYWlsX2FsZXJ0IDogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2FsbGJhY2sgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICBncm91cHMucGFydGljaXBhbnRQZXJtaXNzaW9uU2F2ZShwYXJ0aWNpcGFudF9pZClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgcGFydGljaXBhbnRQZXJtaXNzaW9uU2F2ZSA6IGZ1bmN0aW9uKHBhcnRpY2lwYW50X2lkKXtcbiAgICAgICAgICAgIE1lc3Nlbmdlci54aHIoKS5wYXlsb2FkKHtcbiAgICAgICAgICAgICAgICByb3V0ZSA6IE1lc3Nlbmdlci5jb21tb24oKS5BUEkgKyAndGhyZWFkcy8nICsgb3B0LnRocmVhZC5pZCArICcvcGFydGljaXBhbnRzLycgKyBwYXJ0aWNpcGFudF9pZCxcbiAgICAgICAgICAgICAgICBkYXRhIDoge1xuICAgICAgICAgICAgICAgICAgICBhZGRfcGFydGljaXBhbnRzIDogJChcIiNwX2FkZF9wYXJ0aWNpcGFudHNcIikuaXMoXCI6Y2hlY2tlZFwiKSxcbiAgICAgICAgICAgICAgICAgICAgbWFuYWdlX2ludml0ZXMgOiAkKFwiI3BfbWFuYWdlX2ludml0ZXNcIikuaXMoXCI6Y2hlY2tlZFwiKSxcbiAgICAgICAgICAgICAgICAgICAgc2VuZF9tZXNzYWdlcyA6ICQoXCIjcF9zZW5kX21lc3NhZ2VzXCIpLmlzKFwiOmNoZWNrZWRcIiksXG4gICAgICAgICAgICAgICAgICAgIHNlbmRfa25vY2tzIDogJChcIiNwX3NlbmRfa25vY2tzXCIpLmlzKFwiOmNoZWNrZWRcIiksXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0X2NhbGxzIDogJChcIiNwX3N0YXJ0X2NhbGxzXCIpLmlzKFwiOmNoZWNrZWRcIiksXG4gICAgICAgICAgICAgICAgICAgIG1hbmFnZV9ib3RzIDogJChcIiNwX21hbmFnZV9ib3RzXCIpLmlzKFwiOmNoZWNrZWRcIiksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzIDogZnVuY3Rpb24ocGFydGljaXBhbnQpe1xuICAgICAgICAgICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5BbGVydCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSA6ICdZb3UgdXBkYXRlZCAnK3BhcnRpY2lwYW50Lm93bmVyLm5hbWUrJ1xcJ3MgcGVybWlzc2lvbnMuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0IDogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZhaWxfYWxlcnQgOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNsb3NlX21vZGFsIDogdHJ1ZVxuICAgICAgICAgICAgfSwgJ3B1dCcpO1xuICAgICAgICB9LFxuICAgICAgICBsZWF2ZUdyb3VwIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIE1lc3Nlbmdlci5hbGVydCgpLk1vZGFsKHtcbiAgICAgICAgICAgICAgICBpY29uIDogJ3NpZ24tb3V0LWFsdCcsXG4gICAgICAgICAgICAgICAgYmFja2Ryb3BfY3RybCA6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNlbnRlcmVkIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzaXplIDogJ3NtJyxcbiAgICAgICAgICAgICAgICBoNCA6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHRoZW1lIDogJ2RhbmdlcicsXG4gICAgICAgICAgICAgICAgdGl0bGUgOiAnTGVhdmUgR3JvdXA/JyxcbiAgICAgICAgICAgICAgICBib2R5IDogJzxzcGFuIGNsYXNzPVwiaDUgZm9udC13ZWlnaHQtYm9sZFwiPkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBsZWF2ZSAnK29wdC50aHJlYWQubmFtZSsnPzwvc3Bhbj4nLFxuICAgICAgICAgICAgICAgIGNiX2J0bl90eHQgOiAnTGVhdmUnLFxuICAgICAgICAgICAgICAgIGNiX2J0bl9pY29uIDogJ3NpZ24tb3V0LWFsdCcsXG4gICAgICAgICAgICAgICAgY2JfYnRuX3RoZW1lIDogJ2RhbmdlcicsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2sgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICBNZXNzZW5nZXIueGhyKCkucGF5bG9hZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICByb3V0ZSA6IE1lc3Nlbmdlci5jb21tb24oKS5BUEkgKyAndGhyZWFkcy8nICsgb3B0LnRocmVhZC5pZCArICcvbGVhdmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2hhcmVkIDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocmVhZF9pZCA6IG9wdC50aHJlYWQuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA6IG9wdC50aHJlYWQubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2FkSW4uY2xvc2VPcGVuZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2RzLnJlbW92ZVRocmVhZChkYXRhLnRocmVhZF9pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTWVzc2VuZ2VyLmFsZXJ0KCkuQWxlcnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSA6IFwiWW91IGxlZnQgXCIrZGF0YS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdCA6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZW1lIDogJ3N1Y2Nlc3MnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmYWlsX2FsZXJ0IDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlX21vZGFsIDogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9LFxuICAgIG5ld19mb3JtcyA9IHtcbiAgICAgICAgbmV3R3JvdXAgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgbGV0IHN1YmplY3QgPSAkKFwiI3N1YmplY3RcIikudmFsKCksIHByb3ZpZGVycyA9IFtdO1xuICAgICAgICAgICAgaWYob3B0LnN0YXRlcy5sb2NrIHx8ICFzdWJqZWN0LnRyaW0oKS5sZW5ndGgpIHJldHVybjtcbiAgICAgICAgICAgIG9wdC5zdGF0ZXMubG9jayA9IHRydWU7XG4gICAgICAgICAgICBvcHQuZWxlbWVudHMubWVzc2FnZV9jb250YWluZXIuaHRtbChUaHJlYWRUZW1wbGF0ZXMucmVuZGVyKCkubG9hZGluZ190aHJlYWRfYmFzZSgpKTtcbiAgICAgICAgICAgIGlmKG9wdC5lbGVtZW50cy5kYXRhX3RhYmxlKXtcbiAgICAgICAgICAgICAgICBvcHQuZWxlbWVudHMuZGF0YV90YWJsZS4kKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl06Y2hlY2tlZCcpLm1hcCgoa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnMucHVzaCh7YWxpYXMgOiB2YWx1ZS5kYXRhc2V0LnByb3ZpZGVyQWxpYXMsIGlkIDogdmFsdWUuZGF0YXNldC5wcm92aWRlcklkfSlcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgTWVzc2VuZ2VyLnhocigpLnBheWxvYWQoe1xuICAgICAgICAgICAgICAgIHJvdXRlIDogTWVzc2VuZ2VyLmNvbW1vbigpLkFQSSArICdncm91cHMnLFxuICAgICAgICAgICAgICAgIGRhdGEgOiB7XG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVycyA6IHByb3ZpZGVycy5sZW5ndGggPyBwcm92aWRlcnMgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBzdWJqZWN0IDogIHN1YmplY3RcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbih4KXtcbiAgICAgICAgICAgICAgICAgICAgbW91bnRlZC5yZXNldCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kcy5pbml0aWF0ZUdyb3VwKHtuZXcgOiB0cnVlfSwgeCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmFpbCA6IExvYWRJbi5jbG9zZU9wZW5lZCxcbiAgICAgICAgICAgICAgICBmYWlsX2FsZXJ0IDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBieXBhc3MgOiB0cnVlXG4gICAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICBuZXdQcml2YXRlIDogZnVuY3Rpb24oaXNGaWxlLCB2b2ljZU1lc3NhZ2UsIGF1ZGlvKXtcbiAgICAgICAgICAgIGlmKG9wdC5zdGF0ZXMubG9jaykgcmV0dXJuO1xuICAgICAgICAgICAgbGV0IGZvcm0gPSBuZXcgRm9ybURhdGEoKSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlX2NvbnRlbnRzID0gb3B0LmVsZW1lbnRzLm1lc3NhZ2VfdGV4dF9pbnB1dC52YWwoKTtcbiAgICAgICAgICAgIGlmKGlzRmlsZSA9PT0gdHJ1ZSl7XG4gICAgICAgICAgICAgICAgbGV0IGZpbGUgPSBvcHQuZWxlbWVudHMuZG9jX2ZpbGVbMF0uZmlsZXNbMF07XG4gICAgICAgICAgICAgICAgbGV0IHR5cGUgPSBtZXRob2RzLnNlbmRVcGxvYWRGaWxlcyhmaWxlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBmb3JtLmFwcGVuZCh0eXBlLCBmaWxlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZih2b2ljZU1lc3NhZ2UgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBmb3JtLmFwcGVuZCgnYXVkaW8nLCBhdWRpbywgJ2F1ZGlvX21lc3NhZ2Uud2VibScpO1xuICAgICAgICAgICAgICAgIGZvcm0uYXBwZW5kKCdleHRyYScsIEpTT04uc3RyaW5naWZ5KHthdWRpb19tZXNzYWdlIDogdHJ1ZX0pKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYoIW1lc3NhZ2VfY29udGVudHMudHJpbSgpLmxlbmd0aCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGZvcm0uYXBwZW5kKCdtZXNzYWdlJywgbWVzc2FnZV9jb250ZW50cyk7XG4gICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLm1lc3NhZ2VfdGV4dF9pbnB1dC52YWwoJycpLmZvY3VzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3JtLmFwcGVuZCgncmVjaXBpZW50X2lkJywgb3B0LnN0b3JhZ2UudGVtcF9kYXRhLnByb3ZpZGVyX2lkKTtcbiAgICAgICAgICAgIGZvcm0uYXBwZW5kKCdyZWNpcGllbnRfYWxpYXMnLCBvcHQuc3RvcmFnZS50ZW1wX2RhdGEucHJvdmlkZXJfYWxpYXMpO1xuICAgICAgICAgICAgb3B0LnN0YXRlcy5sb2NrID0gdHJ1ZTtcbiAgICAgICAgICAgIG9wdC5lbGVtZW50cy5tZXNzYWdlX2NvbnRhaW5lci5odG1sKFRocmVhZFRlbXBsYXRlcy5yZW5kZXIoKS5sb2FkaW5nX3RocmVhZF9iYXNlKCkpO1xuICAgICAgICAgICAgTWVzc2VuZ2VyLnhocigpLnBheWxvYWQoe1xuICAgICAgICAgICAgICAgIHJvdXRlIDogTWVzc2VuZ2VyLmNvbW1vbigpLkFQSSArICdwcml2YXRlcycsXG4gICAgICAgICAgICAgICAgZGF0YSA6IGZvcm0sXG4gICAgICAgICAgICAgICAgc3VjY2VzcyA6IGZ1bmN0aW9uKHgpe1xuICAgICAgICAgICAgICAgICAgICBtb3VudGVkLnJlc2V0KHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBtZXRob2RzLmluaXRpYXRlUHJpdmF0ZSh7bmV3IDogdHJ1ZX0sIHgsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZhaWwgOiBMb2FkSW4uY2xvc2VPcGVuZWQsXG4gICAgICAgICAgICAgICAgZmFpbF9hbGVydCA6IHRydWUsXG4gICAgICAgICAgICAgICAgYnlwYXNzIDogdHJ1ZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgdGhyZWFkQXBwcm92YWwgOiBmdW5jdGlvbihhcHByb3ZlKXtcbiAgICAgICAgICAgIGlmKG9wdC5zdGF0ZXMubG9jayB8fCAhb3B0LnRocmVhZC5pZCkgcmV0dXJuO1xuICAgICAgICAgICAgb3B0LnN0YXRlcy5sb2NrID0gdHJ1ZTtcbiAgICAgICAgICAgIE1lc3Nlbmdlci5idXR0b24oKS5hZGRMb2FkZXIoe2lkIDogYXBwcm92ZSA/ICcjdGhyZWFkX2FwcHJvdmFsX2FjY2VwdF9idG4nIDogJyN0aHJlYWRfYXBwcm92YWxfZGVueV9idG4nfSk7XG4gICAgICAgICAgICBNZXNzZW5nZXIueGhyKCkucGF5bG9hZCh7XG4gICAgICAgICAgICAgICAgcm91dGUgOiBNZXNzZW5nZXIuY29tbW9uKCkuQVBJICsgJ3RocmVhZHMvJyArIG9wdC50aHJlYWQuaWQgKyAnL2FwcHJvdmFsJyxcbiAgICAgICAgICAgICAgICBkYXRhIDoge1xuICAgICAgICAgICAgICAgICAgICBhcHByb3ZlIDogYXBwcm92ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3VjY2VzcyA6IGZ1bmN0aW9uKHgpe1xuICAgICAgICAgICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5BbGVydCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSA6IFwiWW91IFwiICsgKGFwcHJvdmUgPyAnYXBwcm92ZWQnIDogJ2RlbmllZCcpICsgJyB0aGUgbWVzc2FnZSByZXF1ZXN0IGZyb20gJyArIG9wdC50aHJlYWQubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0IDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoZW1lIDogYXBwcm92ZSA/ICdzdWNjZXNzJyA6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIGlmKGFwcHJvdmUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgTG9hZEluLmluaXRpYXRlX3RocmVhZCh7dGhyZWFkX2lkIDogb3B0LnRocmVhZC5pZCwgZm9yY2UgOiB0cnVlfSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kcy5yZW1vdmVUaHJlYWQob3B0LnRocmVhZC5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBMb2FkSW4uY2xvc2VPcGVuZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmFpbF9hbGVydCA6IHRydWUsXG4gICAgICAgICAgICAgICAgYnlwYXNzIDogdHJ1ZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH0sXG4gICAgQ2FsbHMgPSB7XG4gICAgICAgIHNob3dDcmVhdGVNb2RhbCA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5Nb2RhbCh7XG4gICAgICAgICAgICAgICAgc2l6ZSA6ICdzbScsXG4gICAgICAgICAgICAgICAgaWNvbiA6ICd1c2VyLXBsdXMnLFxuICAgICAgICAgICAgICAgIHByZV9sb2FkZXIgOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNlbnRlcmVkIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB1bmxvY2tfYnV0dG9ucyA6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGFsbG93X2Nsb3NlIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgYmFja2Ryb3BfY3RybCA6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHRpdGxlOiAnQ3JlYXRpbmcgQ2FsbCcsXG4gICAgICAgICAgICAgICAgdGhlbWU6ICdzdWNjZXNzJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGluaXRDYWxsIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGlmKG9wdC5zdGF0ZXMubG9jaykgcmV0dXJuO1xuICAgICAgICAgICAgb3B0LnN0YXRlcy5sb2NrID0gdHJ1ZTtcbiAgICAgICAgICAgIE1lc3Nlbmdlci5idXR0b24oKS5hZGRMb2FkZXIoe2lkIDogJy52aWRlb19idG4nfSk7XG4gICAgICAgICAgICBDYWxscy5zaG93Q3JlYXRlTW9kYWwoZmFsc2UpO1xuICAgICAgICAgICAgTWVzc2VuZ2VyLnhocigpLnBheWxvYWQoe1xuICAgICAgICAgICAgICAgIHJvdXRlIDogTWVzc2VuZ2VyLmNvbW1vbigpLkFQSSArICd0aHJlYWRzLycgKyBvcHQudGhyZWFkLmlkICsgJy9jYWxscycsXG4gICAgICAgICAgICAgICAgZGF0YSA6IHt9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgICAgICAgICAgQ2FsbE1hbmFnZXIuam9pbihkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgTm90aWZ5TWFuYWdlci5oZWFydGJlYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgTWVzc2VuZ2VyLmJ1dHRvbigpLnJlbW92ZUxvYWRlcigpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjbG9zZV9tb2RhbCA6IHRydWUsXG4gICAgICAgICAgICAgICAgZmFpbF9hbGVydCA6IHRydWVcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIHNlbmRLbm9jayA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBpZihvcHQuc3RhdGVzLmxvY2sgfHwgIU5vdGlmeU1hbmFnZXIuc29ja2V0cygpLnN0YXR1cykgcmV0dXJuO1xuICAgICAgICAgICAgTWVzc2VuZ2VyLmJ1dHRvbigpLmFkZExvYWRlcih7aWQgOiAnI2tub2tfYnRuJ30pO1xuICAgICAgICAgICAgTWVzc2VuZ2VyLnhocigpLnBheWxvYWQoe1xuICAgICAgICAgICAgICAgIHJvdXRlIDogTWVzc2VuZ2VyLmNvbW1vbigpLkFQSSArICd0aHJlYWRzLycgKyBvcHQudGhyZWFkLmlkICsgJy9rbm9jay1rbm9jaycsXG4gICAgICAgICAgICAgICAgZGF0YSA6IHt9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgICAgICAgICAgTm90aWZ5TWFuYWdlci5zb3VuZCgna25vaycpO1xuICAgICAgICAgICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5BbGVydCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9zZSA6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSA6ICdLbm9jayBLbm9jayEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9keSA6IFwiWW91IHNlbnQgYSBrbm9jayB0byBcIiArIG9wdC50aHJlYWQubmFtZSArIFwiIVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3QgOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmYWlsX2FsZXJ0IDogdHJ1ZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH0sXG4gICAgTXV0ZSA9IHtcbiAgICAgICAgbXV0ZSA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBsZXQgcGF5bG9hZCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgTWVzc2VuZ2VyLnhocigpLnBheWxvYWQoe1xuICAgICAgICAgICAgICAgICAgICByb3V0ZSA6IE1lc3Nlbmdlci5jb21tb24oKS5BUEkgKyAndGhyZWFkcy8nICsgb3B0LnRocmVhZC5pZCArICcvbXV0ZScsXG4gICAgICAgICAgICAgICAgICAgIGRhdGEgOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5BbGVydCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2UgOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlIDogXCJZb3UgbXV0ZWQgXCIgKyBvcHQudGhyZWFkLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3QgOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIExvYWRJbi5pbml0aWF0ZV90aHJlYWQoe3RocmVhZF9pZCA6IG9wdC50aHJlYWQuaWQsIGZvcmNlIDogdHJ1ZX0pXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGZhaWxfYWxlcnQgOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjbG9zZV9tb2RhbCA6IHRydWVcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIE1lc3Nlbmdlci5hbGVydCgpLk1vZGFsKHtcbiAgICAgICAgICAgICAgICBpY29uIDogJ3ZvbHVtZS1tdXRlJyxcbiAgICAgICAgICAgICAgICBzaXplIDogJ21kJyxcbiAgICAgICAgICAgICAgICBiYWNrZHJvcF9jdHJsIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgaDQgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0aGVtZSA6ICdwcmltYXJ5JyxcbiAgICAgICAgICAgICAgICB0aXRsZSA6ICdNdXRlPycsXG4gICAgICAgICAgICAgICAgYm9keSA6ICc8c3BhbiBjbGFzcz1cImg1IGZvbnQtd2VpZ2h0LWJvbGRcIj5SZWFsbHkgbXV0ZSAnK29wdC50aHJlYWQubmFtZSsnPyBZb3Ugd2lsbCBubyBsb25nZXIgcmVjZWl2ZSBhbnkgYWxlcnRzIG9yIG5vdGlmaWNhdGlvbnMgZnJvbSB0aGF0IGNvbnZlcnNhdGlvbi48L3NwYW4+JyxcbiAgICAgICAgICAgICAgICBjYl9idG5fdHh0IDogJ011dGUnLFxuICAgICAgICAgICAgICAgIGNiX2J0bl9pY29uIDogJ3ZvbHVtZS1tdXRlJyxcbiAgICAgICAgICAgICAgICBjYl9idG5fdGhlbWUgOiAncHJpbWFyeScsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2sgOiBwYXlsb2FkXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgIH0sXG4gICAgICAgIHVubXV0ZSA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBNZXNzZW5nZXIueGhyKCkucGF5bG9hZCh7XG4gICAgICAgICAgICAgICAgcm91dGUgOiBNZXNzZW5nZXIuY29tbW9uKCkuQVBJICsgJ3RocmVhZHMvJyArIG9wdC50aHJlYWQuaWQgKyAnL3VubXV0ZScsXG4gICAgICAgICAgICAgICAgZGF0YSA6IHt9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5BbGVydCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9zZSA6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSA6IFwiWW91IHVuLW11dGVkIFwiICsgb3B0LnRocmVhZC5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3QgOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBMb2FkSW4uaW5pdGlhdGVfdGhyZWFkKHt0aHJlYWRfaWQgOiBvcHQudGhyZWFkLmlkLCBmb3JjZSA6IHRydWV9KVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmFpbF9hbGVydCA6IHRydWVcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9LFxuICAgIExvYWRJbiA9IHtcbiAgICAgICAgY2xvc2VPcGVuZWQgOiBmdW5jdGlvbihmb3JjZSl7XG4gICAgICAgICAgICBpZihvcHQuc3RhdGVzLmxvY2sgJiYgIWZvcmNlKSByZXR1cm47XG4gICAgICAgICAgICBpZihNZXNzZW5nZXIuY29tbW9uKCkubW9iaWxlKSBUaHJlYWRUZW1wbGF0ZXMubW9iaWxlKGZhbHNlKTtcbiAgICAgICAgICAgIG1vdW50ZWQucmVzZXQoZmFsc2UpO1xuICAgICAgICAgICAgbW91bnRlZC5Jbml0aWFsaXplKHtcbiAgICAgICAgICAgICAgICB0eXBlIDogNVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoe3R5cGUgOiA1fSwgbnVsbCwgTWVzc2VuZ2VyLmNvbW1vbigpLldFQilcbiAgICAgICAgfSxcbiAgICAgICAgbWVzc2FnZUVkaXRzIDogZnVuY3Rpb24ocm91dGUpe1xuICAgICAgICAgICAgaWYoIW9wdC50aHJlYWQuaWQpIHJldHVybjtcbiAgICAgICAgICAgIE1lc3Nlbmdlci5hbGVydCgpLk1vZGFsKHtcbiAgICAgICAgICAgICAgICBzaXplIDogJ21kJyxcbiAgICAgICAgICAgICAgICBiYWNrZHJvcF9jdHJsIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgb3ZlcmZsb3cgOiB0cnVlLFxuICAgICAgICAgICAgICAgIHRoZW1lIDogJ2RhcmsnLFxuICAgICAgICAgICAgICAgIGljb24gOiAnZWRpdCcsXG4gICAgICAgICAgICAgICAgdGl0bGU6ICdMb2FkaW5nIEVkaXQgSGlzdG9yeS4uLicsXG4gICAgICAgICAgICAgICAgcHJlX2xvYWRlcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBoNDogZmFsc2UsXG4gICAgICAgICAgICAgICAgb25SZWFkeTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBNZXNzZW5nZXIueGhyKCkucmVxdWVzdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICByb3V0ZSA6IHJvdXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyA6IGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1lc3Nlbmdlci5hbGVydCgpLmZpbGxNb2RhbCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlIDogJ01lc3NhZ2UgRWRpdCBIaXN0b3J5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keSA6IFRocmVhZFRlbXBsYXRlcy5yZW5kZXIoKS5tZXNzYWdlX2VkaXRfaGlzdG9yeShkYXRhKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIHRocmVhZHMgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgTWVzc2VuZ2VyLnhocigpLnJlcXVlc3Qoe1xuICAgICAgICAgICAgICAgIHJvdXRlIDogTWVzc2VuZ2VyLmNvbW1vbigpLkFQSSArICd0aHJlYWRzJyxcbiAgICAgICAgICAgICAgICBzdWNjZXNzIDogZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICAgICAgICAgIG9wdC5zdG9yYWdlLnRocmVhZHMgPSBkYXRhLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIGlmKG9wdC5lbGVtZW50cy50aHJlYWRfYXJlYS5sZW5ndGgpe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIW9wdC5zdG9yYWdlLnRocmVhZHMubGVuZ3RoKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2RzLmNoZWNrU2hvd1RocmVhZFNlYXJjaCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdC5lbGVtZW50cy50aHJlYWRfYXJlYS5odG1sKCc8aDQgaWQ9XCJub19tZXNzYWdlX3dhcm5pbmdcIiBjbGFzcz1cInRleHQtY2VudGVyIG10LTRcIj48c3BhbiBjbGFzcz1cImJhZGdlIGJhZGdlLXBpbGwgYmFkZ2Utc2Vjb25kYXJ5XCI+PGkgY2xhc3M9XCJmYXMgZmEtY29tbWVudHNcIj48L2k+IE5vIGNvbnZlcnNhdGlvbnM8L3NwYW4+PC9oND4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2RzLmRyYXdUaHJlYWRzKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kcy5jYWxjVW5yZWFkVGhyZWFkcygpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmYWlsIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgaWYob3B0LnN0YXRlcy5sb2FkX2luX3JldHJpZXMgPj0gNil7XG4gICAgICAgICAgICAgICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5BbGVydCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlbWUgOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlIDogJ1dlIGNvdWxkIG5vdCBsb2FkIGluIHlvdXIgdGhyZWFkcy4gUGxlYXNlIHRyeSByZWZyZXNoaW5nIHlvdXIgYnJvd3NlciBwYWdlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdCA6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG9wdC5zdGF0ZXMubG9hZF9pbl9yZXRyaWVzKys7XG4gICAgICAgICAgICAgICAgICAgIExvYWRJbi50aHJlYWRzKClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICB0aHJlYWRMb2dzIDogZnVuY3Rpb24ocGFnaW5hdGUsIHBhZ2Upe1xuICAgICAgICAgICAgaWYoIW9wdC50aHJlYWQuaWQpIHJldHVybjtcbiAgICAgICAgICAgIGlmKHBhZ2luYXRlKXtcbiAgICAgICAgICAgICAgICAkKFwiI2xvZ19wYWdpbmF0ZV9idG5cIikuaHRtbChNZXNzZW5nZXIuYWxlcnQoKS5sb2FkZXIodHJ1ZSkpO1xuICAgICAgICAgICAgICAgIE1lc3Nlbmdlci54aHIoKS5yZXF1ZXN0KHtcbiAgICAgICAgICAgICAgICAgICAgcm91dGUgOiBNZXNzZW5nZXIuY29tbW9uKCkuQVBJKyd0aHJlYWRzLycrb3B0LnRocmVhZC5pZCsnL2xvZ3MvcGFnZS8nICsgcGFnZSxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyA6IGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNsb2dfcGFnaW5hdGVfYnRuXCIpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNib2R5X21vZGFsXCIpLmFwcGVuZChUaHJlYWRUZW1wbGF0ZXMucmVuZGVyKCkudGhyZWFkX2xvZ3MoZGF0YSkpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIE1lc3Nlbmdlci5hbGVydCgpLk1vZGFsKHtcbiAgICAgICAgICAgICAgICBzaXplIDogJ2xnJyxcbiAgICAgICAgICAgICAgICBiYWNrZHJvcF9jdHJsIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgb3ZlcmZsb3cgOiB0cnVlLFxuICAgICAgICAgICAgICAgIHRoZW1lIDogJ2RhcmsnLFxuICAgICAgICAgICAgICAgIGljb24gOiAnZGF0YWJhc2UnLFxuICAgICAgICAgICAgICAgIHRpdGxlOiAnTG9hZGluZyBMb2dzLi4uJyxcbiAgICAgICAgICAgICAgICBwcmVfbG9hZGVyOiB0cnVlLFxuICAgICAgICAgICAgICAgIGg0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBvblJlYWR5OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIE1lc3Nlbmdlci54aHIoKS5yZXF1ZXN0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlIDogTWVzc2VuZ2VyLmNvbW1vbigpLkFQSSsndGhyZWFkcy8nK29wdC50aHJlYWQuaWQrJy9sb2dzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5maWxsTW9kYWwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSA6IG9wdC50aHJlYWQubmFtZSsnIExvZ3MnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5IDogZGF0YS5kYXRhLmxlbmd0aCA/IFRocmVhZFRlbXBsYXRlcy5yZW5kZXIoKS50aHJlYWRfbG9ncyhkYXRhKSA6ICc8aDMgY2xhc3M9XCJ0ZXh0LWNlbnRlciBtdC0yXCI+PHNwYW4gY2xhc3M9XCJiYWRnZSBiYWRnZS1waWxsIGJhZGdlLXNlY29uZGFyeVwiPjxpIGNsYXNzPVwiZmFzIGZhLWRhdGFiYXNlXCI+PC9pPiBObyBsb2dzPC9zcGFuPjwvaDM+J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIHRocmVhZEltYWdlcyA6IGZ1bmN0aW9uKHBhZ2luYXRlLCBwYWdlKXtcbiAgICAgICAgICAgIGlmKCFvcHQudGhyZWFkLmlkKSByZXR1cm47XG4gICAgICAgICAgICBpZihwYWdpbmF0ZSl7XG4gICAgICAgICAgICAgICAgJChcIiNpbWFnZV9wYWdpbmF0ZV9idG5cIikuaHRtbChNZXNzZW5nZXIuYWxlcnQoKS5sb2FkZXIodHJ1ZSkpO1xuICAgICAgICAgICAgICAgIE1lc3Nlbmdlci54aHIoKS5yZXF1ZXN0KHtcbiAgICAgICAgICAgICAgICAgICAgcm91dGUgOiBNZXNzZW5nZXIuY29tbW9uKCkuQVBJKyd0aHJlYWRzLycrb3B0LnRocmVhZC5pZCsnL2ltYWdlcy9wYWdlLycgKyBwYWdlLFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzIDogZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiI2ltYWdlX3BhZ2luYXRlX2J0blwiKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjYm9keV9tb2RhbFwiKS5hcHBlbmQoVGhyZWFkVGVtcGxhdGVzLnJlbmRlcigpLnRocmVhZF9pbWFnZXMoZGF0YSkpXG4gICAgICAgICAgICAgICAgICAgICAgICBMYXp5SW1hZ2VzLnVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5Nb2RhbCh7XG4gICAgICAgICAgICAgICAgc2l6ZSA6ICdmdWxsc2NyZWVuJyxcbiAgICAgICAgICAgICAgICBiYWNrZHJvcF9jdHJsIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgdGhlbWUgOiAnZGFyaycsXG4gICAgICAgICAgICAgICAgaWNvbiA6ICdpbWFnZXMnLFxuICAgICAgICAgICAgICAgIHRpdGxlOiAnTG9hZGluZyBJbWFnZXMuLi4nLFxuICAgICAgICAgICAgICAgIHByZV9sb2FkZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgaDQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG9uUmVhZHk6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgTWVzc2VuZ2VyLnhocigpLnJlcXVlc3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgcm91dGUgOiBNZXNzZW5nZXIuY29tbW9uKCkuQVBJKyd0aHJlYWRzLycrb3B0LnRocmVhZC5pZCsnL2ltYWdlcycsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzIDogZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTWVzc2VuZ2VyLmFsZXJ0KCkuZmlsbE1vZGFsKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUgOiBvcHQudGhyZWFkLm5hbWUrJyBTaGFyZWQgSW1hZ2VzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keSA6IGRhdGEuZGF0YS5sZW5ndGggPyBUaHJlYWRUZW1wbGF0ZXMucmVuZGVyKCkudGhyZWFkX2ltYWdlcyhkYXRhKSA6ICc8aDMgY2xhc3M9XCJ0ZXh0LWNlbnRlciBtdC0yXCI+PHNwYW4gY2xhc3M9XCJiYWRnZSBiYWRnZS1waWxsIGJhZGdlLXNlY29uZGFyeVwiPjxpIGNsYXNzPVwiZmFzIGZhLWltYWdlc1wiPjwvaT4gTm8gSW1hZ2VzPC9zcGFuPjwvaDM+J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIExhenlJbWFnZXMudXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgdGhyZWFkRG9jdW1lbnRzIDogZnVuY3Rpb24ocGFnaW5hdGUsIHBhZ2Upe1xuICAgICAgICAgICAgaWYoIW9wdC50aHJlYWQuaWQpIHJldHVybjtcbiAgICAgICAgICAgIGlmKHBhZ2luYXRlKXtcbiAgICAgICAgICAgICAgICAkKFwiI2RvY3VtZW50X3BhZ2luYXRlX2J0blwiKS5odG1sKE1lc3Nlbmdlci5hbGVydCgpLmxvYWRlcih0cnVlKSk7XG4gICAgICAgICAgICAgICAgTWVzc2VuZ2VyLnhocigpLnJlcXVlc3Qoe1xuICAgICAgICAgICAgICAgICAgICByb3V0ZSA6IE1lc3Nlbmdlci5jb21tb24oKS5BUEkrJ3RocmVhZHMvJytvcHQudGhyZWFkLmlkKycvZG9jdW1lbnRzL3BhZ2UvJyArIHBhZ2UsXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjZG9jdW1lbnRfcGFnaW5hdGVfYnRuXCIpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNkb2N1bWVudHNfaGlzdG9yeVwiKS5hcHBlbmQoVGhyZWFkVGVtcGxhdGVzLnJlbmRlcigpLnRocmVhZF9kb2N1bWVudHMoZmFsc2UsIGRhdGEpKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5Nb2RhbCh7XG4gICAgICAgICAgICAgICAgc2l6ZSA6ICdsZycsXG4gICAgICAgICAgICAgICAgYmFja2Ryb3BfY3RybCA6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG92ZXJmbG93IDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0aGVtZSA6ICdkYXJrJyxcbiAgICAgICAgICAgICAgICBpY29uIDogJ2ZpbGUtYWx0JyxcbiAgICAgICAgICAgICAgICB0aXRsZTogJ0xvYWRpbmcgRG9jdW1lbnRzLi4uJyxcbiAgICAgICAgICAgICAgICBwcmVfbG9hZGVyOiB0cnVlLFxuICAgICAgICAgICAgICAgIGg0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBvblJlYWR5OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIE1lc3Nlbmdlci54aHIoKS5yZXF1ZXN0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlIDogTWVzc2VuZ2VyLmNvbW1vbigpLkFQSSsndGhyZWFkcy8nK29wdC50aHJlYWQuaWQrJy9kb2N1bWVudHMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyA6IGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1lc3Nlbmdlci5hbGVydCgpLmZpbGxNb2RhbCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlIDogb3B0LnRocmVhZC5uYW1lKycgU2hhcmVkIERvY3VtZW50cycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHkgOiBkYXRhLmRhdGEubGVuZ3RoID8gVGhyZWFkVGVtcGxhdGVzLnJlbmRlcigpLnRocmVhZF9kb2N1bWVudHModHJ1ZSwgZGF0YSkgOiAnPGgzIGNsYXNzPVwidGV4dC1jZW50ZXIgbXQtMlwiPjxzcGFuIGNsYXNzPVwiYmFkZ2UgYmFkZ2UtcGlsbCBiYWRnZS1zZWNvbmRhcnlcIj48aSBjbGFzcz1cImZhcyBmYS1maWxlLWFsdFwiPjwvaT4gTm8gRG9jdW1lbnRzPC9zcGFuPjwvaDM+J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIG1lc3NhZ2VSZWFjdGlvbnMgOiBmdW5jdGlvbihtZXNzYWdlSWQpe1xuICAgICAgICAgICAgaWYoIW9wdC50aHJlYWQuaWQpIHJldHVybjtcbiAgICAgICAgICAgIE1lc3Nlbmdlci5hbGVydCgpLk1vZGFsKHtcbiAgICAgICAgICAgICAgICBzaXplIDogJ21kJyxcbiAgICAgICAgICAgICAgICBiYWNrZHJvcF9jdHJsIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgb3ZlcmZsb3cgOiB0cnVlLFxuICAgICAgICAgICAgICAgIHRoZW1lIDogJ2RhcmsnLFxuICAgICAgICAgICAgICAgIGljb24gOiAnZ3Jpbi10b25ndWUnLFxuICAgICAgICAgICAgICAgIHRpdGxlOiAnTG9hZGluZyBSZWFjdGlvbnMuLi4nLFxuICAgICAgICAgICAgICAgIHByZV9sb2FkZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgaDQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG9uUmVhZHk6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgTWVzc2VuZ2VyLnhocigpLnJlcXVlc3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgcm91dGUgOiBNZXNzZW5nZXIuY29tbW9uKCkuQVBJKyd0aHJlYWRzLycrb3B0LnRocmVhZC5pZCsnL21lc3NhZ2VzLycrbWVzc2FnZUlkKycvcmVhY3Rpb25zJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5maWxsTW9kYWwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSA6ICdNZXNzYWdlIFJlYWN0aW9ucycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHkgOiBUaHJlYWRUZW1wbGF0ZXMucmVuZGVyKCkuc2hvd19tZXNzYWdlX3JlYWN0aW9ucyhkYXRhKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIHRocmVhZEF1ZGlvIDogZnVuY3Rpb24ocGFnaW5hdGUsIHBhZ2Upe1xuICAgICAgICAgICAgaWYoIW9wdC50aHJlYWQuaWQpIHJldHVybjtcbiAgICAgICAgICAgIGlmKHBhZ2luYXRlKXtcbiAgICAgICAgICAgICAgICAkKFwiI2F1ZGlvX3BhZ2luYXRlX2J0blwiKS5odG1sKE1lc3Nlbmdlci5hbGVydCgpLmxvYWRlcih0cnVlKSk7XG4gICAgICAgICAgICAgICAgTWVzc2VuZ2VyLnhocigpLnJlcXVlc3Qoe1xuICAgICAgICAgICAgICAgICAgICByb3V0ZSA6IE1lc3Nlbmdlci5jb21tb24oKS5BUEkrJ3RocmVhZHMvJytvcHQudGhyZWFkLmlkKycvYXVkaW8vcGFnZS8nICsgcGFnZSxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyA6IGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNhdWRpb19wYWdpbmF0ZV9idG5cIikucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiI2F1ZGlvX2hpc3RvcnlcIikuYXBwZW5kKFRocmVhZFRlbXBsYXRlcy5yZW5kZXIoKS50aHJlYWRfYXVkaW8oZmFsc2UsIGRhdGEpKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5Nb2RhbCh7XG4gICAgICAgICAgICAgICAgc2l6ZSA6ICdsZycsXG4gICAgICAgICAgICAgICAgYmFja2Ryb3BfY3RybCA6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG92ZXJmbG93IDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0aGVtZSA6ICdkYXJrJyxcbiAgICAgICAgICAgICAgICBpY29uIDogJ211c2ljJyxcbiAgICAgICAgICAgICAgICB0aXRsZTogJ0xvYWRpbmcgQXVkaW8uLi4nLFxuICAgICAgICAgICAgICAgIHByZV9sb2FkZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgaDQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG9uUmVhZHk6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgTWVzc2VuZ2VyLnhocigpLnJlcXVlc3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgcm91dGUgOiBNZXNzZW5nZXIuY29tbW9uKCkuQVBJKyd0aHJlYWRzLycrb3B0LnRocmVhZC5pZCsnL2F1ZGlvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5maWxsTW9kYWwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSA6IG9wdC50aHJlYWQubmFtZSsnIFNoYXJlZCBBdWRpbycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHkgOiBkYXRhLmRhdGEubGVuZ3RoID8gVGhyZWFkVGVtcGxhdGVzLnJlbmRlcigpLnRocmVhZF9hdWRpbyh0cnVlLCBkYXRhKSA6ICc8aDMgY2xhc3M9XCJ0ZXh0LWNlbnRlciBtdC0yXCI+PHNwYW4gY2xhc3M9XCJiYWRnZSBiYWRnZS1waWxsIGJhZGdlLXNlY29uZGFyeVwiPjxpIGNsYXNzPVwiZmFzIGZhLW11c2ljXCI+PC9pPiBObyBBdWRpbzwvc3Bhbj48L2gzPidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICB0aHJlYWRWaWRlb3MgOiBmdW5jdGlvbihwYWdpbmF0ZSwgcGFnZSl7XG4gICAgICAgICAgICBpZighb3B0LnRocmVhZC5pZCkgcmV0dXJuO1xuICAgICAgICAgICAgaWYocGFnaW5hdGUpe1xuICAgICAgICAgICAgICAgICQoXCIjdmlkZW9fcGFnaW5hdGVfYnRuXCIpLmh0bWwoTWVzc2VuZ2VyLmFsZXJ0KCkubG9hZGVyKHRydWUpKTtcbiAgICAgICAgICAgICAgICBNZXNzZW5nZXIueGhyKCkucmVxdWVzdCh7XG4gICAgICAgICAgICAgICAgICAgIHJvdXRlIDogTWVzc2VuZ2VyLmNvbW1vbigpLkFQSSsndGhyZWFkcy8nK29wdC50aHJlYWQuaWQrJy92aWRlb3MvcGFnZS8nICsgcGFnZSxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyA6IGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICAgICAgICAgICAgICAgJChcIiN2aWRlb19wYWdpbmF0ZV9idG5cIikucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiI3ZpZGVvX2hpc3RvcnlcIikuYXBwZW5kKFRocmVhZFRlbXBsYXRlcy5yZW5kZXIoKS50aHJlYWRfdmlkZW9zKGZhbHNlLCBkYXRhKSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgTWVzc2VuZ2VyLmFsZXJ0KCkuTW9kYWwoe1xuICAgICAgICAgICAgICAgIHNpemUgOiAnbGcnLFxuICAgICAgICAgICAgICAgIGJhY2tkcm9wX2N0cmwgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBvdmVyZmxvdyA6IHRydWUsXG4gICAgICAgICAgICAgICAgdGhlbWUgOiAnZGFyaycsXG4gICAgICAgICAgICAgICAgaWNvbiA6ICd2aWRlbycsXG4gICAgICAgICAgICAgICAgdGl0bGU6ICdMb2FkaW5nIFZpZGVvcy4uLicsXG4gICAgICAgICAgICAgICAgcHJlX2xvYWRlcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBoNDogZmFsc2UsXG4gICAgICAgICAgICAgICAgb25SZWFkeTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBNZXNzZW5nZXIueGhyKCkucmVxdWVzdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICByb3V0ZSA6IE1lc3Nlbmdlci5jb21tb24oKS5BUEkrJ3RocmVhZHMvJytvcHQudGhyZWFkLmlkKycvdmlkZW9zJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5maWxsTW9kYWwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSA6IG9wdC50aHJlYWQubmFtZSsnIFNoYXJlZCBWaWRlb3MnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5IDogZGF0YS5kYXRhLmxlbmd0aCA/IFRocmVhZFRlbXBsYXRlcy5yZW5kZXIoKS50aHJlYWRfdmlkZW9zKHRydWUsIGRhdGEpIDogJzxoMyBjbGFzcz1cInRleHQtY2VudGVyIG10LTJcIj48c3BhbiBjbGFzcz1cImJhZGdlIGJhZGdlLXBpbGwgYmFkZ2Utc2Vjb25kYXJ5XCI+PGkgY2xhc3M9XCJmYXMgZmEtdmlkZW9cIj48L2k+IE5vIFZpZGVvczwvc3Bhbj48L2gzPidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICB0aHJlYWQgOiBmdW5jdGlvbih0aHJlYWRfaWQsIHN1Y2Nlc3Mpe1xuICAgICAgICAgICAgTWVzc2VuZ2VyLnhocigpLnJlcXVlc3Qoe1xuICAgICAgICAgICAgICAgIHJvdXRlIDogTWVzc2VuZ2VyLmNvbW1vbigpLkFQSSsndGhyZWFkcy8nICsgdGhyZWFkX2lkLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRocmVhZCA9IG1ldGhvZHMubG9jYXRlU3RvcmFnZUl0ZW0oe3R5cGUgOiAndGhyZWFkJywgaWQgOiB0aHJlYWRfaWR9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYoIXRocmVhZC5mb3VuZCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHQuc3RvcmFnZS50aHJlYWRzLnVuc2hpZnQoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdC5zdG9yYWdlLnRocmVhZHMuc3BsaWNlKHRocmVhZC5pbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHQuc3RvcmFnZS50aHJlYWRzLnVuc2hpZnQoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kcy5hZGRUaHJlYWQoZGF0YSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmKHN1Y2Nlc3MpIHN1Y2Nlc3MoZGF0YSlcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZhaWxfYWxlcnQgOiB0cnVlXG4gICAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICBib2JibGVIZWFkcyA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBpZighb3B0LnRocmVhZC5pZCkgcmV0dXJuO1xuICAgICAgICAgICAgTWVzc2VuZ2VyLnhocigpLnJlcXVlc3Qoe1xuICAgICAgICAgICAgICAgIHJvdXRlIDogTWVzc2VuZ2VyLmNvbW1vbigpLkFQSSsndGhyZWFkcy8nK29wdC50aHJlYWQuaWQrJy9wYXJ0aWNpcGFudHMnLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgICAgICAgICAgb3B0LnN0b3JhZ2UucGFydGljaXBhbnRzID0gZGF0YS5kYXRhO1xuICAgICAgICAgICAgICAgICAgICAkKFwiLmJvYmJsZS1oZWFkLWl0ZW1cIikucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmKG9wdC5zdG9yYWdlLmFjdGl2ZV9wcm9maWxlcy5sZW5ndGgpe1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0LnN0b3JhZ2UuYWN0aXZlX3Byb2ZpbGVzLmZvckVhY2goZnVuY3Rpb24odmFsdWUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZHMudXBkYXRlQm9iYmxlSGVhZCh2YWx1ZS5wcm92aWRlcl9pZCwgbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYob3B0LnRocmVhZC50eXBlID09PSAxICYmIG9wdC5zdG9yYWdlLnBhcnRpY2lwYW50cy5sZW5ndGgpe1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IG9wdC5zdG9yYWdlLnBhcnRpY2lwYW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghTWVzc2VuZ2VyLmlzUHJvdmlkZXIob3B0LnN0b3JhZ2UucGFydGljaXBhbnRzW2ldLm93bmVyX2lkLCBvcHQuc3RvcmFnZS5wYXJ0aWNpcGFudHNbaV0ub3duZXJfdHlwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kcy50aHJlYWRPbmxpbmVTdGF0dXMob3B0LnN0b3JhZ2UucGFydGljaXBhbnRzW2ldLm93bmVyLm9wdGlvbnMub25saW5lX3N0YXR1cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZHMuZHJhd0JvYmJsZUhlYWRzKClcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZhaWwgOiBudWxsXG4gICAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICBzZWFyY2ggOiBmdW5jdGlvbihub0hpc3Rvcnkpe1xuICAgICAgICAgICAgaWYoIW9wdC5JTklUKSByZXR1cm47XG4gICAgICAgICAgICBpZihNZXNzZW5nZXIuY29tbW9uKCkubW9iaWxlKSBUaHJlYWRUZW1wbGF0ZXMubW9iaWxlKHRydWUpO1xuICAgICAgICAgICAgb3B0LmVsZW1lbnRzLm1lc3NhZ2VfY29udGFpbmVyLmh0bWwoVGhyZWFkVGVtcGxhdGVzLnJlbmRlcigpLnNlYXJjaF9iYXNlKCkpO1xuICAgICAgICAgICAgbW91bnRlZC5yZXNldChmYWxzZSk7XG4gICAgICAgICAgICBtb3VudGVkLkluaXRpYWxpemUoe1xuICAgICAgICAgICAgICAgIHR5cGUgOiA3LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZighbm9IaXN0b3J5KSB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoe3R5cGUgOiA3fSwgbnVsbCwgTWVzc2VuZ2VyLmNvbW1vbigpLldFQiArICc/c2VhcmNoJyk7XG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRhY3RzIDogZnVuY3Rpb24obm9IaXN0b3J5KXtcbiAgICAgICAgICAgIGlmKCFvcHQuSU5JVCkgcmV0dXJuO1xuICAgICAgICAgICAgaWYoTWVzc2VuZ2VyLmNvbW1vbigpLm1vYmlsZSkgVGhyZWFkVGVtcGxhdGVzLm1vYmlsZSh0cnVlKTtcbiAgICAgICAgICAgIG9wdC5lbGVtZW50cy5tZXNzYWdlX2NvbnRhaW5lci5odG1sKFRocmVhZFRlbXBsYXRlcy5yZW5kZXIoKS5jb250YWN0c19iYXNlKCkpO1xuICAgICAgICAgICAgbW91bnRlZC5yZXNldChmYWxzZSk7XG4gICAgICAgICAgICBvcHQudGhyZWFkLnR5cGUgPSA2O1xuICAgICAgICAgICAgTWVzc2VuZ2VyLnhocigpLnJlcXVlc3Qoe1xuICAgICAgICAgICAgICAgIHJvdXRlIDogTWVzc2VuZ2VyLmNvbW1vbigpLkFQSSArICdmcmllbmRzJyxcbiAgICAgICAgICAgICAgICBzdWNjZXNzIDogZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICAgICAgICAgICQoXCIjbWVzc2VuZ2VyX2NvbnRhY3RzX2N0bnJcIikuaHRtbChUaHJlYWRUZW1wbGF0ZXMucmVuZGVyKCkuY29udGFjdHMoZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICBpZighbm9IaXN0b3J5KSB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoe3R5cGUgOiA2fSwgbnVsbCwgTWVzc2VuZ2VyLmNvbW1vbigpLldFQiArICc/Y29udGFjdHMnKTtcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kcy5sb2FkRGF0YVRhYmxlKCAkKFwiI2NvbnRhY3RfbGlzdF90YWJsZVwiKSwgdHJ1ZSlcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZhaWwgOiBMb2FkSW4uY2xvc2VPcGVuZWQsXG4gICAgICAgICAgICAgICAgZmFpbF9hbGVydCA6IHRydWUsXG4gICAgICAgICAgICAgICAgYnlwYXNzIDogdHJ1ZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlUHJpdmF0ZSA6IGZ1bmN0aW9uKGFyZywgbm9IaXN0b3J5KXtcbiAgICAgICAgICAgIGlmKENhbGxNYW5hZ2VyLnN0YXRlKCkuaW5pdGlhbGl6ZWQpe1xuICAgICAgICAgICAgICAgIHdpbmRvdy5vcGVuKE1lc3Nlbmdlci5jb21tb24oKS5XRUIgKyAnL3JlY2lwaWVudC8nK2FyZy5hbGlhcysnLycrYXJnLmlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcHQuZWxlbWVudHMubWVzc2FnZV9jb250YWluZXIuaHRtbChUaHJlYWRUZW1wbGF0ZXMucmVuZGVyKCkubG9hZGluZ190aHJlYWRfYmFzZSgpKTtcbiAgICAgICAgICAgIG1vdW50ZWQucmVzZXQoZmFsc2UpO1xuICAgICAgICAgICAgaWYoTWVzc2VuZ2VyLmNvbW1vbigpLm1vYmlsZSkgVGhyZWFkVGVtcGxhdGVzLm1vYmlsZSh0cnVlKTtcbiAgICAgICAgICAgICQoXCIubW9kYWxcIikubW9kYWwoJ2hpZGUnKTtcbiAgICAgICAgICAgIE1lc3Nlbmdlci54aHIoKS5yZXF1ZXN0KHtcbiAgICAgICAgICAgICAgICByb3V0ZSA6IE1lc3Nlbmdlci5jb21tb24oKS5BUEkgKyAncHJpdmF0ZXMvcmVjaXBpZW50LycrYXJnLmFsaWFzKycvJythcmcuaWQsXG4gICAgICAgICAgICAgICAgc3VjY2VzcyA6IGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnRocmVhZF9pZCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBMb2FkSW4uaW5pdGlhdGVfdGhyZWFkKHt0aHJlYWRfaWQgOiBkYXRhLnRocmVhZF9pZH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG9wdC5lbGVtZW50cy5tZXNzYWdlX2NvbnRhaW5lci5odG1sKFRocmVhZFRlbXBsYXRlcy5yZW5kZXIoKS5yZW5kZXJfbmV3X3ByaXZhdGUoZGF0YS5yZWNpcGllbnQpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYoIW5vSGlzdG9yeSkgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKHt0eXBlIDogMywgaWQgOiBhcmcuaWQsIGFsaWFzIDogYXJnLmFsaWFzfSwgbnVsbCwgTWVzc2VuZ2VyLmNvbW1vbigpLldFQiArICcvcmVjaXBpZW50LycrYXJnLmFsaWFzKycvJythcmcuaWQpO1xuICAgICAgICAgICAgICAgICAgICBvcHQudGhyZWFkLm1lc3NhZ2luZyA9IGRhdGEucmVjaXBpZW50Lm9wdGlvbnMuY2FuX21lc3NhZ2VfZmlyc3Q7XG4gICAgICAgICAgICAgICAgICAgIG1vdW50ZWQuSW5pdGlhbGl6ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlIDogMyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocmVhZF9pZCA6ICduZXcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdF9uYW1lIDogZGF0YS5yZWNpcGllbnQubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBfZGF0YSA6IGRhdGEucmVjaXBpZW50XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmYWlsIDogTG9hZEluLmNsb3NlT3BlbmVkLFxuICAgICAgICAgICAgICAgIGZhaWxfYWxlcnQgOiB0cnVlLFxuICAgICAgICAgICAgICAgIGJ5cGFzcyA6IHRydWVcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIGNyZWF0ZUdyb3VwIDogZnVuY3Rpb24obm9IaXN0b3J5KXtcbiAgICAgICAgICAgIGlmKG9wdC5zdGF0ZXMubG9jaykgcmV0dXJuO1xuICAgICAgICAgICAgbW91bnRlZC5yZXNldChmYWxzZSk7XG4gICAgICAgICAgICBvcHQuZWxlbWVudHMubWVzc2FnZV9jb250YWluZXIuaHRtbChUaHJlYWRUZW1wbGF0ZXMucmVuZGVyKCkubmV3X2dyb3VwX2Jhc2UoKSk7XG4gICAgICAgICAgICBpZighbm9IaXN0b3J5KSB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoe3R5cGUgOiA0fSwgbnVsbCwgTWVzc2VuZ2VyLmNvbW1vbigpLldFQiArICc/bmV3R3JvdXAnKTtcbiAgICAgICAgICAgIGlmKE1lc3Nlbmdlci5jb21tb24oKS5tb2JpbGUpIFRocmVhZFRlbXBsYXRlcy5tb2JpbGUodHJ1ZSk7XG4gICAgICAgICAgICBtb3VudGVkLkluaXRpYWxpemUoe1xuICAgICAgICAgICAgICAgIHR5cGUgOiA0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIE1lc3Nlbmdlci54aHIoKS5yZXF1ZXN0KHtcbiAgICAgICAgICAgICAgICByb3V0ZSA6IE1lc3Nlbmdlci5jb21tb24oKS5BUEkgKyAnZnJpZW5kcycsXG4gICAgICAgICAgICAgICAgc3VjY2VzcyA6IGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICAgICAgICAgICBpZihvcHQudGhyZWFkLnR5cGUgPT09IDQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNtZXNzYWdlc19jb250YWluZXJfbmV3X2dyb3VwXCIpLmh0bWwoVGhyZWFkVGVtcGxhdGVzLnJlbmRlcigpLm5ld19ncm91cF9mcmllbmRzKGRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZHMubG9hZERhdGFUYWJsZSgkKFwiI2FkZF9ncm91cF9wYXJ0aWNpcGFudHNcIiksIHRydWUpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZhaWxfYWxlcnQgOiB0cnVlXG4gICAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICBpbml0aWF0ZV90aHJlYWQgOiBmdW5jdGlvbihhcmcsIG5vSGlzdG9yeSl7XG4gICAgICAgICAgICBpZihvcHQuc3RhdGVzLmxvY2sgfHwgKGFyZy50aHJlYWRfaWQgPT09IG9wdC50aHJlYWQuaWQgJiYgIShcImZvcmNlXCIgaW4gYXJnKSkpIHJldHVybjtcbiAgICAgICAgICAgIGlmKE1lc3Nlbmdlci5jb21tb24oKS5tb2JpbGUpIFRocmVhZFRlbXBsYXRlcy5tb2JpbGUodHJ1ZSk7XG4gICAgICAgICAgICBvcHQuZWxlbWVudHMubWVzc2FnZV9jb250YWluZXIuaHRtbChUaHJlYWRUZW1wbGF0ZXMucmVuZGVyKCkubG9hZGluZ190aHJlYWRfYmFzZSgpKTtcbiAgICAgICAgICAgIG1vdW50ZWQucmVzZXQodHJ1ZSk7XG4gICAgICAgICAgICBvcHQudGhyZWFkLmluaXRpYWxpemluZyA9IHRydWU7XG4gICAgICAgICAgICBvcHQudGhyZWFkLl9pZCA9IGFyZy50aHJlYWRfaWQ7XG4gICAgICAgICAgICBNZXNzZW5nZXIueGhyKCkucmVxdWVzdCh7XG4gICAgICAgICAgICAgICAgcm91dGUgOiBNZXNzZW5nZXIuY29tbW9uKCkuQVBJICsgJ3RocmVhZHMvJyArIGFyZy50aHJlYWRfaWQgKyAnL2xvYWQnLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5ncm91cFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBtZXRob2RzLmluaXRpYXRlR3JvdXAoYXJnLCBkYXRhLCBub0hpc3RvcnkpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG1ldGhvZHMuaW5pdGlhdGVQcml2YXRlKGFyZywgZGF0YSwgbm9IaXN0b3J5KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZhaWwgOiBMb2FkSW4uY2xvc2VPcGVuZWQsXG4gICAgICAgICAgICAgICAgYnlwYXNzIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBmYWlsX2FsZXJ0IDogdHJ1ZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW5pdCA6IG1vdW50ZWQuSW5pdGlhbGl6ZSxcbiAgICAgICAgSW1wb3J0IDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiBJbXBvcnRzXG4gICAgICAgIH0sXG4gICAgICAgIG5ld0Zvcm1zIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiBuZXdfZm9ybXNcbiAgICAgICAgfSxcbiAgICAgICAgY2FsbHMgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIENhbGxzXG4gICAgICAgIH0sXG4gICAgICAgIHNlbmQgOiBtZXRob2RzLnNlbmRNZXNzYWdlLFxuICAgICAgICBhcmNoaXZlIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiBhcmNoaXZlXG4gICAgICAgIH0sXG4gICAgICAgIGVkaXRNZXNzYWdlIDogbWV0aG9kcy5lZGl0TWVzc2FnZSxcbiAgICAgICAgcmVwbHkgOiBtZXRob2RzLnJlcGx5VG9NZXNzYWdlLFxuICAgICAgICBhZGROZXdSZWFjdGlvbiA6IG1ldGhvZHMuYWRkTmV3UmVhY3Rpb24sXG4gICAgICAgIHJlbW92ZVJlYWN0aW9uIDogbWV0aG9kcy5yZW1vdmVSZWFjdGlvbixcbiAgICAgICAgbXV0ZSA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gTXV0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZ3JvdXAgOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBncm91cHNcbiAgICAgICAgfSxcbiAgICAgICAgbG9hZCA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gTG9hZEluXG4gICAgICAgIH0sXG4gICAgICAgIHN3aXRjaFRvZ2dsZSA6IG1vdW50ZWQuc3dpdGNoVG9nZ2xlTGlzdGVuZXIsXG4gICAgICAgIGxvY2sgOiBmdW5jdGlvbihhcmcpe1xuICAgICAgICAgICAgaWYodHlwZW9mIGFyZyA9PT0gJ2Jvb2xlYW4nKSBvcHQuc3RhdGVzLmxvY2sgPSBhcmdcbiAgICAgICAgfSxcbiAgICAgICAgc3RhdGUgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0aHJlYWRfaWQgOiBvcHQudGhyZWFkLmlkLFxuICAgICAgICAgICAgICAgIHRocmVhZF9sb2Nrb3V0IDogb3B0LnRocmVhZC5sb2Nrb3V0LFxuICAgICAgICAgICAgICAgIHR5cGUgOiBvcHQudGhyZWFkLnR5cGUsXG4gICAgICAgICAgICAgICAgdGhyZWFkX2FkbWluIDogb3B0LnRocmVhZC5hZG1pbixcbiAgICAgICAgICAgICAgICB0X25hbWUgOiBvcHQudGhyZWFkLm5hbWUsXG4gICAgICAgICAgICAgICAgX3RocmVhZCA6IG9wdC50aHJlYWQuX3RocmVhZCxcbiAgICAgICAgICAgICAgICBvbmxpbmVfc3RhdHVzIDogb3B0LnNvY2tldC5vbmxpbmVfc3RhdHVzX3NldHRpbmcsXG4gICAgICAgICAgICAgICAgc29ja2V0U3RhdHVzQ2hlY2sgOiBIZWFsdGguY2hlY2tDb25uZWN0aW9uLFxuICAgICAgICAgICAgICAgIHJlQ29ubmVjdGVkIDogSGVhbHRoLnJlQ29ubmVjdGVkLFxuICAgICAgICAgICAgICAgIG9ubGluZSA6IGZ1bmN0aW9uKHN0YXRlKXtcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kcy5zdGF0dXNPbmxpbmUoc3RhdGUsIHRydWUpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdGF0dXNTZXR0aW5nIDogbWV0aG9kcy51cGRhdGVPbmxpbmVTdGF0dXNTZXR0aW5nXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfTtcbn0oKSk7Il0sIm5hbWVzIjpbIndpbmRvdyIsIlRocmVhZE1hbmFnZXIiLCJvcHQiLCJJTklUIiwiT1JJR0lOQUxfQVJHIiwiU0VUVVAiLCJBUEkiLCJNZXNzZW5nZXIiLCJjb21tb24iLCJ0aHJlYWQiLCJpZCIsInR5cGUiLCJuYW1lIiwiYWRtaW4iLCJwZW5kaW5nIiwibXV0ZWQiLCJyZXBseWluZyIsInJlcGx5X3RvX2lkIiwiYXdhaXRpbmdfbXlfYXBwcm92YWwiLCJjcmVhdGVkX2F0IiwibWVzc2FnZXNfdW5yZWFkIiwiY2xpY2tfdG9fcmVhZCIsIm1lc3NhZ2luZyIsImNhbl9jYWxsIiwibG9ja291dCIsInRocmVhZF9oaXN0b3J5IiwiaGlzdG9yeV9pZCIsImhpc3Rvcnlfcm91dGUiLCJoaXN0b3J5X2xvYWRpbmciLCJpbml0aWFsaXppbmciLCJfaWQiLCJfdGhyZWFkIiwic3RhdGVzIiwibG9jayIsImxvYWRfaW5fcmV0cmllcyIsInN0YXRlX2xvY2tvdXRfcmV0cmllcyIsInRocmVhZF9maWx0ZXJlZCIsInRocmVhZF9maWx0ZXJfc2VhcmNoIiwibWVzc2VuZ2VyX3NlYXJjaF90ZXJtIiwic29ja2V0Iiwib25saW5lX3N0YXR1c19zZXR0aW5nIiwiY2hhdCIsInNvY2tldF9yZXRyaWVzIiwic2VuZF90eXBpbmciLCJpc19hd2F5Iiwic3RvcmFnZSIsImFjdGl2ZV9wcm9maWxlcyIsIndob190eXBpbmciLCJib3RfdHlwaW5nIiwidGhyZWFkcyIsIm1lc3NhZ2VzIiwicGFydGljaXBhbnRzIiwicGVuZGluZ19tZXNzYWdlcyIsInRlbXBfZGF0YSIsInRpbWVycyIsIm1hcmtfcmVhZF90aW1lb3V0IiwicmVjZW50X2JvYmJsZV90aW1lb3V0Iiwic29ja2V0X2ludGVydmFsIiwicmVtb3ZlX3R5cGluZ19pbnRlcnZhbCIsInByaXZhdGVfYm9iYmxlX3JlZnJlc2hfdGltZW91dCIsImJvYmJsZV9yZWZyZXNoX2ludGVydmFsIiwiZHJhZ19kcm9wX292ZXJsYXlfaGlkZSIsImVsZW1lbnRzIiwibmF2X3NlYXJjaF9saW5rIiwiJCIsIm15X2F2YXRhcl9hcmVhIiwidGhyZWFkX2FyZWEiLCJtZXNzYWdlX2NvbnRhaW5lciIsIm1lc3NhZ2Vfc2lkZWJhcl9jb250YWluZXIiLCJzb2NrZXRfZXJyb3JfbXNnIiwidGhyZWFkX3NlYXJjaF9pbnB1dCIsInRocmVhZF9zZWFyY2hfYmFyIiwiZHJhZ19kcm9wX3pvbmUiLCJtZXNzZW5nZXJfc2VhcmNoX2lucHV0IiwibWVzc2VuZ2VyX3NlYXJjaF9yZXN1bHRzIiwibXNnX3BhbmVsIiwiZG9jX2ZpbGUiLCJncm91cF9hdmF0YXJfZmlsZSIsInJlY29yZF9hdWRpb19tZXNzYWdlX2J0biIsImFkZF9lbW9qaV9idG4iLCJkYXRhX3RhYmxlIiwibWVzc2FnZV90ZXh0X2lucHV0IiwiZm9ybSIsInRoZV90aHJlYWQiLCJtc2dfc3RhY2siLCJwZW5kaW5nX21zZ19zdGFjayIsIm5ld19tc2dfYWxlcnQiLCJyZXBseV9tZXNzYWdlX2FsZXJ0Iiwic2Vlbl9ieV9maW5hbCIsIm1vdW50ZWQiLCJJbml0aWFsaXplIiwiYXJnIiwibW9kdWxlcyIsImluY2x1ZGVzIiwic2V0VGltZW91dCIsInNldHVwT25jZSIsIkxvYWRJbiIsImluaXRpYXRlX3RocmVhZCIsInRocmVhZF9pZCIsImNyZWF0ZVByaXZhdGUiLCJhbGlhcyIsIlBhZ2VMaXN0ZW5lcnMiLCJsaXN0ZW4iLCJkaXNwb3NlVG9vbHRpcHMiLCJzdGFydFdhdGNoZG9nIiwibW9iaWxlIiwiaHRtbCIsIlRocmVhZFRlbXBsYXRlcyIsInJlbmRlciIsImVtcHR5X2Jhc2UiLCJ0X25hbWUiLCJtZXRob2RzIiwiaW5pdGlhbGl6ZVJlY2VudE1lc3NhZ2VzIiwiSGVhbHRoIiwiY2hlY2tDb25uZWN0aW9uIiwidG9vbHRpcHMiLCJlbG0iLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwic2V0SW50ZXJ2YWwiLCJOb3RpZnlNYW5hZ2VyIiwic29ja2V0cyIsImZvcmNlZF9kaXNjb25uZWN0IiwiaGlzdG9yeSIsInJlcGxhY2VTdGF0ZSIsIldFQiIsIm9ucG9wc3RhdGUiLCJldmVudCIsInN0YXRlIiwiY3JlYXRlR3JvdXAiLCJjbG9zZU9wZW5lZCIsImNvbnRhY3RzIiwic2VhcmNoIiwib24iLCJjaGVja1RocmVhZEZpbHRlcnMiLCJmb3JFYWNoIiwiZXZlbnROYW1lIiwiYWRkRXZlbnRMaXN0ZW5lciIsImZpbGVEcmFnRHJvcCIsImxlbmd0aCIsImNsaWNrIiwic2VhcmNoTGlua0NsaWNrZWQiLCJ0aW1lQWdvIiwicmVzZXQiLCJzdG9wV2F0Y2hkb2ciLCJ1bnN1YnNjcmliZSIsImNsZWFySW50ZXJ2YWwiLCJjbGVhclRpbWVvdXQiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwiZmluZCIsIk9iamVjdCIsImFzc2lnbiIsImVhY2giLCJmb3JtYXQiLCJtYWtlVGltZUFnbyIsImF0dHIiLCJwcm9wIiwicmVtb3ZlVHlwZXJzIiwiYm9iYmxlSGVhZHMiLCJtc2dQYW5lbENsaWNrIiwic2Nyb2xsIiwibXNnUGFuZWxTY3JvbGwiLCJjaGFuZ2UiLCJkb2N1bWVudENoYW5nZSIsInVwbG9hZEdyb3VwQXZhdGFyIiwiYXVkaW9NZXNzYWdlIiwic2hvd0Vtb2ppUGlja2VyIiwicGFzdGVJbWFnZSIsImtleWRvd24iLCJmb3JtS2V5ZG93biIsIm1hbmFnZVNlbmRNZXNzYWdlQnV0dG9uIiwic3RvcERlZmF1bHQiLCJuZXdNc2dBbGVydENsaWNrIiwicmVzZXRSZXBseWluZyIsImNsaWNrTWFya1JlYWQiLCJpbnB1dENsaWNrU2Nyb2xsIiwiZm9jdXMiLCJzdWJqZWN0IiwidmFsaWRhdGVGb3JtcyIsInJ1bk1lc3NlbmdlclNlYXJjaCIsIm9mZiIsImUiLCJjb25zb2xlIiwibG9nIiwicHJldmVudERlZmF1bHQiLCJjdXJyZW50X3Rlcm0iLCJ0aW1lIiwiRGF0ZSIsInZhbCIsInRyaW0iLCJsb2FkZXIiLCJ4aHIiLCJyZXF1ZXN0Iiwicm91dGUiLCJzdWNjZXNzIiwibWFuYWdlTWVzc2VuZ2VyU2VhcmNoIiwiZmFpbF9hbGVydCIsInRocmVhZF9lbXB0eV9zZWFyY2giLCJ0aHJlYWRTY3JvbGxCb3R0b20iLCJrZXlDb2RlIiwic2VuZE1lc3NhZ2UiLCJzdG9wVHlwaW5nIiwiaXNUeXBpbmciLCJuZXdfZm9ybXMiLCJuZXdQcml2YXRlIiwiY2hlY2tUaHJlYWRTdG9yYWdlVW5yZWFkIiwibWFya1JlYWQiLCJmb2N1c19pbnB1dCIsImZvY3VzRW5kIiwiZWxtX2NsYXNzIiwidGFyZ2V0IiwiaWdub3JlIiwic2Nyb2xsVG9wIiwibG9hZEhpc3RvcnkiLCJoYXNGb2N1cyIsIlJlY29yZEF1ZGlvIiwib3BlbiIsIkVtb2ppUGlja2VyIiwiYWRkTWVzc2FnZSIsIl90b0NvbnN1bWFibGVBcnJheSIsImZpbGVzIiwic2VuZFVwbG9hZEZpbGVzIiwidmFsdWUiLCJidXR0b24iLCJhZGRMb2FkZXIiLCJkYXRhIiwiRm9ybURhdGEiLCJhcHBlbmQiLCJhbGVydCIsImZpbGxNb2RhbCIsIm5vX2Nsb3NlIiwiYm9keSIsInRpdGxlIiwicGF5bG9hZCIsIkFsZXJ0IiwidG9hc3QiLCJjbG9zZV9tb2RhbCIsInN3aXRjaFRvZ2dsZUxpc3RlbmVyIiwiaXMiLCJwYXJlbnRzIiwiY2xvc2VzdCIsInN0YXJ0UHJlc2VuY2UiLCJmdWxsIiwic3Vic2NyaWJlIiwiRWNobyIsImNvbm5lY3RvciIsImNoYW5uZWxzIiwiam9pbiIsImhlcmUiLCJ1c2VycyIsImhpZGUiLCJpc1Byb3ZpZGVyIiwicHJvdmlkZXJfaWQiLCJwcm92aWRlcl9hbGlhcyIsInB1c2giLCJ1cGRhdGVCb2JibGVIZWFkIiwiZHJhd0JvYmJsZUhlYWRzIiwic2VuZE9ubGluZVN0YXR1cyIsImpvaW5pbmciLCJ1c2VyIiwibGVhdmluZyIsInVwZGF0ZUFjdGl2ZVByb2ZpbGUiLCJsaXN0ZW5Gb3JXaGlzcGVyIiwiYWRkVHlwZXJzIiwidGhyZWFkT25saW5lU3RhdHVzIiwib25saW5lX3N0YXR1cyIsIm1lc3NhZ2UiLCJtZXNzYWdlX2lkIiwiZ3JvdXBTZXR0aW5nc1N0YXRlIiwiZ3JvdXBBdmF0YXJTdGF0ZSIsInJlbmRlclVwZGF0ZWRNZXNzYWdlIiwidXBkYXRlTmV3UmVhY3Rpb24iLCJ1cGRhdGVSZW1vdmVSZWFjdGlvbiIsInN0YXR1cyIsInVucmVhZENoZWNrIiwic29ja2V0X2Vycm9yIiwic2hvdyIsInBvcG92ZXIiLCJteV9hdmF0YXJfc3RhdHVzIiwib25Db25uZWN0aW9uIiwicmVDb25uZWN0ZWQiLCJDYWxsTWFuYWdlciIsImluaXRpYWxpemVkIiwiY2hlY2tUb3RhbFVucmVhZCIsImNvdW50cyIsInVucmVhZF90aHJlYWRzX2NvdW50IiwidXBkYXRlTWVzc2FnZUNvdW50IiwidG90YWxfdW5yZWFkIiwiZmFpbCIsInVucmVhZCIsInNvdW5kIiwiSW1wb3J0cyIsIm5ld01lc3NhZ2UiLCJ1cGRhdGVUaHJlYWQiLCJvd25lcl9pZCIsIm93bmVyX3R5cGUiLCJhdWRpbyIsImNhbGxTdGF0dXMiLCJhY3Rpb24iLCJ0aHJlYWRDYWxsU3RhdHVzIiwiYWRkZWRUb1RocmVhZCIsInByb21vdGVkQWRtaW4iLCJ0aGVtZSIsImZvcmNlIiwiZGVtb3RlZEFkbWluIiwicGVybWlzc2lvbnNVcGRhdGVkIiwidGhyZWFkQXBwcm92YWwiLCJhcHByb3ZlZCIsInJlbW92ZVRocmVhZCIsInRocmVhZExlZnQiLCJwdXJnZU1lc3NhZ2UiLCJyZW1vdmUiLCJpbml0aWF0ZVByaXZhdGUiLCJub0hpc3RvcnkiLCJfZGF0YSRvcHRpb25zJGF3YWl0aW4iLCJyZXNvdXJjZXMiLCJoYXNPd25Qcm9wZXJ0eSIsIm1ldGEiLCJmaW5hbF9wYWdlIiwibmV4dF9wYWdlX2lkIiwibmV4dF9wYWdlX3JvdXRlIiwicmVuZGVyX3ByaXZhdGUiLCJwdXNoU3RhdGUiLCJvcHRpb25zIiwiY2FsbCIsImxvY2tlZCIsImluaXRpYXRlR3JvdXAiLCJyZW5kZXJfZ3JvdXAiLCJwcm9maWxlIiwibWVzc2VuZ2VyX3NlYXJjaCIsIkxhenlJbWFnZXMiLCJ1cGRhdGUiLCJpc0ZpbGUiLCJpIiwiZGF0YVRyYW5zZmVyIiwiaXRlbXMiLCJraW5kIiwic3RvcFByb3BhZ2F0aW9uIiwiZmFkZUluIiwiZmFkZU91dCIsImJ0biIsIm1lc3NhZ2VfY29udGVudHMiLCJhZnRlciIsInNlbmRfbXNnX2J0biIsInNldHRpbmdzIiwic2VuZGVyIiwiY2hlY2siLCJ0b3AiLCJoZWlnaHQiLCJvZmZzZXQiLCJzdGF0dXNPbmxpbmUiLCJpbmFjdGl2aXR5IiwidXBkYXRlT25saW5lU3RhdHVzU2V0dGluZyIsImxvY2F0ZVN0b3JhZ2VJdGVtIiwiZm91bmQiLCJpbmRleCIsInNlZW5NZXNzYWdlIiwicnVuTWFya1JlYWQiLCJsb2FkRGF0YVRhYmxlIiwic3BlY2lhbCIsImRlc3Ryb3kiLCJEYXRhVGFibGUiLCJkcmF3Q2FsbGJhY2siLCJhcGkiLCJmbiIsIkFwaSIsInBhZ2luYXRpb24iLCJ0b2dnbGUiLCJwYWdlIiwiaW5mbyIsInBhZ2VzIiwiYWRkQm90VHlwZXJzIiwiYXZhdGFyIiwiZ2V0VGltZSIsImJvdCIsImRyYXdCb3RUeXBpbmdCb2JibGVIZWFkcyIsInNwbGljZSIsInJlbW92ZUJvdFR5cGVycyIsImltYWdlTG9hZExpc3RlbmVyIiwicHJpdmF0ZU1haW5Cb2JibGVEcmF3IiwiYm9iYmxlIiwidGhyZWFkX3ByaXZhdGVfaGVhZGVyX2JvYmJsZSIsIm93bmVyIiwicHJlcGVuZCIsImJvdF90eXBpbmdfYm9iYmxlX2hlYWQiLCJsYXN0X3JlYWQiLCJhZGRlZCIsImNhdWdodF91cCIsInR5cGluZyIsImJvYmJsZV9oZWFkIiwibmV4dCIsImhhc0NsYXNzIiwic2Vlbl9ieSIsImNoaWxkcmVuIiwieCIsImluX2NoYXQiLCJjaGVja1JlY2VudEJvYmJsZUhlYWRzIiwicmVsb2FkIiwieiIsImltYWdlcyIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJlbW9qaXMiLCJsb2FkSW1hZ2UiLCJzaWJsaW5ncyIsInJlcGxhY2VXaXRoIiwibG9hZEVtb2ppIiwiaW1nIiwibWFuYWdlUmVjZW50TWVzc2FnZXMiLCJtZXNzYWdlc19odG1sIiwicmV2ZXJzZSIsImtleSIsInN5c3RlbV9tZXNzYWdlIiwidGltZURpZmZJblVuaXQiLCJteV9tZXNzYWdlX2dyb3VwZWQiLCJteV9tZXNzYWdlX3JlcGx5IiwibXlfbWVzc2FnZSIsIm1lc3NhZ2VfZ3JvdXBlZCIsIm1lc3NhZ2VfcmVwbHkiLCJlbmRfb2ZfaGlzdG9yeSIsIm1hbmFnZUhpc3RvcnlNZXNzYWdlcyIsImZpbHRlciIsImxhc3RfbWVzc2FnZSIsInJlcGxhY2VfaHRtbCIsInBhZ2VfaWQiLCJzY3JvbGxJbnRvVmlldyIsInNjcm9sbFRvIiwib25Mb2FkIiwibG9hZGluZ19oaXN0b3J5IiwiYnlwYXNzIiwid2hpc3BlciIsImF2YXRhcl9zbSIsImNsaXBib2FyZERhdGEiLCJvcmlnaW5hbEV2ZW50IiwiYmxvYiIsImluZGV4T2YiLCJnZXRBc0ZpbGUiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwiZmlsZSIsInJlc3VsdCIsIk1vZGFsIiwic2l6ZSIsImljb24iLCJiYWNrZHJvcF9jdHJsIiwiY2JfYnRuX3R4dCIsImNiX2J0bl9pY29uIiwiY2JfYnRuX3RoZW1lIiwib25SZWFkeSIsImNhbnZhcyIsImN0eCIsImdldENvbnRleHQiLCJpbWFnZSIsIkltYWdlIiwid2lkdGgiLCJkcmF3SW1hZ2UiLCJzcmMiLCJjYWxsYmFjayIsInRvQmxvYiIsIm1vZGFsIiwicmVhZEFzRGF0YVVSTCIsIm1ha2VQZW5kaW5nTWVzc2FnZSIsIm1hbmFnZVBlbmRpbmdNZXNzYWdlIiwiZm9ybURhdGEiLCJ0ZW1wb3JhcnlfaWQiLCJnZXRUeXBlIiwibWF0Y2giLCJudW1iZXIiLCJpbnB1dCIsInBhdGgiLCJKU09OIiwic3RyaW5naWZ5IiwiYXVkaW9fbWVzc2FnZSIsImVzY2FwZUh0bWwiLCJ1dWlkIiwidjQiLCJwcm92aWRlcl9tb2RlbCIsImFkZFBlbmRpbmdNZXNzYWdlIiwicGVuZGluZ19tZXNzYWdlX2dyb3VwZWQiLCJwZW5kaW5nX21lc3NhZ2UiLCJmaW5hbCIsIm1zZ19lbG0iLCJtZXNzYWdlU3RhdHVzU3RhdGUiLCJjb2xsZWN0aW9uIiwidGVybSIsIml0ZW0iLCJtc2ciLCJ1bnNoaWZ0IiwiZm9yY2VTY3JvbGwiLCJ5b3V0dWJlUmVnZXgiLCJ0ZXN0IiwiZGlkU2Nyb2xsIiwidGhyZWFkX25ld19tZXNzYWdlX2FsZXJ0IiwiY2FsbF9hcmVhIiwiaGFzX2NhbGwiLCJ0aHJlYWRfY2FsbF9zdGF0ZSIsImFjdGl2ZV9jYWxsIiwiaW5fY2FsbCIsImpvaW5lZCIsImxlZnRfY2FsbCIsInRlbXAiLCJhZGRUaHJlYWQiLCJyZWNpcGllbnQiLCJjYWxjVW5yZWFkVGhyZWFkcyIsInJlYWQiLCJ1bnJlYWRfY291bnQiLCJsYXRlc3RfbWVzc2FnZSIsInVwZGF0ZWRfYXQiLCJkcmF3VGhyZWFkcyIsImNoZWNrU2hvd1RocmVhZFNlYXJjaCIsInRocmVhZF9lbG0iLCJzZWxlY3RlZCIsImdyb3VwX3RocmVhZCIsInByaXZhdGVfdGhyZWFkIiwiZ3JvdXAiLCJmaWx0ZXJlZCIsInRvTG93ZXJDYXNlIiwiZWRpdE1lc3NhZ2UiLCJtZXNzYWdlU3RvcmFnZSIsImg0IiwidW5sb2NrX2J1dHRvbnMiLCJlZGl0X21lc3NhZ2UiLCJzaG9ydGNvZGVUb1VuaWNvZGUiLCJ1cGRhdGVNZXNzYWdlIiwib25DbG9zZWQiLCJyZXBseVRvTWVzc2FnZSIsInRocmVhZF9yZXBseWluZ19tZXNzYWdlX2FsZXJ0IiwidGV4dGFyZWEiLCJtZXNzYWdlX2JvZHkiLCJhZGROZXdSZWFjdGlvbiIsInJlYWN0aW9uIiwiZW1vamkiLCJyZW1vdmVSZWFjdGlvbiIsInJlbW92ZUxpIiwicmVhY3RMaSIsInJlYWN0aW9ucyIsInRvdGFsX3VuaXF1ZSIsImtleXMiLCJ0b3RhbCIsInJlYWN0ZWQiLCJkcmF3UmVhY3Rpb25zIiwieSIsInVuaXF1ZSIsIm1lc3NhZ2VfcmVhY3Rpb25zIiwiYXJjaGl2ZSIsIk1lc3NhZ2UiLCJjZW50ZXJlZCIsImNiX2Nsb3NlIiwiVGhyZWFkIiwicHJlX2xvYWRlciIsImFyY2hpdmVfdGhyZWFkX3dhcm5pbmciLCJkZXN0cm95TW9kYWwiLCJwb3N0QXJjaGl2ZVRocmVhZCIsInNoYXJlZCIsImdyb3VwcyIsInZpZXdQYXJ0aWNpcGFudHMiLCJnYXRoZXIiLCJncm91cF9wYXJ0aWNpcGFudHMiLCJvdmVyZmxvdyIsImFkZF9wYXJ0aWNpcGFudHMiLCJhZGRQYXJ0aWNpcGFudHMiLCJ2aWV3SW52aXRlR2VuZXJhdG9yIiwibWFuYWdlSW52aXRlR2VuUGFnZSIsImdlbmVyYXRlX2NsaWNrIiwiZ2VuZXJhdGVJbnZpdGVMaW5rIiwidGhyZWFkX25hbWUiLCJ0aHJlYWRfc2hvd19pbnZpdGUiLCJidG5fc3dpdGNoIiwidGhyZWFkX2dlbmVyYXRlX2ludml0ZSIsImV4cGlyZSIsInBhcnNlSW50IiwidXNlcyIsImV4cGlyZXNfYXQiLCJkYXlqcyIsInV0YyIsImFkZCIsImV4cGlyZXMiLCJyZW1vdmVJbnZpdGVMaW5rIiwiZ3JvdXBfYWRkX3BhcnRpY2lwYW50cyIsInByb3ZpZGVycyIsIm1hcCIsImRhdGFzZXQiLCJwcm92aWRlckFsaWFzIiwicHJvdmlkZXJJZCIsInZpZXdTZXR0aW5ncyIsImdyb3VwX3NldHRpbmdzIiwic2F2ZVNldHRpbmdzIiwiaW52aXRhdGlvbnMiLCJjYWxsaW5nIiwia25vY2tzIiwiY2hhdF9ib3RzIiwicmVtb3ZlR3JvdXBBdmF0YXIiLCJyZW1vdmVQYXJ0aWNpcGFudCIsInJvdyIsImRyYXciLCJwcm9tb3RlQWRtaW4iLCJwYXJ0aWNpcGFudCIsImRlbW90ZUFkbWluIiwicGFydGljaXBhbnRQZXJtaXNzaW9uc1ZpZXciLCJwYXJ0aWNpcGFudF9pZCIsInBhcnRpY2lwYW50X3Blcm1pc3Npb25zIiwicGFydGljaXBhbnRQZXJtaXNzaW9uU2F2ZSIsIm1hbmFnZV9pbnZpdGVzIiwic2VuZF9tZXNzYWdlcyIsInNlbmRfa25vY2tzIiwic3RhcnRfY2FsbHMiLCJtYW5hZ2VfYm90cyIsImxlYXZlR3JvdXAiLCJuZXdHcm91cCIsImxvYWRpbmdfdGhyZWFkX2Jhc2UiLCJ2b2ljZU1lc3NhZ2UiLCJhcHByb3ZlIiwiQ2FsbHMiLCJzaG93Q3JlYXRlTW9kYWwiLCJhbGxvd19jbG9zZSIsImluaXRDYWxsIiwiaGVhcnRiZWF0IiwicmVtb3ZlTG9hZGVyIiwic2VuZEtub2NrIiwiY2xvc2UiLCJNdXRlIiwibXV0ZSIsInVubXV0ZSIsIm1lc3NhZ2VFZGl0cyIsIm1lc3NhZ2VfZWRpdF9oaXN0b3J5IiwidGhyZWFkTG9ncyIsInBhZ2luYXRlIiwidGhyZWFkX2xvZ3MiLCJ0aHJlYWRJbWFnZXMiLCJ0aHJlYWRfaW1hZ2VzIiwidGhyZWFkRG9jdW1lbnRzIiwidGhyZWFkX2RvY3VtZW50cyIsIm1lc3NhZ2VSZWFjdGlvbnMiLCJtZXNzYWdlSWQiLCJzaG93X21lc3NhZ2VfcmVhY3Rpb25zIiwidGhyZWFkQXVkaW8iLCJ0aHJlYWRfYXVkaW8iLCJ0aHJlYWRWaWRlb3MiLCJ0aHJlYWRfdmlkZW9zIiwic2VhcmNoX2Jhc2UiLCJjb250YWN0c19iYXNlIiwicmVuZGVyX25ld19wcml2YXRlIiwiY2FuX21lc3NhZ2VfZmlyc3QiLCJuZXdfZ3JvdXBfYmFzZSIsIm5ld19ncm91cF9mcmllbmRzIiwiaW5pdCIsIkltcG9ydCIsIm5ld0Zvcm1zIiwiY2FsbHMiLCJzZW5kIiwicmVwbHkiLCJsb2FkIiwic3dpdGNoVG9nZ2xlIiwidGhyZWFkX2xvY2tvdXQiLCJ0aHJlYWRfYWRtaW4iLCJzb2NrZXRTdGF0dXNDaGVjayIsIm9ubGluZSIsInN0YXR1c1NldHRpbmciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./vendor/rtippin/messenger-ui/resources/js/managers/ThreadManager.js\n");

/***/ }),

/***/ "./vendor/rtippin/messenger-ui/resources/js/modules/EmojiPicker.js":
/*!*************************************************************************!*\
  !*** ./vendor/rtippin/messenger-ui/resources/js/modules/EmojiPicker.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nObject(function webpackMissingModule() { var e = new Error(\"Cannot find module '@joeattardi/emoji-button'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\n\nwindow.EmojiPicker = function () {\n  var opt = {\n      lock: true,\n      reactionPicker: null,\n      reactionMessageId: null,\n      reactionMessageElm: null,\n      messagePicker: null,\n      messageTextElm: null,\n      editPicker: null,\n      editPickerBtn: null,\n      editPickerTextEml: null,\n      botReactionPicker: null,\n      botReactionBtn: null,\n      botReactionElm: null,\n      botReactionBombPicker: null,\n      botReactionBombIndex: 0\n    },\n    mounted = {\n      Initialize: function Initialize() {\n        opt.lock = false;\n      }\n    },\n    methods = {\n      updateThemes: function updateThemes(dark) {\n        if (opt.reactionPicker !== null) {\n          opt.reactionPicker.setTheme(dark ? 'dark' : 'light');\n        }\n        if (opt.messagePicker !== null) {\n          opt.messagePicker.setTheme(dark ? 'dark' : 'light');\n        }\n        if (opt.editPicker !== null) {\n          opt.editPicker.setTheme(dark ? 'dark' : 'light');\n        }\n        if (opt.botReactionPicker !== null) {\n          opt.botReactionPicker.setTheme(dark ? 'dark' : 'light');\n        }\n        if (opt.botReactionBombPicker !== null) {\n          opt.botReactionBombPicker.setTheme(dark ? 'dark' : 'light');\n        }\n      },\n      addReaction: function addReaction(messageId) {\n        if (opt.reactionPicker === null) {\n          opt.reactionPicker = new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module '@joeattardi/emoji-button'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())({\n            theme: Messenger.common().dark_mode ? 'dark' : 'light'\n          });\n          opt.reactionPicker.on('emoji', methods.sendReaction);\n          opt.reactionPicker.on('hidden', methods.reactionPickerHidden);\n        }\n        if (opt.reactionMessageId !== null) {\n          opt.reactionPicker.hidePicker();\n          setTimeout(function () {\n            methods.addReaction(messageId);\n          }, 500);\n          return;\n        }\n        opt.reactionMessageId = messageId;\n        opt.reactionMessageElm = document.getElementById('message_' + messageId).getElementsByClassName('message-body')[0];\n        opt.reactionMessageElm.classList.add('shadow-primary');\n        opt.reactionPicker.showPicker(opt.reactionMessageElm);\n      },\n      addMessage: function addMessage() {\n        if (opt.messagePicker === null) {\n          opt.messagePicker = new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module '@joeattardi/emoji-button'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())({\n            theme: Messenger.common().dark_mode ? 'dark' : 'light',\n            autoHide: false,\n            position: 'top-end'\n          });\n          opt.messagePicker.on('emoji', methods.messageSelection);\n        }\n        opt.messageTextElm = document.getElementById('message_text_input');\n        opt.messagePicker.showPicker(opt.messageTextElm);\n      },\n      editMessage: function editMessage() {\n        if (opt.editPicker === null) {\n          opt.editPicker = new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module '@joeattardi/emoji-button'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())({\n            theme: Messenger.common().dark_mode ? 'dark' : 'light',\n            autoHide: false,\n            position: 'bottom-end'\n          });\n          opt.editPicker.on('emoji', methods.editSelection);\n        }\n        opt.editPickerTextEml = document.getElementById('edit_message_textarea');\n        opt.editPickerBtn = document.getElementById('edit_message_emoji_btn');\n        opt.editPicker.showPicker(opt.editPickerBtn);\n      },\n      botActionReact: function botActionReact() {\n        if (opt.botReactionPicker === null) {\n          opt.botReactionPicker = new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module '@joeattardi/emoji-button'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())({\n            theme: Messenger.common().dark_mode ? 'dark' : 'light'\n          });\n          opt.botReactionPicker.on('emoji', methods.botReactSelection);\n        }\n        opt.botReactionElm = document.getElementById('g_s_bot_reaction');\n        opt.botReactionBtn = document.getElementById('bot_reaction_emoji_btn');\n        opt.botReactionPicker.showPicker(opt.botReactionBtn);\n      },\n      botActionReactBomb: function botActionReactBomb(index) {\n        opt.botReactionBombIndex = index;\n        if (opt.botReactionBombPicker === null) {\n          opt.botReactionBombPicker = new Object(function webpackMissingModule() { var e = new Error(\"Cannot find module '@joeattardi/emoji-button'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())({\n            theme: Messenger.common().dark_mode ? 'dark' : 'light'\n          });\n          opt.botReactionBombPicker.on('emoji', methods.botReactBombSelection);\n        }\n        opt.botReactionBombPicker.showPicker(document.getElementById('bot_reaction_bomb_btn_' + index));\n      },\n      resetBotActionReactBomb: function resetBotActionReactBomb(index) {\n        document.getElementById('bot_reaction_bomb_' + index).value = '';\n      },\n      sendReaction: function sendReaction(selection) {\n        ThreadManager.addNewReaction({\n          message_id: opt.reactionMessageId,\n          emoji: selection.emoji\n        });\n      },\n      reactionPickerHidden: function reactionPickerHidden() {\n        if (opt.reactionMessageElm !== null) {\n          opt.reactionMessageElm.classList.remove('shadow-primary');\n        }\n        opt.reactionMessageId = null;\n        opt.reactionMessageElm = null;\n      },\n      messageSelection: function messageSelection(selection) {\n        var curPos = opt.messageTextElm.selectionStart;\n        var curVal = opt.messageTextElm.value;\n        opt.messageTextElm.value = curVal.slice(0, curPos) + selection.emoji + curVal.slice(curPos);\n      },\n      editSelection: function editSelection(selection) {\n        var curPos = opt.editPickerTextEml.selectionStart;\n        var curVal = opt.editPickerTextEml.value;\n        opt.editPickerTextEml.value = curVal.slice(0, curPos) + selection.emoji + curVal.slice(curPos);\n      },\n      botReactSelection: function botReactSelection(selection) {\n        opt.botReactionElm.value = selection.emoji;\n      },\n      botReactBombSelection: function botReactBombSelection(selection) {\n        document.getElementById('bot_reaction_bomb_' + opt.botReactionBombIndex).value = selection.emoji;\n      }\n    };\n  return {\n    init: mounted.Initialize,\n    addReaction: methods.addReaction,\n    addMessage: methods.addMessage,\n    editMessage: methods.editMessage,\n    botActionReact: methods.botActionReact,\n    botActionReactBomb: methods.botActionReactBomb,\n    resetBotActionReactBomb: methods.resetBotActionReactBomb,\n    updateThemes: methods.updateThemes,\n    lock: function lock(arg) {\n      if (typeof arg === 'boolean') opt.lock = arg;\n    }\n  };\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi92ZW5kb3IvcnRpcHBpbi9tZXNzZW5nZXItdWkvcmVzb3VyY2VzL2pzL21vZHVsZXMvRW1vamlQaWNrZXIuanMiLCJtYXBwaW5ncyI6Ijs7QUFBdUQ7QUFFdkRDLE1BQU0sQ0FBQ0MsV0FBVyxHQUFJLFlBQVk7RUFDOUIsSUFBSUMsR0FBRyxHQUFHO01BQ0ZDLElBQUksRUFBRyxJQUFJO01BQ1hDLGNBQWMsRUFBRyxJQUFJO01BQ3JCQyxpQkFBaUIsRUFBRyxJQUFJO01BQ3hCQyxrQkFBa0IsRUFBRyxJQUFJO01BQ3pCQyxhQUFhLEVBQUcsSUFBSTtNQUNwQkMsY0FBYyxFQUFHLElBQUk7TUFDckJDLFVBQVUsRUFBRyxJQUFJO01BQ2pCQyxhQUFhLEVBQUcsSUFBSTtNQUNwQkMsaUJBQWlCLEVBQUcsSUFBSTtNQUN4QkMsaUJBQWlCLEVBQUcsSUFBSTtNQUN4QkMsY0FBYyxFQUFHLElBQUk7TUFDckJDLGNBQWMsRUFBRyxJQUFJO01BQ3JCQyxxQkFBcUIsRUFBRyxJQUFJO01BQzVCQyxvQkFBb0IsRUFBRztJQUMvQixDQUFDO0lBQ0RDLE9BQU8sR0FBRztNQUNOQyxVQUFVLEVBQUcsU0FBQUEsV0FBQSxFQUFZO1FBQ3JCaEIsR0FBRyxDQUFDQyxJQUFJLEdBQUcsS0FBSztNQUNwQjtJQUNKLENBQUM7SUFDRGdCLE9BQU8sR0FBRztNQUNOQyxZQUFZLEVBQUcsU0FBQUEsYUFBU0MsSUFBSSxFQUFDO1FBQ3pCLElBQUduQixHQUFHLENBQUNFLGNBQWMsS0FBSyxJQUFJLEVBQUM7VUFDM0JGLEdBQUcsQ0FBQ0UsY0FBYyxDQUFDa0IsUUFBUSxDQUFDRCxJQUFJLEdBQUcsTUFBTSxHQUFHLE9BQU8sQ0FBQztRQUN4RDtRQUNBLElBQUduQixHQUFHLENBQUNLLGFBQWEsS0FBSyxJQUFJLEVBQUM7VUFDMUJMLEdBQUcsQ0FBQ0ssYUFBYSxDQUFDZSxRQUFRLENBQUNELElBQUksR0FBRyxNQUFNLEdBQUcsT0FBTyxDQUFDO1FBQ3ZEO1FBQ0EsSUFBR25CLEdBQUcsQ0FB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Q0FBQ29DLEtBQUssR0FBR0MsU0FBUyxDQUFDSSxLQUFLO01BQ2xHO0lBQ0osQ0FBQztFQUNELE9BQU87SUFDSE0sSUFBSSxFQUFHOUMsT0FBTyxDQUFDQyxVQUFVO0lBQ3pCSyxXQUFXLEVBQUdKLE9BQU8sQ0FBQ0ksV0FBVztJQUNqQ2lCLFVBQVUsRUFBR3JCLE9BQU8sQ0FBQ3FCLFVBQVU7SUFDL0JJLFdBQVcsRUFBR3pCLE9BQU8sQ0FBQ3lCLFdBQVc7SUFDakNFLGNBQWMsRUFBRzNCLE9BQU8sQ0FBQzJCLGNBQWM7SUFDdkNFLGtCQUFrQixFQUFHN0IsT0FBTyxDQUFDNkIsa0JBQWtCO0lBQy9DRyx1QkFBdUIsRUFBR2hDLE9BQU8sQ0FBQ2dDLHVCQUF1QjtJQUN6RC9CLFlBQVksRUFBR0QsT0FBTyxDQUFDQyxZQUFZO0lBQ25DakIsSUFBSSxFQUFHLFNBQUFBLEtBQVM2RCxHQUFHLEVBQUM7TUFDaEIsSUFBRyxPQUFPQSxHQUFHLEtBQUssU0FBUyxFQUFFOUQsR0FBRyxDQUFDQyxJQUFJLEdBQUc2RCxHQUFHO0lBQy9DO0VBQ0osQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vdmVuZG9yL3J0aXBwaW4vbWVzc2VuZ2VyLXVpL3Jlc291cmNlcy9qcy9tb2R1bGVzL0Vtb2ppUGlja2VyLmpzPzdjOWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRW1vamlCdXR0b24gfSBmcm9tICdAam9lYXR0YXJkaS9lbW9qaS1idXR0b24nO1xuXG53aW5kb3cuRW1vamlQaWNrZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBvcHQgPSB7XG4gICAgICAgICAgICBsb2NrIDogdHJ1ZSxcbiAgICAgICAgICAgIHJlYWN0aW9uUGlja2VyIDogbnVsbCxcbiAgICAgICAgICAgIHJlYWN0aW9uTWVzc2FnZUlkIDogbnVsbCxcbiAgICAgICAgICAgIHJlYWN0aW9uTWVzc2FnZUVsbSA6IG51bGwsXG4gICAgICAgICAgICBtZXNzYWdlUGlja2VyIDogbnVsbCxcbiAgICAgICAgICAgIG1lc3NhZ2VUZXh0RWxtIDogbnVsbCxcbiAgICAgICAgICAgIGVkaXRQaWNrZXIgOiBudWxsLFxuICAgICAgICAgICAgZWRpdFBpY2tlckJ0biA6IG51bGwsXG4gICAgICAgICAgICBlZGl0UGlja2VyVGV4dEVtbCA6IG51bGwsXG4gICAgICAgICAgICBib3RSZWFjdGlvblBpY2tlciA6IG51bGwsXG4gICAgICAgICAgICBib3RSZWFjdGlvbkJ0biA6IG51bGwsXG4gICAgICAgICAgICBib3RSZWFjdGlvbkVsbSA6IG51bGwsXG4gICAgICAgICAgICBib3RSZWFjdGlvbkJvbWJQaWNrZXIgOiBudWxsLFxuICAgICAgICAgICAgYm90UmVhY3Rpb25Cb21iSW5kZXggOiAwLFxuICAgIH0sXG4gICAgbW91bnRlZCA9IHtcbiAgICAgICAgSW5pdGlhbGl6ZSA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG9wdC5sb2NrID0gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgfSxcbiAgICBtZXRob2RzID0ge1xuICAgICAgICB1cGRhdGVUaGVtZXMgOiBmdW5jdGlvbihkYXJrKXtcbiAgICAgICAgICAgIGlmKG9wdC5yZWFjdGlvblBpY2tlciAhPT0gbnVsbCl7XG4gICAgICAgICAgICAgICAgb3B0LnJlYWN0aW9uUGlja2VyLnNldFRoZW1lKGRhcmsgPyAnZGFyaycgOiAnbGlnaHQnKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYob3B0Lm1lc3NhZ2VQaWNrZXIgIT09IG51bGwpe1xuICAgICAgICAgICAgICAgIG9wdC5tZXNzYWdlUGlja2VyLnNldFRoZW1lKGRhcmsgPyAnZGFyaycgOiAnbGlnaHQnKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYob3B0LmVkaXRQaWNrZXIgIT09IG51bGwpe1xuICAgICAgICAgICAgICAgIG9wdC5lZGl0UGlja2VyLnNldFRoZW1lKGRhcmsgPyAnZGFyaycgOiAnbGlnaHQnKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYob3B0LmJvdFJlYWN0aW9uUGlja2VyICE9PSBudWxsKXtcbiAgICAgICAgICAgICAgICBvcHQuYm90UmVhY3Rpb25QaWNrZXIuc2V0VGhlbWUoZGFyayA/ICdkYXJrJyA6ICdsaWdodCcpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihvcHQuYm90UmVhY3Rpb25Cb21iUGlja2VyICE9PSBudWxsKXtcbiAgICAgICAgICAgICAgICBvcHQuYm90UmVhY3Rpb25Cb21iUGlja2VyLnNldFRoZW1lKGRhcmsgPyAnZGFyaycgOiAnbGlnaHQnKVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhZGRSZWFjdGlvbiA6IGZ1bmN0aW9uKG1lc3NhZ2VJZCl7XG4gICAgICAgICAgICBpZihvcHQucmVhY3Rpb25QaWNrZXIgPT09IG51bGwpe1xuICAgICAgICAgICAgICAgIG9wdC5yZWFjdGlvblBpY2tlciA9IG5ldyBFbW9qaUJ1dHRvbih7XG4gICAgICAgICAgICAgICAgICAgIHRoZW1lOiBNZXNzZW5nZXIuY29tbW9uKCkuZGFya19tb2RlID8gJ2RhcmsnIDogJ2xpZ2h0JyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBvcHQucmVhY3Rpb25QaWNrZXIub24oJ2Vtb2ppJywgbWV0aG9kcy5zZW5kUmVhY3Rpb24pO1xuICAgICAgICAgICAgICAgIG9wdC5yZWFjdGlvblBpY2tlci5vbignaGlkZGVuJywgbWV0aG9kcy5yZWFjdGlvblBpY2tlckhpZGRlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihvcHQucmVhY3Rpb25NZXNzYWdlSWQgIT09IG51bGwpe1xuICAgICAgICAgICAgICAgIG9wdC5yZWFjdGlvblBpY2tlci5oaWRlUGlja2VyKCk7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICBtZXRob2RzLmFkZFJlYWN0aW9uKG1lc3NhZ2VJZClcbiAgICAgICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdC5yZWFjdGlvbk1lc3NhZ2VJZCA9IG1lc3NhZ2VJZDtcbiAgICAgICAgICAgIG9wdC5yZWFjdGlvbk1lc3NhZ2VFbG0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVzc2FnZV8nK21lc3NhZ2VJZCkuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbWVzc2FnZS1ib2R5JylbMF07XG4gICAgICAgICAgICBvcHQucmVhY3Rpb25NZXNzYWdlRWxtLmNsYXNzTGlzdC5hZGQoJ3NoYWRvdy1wcmltYXJ5Jyk7XG4gICAgICAgICAgICBvcHQucmVhY3Rpb25QaWNrZXIuc2hvd1BpY2tlcihvcHQucmVhY3Rpb25NZXNzYWdlRWxtKTtcbiAgICAgICAgfSxcbiAgICAgICAgYWRkTWVzc2FnZSA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBpZihvcHQubWVzc2FnZVBpY2tlciA9PT0gbnVsbCl7XG4gICAgICAgICAgICAgICAgb3B0Lm1lc3NhZ2VQaWNrZXIgPSBuZXcgRW1vamlCdXR0b24oe1xuICAgICAgICAgICAgICAgICAgICB0aGVtZTogTWVzc2VuZ2VyLmNvbW1vbigpLmRhcmtfbW9kZSA/ICdkYXJrJyA6ICdsaWdodCcsXG4gICAgICAgICAgICAgICAgICAgIGF1dG9IaWRlIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wLWVuZCdcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBvcHQubWVzc2FnZVBpY2tlci5vbignZW1vamknLCBtZXRob2RzLm1lc3NhZ2VTZWxlY3Rpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3B0Lm1lc3NhZ2VUZXh0RWxtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lc3NhZ2VfdGV4dF9pbnB1dCcpO1xuICAgICAgICAgICAgb3B0Lm1lc3NhZ2VQaWNrZXIuc2hvd1BpY2tlcihvcHQubWVzc2FnZVRleHRFbG0pO1xuICAgICAgICB9LFxuICAgICAgICBlZGl0TWVzc2FnZSA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBpZihvcHQuZWRpdFBpY2tlciA9PT0gbnVsbCl7XG4gICAgICAgICAgICAgICAgb3B0LmVkaXRQaWNrZXIgPSBuZXcgRW1vamlCdXR0b24oe1xuICAgICAgICAgICAgICAgICAgICB0aGVtZTogTWVzc2VuZ2VyLmNvbW1vbigpLmRhcmtfbW9kZSA/ICdkYXJrJyA6ICdsaWdodCcsXG4gICAgICAgICAgICAgICAgICAgIGF1dG9IaWRlIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnYm90dG9tLWVuZCdcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBvcHQuZWRpdFBpY2tlci5vbignZW1vamknLCBtZXRob2RzLmVkaXRTZWxlY3Rpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3B0LmVkaXRQaWNrZXJUZXh0RW1sID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRfbWVzc2FnZV90ZXh0YXJlYScpO1xuICAgICAgICAgICAgb3B0LmVkaXRQaWNrZXJCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdF9tZXNzYWdlX2Vtb2ppX2J0bicpO1xuICAgICAgICAgICAgb3B0LmVkaXRQaWNrZXIuc2hvd1BpY2tlcihvcHQuZWRpdFBpY2tlckJ0bik7XG4gICAgICAgIH0sXG4gICAgICAgIGJvdEFjdGlvblJlYWN0IDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGlmKG9wdC5ib3RSZWFjdGlvblBpY2tlciA9PT0gbnVsbCl7XG4gICAgICAgICAgICAgICAgb3B0LmJvdFJlYWN0aW9uUGlja2VyID0gbmV3IEVtb2ppQnV0dG9uKHtcbiAgICAgICAgICAgICAgICAgICAgdGhlbWU6IE1lc3Nlbmdlci5jb21tb24oKS5kYXJrX21vZGUgPyAnZGFyaycgOiAnbGlnaHQnLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIG9wdC5ib3RSZWFjdGlvblBpY2tlci5vbignZW1vamknLCBtZXRob2RzLmJvdFJlYWN0U2VsZWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdC5ib3RSZWFjdGlvbkVsbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnX3NfYm90X3JlYWN0aW9uJyk7XG4gICAgICAgICAgICBvcHQuYm90UmVhY3Rpb25CdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYm90X3JlYWN0aW9uX2Vtb2ppX2J0bicpO1xuICAgICAgICAgICAgb3B0LmJvdFJlYWN0aW9uUGlja2VyLnNob3dQaWNrZXIob3B0LmJvdFJlYWN0aW9uQnRuKTtcbiAgICAgICAgfSxcbiAgICAgICAgYm90QWN0aW9uUmVhY3RCb21iIDogZnVuY3Rpb24oaW5kZXgpe1xuICAgICAgICAgICAgb3B0LmJvdFJlYWN0aW9uQm9tYkluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICBpZihvcHQuYm90UmVhY3Rpb25Cb21iUGlja2VyID09PSBudWxsKXtcbiAgICAgICAgICAgICAgICBvcHQuYm90UmVhY3Rpb25Cb21iUGlja2VyID0gbmV3IEVtb2ppQnV0dG9uKHtcbiAgICAgICAgICAgICAgICAgICAgdGhlbWU6IE1lc3Nlbmdlci5jb21tb24oKS5kYXJrX21vZGUgPyAnZGFyaycgOiAnbGlnaHQnLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIG9wdC5ib3RSZWFjdGlvbkJvbWJQaWNrZXIub24oJ2Vtb2ppJywgbWV0aG9kcy5ib3RSZWFjdEJvbWJTZWxlY3Rpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3B0LmJvdFJlYWN0aW9uQm9tYlBpY2tlci5zaG93UGlja2VyKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdib3RfcmVhY3Rpb25fYm9tYl9idG5fJytpbmRleCkpO1xuICAgICAgICB9LFxuICAgICAgICByZXNldEJvdEFjdGlvblJlYWN0Qm9tYiA6IGZ1bmN0aW9uKGluZGV4KXtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdib3RfcmVhY3Rpb25fYm9tYl8nK2luZGV4KS52YWx1ZSA9ICcnO1xuICAgICAgICB9LFxuICAgICAgICBzZW5kUmVhY3Rpb24gOiBmdW5jdGlvbihzZWxlY3Rpb24pe1xuICAgICAgICAgICAgVGhyZWFkTWFuYWdlci5hZGROZXdSZWFjdGlvbih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZV9pZCA6IG9wdC5yZWFjdGlvbk1lc3NhZ2VJZCxcbiAgICAgICAgICAgICAgICBlbW9qaSA6IHNlbGVjdGlvbi5lbW9qaVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlYWN0aW9uUGlja2VySGlkZGVuIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGlmKG9wdC5yZWFjdGlvbk1lc3NhZ2VFbG0gIT09IG51bGwpe1xuICAgICAgICAgICAgICAgIG9wdC5yZWFjdGlvbk1lc3NhZ2VFbG0uY2xhc3NMaXN0LnJlbW92ZSgnc2hhZG93LXByaW1hcnknKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdC5yZWFjdGlvbk1lc3NhZ2VJZCA9IG51bGw7XG4gICAgICAgICAgICBvcHQucmVhY3Rpb25NZXNzYWdlRWxtID0gbnVsbDtcbiAgICAgICAgfSxcbiAgICAgICAgbWVzc2FnZVNlbGVjdGlvbiA6IGZ1bmN0aW9uKHNlbGVjdGlvbil7XG4gICAgICAgICAgICBsZXQgY3VyUG9zID0gb3B0Lm1lc3NhZ2VUZXh0RWxtLnNlbGVjdGlvblN0YXJ0O1xuICAgICAgICAgICAgbGV0IGN1clZhbCA9IG9wdC5tZXNzYWdlVGV4dEVsbS52YWx1ZTtcbiAgICAgICAgICAgIG9wdC5tZXNzYWdlVGV4dEVsbS52YWx1ZSA9IGN1clZhbC5zbGljZSgwLGN1clBvcykrc2VsZWN0aW9uLmVtb2ppK2N1clZhbC5zbGljZShjdXJQb3MpXG4gICAgICAgIH0sXG4gICAgICAgIGVkaXRTZWxlY3Rpb24gOiBmdW5jdGlvbihzZWxlY3Rpb24pe1xuICAgICAgICAgICAgbGV0IGN1clBvcyA9IG9wdC5lZGl0UGlja2VyVGV4dEVtbC5zZWxlY3Rpb25TdGFydDtcbiAgICAgICAgICAgIGxldCBjdXJWYWwgPSBvcHQuZWRpdFBpY2tlclRleHRFbWwudmFsdWU7XG4gICAgICAgICAgICBvcHQuZWRpdFBpY2tlclRleHRFbWwudmFsdWUgPSBjdXJWYWwuc2xpY2UoMCxjdXJQb3MpK3NlbGVjdGlvbi5lbW9qaStjdXJWYWwuc2xpY2UoY3VyUG9zKVxuICAgICAgICB9LFxuICAgICAgICBib3RSZWFjdFNlbGVjdGlvbiA6IGZ1bmN0aW9uKHNlbGVjdGlvbil7XG4gICAgICAgICAgICBvcHQuYm90UmVhY3Rpb25FbG0udmFsdWUgPSBzZWxlY3Rpb24uZW1vamk7XG4gICAgICAgIH0sXG4gICAgICAgIGJvdFJlYWN0Qm9tYlNlbGVjdGlvbiA6IGZ1bmN0aW9uKHNlbGVjdGlvbil7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYm90X3JlYWN0aW9uX2JvbWJfJytvcHQuYm90UmVhY3Rpb25Cb21iSW5kZXgpLnZhbHVlID0gc2VsZWN0aW9uLmVtb2ppO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICBpbml0IDogbW91bnRlZC5Jbml0aWFsaXplLFxuICAgICAgICBhZGRSZWFjdGlvbiA6IG1ldGhvZHMuYWRkUmVhY3Rpb24sXG4gICAgICAgIGFkZE1lc3NhZ2UgOiBtZXRob2RzLmFkZE1lc3NhZ2UsXG4gICAgICAgIGVkaXRNZXNzYWdlIDogbWV0aG9kcy5lZGl0TWVzc2FnZSxcbiAgICAgICAgYm90QWN0aW9uUmVhY3QgOiBtZXRob2RzLmJvdEFjdGlvblJlYWN0LFxuICAgICAgICBib3RBY3Rpb25SZWFjdEJvbWIgOiBtZXRob2RzLmJvdEFjdGlvblJlYWN0Qm9tYixcbiAgICAgICAgcmVzZXRCb3RBY3Rpb25SZWFjdEJvbWIgOiBtZXRob2RzLnJlc2V0Qm90QWN0aW9uUmVhY3RCb21iLFxuICAgICAgICB1cGRhdGVUaGVtZXMgOiBtZXRob2RzLnVwZGF0ZVRoZW1lcyxcbiAgICAgICAgbG9jayA6IGZ1bmN0aW9uKGFyZyl7XG4gICAgICAgICAgICBpZih0eXBlb2YgYXJnID09PSAnYm9vbGVhbicpIG9wdC5sb2NrID0gYXJnXG4gICAgICAgIH1cbiAgICB9O1xufSgpKTsiXSwibmFtZXMiOlsiRW1vamlCdXR0b24iLCJ3aW5kb3ciLCJFbW9qaVBpY2tlciIsIm9wdCIsImxvY2siLCJyZWFjdGlvblBpY2tlciIsInJlYWN0aW9uTWVzc2FnZUlkIiwicmVhY3Rpb25NZXNzYWdlRWxtIiwibWVzc2FnZVBpY2tlciIsIm1lc3NhZ2VUZXh0RWxtIiwiZWRpdFBpY2tlciIsImVkaXRQaWNrZXJCdG4iLCJlZGl0UGlja2VyVGV4dEVtbCIsImJvdFJlYWN0aW9uUGlja2VyIiwiYm90UmVhY3Rpb25CdG4iLCJib3RSZWFjdGlvbkVsbSIsImJvdFJlYWN0aW9uQm9tYlBpY2tlciIsImJvdFJlYWN0aW9uQm9tYkluZGV4IiwibW91bnRlZCIsIkluaXRpYWxpemUiLCJtZXRob2RzIiwidXBkYXRlVGhlbWVzIiwiZGFyayIsInNldFRoZW1lIiwiYWRkUmVhY3Rpb24iLCJtZXNzYWdlSWQiLCJ0aGVtZSIsIk1lc3NlbmdlciIsImNvbW1vbiIsImRhcmtfbW9kZSIsIm9uIiwic2VuZFJlYWN0aW9uIiwicmVhY3Rpb25QaWNrZXJIaWRkZW4iLCJoaWRlUGlja2VyIiwic2V0VGltZW91dCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiY2xhc3NMaXN0IiwiYWRkIiwic2hvd1BpY2tlciIsImFkZE1lc3NhZ2UiLCJhdXRvSGlkZSIsInBvc2l0aW9uIiwibWVzc2FnZVNlbGVjdGlvbiIsImVkaXRNZXNzYWdlIiwiZWRpdFNlbGVjdGlvbiIsImJvdEFjdGlvblJlYWN0IiwiYm90UmVhY3RTZWxlY3Rpb24iLCJib3RBY3Rpb25SZWFjdEJvbWIiLCJpbmRleCIsImJvdFJlYWN0Qm9tYlNlbGVjdGlvbiIsInJlc2V0Qm90QWN0aW9uUmVhY3RCb21iIiwidmFsdWUiLCJzZWxlY3Rpb24iLCJUaHJlYWRNYW5hZ2VyIiwiYWRkTmV3UmVhY3Rpb24iLCJtZXNzYWdlX2lkIiwiZW1vamkiLCJyZW1vdmUiLCJjdXJQb3MiLCJzZWxlY3Rpb25TdGFydCIsImN1clZhbCIsInNsaWNlIiwiaW5pdCIsImFyZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./vendor/rtippin/messenger-ui/resources/js/modules/EmojiPicker.js\n");

/***/ }),

/***/ "./vendor/rtippin/messenger-ui/resources/js/modules/InviteJoin.js":
/*!************************************************************************!*\
  !*** ./vendor/rtippin/messenger-ui/resources/js/modules/InviteJoin.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("/* provided dependency */ var $ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\nwindow.InviteJoin = function () {\n  var opt = {\n      API: null,\n      lock: true,\n      invite: null,\n      elements: {\n        loading: $(\"#inv_loading\"),\n        loaded: $(\"#inv_loaded\"),\n        actions: $(\"#inv_actions_ctnr\"),\n        auth: $(\"#auth_flow\")\n      }\n    },\n    mounted = {\n      Initialize: function Initialize(arg) {\n        opt.lock = false;\n        opt.API = Messenger.common().API + 'join/' + arg.code;\n        methods.load();\n      }\n    },\n    methods = {\n      load: function load() {\n        Messenger.xhr().request({\n          route: opt.API,\n          success: function success(invite) {\n            if (invite.options.is_valid) {\n              opt.invite = invite;\n              opt.elements.loading.hide();\n              opt.elements.loaded.html(templates.header());\n              if (!invite.options.messenger_auth) {\n                opt.elements.auth.show();\n              } else {\n                opt.elements.actions.show();\n                if (invite.options.in_thread) {\n                  opt.elements.actions.html(templates.enter());\n                } else {\n                  opt.elements.actions.html(templates.join());\n                }\n              }\n              methods.setTitle(invite.options.messenger_auth);\n              PageListeners.listen().tooltips();\n            } else {\n              methods.bad();\n            }\n          },\n          fail: methods.bad,\n          bypass: true,\n          fail_alert: true\n        });\n      },\n      setTitle: function setTitle(auth) {\n        var title = 'Join ' + opt.invite.options.thread_name;\n        document.title = title;\n        if (auth) {\n          if (!Messenger.common().modules.includes('NotifyManager')) {\n            setTimeout(function () {\n              methods.setTitle(auth);\n            }, 500);\n            return;\n          }\n          NotifyManager.setTitle(title);\n        }\n      },\n      join: function join() {\n        if (opt.lock || !opt.invite || !opt.invite.options.is_valid || opt.invite.options.in_thread) {\n          return;\n        }\n        opt.lock = true;\n        opt.elements.actions.html(Messenger.alert().loader(true));\n        Messenger.xhr().payload({\n          route: opt.API,\n          data: {},\n          success: function success() {\n            window.location.replace(Messenger.common().WEB + '/' + opt.invite.thread_id);\n          },\n          fail: methods.bad,\n          bypass: true,\n          fail_alert: true\n        });\n      },\n      bad: function bad() {\n        opt.elements.loading.hide();\n        opt.elements.loaded.html(templates.failed());\n        opt.elements.actions.show();\n        opt.elements.actions.html(templates.exit());\n      }\n    },\n    templates = {\n      join: function join() {\n        return '<button onclick=\"window.location.href = \\'' + Messenger.common().WEB + '\\';\" type=\"button\" data-toggle=\"tooltip\" data-placement=\"left\" title=\"Cancel\" class=\"mx-3 mb-4 shadow-lg btn btn-circle btn-circle-xl btn-danger\">No <i class=\"fas fa-times\"></i></button>\\n' + '<button onclick=\"InviteJoin.join()\" type=\"button\" data-toggle=\"tooltip\" data-placement=\"right\" title=\"Join Group!\" class=\"mx-3 mb-4 shadow-lg btn btn-circle btn-circle-xl btn-success\">Join <i class=\"fas fa-users\"></i></button>';\n      },\n      enter: function enter() {\n        return '<button onclick=\"window.location.href=\\'' + Messenger.common().WEB + '/' + opt.invite.thread_id + '\\'\" type=\"button\" data-toggle=\"tooltip\"\\n' + ' data-placement=\"bottom\" title=\"View Group\" class=\"shadow-lg btn btn-circle btn-circle-xl btn-success\">Enter <i class=\"fas fa-users\"></i></button>';\n      },\n      exit: function exit() {\n        return '<button onclick=\"window.location.href = \\'/\\';\" type=\"button\" data-toggle=\"tooltip\" data-placement=\"left\" title=\"Cancel\" class=\"mx-3 mb-4 shadow-lg btn btn-circle btn-circle-xl btn-danger\">Exit <i class=\"fas fa-times\"></i></button>';\n      },\n      failed: function failed() {\n        return '<div class=\"float-right d-none d-sm-block pl-2\">\\n' + ' <img class=\"pl-2\" id=\"FSlog\" height=\"95\" src=\"' + [window.location.protocol, '//', window.location.host].join('') + '/vendor/messenger/images/messenger.png\">\\n' + ' </div>' + '<h1 class=\"display-4\"><i class=\"fas fa-exclamation-triangle\"></i> Invalid Invite</h1>\\n' + ' <p class=\"h3 mt-4\">\\n' + '  <i class=\"far fa-dot-circle\"></i>\\n' + ' The invite you requested is expired or not found.' + ' </p>';\n      },\n      header: function header() {\n        return '<div class=\"float-right d-none d-sm-block ml-2\">\\n' + ' <img onclick=\"Messenger.alert().showAvatar(\\'' + opt.invite.options.thread_name + '\\', \\'' + opt.invite.options.avatar.lg + '\\')\" class=\"rounded pointer_area\" id=\"FSlog\" height=\"105\" width=\"105\" src=\"' + opt.invite.options.avatar.sm + '\">\\n' + ' </div>' + '<h1 class=\"display-4\"><i class=\"fas fa-users\"></i> ' + opt.invite.options.thread_name + '</h1>\\n' + '<div class=\"text-center d-block d-sm-none mt-4\">\\n' + ' <img onclick=\"Messenger.alert().showAvatar(\\'' + opt.invite.options.thread_name + '\\', \\'' + opt.invite.options.avatar.lg + '\\')\" class=\"rounded pointer_area\" id=\"FSlog\" height=\"75\" width=\"75\" src=\"' + opt.invite.options.avatar.sm + '\">\\n' + ' </div>' + ' <p class=\"h3 mt-4\">\\n' + '  <i class=\"far fa-dot-circle\"></i>\\n' + templates.message() + ' </p>';\n      },\n      message: function message() {\n        if (!opt.invite.options.messenger_auth) {\n          return 'Before you may join the group, you must log in or sign up below.';\n        }\n        if (opt.invite.options.in_thread) {\n          return 'You are already in this group.';\n        }\n        return 'Select an option below. Once joined, you will be redirected into the group.';\n      }\n    };\n  return {\n    init: mounted.Initialize,\n    join: methods.join,\n    lock: function lock(arg) {\n      if (typeof arg === 'boolean') opt.lock = arg;\n    }\n  };\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi92ZW5kb3IvcnRpcHBpbi9tZXNzZW5nZXItdWkvcmVzb3VyY2VzL2pzL21vZHVsZXMvSW52aXRlSm9pbi5qcyIsIm1hcHBpbmdzIjoiO0FBQUFBLE1BQU0sQ0FBQ0MsVUFBVSxHQUFJLFlBQVk7RUFDN0IsSUFBSUMsR0FBRyxHQUFHO01BQ05DLEdBQUcsRUFBRyxJQUFJO01BQ1ZDLElBQUksRUFBRyxJQUFJO01BQ1hDLE1BQU0sRUFBRyxJQUFJO01BQ2JDLFFBQVEsRUFBRztRQUNQQyxPQUFPLEVBQUdDLENBQUMsQ0FBQyxjQUFjLENBQUM7UUFDM0JDLE1BQU0sRUFBR0QsQ0FBQyxDQUFDLGFBQWEsQ0FBQztRQUN6QkUsT0FBTyxFQUFHRixDQUFDLENBQUMsbUJBQW1CLENBQUM7UUFDaENHLElBQUksRUFBR0gsQ0FBQyxDQUFDLFlBQVk7TUFFekI7SUFDSixDQUFDO0lBQ0RJLE9BQU8sR0FBRztNQUNOQyxVQUFVLEVBQUcsU0FBQUEsV0FBVUMsR0FBRyxFQUFFO1FBQ3hCWixHQUFHLENBQUNFLElBQUksR0FBRyxLQUFLO1FBQ2hCRixHQUFHLENBQUNDLEdBQUcsR0FBR1ksU0FBUyxDQUFDQyxNQUFNLENBQUMsQ0FBQyxDQUFDYixHQUFHLEdBQUcsT0FBTyxHQUFHVyxHQUFHLENBQUNHLElBQUk7UUFDckRDLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDLENBQUM7TUFDbEI7SUFDSixDQUFDO0lBQ0RELE9BQU8sR0FBRztNQUNOQyxJQUFJLEVBQUcsU0FBQUEsS0FBQSxFQUFVO1FBQ2JKLFNBQVMsQ0FBQ0ssR0FBRyxDQUFDLENBQUMsQ0FBQ0MsT0FBTyxDQUFDO1VBQ3BCQyxLQUFLLEVBQUdwQixHQUFHLENBQUNDLEdBQUc7VUFDZm9CLE9BQU8sRUFBRyxTQUFBQSxRQUFVbEIsTUFBTSxFQUFFO1lBQ3hCLElBQUdBLE1BQU0sQ0FBQ21CLE9BQU8sQ0FBQ0MsUUFBUSxFQUFDO2NBQ3ZCdkIsR0FBRyxDQUFDRyxNQUFNLEdBQUdBLE1BQU07Y0FDbkJILEdBQUcsQ0FBQ0ks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O01BQ2YsQ0FBQztNQUNEQSxPQUFPLEVBQUcsU0FBQUEsUUFBQSxFQUFVO1FBQ2hCLElBQUcsQ0FBQy9ELEdBQUcsQ0FBQ0csTUFBTSxDQUFDbUIsT0FBTyxDQUFDTSxjQUFjLEVBQUM7VUFDbEMsT0FBTyxrRUFBa0U7UUFDN0U7UUFDQSxJQUFHNUIsR0FBRyxDQUFDRyxNQUFNLENBQUNtQixPQUFPLENBQUNRLFNBQVMsRUFBQztVQUM1QixPQUFPLGdDQUFnQztRQUMzQztRQUNBLE9BQU8sNkVBQTZFO01BQ3hGO0lBQ0osQ0FBQztFQUNELE9BQU87SUFDSGtDLElBQUksRUFBR3RELE9BQU8sQ0FBQ0MsVUFBVTtJQUN6QnFCLElBQUksRUFBR2hCLE9BQU8sQ0FBQ2dCLElBQUk7SUFDbkI5QixJQUFJLEVBQUcsU0FBQUEsS0FBU1UsR0FBRyxFQUFDO01BQ2hCLElBQUcsT0FBT0EsR0FBRyxLQUFLLFNBQVMsRUFBRVosR0FBRyxDQUFDRSxJQUFJLEdBQUdVLEdBQUc7SUFDL0M7RUFDSixDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi92ZW5kb3IvcnRpcHBpbi9tZXNzZW5nZXItdWkvcmVzb3VyY2VzL2pzL21vZHVsZXMvSW52aXRlSm9pbi5qcz83NDc1Il0sInNvdXJjZXNDb250ZW50IjpbIndpbmRvdy5JbnZpdGVKb2luID0gKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgb3B0ID0ge1xuICAgICAgICBBUEkgOiBudWxsLFxuICAgICAgICBsb2NrIDogdHJ1ZSxcbiAgICAgICAgaW52aXRlIDogbnVsbCxcbiAgICAgICAgZWxlbWVudHMgOiB7XG4gICAgICAgICAgICBsb2FkaW5nIDogJChcIiNpbnZfbG9hZGluZ1wiKSxcbiAgICAgICAgICAgIGxvYWRlZCA6ICQoXCIjaW52X2xvYWRlZFwiKSxcbiAgICAgICAgICAgIGFjdGlvbnMgOiAkKFwiI2ludl9hY3Rpb25zX2N0bnJcIiksXG4gICAgICAgICAgICBhdXRoIDogJChcIiNhdXRoX2Zsb3dcIilcblxuICAgICAgICB9XG4gICAgfSxcbiAgICBtb3VudGVkID0ge1xuICAgICAgICBJbml0aWFsaXplIDogZnVuY3Rpb24gKGFyZykge1xuICAgICAgICAgICAgb3B0LmxvY2sgPSBmYWxzZTtcbiAgICAgICAgICAgIG9wdC5BUEkgPSBNZXNzZW5nZXIuY29tbW9uKCkuQVBJICsgJ2pvaW4vJyArIGFyZy5jb2RlO1xuICAgICAgICAgICAgbWV0aG9kcy5sb2FkKClcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbWV0aG9kcyA9IHtcbiAgICAgICAgbG9hZCA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBNZXNzZW5nZXIueGhyKCkucmVxdWVzdCh7XG4gICAgICAgICAgICAgICAgcm91dGUgOiBvcHQuQVBJLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbiAoaW52aXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmKGludml0ZS5vcHRpb25zLmlzX3ZhbGlkKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdC5pbnZpdGUgPSBpbnZpdGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHQuZWxlbWVudHMubG9hZGluZy5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHQuZWxlbWVudHMubG9hZGVkLmh0bWwodGVtcGxhdGVzLmhlYWRlcigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFpbnZpdGUub3B0aW9ucy5tZXNzZW5nZXJfYXV0aCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLmF1dGguc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHQuZWxlbWVudHMuYWN0aW9ucy5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoaW52aXRlLm9wdGlvbnMuaW5fdGhyZWFkKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLmFjdGlvbnMuaHRtbCh0ZW1wbGF0ZXMuZW50ZXIoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLmFjdGlvbnMuaHRtbCh0ZW1wbGF0ZXMuam9pbigpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZHMuc2V0VGl0bGUoaW52aXRlLm9wdGlvbnMubWVzc2VuZ2VyX2F1dGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgUGFnZUxpc3RlbmVycy5saXN0ZW4oKS50b29sdGlwcygpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZHMuYmFkKClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmFpbCA6IG1ldGhvZHMuYmFkLFxuICAgICAgICAgICAgICAgIGJ5cGFzcyA6IHRydWUsXG4gICAgICAgICAgICAgICAgZmFpbF9hbGVydCA6IHRydWVcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIHNldFRpdGxlIDogZnVuY3Rpb24oYXV0aCl7XG4gICAgICAgICAgICBsZXQgdGl0bGUgPSAnSm9pbiAnICsgb3B0Lmludml0ZS5vcHRpb25zLnRocmVhZF9uYW1lO1xuICAgICAgICAgICAgZG9jdW1lbnQudGl0bGUgPSB0aXRsZTtcbiAgICAgICAgICAgIGlmKGF1dGgpe1xuICAgICAgICAgICAgICAgIGlmKCFNZXNzZW5nZXIuY29tbW9uKCkubW9kdWxlcy5pbmNsdWRlcygnTm90aWZ5TWFuYWdlcicpKXtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kcy5zZXRUaXRsZShhdXRoKVxuICAgICAgICAgICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIE5vdGlmeU1hbmFnZXIuc2V0VGl0bGUodGl0bGUpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGpvaW4gOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgaWYob3B0LmxvY2sgfHwgIW9wdC5pbnZpdGUgfHwgIW9wdC5pbnZpdGUub3B0aW9ucy5pc192YWxpZCB8fCBvcHQuaW52aXRlLm9wdGlvbnMuaW5fdGhyZWFkKXtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcHQubG9jayA9IHRydWU7XG4gICAgICAgICAgICBvcHQuZWxlbWVudHMuYWN0aW9ucy5odG1sKE1lc3Nlbmdlci5hbGVydCgpLmxvYWRlcih0cnVlKSk7XG4gICAgICAgICAgICBNZXNzZW5nZXIueGhyKCkucGF5bG9hZCh7XG4gICAgICAgICAgICAgICAgcm91dGUgOiBvcHQuQVBJLFxuICAgICAgICAgICAgICAgIGRhdGEgOiB7fSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZShNZXNzZW5nZXIuY29tbW9uKCkuV0VCICsgJy8nICsgb3B0Lmludml0ZS50aHJlYWRfaWQpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmYWlsIDogbWV0aG9kcy5iYWQsXG4gICAgICAgICAgICAgICAgYnlwYXNzIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBmYWlsX2FsZXJ0IDogdHJ1ZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgYmFkIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIG9wdC5lbGVtZW50cy5sb2FkaW5nLmhpZGUoKTtcbiAgICAgICAgICAgIG9wdC5lbGVtZW50cy5sb2FkZWQuaHRtbCh0ZW1wbGF0ZXMuZmFpbGVkKCkpO1xuICAgICAgICAgICAgb3B0LmVsZW1lbnRzLmFjdGlvbnMuc2hvdygpO1xuICAgICAgICAgICAgb3B0LmVsZW1lbnRzLmFjdGlvbnMuaHRtbCh0ZW1wbGF0ZXMuZXhpdCgpKVxuICAgICAgICB9XG4gICAgfSxcbiAgICB0ZW1wbGF0ZXMgPSB7XG4gICAgICAgIGpvaW4gOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuICc8YnV0dG9uIG9uY2xpY2s9XCJ3aW5kb3cubG9jYXRpb24uaHJlZiA9IFxcJycrTWVzc2VuZ2VyLmNvbW1vbigpLldFQisnXFwnO1wiIHR5cGU9XCJidXR0b25cIiBkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIiBkYXRhLXBsYWNlbWVudD1cImxlZnRcIiB0aXRsZT1cIkNhbmNlbFwiIGNsYXNzPVwibXgtMyBtYi00IHNoYWRvdy1sZyBidG4gYnRuLWNpcmNsZSBidG4tY2lyY2xlLXhsIGJ0bi1kYW5nZXJcIj5ObyA8aSBjbGFzcz1cImZhcyBmYS10aW1lc1wiPjwvaT48L2J1dHRvbj5cXG4nICtcbiAgICAgICAgICAgICAgICAnPGJ1dHRvbiBvbmNsaWNrPVwiSW52aXRlSm9pbi5qb2luKClcIiB0eXBlPVwiYnV0dG9uXCIgZGF0YS10b2dnbGU9XCJ0b29sdGlwXCIgZGF0YS1wbGFjZW1lbnQ9XCJyaWdodFwiIHRpdGxlPVwiSm9pbiBHcm91cCFcIiBjbGFzcz1cIm14LTMgbWItNCBzaGFkb3ctbGcgYnRuIGJ0bi1jaXJjbGUgYnRuLWNpcmNsZS14bCBidG4tc3VjY2Vzc1wiPkpvaW4gPGkgY2xhc3M9XCJmYXMgZmEtdXNlcnNcIj48L2k+PC9idXR0b24+JztcbiAgICAgICAgfSxcbiAgICAgICAgZW50ZXIgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuICc8YnV0dG9uIG9uY2xpY2s9XCJ3aW5kb3cubG9jYXRpb24uaHJlZj1cXCcnK01lc3Nlbmdlci5jb21tb24oKS5XRUIrJy8nK29wdC5pbnZpdGUudGhyZWFkX2lkKydcXCdcIiB0eXBlPVwiYnV0dG9uXCIgZGF0YS10b2dnbGU9XCJ0b29sdGlwXCJcXG4nICtcbiAgICAgICAgICAgICAgICAnIGRhdGEtcGxhY2VtZW50PVwiYm90dG9tXCIgdGl0bGU9XCJWaWV3IEdyb3VwXCIgY2xhc3M9XCJzaGFkb3ctbGcgYnRuIGJ0bi1jaXJjbGUgYnRuLWNpcmNsZS14bCBidG4tc3VjY2Vzc1wiPkVudGVyIDxpIGNsYXNzPVwiZmFzIGZhLXVzZXJzXCI+PC9pPjwvYnV0dG9uPic7XG4gICAgICAgIH0sXG4gICAgICAgIGV4aXQgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuICc8YnV0dG9uIG9uY2xpY2s9XCJ3aW5kb3cubG9jYXRpb24uaHJlZiA9IFxcJy9cXCc7XCIgdHlwZT1cImJ1dHRvblwiIGRhdGEtdG9nZ2xlPVwidG9vbHRpcFwiIGRhdGEtcGxhY2VtZW50PVwibGVmdFwiIHRpdGxlPVwiQ2FuY2VsXCIgY2xhc3M9XCJteC0zIG1iLTQgc2hhZG93LWxnIGJ0biBidG4tY2lyY2xlIGJ0bi1jaXJjbGUteGwgYnRuLWRhbmdlclwiPkV4aXQgPGkgY2xhc3M9XCJmYXMgZmEtdGltZXNcIj48L2k+PC9idXR0b24+JztcbiAgICAgICAgfSxcbiAgICAgICAgZmFpbGVkIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiAnPGRpdiBjbGFzcz1cImZsb2F0LXJpZ2h0IGQtbm9uZSBkLXNtLWJsb2NrIHBsLTJcIj5cXG4nICtcbiAgICAgICAgICAgICAgICAnIDxpbWcgY2xhc3M9XCJwbC0yXCIgaWQ9XCJGU2xvZ1wiIGhlaWdodD1cIjk1XCIgc3JjPVwiJytbd2luZG93LmxvY2F0aW9uLnByb3RvY29sLCAnLy8nLCB3aW5kb3cubG9jYXRpb24uaG9zdF0uam9pbignJykrJy92ZW5kb3IvbWVzc2VuZ2VyL2ltYWdlcy9tZXNzZW5nZXIucG5nXCI+XFxuJyArXG4gICAgICAgICAgICAgICAgJyA8L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAnPGgxIGNsYXNzPVwiZGlzcGxheS00XCI+PGkgY2xhc3M9XCJmYXMgZmEtZXhjbGFtYXRpb24tdHJpYW5nbGVcIj48L2k+IEludmFsaWQgSW52aXRlPC9oMT5cXG4nICtcbiAgICAgICAgICAgICAgICAnIDxwIGNsYXNzPVwiaDMgbXQtNFwiPlxcbicgK1xuICAgICAgICAgICAgICAgICcgIDxpIGNsYXNzPVwiZmFyIGZhLWRvdC1jaXJjbGVcIj48L2k+XFxuJyArXG4gICAgICAgICAgICAgICAgJyBUaGUgaW52aXRlIHlvdSByZXF1ZXN0ZWQgaXMgZXhwaXJlZCBvciBub3QgZm91bmQuJytcbiAgICAgICAgICAgICAgICAnIDwvcD4nO1xuICAgICAgICB9LFxuICAgICAgICBoZWFkZXIgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuICc8ZGl2IGNsYXNzPVwiZmxvYXQtcmlnaHQgZC1ub25lIGQtc20tYmxvY2sgbWwtMlwiPlxcbicgK1xuICAgICAgICAgICAgICAgICcgPGltZyBvbmNsaWNrPVwiTWVzc2VuZ2VyLmFsZXJ0KCkuc2hvd0F2YXRhcihcXCcnK29wdC5pbnZpdGUub3B0aW9ucy50aHJlYWRfbmFtZSsnXFwnLCBcXCcnK29wdC5pbnZpdGUub3B0aW9ucy5hdmF0YXIubGcrJ1xcJylcIiBjbGFzcz1cInJvdW5kZWQgcG9pbnRlcl9hcmVhXCIgaWQ9XCJGU2xvZ1wiIGhlaWdodD1cIjEwNVwiIHdpZHRoPVwiMTA1XCIgc3JjPVwiJytvcHQuaW52aXRlLm9wdGlvbnMuYXZhdGFyLnNtKydcIj5cXG4nICtcbiAgICAgICAgICAgICAgICAnIDwvZGl2PicgK1xuICAgICAgICAgICAgICAgICc8aDEgY2xhc3M9XCJkaXNwbGF5LTRcIj48aSBjbGFzcz1cImZhcyBmYS11c2Vyc1wiPjwvaT4gJytvcHQuaW52aXRlLm9wdGlvbnMudGhyZWFkX25hbWUrJzwvaDE+XFxuJyArXG4gICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJ0ZXh0LWNlbnRlciBkLWJsb2NrIGQtc20tbm9uZSBtdC00XCI+XFxuJyArXG4gICAgICAgICAgICAgICAgJyA8aW1nIG9uY2xpY2s9XCJNZXNzZW5nZXIuYWxlcnQoKS5zaG93QXZhdGFyKFxcJycrb3B0Lmludml0ZS5vcHRpb25zLnRocmVhZF9uYW1lKydcXCcsIFxcJycrb3B0Lmludml0ZS5vcHRpb25zLmF2YXRhci5sZysnXFwnKVwiIGNsYXNzPVwicm91bmRlZCBwb2ludGVyX2FyZWFcIiBpZD1cIkZTbG9nXCIgaGVpZ2h0PVwiNzVcIiB3aWR0aD1cIjc1XCIgc3JjPVwiJytvcHQuaW52aXRlLm9wdGlvbnMuYXZhdGFyLnNtKydcIj5cXG4nICtcbiAgICAgICAgICAgICAgICAnIDwvZGl2PicgK1xuICAgICAgICAgICAgICAgICcgPHAgY2xhc3M9XCJoMyBtdC00XCI+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgPGkgY2xhc3M9XCJmYXIgZmEtZG90LWNpcmNsZVwiPjwvaT5cXG4nICtcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVzLm1lc3NhZ2UoKStcbiAgICAgICAgICAgICAgICAnIDwvcD4nO1xuICAgICAgICB9LFxuICAgICAgICBtZXNzYWdlIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGlmKCFvcHQuaW52aXRlLm9wdGlvbnMubWVzc2VuZ2VyX2F1dGgpe1xuICAgICAgICAgICAgICAgIHJldHVybiAnQmVmb3JlIHlvdSBtYXkgam9pbiB0aGUgZ3JvdXAsIHlvdSBtdXN0IGxvZyBpbiBvciBzaWduIHVwIGJlbG93LidcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKG9wdC5pbnZpdGUub3B0aW9ucy5pbl90aHJlYWQpe1xuICAgICAgICAgICAgICAgIHJldHVybiAnWW91IGFyZSBhbHJlYWR5IGluIHRoaXMgZ3JvdXAuJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAnU2VsZWN0IGFuIG9wdGlvbiBiZWxvdy4gT25jZSBqb2luZWQsIHlvdSB3aWxsIGJlIHJlZGlyZWN0ZWQgaW50byB0aGUgZ3JvdXAuJztcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW5pdCA6IG1vdW50ZWQuSW5pdGlhbGl6ZSxcbiAgICAgICAgam9pbiA6IG1ldGhvZHMuam9pbixcbiAgICAgICAgbG9jayA6IGZ1bmN0aW9uKGFyZyl7XG4gICAgICAgICAgICBpZih0eXBlb2YgYXJnID09PSAnYm9vbGVhbicpIG9wdC5sb2NrID0gYXJnXG4gICAgICAgIH1cbiAgICB9O1xufSgpKTsiXSwibmFtZXMiOlsid2luZG93IiwiSW52aXRlSm9pbiIsIm9wdCIsIkFQSSIsImxvY2siLCJpbnZpdGUiLCJlbGVtZW50cyIsImxvYWRpbmciLCIkIiwibG9hZGVkIiwiYWN0aW9ucyIsImF1dGgiLCJtb3VudGVkIiwiSW5pdGlhbGl6ZSIsImFyZyIsIk1lc3NlbmdlciIsImNvbW1vbiIsImNvZGUiLCJtZXRob2RzIiwibG9hZCIsInhociIsInJlcXVlc3QiLCJyb3V0ZSIsInN1Y2Nlc3MiLCJvcHRpb25zIiwiaXNfdmFsaWQiLCJoaWRlIiwiaHRtbCIsInRlbXBsYXRlcyIsImhlYWRlciIsIm1lc3Nlbmdlcl9hdXRoIiwic2hvdyIsImluX3RocmVhZCIsImVudGVyIiwiam9pbiIsInNldFRpdGxlIiwiUGFnZUxpc3RlbmVycyIsImxpc3RlbiIsInRvb2x0aXBzIiwiYmFkIiwiZmFpbCIsImJ5cGFzcyIsImZhaWxfYWxlcnQiLCJ0aXRsZSIsInRocmVhZF9uYW1lIiwiZG9jdW1lbnQiLCJtb2R1bGVzIiwiaW5jbHVkZXMiLCJzZXRUaW1lb3V0IiwiTm90aWZ5TWFuYWdlciIsImFsZXJ0IiwibG9hZGVyIiwicGF5bG9hZCIsImRhdGEiLCJsb2NhdGlvbiIsInJlcGxhY2UiLCJXRUIiLCJ0aHJlYWRfaWQiLCJmYWlsZWQiLCJleGl0IiwicHJvdG9jb2wiLCJob3N0IiwiYXZhdGFyIiwibGciLCJzbSIsIm1lc3NhZ2UiLCJpbml0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./vendor/rtippin/messenger-ui/resources/js/modules/InviteJoin.js\n");

/***/ }),

/***/ "./vendor/rtippin/messenger-ui/resources/js/modules/MessengerSettings.js":
/*!*******************************************************************************!*\
  !*** ./vendor/rtippin/messenger-ui/resources/js/modules/MessengerSettings.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("/* provided dependency */ var $ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\nwindow.MessengerSettings = function () {\n  var opt = {\n      lock: true,\n      elements: {\n        profile_avatar_upload: null\n      }\n    },\n    mounted = {\n      Initialize: function Initialize() {\n        $('body').append(templates.avatar_input());\n        opt.elements.profile_avatar_upload = document.getElementById('profile_avatar_upload');\n        opt.elements.profile_avatar_upload.addEventListener('change', methods.uploadProfileAvatar, false);\n        opt.lock = false;\n      }\n    },\n    methods = {\n      load: function load() {\n        if (opt.lock) return;\n        Messenger.alert().Modal({\n          backdrop_ctrl: false,\n          theme: 'dark',\n          icon: 'cog',\n          title: 'Loading Settings...',\n          pre_loader: true,\n          h4: false,\n          cb_btn_txt: 'Save Settings',\n          cb_btn_icon: 'save',\n          cb_btn_theme: 'success',\n          onReady: function onReady() {\n            Messenger.xhr().request({\n              route: Messenger.common().API + 'settings',\n              success: function success(data) {\n                Messenger.alert().fillModal({\n                  title: 'General Settings',\n                  body: templates.settings(data)\n                });\n                PageListeners.listen().tooltips();\n                $(\".m_setting_toggle\").change(function () {\n                  $(this).is(':checked') ? $(this).closest('tr').addClass('bg-light') : $(this).closest('tr').removeClass('bg-light');\n                });\n              }\n            });\n          },\n          callback: methods.saveSettings\n        });\n      },\n      saveSettings: function saveSettings() {\n        if (opt.lock) return;\n        opt.lock = true;\n        Messenger.xhr().payload({\n          route: Messenger.common().API + 'settings',\n          data: {\n            message_popups: $(\"#message_popups\").is(\":checked\"),\n            message_sound: $(\"#message_sounds\").is(\":checked\"),\n            call_ringtone_sound: $(\"#call_ringtone_sound\").is(\":checked\"),\n            notify_sound: $(\"#notify_sound\").is(\":checked\"),\n            dark_mode: $(\"#dark_mode\").is(\":checked\"),\n            online_status: parseInt($('input[name=\"online_status\"]:checked').val())\n          },\n          success: methods.updateSettings,\n          fail_alert: true,\n          close_modal: true\n        }, 'put');\n      },\n      updateSettings: function updateSettings(data) {\n        if (Messenger.common().modules.includes('ThreadManager')) ThreadManager.state().statusSetting(data.online_status);\n        PageListeners.listen().tooltips();\n        if (Messenger.common().modules.includes('NotifyManager')) NotifyManager.settings(data);\n        Messenger.alert().Alert({\n          title: 'Updated your settings',\n          toast: true\n        });\n        Messenger.handle().switchCss(data.dark_mode);\n      },\n      uploadProfileAvatar: function uploadProfileAvatar() {\n        if (opt.lock || !opt.elements.profile_avatar_upload.files.length) return;\n        opt.lock = true;\n        var data = new FormData();\n        data.append('image', opt.elements.profile_avatar_upload.files[0]);\n        PageListeners.listen().disposeTooltips();\n        if (!$('#main_modal').length) {\n          Messenger.alert().Modal({\n            size: 'sm',\n            icon: 'cloud-upload-alt',\n            pre_loader: true,\n            centered: true,\n            unlock_buttons: false,\n            allow_close: false,\n            backdrop_ctrl: false,\n            title: 'Uploading...',\n            theme: 'primary'\n          });\n        } else {\n          Messenger.alert().fillModal({\n            loader: true,\n            no_close: true,\n            body: null,\n            title: 'Uploading...'\n          });\n        }\n        Messenger.xhr().payload({\n          route: Messenger.common().API + 'avatar',\n          data: data,\n          success: methods.manageNewAvatar,\n          fail_alert: true,\n          close_modal: true\n        });\n      },\n      removeProfileAvatarCheck: function removeProfileAvatarCheck() {\n        if (opt.lock) return;\n        Messenger.alert().Modal({\n          backdrop_ctrl: false,\n          size: 'sm',\n          body: false,\n          centered: true,\n          unlock_buttons: false,\n          title: 'Remove Avatar?',\n          theme: 'danger',\n          cb_btn_txt: 'Remove',\n          cb_btn_theme: 'danger',\n          cb_btn_icon: 'trash',\n          icon: 'trash',\n          callback: methods.removeProfileAvatar\n        });\n      },\n      removeProfileAvatar: function removeProfileAvatar() {\n        Messenger.xhr().payload({\n          route: Messenger.common().API + 'avatar',\n          data: {},\n          success: methods.manageNewAvatar,\n          fail_alert: true,\n          close_modal: true\n        }, 'delete');\n      },\n      manageNewAvatar: function manageNewAvatar(data) {\n        if (data) {\n          Messenger.forms().updateSlug(data.owner.avatar.sm);\n          $('.my-global-avatar').attr('src', data.owner.avatar.sm);\n          opt.elements.profile_avatar_upload.value = '';\n          Messenger.alert().Alert({\n            toast: true,\n            theme: 'success',\n            title: 'Your avatar has been updated'\n          });\n        } else {\n          window.location.reload();\n        }\n      }\n    },\n    templates = {\n      settings: function settings(data) {\n        return '<div class=\"form-row\">\\n' + '<div class=\"col-6\"><label class=\"control-label d-block h5 font-weight-bold\" for=\"online_status_switch\">Online Status</label>\\n' + '<div id=\"online_status_switch\" class=\"btn-group btn-group-toggle\" data-toggle=\"buttons\">\\n' + '<label data-toggle=\"tooltip\" title=\"Online\" data-placement=\"left\" class=\"pointer_area btn btn-success ' + (data.online_status === 1 ? 'active glowing_btn' : '') + '\">\\n' + '<input type=\"radio\" name=\"online_status\" value=\"1\" autocomplete=\"off\" ' + (data.online_status === 1 ? 'checked' : '') + '><i class=\"fas fa-wifi\"></i>\\n' + '</label>\\n' + '<label data-toggle=\"tooltip\" title=\"Away\" data-placement=\"bottom\" class=\"pointer_area btn btn-danger ' + (data.online_status === 2 ? 'active glowing_btn' : '') + '\">\\n' + '<input type=\"radio\" name=\"online_status\" value=\"2\" autocomplete=\"off\" ' + (data.online_status === 2 ? 'checked' : '') + '><i class=\"fas fa-user-slash\"></i>\\n' + '</label>\\n' + '<label data-toggle=\"tooltip\" title=\"Offline\" data-placement=\"right\" class=\"pointer_area btn btn-secondary ' + (data.online_status === 0 ? 'active glowing_btn' : '') + '\">\\n' + '<input type=\"radio\" name=\"online_status\" value=\"0\" autocomplete=\"off\" ' + (data.online_status === 0 ? 'checked' : '') + '><i class=\"fas fa-power-off\"></i>\\n' + '</label>\\n' + '</div></div>\\n' + '<div class=\"col-6 mt-1 text-right\">' + '    <div class=\"btn-group-vertical mr-1\">' + '        <button data-toggle=\"tooltip\" data-placement=\"left\" title=\"Upload New Avatar\" onclick=\"$(\\'#profile_avatar_upload\\').click()\" class=\"btn btn-sm btn-outline-success\"><i class=\"fas fa-image\"></i></button>' + '        <button data-toggle=\"tooltip\" data-placement=\"left\" title=\"Remove Avatar\" onclick=\"MessengerSettings.removeAvatar()\" class=\"btn btn-sm btn-outline-danger\"><i class=\"fas fa-trash\"></i></button>' + '    </div>' + '    <div data-toggle=\"tooltip\" title=\"Upload New Avatar\" data-placement=\"right\" onclick=\"$(\\'#profile_avatar_upload\\').click()\" class=\"pointer_area d-inline\">\\n' + '         <img alt=\"Avatar\" height=\"62\" width=\"62\" class=\"rounded avatar-is-' + (data.online_status === 1 ? \"online\" : data.online_status === 2 ? \"away\" : \"offline\") + '\" src=\"' + data.owner.avatar.sm + '\"/>\\n' + '    </div>\\n' + '</div>' + '</div><hr>' + '<table class=\"table mb-0 table-sm table-hover\"><tbody>\\n' + '<tr class=\"' + (data.message_popups ? 'bg-light' : '') + '\">\\n' + '<td class=\"pointer_area\" onclick=\"$(\\'#message_popups\\').click()\"><div class=\"h4 mt-1\"><i class=\"fas fa-caret-right\"></i> <span class=\"h5\">Message Popups</span></div></td>\\n' + '<td><div class=\"mt-1 float-right\"><span class=\"switch switch-sm mt-1\"><input class=\"switch switch_input m_setting_toggle\" id=\"message_popups\" name=\"message_popups\" type=\"checkbox\" ' + (data.message_popups ? 'checked' : '') + '/><label for=\"message_popups\"></label></span></div></td>\\n' + '</tr>\\n' + '<tr class=\"' + (data.message_sound ? 'bg-light' : '') + '\">\\n' + '<td class=\"pointer_area\" onclick=\"$(\\'#message_sounds\\').click()\"><div class=\"h4 mt-1\"><i class=\"fas fa-caret-right\"></i> <span class=\"h5\">Message Sounds</span></div></td>\\n' + '<td><div class=\"mt-1 float-right\"><span class=\"switch switch-sm mt-1\"><input class=\"switch switch_input m_setting_toggle\" id=\"message_sounds\" name=\"message_sounds\" type=\"checkbox\" ' + (data.message_sound ? 'checked' : '') + '/><label for=\"message_sounds\"></label></span></div></td>\\n' + '</tr>\\n' + '<tr class=\"' + (data.call_ringtone_sound ? 'bg-light' : '') + '\">\\n' + '<td class=\"pointer_area\" onclick=\"$(\\'#call_ringtone_sound\\').click()\"><div class=\"h4 mt-1\"><i class=\"fas fa-caret-right\"></i> <span class=\"h5\">Call Ringtone</span></div></td>\\n' + '<td><div class=\"mt-1 float-right\"><span class=\"switch switch-sm mt-1\"><input class=\"switch switch_input m_setting_toggle\" id=\"call_ringtone_sound\" name=\"call_ringtone_sound\" type=\"checkbox\" ' + (data.call_ringtone_sound ? 'checked' : '') + '/><label for=\"call_ringtone_sound\"></label></span></div></td>\\n' + '</tr>\\n' + '<tr class=\"' + (data.notify_sound ? 'bg-light' : '') + '\">\\n' + '<td class=\"pointer_area\" onclick=\"$(\\'#notify_sound\\').click()\"><div class=\"h4 mt-1\"><i class=\"fas fa-caret-right\"></i> <span class=\"h5\">Notification Sound</span></div></td>\\n' + '<td><div class=\"mt-1 float-right\"><span class=\"switch switch-sm mt-1\"><input class=\"switch switch_input m_setting_toggle\" id=\"notify_sound\" name=\"notify_sound\" type=\"checkbox\" ' + (data.notify_sound ? 'checked' : '') + '/><label for=\"notify_sound\"></label></span></div></td>\\n' + '</tr>\\n' + '<tr class=\"' + (data.dark_mode ? 'bg-light' : '') + '\">\\n' + '<td class=\"pointer_area\" onclick=\"$(\\'#dark_mode\\').click()\"><div class=\"h4 mt-1\"><i class=\"fas fa-caret-right\"></i> <span class=\"h5\">Dark Mode</span></div></td>\\n' + '<td><div class=\"mt-1 float-right\"><span class=\"switch switch-sm mt-1\"><input class=\"switch switch_input m_setting_toggle\" id=\"dark_mode\" name=\"dark_mode\" type=\"checkbox\" ' + (data.dark_mode ? 'checked' : '') + '/><label for=\"dark_mode\"></label></span></div></td>\\n' + '</tr>\\n' + '</tbody></table>\\n';\n      },\n      avatar_input: function avatar_input() {\n        return '<input style=\"display: none;\" class=\"NS\" id=\"profile_avatar_upload\" type=\"file\" name=\"profile_avatar_upload\" accept=\"image/*\">';\n      }\n    };\n  return {\n    init: mounted.Initialize,\n    show: methods.load,\n    removeAvatar: methods.removeProfileAvatarCheck,\n    lock: function lock(arg) {\n      if (typeof arg === 'boolean') opt.lock = arg;\n    }\n  };\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi92ZW5kb3IvcnRpcHBpbi9tZXNzZW5nZXItdWkvcmVzb3VyY2VzL2pzL21vZHVsZXMvTWVzc2VuZ2VyU2V0dGluZ3MuanMiLCJtYXBwaW5ncyI6IjtBQUFBQSxNQUFNLENBQUNDLGlCQUFpQixHQUFJLFlBQVk7RUFDcEMsSUFBSUMsR0FBRyxHQUFHO01BQ05DLElBQUksRUFBRyxJQUFJO01BQ1hDLFFBQVEsRUFBRztRQUNQQyxxQkFBcUIsRUFBRztNQUM1QjtJQUNKLENBQUM7SUFDREMsT0FBTyxHQUFHO01BQ05DLFVBQVUsRUFBRyxTQUFBQSxXQUFBLEVBQVk7UUFDckJDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQ0MsTUFBTSxDQUFDQyxTQUFTLENBQUNDLFlBQVksQ0FBQyxDQUFDLENBQUM7UUFDMUNULEdBQUcsQ0FBQ0UsUUFBUSxDQUFDQyxxQkFBcUIsR0FBR08sUUFBUSxDQUFDQyxjQUFjLENBQUMsdUJBQXVCLENBQUM7UUFDckZYLEdBQUcsQ0FBQ0UsUUFBUSxDQUFDQyxxQkFBcUIsQ0FBQ1MsZ0JBQWdCLENBQUMsUUFBUSxFQUFFQyxPQUFPLENBQUNDLG1CQUFtQixFQUFFLEtBQUssQ0FBQztRQUNqR2QsR0FBRyxDQUFDQyxJQUFJLEdBQUcsS0FBSztNQUNwQjtJQUNKLENBQUM7SUFDRFksT0FBTyxHQUFHO01BQ05FLElBQUksRUFBRyxTQUFBQSxLQUFBLEVBQVU7UUFDYixJQUFHZixHQUFHLENBQUNDLElBQUksRUFBRTtRQUNiZSxTQUFTLENBQUNDLEtBQUssQ0FBQyxDQUFDLENBQUNDLEtBQUssQ0FBQztVQUNwQkMsYUFBYSxFQUFHLEtBQUs7VUFDckJDLEtBQUssRUFBRyxNQUFNO1VBQ2RDLElBQUksRUFBRyxLQUFLO1VBQ1pDLEtBQUssRUFBRSxxQkFBcUI7VUFDNUJDLFVBQVUsRUFBRSxJQUFJO1VBQ2hCQyxFQUFFLEVBQUUsS0FBSztVQUNUQyxVQUFVLEVBQUcsZUFBZTtVQUM1QkMsV0FBVyxFQUFHLE1BQU07VUFDcEJDLFlBQVksRUFBRyxT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QUksRUFBR3pGLE9BQU8sQ0FBQ0MsVUFBVTtJQUN6QnlGLElBQUksRUFBR2pGLE9BQU8sQ0FBQ0UsSUFBSTtJQUNuQmdGLFlBQVksRUFBR2xGLE9BQU8sQ0FBQ3FFLHdCQUF3QjtJQUMvQ2pGLElBQUksRUFBRyxTQUFBQSxLQUFTK0YsR0FBRyxFQUFDO01BQ2hCLElBQUcsT0FBT0EsR0FBRyxLQUFLLFNBQVMsRUFBRWhHLEdBQUcsQ0FBQ0MsSUFBSSxHQUFHK0YsR0FBRztJQUMvQztFQUNKLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBRSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3ZlbmRvci9ydGlwcGluL21lc3Nlbmdlci11aS9yZXNvdXJjZXMvanMvbW9kdWxlcy9NZXNzZW5nZXJTZXR0aW5ncy5qcz9jMjBiIl0sInNvdXJjZXNDb250ZW50IjpbIndpbmRvdy5NZXNzZW5nZXJTZXR0aW5ncyA9IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG9wdCA9IHtcbiAgICAgICAgbG9jayA6IHRydWUsXG4gICAgICAgIGVsZW1lbnRzIDoge1xuICAgICAgICAgICAgcHJvZmlsZV9hdmF0YXJfdXBsb2FkIDogbnVsbFxuICAgICAgICB9XG4gICAgfSxcbiAgICBtb3VudGVkID0ge1xuICAgICAgICBJbml0aWFsaXplIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJCgnYm9keScpLmFwcGVuZCh0ZW1wbGF0ZXMuYXZhdGFyX2lucHV0KCkpO1xuICAgICAgICAgICAgb3B0LmVsZW1lbnRzLnByb2ZpbGVfYXZhdGFyX3VwbG9hZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9maWxlX2F2YXRhcl91cGxvYWQnKTtcbiAgICAgICAgICAgIG9wdC5lbGVtZW50cy5wcm9maWxlX2F2YXRhcl91cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgbWV0aG9kcy51cGxvYWRQcm9maWxlQXZhdGFyLCBmYWxzZSk7XG4gICAgICAgICAgICBvcHQubG9jayA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBtZXRob2RzID0ge1xuICAgICAgICBsb2FkIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGlmKG9wdC5sb2NrKSByZXR1cm47XG4gICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5Nb2RhbCh7XG4gICAgICAgICAgICAgICAgYmFja2Ryb3BfY3RybCA6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHRoZW1lIDogJ2RhcmsnLFxuICAgICAgICAgICAgICAgIGljb24gOiAnY29nJyxcbiAgICAgICAgICAgICAgICB0aXRsZTogJ0xvYWRpbmcgU2V0dGluZ3MuLi4nLFxuICAgICAgICAgICAgICAgIHByZV9sb2FkZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgaDQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNiX2J0bl90eHQgOiAnU2F2ZSBTZXR0aW5ncycsXG4gICAgICAgICAgICAgICAgY2JfYnRuX2ljb24gOiAnc2F2ZScsXG4gICAgICAgICAgICAgICAgY2JfYnRuX3RoZW1lIDogJ3N1Y2Nlc3MnLFxuICAgICAgICAgICAgICAgIG9uUmVhZHk6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgTWVzc2VuZ2VyLnhocigpLnJlcXVlc3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgcm91dGUgOiBNZXNzZW5nZXIuY29tbW9uKCkuQVBJICsgJ3NldHRpbmdzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5maWxsTW9kYWwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSA6ICdHZW5lcmFsIFNldHRpbmdzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keSA6IHRlbXBsYXRlcy5zZXR0aW5ncyhkYXRhKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhZ2VMaXN0ZW5lcnMubGlzdGVuKCkudG9vbHRpcHMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiLm1fc2V0dGluZ190b2dnbGVcIikuY2hhbmdlKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuaXMoJzpjaGVja2VkJykgPyAkKHRoaXMpLmNsb3Nlc3QoJ3RyJykuYWRkQ2xhc3MoJ2JnLWxpZ2h0JykgOiAkKHRoaXMpLmNsb3Nlc3QoJ3RyJykucmVtb3ZlQ2xhc3MoJ2JnLWxpZ2h0JylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2FsbGJhY2sgOiBtZXRob2RzLnNhdmVTZXR0aW5nc1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgc2F2ZVNldHRpbmdzIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGlmKG9wdC5sb2NrKSByZXR1cm47XG4gICAgICAgICAgICBvcHQubG9jayA9IHRydWU7XG4gICAgICAgICAgICBNZXNzZW5nZXIueGhyKCkucGF5bG9hZCh7XG4gICAgICAgICAgICAgICAgcm91dGUgOiBNZXNzZW5nZXIuY29tbW9uKCkuQVBJICsgJ3NldHRpbmdzJyxcbiAgICAgICAgICAgICAgICBkYXRhIDoge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX3BvcHVwcyA6ICQoXCIjbWVzc2FnZV9wb3B1cHNcIikuaXMoXCI6Y2hlY2tlZFwiKSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZV9zb3VuZCA6ICQoXCIjbWVzc2FnZV9zb3VuZHNcIikuaXMoXCI6Y2hlY2tlZFwiKSxcbiAgICAgICAgICAgICAgICAgICAgY2FsbF9yaW5ndG9uZV9zb3VuZCA6ICQoXCIjY2FsbF9yaW5ndG9uZV9zb3VuZFwiKS5pcyhcIjpjaGVja2VkXCIpLFxuICAgICAgICAgICAgICAgICAgICBub3RpZnlfc291bmQgOiAkKFwiI25vdGlmeV9zb3VuZFwiKS5pcyhcIjpjaGVja2VkXCIpLFxuICAgICAgICAgICAgICAgICAgICBkYXJrX21vZGUgOiAkKFwiI2RhcmtfbW9kZVwiKS5pcyhcIjpjaGVja2VkXCIpLFxuICAgICAgICAgICAgICAgICAgICBvbmxpbmVfc3RhdHVzIDogcGFyc2VJbnQoJCgnaW5wdXRbbmFtZT1cIm9ubGluZV9zdGF0dXNcIl06Y2hlY2tlZCcpLnZhbCgpKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3VjY2VzcyA6IG1ldGhvZHMudXBkYXRlU2V0dGluZ3MsXG4gICAgICAgICAgICAgICAgZmFpbF9hbGVydCA6IHRydWUsXG4gICAgICAgICAgICAgICAgY2xvc2VfbW9kYWwgOiB0cnVlXG4gICAgICAgICAgICB9LCAncHV0Jyk7XG4gICAgICAgIH0sXG4gICAgICAgIHVwZGF0ZVNldHRpbmdzIDogZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICBpZihNZXNzZW5nZXIuY29tbW9uKCkubW9kdWxlcy5pbmNsdWRlcygnVGhyZWFkTWFuYWdlcicpKSBUaHJlYWRNYW5hZ2VyLnN0YXRlKCkuc3RhdHVzU2V0dGluZyhkYXRhLm9ubGluZV9zdGF0dXMpO1xuICAgICAgICAgICAgUGFnZUxpc3RlbmVycy5saXN0ZW4oKS50b29sdGlwcygpO1xuICAgICAgICAgICAgaWYoTWVzc2VuZ2VyLmNvbW1vbigpLm1vZHVsZXMuaW5jbHVkZXMoJ05vdGlmeU1hbmFnZXInKSkgTm90aWZ5TWFuYWdlci5zZXR0aW5ncyhkYXRhKTtcbiAgICAgICAgICAgIE1lc3Nlbmdlci5hbGVydCgpLkFsZXJ0KHtcbiAgICAgICAgICAgICAgICB0aXRsZSA6ICdVcGRhdGVkIHlvdXIgc2V0dGluZ3MnLFxuICAgICAgICAgICAgICAgIHRvYXN0IDogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBNZXNzZW5nZXIuaGFuZGxlKCkuc3dpdGNoQ3NzKGRhdGEuZGFya19tb2RlKTtcbiAgICAgICAgfSxcbiAgICAgICAgdXBsb2FkUHJvZmlsZUF2YXRhciA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmKG9wdC5sb2NrIHx8ICFvcHQuZWxlbWVudHMucHJvZmlsZV9hdmF0YXJfdXBsb2FkLmZpbGVzLmxlbmd0aCkgcmV0dXJuO1xuICAgICAgICAgICAgb3B0LmxvY2sgPSB0cnVlO1xuICAgICAgICAgICAgbGV0IGRhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgICAgICAgIGRhdGEuYXBwZW5kKCdpbWFnZScsIG9wdC5lbGVtZW50cy5wcm9maWxlX2F2YXRhcl91cGxvYWQuZmlsZXNbMF0pO1xuICAgICAgICAgICAgUGFnZUxpc3RlbmVycy5saXN0ZW4oKS5kaXNwb3NlVG9vbHRpcHMoKTtcbiAgICAgICAgICAgIGlmKCEkKCcjbWFpbl9tb2RhbCcpLmxlbmd0aCl7XG4gICAgICAgICAgICAgICAgTWVzc2VuZ2VyLmFsZXJ0KCkuTW9kYWwoe1xuICAgICAgICAgICAgICAgICAgICBzaXplIDogJ3NtJyxcbiAgICAgICAgICAgICAgICAgICAgaWNvbiA6ICdjbG91ZC11cGxvYWQtYWx0JyxcbiAgICAgICAgICAgICAgICAgICAgcHJlX2xvYWRlciA6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGNlbnRlcmVkIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdW5sb2NrX2J1dHRvbnMgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dfY2xvc2UgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3BfY3RybCA6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1VwbG9hZGluZy4uLicsXG4gICAgICAgICAgICAgICAgICAgIHRoZW1lOiAncHJpbWFyeSdcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgTWVzc2VuZ2VyLmFsZXJ0KCkuZmlsbE1vZGFsKHtsb2FkZXIgOiB0cnVlLCBub19jbG9zZSA6IHRydWUsIGJvZHkgOiBudWxsLCB0aXRsZSA6ICdVcGxvYWRpbmcuLi4nfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBNZXNzZW5nZXIueGhyKCkucGF5bG9hZCh7XG4gICAgICAgICAgICAgICAgcm91dGUgOiBNZXNzZW5nZXIuY29tbW9uKCkuQVBJICsgJ2F2YXRhcicsXG4gICAgICAgICAgICAgICAgZGF0YSA6IGRhdGEsXG4gICAgICAgICAgICAgICAgc3VjY2VzcyA6IG1ldGhvZHMubWFuYWdlTmV3QXZhdGFyLFxuICAgICAgICAgICAgICAgIGZhaWxfYWxlcnQgOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNsb3NlX21vZGFsIDogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZVByb2ZpbGVBdmF0YXJDaGVjayA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBpZihvcHQubG9jaykgcmV0dXJuO1xuICAgICAgICAgICAgTWVzc2VuZ2VyLmFsZXJ0KCkuTW9kYWwoe1xuICAgICAgICAgICAgICAgIGJhY2tkcm9wX2N0cmwgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzaXplIDogJ3NtJyxcbiAgICAgICAgICAgICAgICBib2R5IDogZmFsc2UsXG4gICAgICAgICAgICAgICAgY2VudGVyZWQgOiB0cnVlLFxuICAgICAgICAgICAgICAgIHVubG9ja19idXR0b25zIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgdGl0bGU6ICdSZW1vdmUgQXZhdGFyPycsXG4gICAgICAgICAgICAgICAgdGhlbWU6ICdkYW5nZXInLFxuICAgICAgICAgICAgICAgIGNiX2J0bl90eHQ6ICdSZW1vdmUnLFxuICAgICAgICAgICAgICAgIGNiX2J0bl90aGVtZSA6ICdkYW5nZXInLFxuICAgICAgICAgICAgICAgIGNiX2J0bl9pY29uOid0cmFzaCcsXG4gICAgICAgICAgICAgICAgaWNvbjogJ3RyYXNoJyxcbiAgICAgICAgICAgICAgICBjYWxsYmFjayA6IG1ldGhvZHMucmVtb3ZlUHJvZmlsZUF2YXRhclxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgcmVtb3ZlUHJvZmlsZUF2YXRhciA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIE1lc3Nlbmdlci54aHIoKS5wYXlsb2FkKHtcbiAgICAgICAgICAgICAgICByb3V0ZSA6IE1lc3Nlbmdlci5jb21tb24oKS5BUEkgKyAnYXZhdGFyJyxcbiAgICAgICAgICAgICAgICBkYXRhIDoge30sXG4gICAgICAgICAgICAgICAgc3VjY2VzcyA6IG1ldGhvZHMubWFuYWdlTmV3QXZhdGFyLFxuICAgICAgICAgICAgICAgIGZhaWxfYWxlcnQgOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNsb3NlX21vZGFsIDogdHJ1ZVxuICAgICAgICAgICAgfSwgJ2RlbGV0ZScpO1xuICAgICAgICB9LFxuICAgICAgICBtYW5hZ2VOZXdBdmF0YXIgOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgaWYoZGF0YSl7XG4gICAgICAgICAgICAgICAgTWVzc2VuZ2VyLmZvcm1zKCkudXBkYXRlU2x1ZyhkYXRhLm93bmVyLmF2YXRhci5zbSk7XG4gICAgICAgICAgICAgICAgJCgnLm15LWdsb2JhbC1hdmF0YXInKS5hdHRyKCdzcmMnLCBkYXRhLm93bmVyLmF2YXRhci5zbSk7XG4gICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLnByb2ZpbGVfYXZhdGFyX3VwbG9hZC52YWx1ZSA9ICcnO1xuICAgICAgICAgICAgICAgIE1lc3Nlbmdlci5hbGVydCgpLkFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgdG9hc3QgOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB0aGVtZSA6ICdzdWNjZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGUgOiAnWW91ciBhdmF0YXIgaGFzIGJlZW4gdXBkYXRlZCdcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgdGVtcGxhdGVzID0ge1xuICAgICAgICBzZXR0aW5ncyA6IGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICAgcmV0dXJuICc8ZGl2IGNsYXNzPVwiZm9ybS1yb3dcIj5cXG4nICtcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImNvbC02XCI+PGxhYmVsIGNsYXNzPVwiY29udHJvbC1sYWJlbCBkLWJsb2NrIGg1IGZvbnQtd2VpZ2h0LWJvbGRcIiBmb3I9XCJvbmxpbmVfc3RhdHVzX3N3aXRjaFwiPk9ubGluZSBTdGF0dXM8L2xhYmVsPlxcbicgK1xuICAgICAgICAgICAgICAgICc8ZGl2IGlkPVwib25saW5lX3N0YXR1c19zd2l0Y2hcIiBjbGFzcz1cImJ0bi1ncm91cCBidG4tZ3JvdXAtdG9nZ2xlXCIgZGF0YS10b2dnbGU9XCJidXR0b25zXCI+XFxuJyArXG4gICAgICAgICAgICAgICAgJzxsYWJlbCBkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIiB0aXRsZT1cIk9ubGluZVwiIGRhdGEtcGxhY2VtZW50PVwibGVmdFwiIGNsYXNzPVwicG9pbnRlcl9hcmVhIGJ0biBidG4tc3VjY2VzcyAnKyhkYXRhLm9ubGluZV9zdGF0dXMgPT09IDEgPyAnYWN0aXZlIGdsb3dpbmdfYnRuJyA6ICcnKSsnXCI+XFxuJyArXG4gICAgICAgICAgICAgICAgJzxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwib25saW5lX3N0YXR1c1wiIHZhbHVlPVwiMVwiIGF1dG9jb21wbGV0ZT1cIm9mZlwiICcrKGRhdGEub25saW5lX3N0YXR1cyA9PT0gMSA/ICdjaGVja2VkJyA6ICcnKSsnPjxpIGNsYXNzPVwiZmFzIGZhLXdpZmlcIj48L2k+XFxuJyArXG4gICAgICAgICAgICAgICAgJzwvbGFiZWw+XFxuJyArXG4gICAgICAgICAgICAgICAgJzxsYWJlbCBkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIiB0aXRsZT1cIkF3YXlcIiBkYXRhLXBsYWNlbWVudD1cImJvdHRvbVwiIGNsYXNzPVwicG9pbnRlcl9hcmVhIGJ0biBidG4tZGFuZ2VyICcrKGRhdGEub25saW5lX3N0YXR1cyA9PT0gMiA/ICdhY3RpdmUgZ2xvd2luZ19idG4nIDogJycpKydcIj5cXG4nICtcbiAgICAgICAgICAgICAgICAnPGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJvbmxpbmVfc3RhdHVzXCIgdmFsdWU9XCIyXCIgYXV0b2NvbXBsZXRlPVwib2ZmXCIgJysoZGF0YS5vbmxpbmVfc3RhdHVzID09PSAyID8gJ2NoZWNrZWQnIDogJycpKyc+PGkgY2xhc3M9XCJmYXMgZmEtdXNlci1zbGFzaFwiPjwvaT5cXG4nICtcbiAgICAgICAgICAgICAgICAnPC9sYWJlbD5cXG4nICtcbiAgICAgICAgICAgICAgICAnPGxhYmVsIGRhdGEtdG9nZ2xlPVwidG9vbHRpcFwiIHRpdGxlPVwiT2ZmbGluZVwiIGRhdGEtcGxhY2VtZW50PVwicmlnaHRcIiBjbGFzcz1cInBvaW50ZXJfYXJlYSBidG4gYnRuLXNlY29uZGFyeSAnKyhkYXRhLm9ubGluZV9zdGF0dXMgPT09IDAgPyAnYWN0aXZlIGdsb3dpbmdfYnRuJyA6ICcnKSsnXCI+XFxuJyArXG4gICAgICAgICAgICAgICAgJzxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwib25saW5lX3N0YXR1c1wiIHZhbHVlPVwiMFwiIGF1dG9jb21wbGV0ZT1cIm9mZlwiICcrKGRhdGEub25saW5lX3N0YXR1cyA9PT0gMCA/ICdjaGVja2VkJyA6ICcnKSsnPjxpIGNsYXNzPVwiZmFzIGZhLXBvd2VyLW9mZlwiPjwvaT5cXG4nICtcbiAgICAgICAgICAgICAgICAnPC9sYWJlbD5cXG4nICtcbiAgICAgICAgICAgICAgICAnPC9kaXY+PC9kaXY+XFxuJyArXG4gICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJjb2wtNiBtdC0xIHRleHQtcmlnaHRcIj4nICtcbiAgICAgICAgICAgICAgICAnICAgIDxkaXYgY2xhc3M9XCJidG4tZ3JvdXAtdmVydGljYWwgbXItMVwiPicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgIDxidXR0b24gZGF0YS10b2dnbGU9XCJ0b29sdGlwXCIgZGF0YS1wbGFjZW1lbnQ9XCJsZWZ0XCIgdGl0bGU9XCJVcGxvYWQgTmV3IEF2YXRhclwiIG9uY2xpY2s9XCIkKFxcJyNwcm9maWxlX2F2YXRhcl91cGxvYWRcXCcpLmNsaWNrKClcIiBjbGFzcz1cImJ0biBidG4tc20gYnRuLW91dGxpbmUtc3VjY2Vzc1wiPjxpIGNsYXNzPVwiZmFzIGZhLWltYWdlXCI+PC9pPjwvYnV0dG9uPicrXG4gICAgICAgICAgICAgICAgJyAgICAgICAgPGJ1dHRvbiBkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIiBkYXRhLXBsYWNlbWVudD1cImxlZnRcIiB0aXRsZT1cIlJlbW92ZSBBdmF0YXJcIiBvbmNsaWNrPVwiTWVzc2VuZ2VyU2V0dGluZ3MucmVtb3ZlQXZhdGFyKClcIiBjbGFzcz1cImJ0biBidG4tc20gYnRuLW91dGxpbmUtZGFuZ2VyXCI+PGkgY2xhc3M9XCJmYXMgZmEtdHJhc2hcIj48L2k+PC9idXR0b24+JyArXG4gICAgICAgICAgICAgICAgJyAgICA8L2Rpdj4nK1xuICAgICAgICAgICAgICAgICcgICAgPGRpdiBkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIiB0aXRsZT1cIlVwbG9hZCBOZXcgQXZhdGFyXCIgZGF0YS1wbGFjZW1lbnQ9XCJyaWdodFwiIG9uY2xpY2s9XCIkKFxcJyNwcm9maWxlX2F2YXRhcl91cGxvYWRcXCcpLmNsaWNrKClcIiBjbGFzcz1cInBvaW50ZXJfYXJlYSBkLWlubGluZVwiPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICA8aW1nIGFsdD1cIkF2YXRhclwiIGhlaWdodD1cIjYyXCIgd2lkdGg9XCI2MlwiIGNsYXNzPVwicm91bmRlZCBhdmF0YXItaXMtJysoZGF0YS5vbmxpbmVfc3RhdHVzID09PSAxID8gXCJvbmxpbmVcIiA6IGRhdGEub25saW5lX3N0YXR1cyA9PT0gMiA/IFwiYXdheVwiIDogXCJvZmZsaW5lXCIpKydcIiBzcmM9XCInK2RhdGEub3duZXIuYXZhdGFyLnNtKydcIi8+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICA8L2Rpdj5cXG4nICtcbiAgICAgICAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgICAgICAgJzwvZGl2Pjxocj4nK1xuICAgICAgICAgICAgICAgICc8dGFibGUgY2xhc3M9XCJ0YWJsZSBtYi0wIHRhYmxlLXNtIHRhYmxlLWhvdmVyXCI+PHRib2R5PlxcbicgK1xuICAgICAgICAgICAgICAgICc8dHIgY2xhc3M9XCInKyhkYXRhLm1lc3NhZ2VfcG9wdXBzID8gJ2JnLWxpZ2h0JyA6ICcnKSsnXCI+XFxuJyArXG4gICAgICAgICAgICAgICAgJzx0ZCBjbGFzcz1cInBvaW50ZXJfYXJlYVwiIG9uY2xpY2s9XCIkKFxcJyNtZXNzYWdlX3BvcHVwc1xcJykuY2xpY2soKVwiPjxkaXYgY2xhc3M9XCJoNCBtdC0xXCI+PGkgY2xhc3M9XCJmYXMgZmEtY2FyZXQtcmlnaHRcIj48L2k+IDxzcGFuIGNsYXNzPVwiaDVcIj5NZXNzYWdlIFBvcHVwczwvc3Bhbj48L2Rpdj48L3RkPlxcbicgK1xuICAgICAgICAgICAgICAgICc8dGQ+PGRpdiBjbGFzcz1cIm10LTEgZmxvYXQtcmlnaHRcIj48c3BhbiBjbGFzcz1cInN3aXRjaCBzd2l0Y2gtc20gbXQtMVwiPjxpbnB1dCBjbGFzcz1cInN3aXRjaCBzd2l0Y2hfaW5wdXQgbV9zZXR0aW5nX3RvZ2dsZVwiIGlkPVwibWVzc2FnZV9wb3B1cHNcIiBuYW1lPVwibWVzc2FnZV9wb3B1cHNcIiB0eXBlPVwiY2hlY2tib3hcIiAnKyhkYXRhLm1lc3NhZ2VfcG9wdXBzID8gJ2NoZWNrZWQnIDogJycpKycvPjxsYWJlbCBmb3I9XCJtZXNzYWdlX3BvcHVwc1wiPjwvbGFiZWw+PC9zcGFuPjwvZGl2PjwvdGQ+XFxuJyArXG4gICAgICAgICAgICAgICAgJzwvdHI+XFxuJyArXG4gICAgICAgICAgICAgICAgJzx0ciBjbGFzcz1cIicrKGRhdGEubWVzc2FnZV9zb3VuZCA/ICdiZy1saWdodCcgOiAnJykrJ1wiPlxcbicgK1xuICAgICAgICAgICAgICAgICc8dGQgY2xhc3M9XCJwb2ludGVyX2FyZWFcIiBvbmNsaWNrPVwiJChcXCcjbWVzc2FnZV9zb3VuZHNcXCcpLmNsaWNrKClcIj48ZGl2IGNsYXNzPVwiaDQgbXQtMVwiPjxpIGNsYXNzPVwiZmFzIGZhLWNhcmV0LXJpZ2h0XCI+PC9pPiA8c3BhbiBjbGFzcz1cImg1XCI+TWVzc2FnZSBTb3VuZHM8L3NwYW4+PC9kaXY+PC90ZD5cXG4nICtcbiAgICAgICAgICAgICAgICAnPHRkPjxkaXYgY2xhc3M9XCJtdC0xIGZsb2F0LXJpZ2h0XCI+PHNwYW4gY2xhc3M9XCJzd2l0Y2ggc3dpdGNoLXNtIG10LTFcIj48aW5wdXQgY2xhc3M9XCJzd2l0Y2ggc3dpdGNoX2lucHV0IG1fc2V0dGluZ190b2dnbGVcIiBpZD1cIm1lc3NhZ2Vfc291bmRzXCIgbmFtZT1cIm1lc3NhZ2Vfc291bmRzXCIgdHlwZT1cImNoZWNrYm94XCIgJysoZGF0YS5tZXNzYWdlX3NvdW5kID8gJ2NoZWNrZWQnIDogJycpKycvPjxsYWJlbCBmb3I9XCJtZXNzYWdlX3NvdW5kc1wiPjwvbGFiZWw+PC9zcGFuPjwvZGl2PjwvdGQ+XFxuJyArXG4gICAgICAgICAgICAgICAgJzwvdHI+XFxuJyArXG4gICAgICAgICAgICAgICAgJzx0ciBjbGFzcz1cIicrKGRhdGEuY2FsbF9yaW5ndG9uZV9zb3VuZCA/ICdiZy1saWdodCcgOiAnJykrJ1wiPlxcbicgK1xuICAgICAgICAgICAgICAgICc8dGQgY2xhc3M9XCJwb2ludGVyX2FyZWFcIiBvbmNsaWNrPVwiJChcXCcjY2FsbF9yaW5ndG9uZV9zb3VuZFxcJykuY2xpY2soKVwiPjxkaXYgY2xhc3M9XCJoNCBtdC0xXCI+PGkgY2xhc3M9XCJmYXMgZmEtY2FyZXQtcmlnaHRcIj48L2k+IDxzcGFuIGNsYXNzPVwiaDVcIj5DYWxsIFJpbmd0b25lPC9zcGFuPjwvZGl2PjwvdGQ+XFxuJyArXG4gICAgICAgICAgICAgICAgJzx0ZD48ZGl2IGNsYXNzPVwibXQtMSBmbG9hdC1yaWdodFwiPjxzcGFuIGNsYXNzPVwic3dpdGNoIHN3aXRjaC1zbSBtdC0xXCI+PGlucHV0IGNsYXNzPVwic3dpdGNoIHN3aXRjaF9pbnB1dCBtX3NldHRpbmdfdG9nZ2xlXCIgaWQ9XCJjYWxsX3Jpbmd0b25lX3NvdW5kXCIgbmFtZT1cImNhbGxfcmluZ3RvbmVfc291bmRcIiB0eXBlPVwiY2hlY2tib3hcIiAnKyhkYXRhLmNhbGxfcmluZ3RvbmVfc291bmQgPyAnY2hlY2tlZCcgOiAnJykrJy8+PGxhYmVsIGZvcj1cImNhbGxfcmluZ3RvbmVfc291bmRcIj48L2xhYmVsPjwvc3Bhbj48L2Rpdj48L3RkPlxcbicgK1xuICAgICAgICAgICAgICAgICc8L3RyPlxcbicgK1xuICAgICAgICAgICAgICAgICc8dHIgY2xhc3M9XCInKyhkYXRhLm5vdGlmeV9zb3VuZCA/ICdiZy1saWdodCcgOiAnJykrJ1wiPlxcbicgK1xuICAgICAgICAgICAgICAgICc8dGQgY2xhc3M9XCJwb2ludGVyX2FyZWFcIiBvbmNsaWNrPVwiJChcXCcjbm90aWZ5X3NvdW5kXFwnKS5jbGljaygpXCI+PGRpdiBjbGFzcz1cImg0IG10LTFcIj48aSBjbGFzcz1cImZhcyBmYS1jYXJldC1yaWdodFwiPjwvaT4gPHNwYW4gY2xhc3M9XCJoNVwiPk5vdGlmaWNhdGlvbiBTb3VuZDwvc3Bhbj48L2Rpdj48L3RkPlxcbicgK1xuICAgICAgICAgICAgICAgICc8dGQ+PGRpdiBjbGFzcz1cIm10LTEgZmxvYXQtcmlnaHRcIj48c3BhbiBjbGFzcz1cInN3aXRjaCBzd2l0Y2gtc20gbXQtMVwiPjxpbnB1dCBjbGFzcz1cInN3aXRjaCBzd2l0Y2hfaW5wdXQgbV9zZXR0aW5nX3RvZ2dsZVwiIGlkPVwibm90aWZ5X3NvdW5kXCIgbmFtZT1cIm5vdGlmeV9zb3VuZFwiIHR5cGU9XCJjaGVja2JveFwiICcrKGRhdGEubm90aWZ5X3NvdW5kID8gJ2NoZWNrZWQnIDogJycpKycvPjxsYWJlbCBmb3I9XCJub3RpZnlfc291bmRcIj48L2xhYmVsPjwvc3Bhbj48L2Rpdj48L3RkPlxcbicgK1xuICAgICAgICAgICAgICAgICc8L3RyPlxcbicgK1xuICAgICAgICAgICAgICAgICc8dHIgY2xhc3M9XCInKyhkYXRhLmRhcmtfbW9kZSA/ICdiZy1saWdodCcgOiAnJykrJ1wiPlxcbicgK1xuICAgICAgICAgICAgICAgICc8dGQgY2xhc3M9XCJwb2ludGVyX2FyZWFcIiBvbmNsaWNrPVwiJChcXCcjZGFya19tb2RlXFwnKS5jbGljaygpXCI+PGRpdiBjbGFzcz1cImg0IG10LTFcIj48aSBjbGFzcz1cImZhcyBmYS1jYXJldC1yaWdodFwiPjwvaT4gPHNwYW4gY2xhc3M9XCJoNVwiPkRhcmsgTW9kZTwvc3Bhbj48L2Rpdj48L3RkPlxcbicgK1xuICAgICAgICAgICAgICAgICc8dGQ+PGRpdiBjbGFzcz1cIm10LTEgZmxvYXQtcmlnaHRcIj48c3BhbiBjbGFzcz1cInN3aXRjaCBzd2l0Y2gtc20gbXQtMVwiPjxpbnB1dCBjbGFzcz1cInN3aXRjaCBzd2l0Y2hfaW5wdXQgbV9zZXR0aW5nX3RvZ2dsZVwiIGlkPVwiZGFya19tb2RlXCIgbmFtZT1cImRhcmtfbW9kZVwiIHR5cGU9XCJjaGVja2JveFwiICcrKGRhdGEuZGFya19tb2RlID8gJ2NoZWNrZWQnIDogJycpKycvPjxsYWJlbCBmb3I9XCJkYXJrX21vZGVcIj48L2xhYmVsPjwvc3Bhbj48L2Rpdj48L3RkPlxcbicgK1xuICAgICAgICAgICAgICAgICc8L3RyPlxcbicgK1xuICAgICAgICAgICAgICAgICc8L3Rib2R5PjwvdGFibGU+XFxuJ1xuICAgICAgICB9LFxuICAgICAgICBhdmF0YXJfaW5wdXQgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gJzxpbnB1dCBzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCIgY2xhc3M9XCJOU1wiIGlkPVwicHJvZmlsZV9hdmF0YXJfdXBsb2FkXCIgdHlwZT1cImZpbGVcIiBuYW1lPVwicHJvZmlsZV9hdmF0YXJfdXBsb2FkXCIgYWNjZXB0PVwiaW1hZ2UvKlwiPidcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW5pdCA6IG1vdW50ZWQuSW5pdGlhbGl6ZSxcbiAgICAgICAgc2hvdyA6IG1ldGhvZHMubG9hZCxcbiAgICAgICAgcmVtb3ZlQXZhdGFyIDogbWV0aG9kcy5yZW1vdmVQcm9maWxlQXZhdGFyQ2hlY2ssXG4gICAgICAgIGxvY2sgOiBmdW5jdGlvbihhcmcpe1xuICAgICAgICAgICAgaWYodHlwZW9mIGFyZyA9PT0gJ2Jvb2xlYW4nKSBvcHQubG9jayA9IGFyZ1xuICAgICAgICB9XG4gICAgfTtcbn0oKSk7Il0sIm5hbWVzIjpbIndpbmRvdyIsIk1lc3NlbmdlclNldHRpbmdzIiwib3B0IiwibG9jayIsImVsZW1lbnRzIiwicHJvZmlsZV9hdmF0YXJfdXBsb2FkIiwibW91bnRlZCIsIkluaXRpYWxpemUiLCIkIiwiYXBwZW5kIiwidGVtcGxhdGVzIiwiYXZhdGFyX2lucHV0IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJtZXRob2RzIiwidXBsb2FkUHJvZmlsZUF2YXRhciIsImxvYWQiLCJNZXNzZW5nZXIiLCJhbGVydCIsIk1vZGFsIiwiYmFja2Ryb3BfY3RybCIsInRoZW1lIiwiaWNvbiIsInRpdGxlIiwicHJlX2xvYWRlciIsImg0IiwiY2JfYnRuX3R4dCIsImNiX2J0bl9pY29uIiwiY2JfYnRuX3RoZW1lIiwib25SZWFkeSIsInhociIsInJlcXVlc3QiLCJyb3V0ZSIsImNvbW1vbiIsIkFQSSIsInN1Y2Nlc3MiLCJkYXRhIiwiZmlsbE1vZGFsIiwiYm9keSIsInNldHRpbmdzIiwiUGFnZUxpc3RlbmVycyIsImxpc3RlbiIsInRvb2x0aXBzIiwiY2hhbmdlIiwiaXMiLCJjbG9zZXN0IiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImNhbGxiYWNrIiwic2F2ZVNldHRpbmdzIiwicGF5bG9hZCIsIm1lc3NhZ2VfcG9wdXBzIiwibWVzc2FnZV9zb3VuZCIsImNhbGxfcmluZ3RvbmVfc291bmQiLCJub3RpZnlfc291bmQiLCJkYXJrX21vZGUiLCJvbmxpbmVfc3RhdHVzIiwicGFyc2VJbnQiLCJ2YWwiLCJ1cGRhdGVTZXR0aW5ncyIsImZhaWxfYWxlcnQiLCJjbG9zZV9tb2RhbCIsIm1vZHVsZXMiLCJpbmNsdWRlcyIsIlRocmVhZE1hbmFnZXIiLCJzdGF0ZSIsInN0YXR1c1NldHRpbmciLCJOb3RpZnlNYW5hZ2VyIiwiQWxlcnQiLCJ0b2FzdCIsImhhbmRsZSIsInN3aXRjaENzcyIsImZpbGVzIiwibGVuZ3RoIiwiRm9ybURhdGEiLCJkaXNwb3NlVG9vbHRpcHMiLCJzaXplIiwiY2VudGVyZWQiLCJ1bmxvY2tfYnV0dG9ucyIsImFsbG93X2Nsb3NlIiwibG9hZGVyIiwibm9fY2xvc2UiLCJtYW5hZ2VOZXdBdmF0YXIiLCJyZW1vdmVQcm9maWxlQXZhdGFyQ2hlY2siLCJyZW1vdmVQcm9maWxlQXZhdGFyIiwiZm9ybXMiLCJ1cGRhdGVTbHVnIiwib3duZXIiLCJhdmF0YXIiLCJzbSIsImF0dHIiLCJ2YWx1ZSIsImxvY2F0aW9uIiwicmVsb2FkIiwiaW5pdCIsInNob3ciLCJyZW1vdmVBdmF0YXIiLCJhcmciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./vendor/rtippin/messenger-ui/resources/js/modules/MessengerSettings.js\n");

/***/ }),

/***/ "./vendor/rtippin/messenger-ui/resources/js/modules/RecordAudio.js":
/*!*************************************************************************!*\
  !*** ./vendor/rtippin/messenger-ui/resources/js/modules/RecordAudio.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nObject(function webpackMissingModule() { var e = new Error(\"Cannot find module 'audio-recorder-polyfill'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\nObject(function webpackMissingModule() { var e = new Error(\"Cannot find module 'audio-recorder-polyfill/mpeg-encoder'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\n/* provided dependency */ var $ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n\n\nObject(function webpackMissingModule() { var e = new Error(\"Cannot find module 'audio-recorder-polyfill'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()) = Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'audio-recorder-polyfill/mpeg-encoder'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\nObject(function webpackMissingModule() { var e = new Error(\"Cannot find module 'audio-recorder-polyfill'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()).mimeType = 'audio/mpeg';\nwindow.MediaRecorder = Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'audio-recorder-polyfill'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\nwindow.RecordAudio = function () {\n  var opt = {\n      lock: true,\n      using: false,\n      elements: {\n        visualizer: null,\n        visualizerCtx: null,\n        record_audio_action: null,\n        start_audio_record: null,\n        is_audio_recording: null,\n        record_audio_results: null,\n        completed_audio: null\n      },\n      audio: {\n        stream: null,\n        ctx: null,\n        animator: null,\n        recorder: null,\n        final_blob: null\n      }\n    },\n    mounted = {\n      Initialize: function Initialize() {\n        opt.lock = false;\n      }\n    },\n    methods = {\n      open: function open() {\n        if (opt.using) return;\n        opt.using = true;\n        Messenger.alert().Modal({\n          size: 'md',\n          backdrop_ctrl: false,\n          overflow: true,\n          theme: 'dark',\n          icon: 'music',\n          title: 'Record Audio Message',\n          pre_loader: true,\n          h4: false,\n          onReady: methods.loadAudio,\n          onClosed: methods.closed\n        });\n      },\n      loadAudio: function loadAudio() {\n        if (navigator.mediaDevices.getUserMedia) {\n          navigator.mediaDevices.getUserMedia({\n            audio: true\n          }).then(methods.ready, methods.error);\n        } else {\n          methods.error();\n        }\n      },\n      ready: function ready(stream) {\n        Messenger.alert().fillModal({\n          body: templates.body()\n        });\n        opt.elements.record_audio_action = $(\"#record_audio_action\");\n        opt.elements.start_audio_record = $(\"#start_audio_record\");\n        opt.elements.is_audio_recording = $(\"#is_audio_recording\");\n        opt.elements.record_audio_results = $(\"#record_audio_results\");\n        opt.elements.completed_audio = document.getElementById('completed_audio');\n        opt.elements.visualizer = document.querySelector('.visualizer');\n        opt.elements.visualizerCtx = opt.elements.visualizer.getContext(\"2d\");\n        opt.elements.visualizer.width = opt.elements.visualizer.parentElement.offsetWidth - 10;\n        opt.audio.stream = stream;\n        opt.audio.recorder = new MediaRecorder(opt.audio.stream);\n        opt.audio.recorder.addEventListener('dataavailable', methods.stopped);\n        methods.visualize(opt.audio.stream);\n      },\n      start: function start() {\n        if (!opt.using) return;\n        opt.elements.start_audio_record.hide();\n        opt.elements.is_audio_recording.show();\n        opt.audio.recorder.start();\n      },\n      stop: function stop() {\n        if (!opt.using) return;\n        opt.audio.recorder.stop();\n        cancelAnimationFrame(opt.audio.animator);\n        opt.elements.record_audio_action.hide();\n        opt.elements.start_audio_record.show();\n        opt.elements.is_audio_recording.hide();\n        opt.elements.record_audio_results.show();\n      },\n      retry: function retry() {\n        opt.audio.final_blob = null;\n        opt.elements.completed_audio.src = '';\n        opt.elements.record_audio_action.show();\n        opt.elements.record_audio_results.hide();\n        methods.visualize(opt.audio.stream);\n      },\n      send: function send() {\n        ThreadManager.Import().audioMessage(opt.audio.final_blob);\n        methods.closed();\n        Messenger.alert().destroyModal();\n      },\n      stopped: function stopped(e) {\n        opt.audio.final_blob = e.data;\n        opt.elements.completed_audio.src = window.URL.createObjectURL(opt.audio.final_blob);\n      },\n      visualize: function visualize(stream) {\n        if (!opt.audio.ctx) {\n          opt.audio.ctx = new AudioContext();\n        }\n        var source = opt.audio.ctx.createMediaStreamSource(stream);\n        var analyser = opt.audio.ctx.createAnalyser();\n        analyser.fftSize = 2048;\n        var bufferLength = analyser.frequencyBinCount;\n        var dataArray = new Uint8Array(bufferLength);\n        source.connect(analyser);\n        var draw = function draw() {\n          var WIDTH = opt.elements.visualizer.width;\n          var HEIGHT = opt.elements.visualizer.height;\n          analyser.getByteTimeDomainData(dataArray);\n          opt.elements.visualizerCtx.fillStyle = 'rgb(48, 48, 48)';\n          opt.elements.visualizerCtx.fillRect(0, 0, WIDTH, HEIGHT);\n          opt.elements.visualizerCtx.lineWidth = 2;\n          opt.elements.visualizerCtx.strokeStyle = 'rgb(0, 188, 40)';\n          opt.elements.visualizerCtx.beginPath();\n          var sliceWidth = WIDTH * 1.0 / bufferLength;\n          var x = 0;\n          for (var i = 0; i < bufferLength; i++) {\n            var v = dataArray[i] / 128.0;\n            var y = v * HEIGHT / 2;\n            if (i === 0) {\n              opt.elements.visualizerCtx.moveTo(x, y);\n            } else {\n              opt.elements.visualizerCtx.lineTo(x, y);\n            }\n            x += sliceWidth;\n          }\n          opt.elements.visualizerCtx.lineTo(opt.elements.visualizer.width, opt.elements.visualizer.height / 2);\n          opt.elements.visualizerCtx.stroke();\n          opt.audio.animator = requestAnimationFrame(draw);\n        };\n        opt.audio.animator = requestAnimationFrame(draw);\n      },\n      closed: function closed() {\n        if (opt.audio.stream) {\n          opt.audio.stream.getTracks().forEach(function (track) {\n            return track.stop();\n          });\n        }\n        if (opt.audio.animator) {\n          cancelAnimationFrame(opt.audio.animator);\n        }\n        opt = {\n          lock: false,\n          using: false,\n          elements: {\n            visualizer: null,\n            animator: null,\n            visualizerCtx: null,\n            record_audio_action: null,\n            start_audio_record: null,\n            is_audio_recording: null,\n            record_audio_results: null,\n            completed_audio: null\n          },\n          audio: {\n            stream: null,\n            ctx: null,\n            recorder: null,\n            final_blob: null\n          }\n        };\n      },\n      error: function error() {\n        Messenger.alert().destroyModal();\n        Messenger.alert().Alert({\n          theme: 'error',\n          title: 'Unable to load your audio device.',\n          toast: true\n        });\n        methods.closed();\n      }\n    },\n    templates = {\n      body: function body() {\n        return '<div id=\"record_audio_action\" class=\"col-12 text-center\">' + '<div class=\"col-12\"><canvas class=\"visualizer\" height=\"60px\"></canvas></div>' + '<div id=\"start_audio_record\"><h3>Start Recording</h3><button onclick=\"RecordAudio.start()\" type=\"button\" title=\"Start recording!\" class=\"mx-3 mb-4 btn btn-circle btn-circle-xl btn-success\"><i class=\"fas fa-microphone fa-2x\"></i></button></div>' + '<div id=\"is_audio_recording\" style=\"display: none\"><h3>Recording...</h3><button onclick=\"RecordAudio.stop()\" type=\"button\" title=\"Finish recording!\" class=\"mx-3 mb-4 btn btn-circle btn-circle-xl btn-danger glowing_warning_btn\"><i class=\"fas fa-microphone-alt fa-2x\"></i></button></div>' + '</div>' + '<div id=\"record_audio_results\" class=\"col-12 text-center\" style=\"display: none\">' + '<audio id=\"completed_audio\" controls></audio><hr>' + '<button onclick=\"RecordAudio.retry()\" type=\"button\" class=\"btn btn-lg btn-primary mr-2\"><i class=\"fas fa-redo\"></i> Retry</button>' + '<button onclick=\"RecordAudio.send()\" type=\"button\" class=\"btn btn-lg btn-success\"><i class=\"fas fa-play-circle\"></i> Send</button>' + '</div>';\n      }\n    };\n  return {\n    init: mounted.Initialize,\n    open: methods.open,\n    start: methods.start,\n    stop: methods.stop,\n    retry: methods.retry,\n    send: methods.send,\n    state: function state() {\n      return opt;\n    },\n    lock: function lock(arg) {\n      if (typeof arg === 'boolean') opt.lock = arg;\n    }\n  };\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi92ZW5kb3IvcnRpcHBpbi9tZXNzZW5nZXItdWkvcmVzb3VyY2VzL2pzL21vZHVsZXMvUmVjb3JkQXVkaW8uanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFvRDtBQUNXO0FBQy9EQSxzSkFBcUIsR0FBR0MsbUtBQVc7QUFDbkNELHNKQUF1QixDQUFDSSxRQUFRLEdBQUcsWUFBWTtBQUMvQ0MsTUFBTSxDQUFDQyxhQUFhLEdBQUdOLHNKQUFhO0FBRXBDSyxNQUFNLENBQUNFLFdBQVcsR0FBSSxZQUFZO0VBQzlCLElBQUlDLEdBQUcsR0FBRztNQUNOQyxJQUFJLEVBQUcsSUFBSTtNQUNYQyxLQUFLLEVBQUcsS0FBSztNQUNiQyxRQUFRLEVBQUc7UUFDUEMsVUFBVSxFQUFHLElBQUk7UUFDakJDLGFBQWEsRUFBRyxJQUFJO1FBQ3BCQyxtQkFBbUIsRUFBRyxJQUFJO1FBQzFCQyxrQkFBa0IsRUFBRyxJQUFJO1FBQ3pCQyxrQkFBa0IsRUFBRyxJQUFJO1FBQ3pCQyxvQkFBb0IsRUFBRyxJQUFJO1FBQzNCQyxlQUFlLEVBQUc7TUFDdEIsQ0FBQztNQUNEQyxLQUFLLEVBQUc7UUFDSkMsTUFBTSxFQUFHLElBQUk7UUFDYkMsR0FBRyxFQUFHLElBQUk7UUFDVkMsUUFBUSxFQUFHLElBQUk7UUFDZkMsUUFBUSxFQUFHLElBQUk7UUFDZkMsVUFBVSxFQUFHO01BQ2pCO0lBQ0osQ0FBQztJQUNEQyxPQUFPLEdBQUc7TUFDTkMsVUFBVSxFQUFHLFNBQUFBLFdBQUEsRUFBWTtRQUNyQmxCLEdBQUcsQ0FBQ0MsSUFBSSxHQUFHLEtBQUs7TUFDcEI7SUFDSixDQUFDO0lBQ0RrQixPQUFPLEdBQUc7TUFDTkMsSUFBSSxFQUFHLFNBQUFBLEtBQUEsRUFBVTtRQUNiLElBQUdwQixHQUFHLENBQUNFLEtBQUssRUFBRTtRQUNkRixHQUFHLENBQUNFLEtBQUssR0FBRyxJQUFJO1FBQ2hCbUIsU0FBUyxDQUFDQyxLQUFLLENBQUMsQ0FBQyxDQUFDQyxLQUFLLENBQUM7VUFDcEJDLElBQUksRUFB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QSxNQUFBLEVBQVU7TUFDZCxPQUFPNUcsR0FBRztJQUNkLENBQUM7SUFDREMsSUFBSSxFQUFHLFNBQUFBLEtBQVM0RyxHQUFHLEVBQUM7TUFDaEIsSUFBRyxPQUFPQSxHQUFHLEtBQUssU0FBUyxFQUFFN0csR0FBRyxDQUFDQyxJQUFJLEdBQUc0RyxHQUFHO0lBQy9DO0VBQ0osQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vdmVuZG9yL3J0aXBwaW4vbWVzc2VuZ2VyLXVpL3Jlc291cmNlcy9qcy9tb2R1bGVzL1JlY29yZEF1ZGlvLmpzP2E3ZDUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEF1ZGlvUmVjb3JkZXIgZnJvbSAnYXVkaW8tcmVjb3JkZXItcG9seWZpbGwnO1xuaW1wb3J0IG1wZWdFbmNvZGVyIGZyb20gJ2F1ZGlvLXJlY29yZGVyLXBvbHlmaWxsL21wZWctZW5jb2Rlcic7XG5BdWRpb1JlY29yZGVyLmVuY29kZXIgPSBtcGVnRW5jb2RlcjtcbkF1ZGlvUmVjb3JkZXIucHJvdG90eXBlLm1pbWVUeXBlID0gJ2F1ZGlvL21wZWcnO1xud2luZG93Lk1lZGlhUmVjb3JkZXIgPSBBdWRpb1JlY29yZGVyO1xuXG53aW5kb3cuUmVjb3JkQXVkaW8gPSAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBvcHQgPSB7XG4gICAgICAgIGxvY2sgOiB0cnVlLFxuICAgICAgICB1c2luZyA6IGZhbHNlLFxuICAgICAgICBlbGVtZW50cyA6IHtcbiAgICAgICAgICAgIHZpc3VhbGl6ZXIgOiBudWxsLFxuICAgICAgICAgICAgdmlzdWFsaXplckN0eCA6IG51bGwsXG4gICAgICAgICAgICByZWNvcmRfYXVkaW9fYWN0aW9uIDogbnVsbCxcbiAgICAgICAgICAgIHN0YXJ0X2F1ZGlvX3JlY29yZCA6IG51bGwsXG4gICAgICAgICAgICBpc19hdWRpb19yZWNvcmRpbmcgOiBudWxsLFxuICAgICAgICAgICAgcmVjb3JkX2F1ZGlvX3Jlc3VsdHMgOiBudWxsLFxuICAgICAgICAgICAgY29tcGxldGVkX2F1ZGlvIDogbnVsbCxcbiAgICAgICAgfSxcbiAgICAgICAgYXVkaW8gOiB7XG4gICAgICAgICAgICBzdHJlYW0gOiBudWxsLFxuICAgICAgICAgICAgY3R4IDogbnVsbCxcbiAgICAgICAgICAgIGFuaW1hdG9yIDogbnVsbCxcbiAgICAgICAgICAgIHJlY29yZGVyIDogbnVsbCxcbiAgICAgICAgICAgIGZpbmFsX2Jsb2IgOiBudWxsLFxuICAgICAgICB9LFxuICAgIH0sXG4gICAgbW91bnRlZCA9IHtcbiAgICAgICAgSW5pdGlhbGl6ZSA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG9wdC5sb2NrID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIG1ldGhvZHMgPSB7XG4gICAgICAgIG9wZW4gOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgaWYob3B0LnVzaW5nKSByZXR1cm47XG4gICAgICAgICAgICBvcHQudXNpbmcgPSB0cnVlO1xuICAgICAgICAgICAgTWVzc2VuZ2VyLmFsZXJ0KCkuTW9kYWwoe1xuICAgICAgICAgICAgICAgIHNpemUgOiAnbWQnLFxuICAgICAgICAgICAgICAgIGJhY2tkcm9wX2N0cmwgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBvdmVyZmxvdyA6IHRydWUsXG4gICAgICAgICAgICAgICAgdGhlbWUgOiAnZGFyaycsXG4gICAgICAgICAgICAgICAgaWNvbiA6ICdtdXNpYycsXG4gICAgICAgICAgICAgICAgdGl0bGU6ICdSZWNvcmQgQXVkaW8gTWVzc2FnZScsXG4gICAgICAgICAgICAgICAgcHJlX2xvYWRlcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBoNDogZmFsc2UsXG4gICAgICAgICAgICAgICAgb25SZWFkeTogbWV0aG9kcy5sb2FkQXVkaW8sXG4gICAgICAgICAgICAgICAgb25DbG9zZWQgOiBtZXRob2RzLmNsb3NlZFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgbG9hZEF1ZGlvIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGlmIChuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSkge1xuICAgICAgICAgICAgICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHthdWRpbzogdHJ1ZX0pLnRoZW4obWV0aG9kcy5yZWFkeSwgbWV0aG9kcy5lcnJvcik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1ldGhvZHMuZXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgcmVhZHkgOiBmdW5jdGlvbihzdHJlYW0pe1xuICAgICAgICAgICAgTWVzc2VuZ2VyLmFsZXJ0KCkuZmlsbE1vZGFsKHtib2R5IDogdGVtcGxhdGVzLmJvZHkoKX0pO1xuICAgICAgICAgICAgb3B0LmVsZW1lbnRzLnJlY29yZF9hdWRpb19hY3Rpb24gPSAkKFwiI3JlY29yZF9hdWRpb19hY3Rpb25cIik7XG4gICAgICAgICAgICBvcHQuZWxlbWVudHMuc3RhcnRfYXVkaW9fcmVjb3JkID0gJChcIiNzdGFydF9hdWRpb19yZWNvcmRcIik7XG4gICAgICAgICAgICBvcHQuZWxlbWVudHMuaXNfYXVkaW9fcmVjb3JkaW5nID0gJChcIiNpc19hdWRpb19yZWNvcmRpbmdcIik7XG4gICAgICAgICAgICBvcHQuZWxlbWVudHMucmVjb3JkX2F1ZGlvX3Jlc3VsdHMgPSAkKFwiI3JlY29yZF9hdWRpb19yZXN1bHRzXCIpO1xuICAgICAgICAgICAgb3B0LmVsZW1lbnRzLmNvbXBsZXRlZF9hdWRpbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb21wbGV0ZWRfYXVkaW8nKTtcbiAgICAgICAgICAgIG9wdC5lbGVtZW50cy52aXN1YWxpemVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnZpc3VhbGl6ZXInKTtcbiAgICAgICAgICAgIG9wdC5lbGVtZW50cy52aXN1YWxpemVyQ3R4ID0gb3B0LmVsZW1lbnRzLnZpc3VhbGl6ZXIuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgICAgICAgb3B0LmVsZW1lbnRzLnZpc3VhbGl6ZXIud2lkdGggPSBvcHQuZWxlbWVudHMudmlzdWFsaXplci5wYXJlbnRFbGVtZW50Lm9mZnNldFdpZHRoLTEwO1xuICAgICAgICAgICAgb3B0LmF1ZGlvLnN0cmVhbSA9IHN0cmVhbTtcbiAgICAgICAgICAgIG9wdC5hdWRpby5yZWNvcmRlciA9IG5ldyBNZWRpYVJlY29yZGVyKG9wdC5hdWRpby5zdHJlYW0pO1xuICAgICAgICAgICAgb3B0LmF1ZGlvLnJlY29yZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2RhdGFhdmFpbGFibGUnLCBtZXRob2RzLnN0b3BwZWQpXG4gICAgICAgICAgICBtZXRob2RzLnZpc3VhbGl6ZShvcHQuYXVkaW8uc3RyZWFtKTtcbiAgICAgICAgfSxcbiAgICAgICAgc3RhcnQgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgaWYoIW9wdC51c2luZykgcmV0dXJuO1xuICAgICAgICAgICAgb3B0LmVsZW1lbnRzLnN0YXJ0X2F1ZGlvX3JlY29yZC5oaWRlKCk7XG4gICAgICAgICAgICBvcHQuZWxlbWVudHMuaXNfYXVkaW9fcmVjb3JkaW5nLnNob3coKTtcbiAgICAgICAgICAgIG9wdC5hdWRpby5yZWNvcmRlci5zdGFydCgpO1xuICAgICAgICB9LFxuICAgICAgICBzdG9wIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGlmKCFvcHQudXNpbmcpIHJldHVybjtcbiAgICAgICAgICAgIG9wdC5hdWRpby5yZWNvcmRlci5zdG9wKCk7XG4gICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShvcHQuYXVkaW8uYW5pbWF0b3IpO1xuICAgICAgICAgICAgb3B0LmVsZW1lbnRzLnJlY29yZF9hdWRpb19hY3Rpb24uaGlkZSgpO1xuICAgICAgICAgICAgb3B0LmVsZW1lbnRzLnN0YXJ0X2F1ZGlvX3JlY29yZC5zaG93KCk7XG4gICAgICAgICAgICBvcHQuZWxlbWVudHMuaXNfYXVkaW9fcmVjb3JkaW5nLmhpZGUoKTtcbiAgICAgICAgICAgIG9wdC5lbGVtZW50cy5yZWNvcmRfYXVkaW9fcmVzdWx0cy5zaG93KCk7XG4gICAgICAgIH0sXG4gICAgICAgIHJldHJ5IDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIG9wdC5hdWRpby5maW5hbF9ibG9iID0gbnVsbDtcbiAgICAgICAgICAgIG9wdC5lbGVtZW50cy5jb21wbGV0ZWRfYXVkaW8uc3JjID0gJyc7XG4gICAgICAgICAgICBvcHQuZWxlbWVudHMucmVjb3JkX2F1ZGlvX2FjdGlvbi5zaG93KCk7XG4gICAgICAgICAgICBvcHQuZWxlbWVudHMucmVjb3JkX2F1ZGlvX3Jlc3VsdHMuaGlkZSgpO1xuICAgICAgICAgICAgbWV0aG9kcy52aXN1YWxpemUob3B0LmF1ZGlvLnN0cmVhbSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNlbmQgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgVGhyZWFkTWFuYWdlci5JbXBvcnQoKS5hdWRpb01lc3NhZ2Uob3B0LmF1ZGlvLmZpbmFsX2Jsb2IpO1xuICAgICAgICAgICAgbWV0aG9kcy5jbG9zZWQoKTtcbiAgICAgICAgICAgIE1lc3Nlbmdlci5hbGVydCgpLmRlc3Ryb3lNb2RhbCgpO1xuICAgICAgICB9LFxuICAgICAgICBzdG9wcGVkIDogZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICBvcHQuYXVkaW8uZmluYWxfYmxvYiA9IGUuZGF0YTtcbiAgICAgICAgICAgIG9wdC5lbGVtZW50cy5jb21wbGV0ZWRfYXVkaW8uc3JjID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwob3B0LmF1ZGlvLmZpbmFsX2Jsb2IpO1xuICAgICAgICB9LFxuICAgICAgICB2aXN1YWxpemUgOiBmdW5jdGlvbihzdHJlYW0pe1xuICAgICAgICAgICAgaWYoIW9wdC5hdWRpby5jdHgpIHtcbiAgICAgICAgICAgICAgICBvcHQuYXVkaW8uY3R4ID0gbmV3IEF1ZGlvQ29udGV4dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc291cmNlID0gb3B0LmF1ZGlvLmN0eC5jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZShzdHJlYW0pO1xuICAgICAgICAgICAgY29uc3QgYW5hbHlzZXIgPSBvcHQuYXVkaW8uY3R4LmNyZWF0ZUFuYWx5c2VyKCk7XG4gICAgICAgICAgICBhbmFseXNlci5mZnRTaXplID0gMjA0ODtcbiAgICAgICAgICAgIGNvbnN0IGJ1ZmZlckxlbmd0aCA9IGFuYWx5c2VyLmZyZXF1ZW5jeUJpbkNvdW50O1xuICAgICAgICAgICAgY29uc3QgZGF0YUFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyTGVuZ3RoKTtcbiAgICAgICAgICAgIHNvdXJjZS5jb25uZWN0KGFuYWx5c2VyKTtcbiAgICAgICAgICAgIGxldCBkcmF3ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgV0lEVEggPSBvcHQuZWxlbWVudHMudmlzdWFsaXplci53aWR0aFxuICAgICAgICAgICAgICAgIGNvbnN0IEhFSUdIVCA9IG9wdC5lbGVtZW50cy52aXN1YWxpemVyLmhlaWdodDtcbiAgICAgICAgICAgICAgICBhbmFseXNlci5nZXRCeXRlVGltZURvbWFpbkRhdGEoZGF0YUFycmF5KTtcbiAgICAgICAgICAgICAgICBvcHQuZWxlbWVudHMudmlzdWFsaXplckN0eC5maWxsU3R5bGUgPSAncmdiKDQ4LCA0OCwgNDgpJztcbiAgICAgICAgICAgICAgICBvcHQuZWxlbWVudHMudmlzdWFsaXplckN0eC5maWxsUmVjdCgwLCAwLCBXSURUSCwgSEVJR0hUKTtcbiAgICAgICAgICAgICAgICBvcHQuZWxlbWVudHMudmlzdWFsaXplckN0eC5saW5lV2lkdGggPSAyO1xuICAgICAgICAgICAgICAgIG9wdC5lbGVtZW50cy52aXN1YWxpemVyQ3R4LnN0cm9rZVN0eWxlID0gJ3JnYigwLCAxODgsIDQwKSc7XG4gICAgICAgICAgICAgICAgb3B0LmVsZW1lbnRzLnZpc3VhbGl6ZXJDdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgbGV0IHNsaWNlV2lkdGggPSBXSURUSCAqIDEuMCAvIGJ1ZmZlckxlbmd0aDtcbiAgICAgICAgICAgICAgICBsZXQgeCA9IDA7XG4gICAgICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGJ1ZmZlckxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB2ID0gZGF0YUFycmF5W2ldIC8gMTI4LjA7XG4gICAgICAgICAgICAgICAgICAgIGxldCB5ID0gdiAqIEhFSUdIVC8yO1xuICAgICAgICAgICAgICAgICAgICBpZihpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHQuZWxlbWVudHMudmlzdWFsaXplckN0eC5tb3ZlVG8oeCwgeSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHQuZWxlbWVudHMudmlzdWFsaXplckN0eC5saW5lVG8oeCwgeSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgeCArPSBzbGljZVdpZHRoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvcHQuZWxlbWVudHMudmlzdWFsaXplckN0eC5saW5lVG8ob3B0LmVsZW1lbnRzLnZpc3VhbGl6ZXIud2lkdGgsIG9wdC5lbGVtZW50cy52aXN1YWxpemVyLmhlaWdodC8yKTtcbiAgICAgICAgICAgICAgICBvcHQuZWxlbWVudHMudmlzdWFsaXplckN0eC5zdHJva2UoKTtcbiAgICAgICAgICAgICAgICBvcHQuYXVkaW8uYW5pbWF0b3IgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZHJhdyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcHQuYXVkaW8uYW5pbWF0b3IgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZHJhdyk7XG4gICAgICAgIH0sXG4gICAgICAgIGNsb3NlZCA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBpZihvcHQuYXVkaW8uc3RyZWFtKXtcbiAgICAgICAgICAgICAgICBvcHQuYXVkaW8uc3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2goKHRyYWNrKSA9PiB0cmFjay5zdG9wKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYob3B0LmF1ZGlvLmFuaW1hdG9yKXtcbiAgICAgICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShvcHQuYXVkaW8uYW5pbWF0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3B0ID0ge1xuICAgICAgICAgICAgICAgIGxvY2sgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB1c2luZyA6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGVsZW1lbnRzIDoge1xuICAgICAgICAgICAgICAgICAgICB2aXN1YWxpemVyIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0b3IgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICB2aXN1YWxpemVyQ3R4IDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgcmVjb3JkX2F1ZGlvX2FjdGlvbiA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0X2F1ZGlvX3JlY29yZCA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGlzX2F1ZGlvX3JlY29yZGluZyA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHJlY29yZF9hdWRpb19yZXN1bHRzIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkX2F1ZGlvIDogbnVsbCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGF1ZGlvIDoge1xuICAgICAgICAgICAgICAgICAgICBzdHJlYW0gOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBjdHggOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICByZWNvcmRlciA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGZpbmFsX2Jsb2IgOiBudWxsLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBlcnJvciA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5kZXN0cm95TW9kYWwoKTtcbiAgICAgICAgICAgIE1lc3Nlbmdlci5hbGVydCgpLkFsZXJ0KHtcbiAgICAgICAgICAgICAgICB0aGVtZSA6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgdGl0bGUgOiAnVW5hYmxlIHRvIGxvYWQgeW91ciBhdWRpbyBkZXZpY2UuJyxcbiAgICAgICAgICAgICAgICB0b2FzdCA6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbWV0aG9kcy5jbG9zZWQoKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgdGVtcGxhdGVzID0ge1xuICAgICAgICBib2R5IDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiAnPGRpdiBpZD1cInJlY29yZF9hdWRpb19hY3Rpb25cIiBjbGFzcz1cImNvbC0xMiB0ZXh0LWNlbnRlclwiPicgK1xuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiY29sLTEyXCI+PGNhbnZhcyBjbGFzcz1cInZpc3VhbGl6ZXJcIiBoZWlnaHQ9XCI2MHB4XCI+PC9jYW52YXM+PC9kaXY+JyArXG4gICAgICAgICAgICAgICAgJzxkaXYgaWQ9XCJzdGFydF9hdWRpb19yZWNvcmRcIj48aDM+U3RhcnQgUmVjb3JkaW5nPC9oMz48YnV0dG9uIG9uY2xpY2s9XCJSZWNvcmRBdWRpby5zdGFydCgpXCIgdHlwZT1cImJ1dHRvblwiIHRpdGxlPVwiU3RhcnQgcmVjb3JkaW5nIVwiIGNsYXNzPVwibXgtMyBtYi00IGJ0biBidG4tY2lyY2xlIGJ0bi1jaXJjbGUteGwgYnRuLXN1Y2Nlc3NcIj48aSBjbGFzcz1cImZhcyBmYS1taWNyb3Bob25lIGZhLTJ4XCI+PC9pPjwvYnV0dG9uPjwvZGl2PicgK1xuICAgICAgICAgICAgICAgICc8ZGl2IGlkPVwiaXNfYXVkaW9fcmVjb3JkaW5nXCIgc3R5bGU9XCJkaXNwbGF5OiBub25lXCI+PGgzPlJlY29yZGluZy4uLjwvaDM+PGJ1dHRvbiBvbmNsaWNrPVwiUmVjb3JkQXVkaW8uc3RvcCgpXCIgdHlwZT1cImJ1dHRvblwiIHRpdGxlPVwiRmluaXNoIHJlY29yZGluZyFcIiBjbGFzcz1cIm14LTMgbWItNCBidG4gYnRuLWNpcmNsZSBidG4tY2lyY2xlLXhsIGJ0bi1kYW5nZXIgZ2xvd2luZ193YXJuaW5nX2J0blwiPjxpIGNsYXNzPVwiZmFzIGZhLW1pY3JvcGhvbmUtYWx0IGZhLTJ4XCI+PC9pPjwvYnV0dG9uPjwvZGl2PicgK1xuICAgICAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAnPGRpdiBpZD1cInJlY29yZF9hdWRpb19yZXN1bHRzXCIgY2xhc3M9XCJjb2wtMTIgdGV4dC1jZW50ZXJcIiBzdHlsZT1cImRpc3BsYXk6IG5vbmVcIj4nICtcbiAgICAgICAgICAgICAgICAnPGF1ZGlvIGlkPVwiY29tcGxldGVkX2F1ZGlvXCIgY29udHJvbHM+PC9hdWRpbz48aHI+JyArXG4gICAgICAgICAgICAgICAgJzxidXR0b24gb25jbGljaz1cIlJlY29yZEF1ZGlvLnJldHJ5KClcIiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWxnIGJ0bi1wcmltYXJ5IG1yLTJcIj48aSBjbGFzcz1cImZhcyBmYS1yZWRvXCI+PC9pPiBSZXRyeTwvYnV0dG9uPicgK1xuICAgICAgICAgICAgICAgICc8YnV0dG9uIG9uY2xpY2s9XCJSZWNvcmRBdWRpby5zZW5kKClcIiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWxnIGJ0bi1zdWNjZXNzXCI+PGkgY2xhc3M9XCJmYXMgZmEtcGxheS1jaXJjbGVcIj48L2k+IFNlbmQ8L2J1dHRvbj4nK1xuICAgICAgICAgICAgICAgICc8L2Rpdj4nO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICBpbml0IDogbW91bnRlZC5Jbml0aWFsaXplLFxuICAgICAgICBvcGVuIDogbWV0aG9kcy5vcGVuLFxuICAgICAgICBzdGFydCA6IG1ldGhvZHMuc3RhcnQsXG4gICAgICAgIHN0b3AgOiBtZXRob2RzLnN0b3AsXG4gICAgICAgIHJldHJ5IDogbWV0aG9kcy5yZXRyeSxcbiAgICAgICAgc2VuZDogbWV0aG9kcy5zZW5kLFxuICAgICAgICBzdGF0ZSA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gb3B0O1xuICAgICAgICB9LFxuICAgICAgICBsb2NrIDogZnVuY3Rpb24oYXJnKXtcbiAgICAgICAgICAgIGlmKHR5cGVvZiBhcmcgPT09ICdib29sZWFuJykgb3B0LmxvY2sgPSBhcmdcbiAgICAgICAgfVxuICAgIH07XG59KCkpOyJdLCJuYW1lcyI6WyJBdWRpb1JlY29yZGVyIiwibXBlZ0VuY29kZXIiLCJlbmNvZGVyIiwicHJvdG90eXBlIiwibWltZVR5cGUiLCJ3aW5kb3ciLCJNZWRpYVJlY29yZGVyIiwiUmVjb3JkQXVkaW8iLCJvcHQiLCJsb2NrIiwidXNpbmciLCJlbGVtZW50cyIsInZpc3VhbGl6ZXIiLCJ2aXN1YWxpemVyQ3R4IiwicmVjb3JkX2F1ZGlvX2FjdGlvbiIsInN0YXJ0X2F1ZGlvX3JlY29yZCIsImlzX2F1ZGlvX3JlY29yZGluZyIsInJlY29yZF9hdWRpb19yZXN1bHRzIiwiY29tcGxldGVkX2F1ZGlvIiwiYXVkaW8iLCJzdHJlYW0iLCJjdHgiLCJhbmltYXRvciIsInJlY29yZGVyIiwiZmluYWxfYmxvYiIsIm1vdW50ZWQiLCJJbml0aWFsaXplIiwibWV0aG9kcyIsIm9wZW4iLCJNZXNzZW5nZXIiLCJhbGVydCIsIk1vZGFsIiwic2l6ZSIsImJhY2tkcm9wX2N0cmwiLCJvdmVyZmxvdyIsInRoZW1lIiwiaWNvbiIsInRpdGxlIiwicHJlX2xvYWRlciIsImg0Iiwib25SZWFkeSIsImxvYWRBdWRpbyIsIm9uQ2xvc2VkIiwiY2xvc2VkIiwibmF2aWdhdG9yIiwibWVkaWFEZXZpY2VzIiwiZ2V0VXNlck1lZGlhIiwidGhlbiIsInJlYWR5IiwiZXJyb3IiLCJmaWxsTW9kYWwiLCJib2R5IiwidGVtcGxhdGVzIiwiJCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJxdWVyeVNlbGVjdG9yIiwiZ2V0Q29udGV4dCIsIndpZHRoIiwicGFyZW50RWxlbWVudCIsIm9mZnNldFdpZHRoIiwiYWRkRXZlbnRMaXN0ZW5lciIsInN0b3BwZWQiLCJ2aXN1YWxpemUiLCJzdGFydCIsImhpZGUiLCJzaG93Iiwic3RvcCIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwicmV0cnkiLCJzcmMiLCJzZW5kIiwiVGhyZWFkTWFuYWdlciIsIkltcG9ydCIsImF1ZGlvTWVzc2FnZSIsImRlc3Ryb3lNb2RhbCIsImUiLCJkYXRhIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiQXVkaW9Db250ZXh0Iiwic291cmNlIiwiY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UiLCJhbmFseXNlciIsImNyZWF0ZUFuYWx5c2VyIiwiZmZ0U2l6ZSIsImJ1ZmZlckxlbmd0aCIsImZyZXF1ZW5jeUJpbkNvdW50IiwiZGF0YUFycmF5IiwiVWludDhBcnJheSIsImNvbm5lY3QiLCJkcmF3IiwiV0lEVEgiLCJIRUlHSFQiLCJoZWlnaHQiLCJnZXRCeXRlVGltZURvbWFpbkRhdGEiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsImxpbmVXaWR0aCIsInN0cm9rZVN0eWxlIiwiYmVnaW5QYXRoIiwic2xpY2VXaWR0aCIsIngiLCJpIiwidiIsInkiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzdHJva2UiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJnZXRUcmFja3MiLCJmb3JFYWNoIiwidHJhY2siLCJBbGVydCIsInRvYXN0IiwiaW5pdCIsInN0YXRlIiwiYXJnIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./vendor/rtippin/messenger-ui/resources/js/modules/RecordAudio.js\n");

/***/ }),

/***/ "./vendor/rtippin/messenger-ui/resources/js/modules/ThreadBots.js":
/*!************************************************************************!*\
  !*** ./vendor/rtippin/messenger-ui/resources/js/modules/ThreadBots.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("/* provided dependency */ var $ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\nwindow.ThreadBots = function () {\n  var opt = {\n      lock: true,\n      thread: null,\n      bots_table: null,\n      current_bot: null,\n      current_bot_action_container: null,\n      avatar_input: null,\n      handlers: null,\n      current_handler: null,\n      current_action: null\n    },\n    mounted = {\n      Initialize: function Initialize() {\n        opt.lock = false;\n        $('body').append(templates.avatar_input());\n        opt.avatar_input = document.getElementById('bot_avatar_upload');\n        opt.avatar_input.addEventListener('change', methods.uploadAvatar, false);\n      }\n    },\n    methods = {\n      setThread: function setThread() {\n        if (ThreadManager.state()._thread) {\n          opt.thread = ThreadManager.state()._thread;\n          return true;\n        }\n        return false;\n      },\n      loadDataTable: function loadDataTable(elm, term) {\n        if (opt.bots_table) opt.bots_table.destroy();\n        if (!elm || !elm.length) return;\n        opt.bots_table = elm.DataTable({\n          \"language\": {\n            \"info\": \"Showing _START_ to _END_ of _TOTAL_ \" + term,\n            \"lengthMenu\": \"Show _MENU_ \" + term,\n            \"infoEmpty\": \"Showing 0 to 0 of 0 \" + term,\n            \"infoFiltered\": \"(filtered from _MAX_ total \" + term + \")\",\n            \"emptyTable\": \"No \" + term + \" found\",\n            \"zeroRecords\": \"No matching \" + term + \" found\"\n          },\n          \"drawCallback\": function drawCallback(settings) {\n            var api = new $.fn.DataTable.Api(settings),\n              pagination = $(this).closest('.dataTables_wrapper').find('.dataTables_paginate');\n            pagination.toggle(api.page.info().pages > 1);\n          },\n          \"pageLength\": 25\n        });\n      },\n      viewBots: function viewBots() {\n        if (!methods.setThread()) return;\n        var gather = function gather() {\n          Messenger.xhr().request({\n            route: Messenger.common().API + 'threads/' + opt.thread.id + '/bots',\n            success: function success(bots) {\n              Messenger.alert().fillModal({\n                body: templates.bots(bots),\n                title: opt.thread.name + ' Bots'\n              });\n              methods.loadDataTable($(\"#view_bots_table\"), 'bots');\n            },\n            fail_alert: true\n          });\n        };\n        var modal = {\n          icon: 'robot',\n          backdrop_ctrl: false,\n          theme: 'dark',\n          title: 'Loading Bots...',\n          pre_loader: true,\n          overflow: true,\n          unlock_buttons: false,\n          h4: false,\n          size: 'lg',\n          onReady: gather\n        };\n        if (opt.thread.options.manage_bots) {\n          modal.cb_btn_txt = 'Create or Install Bot';\n          modal.cb_btn_icon = 'robot';\n          modal.cb_btn_theme = 'success';\n          modal.callback = methods.createOrInstall;\n        }\n        Messenger.alert().Modal(modal);\n      },\n      createOrInstall: function createOrInstall() {\n        Messenger.alert().Modal({\n          icon: 'robot',\n          backdrop_ctrl: false,\n          theme: 'dark',\n          title: 'Create or Install Bot',\n          h4: false,\n          size: 'md',\n          body: templates.create_or_install()\n        });\n      },\n      viewBotPackages: function viewBotPackages() {\n        if (!methods.setThread()) return;\n        var gather = function gather() {\n          Messenger.xhr().request({\n            route: Messenger.common().API + 'threads/' + opt.thread.id + '/bots/packages',\n            success: function success(packages) {\n              Messenger.alert().fillModal({\n                body: templates.bot_packages(packages),\n                title: 'Bot Packages'\n              });\n            },\n            fail_alert: true\n          });\n        };\n        Messenger.alert().Modal({\n          icon: 'robot',\n          backdrop_ctrl: false,\n          theme: 'dark',\n          title: 'Loading Bot Packages...',\n          pre_loader: true,\n          overflow: true,\n          unlock_buttons: false,\n          h4: false,\n          size: 'lg',\n          onReady: gather\n        });\n      },\n      addBot: function addBot() {\n        Messenger.alert().Modal({\n          icon: 'robot',\n          backdrop_ctrl: false,\n          theme: 'dark',\n          title: 'Add Bot',\n          overflow: true,\n          unlock_buttons: false,\n          h4: false,\n          size: 'md',\n          body: templates.add_bot(),\n          cb_btn_txt: 'Add Bot',\n          cb_btn_icon: 'robot',\n          cb_btn_theme: 'success',\n          onReady: function onReady() {\n            $(\".m_setting_toggle\").change(function () {\n              $(this).is(':checked') ? $(this).closest('tr').addClass('alert-success') : $(this).closest('tr').removeClass('alert-success');\n            });\n          },\n          callback: methods.storeBot\n        });\n      },\n      viewBot: function viewBot(id) {\n        if (!methods.setThread()) return;\n        var gather = function gather() {\n          Messenger.xhr().request({\n            route: Messenger.common().API + 'threads/' + opt.thread.id + '/bots/' + id,\n            success: function success(bot) {\n              opt.current_bot = bot;\n              Messenger.alert().fillModal({\n                body: templates.view_bot(bot),\n                title: bot.name\n              });\n              opt.current_bot_action_container = $(\"#bot_actions_container\");\n              if (bot.hasOwnProperty('actions')) {\n                setTimeout(function () {\n                  methods.loadDataTable($(\"#view_bots_actions_table\"), 'actions');\n                }, 100);\n              }\n            },\n            fail_alert: true\n          });\n        };\n        Messenger.alert().Modal({\n          icon: 'robot',\n          backdrop_ctrl: false,\n          theme: 'dark',\n          title: 'Loading Bot...',\n          pre_loader: true,\n          unlock_buttons: false,\n          h4: false,\n          size: 'fullscreen',\n          onReady: gather\n        });\n      },\n      editBot: function editBot(id) {\n        if (!methods.setThread()) return;\n        var gather = function gather() {\n          var fill = function fill(bot) {\n            opt.current_bot = bot;\n            Messenger.alert().fillModal({\n              body: templates.edit_bot(bot),\n              title: 'Editing ' + bot.name\n            });\n            $(\".m_setting_toggle\").change(function () {\n              $(this).is(':checked') ? $(this).closest('tr').addClass('alert-success') : $(this).closest('tr').removeClass('alert-success');\n            });\n          };\n          if (opt.current_bot && opt.current_bot.id === id) {\n            fill(opt.current_bot);\n            return;\n          }\n          Messenger.xhr().request({\n            route: Messenger.common().API + 'threads/' + opt.thread.id + '/bots/' + id,\n            success: fill,\n            fail_alert: true,\n            fail_keep_open: true\n          });\n        };\n        Messenger.alert().Modal({\n          icon: 'robot',\n          backdrop_ctrl: false,\n          theme: 'dark',\n          title: 'Loading Bot...',\n          pre_loader: true,\n          unlock_buttons: false,\n          h4: false,\n          size: 'md',\n          overflow: true,\n          onReady: gather,\n          cb_btn_txt: 'Save Bot',\n          cb_btn_icon: 'robot',\n          cb_btn_theme: 'success',\n          callback: function callback() {\n            methods.updateBot(id);\n          }\n        });\n      },\n      editAction: function editAction(id) {\n        if (!methods.setThread() || !opt.current_bot) return;\n        if (!opt.current_bot.hasOwnProperty('actions') || !opt.current_bot.actions.length) {\n          methods.reloadBotActions();\n        }\n        for (var i = 0; i < opt.current_bot.actions.length; i++) {\n          if (opt.current_bot.actions[i].id === id) {\n            opt.current_action = opt.current_bot.actions[i];\n            return methods.generateEditActionForm();\n          }\n        }\n        methods.reloadBotActions();\n      },\n      updateAction: function updateAction() {\n        if (!methods.setThread() || !opt.current_bot || !opt.current_action) return;\n        Messenger.button().addLoader({\n          id: '#save_bot_action_btn'\n        });\n        Messenger.xhr().payload({\n          route: Messenger.common().API + 'threads/' + opt.thread.id + '/bots/' + opt.current_bot.id + '/actions/' + opt.current_action.id,\n          data: methods.makeHandlerFormData(opt.current_action.handler),\n          success: methods.reloadBotActions,\n          fail_alert: true,\n          fail_keep_open: true\n        }, 'put');\n      },\n      generateEditActionForm: function generateEditActionForm() {\n        var _opt$current_action$h;\n        var extra = '';\n        switch (opt.current_action.handler.alias) {\n          case 'react':\n            extra = handlers.reaction(opt.current_action.payload.reaction);\n            break;\n          case 'react_bomb':\n            extra = handlers.reaction_bomb(opt.current_action.payload.reactions);\n            break;\n          case 'reply':\n            extra = handlers.replies(opt.current_action.payload);\n            break;\n          case 'invitations':\n            extra = handlers.invite_lifetime(opt.current_action.payload);\n            break;\n          case 'document_finder':\n          case 'wiki':\n          case 'youtube':\n            extra = handlers.result_limit(opt.current_action.payload);\n            break;\n        }\n        opt.current_bot_action_container.html(handlers.start(opt.current_action.handler, true) + handlers.base(opt.current_action) + handlers.triggers(opt.current_action.triggers, opt.current_action.handler.triggers, (_opt$current_action$h = opt.current_action.handler.match) !== null && _opt$current_action$h !== void 0 ? _opt$current_action$h : opt.current_action.match) + handlers.match(opt.current_action.match, opt.current_action.handler.match) + extra + handlers.end(true));\n        $(\".m_setting_toggle\").change(function () {\n          $(this).is(':checked') ? $(this).closest('tr').addClass('alert-success') : $(this).closest('tr').removeClass('alert-success');\n        });\n      },\n      viewAvailableHandlers: function viewAvailableHandlers() {\n        if (!methods.setThread() || !opt.current_bot) return;\n        opt.current_bot_action_container.html(Messenger.alert().loader(true));\n        Messenger.xhr().request({\n          route: Messenger.common().API + 'threads/' + opt.thread.id + '/bots/' + opt.current_bot.id + '/add-handlers',\n          success: function success(handlers) {\n            opt.handlers = handlers;\n            opt.current_bot_action_container.html(templates.view_handlers(handlers));\n            methods.loadDataTable($(\"#view_handlers_table\"), 'actions');\n          },\n          fail_alert: true\n        });\n      },\n      createAction: function createAction(alias) {\n        if (!methods.setThread() || !opt.current_bot) return;\n        if (!opt.handlers) {\n          Messenger.xhr().request({\n            route: Messenger.common().API + 'threads/' + opt.thread.id + '/bots/' + opt.current_bot.id + '/add-handlers',\n            success: function success(handlers) {\n              opt.handlers = handlers;\n              methods.createAction(alias);\n            },\n            fail_alert: true\n          });\n          return;\n        }\n        for (var i = 0; i < opt.handlers.length; i++) {\n          if (opt.handlers[i].alias === alias) {\n            opt.current_handler = opt.handlers[i];\n            return methods.generateCreateActionForm();\n          }\n        }\n        methods.reloadBotActions();\n      },\n      generateCreateActionForm: function generateCreateActionForm() {\n        var extra = '';\n        switch (opt.current_handler.alias) {\n          case 'react':\n            extra = handlers.reaction();\n            break;\n          case 'react_bomb':\n            extra = handlers.reaction_bomb();\n            break;\n          case 'reply':\n            extra = handlers.replies();\n            break;\n          case 'invitations':\n            extra = handlers.invite_lifetime();\n            break;\n          case 'document_finder':\n          case 'wiki':\n          case 'youtube':\n            extra = handlers.result_limit();\n            break;\n        }\n        opt.current_bot_action_container.html(handlers.start(opt.current_handler, false) + handlers.base() + handlers.triggers(null, opt.current_handler.triggers, opt.current_handler.match) + handlers.match(null, opt.current_handler.match) + extra + handlers.end(false));\n        $(\".m_setting_toggle\").change(function () {\n          $(this).is(':checked') ? $(this).closest('tr').addClass('alert-success') : $(this).closest('tr').removeClass('alert-success');\n        });\n      },\n      storeAction: function storeAction() {\n        if (!methods.setThread() || !opt.current_handler || !opt.current_bot) return;\n        Messenger.button().addLoader({\n          id: '#save_bot_action_btn'\n        });\n        Messenger.xhr().payload({\n          route: Messenger.common().API + 'threads/' + opt.thread.id + '/bots/' + opt.current_bot.id + '/actions',\n          data: methods.makeHandlerFormData(opt.current_handler),\n          success: methods.reloadBotActions,\n          fail_alert: true,\n          fail_keep_open: true\n        });\n      },\n      reloadBotActions: function reloadBotActions() {\n        if (!methods.setThread() || !opt.current_bot) return;\n        opt.current_bot_action_container.html(Messenger.alert().loader(true));\n        Messenger.xhr().request({\n          route: Messenger.common().API + 'threads/' + opt.thread.id + '/bots/' + opt.current_bot.id + '/actions',\n          success: function success(actions) {\n            opt.current_bot.actions = actions;\n            opt.current_bot_action_container.html(templates.bot_actions_table(actions));\n            methods.loadDataTable($(\"#view_bots_actions_table\"), 'actions');\n          },\n          fail_alert: true\n        });\n      },\n      makeHandlerFormData: function makeHandlerFormData(handler) {\n        var form = {},\n          match = $(\"#g_s_action_match\").val();\n        form.handler = handler.alias;\n        form.cooldown = parseInt($(\"#g_s_bot_cooldown\").val());\n        form.enabled = $(\"#g_s_action_enabled\").is(\":checked\");\n        form.admin_only = $(\"#g_s_admin_only_action\").is(\":checked\");\n        if (!handler.triggers && ![handler.match, match].includes('any')) {\n          form.triggers = [$(\"#g_s_action_triggers\").val()];\n        }\n        if (!handler.match) {\n          form.match = match;\n        }\n        if (handler.alias === 'react') {\n          form.reaction = $(\"#g_s_bot_reaction\").val();\n        }\n        if (handler.alias === 'react_bomb') {\n          form.reactions = [];\n          for (var i = 0; i < 10; i++) {\n            var bomb_emoji = $(\"#bot_reaction_bomb_\" + i).val();\n            if (bomb_emoji.trim().length) form.reactions.push(bomb_emoji);\n          }\n        }\n        if (handler.alias === 'reply') {\n          form.quote_original = $(\"#g_s_quote_original\").is(\":checked\");\n          form.replies = [];\n          var replies = [$(\"#g_s_reply_1\").val(), $(\"#g_s_reply_2\").val(), $(\"#g_s_reply_3\").val(), $(\"#g_s_reply_4\").val(), $(\"#g_s_reply_5\").val()];\n          replies.forEach(function (reply) {\n            if (reply.trim().length) form.replies.push(reply);\n          });\n        }\n        if (handler.alias === 'invitations') {\n          form.lifetime_minutes = parseInt($(\"#g_s_bot_inv_lifetime\").val());\n        }\n        if (['document_finder', 'wiki', 'youtube'].includes(handler.alias)) {\n          form.limit = parseInt($(\"#g_s_bot_result_limit\").val());\n        }\n        return form;\n      },\n      removeBot: function removeBot(id) {\n        if (!methods.setThread()) return;\n        if (opt.current_bot && opt.current_bot.id === id) {\n          Messenger.alert().Modal({\n            theme: 'danger',\n            icon: 'trash',\n            backdrop_ctrl: false,\n            title: 'Remove Bot?',\n            body: templates.warn_delete(),\n            cb_btn_txt: 'Delete',\n            cb_btn_icon: 'trash',\n            cb_btn_theme: 'danger',\n            callback: methods.deleteBot\n          });\n          return;\n        }\n        Messenger.xhr().request({\n          route: Messenger.common().API + 'threads/' + opt.thread.id + '/bots/' + id,\n          success: function success(bot) {\n            opt.current_bot = bot;\n            methods.removeBot(bot.id);\n          },\n          fail_alert: true\n        });\n      },\n      removeAction: function removeAction(id) {\n        if (!methods.setThread() || !opt.current_bot) return;\n        opt.current_bot_action_container.html(Messenger.alert().loader(true));\n        Messenger.xhr().payload({\n          route: Messenger.common().API + 'threads/' + opt.thread.id + '/bots/' + opt.current_bot.id + '/actions/' + id,\n          data: {},\n          success: methods.reloadBotActions,\n          fail_alert: true\n        }, 'delete');\n      },\n      deleteBot: function deleteBot() {\n        if (!methods.setThread() || !opt.current_bot) return;\n        Messenger.xhr().payload({\n          route: Messenger.common().API + 'threads/' + opt.thread.id + '/bots/' + opt.current_bot.id,\n          data: {},\n          success: methods.viewBots,\n          fail_alert: true\n        }, 'delete');\n      },\n      storeBot: function storeBot() {\n        if (!methods.setThread()) return;\n        Messenger.xhr().payload({\n          route: Messenger.common().API + 'threads/' + opt.thread.id + '/bots',\n          data: {\n            name: $('#g_s_bot_name').val(),\n            enabled: $(\"#g_s_bot_enabled\").is(\":checked\"),\n            hide_actions: $(\"#g_s_hide_actions\").is(\":checked\"),\n            cooldown: parseInt($(\"#g_s_bot_cooldown\").val())\n          },\n          success: function success(bot) {\n            methods.viewBot(bot.id);\n          },\n          fail_alert: true,\n          fail_keep_open: true\n        });\n      },\n      installBotPackage: function installBotPackage(alias) {\n        if (!methods.setThread()) return;\n        Messenger.alert().fillModal({\n          loader: true,\n          title: 'Installing Bot...'\n        });\n        Messenger.xhr().payload({\n          route: Messenger.common().API + 'threads/' + opt.thread.id + '/bots/packages',\n          data: {\n            alias: alias\n          },\n          success: function success(bot) {\n            methods.viewBot(bot.id);\n            Messenger.alert().Alert({\n              toast: true,\n              theme: 'success',\n              title: bot.name + ' was successfully installed.'\n            });\n          },\n          fail_alert: true\n        });\n      },\n      updateBot: function updateBot(id) {\n        if (!methods.setThread()) return;\n        Messenger.xhr().payload({\n          route: Messenger.common().API + 'threads/' + opt.thread.id + '/bots/' + id,\n          data: {\n            name: $('#g_s_bot_name').val(),\n            enabled: $(\"#g_s_bot_enabled\").is(\":checked\"),\n            hide_actions: $(\"#g_s_hide_actions\").is(\":checked\"),\n            cooldown: parseInt($(\"#g_s_bot_cooldown\").val())\n          },\n          success: function success(data) {\n            methods.viewBot(data.id);\n          },\n          fail_alert: true,\n          fail_keep_open: true\n        }, 'put');\n      },\n      uploadAvatar: function uploadAvatar() {\n        if (!methods.setThread() || !opt.current_bot || !opt.avatar_input.files.length) return;\n        var data = new FormData();\n        data.append('image', opt.avatar_input.files[0]);\n        PageListeners.listen().disposeTooltips();\n        Messenger.alert().fillModal({\n          loader: true,\n          no_close: true,\n          body: null,\n          title: 'Uploading...'\n        });\n        Messenger.xhr().payload({\n          route: Messenger.common().API + 'threads/' + opt.thread.id + '/bots/' + opt.current_bot.id + '/avatar',\n          data: data,\n          success: function success(data) {\n            methods.viewBot(data.id);\n          },\n          fail_alert: true\n        });\n      },\n      removeAvatar: function removeAvatar() {\n        if (!methods.setThread() || !opt.current_bot) return;\n        Messenger.alert().fillModal({\n          loader: true,\n          no_close: true,\n          body: null,\n          title: 'Removing...'\n        });\n        Messenger.xhr().payload({\n          route: Messenger.common().API + 'threads/' + opt.thread.id + '/bots/' + opt.current_bot.id + '/avatar',\n          data: {},\n          success: function success() {\n            methods.viewBot(opt.current_bot.id);\n          },\n          fail_alert: true\n        }, 'delete');\n      },\n      updateTriggersForm: function updateTriggersForm() {\n        var container = $(\"#bot_action_triggers_form\");\n        if ($(\"#g_s_action_match\").val() === 'any') {\n          container.addClass('NS');\n        } else {\n          container.removeClass('NS');\n        }\n      }\n    },\n    templates = {\n      bots: function bots(_bots) {\n        var table_top = '<div class=\"row\">\\n' + '    <div class=\"col-12\">\\n' + '        <div class=\"table-responsive-sm\">\\n' + '            <table id=\"view_bots_table\" class=\"table table-sm table-hover\">\\n' + '                <thead>\\n' + '                <tr>\\n' + '                    <th>Name</th>\\n' + '                    <th>Enabled</th>\\n' + '                    <th>On Cooldown</th>\\n' + '                    <th>Cooldown</th>\\n' + '                    <th>Actions</th>\\n' + '                    <th>Options</th>\\n' + '                </tr>\\n' + '                </thead>\\n' + '                <tbody>',\n          table_bot = '</tbody></table></div></div></div>',\n          table_fill = '';\n        var bot_fill = function bot_fill(bot) {\n          var online = bot.enabled ? bot.on_cooldown ? 'away' : 'online' : 'offline',\n            manage = '<a class=\"dropdown-item\" onclick=\"ThreadBots.editBot(\\'' + bot.id + '\\'); return false;\" href=\"#\" title=\"Edit\"><i class=\"fas fa-edit\"></i> Edit</a>' + '<a class=\"dropdown-item\" onclick=\"ThreadBots.removeBot(\\'' + bot.id + '\\'); return false;\" href=\"#\" title=\"Remove\"><i class=\"fas fa-trash-alt\"></i> Delete</a>';\n          return '<tr id=\"row_' + bot.id + '\">\\n' + '     <td class=\"pointer_area\" onclick=\"ThreadBots.viewBot(\\'' + bot.id + '\\')\">\\n' + '      <div class=\"table_links\">\\n' + '        <div class=\"nowrap\">\\n' + '          <img alt=\"Bot Avatar\" class=\"rounded-circle group-image avatar-is-' + online + '\" src=\"' + bot.avatar.sm + '\" />\\n' + '          <span class=\"h5\"><span class=\"badge badge-light\">' + bot.name + '</span></span>\\n' + '         </div>\\n' + '       </div>\\n' + '  </td>' + '  <td class=\"h5\">\\n' + (bot.enabled ? '<span class=\"badge badge-success\"><i class=\"fas fa-check\"></i></span>' : '<span class=\"badge badge-danger\"><i class=\"fas fa-times\"></i></span>') + '  </td>\\n' + '  <td class=\"h5\">\\n' + (bot.on_cooldown ? '<span class=\"badge badge-danger\"><i class=\"fas fa-hourglass-half\"></i> Yes</span>' : '<span class=\"badge badge-success\"><i class=\"fas fa-check\"></i> No</span>') + '  </td>\\n' + '  <td class=\"h5\"><span class=\"badge badge-primary\">' + bot.cooldown + ' seconds</span></td>\\n' + '  <td class=\"h5\"><span class=\"badge badge-primary\">' + bot.actions_count + '</span></td>\\n' + '  <td>\\n' + '  <div class=\"dropdown float-right\">\\n' + '    <button class=\"btn btn-sm btn-outline-primary dropdown-toggle\" type=\"button\" data-toggle=\"dropdown\"><i class=\"fas fa-cog\"></i></button>\\n' + '    <div class=\"dropdown-menu dropdown-menu-right\">\\n' + '       <a class=\"dropdown-item\" onclick=\"ThreadBots.viewBot(\\'' + bot.id + '\\'); return false;\" href=\"#\" title=\"View\"><i class=\"fas fa-robot\"></i> ' + (opt.thread.options.manage_bots ? 'Manage Actions' : 'View Actions') + '</a>' + (opt.thread.options.manage_bots ? manage : '') + ' </span>\\n' + ' </div></div>' + '</td>\\n' + '</tr>';\n        };\n        if (_bots && _bots.length) {\n          _bots.forEach(function (bot) {\n            table_fill += bot_fill(bot);\n          });\n        }\n        return table_top + table_fill + table_bot;\n      },\n      create_or_install: function create_or_install() {\n        return '<div class=\"card mt-3\">' + '<div class=\"card-body bg-primary shadow rounded\">' + '<h4>Would you like to create your own bot or install a ready-made bot package?</h4>' + '</div>' + '</div><hr>' + '<div class=\"col-12 text-center mt-3\">' + '<button type=\"button\" onclick=\"ThreadBots.addBot()\" class=\"btn btn-lg btn-primary mt-2 mr-2\"><i class=\"fas fa-robot\"></i> Create</button>' + '<button type=\"button\" onclick=\"ThreadBots.viewBotPackages()\" class=\"btn btn-lg btn-primary mt-2\"><i class=\"fas fa-server\"></i> Install Package</button>' + '</div>';\n      },\n      bot_packages: function bot_packages(packages) {\n        if (!packages.length) {\n          return '<div class=\"card mt-3\">' + '<div class=\"card-body bg-warning shadow rounded text-center\">' + '<h4>There are no available bot packages to install.</h4>' + '</div></div>';\n        }\n        var html = '';\n        var package_fill = function package_fill(packaged_bot) {\n          var install_list = '',\n            already_installed_list = '',\n            useInstalls = false,\n            useAlreadyInstalled = false;\n          if (packaged_bot.installs.length) {\n            useInstalls = true;\n            packaged_bot.installs.forEach(function (install) {\n              install_list += '<li><u>' + install.name + '</u> - ' + install.description + '</li>';\n            });\n          }\n          if (packaged_bot.already_installed.length) {\n            useAlreadyInstalled = true;\n            packaged_bot.already_installed.forEach(function (installed) {\n              already_installed_list += '<li><u>' + installed.name + '</u> - ' + installed.description + '</li>';\n            });\n          }\n          return '<div class=\"col-12 bg-light rounded py-3 mb-2\">' + '<div class=\"col-12 h3\"><img height=\"75\" width=\"75\" class=\"mr-3 rounded avatar-is-online\" src=\"' + packaged_bot.avatar.md + '\"  alt=\"Bot Package\"/><u>' + packaged_bot.name + '</u></div>' + '<hr><h5>Description: ' + packaged_bot.description + '</h5>' + '<hr><h4>Installs: ' + (useInstalls ? '' : '<span class=\"badge badge-warning\">Nothing to install.</span>') + '</h4>' + (useInstalls ? '<ul>' + install_list + '</ul>' : '') + '<hr>' + (useAlreadyInstalled ? '<h4>Already Installed:</h4><ul>' + already_installed_list + '</ul><hr>' : '') + '<div class=\"col-12 text-center\"><button onclick=\"ThreadBots.installBotPackage(\\'' + packaged_bot.alias + '\\')\" type=\"button\" class=\"btn btn-md btn-primary\"><i class=\"fas fa-robot\"></i> Install ' + packaged_bot.name + '</button> </div> ' + '</div><hr>';\n        };\n        packages.forEach(function (packaged_bot) {\n          html += package_fill(packaged_bot);\n        });\n        return html;\n      },\n      add_bot: function add_bot() {\n        return '<form id=\"new_bot_form\" action=\"\">\\n' + '<div class=\"form-row mx-n2 rounded bg-light text-dark pt-2 pb-3 px-2 shadow-sm\">\\n' + '    <h5>Bot Name:</h5>' + '    <div class=\"input-group input-group-lg col-12 mb-0\">\\n' + '        <div class=\"input-group-prepend\">\\n' + '            <span class=\"input-group-text\"><i class=\"fas fa-robot\"></i></span>\\n' + '         </div>\\n' + '         <input autocomplete=\"off\" minlength=\"2\" class=\"form-control font-weight-bold shadow-sm\" id=\"g_s_bot_name\" placeholder=\"Bot Name\" name=\"bot-name-' + Date.now() + '\" required>' + '     </div>\\n' + '</div>' + '<hr>' + '<div class=\"form-row mx-n2 rounded bg-light text-dark pt-2 pb-3 px-2 shadow-sm\">\\n' + '    <h5>Cooldown (in seconds):</h5>' + '    <div class=\"input-group input-group-lg col-12 mb-0\">\\n' + '        <div class=\"input-group-prepend\">\\n' + '            <span class=\"input-group-text\"><i class=\"fas fa-clock\"></i></span>\\n' + '         </div>\\n' + '         <input type=\"number\" autocomplete=\"off\" min=\"0\" max=\"900\" class=\"form-control font-weight-bold shadow-sm\" id=\"g_s_bot_cooldown\" placeholder=\"Bot Cooldown\" name=\"bot-cooldown-' + Date.now() + '\" required value=\"0\">' + '     </div>\\n' + '</div>' + '    <hr>\\n' + '    <div class=\"form-row mx-n2 rounded bg-light text-dark pb-3 pt-2 px-3 shadow-sm\">\\n' + '        <label class=\"font-weight-bold h5 control-label\" for=\"g_s_table\">Bot Toggles:</label>\\n' + '        <table id=\"g_s_table\" class=\"table mb-0 table-sm table-hover\">\\n' + '            <tbody>\\n' + '            <tr class=\"alert-success\">\\n' + '                <td class=\"pointer_area\" onclick=\"$(\\'#g_s_bot_enabled\\').click()\">\\n' + '                    <div class=\"h4 mt-1\"><i class=\"fas fa-caret-right\"></i> <span class=\"h5\">Enabled</span></div>\\n' + '                </td>\\n' + '                <td>\\n' + '                    <div class=\"mt-1 float-right\"><span class=\"switch switch-sm mt-1\">\\n' + '                        <input class=\"switch switch_input m_setting_toggle\" id=\"g_s_bot_enabled\" name=\"g_s_bot_enabled\" type=\"checkbox\" checked>\\n' + '                        <label for=\"g_s_bot_enabled\"></label>\\n' + '                    </span></div>\\n' + '                </td>\\n' + '            </tr>\\n' + '            <tr>\\n' + '                <td class=\"pointer_area\" onclick=\"$(\\'#g_s_hide_actions\\').click()\">\\n' + '                    <div class=\"h4 mt-1\"><i class=\"fas fa-caret-right\"></i> <span class=\"h5\">Hide Actions</span></div>\\n' + '                </td>\\n' + '                <td>\\n' + '                    <div class=\"mt-1 float-right\"><span class=\"switch switch-sm mt-1\">\\n' + '                        <input class=\"switch switch_input m_setting_toggle\" id=\"g_s_hide_actions\" name=\"g_s_hide_actions\" type=\"checkbox\">\\n' + '                        <label for=\"g_s_hide_actions\"></label>\\n' + '                    </span></div>\\n' + '                </td>\\n' + '            </tr>\\n' + '            </tbody>\\n' + '        </table>\\n' + '    </div>\\n' + '</form>';\n      },\n      edit_bot: function edit_bot(bot) {\n        return '<form id=\"edit_bot_form\" action=\"\">\\n' + '<div class=\"form-row mx-n2 rounded bg-light text-dark pt-2 pb-3 px-2 shadow-sm\">\\n' + '    <h5 class=\"font-weight-bold\">Bot Name:</h5>' + '    <div class=\"input-group input-group-lg col-12 mb-0\">\\n' + '        <div class=\"input-group-prepend\">\\n' + '            <span class=\"input-group-text\"><i class=\"fas fa-robot\"></i></span>\\n' + '         </div>\\n' + '         <input autocomplete=\"off\" minlength=\"2\" class=\"form-control font-weight-bold shadow-sm\" id=\"g_s_bot_name\" placeholder=\"Bot Name\" name=\"bot-name-' + Date.now() + '\" required value=\"' + bot.name + '\">' + '     </div>\\n' + '</div>' + '<hr>' + '<div class=\"form-row mx-n2 rounded bg-light text-dark pt-2 pb-3 px-2 shadow-sm\">\\n' + '    <h5 class=\"font-weight-bold\">Cooldown [in seconds]:</h5>' + '    <div class=\"input-group input-group-lg col-12 mb-0\">\\n' + '        <div class=\"input-group-prepend\">\\n' + '            <span class=\"input-group-text\"><i class=\"fas fa-clock\"></i></span>\\n' + '         </div>\\n' + '         <input type=\"number\" autocomplete=\"off\" min=\"0\" max=\"900\" class=\"form-control font-weight-bold shadow-sm\" id=\"g_s_bot_cooldown\" placeholder=\"Bot Cooldown\" name=\"bot-cooldown-' + Date.now() + '\" required value=\"' + bot.cooldown + '\">' + '     </div>\\n' + '</div>' + '    <hr>\\n' + '    <div class=\"form-row mx-n2 rounded bg-light text-dark pb-3 pt-2 px-3 shadow-sm\">\\n' + '        <label class=\"font-weight-bold h5 control-label\" for=\"g_s_table\">Bot Toggles:</label>\\n' + '        <table id=\"g_s_table\" class=\"table mb-0 table-sm table-hover\">\\n' + '            <tbody>\\n' + '            <tr class=\"' + (bot.enabled ? 'alert-success' : '') + '\">\\n' + '                <td class=\"pointer_area\" onclick=\"$(\\'#g_s_bot_enabled\\').click()\">\\n' + '                    <div class=\"h4 mt-1\"><i class=\"fas fa-caret-right\"></i> <span class=\"h5\">Enabled</span></div>\\n' + '                </td>\\n' + '                <td>\\n' + '                    <div class=\"mt-1 float-right\"><span class=\"switch switch-sm mt-1\">\\n' + '                        <input class=\"switch switch_input m_setting_toggle\" id=\"g_s_bot_enabled\" name=\"g_s_bot_enabled\" type=\"checkbox\" ' + (bot.enabled ? 'checked' : '') + '>\\n' + '                        <label for=\"g_s_bot_enabled\"></label>\\n' + '                    </span></div>\\n' + '                </td>\\n' + '            </tr>\\n' + '            <tr class=\"' + (bot.hide_actions ? 'alert-success' : '') + '\">\\n' + '                <td class=\"pointer_area\" onclick=\"$(\\'#g_s_hide_actions\\').click()\">\\n' + '                    <div class=\"h4 mt-1\"><i class=\"fas fa-caret-right\"></i> <span class=\"h5\">Hide Actions</span></div>\\n' + '                </td>\\n' + '                <td>\\n' + '                    <div class=\"mt-1 float-right\"><span class=\"switch switch-sm mt-1\">\\n' + '                        <input class=\"switch switch_input m_setting_toggle\" id=\"g_s_hide_actions\" name=\"g_s_hide_actions\" type=\"checkbox\" ' + (bot.hide_actions ? 'checked' : '') + '>\\n' + '                        <label for=\"g_s_hide_actions\"></label>\\n' + '                    </span></div>\\n' + '                </td>\\n' + '            </tr>\\n' + '            </tbody>\\n' + '        </table>\\n' + '    </div>\\n' + '    <hr>\\n' + '    <div class=\"form-group mb-0 py-2 alert-dark shadow rounded\">\\n' + '    <div class=\"col-12\">' + '        <img alt=\"Avatar\" height=\"62\" width=\"62\" class=\"mr-3 rounded avatar-is-offline\" src=\"' + bot.avatar.sm + '\"/>' + '        <button onclick=\"$(\\'#bot_avatar_upload\\').click()\" type=\"button\" class=\"btn btn-sm btn-success mr-3\"><i class=\"fas fa-image\"></i> Upload Avatar</button>' + '        <button onclick=\"ThreadBots.removeAvatar()\" type=\"button\" class=\"btn btn-sm btn-danger\"><i class=\"fas fa-trash\"></i> Remove Avatar</button>' + '    </div></div>\\n' + '    <hr>\\n' + '    <div class=\"text-center form-group mb-0 py-2 alert-danger shadow rounded\">\\n' + '        <div class=\"mb-1 font-weight-bold\">You will be asked to confirm this action</div>\\n' + '        <button onclick=\"ThreadBots.removeBot(\\'' + bot.id + '\\')\" type=\"button\" class=\"btn btn-sm btn-danger\"><i class=\"fas fa-trash\"></i> Remove Bot</button>\\n' + '    </div>\\n' + '</form>';\n      },\n      view_bot: function view_bot(bot) {\n        var online = bot.enabled ? bot.on_cooldown ? 'away' : 'online' : 'offline',\n          actions = '<div class=\"col-12 mt-5 text-center h2\"><span class=\"badge badge-light\"><i class=\"fas fa-eye-slash\"></i> Actions are hidden</span></div>',\n          editable = '<hr class=\"mt-2\"><div class=\"row\"><div class=\"col-12 text-center\">' + '<button onclick=\"ThreadBots.editBot(\\'' + bot.id + '\\')\" type=\"button\" class=\"btn btn-sm btn-outline-success mr-3 mb-2\">Edit Bot <i class=\"fas fa-edit\"></i></button>' + '<button onclick=\"ThreadBots.viewAvailableHandlers()\" type=\"button\" class=\"btn btn-sm btn-outline-success mr-3 mb-2\">Add Actions <i class=\"fas fa-server\"></i></button>' + '<button class=\"btn btn-sm btn-outline-success dropdown-toggle mr-3 mb-2\" type=\"button\" id=\"botAvatarDropdown\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\\n' + '  Bot Avatar <i class=\"fas fa-image\"></i>' + '</button>\\n' + '  <div class=\"dropdown-menu\" aria-labelledby=\"botAvatarDropdown\">\\n' + '    <a onclick=\"$(\\'#bot_avatar_upload\\').click(); return false;\" class=\"dropdown-item\" href=\"#\"><i class=\"fas fa-image\"></i> Upload Avatar</a>\\n' + '    <a onclick=\"ThreadBots.removeAvatar(); return false;\" class=\"dropdown-item\" href=\"#\"><i class=\"fas fa-trash\"></i> Remove Avatar</a>\\n' + '  </div>\\n' + '<button onclick=\"ThreadBots.removeBot(\\'' + bot.id + '\\')\" type=\"button\" class=\"btn btn-sm btn-outline-danger mr-3 mb-2\">Delete Bot <i class=\"fas fa-trash-alt\"></i></button>' + '</div></div><hr>';\n        if (bot.hasOwnProperty('actions')) {\n          actions = templates.bot_actions_table(bot.actions);\n        }\n        return '<div class=\"row\">' + '<div class=\"col-12 col-md-6 mb-3\">' + '<img alt=\"Avatar\" height=\"75\" width=\"75\" class=\"float-left mr-3 rounded avatar-is-' + online + '\" src=\"' + bot.avatar.md + '\"/>' + '<h3 class=\"font-weight-bold\">' + bot.name + '</h3>' + '<h5>Creator: ' + bot.owner.name + '</h4>' + '</div>' + '<div class=\"col-12 col-md-6 h5\">' + '<div class=\"float-right\">' + '<div class=\"col-12 mb-2\">Enabled : ' + (bot.enabled ? '<span class=\"badge badge-success\"><i class=\"fas fa-check\"></i></span>' : '<span class=\"badge badge-danger\"><i class=\"fas fa-times\"></i></span>') + '</div>' + '<div class=\"col-12 mb-2\">Cooldown : <span class=\"badge badge-primary mr-3\">' + bot.cooldown + ' seconds</span></div>' + '<div class=\"col-12\">On cooldown? ' + (bot.on_cooldown ? '<span class=\"badge badge-danger\"><i class=\"fas fa-hourglass-half\"></i> Yes</span>' : '<span class=\"badge badge-success\"><i class=\"fas fa-check\"></i> No</span>') + '</div>' + '</div></div></div>' + (opt.thread.options.manage_bots ? editable : '') + '<div id=\"bot_actions_container\">' + actions + '</div>';\n      },\n      bot_actions_table: function bot_actions_table(actions) {\n        var table_top = '<div class=\"row\">\\n' + '    <div class=\"col-12\">\\n' + '        <div class=\"table-responsive-xl\">\\n' + '            <table id=\"view_bots_actions_table\" class=\"table table-sm table-hover\">\\n' + '                <thead>\\n' + '                <tr>\\n' + '                    <th>Name</th>\\n' + '                    <th>Enabled</th>\\n' + '                    <th>Description</th>\\n' + '                    <th>Triggers</th>\\n' + '                    <th>Match</th>\\n' + '                    <th>Payload</th>\\n' + '                    <th>On Cooldown</th>\\n' + '                    <th>Cooldown</th>\\n' + '                    <th>Admin Only</th>\\n' + (opt.thread.options.manage_bots ? ' <th>Options</th>' : '') + '                </tr>\\n' + '                </thead>\\n' + '                <tbody>',\n          table_bot = '</tbody></table></div></div></div>',\n          table_fill = '';\n        var action_fill = function action_fill(action) {\n          var triggers = '<span class=\"badge badge-secondary font-italic\">N/A</span>',\n            options = '<td><div class=\"dropdown float-right\">' + '<button class=\"btn btn-sm btn-outline-primary dropdown-toggle\" type=\"button\" data-toggle=\"dropdown\"><i class=\"fas fa-cog\"></i></button>' + '    <div class=\"dropdown-menu dropdown-menu-right\">' + '       <a class=\"dropdown-item\" onclick=\"ThreadBots.editAction(\\'' + action.id + '\\'); return false;\" href=\"#\" title=\"Edit\"><i class=\"fas fa-edit\"></i> Edit</a>' + '       <a class=\"dropdown-item\" onclick=\"ThreadBots.removeAction(\\'' + action.id + '\\'); return false;\" href=\"#\" title=\"Delete\"><i class=\"fas fa-trash-alt\"></i> Delete</a>' + '</span></div></div></td>';\n          if (action.triggers && action.triggers.length) {\n            triggers = '';\n            action.triggers.forEach(function (trigger) {\n              return triggers += '<span class=\"badge badge-light mr-1\">' + trigger + '</span>';\n            });\n          }\n          return '<tr id=\"row_' + action.id + '\">\\n' + '  <td class=\"h5 nowrap\">' + action.handler.name + '</td>' + '  <td class=\"h5\">\\n' + (action.enabled ? '<span class=\"badge badge-success\"><i class=\"fas fa-check\"></i></span>' : '<span class=\"badge badge-danger\"><i class=\"fas fa-times\"></i></span>') + '  </td>\\n' + '  <td class=\"h6\">' + action.handler.description + '</td>' + '  <td class=\"h5\">' + triggers + '</td>' + '  <td class=\"h5\"><span class=\"badge badge-primary\">' + action.match + '</span></td>' + '  <td class=\"h5 nowrap action-payload\">' + templates.handler_payload(action) + '</td>' + '  <td class=\"h5\">\\n' + (action.on_cooldown ? '<span class=\"badge badge-danger\"><i class=\"fas fa-hourglass-half\"></i> Yes</span>' : '<span class=\"badge badge-success\"><i class=\"fas fa-check\"></i> No</span>') + '  </td>\\n' + '  <td class=\"h5\"><span class=\"badge badge-primary\">' + action.cooldown + ' seconds</span></td>\\n' + '  <td class=\"h5\">\\n' + (action.admin_only ? '<span class=\"badge badge-success\"><i class=\"fas fa-check\"></i></span>' : '<span class=\"badge badge-danger\"><i class=\"fas fa-times\"></i></span>') + '  </td>\\n' + (opt.thread.options.manage_bots ? options : '') + '</tr>';\n        };\n        if (actions && actions.length) {\n          actions.forEach(function (action) {\n            table_fill += action_fill(action);\n          });\n        }\n        return table_top + table_fill + table_bot;\n      },\n      handler_payload: function handler_payload(action) {\n        switch (action.handler.alias) {\n          case 'react':\n            return Messenger.format().shortcodeToImage(action.payload.reaction);\n          case 'react_bomb':\n            return Messenger.format().shortcodeToImage(action.payload.reactions.join('<span class=\"mr-1\"></span>'));\n          case 'reply':\n            var replies = '<ul class=\"p-0 my-0 mr-0 ml-1\">';\n            action.payload.replies.forEach(function (reply) {\n              return replies += '<li>' + Messenger.format().shortcodeToImage(reply) + '</li>';\n            });\n            return replies + '</ul>';\n          case 'invitations':\n            if (action.payload) {\n              return 'Lifetime of ' + action.payload.lifetime_minutes + ' minutes';\n            }\n            break;\n          case 'document_finder':\n          case 'youtube':\n          case 'wiki':\n            if (action.payload) {\n              return 'Max of ' + action.payload.limit + ' results';\n            }\n            break;\n        }\n        return '<span class=\"badge badge-secondary font-italic\">N/A</span>';\n      },\n      view_handlers: function view_handlers(handlers) {\n        var table_top = '<div class=\"col-12 my-3 text-center h2\"><span class=\"badge badge-light\"><i class=\"fas fa-list\"></i> Select an action:</span></div>' + '<div class=\"row\">\\n' + '    <div class=\"col-12\">\\n' + '        <div class=\"table-responsive-xl\">\\n' + '            <table id=\"view_handlers_table\" class=\"table table-sm table-hover\">\\n' + '                <thead>\\n' + '                <tr>\\n' + '                    <th>Name</th>\\n' + '                    <th>Description</th>\\n' + '                    <th>Unique</th>\\n' + '                    <th>Preset Triggers</th>\\n' + '                    <th>Preset Match</th>\\n' + '                    <th>Options</th>\\n' + '                </tr>\\n' + '                </thead>\\n' + '                <tbody>',\n          table_fill = '',\n          table_bot = '</tbody></table></div></div></div>' + '<hr><div class=\"col-12 text-center\">' + '<button onclick=\"ThreadBots.reloadBotActions()\" type=\"button\" class=\"btn btn-info\">Cancel <i class=\"fas fa-undo\"></i></button>' + '</div>';\n        var handler_fill = function handler_fill(handler) {\n          var _handler$match;\n          var triggers = '<span class=\"badge badge-secondary font-italic\">N/A</span>';\n          if (handler.triggers && handler.triggers.length) {\n            triggers = '';\n            handler.triggers.forEach(function (trigger) {\n              return triggers += '<span class=\"badge badge-light mr-1\">' + trigger + '</span>';\n            });\n          }\n          return '<tr class=\"pointer_area\" onclick=\"ThreadBots.createAction(\\'' + handler.alias + '\\')\">\\n' + '  <td class=\"h5 nowrap\">' + handler.name + '</td>' + '  <td class=\"h6\">' + handler.description + '</td>' + '  <td class=\"h5\">\\n' + (handler.unique ? '<span class=\"badge badge-success\"><i class=\"fas fa-check\"></i></span>' : '<span class=\"badge badge-danger\"><i class=\"fas fa-times\"></i></span>') + '  </td>\\n' + '  <td class=\"h5 nowrap\">' + triggers + '</td>' + '  <td class=\"h5\">' + ((_handler$match = handler.match) !== null && _handler$match !== void 0 ? _handler$match : '<span class=\"badge badge-secondary font-italic\">N/A</span>') + '</td>' + '  <td class=\"h5\"><button type=\"button\" class=\"btn btn-sm btn-primary\">Select <i class=\"fas fa-server\"></i></button></td>' + '</tr>';\n        };\n        if (handlers && handlers.length) {\n          handlers.forEach(function (handler) {\n            table_fill += handler_fill(handler);\n          });\n        }\n        return table_top + table_fill + table_bot;\n      },\n      warn_delete: function warn_delete() {\n        return 'Really Delete <strong>' + opt.current_bot.name + '</strong>?' + '<div class=\"card mt-3\"><div class=\"card-body bg-warning shadow rounded\"><h5>This cannot be undone. All actions will be removed from ' + opt.current_bot.name + ' as well. ' + 'Any previous interactions sent by ' + opt.current_bot.name + ' will be preserved.</h5></div></div>';\n      },\n      avatar_input: function avatar_input() {\n        return '<input style=\"display: none;\" class=\"NS\" id=\"bot_avatar_upload\" type=\"file\" name=\"profile_avatar_upload\" accept=\"image/*\">';\n      }\n    },\n    handlers = {\n      start: function start(handler, edit) {\n        return '<div class=\"col-12 my-3 text-center h2\"><span class=\"badge badge-light\"><i class=\"fas fa-edit\"></i> ' + (edit ? 'Editing' : 'Creating') + ' ' + handler.name + ':</span></div>' + '<div class=\"col-12 col-md-6 offset-md-3 text-center h3 mb-4\"><i class=\"fas fa-info-circle\"></i> ' + handler.description + '</div> ' + '<div class=\"col-12 col-md-6 offset-md-3\">' + '<form id=\"bot_action_form\" action=\"\">';\n      },\n      end: function end(edit) {\n        var delete_btn = '';\n        if (edit) {\n          delete_btn = '<button onclick=\"ThreadBots.removeAction(\\'' + opt.current_action.id + '\\')\" type=\"button\" class=\"btn btn-lg btn-danger mr-3\">Delete <i class=\"fas fa-trash-alt\"></i></button>';\n        }\n        return '</form></div>' + '<hr><div class=\"col-12 text-center\">' + '<button onclick=\"ThreadBots.reloadBotActions()\" type=\"button\" class=\"btn btn-lg btn-info mr-3\">Cancel <i class=\"fas fa-undo\"></i></button>' + delete_btn + '<button id=\"save_bot_action_btn\" onclick=\"' + (edit ? 'ThreadBots.updateAction()' : 'ThreadBots.storeAction()') + '\" type=\"button\" class=\"btn btn-lg btn-success\">' + (edit ? 'Update' : 'Save') + ' <i class=\"fas fa-save\"></i></button>' + '</div>';\n      },\n      base: function base(values) {\n        var cooldown = 15,\n          enabled = true,\n          admin_only = false;\n        if (values) {\n          cooldown = values.cooldown;\n          enabled = values.enabled;\n          admin_only = values.admin_only;\n        }\n        return '<div class=\"form-row mx-n2 rounded bg-light text-dark pt-2 pb-3 px-2 shadow-sm\">\\n' + '    <div class=\"col-12\"><h5 class=\"font-weight-bold\">Cooldown [ in seconds ]:</h5></div>' + '    <div class=\"input-group input-group-lg col-12 mb-0\">\\n' + '        <div class=\"input-group-prepend\">\\n' + '            <span class=\"input-group-text\"><i class=\"fas fa-clock\"></i></span>\\n' + '         </div>\\n' + '         <input type=\"number\" autocomplete=\"off\" min=\"0\" max=\"900\" class=\"form-control font-weight-bold shadow-sm\" id=\"g_s_bot_cooldown\" placeholder=\"Bot Cooldown\" name=\"bot-cooldown-' + Date.now() + '\" required value=\"' + cooldown + '\">' + '     </div>\\n' + '</div>' + '    <hr>\\n' + '    <div class=\"form-row mx-n2 rounded bg-light text-dark pb-3 pt-2 px-3 shadow-sm\">\\n' + '        <label class=\"font-weight-bold h5 control-label\" for=\"g_s_table\">Action Toggles:</label>\\n' + '        <table id=\"g_s_table\" class=\"table mb-0 table-sm table-hover\">\\n' + '            <tbody>\\n' + '            <tr class=\"' + (enabled ? 'alert-success' : '') + '\">\\n' + '                <td class=\"pointer_area\" onclick=\"$(\\'#g_s_action_enabled\\').click()\">\\n' + '                    <div class=\"h4 mt-1\"><i class=\"fas fa-caret-right\"></i> <span class=\"h5\">Enabled</span></div>\\n' + '                </td>\\n' + '                <td>\\n' + '                    <div class=\"mt-1 float-right\"><span class=\"switch switch-sm mt-1\">\\n' + '                        <input class=\"switch switch_input m_setting_toggle\" id=\"g_s_action_enabled\" name=\"g_s_action_enabled\" type=\"checkbox\" ' + (enabled ? 'checked' : '') + '>\\n' + '                        <label for=\"g_s_action_enabled\"></label>\\n' + '                    </span></div>\\n' + '                </td>\\n' + '            </tr>\\n' + '            <tr class=\"' + (admin_only ? 'alert-success' : '') + '\">' + '                <td class=\"pointer_area\" onclick=\"$(\\'#g_s_admin_only_action\\').click()\">\\n' + '                    <div class=\"h4 mt-1\"><i class=\"fas fa-caret-right\"></i> <span class=\"h5\">Admin Only</span></div>\\n' + '                </td>\\n' + '                <td>\\n' + '                    <div class=\"mt-1 float-right\"><span class=\"switch switch-sm mt-1\">\\n' + '                        <input class=\"switch switch_input m_setting_toggle\" id=\"g_s_admin_only_action\" name=\"g_s_admin_only_action\" type=\"checkbox\" ' + (admin_only ? 'checked' : '') + '>\\n' + '                        <label for=\"g_s_admin_only_action\"></label>\\n' + '                    </span></div>\\n' + '                </td>\\n' + '            </tr>\\n' + '            </tbody>\\n' + '        </table>\\n' + '    </div>';\n      },\n      triggers: function triggers(values, overrides, match) {\n        var triggers = '',\n          readonly = false,\n          hidden = false,\n          text = '[ Separate multiple triggers using commas ( , ) or the pipe ( | ) ]';\n        if (overrides && overrides.length) {\n          triggers = overrides.join('|');\n          readonly = true;\n          text = '<span class=\"badge badge-warning\">Cannot change</span>';\n        } else if (values && values.length) {\n          triggers = values.join('|');\n        }\n        if (match === 'any') {\n          hidden = true;\n        }\n        return '<div id=\"bot_action_triggers_form\" class=\"' + (hidden ? 'NS' : '') + '\">' + '<hr>' + '<div class=\"form-row mx-n2 rounded bg-light text-dark pt-2 pb-3 px-2 shadow-sm\">\\n' + '    <div class=\"col-12\"><h5 class=\"font-weight-bold\">Triggers: ' + text + '</h5></div>' + '    <div class=\"input-group input-group-lg col-12 mb-0\">\\n' + '        <div class=\"input-group-prepend\">\\n' + '            <span class=\"input-group-text\"><i class=\"fas fa-laptop-code\"></i></span>\\n' + '         </div>\\n' + '         <input ' + (readonly ? 'readonly' : '') + ' autocomplete=\"off\" class=\"form-control font-weight-bold shadow-sm\" id=\"g_s_action_triggers\" placeholder=\"!command | hello | sentence as a trigger\" name=\"bot-triggers-' + Date.now() + '\" required value=\"' + triggers + '\">' + '     </div>\\n' + '   </div>' + '</div>';\n      },\n      match: function match(value, override) {\n        var match = 'exact',\n          readonly = false,\n          text = '<span class=\"badge badge-warning\">Cannot change</span>';\n        if (override) {\n          match = override;\n          readonly = true;\n        } else if (value) {\n          match = value;\n        }\n        return '<hr><div class=\"form-row mx-n2 rounded bg-light text-dark pt-2 pb-3 px-2 shadow-sm\">\\n' + '<div class=\"col-12\"><h5 class=\"font-weight-bold\">Match Method: ' + (readonly ? text : '') + '</h5></div>' + '<div class=\"col-12 mb-3\"><div class=\"col-12 col-lg-8 offset-lg-2\">' + '<select onchange=\"ThreadBots.updateTriggers()\" id=\"g_s_action_match\" class=\"custom-select custom-select-lg\" ' + (readonly ? 'disabled' : '') + '>\\n' + '  <option value=\"any\" ' + (match === \"any\" ? 'selected' : '') + '>any</option>\\n' + '  <option value=\"contains\" ' + (match === \"contains\" ? 'selected' : '') + '>contains</option>\\n' + '  <option value=\"contains:caseless\" ' + (match === \"contains:caseless\" ? 'selected' : '') + '>contains:caseless</option>\\n' + '  <option value=\"contains:any\" ' + (match === \"contains:any\" ? 'selected' : '') + '>contains:any</option>\\n' + '  <option value=\"contains:any:caseless\" ' + (match === \"contains:any:caseless\" ? 'selected' : '') + '>contains:any:caseless</option>\\n' + '  <option value=\"exact\" ' + (match === \"exact\" ? 'selected' : '') + '>exact</option>\\n' + '  <option value=\"exact:caseless\" ' + (match === \"exact:caseless\" ? 'selected' : '') + '>exact:caseless</option>\\n' + '  <option value=\"starts:with\" ' + (match === \"starts:with\" ? 'selected' : '') + '>starts:with</option>\\n' + '  <option value=\"starts:with:caseless\" ' + (match === \"starts:with:caseless\" ? 'selected' : '') + '>starts:with:caseless</option>\\n' + '</select>' + '</div></div>' + '<div class=\"col-12 h6\">' + '    <ul>' + '        <li>any - The action will be triggered for any message sent.</li>' + '        <li>contains - The trigger can be anywhere within a message. Cannot be part of or inside another word.</li>' + '        <li>contains:caseless - Same as \"contains\", but is case insensitive.</li>' + '        <li>contains:any - The trigger can be anywhere within a message, including inside another word.</li>' + '        <li>contains:any:caseless - Same as \"contains any\", but is case insensitive.</li>' + '        <li>exact - The trigger must match the message exactly.</li>' + '        <li>exact:caseless - Same as \"exact\", but is case insensitive.</li>' + '        <li>starts:with - The trigger must be the lead phrase within the message. Cannot be part of or inside another word.</li>' + '        <li>starts:with:caseless - Same as \"starts with\", but is case insensitive.</li>' + '    </ul>' + '</div></div>';\n      },\n      reaction: function reaction(_reaction) {\n        var value = '';\n        if (_reaction) {\n          value = Messenger.format().shortcodeToUnicode(_reaction);\n        }\n        return '<hr><div class=\"form-row mx-n2 rounded bg-light text-dark pt-2 pb-3 px-2 shadow-sm\">\\n' + '    <div class=\"col-12\"><h5 class=\"font-weight-bold\">Reaction: [ emoji ]</h5></div>' + '    <div class=\"input-group input-group-lg col-12 col-md-4 offset-md-4\">\\n' + '         <input onclick=\"EmojiPicker.botActionReact()\" readonly autocomplete=\"off\" class=\"form-control font-weight-bold shadow-sm\" id=\"g_s_bot_reaction\" placeholder=\"Pick emoji\" name=\"bot-reaction-' + Date.now() + '\" required value=\"' + value + '\">' + '         <div class=\"input-group-append\">\\n' + '           <button onclick=\"EmojiPicker.botActionReact()\" class=\"btn btn-primary\" type=\"button\" id=\"bot_reaction_emoji_btn\"><i class=\"fas fa-grin\"></i></button>\\n' + '         </div>' + '     </div>' + '</div>';\n      },\n      reaction_bomb: function reaction_bomb(reactions) {\n        var fields = '';\n        var field = function field(index) {\n          var emoji = reactions && reactions.hasOwnProperty(index) ? Messenger.format().shortcodeToUnicode(reactions[index]) : '';\n          return '<div class=\"input-group input-group-lg col-12 col-md-4 offset-md-4 mb-2\">\\n' + '<div class=\"input-group-prepend\">\\n' + '    <button onclick=\"EmojiPicker.resetBotActionReactBomb(' + index + ')\" class=\"btn btn-danger\" type=\"button\"><i class=\"fas fa-trash\"></i></button>\\n' + '</div>' + '<input onclick=\"EmojiPicker.botActionReactBomb(' + index + ')\" readonly autocomplete=\"off\" class=\"form-control font-weight-bold shadow-sm\" id=\"bot_reaction_bomb_' + index + '\" placeholder=\"Pick emoji\" name=\"bot-reaction-' + Date.now() + '\" required value=\"' + emoji + '\">' + '  <div class=\"input-group-append\">\\n' + '    <button onclick=\"EmojiPicker.botActionReactBomb(' + index + ')\" class=\"btn btn-primary\" type=\"button\" id=\"bot_reaction_bomb_btn_' + index + '\"><i class=\"fas fa-grin\"></i></button>\\n' + '  </div>' + '</div>';\n        };\n        for (var i = 0; i < 10; i++) {\n          fields += field(i);\n        }\n        return '<hr><div class=\"form-row mx-n2 rounded bg-light text-dark pt-2 pb-3 px-2 shadow-sm\">\\n' + ' <div class=\"col-12\"><h5 class=\"font-weight-bold\">Reactions: [ emojis ]</h5></div>' + fields + '</div>';\n      },\n      replies: function replies(payload) {\n        var quote = false,\n          reply1 = '',\n          reply2 = '',\n          reply3 = '',\n          reply4 = '',\n          reply5 = '';\n        if (payload) {\n          quote = payload.quote_original;\n          reply1 = payload.replies[0] ? Messenger.format().shortcodeToUnicode(payload.replies[0]) : '';\n          reply2 = payload.replies[1] ? Messenger.format().shortcodeToUnicode(payload.replies[1]) : '';\n          reply3 = payload.replies[2] ? Messenger.format().shortcodeToUnicode(payload.replies[2]) : '';\n          reply4 = payload.replies[3] ? Messenger.format().shortcodeToUnicode(payload.replies[3]) : '';\n          reply5 = payload.replies[4] ? Messenger.format().shortcodeToUnicode(payload.replies[4]) : '';\n        }\n        return '<hr><div class=\"form-row mx-n2 rounded bg-light text-dark pb-3 pt-2 px-2 shadow-sm\">\\n' + '    <div class=\"col-12\"><h5 class=\"font-weight-bold\">Replies: [ One required. Max of 5 ]</h5></div>' + '        <label class=\"control-label\" for=\"g_replies_table\"> - Quote matching message? When enabled, the first reply will use the matching message within the reply.</label>' + '        <table id=\"g_replies_table\" class=\"table table-sm table-hover\">\\n' + '            <tbody>\\n' + '            <tr class=\"' + (quote ? 'alert-success' : '') + '\">\\n' + '                <td class=\"pointer_area\" onclick=\"$(\\'#g_s_quote_original\\').click()\">\\n' + '                    <div class=\"h4 mt-1\"><i class=\"fas fa-caret-right\"></i> <span class=\"h5\">Quote matching message?</span></div>\\n' + '                </td>\\n' + '                <td>\\n' + '                    <div class=\"mt-1 float-right\"><span class=\"switch switch-sm mt-1\">\\n' + '                        <input class=\"switch switch_input m_setting_toggle\" id=\"g_s_quote_original\" name=\"g_s_quote_original\" type=\"checkbox\" ' + (quote ? 'checked' : '') + '>\\n' + '                        <label for=\"g_s_quote_original\"></label>\\n' + '                    </span></div>\\n' + '                </td>\\n' + '            </tr>\\n' + '            </tbody>\\n' + '        </table>\\n' + '<input autocomplete=\"off\" class=\"form-control form-control-lg font-weight-bold shadow-sm my-2\" id=\"g_s_reply_1\" placeholder=\"First reply...\" name=\"bot-reply-' + Date.now() + '\" value=\"' + reply1 + '\">' + '<input autocomplete=\"off\" class=\"form-control form-control-lg font-weight-bold shadow-sm mb-2\" id=\"g_s_reply_2\" placeholder=\"Second reply...\" name=\"bot-reply-' + Date.now() + '\" value=\"' + reply2 + '\">' + '<input autocomplete=\"off\" class=\"form-control form-control-lg font-weight-bold shadow-sm mb-2\" id=\"g_s_reply_3\" placeholder=\"Third reply...\" name=\"bot-reply-' + Date.now() + '\" value=\"' + reply3 + '\">' + '<input autocomplete=\"off\" class=\"form-control form-control-lg font-weight-bold shadow-sm mb-2\" id=\"g_s_reply_4\" placeholder=\"Fourth reply...\" name=\"bot-reply-' + Date.now() + '\" value=\"' + reply4 + '\">' + '<input autocomplete=\"off\" class=\"form-control form-control-lg font-weight-bold shadow-sm\" id=\"g_s_reply_5\" placeholder=\"Fifth reply...\" name=\"bot-reply-' + Date.now() + '\" value=\"' + reply5 + '\">' + '</div>';\n      },\n      result_limit: function result_limit(payload) {\n        var limit = 3;\n        if (payload) {\n          limit = payload.limit;\n        }\n        return '<hr><div class=\"form-row mx-n2 rounded bg-light text-dark pt-2 pb-3 px-2 shadow-sm\">\\n' + '    <div class=\"col-12\"><h5 class=\"font-weight-bold\">Max number of results: [ 10 max ]</h5></div>' + '    <div class=\"input-group input-group-lg col-12 mb-0\">\\n' + '        <div class=\"input-group-prepend\">\\n' + '            <span class=\"input-group-text\"><i class=\"fas fa-list-ol\"></i></span>\\n' + '         </div>\\n' + '         <input type=\"number\" autocomplete=\"off\" min=\"1\" max=\"10\" class=\"form-control font-weight-bold shadow-sm\" id=\"g_s_bot_result_limit\" placeholder=\"Results Limit\" name=\"bot-limit-' + Date.now() + '\" required value=\"' + limit + '\">' + '     </div>\\n' + '</div>';\n      },\n      invite_lifetime: function invite_lifetime(payload) {\n        var lifetime = 15;\n        if (payload) {\n          lifetime = payload.lifetime_minutes;\n        }\n        return '<hr><div class=\"form-row mx-n2 rounded bg-light text-dark pt-2 pb-3 px-2 shadow-sm\">\\n' + '    <div class=\"col-12\"><h5 class=\"font-weight-bold\">Invite lifetime: [ between 5 and 60 minutes ]</h5></div>' + '    <div class=\"input-group input-group-lg col-12 mb-0\">\\n' + '        <div class=\"input-group-prepend\">\\n' + '            <span class=\"input-group-text\"><i class=\"fas fa-clock\"></i></span>\\n' + '         </div>\\n' + '         <input type=\"number\" autocomplete=\"off\" min=\"5\" max=\"60\" class=\"form-control font-weight-bold shadow-sm\" id=\"g_s_bot_inv_lifetime\" placeholder=\"Invite Lifetime\" name=\"bot-invite-lifetime-' + Date.now() + '\" required value=\"' + lifetime + '\">' + '     </div>\\n' + '</div>';\n      }\n    };\n  return {\n    init: mounted.Initialize,\n    viewBots: methods.viewBots,\n    addBot: methods.addBot,\n    viewBot: methods.viewBot,\n    viewBotPackages: methods.viewBotPackages,\n    installBotPackage: methods.installBotPackage,\n    editBot: methods.editBot,\n    removeAvatar: methods.removeAvatar,\n    removeBot: methods.removeBot,\n    viewAvailableHandlers: methods.viewAvailableHandlers,\n    reloadBotActions: methods.reloadBotActions,\n    createAction: methods.createAction,\n    storeAction: methods.storeAction,\n    editAction: methods.editAction,\n    updateAction: methods.updateAction,\n    removeAction: methods.removeAction,\n    updateTriggers: methods.updateTriggersForm,\n    state: function state() {\n      return opt;\n    },\n    lock: function lock(arg) {\n      if (typeof arg === 'boolean') opt.lock = arg;\n    }\n  };\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi92ZW5kb3IvcnRpcHBpbi9tZXNzZW5nZXItdWkvcmVzb3VyY2VzL2pzL21vZHVsZXMvVGhyZWFkQm90cy5qcyIsIm1hcHBpbmdzIjoiO0FBQUFBLE1BQU0sQ0FBQ0MsVUFBVSxHQUFJLFlBQVk7RUFDN0IsSUFBSUMsR0FBRyxHQUFHO01BQ05DLElBQUksRUFBRyxJQUFJO01BQ1hDLE1BQU0sRUFBRyxJQUFJO01BQ2JDLFVBQVUsRUFBRyxJQUFJO01BQ2pCQyxXQUFXLEVBQUcsSUFBSTtNQUNsQkMsNEJBQTRCLEVBQUcsSUFBSTtNQUNuQ0MsWUFBWSxFQUFHLElBQUk7TUFDbkJDLFFBQVEsRUFBRyxJQUFJO01BQ2ZDLGVBQWUsRUFBRyxJQUFJO01BQ3RCQyxjQUFjLEVBQUc7SUFDckIsQ0FBQztJQUNEQyxPQUFPLEdBQUc7TUFDTkMsVUFBVSxFQUFHLFNBQUFBLFdBQUEsRUFBWTtRQUNyQlgsR0FBRyxDQUFDQyxJQUFJLEdBQUcsS0FBSztRQUNoQlcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDQyxNQUFNLENBQUNDLFNBQVMsQ0FBQ1IsWUFBWSxDQUFDLENBQUMsQ0FBQztRQUMxQ04sR0FBRyxDQUFDTSxZQUFZLEdBQUdTLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLG1CQUFtQixDQUFDO1FBQy9EaEIsR0FBRyxDQUFDTSxZQUFZLENBQUNXLGdCQUFnQixDQUFDLFFBQVEsRUFBRUMsT0FBTyxDQUFDQyxZQUFZLEVBQUUsS0FBSyxDQUFDO01BQzVFO0lBQ0osQ0FBQztJQUNERCxPQUFPLEdBQUc7TUFDTkUsU0FBUyxFQUFHLFNBQUFBLFVBQUEsRUFBWTtRQUNwQixJQUFJQyxhQUFhLENBQUNDLEtBQUssQ0FBQyxDQUFDLENBQUNDLE9BQU8sRUFBRTtVQUMvQnZCLEdBQUcsQ0FBQ0UsTUFBTSxHQUFHbUIsYUFBYSxDQUFDQyxLQUFLLENBQUMsQ0FBQyxDQUFDQyxPQUFPO1VBQzFDLE9BQU8sSUFBSTtRQUNmO1FBQ0EsT0FBTyxLQUFLO01BQ2hCLENBQUM7TUFDREMsYUFB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LElBQUcsT0FBT0EsR0FBRyxLQUFLLFNBQVMsRUFBRS9OLEdBQUcsQ0FBQ0MsSUFBSSxHQUFHOE4sR0FBRztJQUMvQztFQUNKLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBRSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3ZlbmRvci9ydGlwcGluL21lc3Nlbmdlci11aS9yZXNvdXJjZXMvanMvbW9kdWxlcy9UaHJlYWRCb3RzLmpzPzA2NGEiXSwic291cmNlc0NvbnRlbnQiOlsid2luZG93LlRocmVhZEJvdHMgPSAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBvcHQgPSB7XG4gICAgICAgIGxvY2sgOiB0cnVlLFxuICAgICAgICB0aHJlYWQgOiBudWxsLFxuICAgICAgICBib3RzX3RhYmxlIDogbnVsbCxcbiAgICAgICAgY3VycmVudF9ib3QgOiBudWxsLFxuICAgICAgICBjdXJyZW50X2JvdF9hY3Rpb25fY29udGFpbmVyIDogbnVsbCxcbiAgICAgICAgYXZhdGFyX2lucHV0IDogbnVsbCxcbiAgICAgICAgaGFuZGxlcnMgOiBudWxsLFxuICAgICAgICBjdXJyZW50X2hhbmRsZXIgOiBudWxsLFxuICAgICAgICBjdXJyZW50X2FjdGlvbiA6IG51bGwsXG4gICAgfSxcbiAgICBtb3VudGVkID0ge1xuICAgICAgICBJbml0aWFsaXplIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgb3B0LmxvY2sgPSBmYWxzZTtcbiAgICAgICAgICAgICQoJ2JvZHknKS5hcHBlbmQodGVtcGxhdGVzLmF2YXRhcl9pbnB1dCgpKTtcbiAgICAgICAgICAgIG9wdC5hdmF0YXJfaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYm90X2F2YXRhcl91cGxvYWQnKTtcbiAgICAgICAgICAgIG9wdC5hdmF0YXJfaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgbWV0aG9kcy51cGxvYWRBdmF0YXIsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbWV0aG9kcyA9IHtcbiAgICAgICAgc2V0VGhyZWFkIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKFRocmVhZE1hbmFnZXIuc3RhdGUoKS5fdGhyZWFkKSB7XG4gICAgICAgICAgICAgICAgb3B0LnRocmVhZCA9IFRocmVhZE1hbmFnZXIuc3RhdGUoKS5fdGhyZWFkO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9LFxuICAgICAgICBsb2FkRGF0YVRhYmxlIDogZnVuY3Rpb24oZWxtLCB0ZXJtKXtcbiAgICAgICAgICAgIGlmKG9wdC5ib3RzX3RhYmxlKSBvcHQuYm90c190YWJsZS5kZXN0cm95KCk7XG4gICAgICAgICAgICBpZighZWxtIHx8ICFlbG0ubGVuZ3RoKSByZXR1cm47XG4gICAgICAgICAgICBvcHQuYm90c190YWJsZSA9IGVsbS5EYXRhVGFibGUoe1xuICAgICAgICAgICAgICAgIFwibGFuZ3VhZ2VcIjoge1xuICAgICAgICAgICAgICAgICAgICBcImluZm9cIjogXCJTaG93aW5nIF9TVEFSVF8gdG8gX0VORF8gb2YgX1RPVEFMXyBcIit0ZXJtLFxuICAgICAgICAgICAgICAgICAgICBcImxlbmd0aE1lbnVcIjogXCJTaG93IF9NRU5VXyBcIit0ZXJtLFxuICAgICAgICAgICAgICAgICAgICBcImluZm9FbXB0eVwiOiBcIlNob3dpbmcgMCB0byAwIG9mIDAgXCIrdGVybSxcbiAgICAgICAgICAgICAgICAgICAgXCJpbmZvRmlsdGVyZWRcIjogXCIoZmlsdGVyZWQgZnJvbSBfTUFYXyB0b3RhbCBcIit0ZXJtK1wiKVwiLFxuICAgICAgICAgICAgICAgICAgICBcImVtcHR5VGFibGVcIjogXCJObyBcIit0ZXJtK1wiIGZvdW5kXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiemVyb1JlY29yZHNcIjogXCJObyBtYXRjaGluZyBcIit0ZXJtK1wiIGZvdW5kXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFwiZHJhd0NhbGxiYWNrXCI6IGZ1bmN0aW9uKHNldHRpbmdzKXtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGFwaSA9IG5ldyAkLmZuLkRhdGFUYWJsZS5BcGkoc2V0dGluZ3MpLCBwYWdpbmF0aW9uID0gJCh0aGlzKS5jbG9zZXN0KCcuZGF0YVRhYmxlc193cmFwcGVyJykuZmluZCgnLmRhdGFUYWJsZXNfcGFnaW5hdGUnKTtcbiAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbi50b2dnbGUoYXBpLnBhZ2UuaW5mbygpLnBhZ2VzID4gMSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBcInBhZ2VMZW5ndGhcIjogMjVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICB2aWV3Qm90cyA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBpZiAoIW1ldGhvZHMuc2V0VGhyZWFkKCkpIHJldHVybjtcbiAgICAgICAgICAgIGxldCBnYXRoZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgTWVzc2VuZ2VyLnhocigpLnJlcXVlc3Qoe1xuICAgICAgICAgICAgICAgICAgICByb3V0ZSA6IE1lc3Nlbmdlci5jb21tb24oKS5BUEkgKyAndGhyZWFkcy8nICsgb3B0LnRocmVhZC5pZCArICcvYm90cycsXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbihib3RzKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIE1lc3Nlbmdlci5hbGVydCgpLmZpbGxNb2RhbCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keSA6IHRlbXBsYXRlcy5ib3RzKGJvdHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlIDogb3B0LnRocmVhZC5uYW1lKycgQm90cydcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kcy5sb2FkRGF0YVRhYmxlKCQoXCIjdmlld19ib3RzX3RhYmxlXCIpLCAnYm90cycpXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGZhaWxfYWxlcnQgOiB0cnVlXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBsZXQgbW9kYWwgPSB7XG4gICAgICAgICAgICAgICAgaWNvbiA6ICdyb2JvdCcsXG4gICAgICAgICAgICAgICAgYmFja2Ryb3BfY3RybCA6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHRoZW1lIDogJ2RhcmsnLFxuICAgICAgICAgICAgICAgIHRpdGxlIDogJ0xvYWRpbmcgQm90cy4uLicsXG4gICAgICAgICAgICAgICAgcHJlX2xvYWRlciA6IHRydWUsXG4gICAgICAgICAgICAgICAgb3ZlcmZsb3cgOiB0cnVlLFxuICAgICAgICAgICAgICAgIHVubG9ja19idXR0b25zIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgaDQgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzaXplIDogJ2xnJyxcbiAgICAgICAgICAgICAgICBvblJlYWR5IDogZ2F0aGVyXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYob3B0LnRocmVhZC5vcHRpb25zLm1hbmFnZV9ib3RzKXtcbiAgICAgICAgICAgICAgICBtb2RhbC5jYl9idG5fdHh0ID0gJ0NyZWF0ZSBvciBJbnN0YWxsIEJvdCc7XG4gICAgICAgICAgICAgICAgbW9kYWwuY2JfYnRuX2ljb24gPSAncm9ib3QnO1xuICAgICAgICAgICAgICAgIG1vZGFsLmNiX2J0bl90aGVtZSA9ICdzdWNjZXNzJztcbiAgICAgICAgICAgICAgICBtb2RhbC5jYWxsYmFjayA9IG1ldGhvZHMuY3JlYXRlT3JJbnN0YWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgTWVzc2VuZ2VyLmFsZXJ0KCkuTW9kYWwobW9kYWwpO1xuICAgICAgICB9LFxuICAgICAgICBjcmVhdGVPckluc3RhbGwgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgTWVzc2VuZ2VyLmFsZXJ0KCkuTW9kYWwoe1xuICAgICAgICAgICAgICAgIGljb24gOiAncm9ib3QnLFxuICAgICAgICAgICAgICAgIGJhY2tkcm9wX2N0cmwgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0aGVtZSA6ICdkYXJrJyxcbiAgICAgICAgICAgICAgICB0aXRsZSA6ICdDcmVhdGUgb3IgSW5zdGFsbCBCb3QnLFxuICAgICAgICAgICAgICAgIGg0IDogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2l6ZSA6ICdtZCcsXG4gICAgICAgICAgICAgICAgYm9keSA6IHRlbXBsYXRlcy5jcmVhdGVfb3JfaW5zdGFsbCgpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHZpZXdCb3RQYWNrYWdlcyA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBpZiAoIW1ldGhvZHMuc2V0VGhyZWFkKCkpIHJldHVybjtcbiAgICAgICAgICAgIGxldCBnYXRoZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgTWVzc2VuZ2VyLnhocigpLnJlcXVlc3Qoe1xuICAgICAgICAgICAgICAgICAgICByb3V0ZSA6IE1lc3Nlbmdlci5jb21tb24oKS5BUEkgKyAndGhyZWFkcy8nICsgb3B0LnRocmVhZC5pZCArICcvYm90cy9wYWNrYWdlcycsXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbihwYWNrYWdlcyl7XG4gICAgICAgICAgICAgICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5maWxsTW9kYWwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHkgOiB0ZW1wbGF0ZXMuYm90X3BhY2thZ2VzKHBhY2thZ2VzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSA6ICdCb3QgUGFja2FnZXMnXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZmFpbF9hbGVydCA6IHRydWVcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIE1lc3Nlbmdlci5hbGVydCgpLk1vZGFsKHtcbiAgICAgICAgICAgICAgICBpY29uIDogJ3JvYm90JyxcbiAgICAgICAgICAgICAgICBiYWNrZHJvcF9jdHJsIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgdGhlbWUgOiAnZGFyaycsXG4gICAgICAgICAgICAgICAgdGl0bGUgOiAnTG9hZGluZyBCb3QgUGFja2FnZXMuLi4nLFxuICAgICAgICAgICAgICAgIHByZV9sb2FkZXIgOiB0cnVlLFxuICAgICAgICAgICAgICAgIG92ZXJmbG93IDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB1bmxvY2tfYnV0dG9ucyA6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGg0IDogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2l6ZSA6ICdsZycsXG4gICAgICAgICAgICAgICAgb25SZWFkeSA6IGdhdGhlclxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGFkZEJvdCA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5Nb2RhbCh7XG4gICAgICAgICAgICAgICAgaWNvbiA6ICdyb2JvdCcsXG4gICAgICAgICAgICAgICAgYmFja2Ryb3BfY3RybCA6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHRoZW1lIDogJ2RhcmsnLFxuICAgICAgICAgICAgICAgIHRpdGxlIDogJ0FkZCBCb3QnLFxuICAgICAgICAgICAgICAgIG92ZXJmbG93IDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB1bmxvY2tfYnV0dG9ucyA6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGg0IDogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2l6ZSA6ICdtZCcsXG4gICAgICAgICAgICAgICAgYm9keSA6IHRlbXBsYXRlcy5hZGRfYm90KCksXG4gICAgICAgICAgICAgICAgY2JfYnRuX3R4dCA6ICdBZGQgQm90JyxcbiAgICAgICAgICAgICAgICBjYl9idG5faWNvbiA6ICdyb2JvdCcsXG4gICAgICAgICAgICAgICAgY2JfYnRuX3RoZW1lIDogJ3N1Y2Nlc3MnLFxuICAgICAgICAgICAgICAgIG9uUmVhZHkgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAkKFwiLm1fc2V0dGluZ190b2dnbGVcIikuY2hhbmdlKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmlzKCc6Y2hlY2tlZCcpID8gJCh0aGlzKS5jbG9zZXN0KCd0cicpLmFkZENsYXNzKCdhbGVydC1zdWNjZXNzJykgOiAkKHRoaXMpLmNsb3Nlc3QoJ3RyJykucmVtb3ZlQ2xhc3MoJ2FsZXJ0LXN1Y2Nlc3MnKVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2FsbGJhY2sgOiBtZXRob2RzLnN0b3JlQm90XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgdmlld0JvdCA6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgICAgICBpZiAoIW1ldGhvZHMuc2V0VGhyZWFkKCkpIHJldHVybjtcbiAgICAgICAgICAgIGxldCBnYXRoZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgTWVzc2VuZ2VyLnhocigpLnJlcXVlc3Qoe1xuICAgICAgICAgICAgICAgICAgICByb3V0ZSA6IE1lc3Nlbmdlci5jb21tb24oKS5BUEkgKyAndGhyZWFkcy8nICsgb3B0LnRocmVhZC5pZCArICcvYm90cy8nK2lkLFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzIDogZnVuY3Rpb24oYm90KXtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdC5jdXJyZW50X2JvdCA9IGJvdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIE1lc3Nlbmdlci5hbGVydCgpLmZpbGxNb2RhbCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keSA6IHRlbXBsYXRlcy52aWV3X2JvdChib3QpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlIDogYm90Lm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0LmN1cnJlbnRfYm90X2FjdGlvbl9jb250YWluZXIgPSAkKFwiI2JvdF9hY3Rpb25zX2NvbnRhaW5lclwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChib3QuaGFzT3duUHJvcGVydHkoJ2FjdGlvbnMnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kcy5sb2FkRGF0YVRhYmxlKCQoXCIjdmlld19ib3RzX2FjdGlvbnNfdGFibGVcIiksICdhY3Rpb25zJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBmYWlsX2FsZXJ0IDogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgTWVzc2VuZ2VyLmFsZXJ0KCkuTW9kYWwoe1xuICAgICAgICAgICAgICAgIGljb24gOiAncm9ib3QnLFxuICAgICAgICAgICAgICAgIGJhY2tkcm9wX2N0cmwgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0aGVtZSA6ICdkYXJrJyxcbiAgICAgICAgICAgICAgICB0aXRsZSA6ICdMb2FkaW5nIEJvdC4uLicsXG4gICAgICAgICAgICAgICAgcHJlX2xvYWRlciA6IHRydWUsXG4gICAgICAgICAgICAgICAgdW5sb2NrX2J1dHRvbnMgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBoNCA6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNpemUgOiAnZnVsbHNjcmVlbicsXG4gICAgICAgICAgICAgICAgb25SZWFkeSA6IGdhdGhlclxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVkaXRCb3QgOiBmdW5jdGlvbihpZCl7XG4gICAgICAgICAgICBpZiAoIW1ldGhvZHMuc2V0VGhyZWFkKCkpIHJldHVybjtcbiAgICAgICAgICAgIGxldCBnYXRoZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGZpbGwgPSAoYm90KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIG9wdC5jdXJyZW50X2JvdCA9IGJvdDtcbiAgICAgICAgICAgICAgICAgICAgTWVzc2VuZ2VyLmFsZXJ0KCkuZmlsbE1vZGFsKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHkgOiB0ZW1wbGF0ZXMuZWRpdF9ib3QoYm90KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlIDogJ0VkaXRpbmcgJytib3QubmFtZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgJChcIi5tX3NldHRpbmdfdG9nZ2xlXCIpLmNoYW5nZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5pcygnOmNoZWNrZWQnKSA/ICQodGhpcykuY2xvc2VzdCgndHInKS5hZGRDbGFzcygnYWxlcnQtc3VjY2VzcycpIDogJCh0aGlzKS5jbG9zZXN0KCd0cicpLnJlbW92ZUNsYXNzKCdhbGVydC1zdWNjZXNzJylcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYob3B0LmN1cnJlbnRfYm90ICYmIG9wdC5jdXJyZW50X2JvdC5pZCA9PT0gaWQpe1xuICAgICAgICAgICAgICAgICAgICBmaWxsKG9wdC5jdXJyZW50X2JvdCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgTWVzc2VuZ2VyLnhocigpLnJlcXVlc3Qoe1xuICAgICAgICAgICAgICAgICAgICByb3V0ZSA6IE1lc3Nlbmdlci5jb21tb24oKS5BUEkgKyAndGhyZWFkcy8nICsgb3B0LnRocmVhZC5pZCArICcvYm90cy8nK2lkLFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzIDogZmlsbCxcbiAgICAgICAgICAgICAgICAgICAgZmFpbF9hbGVydCA6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGZhaWxfa2VlcF9vcGVuIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIE1lc3Nlbmdlci5hbGVydCgpLk1vZGFsKHtcbiAgICAgICAgICAgICAgICBpY29uIDogJ3JvYm90JyxcbiAgICAgICAgICAgICAgICBiYWNrZHJvcF9jdHJsIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgdGhlbWUgOiAnZGFyaycsXG4gICAgICAgICAgICAgICAgdGl0bGUgOiAnTG9hZGluZyBCb3QuLi4nLFxuICAgICAgICAgICAgICAgIHByZV9sb2FkZXIgOiB0cnVlLFxuICAgICAgICAgICAgICAgIHVubG9ja19idXR0b25zIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgaDQgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzaXplIDogJ21kJyxcbiAgICAgICAgICAgICAgICBvdmVyZmxvdyA6IHRydWUsXG4gICAgICAgICAgICAgICAgb25SZWFkeSA6IGdhdGhlcixcbiAgICAgICAgICAgICAgICBjYl9idG5fdHh0IDogJ1NhdmUgQm90JyxcbiAgICAgICAgICAgICAgICBjYl9idG5faWNvbiA6ICdyb2JvdCcsXG4gICAgICAgICAgICAgICAgY2JfYnRuX3RoZW1lIDogJ3N1Y2Nlc3MnLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kcy51cGRhdGVCb3QoaWQpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVkaXRBY3Rpb24gOiBmdW5jdGlvbihpZCl7XG4gICAgICAgICAgICBpZiAoIW1ldGhvZHMuc2V0VGhyZWFkKCkgfHwgIW9wdC5jdXJyZW50X2JvdCkgcmV0dXJuO1xuICAgICAgICAgICAgaWYoIW9wdC5jdXJyZW50X2JvdC5oYXNPd25Qcm9wZXJ0eSgnYWN0aW9ucycpIHx8ICFvcHQuY3VycmVudF9ib3QuYWN0aW9ucy5sZW5ndGgpe1xuICAgICAgICAgICAgICAgIG1ldGhvZHMucmVsb2FkQm90QWN0aW9ucygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IG9wdC5jdXJyZW50X2JvdC5hY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdC5jdXJyZW50X2JvdC5hY3Rpb25zW2ldLmlkID09PSBpZCkge1xuICAgICAgICAgICAgICAgICAgICBvcHQuY3VycmVudF9hY3Rpb24gPSBvcHQuY3VycmVudF9ib3QuYWN0aW9uc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1ldGhvZHMuZ2VuZXJhdGVFZGl0QWN0aW9uRm9ybSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1ldGhvZHMucmVsb2FkQm90QWN0aW9ucygpO1xuICAgICAgICB9LFxuICAgICAgICB1cGRhdGVBY3Rpb24gOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgaWYgKCFtZXRob2RzLnNldFRocmVhZCgpIHx8ICFvcHQuY3VycmVudF9ib3QgfHwgIW9wdC5jdXJyZW50X2FjdGlvbikgcmV0dXJuO1xuICAgICAgICAgICAgTWVzc2VuZ2VyLmJ1dHRvbigpLmFkZExvYWRlcih7aWQgOiAnI3NhdmVfYm90X2FjdGlvbl9idG4nfSk7XG4gICAgICAgICAgICBNZXNzZW5nZXIueGhyKCkucGF5bG9hZCh7XG4gICAgICAgICAgICAgICAgcm91dGUgOiBNZXNzZW5nZXIuY29tbW9uKCkuQVBJICsgJ3RocmVhZHMvJyArIG9wdC50aHJlYWQuaWQgKyAnL2JvdHMvJytvcHQuY3VycmVudF9ib3QuaWQrJy9hY3Rpb25zLycrb3B0LmN1cnJlbnRfYWN0aW9uLmlkLFxuICAgICAgICAgICAgICAgIGRhdGEgOiBtZXRob2RzLm1ha2VIYW5kbGVyRm9ybURhdGEob3B0LmN1cnJlbnRfYWN0aW9uLmhhbmRsZXIpLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3MgOiBtZXRob2RzLnJlbG9hZEJvdEFjdGlvbnMsXG4gICAgICAgICAgICAgICAgZmFpbF9hbGVydCA6IHRydWUsXG4gICAgICAgICAgICAgICAgZmFpbF9rZWVwX29wZW4gOiB0cnVlLFxuICAgICAgICAgICAgfSwgJ3B1dCcpO1xuICAgICAgICB9LFxuICAgICAgICBnZW5lcmF0ZUVkaXRBY3Rpb25Gb3JtIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGxldCBleHRyYSA9ICcnO1xuICAgICAgICAgICAgc3dpdGNoKG9wdC5jdXJyZW50X2FjdGlvbi5oYW5kbGVyLmFsaWFzKXtcbiAgICAgICAgICAgICAgICBjYXNlICdyZWFjdCc6XG4gICAgICAgICAgICAgICAgICAgIGV4dHJhID0gaGFuZGxlcnMucmVhY3Rpb24ob3B0LmN1cnJlbnRfYWN0aW9uLnBheWxvYWQucmVhY3Rpb24pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3JlYWN0X2JvbWInOlxuICAgICAgICAgICAgICAgICAgICBleHRyYSA9IGhhbmRsZXJzLnJlYWN0aW9uX2JvbWIob3B0LmN1cnJlbnRfYWN0aW9uLnBheWxvYWQucmVhY3Rpb25zKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdyZXBseSc6XG4gICAgICAgICAgICAgICAgICAgIGV4dHJhID0gaGFuZGxlcnMucmVwbGllcyhvcHQuY3VycmVudF9hY3Rpb24ucGF5bG9hZCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnaW52aXRhdGlvbnMnOlxuICAgICAgICAgICAgICAgICAgICBleHRyYSA9IGhhbmRsZXJzLmludml0ZV9saWZldGltZShvcHQuY3VycmVudF9hY3Rpb24ucGF5bG9hZCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZG9jdW1lbnRfZmluZGVyJzpcbiAgICAgICAgICAgICAgICBjYXNlICd3aWtpJzpcbiAgICAgICAgICAgICAgICBjYXNlICd5b3V0dWJlJzpcbiAgICAgICAgICAgICAgICAgICAgZXh0cmEgPSBoYW5kbGVycy5yZXN1bHRfbGltaXQob3B0LmN1cnJlbnRfYWN0aW9uLnBheWxvYWQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3B0LmN1cnJlbnRfYm90X2FjdGlvbl9jb250YWluZXIuaHRtbChcbiAgICAgICAgICAgICAgICBoYW5kbGVycy5zdGFydChvcHQuY3VycmVudF9hY3Rpb24uaGFuZGxlciwgdHJ1ZSkgK1xuICAgICAgICAgICAgICAgIGhhbmRsZXJzLmJhc2Uob3B0LmN1cnJlbnRfYWN0aW9uKSArXG4gICAgICAgICAgICAgICAgaGFuZGxlcnMudHJpZ2dlcnMob3B0LmN1cnJlbnRfYWN0aW9uLnRyaWdnZXJzLCBvcHQuY3VycmVudF9hY3Rpb24uaGFuZGxlci50cmlnZ2Vycywgb3B0LmN1cnJlbnRfYWN0aW9uLmhhbmRsZXIubWF0Y2ggPz8gb3B0LmN1cnJlbnRfYWN0aW9uLm1hdGNoKSArXG4gICAgICAgICAgICAgICAgaGFuZGxlcnMubWF0Y2gob3B0LmN1cnJlbnRfYWN0aW9uLm1hdGNoLCBvcHQuY3VycmVudF9hY3Rpb24uaGFuZGxlci5tYXRjaCkgK1xuICAgICAgICAgICAgICAgIGV4dHJhICtcbiAgICAgICAgICAgICAgICBoYW5kbGVycy5lbmQodHJ1ZSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICAkKFwiLm1fc2V0dGluZ190b2dnbGVcIikuY2hhbmdlKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5pcygnOmNoZWNrZWQnKSA/ICQodGhpcykuY2xvc2VzdCgndHInKS5hZGRDbGFzcygnYWxlcnQtc3VjY2VzcycpIDogJCh0aGlzKS5jbG9zZXN0KCd0cicpLnJlbW92ZUNsYXNzKCdhbGVydC1zdWNjZXNzJylcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIHZpZXdBdmFpbGFibGVIYW5kbGVycyA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBpZiAoIW1ldGhvZHMuc2V0VGhyZWFkKCkgfHwgIW9wdC5jdXJyZW50X2JvdCkgcmV0dXJuO1xuICAgICAgICAgICAgb3B0LmN1cnJlbnRfYm90X2FjdGlvbl9jb250YWluZXIuaHRtbChNZXNzZW5nZXIuYWxlcnQoKS5sb2FkZXIodHJ1ZSkpO1xuICAgICAgICAgICAgTWVzc2VuZ2VyLnhocigpLnJlcXVlc3Qoe1xuICAgICAgICAgICAgICAgIHJvdXRlIDogTWVzc2VuZ2VyLmNvbW1vbigpLkFQSSArICd0aHJlYWRzLycgKyBvcHQudGhyZWFkLmlkICsgJy9ib3RzLycrb3B0LmN1cnJlbnRfYm90LmlkKycvYWRkLWhhbmRsZXJzJyxcbiAgICAgICAgICAgICAgICBzdWNjZXNzIDogZnVuY3Rpb24oaGFuZGxlcnMpe1xuICAgICAgICAgICAgICAgICAgICBvcHQuaGFuZGxlcnMgPSBoYW5kbGVycztcbiAgICAgICAgICAgICAgICAgICAgb3B0LmN1cnJlbnRfYm90X2FjdGlvbl9jb250YWluZXIuaHRtbCh0ZW1wbGF0ZXMudmlld19oYW5kbGVycyhoYW5kbGVycykpO1xuICAgICAgICAgICAgICAgICAgICBtZXRob2RzLmxvYWREYXRhVGFibGUoJChcIiN2aWV3X2hhbmRsZXJzX3RhYmxlXCIpLCAnYWN0aW9ucycpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmYWlsX2FsZXJ0IDogdHJ1ZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlQWN0aW9uIDogZnVuY3Rpb24oYWxpYXMpe1xuICAgICAgICAgICAgaWYgKCFtZXRob2RzLnNldFRocmVhZCgpIHx8ICFvcHQuY3VycmVudF9ib3QpIHJldHVybjtcbiAgICAgICAgICAgIGlmKCFvcHQuaGFuZGxlcnMpe1xuICAgICAgICAgICAgICAgIE1lc3Nlbmdlci54aHIoKS5yZXF1ZXN0KHtcbiAgICAgICAgICAgICAgICAgICAgcm91dGUgOiBNZXNzZW5nZXIuY29tbW9uKCkuQVBJICsgJ3RocmVhZHMvJyArIG9wdC50aHJlYWQuaWQgKyAnL2JvdHMvJytvcHQuY3VycmVudF9ib3QuaWQrJy9hZGQtaGFuZGxlcnMnLFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzIDogZnVuY3Rpb24oaGFuZGxlcnMpe1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0LmhhbmRsZXJzID0gaGFuZGxlcnM7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2RzLmNyZWF0ZUFjdGlvbihhbGlhcylcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZmFpbF9hbGVydCA6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgb3B0LmhhbmRsZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdC5oYW5kbGVyc1tpXS5hbGlhcyA9PT0gYWxpYXMpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0LmN1cnJlbnRfaGFuZGxlciA9IG9wdC5oYW5kbGVyc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1ldGhvZHMuZ2VuZXJhdGVDcmVhdGVBY3Rpb25Gb3JtKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWV0aG9kcy5yZWxvYWRCb3RBY3Rpb25zKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGdlbmVyYXRlQ3JlYXRlQWN0aW9uRm9ybSA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBsZXQgZXh0cmEgPSAnJztcbiAgICAgICAgICAgIHN3aXRjaChvcHQuY3VycmVudF9oYW5kbGVyLmFsaWFzKXtcbiAgICAgICAgICAgICAgICBjYXNlICdyZWFjdCc6XG4gICAgICAgICAgICAgICAgICAgIGV4dHJhID0gaGFuZGxlcnMucmVhY3Rpb24oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdyZWFjdF9ib21iJzpcbiAgICAgICAgICAgICAgICAgICAgZXh0cmEgPSBoYW5kbGVycy5yZWFjdGlvbl9ib21iKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAncmVwbHknOlxuICAgICAgICAgICAgICAgICAgICBleHRyYSA9IGhhbmRsZXJzLnJlcGxpZXMoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdpbnZpdGF0aW9ucyc6XG4gICAgICAgICAgICAgICAgICAgIGV4dHJhID0gaGFuZGxlcnMuaW52aXRlX2xpZmV0aW1lKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZG9jdW1lbnRfZmluZGVyJzpcbiAgICAgICAgICAgICAgICBjYXNlICd3aWtpJzpcbiAgICAgICAgICAgICAgICBjYXNlICd5b3V0dWJlJzpcbiAgICAgICAgICAgICAgICAgICAgZXh0cmEgPSBoYW5kbGVycy5yZXN1bHRfbGltaXQoKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3B0LmN1cnJlbnRfYm90X2FjdGlvbl9jb250YWluZXIuaHRtbChcbiAgICAgICAgICAgICAgICBoYW5kbGVycy5zdGFydChvcHQuY3VycmVudF9oYW5kbGVyLCBmYWxzZSkgK1xuICAgICAgICAgICAgICAgIGhhbmRsZXJzLmJhc2UoKSArXG4gICAgICAgICAgICAgICAgaGFuZGxlcnMudHJpZ2dlcnMobnVsbCwgb3B0LmN1cnJlbnRfaGFuZGxlci50cmlnZ2Vycywgb3B0LmN1cnJlbnRfaGFuZGxlci5tYXRjaCkgK1xuICAgICAgICAgICAgICAgIGhhbmRsZXJzLm1hdGNoKG51bGwsIG9wdC5jdXJyZW50X2hhbmRsZXIubWF0Y2gpICtcbiAgICAgICAgICAgICAgICBleHRyYSArXG4gICAgICAgICAgICAgICAgaGFuZGxlcnMuZW5kKGZhbHNlKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICQoXCIubV9zZXR0aW5nX3RvZ2dsZVwiKS5jaGFuZ2UoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmlzKCc6Y2hlY2tlZCcpID8gJCh0aGlzKS5jbG9zZXN0KCd0cicpLmFkZENsYXNzKCdhbGVydC1zdWNjZXNzJykgOiAkKHRoaXMpLmNsb3Nlc3QoJ3RyJykucmVtb3ZlQ2xhc3MoJ2FsZXJ0LXN1Y2Nlc3MnKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgc3RvcmVBY3Rpb24gOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgaWYgKCFtZXRob2RzLnNldFRocmVhZCgpIHx8ICFvcHQuY3VycmVudF9oYW5kbGVyIHx8ICFvcHQuY3VycmVudF9ib3QpIHJldHVybjtcbiAgICAgICAgICAgIE1lc3Nlbmdlci5idXR0b24oKS5hZGRMb2FkZXIoe2lkIDogJyNzYXZlX2JvdF9hY3Rpb25fYnRuJ30pO1xuICAgICAgICAgICAgTWVzc2VuZ2VyLnhocigpLnBheWxvYWQoe1xuICAgICAgICAgICAgICAgIHJvdXRlIDogTWVzc2VuZ2VyLmNvbW1vbigpLkFQSSArICd0aHJlYWRzLycgKyBvcHQudGhyZWFkLmlkICsgJy9ib3RzLycrb3B0LmN1cnJlbnRfYm90LmlkKycvYWN0aW9ucycsXG4gICAgICAgICAgICAgICAgZGF0YSA6IG1ldGhvZHMubWFrZUhhbmRsZXJGb3JtRGF0YShvcHQuY3VycmVudF9oYW5kbGVyKSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzIDogbWV0aG9kcy5yZWxvYWRCb3RBY3Rpb25zLFxuICAgICAgICAgICAgICAgIGZhaWxfYWxlcnQgOiB0cnVlLFxuICAgICAgICAgICAgICAgIGZhaWxfa2VlcF9vcGVuIDogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICByZWxvYWRCb3RBY3Rpb25zIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGlmICghbWV0aG9kcy5zZXRUaHJlYWQoKSB8fCAhb3B0LmN1cnJlbnRfYm90KSByZXR1cm47XG4gICAgICAgICAgICBvcHQuY3VycmVudF9ib3RfYWN0aW9uX2NvbnRhaW5lci5odG1sKE1lc3Nlbmdlci5hbGVydCgpLmxvYWRlcih0cnVlKSk7XG4gICAgICAgICAgICBNZXNzZW5nZXIueGhyKCkucmVxdWVzdCh7XG4gICAgICAgICAgICAgICAgcm91dGUgOiBNZXNzZW5nZXIuY29tbW9uKCkuQVBJICsgJ3RocmVhZHMvJyArIG9wdC50aHJlYWQuaWQgKyAnL2JvdHMvJytvcHQuY3VycmVudF9ib3QuaWQrJy9hY3Rpb25zJyxcbiAgICAgICAgICAgICAgICBzdWNjZXNzIDogZnVuY3Rpb24oYWN0aW9ucyl7XG4gICAgICAgICAgICAgICAgICAgIG9wdC5jdXJyZW50X2JvdC5hY3Rpb25zID0gYWN0aW9ucztcbiAgICAgICAgICAgICAgICAgICAgb3B0LmN1cnJlbnRfYm90X2FjdGlvbl9jb250YWluZXIuaHRtbCh0ZW1wbGF0ZXMuYm90X2FjdGlvbnNfdGFibGUoYWN0aW9ucykpO1xuICAgICAgICAgICAgICAgICAgICBtZXRob2RzLmxvYWREYXRhVGFibGUoJChcIiN2aWV3X2JvdHNfYWN0aW9uc190YWJsZVwiKSwgJ2FjdGlvbnMnKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmFpbF9hbGVydCA6IHRydWVcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIG1ha2VIYW5kbGVyRm9ybURhdGEgOiBmdW5jdGlvbihoYW5kbGVyKXtcbiAgICAgICAgICAgIGxldCBmb3JtID0ge30sIG1hdGNoID0gJChcIiNnX3NfYWN0aW9uX21hdGNoXCIpLnZhbCgpO1xuICAgICAgICAgICAgZm9ybS5oYW5kbGVyID0gaGFuZGxlci5hbGlhcztcbiAgICAgICAgICAgIGZvcm0uY29vbGRvd24gPSBwYXJzZUludCgkKFwiI2dfc19ib3RfY29vbGRvd25cIikudmFsKCkpO1xuICAgICAgICAgICAgZm9ybS5lbmFibGVkID0gJChcIiNnX3NfYWN0aW9uX2VuYWJsZWRcIikuaXMoXCI6Y2hlY2tlZFwiKTtcbiAgICAgICAgICAgIGZvcm0uYWRtaW5fb25seSA9ICQoXCIjZ19zX2FkbWluX29ubHlfYWN0aW9uXCIpLmlzKFwiOmNoZWNrZWRcIik7XG4gICAgICAgICAgICBpZighaGFuZGxlci50cmlnZ2VycyAmJiAhW2hhbmRsZXIubWF0Y2gsIG1hdGNoXS5pbmNsdWRlcygnYW55Jykpe1xuICAgICAgICAgICAgICAgIGZvcm0udHJpZ2dlcnMgPSBbJChcIiNnX3NfYWN0aW9uX3RyaWdnZXJzXCIpLnZhbCgpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKCFoYW5kbGVyLm1hdGNoKXtcbiAgICAgICAgICAgICAgICBmb3JtLm1hdGNoID0gbWF0Y2g7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihoYW5kbGVyLmFsaWFzID09PSAncmVhY3QnKXtcbiAgICAgICAgICAgICAgICBmb3JtLnJlYWN0aW9uID0gJChcIiNnX3NfYm90X3JlYWN0aW9uXCIpLnZhbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoaGFuZGxlci5hbGlhcyA9PT0gJ3JlYWN0X2JvbWInKXtcbiAgICAgICAgICAgICAgICBmb3JtLnJlYWN0aW9ucyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgYm9tYl9lbW9qaSA9ICQoXCIjYm90X3JlYWN0aW9uX2JvbWJfXCIraSkudmFsKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmKGJvbWJfZW1vamkudHJpbSgpLmxlbmd0aCkgZm9ybS5yZWFjdGlvbnMucHVzaChib21iX2Vtb2ppKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKGhhbmRsZXIuYWxpYXMgPT09ICdyZXBseScpe1xuICAgICAgICAgICAgICAgIGZvcm0ucXVvdGVfb3JpZ2luYWwgPSAkKFwiI2dfc19xdW90ZV9vcmlnaW5hbFwiKS5pcyhcIjpjaGVja2VkXCIpO1xuICAgICAgICAgICAgICAgIGZvcm0ucmVwbGllcyA9IFtdO1xuICAgICAgICAgICAgICAgIGxldCByZXBsaWVzID0gW1xuICAgICAgICAgICAgICAgICAgICAkKFwiI2dfc19yZXBseV8xXCIpLnZhbCgpLFxuICAgICAgICAgICAgICAgICAgICAkKFwiI2dfc19yZXBseV8yXCIpLnZhbCgpLFxuICAgICAgICAgICAgICAgICAgICAkKFwiI2dfc19yZXBseV8zXCIpLnZhbCgpLFxuICAgICAgICAgICAgICAgICAgICAkKFwiI2dfc19yZXBseV80XCIpLnZhbCgpLFxuICAgICAgICAgICAgICAgICAgICAkKFwiI2dfc19yZXBseV81XCIpLnZhbCgpXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICByZXBsaWVzLmZvckVhY2goKHJlcGx5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmKHJlcGx5LnRyaW0oKS5sZW5ndGgpIGZvcm0ucmVwbGllcy5wdXNoKHJlcGx5KVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoaGFuZGxlci5hbGlhcyA9PT0gJ2ludml0YXRpb25zJyl7XG4gICAgICAgICAgICAgICAgZm9ybS5saWZldGltZV9taW51dGVzID0gcGFyc2VJbnQoJChcIiNnX3NfYm90X2ludl9saWZldGltZVwiKS52YWwoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihbJ2RvY3VtZW50X2ZpbmRlcicsICd3aWtpJywgJ3lvdXR1YmUnXS5pbmNsdWRlcyhoYW5kbGVyLmFsaWFzKSl7XG4gICAgICAgICAgICAgICAgZm9ybS5saW1pdCA9IHBhcnNlSW50KCQoXCIjZ19zX2JvdF9yZXN1bHRfbGltaXRcIikudmFsKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZvcm07XG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZUJvdCA6IGZ1bmN0aW9uKGlkKXtcbiAgICAgICAgICAgIGlmKCFtZXRob2RzLnNldFRocmVhZCgpKSByZXR1cm47XG4gICAgICAgICAgICBpZihvcHQuY3VycmVudF9ib3QgJiYgb3B0LmN1cnJlbnRfYm90LmlkID09PSBpZCl7XG4gICAgICAgICAgICAgICAgTWVzc2VuZ2VyLmFsZXJ0KCkuTW9kYWwoe1xuICAgICAgICAgICAgICAgICAgICB0aGVtZSA6ICdkYW5nZXInLFxuICAgICAgICAgICAgICAgICAgICBpY29uIDogJ3RyYXNoJyxcbiAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3BfY3RybCA6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZSA6ICdSZW1vdmUgQm90PycsXG4gICAgICAgICAgICAgICAgICAgIGJvZHkgOiB0ZW1wbGF0ZXMud2Fybl9kZWxldGUoKSxcbiAgICAgICAgICAgICAgICAgICAgY2JfYnRuX3R4dCA6ICdEZWxldGUnLFxuICAgICAgICAgICAgICAgICAgICBjYl9idG5faWNvbiA6ICd0cmFzaCcsXG4gICAgICAgICAgICAgICAgICAgIGNiX2J0bl90aGVtZSA6ICdkYW5nZXInLFxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayA6IG1ldGhvZHMuZGVsZXRlQm90XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBNZXNzZW5nZXIueGhyKCkucmVxdWVzdCh7XG4gICAgICAgICAgICAgICAgcm91dGUgOiBNZXNzZW5nZXIuY29tbW9uKCkuQVBJICsgJ3RocmVhZHMvJyArIG9wdC50aHJlYWQuaWQgKyAnL2JvdHMvJytpZCxcbiAgICAgICAgICAgICAgICBzdWNjZXNzIDogZnVuY3Rpb24oYm90KXtcbiAgICAgICAgICAgICAgICAgICAgb3B0LmN1cnJlbnRfYm90ID0gYm90O1xuICAgICAgICAgICAgICAgICAgICBtZXRob2RzLnJlbW92ZUJvdChib3QuaWQpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmYWlsX2FsZXJ0IDogdHJ1ZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgcmVtb3ZlQWN0aW9uIDogZnVuY3Rpb24oaWQpe1xuICAgICAgICAgICAgaWYoIW1ldGhvZHMuc2V0VGhyZWFkKCkgfHwgIW9wdC5jdXJyZW50X2JvdCkgcmV0dXJuO1xuICAgICAgICAgICAgb3B0LmN1cnJlbnRfYm90X2FjdGlvbl9jb250YWluZXIuaHRtbChNZXNzZW5nZXIuYWxlcnQoKS5sb2FkZXIodHJ1ZSkpO1xuICAgICAgICAgICAgTWVzc2VuZ2VyLnhocigpLnBheWxvYWQoe1xuICAgICAgICAgICAgICAgIHJvdXRlIDogTWVzc2VuZ2VyLmNvbW1vbigpLkFQSSArICd0aHJlYWRzLycgKyBvcHQudGhyZWFkLmlkICsgJy9ib3RzLycrb3B0LmN1cnJlbnRfYm90LmlkKycvYWN0aW9ucy8nK2lkLFxuICAgICAgICAgICAgICAgIGRhdGEgOiB7fSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzIDogbWV0aG9kcy5yZWxvYWRCb3RBY3Rpb25zLFxuICAgICAgICAgICAgICAgIGZhaWxfYWxlcnQgOiB0cnVlXG4gICAgICAgICAgICB9LCAnZGVsZXRlJyk7XG4gICAgICAgIH0sXG4gICAgICAgIGRlbGV0ZUJvdCA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBpZighbWV0aG9kcy5zZXRUaHJlYWQoKSB8fCAhb3B0LmN1cnJlbnRfYm90KSByZXR1cm47XG4gICAgICAgICAgICBNZXNzZW5nZXIueGhyKCkucGF5bG9hZCh7XG4gICAgICAgICAgICAgICAgcm91dGUgOiBNZXNzZW5nZXIuY29tbW9uKCkuQVBJICsgJ3RocmVhZHMvJyArIG9wdC50aHJlYWQuaWQgKyAnL2JvdHMvJytvcHQuY3VycmVudF9ib3QuaWQsXG4gICAgICAgICAgICAgICAgZGF0YSA6IHt9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3MgOiBtZXRob2RzLnZpZXdCb3RzLFxuICAgICAgICAgICAgICAgIGZhaWxfYWxlcnQgOiB0cnVlXG4gICAgICAgICAgICB9LCAnZGVsZXRlJyk7XG4gICAgICAgIH0sXG4gICAgICAgIHN0b3JlQm90IDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGlmICghbWV0aG9kcy5zZXRUaHJlYWQoKSkgcmV0dXJuO1xuICAgICAgICAgICAgTWVzc2VuZ2VyLnhocigpLnBheWxvYWQoe1xuICAgICAgICAgICAgICAgIHJvdXRlIDogTWVzc2VuZ2VyLmNvbW1vbigpLkFQSSArICd0aHJlYWRzLycgKyBvcHQudGhyZWFkLmlkICsgJy9ib3RzJyxcbiAgICAgICAgICAgICAgICBkYXRhIDoge1xuICAgICAgICAgICAgICAgICAgICBuYW1lIDogJCgnI2dfc19ib3RfbmFtZScpLnZhbCgpLFxuICAgICAgICAgICAgICAgICAgICBlbmFibGVkIDogJChcIiNnX3NfYm90X2VuYWJsZWRcIikuaXMoXCI6Y2hlY2tlZFwiKSxcbiAgICAgICAgICAgICAgICAgICAgaGlkZV9hY3Rpb25zIDogJChcIiNnX3NfaGlkZV9hY3Rpb25zXCIpLmlzKFwiOmNoZWNrZWRcIiksXG4gICAgICAgICAgICAgICAgICAgIGNvb2xkb3duIDogcGFyc2VJbnQoJChcIiNnX3NfYm90X2Nvb2xkb3duXCIpLnZhbCgpKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbihib3Qpe1xuICAgICAgICAgICAgICAgICAgICBtZXRob2RzLnZpZXdCb3QoYm90LmlkKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmFpbF9hbGVydCA6IHRydWUsXG4gICAgICAgICAgICAgICAgZmFpbF9rZWVwX29wZW4gOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGluc3RhbGxCb3RQYWNrYWdlIDogZnVuY3Rpb24oYWxpYXMpe1xuICAgICAgICAgICAgaWYgKCFtZXRob2RzLnNldFRocmVhZCgpKSByZXR1cm47XG4gICAgICAgICAgICBNZXNzZW5nZXIuYWxlcnQoKS5maWxsTW9kYWwoe1xuICAgICAgICAgICAgICAgIGxvYWRlciA6IHRydWUsXG4gICAgICAgICAgICAgICAgdGl0bGUgOiAnSW5zdGFsbGluZyBCb3QuLi4nXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIE1lc3Nlbmdlci54aHIoKS5wYXlsb2FkKHtcbiAgICAgICAgICAgICAgICByb3V0ZSA6IE1lc3Nlbmdlci5jb21tb24oKS5BUEkgKyAndGhyZWFkcy8nICsgb3B0LnRocmVhZC5pZCArICcvYm90cy9wYWNrYWdlcycsXG4gICAgICAgICAgICAgICAgZGF0YSA6IHtcbiAgICAgICAgICAgICAgICAgICAgYWxpYXMgOiBhbGlhcyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbihib3Qpe1xuICAgICAgICAgICAgICAgICAgICBtZXRob2RzLnZpZXdCb3QoYm90LmlkKTtcbiAgICAgICAgICAgICAgICAgICAgTWVzc2VuZ2VyLmFsZXJ0KCkuQWxlcnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3QgOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhlbWUgOiAnc3VjY2VzcycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSA6IGJvdC5uYW1lKycgd2FzIHN1Y2Nlc3NmdWxseSBpbnN0YWxsZWQuJ1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZhaWxfYWxlcnQgOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHVwZGF0ZUJvdCA6IGZ1bmN0aW9uKGlkKXtcbiAgICAgICAgICAgIGlmICghbWV0aG9kcy5zZXRUaHJlYWQoKSkgcmV0dXJuO1xuICAgICAgICAgICAgTWVzc2VuZ2VyLnhocigpLnBheWxvYWQoe1xuICAgICAgICAgICAgICAgIHJvdXRlIDogTWVzc2VuZ2VyLmNvbW1vbigpLkFQSSArICd0aHJlYWRzLycgKyBvcHQudGhyZWFkLmlkICsgJy9ib3RzLycraWQsXG4gICAgICAgICAgICAgICAgZGF0YSA6IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZSA6ICQoJyNnX3NfYm90X25hbWUnKS52YWwoKSxcbiAgICAgICAgICAgICAgICAgICAgZW5hYmxlZCA6ICQoXCIjZ19zX2JvdF9lbmFibGVkXCIpLmlzKFwiOmNoZWNrZWRcIiksXG4gICAgICAgICAgICAgICAgICAgIGhpZGVfYWN0aW9ucyA6ICQoXCIjZ19zX2hpZGVfYWN0aW9uc1wiKS5pcyhcIjpjaGVja2VkXCIpLFxuICAgICAgICAgICAgICAgICAgICBjb29sZG93biA6IHBhcnNlSW50KCQoXCIjZ19zX2JvdF9jb29sZG93blwiKS52YWwoKSksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzIDogZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZHMudmlld0JvdChkYXRhLmlkKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmFpbF9hbGVydCA6IHRydWUsXG4gICAgICAgICAgICAgICAgZmFpbF9rZWVwX29wZW4gOiB0cnVlLFxuICAgICAgICAgICAgfSwgJ3B1dCcpO1xuICAgICAgICB9LFxuICAgICAgICB1cGxvYWRBdmF0YXIgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZighbWV0aG9kcy5zZXRUaHJlYWQoKSB8fCAhb3B0LmN1cnJlbnRfYm90IHx8ICFvcHQuYXZhdGFyX2lucHV0LmZpbGVzLmxlbmd0aCkgcmV0dXJuO1xuICAgICAgICAgICAgbGV0IGRhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgICAgICAgIGRhdGEuYXBwZW5kKCdpbWFnZScsIG9wdC5hdmF0YXJfaW5wdXQuZmlsZXNbMF0pO1xuICAgICAgICAgICAgUGFnZUxpc3RlbmVycy5saXN0ZW4oKS5kaXNwb3NlVG9vbHRpcHMoKTtcbiAgICAgICAgICAgIE1lc3Nlbmdlci5hbGVydCgpLmZpbGxNb2RhbCh7bG9hZGVyIDogdHJ1ZSwgbm9fY2xvc2UgOiB0cnVlLCBib2R5IDogbnVsbCwgdGl0bGUgOiAnVXBsb2FkaW5nLi4uJ30pO1xuICAgICAgICAgICAgTWVzc2VuZ2VyLnhocigpLnBheWxvYWQoe1xuICAgICAgICAgICAgICAgIHJvdXRlIDogTWVzc2VuZ2VyLmNvbW1vbigpLkFQSSArICd0aHJlYWRzLycgKyBvcHQudGhyZWFkLmlkICsgJy9ib3RzLycrb3B0LmN1cnJlbnRfYm90LmlkKycvYXZhdGFyJyxcbiAgICAgICAgICAgICAgICBkYXRhIDogZGF0YSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzIDogZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZHMudmlld0JvdChkYXRhLmlkKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmFpbF9hbGVydCA6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICByZW1vdmVBdmF0YXIgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgaWYoIW1ldGhvZHMuc2V0VGhyZWFkKCkgfHwgIW9wdC5jdXJyZW50X2JvdCkgcmV0dXJuO1xuICAgICAgICAgICAgTWVzc2VuZ2VyLmFsZXJ0KCkuZmlsbE1vZGFsKHtsb2FkZXIgOiB0cnVlLCBub19jbG9zZSA6IHRydWUsIGJvZHkgOiBudWxsLCB0aXRsZSA6ICdSZW1vdmluZy4uLid9KTtcbiAgICAgICAgICAgIE1lc3Nlbmdlci54aHIoKS5wYXlsb2FkKHtcbiAgICAgICAgICAgICAgICByb3V0ZSA6IE1lc3Nlbmdlci5jb21tb24oKS5BUEkgKyAndGhyZWFkcy8nICsgb3B0LnRocmVhZC5pZCArICcvYm90cy8nK29wdC5jdXJyZW50X2JvdC5pZCsnL2F2YXRhcicsXG4gICAgICAgICAgICAgICAgZGF0YSA6IHt9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICBtZXRob2RzLnZpZXdCb3Qob3B0LmN1cnJlbnRfYm90LmlkKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmFpbF9hbGVydCA6IHRydWVcbiAgICAgICAgICAgIH0sICdkZWxldGUnKTtcbiAgICAgICAgfSxcbiAgICAgICAgdXBkYXRlVHJpZ2dlcnNGb3JtIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGxldCBjb250YWluZXIgPSAkKFwiI2JvdF9hY3Rpb25fdHJpZ2dlcnNfZm9ybVwiKTtcbiAgICAgICAgICAgIGlmKCQoXCIjZ19zX2FjdGlvbl9tYXRjaFwiKS52YWwoKSA9PT0gJ2FueScpe1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hZGRDbGFzcygnTlMnKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXIucmVtb3ZlQ2xhc3MoJ05TJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgdGVtcGxhdGVzID0ge1xuICAgICAgICBib3RzIDogZnVuY3Rpb24oYm90cyl7XG4gICAgICAgICAgICBsZXQgdGFibGVfdG9wID0gJzxkaXYgY2xhc3M9XCJyb3dcIj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgIDxkaXYgY2xhc3M9XCJjb2wtMTJcIj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICA8ZGl2IGNsYXNzPVwidGFibGUtcmVzcG9uc2l2ZS1zbVwiPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICA8dGFibGUgaWQ9XCJ2aWV3X2JvdHNfdGFibGVcIiBjbGFzcz1cInRhYmxlIHRhYmxlLXNtIHRhYmxlLWhvdmVyXCI+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICA8dGhlYWQ+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICA8dHI+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICAgICAgPHRoPk5hbWU8L3RoPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICAgICAgIDx0aD5FbmFibGVkPC90aD5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgICAgICAgICA8dGg+T24gQ29vbGRvd248L3RoPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICAgICAgIDx0aD5Db29sZG93bjwvdGg+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICAgICAgPHRoPkFjdGlvbnM8L3RoPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICAgICAgIDx0aD5PcHRpb25zPC90aD5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgICAgIDwvdHI+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICA8L3RoZWFkPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICAgPHRib2R5PicsXG4gICAgICAgICAgICAgICAgdGFibGVfYm90ID0gJzwvdGJvZHk+PC90YWJsZT48L2Rpdj48L2Rpdj48L2Rpdj4nLFxuICAgICAgICAgICAgICAgIHRhYmxlX2ZpbGwgPSAnJztcbiAgICAgICAgICAgIGxldCBib3RfZmlsbCA9IChib3QpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgb25saW5lID0gYm90LmVuYWJsZWQgPyAoYm90Lm9uX2Nvb2xkb3duID8gJ2F3YXknIDogJ29ubGluZScpIDogJ29mZmxpbmUnLFxuICAgICAgICAgICAgICAgICAgICBtYW5hZ2UgPSAnPGEgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCIgb25jbGljaz1cIlRocmVhZEJvdHMuZWRpdEJvdChcXCcnK2JvdC5pZCsnXFwnKTsgcmV0dXJuIGZhbHNlO1wiIGhyZWY9XCIjXCIgdGl0bGU9XCJFZGl0XCI+PGkgY2xhc3M9XCJmYXMgZmEtZWRpdFwiPjwvaT4gRWRpdDwvYT4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICc8YSBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIiBvbmNsaWNrPVwiVGhyZWFkQm90cy5yZW1vdmVCb3QoXFwnJytib3QuaWQrJ1xcJyk7IHJldHVybiBmYWxzZTtcIiBocmVmPVwiI1wiIHRpdGxlPVwiUmVtb3ZlXCI+PGkgY2xhc3M9XCJmYXMgZmEtdHJhc2gtYWx0XCI+PC9pPiBEZWxldGU8L2E+JztcbiAgICAgICAgICAgICAgICByZXR1cm4gJzx0ciBpZD1cInJvd18nK2JvdC5pZCsnXCI+XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICcgICAgIDx0ZCBjbGFzcz1cInBvaW50ZXJfYXJlYVwiIG9uY2xpY2s9XCJUaHJlYWRCb3RzLnZpZXdCb3QoXFwnJytib3QuaWQrJ1xcJylcIj5cXG4nICtcbiAgICAgICAgICAgICAgICAgICAgJyAgICAgIDxkaXYgY2xhc3M9XCJ0YWJsZV9saW5rc1wiPlxcbicgK1xuICAgICAgICAgICAgICAgICAgICAnICAgICAgICA8ZGl2IGNsYXNzPVwibm93cmFwXCI+XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICcgICAgICAgICAgPGltZyBhbHQ9XCJCb3QgQXZhdGFyXCIgY2xhc3M9XCJyb3VuZGVkLWNpcmNsZSBncm91cC1pbWFnZSBhdmF0YXItaXMtJytvbmxpbmUrJ1wiIHNyYz1cIicrYm90LmF2YXRhci5zbSsnXCIgLz5cXG4nICtcbiAgICAgICAgICAgICAgICAgICAgJyAgICAgICAgICA8c3BhbiBjbGFzcz1cImg1XCI+PHNwYW4gY2xhc3M9XCJiYWRnZSBiYWRnZS1saWdodFwiPicrYm90Lm5hbWUrJzwvc3Bhbj48L3NwYW4+XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICcgICAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAgICAgICAgICAgICAgICAgJyAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAgICAgICAgICAgICAgICAgJyAgPC90ZD4nK1xuICAgICAgICAgICAgICAgICAgICAnICA8dGQgY2xhc3M9XCJoNVwiPlxcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAoYm90LmVuYWJsZWQgPyAnPHNwYW4gY2xhc3M9XCJiYWRnZSBiYWRnZS1zdWNjZXNzXCI+PGkgY2xhc3M9XCJmYXMgZmEtY2hlY2tcIj48L2k+PC9zcGFuPicgOiAnPHNwYW4gY2xhc3M9XCJiYWRnZSBiYWRnZS1kYW5nZXJcIj48aSBjbGFzcz1cImZhcyBmYS10aW1lc1wiPjwvaT48L3NwYW4+JykgK1xuICAgICAgICAgICAgICAgICAgICAnICA8L3RkPlxcbicgK1xuICAgICAgICAgICAgICAgICAgICAnICA8dGQgY2xhc3M9XCJoNVwiPlxcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAoYm90Lm9uX2Nvb2xkb3duID8gJzxzcGFuIGNsYXNzPVwiYmFkZ2UgYmFkZ2UtZGFuZ2VyXCI+PGkgY2xhc3M9XCJmYXMgZmEtaG91cmdsYXNzLWhhbGZcIj48L2k+IFllczwvc3Bhbj4nIDogJzxzcGFuIGNsYXNzPVwiYmFkZ2UgYmFkZ2Utc3VjY2Vzc1wiPjxpIGNsYXNzPVwiZmFzIGZhLWNoZWNrXCI+PC9pPiBObzwvc3Bhbj4nKSArXG4gICAgICAgICAgICAgICAgICAgICcgIDwvdGQ+XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICcgIDx0ZCBjbGFzcz1cImg1XCI+PHNwYW4gY2xhc3M9XCJiYWRnZSBiYWRnZS1wcmltYXJ5XCI+Jytib3QuY29vbGRvd24rJyBzZWNvbmRzPC9zcGFuPjwvdGQ+XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICcgIDx0ZCBjbGFzcz1cImg1XCI+PHNwYW4gY2xhc3M9XCJiYWRnZSBiYWRnZS1wcmltYXJ5XCI+Jytib3QuYWN0aW9uc19jb3VudCsnPC9zcGFuPjwvdGQ+XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICcgIDx0ZD5cXG4nICtcbiAgICAgICAgICAgICAgICAgICAgJyAgPGRpdiBjbGFzcz1cImRyb3Bkb3duIGZsb2F0LXJpZ2h0XCI+XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICcgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tc20gYnRuLW91dGxpbmUtcHJpbWFyeSBkcm9wZG93bi10b2dnbGVcIiB0eXBlPVwiYnV0dG9uXCIgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiPjxpIGNsYXNzPVwiZmFzIGZhLWNvZ1wiPjwvaT48L2J1dHRvbj5cXG4nICtcbiAgICAgICAgICAgICAgICAgICAgJyAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tbWVudSBkcm9wZG93bi1tZW51LXJpZ2h0XCI+XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICcgICAgICAgPGEgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCIgb25jbGljaz1cIlRocmVhZEJvdHMudmlld0JvdChcXCcnK2JvdC5pZCsnXFwnKTsgcmV0dXJuIGZhbHNlO1wiIGhyZWY9XCIjXCIgdGl0bGU9XCJWaWV3XCI+PGkgY2xhc3M9XCJmYXMgZmEtcm9ib3RcIj48L2k+ICcrKG9wdC50aHJlYWQub3B0aW9ucy5tYW5hZ2VfYm90cyA/ICdNYW5hZ2UgQWN0aW9ucycgOiAnVmlldyBBY3Rpb25zJykrJzwvYT4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAob3B0LnRocmVhZC5vcHRpb25zLm1hbmFnZV9ib3RzID8gbWFuYWdlIDogJycpICtcbiAgICAgICAgICAgICAgICAgICAgJyA8L3NwYW4+XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICcgPC9kaXY+PC9kaXY+JyArXG4gICAgICAgICAgICAgICAgICAgICc8L3RkPlxcbicgK1xuICAgICAgICAgICAgICAgICAgICAnPC90cj4nXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYoYm90cyAmJiBib3RzLmxlbmd0aCl7XG4gICAgICAgICAgICAgICAgYm90cy5mb3JFYWNoKChib3QpID0+IHsgdGFibGVfZmlsbCArPSBib3RfZmlsbChib3QpfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0YWJsZV90b3ArdGFibGVfZmlsbCt0YWJsZV9ib3RcbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlX29yX2luc3RhbGwgOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuICc8ZGl2IGNsYXNzPVwiY2FyZCBtdC0zXCI+JyArXG4gICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJjYXJkLWJvZHkgYmctcHJpbWFyeSBzaGFkb3cgcm91bmRlZFwiPicgK1xuICAgICAgICAgICAgICAgICc8aDQ+V291bGQgeW91IGxpa2UgdG8gY3JlYXRlIHlvdXIgb3duIGJvdCBvciBpbnN0YWxsIGEgcmVhZHktbWFkZSBib3QgcGFja2FnZT88L2g0PicgK1xuICAgICAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAnPC9kaXY+PGhyPicgK1xuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiY29sLTEyIHRleHQtY2VudGVyIG10LTNcIj4nICtcbiAgICAgICAgICAgICAgICAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgb25jbGljaz1cIlRocmVhZEJvdHMuYWRkQm90KClcIiBjbGFzcz1cImJ0biBidG4tbGcgYnRuLXByaW1hcnkgbXQtMiBtci0yXCI+PGkgY2xhc3M9XCJmYXMgZmEtcm9ib3RcIj48L2k+IENyZWF0ZTwvYnV0dG9uPicgK1xuICAgICAgICAgICAgICAgICc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBvbmNsaWNrPVwiVGhyZWFkQm90cy52aWV3Qm90UGFja2FnZXMoKVwiIGNsYXNzPVwiYnRuIGJ0bi1sZyBidG4tcHJpbWFyeSBtdC0yXCI+PGkgY2xhc3M9XCJmYXMgZmEtc2VydmVyXCI+PC9pPiBJbnN0YWxsIFBhY2thZ2U8L2J1dHRvbj4nICtcbiAgICAgICAgICAgICAgICAnPC9kaXY+JztcbiAgICAgICAgfSxcbiAgICAgICAgYm90X3BhY2thZ2VzIDogZnVuY3Rpb24ocGFja2FnZXMpe1xuICAgICAgICAgICAgaWYoIXBhY2thZ2VzLmxlbmd0aCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuICc8ZGl2IGNsYXNzPVwiY2FyZCBtdC0zXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiY2FyZC1ib2R5IGJnLXdhcm5pbmcgc2hhZG93IHJvdW5kZWQgdGV4dC1jZW50ZXJcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgJzxoND5UaGVyZSBhcmUgbm8gYXZhaWxhYmxlIGJvdCBwYWNrYWdlcyB0byBpbnN0YWxsLjwvaDQ+JyArXG4gICAgICAgICAgICAgICAgICAgICc8L2Rpdj48L2Rpdj4nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGh0bWwgPSAnJztcbiAgICAgICAgICAgIGxldCBwYWNrYWdlX2ZpbGwgPSAocGFja2FnZWRfYm90KSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGluc3RhbGxfbGlzdCA9ICcnLFxuICAgICAgICAgICAgICAgICAgICBhbHJlYWR5X2luc3RhbGxlZF9saXN0ID0gJycsXG4gICAgICAgICAgICAgICAgICAgIHVzZUluc3RhbGxzID0gZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHVzZUFscmVhZHlJbnN0YWxsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZihwYWNrYWdlZF9ib3QuaW5zdGFsbHMubGVuZ3RoKXtcbiAgICAgICAgICAgICAgICAgICAgdXNlSW5zdGFsbHMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBwYWNrYWdlZF9ib3QuaW5zdGFsbHMuZm9yRWFjaCgoaW5zdGFsbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFsbF9saXN0ICs9ICc8bGk+PHU+JytpbnN0YWxsLm5hbWUrJzwvdT4gLSAnK2luc3RhbGwuZGVzY3JpcHRpb24rJzwvbGk+J1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYocGFja2FnZWRfYm90LmFscmVhZHlfaW5zdGFsbGVkLmxlbmd0aCl7XG4gICAgICAgICAgICAgICAgICAgIHVzZUFscmVhZHlJbnN0YWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBwYWNrYWdlZF9ib3QuYWxyZWFkeV9pbnN0YWxsZWQuZm9yRWFjaCgoaW5zdGFsbGVkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbHJlYWR5X2luc3RhbGxlZF9saXN0ICs9ICc8bGk+PHU+JytpbnN0YWxsZWQubmFtZSsnPC91PiAtICcraW5zdGFsbGVkLmRlc2NyaXB0aW9uKyc8L2xpPidcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiAgJzxkaXYgY2xhc3M9XCJjb2wtMTIgYmctbGlnaHQgcm91bmRlZCBweS0zIG1iLTJcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJjb2wtMTIgaDNcIj48aW1nIGhlaWdodD1cIjc1XCIgd2lkdGg9XCI3NVwiIGNsYXNzPVwibXItMyByb3VuZGVkIGF2YXRhci1pcy1vbmxpbmVcIiBzcmM9XCInK3BhY2thZ2VkX2JvdC5hdmF0YXIubWQrJ1wiICBhbHQ9XCJCb3QgUGFja2FnZVwiLz48dT4nK3BhY2thZ2VkX2JvdC5uYW1lKyc8L3U+PC9kaXY+JyArXG4gICAgICAgICAgICAgICAgICAgICc8aHI+PGg1PkRlc2NyaXB0aW9uOiAnK3BhY2thZ2VkX2JvdC5kZXNjcmlwdGlvbisnPC9oNT4nICtcbiAgICAgICAgICAgICAgICAgICAgJzxocj48aDQ+SW5zdGFsbHM6ICcrKHVzZUluc3RhbGxzID8gJycgOiAnPHNwYW4gY2xhc3M9XCJiYWRnZSBiYWRnZS13YXJuaW5nXCI+Tm90aGluZyB0byBpbnN0YWxsLjwvc3Bhbj4nKSsnPC9oND4nICtcbiAgICAgICAgICAgICAgICAgICAgKHVzZUluc3RhbGxzID8gJzx1bD4nK2luc3RhbGxfbGlzdCsnPC91bD4nIDogJycpICtcbiAgICAgICAgICAgICAgICAgICAgJzxocj4nICtcbiAgICAgICAgICAgICAgICAgICAgKHVzZUFscmVhZHlJbnN0YWxsZWQgPyAnPGg0PkFscmVhZHkgSW5zdGFsbGVkOjwvaDQ+PHVsPicrYWxyZWFkeV9pbnN0YWxsZWRfbGlzdCsnPC91bD48aHI+JyA6ICcnKSArXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiY29sLTEyIHRleHQtY2VudGVyXCI+PGJ1dHRvbiBvbmNsaWNrPVwiVGhyZWFkQm90cy5pbnN0YWxsQm90UGFja2FnZShcXCcnK3BhY2thZ2VkX2JvdC5hbGlhcysnXFwnKVwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tbWQgYnRuLXByaW1hcnlcIj48aSBjbGFzcz1cImZhcyBmYS1yb2JvdFwiPjwvaT4gSW5zdGFsbCAnK3BhY2thZ2VkX2JvdC5uYW1lKyc8L2J1dHRvbj4gPC9kaXY+ICcgK1xuICAgICAgICAgICAgICAgICAgICAnPC9kaXY+PGhyPic7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcGFja2FnZXMuZm9yRWFjaCgocGFja2FnZWRfYm90KSA9PiB7XG4gICAgICAgICAgICAgICAgaHRtbCArPSBwYWNrYWdlX2ZpbGwocGFja2FnZWRfYm90KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gaHRtbDtcbiAgICAgICAgfSxcbiAgICAgICAgYWRkX2JvdCA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gJzxmb3JtIGlkPVwibmV3X2JvdF9mb3JtXCIgYWN0aW9uPVwiXCI+XFxuJyArXG4gICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJmb3JtLXJvdyBteC1uMiByb3VuZGVkIGJnLWxpZ2h0IHRleHQtZGFyayBwdC0yIHBiLTMgcHgtMiBzaGFkb3ctc21cIj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgIDxoNT5Cb3QgTmFtZTo8L2g1PicgK1xuICAgICAgICAgICAgICAgICcgICAgPGRpdiBjbGFzcz1cImlucHV0LWdyb3VwIGlucHV0LWdyb3VwLWxnIGNvbC0xMiBtYi0wXCI+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgPGRpdiBjbGFzcz1cImlucHV0LWdyb3VwLXByZXBlbmRcIj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJpbnB1dC1ncm91cC10ZXh0XCI+PGkgY2xhc3M9XCJmYXMgZmEtcm9ib3RcIj48L2k+PC9zcGFuPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgPGlucHV0IGF1dG9jb21wbGV0ZT1cIm9mZlwiIG1pbmxlbmd0aD1cIjJcIiBjbGFzcz1cImZvcm0tY29udHJvbCBmb250LXdlaWdodC1ib2xkIHNoYWRvdy1zbVwiIGlkPVwiZ19zX2JvdF9uYW1lXCIgcGxhY2Vob2xkZXI9XCJCb3QgTmFtZVwiIG5hbWU9XCJib3QtbmFtZS0nK0RhdGUubm93KCkrJ1wiIHJlcXVpcmVkPicgK1xuICAgICAgICAgICAgICAgICcgICAgIDwvZGl2PlxcbicgK1xuICAgICAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAnPGhyPicgK1xuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiZm9ybS1yb3cgbXgtbjIgcm91bmRlZCBiZy1saWdodCB0ZXh0LWRhcmsgcHQtMiBwYi0zIHB4LTIgc2hhZG93LXNtXCI+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICA8aDU+Q29vbGRvd24gKGluIHNlY29uZHMpOjwvaDU+JyArXG4gICAgICAgICAgICAgICAgJyAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtZ3JvdXAgaW5wdXQtZ3JvdXAtbGcgY29sLTEyIG1iLTBcIj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtZ3JvdXAtcHJlcGVuZFwiPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImlucHV0LWdyb3VwLXRleHRcIj48aSBjbGFzcz1cImZhcyBmYS1jbG9ja1wiPjwvaT48L3NwYW4+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIGF1dG9jb21wbGV0ZT1cIm9mZlwiIG1pbj1cIjBcIiBtYXg9XCI5MDBcIiBjbGFzcz1cImZvcm0tY29udHJvbCBmb250LXdlaWdodC1ib2xkIHNoYWRvdy1zbVwiIGlkPVwiZ19zX2JvdF9jb29sZG93blwiIHBsYWNlaG9sZGVyPVwiQm90IENvb2xkb3duXCIgbmFtZT1cImJvdC1jb29sZG93bi0nK0RhdGUubm93KCkrJ1wiIHJlcXVpcmVkIHZhbHVlPVwiMFwiPicgK1xuICAgICAgICAgICAgICAgICcgICAgIDwvZGl2PlxcbicgK1xuICAgICAgICAgICAgICAgICc8L2Rpdj4nK1xuICAgICAgICAgICAgICAgICcgICAgPGhyPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgPGRpdiBjbGFzcz1cImZvcm0tcm93IG14LW4yIHJvdW5kZWQgYmctbGlnaHQgdGV4dC1kYXJrIHBiLTMgcHQtMiBweC0zIHNoYWRvdy1zbVwiPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgIDxsYWJlbCBjbGFzcz1cImZvbnQtd2VpZ2h0LWJvbGQgaDUgY29udHJvbC1sYWJlbFwiIGZvcj1cImdfc190YWJsZVwiPkJvdCBUb2dnbGVzOjwvbGFiZWw+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgPHRhYmxlIGlkPVwiZ19zX3RhYmxlXCIgY2xhc3M9XCJ0YWJsZSBtYi0wIHRhYmxlLXNtIHRhYmxlLWhvdmVyXCI+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgIDx0Ym9keT5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgPHRyIGNsYXNzPVwiYWxlcnQtc3VjY2Vzc1wiPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwicG9pbnRlcl9hcmVhXCIgb25jbGljaz1cIiQoXFwnI2dfc19ib3RfZW5hYmxlZFxcJykuY2xpY2soKVwiPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJoNCBtdC0xXCI+PGkgY2xhc3M9XCJmYXMgZmEtY2FyZXQtcmlnaHRcIj48L2k+IDxzcGFuIGNsYXNzPVwiaDVcIj5FbmFibGVkPC9zcGFuPjwvZGl2PlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICAgPC90ZD5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgICAgIDx0ZD5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibXQtMSBmbG9hdC1yaWdodFwiPjxzcGFuIGNsYXNzPVwic3dpdGNoIHN3aXRjaC1zbSBtdC0xXCI+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cInN3aXRjaCBzd2l0Y2hfaW5wdXQgbV9zZXR0aW5nX3RvZ2dsZVwiIGlkPVwiZ19zX2JvdF9lbmFibGVkXCIgbmFtZT1cImdfc19ib3RfZW5hYmxlZFwiIHR5cGU9XCJjaGVja2JveFwiIGNoZWNrZWQ+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJnX3NfYm90X2VuYWJsZWRcIj48L2xhYmVsPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj48L2Rpdj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgICAgIDwvdGQ+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgIDwvdHI+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgIDx0cj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInBvaW50ZXJfYXJlYVwiIG9uY2xpY2s9XCIkKFxcJyNnX3NfaGlkZV9hY3Rpb25zXFwnKS5jbGljaygpXCI+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImg0IG10LTFcIj48aSBjbGFzcz1cImZhcyBmYS1jYXJldC1yaWdodFwiPjwvaT4gPHNwYW4gY2xhc3M9XCJoNVwiPkhpZGUgQWN0aW9uczwvc3Bhbj48L2Rpdj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgICAgIDwvdGQ+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICA8dGQ+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm10LTEgZmxvYXQtcmlnaHRcIj48c3BhbiBjbGFzcz1cInN3aXRjaCBzd2l0Y2gtc20gbXQtMVwiPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJzd2l0Y2ggc3dpdGNoX2lucHV0IG1fc2V0dGluZ190b2dnbGVcIiBpZD1cImdfc19oaWRlX2FjdGlvbnNcIiBuYW1lPVwiZ19zX2hpZGVfYWN0aW9uc1wiIHR5cGU9XCJjaGVja2JveFwiPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiZ19zX2hpZGVfYWN0aW9uc1wiPjwvbGFiZWw+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICAgICAgPC9zcGFuPjwvZGl2PlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICAgPC90ZD5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgPC90cj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgPC90Ym9keT5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICA8L3RhYmxlPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgPC9kaXY+XFxuJyArXG4gICAgICAgICAgICAgICAgJzwvZm9ybT4nO1xuICAgICAgICB9LFxuICAgICAgICBlZGl0X2JvdCA6IGZ1bmN0aW9uKGJvdCl7XG4gICAgICAgICAgICByZXR1cm4gJzxmb3JtIGlkPVwiZWRpdF9ib3RfZm9ybVwiIGFjdGlvbj1cIlwiPlxcbicgK1xuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiZm9ybS1yb3cgbXgtbjIgcm91bmRlZCBiZy1saWdodCB0ZXh0LWRhcmsgcHQtMiBwYi0zIHB4LTIgc2hhZG93LXNtXCI+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICA8aDUgY2xhc3M9XCJmb250LXdlaWdodC1ib2xkXCI+Qm90IE5hbWU6PC9oNT4nICtcbiAgICAgICAgICAgICAgICAnICAgIDxkaXYgY2xhc3M9XCJpbnB1dC1ncm91cCBpbnB1dC1ncm91cC1sZyBjb2wtMTIgbWItMFwiPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgIDxkaXYgY2xhc3M9XCJpbnB1dC1ncm91cC1wcmVwZW5kXCI+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiaW5wdXQtZ3JvdXAtdGV4dFwiPjxpIGNsYXNzPVwiZmFzIGZhLXJvYm90XCI+PC9pPjwvc3Bhbj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgPC9kaXY+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgIDxpbnB1dCBhdXRvY29tcGxldGU9XCJvZmZcIiBtaW5sZW5ndGg9XCIyXCIgY2xhc3M9XCJmb3JtLWNvbnRyb2wgZm9udC13ZWlnaHQtYm9sZCBzaGFkb3ctc21cIiBpZD1cImdfc19ib3RfbmFtZVwiIHBsYWNlaG9sZGVyPVwiQm90IE5hbWVcIiBuYW1lPVwiYm90LW5hbWUtJytEYXRlLm5vdygpKydcIiByZXF1aXJlZCB2YWx1ZT1cIicrYm90Lm5hbWUrJ1wiPicgK1xuICAgICAgICAgICAgICAgICcgICAgIDwvZGl2PlxcbicgK1xuICAgICAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAnPGhyPicgK1xuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiZm9ybS1yb3cgbXgtbjIgcm91bmRlZCBiZy1saWdodCB0ZXh0LWRhcmsgcHQtMiBwYi0zIHB4LTIgc2hhZG93LXNtXCI+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICA8aDUgY2xhc3M9XCJmb250LXdlaWdodC1ib2xkXCI+Q29vbGRvd24gW2luIHNlY29uZHNdOjwvaDU+JyArXG4gICAgICAgICAgICAgICAgJyAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtZ3JvdXAgaW5wdXQtZ3JvdXAtbGcgY29sLTEyIG1iLTBcIj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtZ3JvdXAtcHJlcGVuZFwiPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImlucHV0LWdyb3VwLXRleHRcIj48aSBjbGFzcz1cImZhcyBmYS1jbG9ja1wiPjwvaT48L3NwYW4+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIGF1dG9jb21wbGV0ZT1cIm9mZlwiIG1pbj1cIjBcIiBtYXg9XCI5MDBcIiBjbGFzcz1cImZvcm0tY29udHJvbCBmb250LXdlaWdodC1ib2xkIHNoYWRvdy1zbVwiIGlkPVwiZ19zX2JvdF9jb29sZG93blwiIHBsYWNlaG9sZGVyPVwiQm90IENvb2xkb3duXCIgbmFtZT1cImJvdC1jb29sZG93bi0nK0RhdGUubm93KCkrJ1wiIHJlcXVpcmVkIHZhbHVlPVwiJytib3QuY29vbGRvd24rJ1wiPicgK1xuICAgICAgICAgICAgICAgICcgICAgIDwvZGl2PlxcbicgK1xuICAgICAgICAgICAgICAgICc8L2Rpdj4nK1xuICAgICAgICAgICAgICAgICcgICAgPGhyPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgPGRpdiBjbGFzcz1cImZvcm0tcm93IG14LW4yIHJvdW5kZWQgYmctbGlnaHQgdGV4dC1kYXJrIHBiLTMgcHQtMiBweC0zIHNoYWRvdy1zbVwiPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgIDxsYWJlbCBjbGFzcz1cImZvbnQtd2VpZ2h0LWJvbGQgaDUgY29udHJvbC1sYWJlbFwiIGZvcj1cImdfc190YWJsZVwiPkJvdCBUb2dnbGVzOjwvbGFiZWw+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgPHRhYmxlIGlkPVwiZ19zX3RhYmxlXCIgY2xhc3M9XCJ0YWJsZSBtYi0wIHRhYmxlLXNtIHRhYmxlLWhvdmVyXCI+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgIDx0Ym9keT5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgPHRyIGNsYXNzPVwiJysoYm90LmVuYWJsZWQgPyAnYWxlcnQtc3VjY2VzcycgOiAnJykrJ1wiPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwicG9pbnRlcl9hcmVhXCIgb25jbGljaz1cIiQoXFwnI2dfc19ib3RfZW5hYmxlZFxcJykuY2xpY2soKVwiPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJoNCBtdC0xXCI+PGkgY2xhc3M9XCJmYXMgZmEtY2FyZXQtcmlnaHRcIj48L2k+IDxzcGFuIGNsYXNzPVwiaDVcIj5FbmFibGVkPC9zcGFuPjwvZGl2PlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICAgPC90ZD5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgICAgIDx0ZD5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibXQtMSBmbG9hdC1yaWdodFwiPjxzcGFuIGNsYXNzPVwic3dpdGNoIHN3aXRjaC1zbSBtdC0xXCI+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cInN3aXRjaCBzd2l0Y2hfaW5wdXQgbV9zZXR0aW5nX3RvZ2dsZVwiIGlkPVwiZ19zX2JvdF9lbmFibGVkXCIgbmFtZT1cImdfc19ib3RfZW5hYmxlZFwiIHR5cGU9XCJjaGVja2JveFwiICcrKGJvdC5lbmFibGVkID8gJ2NoZWNrZWQnIDogJycpKyc+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJnX3NfYm90X2VuYWJsZWRcIj48L2xhYmVsPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj48L2Rpdj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgICAgIDwvdGQ+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgIDwvdHI+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgIDx0ciBjbGFzcz1cIicrKGJvdC5oaWRlX2FjdGlvbnMgPyAnYWxlcnQtc3VjY2VzcycgOiAnJykrJ1wiPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwicG9pbnRlcl9hcmVhXCIgb25jbGljaz1cIiQoXFwnI2dfc19oaWRlX2FjdGlvbnNcXCcpLmNsaWNrKClcIj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaDQgbXQtMVwiPjxpIGNsYXNzPVwiZmFzIGZhLWNhcmV0LXJpZ2h0XCI+PC9pPiA8c3BhbiBjbGFzcz1cImg1XCI+SGlkZSBBY3Rpb25zPC9zcGFuPjwvZGl2PlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICAgPC90ZD5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgICAgIDx0ZD5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibXQtMSBmbG9hdC1yaWdodFwiPjxzcGFuIGNsYXNzPVwic3dpdGNoIHN3aXRjaC1zbSBtdC0xXCI+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cInN3aXRjaCBzd2l0Y2hfaW5wdXQgbV9zZXR0aW5nX3RvZ2dsZVwiIGlkPVwiZ19zX2hpZGVfYWN0aW9uc1wiIG5hbWU9XCJnX3NfaGlkZV9hY3Rpb25zXCIgdHlwZT1cImNoZWNrYm94XCIgJysoYm90LmhpZGVfYWN0aW9ucyA/ICdjaGVja2VkJyA6ICcnKSsnPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiZ19zX2hpZGVfYWN0aW9uc1wiPjwvbGFiZWw+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICAgICAgPC9zcGFuPjwvZGl2PlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICAgPC90ZD5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgPC90cj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgPC90Ym9keT5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICA8L3RhYmxlPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgPC9kaXY+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICA8aHI+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCBtYi0wIHB5LTIgYWxlcnQtZGFyayBzaGFkb3cgcm91bmRlZFwiPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgPGRpdiBjbGFzcz1cImNvbC0xMlwiPicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgIDxpbWcgYWx0PVwiQXZhdGFyXCIgaGVpZ2h0PVwiNjJcIiB3aWR0aD1cIjYyXCIgY2xhc3M9XCJtci0zIHJvdW5kZWQgYXZhdGFyLWlzLW9mZmxpbmVcIiBzcmM9XCInK2JvdC5hdmF0YXIuc20rJ1wiLz4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICA8YnV0dG9uIG9uY2xpY2s9XCIkKFxcJyNib3RfYXZhdGFyX3VwbG9hZFxcJykuY2xpY2soKVwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tc20gYnRuLXN1Y2Nlc3MgbXItM1wiPjxpIGNsYXNzPVwiZmFzIGZhLWltYWdlXCI+PC9pPiBVcGxvYWQgQXZhdGFyPC9idXR0b24+JyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgPGJ1dHRvbiBvbmNsaWNrPVwiVGhyZWFkQm90cy5yZW1vdmVBdmF0YXIoKVwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tc20gYnRuLWRhbmdlclwiPjxpIGNsYXNzPVwiZmFzIGZhLXRyYXNoXCI+PC9pPiBSZW1vdmUgQXZhdGFyPC9idXR0b24+JyArXG4gICAgICAgICAgICAgICAgJyAgICA8L2Rpdj48L2Rpdj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgIDxocj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LWNlbnRlciBmb3JtLWdyb3VwIG1iLTAgcHktMiBhbGVydC1kYW5nZXIgc2hhZG93IHJvdW5kZWRcIj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICA8ZGl2IGNsYXNzPVwibWItMSBmb250LXdlaWdodC1ib2xkXCI+WW91IHdpbGwgYmUgYXNrZWQgdG8gY29uZmlybSB0aGlzIGFjdGlvbjwvZGl2PlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgIDxidXR0b24gb25jbGljaz1cIlRocmVhZEJvdHMucmVtb3ZlQm90KFxcJycrYm90LmlkKydcXCcpXCIgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1zbSBidG4tZGFuZ2VyXCI+PGkgY2xhc3M9XCJmYXMgZmEtdHJhc2hcIj48L2k+IFJlbW92ZSBCb3Q8L2J1dHRvbj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgIDwvZGl2PlxcbicgK1xuICAgICAgICAgICAgICAgICc8L2Zvcm0+JztcbiAgICAgICAgfSxcbiAgICAgICAgdmlld19ib3QgOiBmdW5jdGlvbihib3Qpe1xuICAgICAgICAgICAgbGV0IG9ubGluZSA9IGJvdC5lbmFibGVkID8gKGJvdC5vbl9jb29sZG93biA/ICdhd2F5JyA6ICdvbmxpbmUnKSA6ICdvZmZsaW5lJyxcbiAgICAgICAgICAgICAgICBhY3Rpb25zID0gJzxkaXYgY2xhc3M9XCJjb2wtMTIgbXQtNSB0ZXh0LWNlbnRlciBoMlwiPjxzcGFuIGNsYXNzPVwiYmFkZ2UgYmFkZ2UtbGlnaHRcIj48aSBjbGFzcz1cImZhcyBmYS1leWUtc2xhc2hcIj48L2k+IEFjdGlvbnMgYXJlIGhpZGRlbjwvc3Bhbj48L2Rpdj4nLFxuICAgICAgICAgICAgICAgIGVkaXRhYmxlID0gJzxociBjbGFzcz1cIm10LTJcIj48ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC0xMiB0ZXh0LWNlbnRlclwiPicgK1xuICAgICAgICAgICAgICAgICAgICAnPGJ1dHRvbiBvbmNsaWNrPVwiVGhyZWFkQm90cy5lZGl0Qm90KFxcJycrYm90LmlkKydcXCcpXCIgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1zbSBidG4tb3V0bGluZS1zdWNjZXNzIG1yLTMgbWItMlwiPkVkaXQgQm90IDxpIGNsYXNzPVwiZmFzIGZhLWVkaXRcIj48L2k+PC9idXR0b24+JyArXG4gICAgICAgICAgICAgICAgICAgICc8YnV0dG9uIG9uY2xpY2s9XCJUaHJlYWRCb3RzLnZpZXdBdmFpbGFibGVIYW5kbGVycygpXCIgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1zbSBidG4tb3V0bGluZS1zdWNjZXNzIG1yLTMgbWItMlwiPkFkZCBBY3Rpb25zIDxpIGNsYXNzPVwiZmFzIGZhLXNlcnZlclwiPjwvaT48L2J1dHRvbj4nICtcbiAgICAgICAgICAgICAgICAgICAgJzxidXR0b24gY2xhc3M9XCJidG4gYnRuLXNtIGJ0bi1vdXRsaW5lLXN1Y2Nlc3MgZHJvcGRvd24tdG9nZ2xlIG1yLTMgbWItMlwiIHR5cGU9XCJidXR0b25cIiBpZD1cImJvdEF2YXRhckRyb3Bkb3duXCIgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCIgYXJpYS1leHBhbmRlZD1cImZhbHNlXCI+XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICcgIEJvdCBBdmF0YXIgPGkgY2xhc3M9XCJmYXMgZmEtaW1hZ2VcIj48L2k+JyArXG4gICAgICAgICAgICAgICAgICAgICc8L2J1dHRvbj5cXG4nICtcbiAgICAgICAgICAgICAgICAgICAgJyAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLW1lbnVcIiBhcmlhLWxhYmVsbGVkYnk9XCJib3RBdmF0YXJEcm9wZG93blwiPlxcbicgK1xuICAgICAgICAgICAgICAgICAgICAnICAgIDxhIG9uY2xpY2s9XCIkKFxcJyNib3RfYXZhdGFyX3VwbG9hZFxcJykuY2xpY2soKTsgcmV0dXJuIGZhbHNlO1wiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiIGhyZWY9XCIjXCI+PGkgY2xhc3M9XCJmYXMgZmEtaW1hZ2VcIj48L2k+IFVwbG9hZCBBdmF0YXI8L2E+XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICcgICAgPGEgb25jbGljaz1cIlRocmVhZEJvdHMucmVtb3ZlQXZhdGFyKCk7IHJldHVybiBmYWxzZTtcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIiBocmVmPVwiI1wiPjxpIGNsYXNzPVwiZmFzIGZhLXRyYXNoXCI+PC9pPiBSZW1vdmUgQXZhdGFyPC9hPlxcbicgK1xuICAgICAgICAgICAgICAgICAgICAnICA8L2Rpdj5cXG4nICtcbiAgICAgICAgICAgICAgICAgICAgJzxidXR0b24gb25jbGljaz1cIlRocmVhZEJvdHMucmVtb3ZlQm90KFxcJycrYm90LmlkKydcXCcpXCIgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1zbSBidG4tb3V0bGluZS1kYW5nZXIgbXItMyBtYi0yXCI+RGVsZXRlIEJvdCA8aSBjbGFzcz1cImZhcyBmYS10cmFzaC1hbHRcIj48L2k+PC9idXR0b24+JyArXG4gICAgICAgICAgICAgICAgICAgICc8L2Rpdj48L2Rpdj48aHI+JztcbiAgICAgICAgICAgIGlmIChib3QuaGFzT3duUHJvcGVydHkoJ2FjdGlvbnMnKSkge1xuICAgICAgICAgICAgICAgIGFjdGlvbnMgPSB0ZW1wbGF0ZXMuYm90X2FjdGlvbnNfdGFibGUoYm90LmFjdGlvbnMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gJzxkaXYgY2xhc3M9XCJyb3dcIj4nICtcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImNvbC0xMiBjb2wtbWQtNiBtYi0zXCI+JyArXG4gICAgICAgICAgICAgICAgJzxpbWcgYWx0PVwiQXZhdGFyXCIgaGVpZ2h0PVwiNzVcIiB3aWR0aD1cIjc1XCIgY2xhc3M9XCJmbG9hdC1sZWZ0IG1yLTMgcm91bmRlZCBhdmF0YXItaXMtJytvbmxpbmUrJ1wiIHNyYz1cIicrYm90LmF2YXRhci5tZCsnXCIvPicgK1xuICAgICAgICAgICAgICAgICc8aDMgY2xhc3M9XCJmb250LXdlaWdodC1ib2xkXCI+Jytib3QubmFtZSsnPC9oMz4nICtcbiAgICAgICAgICAgICAgICAnPGg1PkNyZWF0b3I6ICcrYm90Lm93bmVyLm5hbWUrJzwvaDQ+JyArXG4gICAgICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiY29sLTEyIGNvbC1tZC02IGg1XCI+JyArXG4gICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJmbG9hdC1yaWdodFwiPicgK1xuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiY29sLTEyIG1iLTJcIj5FbmFibGVkIDogJyArIChib3QuZW5hYmxlZCA/ICc8c3BhbiBjbGFzcz1cImJhZGdlIGJhZGdlLXN1Y2Nlc3NcIj48aSBjbGFzcz1cImZhcyBmYS1jaGVja1wiPjwvaT48L3NwYW4+JyA6ICc8c3BhbiBjbGFzcz1cImJhZGdlIGJhZGdlLWRhbmdlclwiPjxpIGNsYXNzPVwiZmFzIGZhLXRpbWVzXCI+PC9pPjwvc3Bhbj4nKSArICc8L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImNvbC0xMiBtYi0yXCI+Q29vbGRvd24gOiA8c3BhbiBjbGFzcz1cImJhZGdlIGJhZGdlLXByaW1hcnkgbXItM1wiPicrYm90LmNvb2xkb3duKycgc2Vjb25kczwvc3Bhbj48L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImNvbC0xMlwiPk9uIGNvb2xkb3duPyAnICsgKGJvdC5vbl9jb29sZG93biA/ICc8c3BhbiBjbGFzcz1cImJhZGdlIGJhZGdlLWRhbmdlclwiPjxpIGNsYXNzPVwiZmFzIGZhLWhvdXJnbGFzcy1oYWxmXCI+PC9pPiBZZXM8L3NwYW4+JyA6ICc8c3BhbiBjbGFzcz1cImJhZGdlIGJhZGdlLXN1Y2Nlc3NcIj48aSBjbGFzcz1cImZhcyBmYS1jaGVja1wiPjwvaT4gTm88L3NwYW4+JykgKyAnPC9kaXY+JyArXG4gICAgICAgICAgICAgICAgJzwvZGl2PjwvZGl2PjwvZGl2PicgK1xuICAgICAgICAgICAgICAgIChvcHQudGhyZWFkLm9wdGlvbnMubWFuYWdlX2JvdHMgPyBlZGl0YWJsZSA6ICcnKSArXG4gICAgICAgICAgICAgICAgJzxkaXYgaWQ9XCJib3RfYWN0aW9uc19jb250YWluZXJcIj4nICsgYWN0aW9ucyArICc8L2Rpdj4nO1xuICAgICAgICB9LFxuICAgICAgICBib3RfYWN0aW9uc190YWJsZSA6IGZ1bmN0aW9uKGFjdGlvbnMpe1xuICAgICAgICAgICAgbGV0IHRhYmxlX3RvcCA9ICc8ZGl2IGNsYXNzPVwicm93XCI+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICA8ZGl2IGNsYXNzPVwiY29sLTEyXCI+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgPGRpdiBjbGFzcz1cInRhYmxlLXJlc3BvbnNpdmUteGxcIj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgPHRhYmxlIGlkPVwidmlld19ib3RzX2FjdGlvbnNfdGFibGVcIiBjbGFzcz1cInRhYmxlIHRhYmxlLXNtIHRhYmxlLWhvdmVyXCI+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICA8dGhlYWQ+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICA8dHI+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICAgICAgPHRoPk5hbWU8L3RoPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICAgICAgIDx0aD5FbmFibGVkPC90aD5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgICAgICAgICA8dGg+RGVzY3JpcHRpb248L3RoPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICAgICAgIDx0aD5UcmlnZ2VyczwvdGg+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICAgICAgPHRoPk1hdGNoPC90aD5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgICAgICAgICA8dGg+UGF5bG9hZDwvdGg+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICAgICAgPHRoPk9uIENvb2xkb3duPC90aD5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgICAgICAgICA8dGg+Q29vbGRvd248L3RoPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICAgICAgIDx0aD5BZG1pbiBPbmx5PC90aD5cXG4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChvcHQudGhyZWFkLm9wdGlvbnMubWFuYWdlX2JvdHMgPyAnIDx0aD5PcHRpb25zPC90aD4nIDogJycpICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgICAgIDwvdHI+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICA8L3RoZWFkPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICAgPHRib2R5PicsXG4gICAgICAgICAgICAgICAgdGFibGVfYm90ID0gJzwvdGJvZHk+PC90YWJsZT48L2Rpdj48L2Rpdj48L2Rpdj4nLFxuICAgICAgICAgICAgICAgIHRhYmxlX2ZpbGwgPSAnJztcbiAgICAgICAgICAgIGxldCBhY3Rpb25fZmlsbCA9IChhY3Rpb24pID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgdHJpZ2dlcnMgPSAnPHNwYW4gY2xhc3M9XCJiYWRnZSBiYWRnZS1zZWNvbmRhcnkgZm9udC1pdGFsaWNcIj5OL0E8L3NwYW4+JyxcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9ICc8dGQ+PGRpdiBjbGFzcz1cImRyb3Bkb3duIGZsb2F0LXJpZ2h0XCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tc20gYnRuLW91dGxpbmUtcHJpbWFyeSBkcm9wZG93bi10b2dnbGVcIiB0eXBlPVwiYnV0dG9uXCIgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiPjxpIGNsYXNzPVwiZmFzIGZhLWNvZ1wiPjwvaT48L2J1dHRvbj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICcgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLW1lbnUgZHJvcGRvd24tbWVudS1yaWdodFwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgICA8YSBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIiBvbmNsaWNrPVwiVGhyZWFkQm90cy5lZGl0QWN0aW9uKFxcJycrYWN0aW9uLmlkKydcXCcpOyByZXR1cm4gZmFsc2U7XCIgaHJlZj1cIiNcIiB0aXRsZT1cIkVkaXRcIj48aSBjbGFzcz1cImZhcyBmYS1lZGl0XCI+PC9pPiBFZGl0PC9hPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJyAgICAgICA8YSBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIiBvbmNsaWNrPVwiVGhyZWFkQm90cy5yZW1vdmVBY3Rpb24oXFwnJythY3Rpb24uaWQrJ1xcJyk7IHJldHVybiBmYWxzZTtcIiBocmVmPVwiI1wiIHRpdGxlPVwiRGVsZXRlXCI+PGkgY2xhc3M9XCJmYXMgZmEtdHJhc2gtYWx0XCI+PC9pPiBEZWxldGU8L2E+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnPC9zcGFuPjwvZGl2PjwvZGl2PjwvdGQ+JztcbiAgICAgICAgICAgICAgICBpZihhY3Rpb24udHJpZ2dlcnMgJiYgYWN0aW9uLnRyaWdnZXJzLmxlbmd0aCl7XG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXJzID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbi50cmlnZ2Vycy5mb3JFYWNoKCh0cmlnZ2VyKSA9PiB0cmlnZ2VycyArPSAnPHNwYW4gY2xhc3M9XCJiYWRnZSBiYWRnZS1saWdodCBtci0xXCI+Jyt0cmlnZ2VyKyc8L3NwYW4+Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiAnPHRyIGlkPVwicm93XycrYWN0aW9uLmlkKydcIj5cXG4nICtcbiAgICAgICAgICAgICAgICAgICAgJyAgPHRkIGNsYXNzPVwiaDUgbm93cmFwXCI+JythY3Rpb24uaGFuZGxlci5uYW1lKyc8L3RkPicrXG4gICAgICAgICAgICAgICAgICAgICcgIDx0ZCBjbGFzcz1cImg1XCI+XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgIChhY3Rpb24uZW5hYmxlZCA/ICc8c3BhbiBjbGFzcz1cImJhZGdlIGJhZGdlLXN1Y2Nlc3NcIj48aSBjbGFzcz1cImZhcyBmYS1jaGVja1wiPjwvaT48L3NwYW4+JyA6ICc8c3BhbiBjbGFzcz1cImJhZGdlIGJhZGdlLWRhbmdlclwiPjxpIGNsYXNzPVwiZmFzIGZhLXRpbWVzXCI+PC9pPjwvc3Bhbj4nKSArXG4gICAgICAgICAgICAgICAgICAgICcgIDwvdGQ+XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICcgIDx0ZCBjbGFzcz1cImg2XCI+JythY3Rpb24uaGFuZGxlci5kZXNjcmlwdGlvbisnPC90ZD4nK1xuICAgICAgICAgICAgICAgICAgICAnICA8dGQgY2xhc3M9XCJoNVwiPicrdHJpZ2dlcnMrJzwvdGQ+JytcbiAgICAgICAgICAgICAgICAgICAgJyAgPHRkIGNsYXNzPVwiaDVcIj48c3BhbiBjbGFzcz1cImJhZGdlIGJhZGdlLXByaW1hcnlcIj4nK2FjdGlvbi5tYXRjaCsnPC9zcGFuPjwvdGQ+JytcbiAgICAgICAgICAgICAgICAgICAgJyAgPHRkIGNsYXNzPVwiaDUgbm93cmFwIGFjdGlvbi1wYXlsb2FkXCI+Jyt0ZW1wbGF0ZXMuaGFuZGxlcl9wYXlsb2FkKGFjdGlvbikrJzwvdGQ+JytcbiAgICAgICAgICAgICAgICAgICAgJyAgPHRkIGNsYXNzPVwiaDVcIj5cXG4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIChhY3Rpb24ub25fY29vbGRvd24gPyAnPHNwYW4gY2xhc3M9XCJiYWRnZSBiYWRnZS1kYW5nZXJcIj48aSBjbGFzcz1cImZhcyBmYS1ob3VyZ2xhc3MtaGFsZlwiPjwvaT4gWWVzPC9zcGFuPicgOiAnPHNwYW4gY2xhc3M9XCJiYWRnZSBiYWRnZS1zdWNjZXNzXCI+PGkgY2xhc3M9XCJmYXMgZmEtY2hlY2tcIj48L2k+IE5vPC9zcGFuPicpICtcbiAgICAgICAgICAgICAgICAgICAgJyAgPC90ZD5cXG4nICtcbiAgICAgICAgICAgICAgICAgICAgJyAgPHRkIGNsYXNzPVwiaDVcIj48c3BhbiBjbGFzcz1cImJhZGdlIGJhZGdlLXByaW1hcnlcIj4nK2FjdGlvbi5jb29sZG93bisnIHNlY29uZHM8L3NwYW4+PC90ZD5cXG4nICtcbiAgICAgICAgICAgICAgICAgICAgJyAgPHRkIGNsYXNzPVwiaDVcIj5cXG4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIChhY3Rpb24uYWRtaW5fb25seSA/ICc8c3BhbiBjbGFzcz1cImJhZGdlIGJhZGdlLXN1Y2Nlc3NcIj48aSBjbGFzcz1cImZhcyBmYS1jaGVja1wiPjwvaT48L3NwYW4+JyA6ICc8c3BhbiBjbGFzcz1cImJhZGdlIGJhZGdlLWRhbmdlclwiPjxpIGNsYXNzPVwiZmFzIGZhLXRpbWVzXCI+PC9pPjwvc3Bhbj4nKSArXG4gICAgICAgICAgICAgICAgICAgICcgIDwvdGQ+XFxuJyArXG4gICAgICAgICAgICAgICAgICAgIChvcHQudGhyZWFkLm9wdGlvbnMubWFuYWdlX2JvdHMgPyBvcHRpb25zIDogJycpICtcbiAgICAgICAgICAgICAgICAgICAgJzwvdHI+J1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmKGFjdGlvbnMgJiYgYWN0aW9ucy5sZW5ndGgpe1xuICAgICAgICAgICAgICAgIGFjdGlvbnMuZm9yRWFjaCgoYWN0aW9uKSA9PiB7IHRhYmxlX2ZpbGwgKz0gYWN0aW9uX2ZpbGwoYWN0aW9uKX0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGFibGVfdG9wK3RhYmxlX2ZpbGwrdGFibGVfYm90XG4gICAgICAgIH0sXG4gICAgICAgIGhhbmRsZXJfcGF5bG9hZCA6IGZ1bmN0aW9uKGFjdGlvbil7XG4gICAgICAgICAgICBzd2l0Y2goYWN0aW9uLmhhbmRsZXIuYWxpYXMpe1xuICAgICAgICAgICAgICAgIGNhc2UgJ3JlYWN0JzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1lc3Nlbmdlci5mb3JtYXQoKS5zaG9ydGNvZGVUb0ltYWdlKGFjdGlvbi5wYXlsb2FkLnJlYWN0aW9uKTtcbiAgICAgICAgICAgICAgICBjYXNlICdyZWFjdF9ib21iJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1lc3Nlbmdlci5mb3JtYXQoKS5zaG9ydGNvZGVUb0ltYWdlKGFjdGlvbi5wYXlsb2FkLnJlYWN0aW9ucy5qb2luKCc8c3BhbiBjbGFzcz1cIm1yLTFcIj48L3NwYW4+JykpO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3JlcGx5JzpcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlcGxpZXMgPSAnPHVsIGNsYXNzPVwicC0wIG15LTAgbXItMCBtbC0xXCI+JztcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uLnBheWxvYWQucmVwbGllcy5mb3JFYWNoKChyZXBseSkgPT4gcmVwbGllcyArPSAnPGxpPicrTWVzc2VuZ2VyLmZvcm1hdCgpLnNob3J0Y29kZVRvSW1hZ2UocmVwbHkpKyc8L2xpPicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVwbGllcyArICc8L3VsPic7XG4gICAgICAgICAgICAgICAgY2FzZSAnaW52aXRhdGlvbnMnOlxuICAgICAgICAgICAgICAgICAgICBpZihhY3Rpb24ucGF5bG9hZCl7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ0xpZmV0aW1lIG9mICcrYWN0aW9uLnBheWxvYWQubGlmZXRpbWVfbWludXRlcysnIG1pbnV0ZXMnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZG9jdW1lbnRfZmluZGVyJzpcbiAgICAgICAgICAgICAgICBjYXNlICd5b3V0dWJlJzpcbiAgICAgICAgICAgICAgICBjYXNlICd3aWtpJzpcbiAgICAgICAgICAgICAgICAgICAgaWYoYWN0aW9uLnBheWxvYWQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdNYXggb2YgJythY3Rpb24ucGF5bG9hZC5saW1pdCsnIHJlc3VsdHMnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwiYmFkZ2UgYmFkZ2Utc2Vjb25kYXJ5IGZvbnQtaXRhbGljXCI+Ti9BPC9zcGFuPic7XG4gICAgICAgIH0sXG4gICAgICAgIHZpZXdfaGFuZGxlcnMgOiBmdW5jdGlvbihoYW5kbGVycyl7XG4gICAgICAgICAgICBsZXQgdGFibGVfdG9wID0gJzxkaXYgY2xhc3M9XCJjb2wtMTIgbXktMyB0ZXh0LWNlbnRlciBoMlwiPjxzcGFuIGNsYXNzPVwiYmFkZ2UgYmFkZ2UtbGlnaHRcIj48aSBjbGFzcz1cImZhcyBmYS1saXN0XCI+PC9pPiBTZWxlY3QgYW4gYWN0aW9uOjwvc3Bhbj48L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInJvd1wiPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgPGRpdiBjbGFzcz1cImNvbC0xMlwiPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgIDxkaXYgY2xhc3M9XCJ0YWJsZS1yZXNwb25zaXZlLXhsXCI+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgIDx0YWJsZSBpZD1cInZpZXdfaGFuZGxlcnNfdGFibGVcIiBjbGFzcz1cInRhYmxlIHRhYmxlLXNtIHRhYmxlLWhvdmVyXCI+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICA8dGhlYWQ+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICA8dHI+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICAgICAgPHRoPk5hbWU8L3RoPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICAgICAgIDx0aD5EZXNjcmlwdGlvbjwvdGg+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICAgICAgPHRoPlVuaXF1ZTwvdGg+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICAgICAgPHRoPlByZXNldCBUcmlnZ2VyczwvdGg+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICAgICAgPHRoPlByZXNldCBNYXRjaDwvdGg+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICAgICAgPHRoPk9wdGlvbnM8L3RoPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICAgPC90cj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgICAgIDwvdGhlYWQ+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICA8dGJvZHk+JyxcbiAgICAgICAgICAgICAgICB0YWJsZV9maWxsID0gJycsXG4gICAgICAgICAgICAgICAgdGFibGVfYm90ID0gJzwvdGJvZHk+PC90YWJsZT48L2Rpdj48L2Rpdj48L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAgICAgJzxocj48ZGl2IGNsYXNzPVwiY29sLTEyIHRleHQtY2VudGVyXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICc8YnV0dG9uIG9uY2xpY2s9XCJUaHJlYWRCb3RzLnJlbG9hZEJvdEFjdGlvbnMoKVwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4taW5mb1wiPkNhbmNlbCA8aSBjbGFzcz1cImZhcyBmYS11bmRvXCI+PC9pPjwvYnV0dG9uPicgK1xuICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JztcbiAgICAgICAgICAgIGxldCBoYW5kbGVyX2ZpbGwgPSAoaGFuZGxlcikgPT4ge1xuICAgICAgICAgICAgICAgIGxldCB0cmlnZ2VycyA9ICc8c3BhbiBjbGFzcz1cImJhZGdlIGJhZGdlLXNlY29uZGFyeSBmb250LWl0YWxpY1wiPk4vQTwvc3Bhbj4nO1xuICAgICAgICAgICAgICAgIGlmKGhhbmRsZXIudHJpZ2dlcnMgJiYgaGFuZGxlci50cmlnZ2Vycy5sZW5ndGgpe1xuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VycyA9ICcnO1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyLnRyaWdnZXJzLmZvckVhY2goKHRyaWdnZXIpID0+IHRyaWdnZXJzICs9ICc8c3BhbiBjbGFzcz1cImJhZGdlIGJhZGdlLWxpZ2h0IG1yLTFcIj4nK3RyaWdnZXIrJzwvc3Bhbj4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuICc8dHIgY2xhc3M9XCJwb2ludGVyX2FyZWFcIiBvbmNsaWNrPVwiVGhyZWFkQm90cy5jcmVhdGVBY3Rpb24oXFwnJytoYW5kbGVyLmFsaWFzKydcXCcpXCI+XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICcgIDx0ZCBjbGFzcz1cImg1IG5vd3JhcFwiPicraGFuZGxlci5uYW1lKyc8L3RkPicrXG4gICAgICAgICAgICAgICAgICAgICcgIDx0ZCBjbGFzcz1cImg2XCI+JytoYW5kbGVyLmRlc2NyaXB0aW9uKyc8L3RkPicrXG4gICAgICAgICAgICAgICAgICAgICcgIDx0ZCBjbGFzcz1cImg1XCI+XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgIChoYW5kbGVyLnVuaXF1ZSA/ICc8c3BhbiBjbGFzcz1cImJhZGdlIGJhZGdlLXN1Y2Nlc3NcIj48aSBjbGFzcz1cImZhcyBmYS1jaGVja1wiPjwvaT48L3NwYW4+JyA6ICc8c3BhbiBjbGFzcz1cImJhZGdlIGJhZGdlLWRhbmdlclwiPjxpIGNsYXNzPVwiZmFzIGZhLXRpbWVzXCI+PC9pPjwvc3Bhbj4nKSArXG4gICAgICAgICAgICAgICAgICAgICcgIDwvdGQ+XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICcgIDx0ZCBjbGFzcz1cImg1IG5vd3JhcFwiPicrdHJpZ2dlcnMrJzwvdGQ+JytcbiAgICAgICAgICAgICAgICAgICAgJyAgPHRkIGNsYXNzPVwiaDVcIj4nKyhoYW5kbGVyLm1hdGNoID8/ICc8c3BhbiBjbGFzcz1cImJhZGdlIGJhZGdlLXNlY29uZGFyeSBmb250LWl0YWxpY1wiPk4vQTwvc3Bhbj4nKSsnPC90ZD4nK1xuICAgICAgICAgICAgICAgICAgICAnICA8dGQgY2xhc3M9XCJoNVwiPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1zbSBidG4tcHJpbWFyeVwiPlNlbGVjdCA8aSBjbGFzcz1cImZhcyBmYS1zZXJ2ZXJcIj48L2k+PC9idXR0b24+PC90ZD4nK1xuICAgICAgICAgICAgICAgICAgICAnPC90cj4nXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYoaGFuZGxlcnMgJiYgaGFuZGxlcnMubGVuZ3RoKXtcbiAgICAgICAgICAgICAgICBoYW5kbGVycy5mb3JFYWNoKChoYW5kbGVyKSA9PiB7IHRhYmxlX2ZpbGwgKz0gaGFuZGxlcl9maWxsKGhhbmRsZXIpfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0YWJsZV90b3ArdGFibGVfZmlsbCt0YWJsZV9ib3RcbiAgICAgICAgfSxcbiAgICAgICAgd2Fybl9kZWxldGUgOiBmdW5jdGlvbigpe1xuICAgICAgICAgIHJldHVybiAnUmVhbGx5IERlbGV0ZSA8c3Ryb25nPicrb3B0LmN1cnJlbnRfYm90Lm5hbWUrJzwvc3Ryb25nPj8nK1xuICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImNhcmQgbXQtM1wiPjxkaXYgY2xhc3M9XCJjYXJkLWJvZHkgYmctd2FybmluZyBzaGFkb3cgcm91bmRlZFwiPjxoNT5UaGlzIGNhbm5vdCBiZSB1bmRvbmUuIEFsbCBhY3Rpb25zIHdpbGwgYmUgcmVtb3ZlZCBmcm9tICcrb3B0LmN1cnJlbnRfYm90Lm5hbWUrJyBhcyB3ZWxsLiAnICtcbiAgICAgICAgICAgICAgJ0FueSBwcmV2aW91cyBpbnRlcmFjdGlvbnMgc2VudCBieSAnK29wdC5jdXJyZW50X2JvdC5uYW1lKycgd2lsbCBiZSBwcmVzZXJ2ZWQuPC9oNT48L2Rpdj48L2Rpdj4nO1xuICAgICAgICB9LFxuICAgICAgICBhdmF0YXJfaW5wdXQgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gJzxpbnB1dCBzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCIgY2xhc3M9XCJOU1wiIGlkPVwiYm90X2F2YXRhcl91cGxvYWRcIiB0eXBlPVwiZmlsZVwiIG5hbWU9XCJwcm9maWxlX2F2YXRhcl91cGxvYWRcIiBhY2NlcHQ9XCJpbWFnZS8qXCI+JztcbiAgICAgICAgfVxuICAgIH0sXG4gICAgaGFuZGxlcnMgPSB7XG4gICAgICAgIHN0YXJ0IDogZnVuY3Rpb24oaGFuZGxlciwgZWRpdCl7XG4gICAgICAgICAgICByZXR1cm4gJzxkaXYgY2xhc3M9XCJjb2wtMTIgbXktMyB0ZXh0LWNlbnRlciBoMlwiPjxzcGFuIGNsYXNzPVwiYmFkZ2UgYmFkZ2UtbGlnaHRcIj48aSBjbGFzcz1cImZhcyBmYS1lZGl0XCI+PC9pPiAnKyhlZGl0ID8gJ0VkaXRpbmcnIDogJ0NyZWF0aW5nJykrJyAnK2hhbmRsZXIubmFtZSsnOjwvc3Bhbj48L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImNvbC0xMiBjb2wtbWQtNiBvZmZzZXQtbWQtMyB0ZXh0LWNlbnRlciBoMyBtYi00XCI+PGkgY2xhc3M9XCJmYXMgZmEtaW5mby1jaXJjbGVcIj48L2k+ICcraGFuZGxlci5kZXNjcmlwdGlvbisnPC9kaXY+ICcgK1xuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiY29sLTEyIGNvbC1tZC02IG9mZnNldC1tZC0zXCI+JyArXG4gICAgICAgICAgICAgICAgJzxmb3JtIGlkPVwiYm90X2FjdGlvbl9mb3JtXCIgYWN0aW9uPVwiXCI+JztcbiAgICAgICAgfSxcbiAgICAgICAgZW5kIDogZnVuY3Rpb24oZWRpdCl7XG4gICAgICAgICAgICBsZXQgZGVsZXRlX2J0biA9ICcnO1xuICAgICAgICAgICAgaWYoZWRpdCl7XG4gICAgICAgICAgICAgICAgZGVsZXRlX2J0biA9ICc8YnV0dG9uIG9uY2xpY2s9XCJUaHJlYWRCb3RzLnJlbW92ZUFjdGlvbihcXCcnK29wdC5jdXJyZW50X2FjdGlvbi5pZCsnXFwnKVwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tbGcgYnRuLWRhbmdlciBtci0zXCI+RGVsZXRlIDxpIGNsYXNzPVwiZmFzIGZhLXRyYXNoLWFsdFwiPjwvaT48L2J1dHRvbj4nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICc8L2Zvcm0+PC9kaXY+JyArXG4gICAgICAgICAgICAgICAgJzxocj48ZGl2IGNsYXNzPVwiY29sLTEyIHRleHQtY2VudGVyXCI+JyArXG4gICAgICAgICAgICAgICAgJzxidXR0b24gb25jbGljaz1cIlRocmVhZEJvdHMucmVsb2FkQm90QWN0aW9ucygpXCIgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1sZyBidG4taW5mbyBtci0zXCI+Q2FuY2VsIDxpIGNsYXNzPVwiZmFzIGZhLXVuZG9cIj48L2k+PC9idXR0b24+JyArXG4gICAgICAgICAgICAgICAgZGVsZXRlX2J0biArXG4gICAgICAgICAgICAgICAgJzxidXR0b24gaWQ9XCJzYXZlX2JvdF9hY3Rpb25fYnRuXCIgb25jbGljaz1cIicrKGVkaXQgPyAnVGhyZWFkQm90cy51cGRhdGVBY3Rpb24oKScgOiAnVGhyZWFkQm90cy5zdG9yZUFjdGlvbigpJykrJ1wiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tbGcgYnRuLXN1Y2Nlc3NcIj4nKyhlZGl0ID8gJ1VwZGF0ZScgOiAnU2F2ZScpKycgPGkgY2xhc3M9XCJmYXMgZmEtc2F2ZVwiPjwvaT48L2J1dHRvbj4nICtcbiAgICAgICAgICAgICAgICAnPC9kaXY+JztcbiAgICAgICAgfSxcbiAgICAgICAgYmFzZSA6IGZ1bmN0aW9uKHZhbHVlcyl7XG4gICAgICAgICAgICBsZXQgY29vbGRvd24gPSAxNSwgZW5hYmxlZCA9IHRydWUsIGFkbWluX29ubHkgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmKHZhbHVlcyl7XG4gICAgICAgICAgICAgICAgY29vbGRvd24gPSB2YWx1ZXMuY29vbGRvd247XG4gICAgICAgICAgICAgICAgZW5hYmxlZCA9IHZhbHVlcy5lbmFibGVkO1xuICAgICAgICAgICAgICAgIGFkbWluX29ubHkgPSB2YWx1ZXMuYWRtaW5fb25seTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAnPGRpdiBjbGFzcz1cImZvcm0tcm93IG14LW4yIHJvdW5kZWQgYmctbGlnaHQgdGV4dC1kYXJrIHB0LTIgcGItMyBweC0yIHNoYWRvdy1zbVwiPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgPGRpdiBjbGFzcz1cImNvbC0xMlwiPjxoNSBjbGFzcz1cImZvbnQtd2VpZ2h0LWJvbGRcIj5Db29sZG93biBbIGluIHNlY29uZHMgXTo8L2g1PjwvZGl2PicgK1xuICAgICAgICAgICAgICAgICcgICAgPGRpdiBjbGFzcz1cImlucHV0LWdyb3VwIGlucHV0LWdyb3VwLWxnIGNvbC0xMiBtYi0wXCI+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgPGRpdiBjbGFzcz1cImlucHV0LWdyb3VwLXByZXBlbmRcIj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJpbnB1dC1ncm91cC10ZXh0XCI+PGkgY2xhc3M9XCJmYXMgZmEtY2xvY2tcIj48L2k+PC9zcGFuPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBhdXRvY29tcGxldGU9XCJvZmZcIiBtaW49XCIwXCIgbWF4PVwiOTAwXCIgY2xhc3M9XCJmb3JtLWNvbnRyb2wgZm9udC13ZWlnaHQtYm9sZCBzaGFkb3ctc21cIiBpZD1cImdfc19ib3RfY29vbGRvd25cIiBwbGFjZWhvbGRlcj1cIkJvdCBDb29sZG93blwiIG5hbWU9XCJib3QtY29vbGRvd24tJytEYXRlLm5vdygpKydcIiByZXF1aXJlZCB2YWx1ZT1cIicrY29vbGRvd24rJ1wiPicgK1xuICAgICAgICAgICAgICAgICcgICAgIDwvZGl2PlxcbicgK1xuICAgICAgICAgICAgICAgICc8L2Rpdj4nK1xuICAgICAgICAgICAgICAgICcgICAgPGhyPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgPGRpdiBjbGFzcz1cImZvcm0tcm93IG14LW4yIHJvdW5kZWQgYmctbGlnaHQgdGV4dC1kYXJrIHBiLTMgcHQtMiBweC0zIHNoYWRvdy1zbVwiPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgIDxsYWJlbCBjbGFzcz1cImZvbnQtd2VpZ2h0LWJvbGQgaDUgY29udHJvbC1sYWJlbFwiIGZvcj1cImdfc190YWJsZVwiPkFjdGlvbiBUb2dnbGVzOjwvbGFiZWw+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgPHRhYmxlIGlkPVwiZ19zX3RhYmxlXCIgY2xhc3M9XCJ0YWJsZSBtYi0wIHRhYmxlLXNtIHRhYmxlLWhvdmVyXCI+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgIDx0Ym9keT5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgPHRyIGNsYXNzPVwiJysoZW5hYmxlZCA/ICdhbGVydC1zdWNjZXNzJyA6ICcnKSsnXCI+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJwb2ludGVyX2FyZWFcIiBvbmNsaWNrPVwiJChcXCcjZ19zX2FjdGlvbl9lbmFibGVkXFwnKS5jbGljaygpXCI+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImg0IG10LTFcIj48aSBjbGFzcz1cImZhcyBmYS1jYXJldC1yaWdodFwiPjwvaT4gPHNwYW4gY2xhc3M9XCJoNVwiPkVuYWJsZWQ8L3NwYW4+PC9kaXY+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICA8L3RkPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICAgPHRkPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtdC0xIGZsb2F0LXJpZ2h0XCI+PHNwYW4gY2xhc3M9XCJzd2l0Y2ggc3dpdGNoLXNtIG10LTFcIj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwic3dpdGNoIHN3aXRjaF9pbnB1dCBtX3NldHRpbmdfdG9nZ2xlXCIgaWQ9XCJnX3NfYWN0aW9uX2VuYWJsZWRcIiBuYW1lPVwiZ19zX2FjdGlvbl9lbmFibGVkXCIgdHlwZT1cImNoZWNrYm94XCIgJysoZW5hYmxlZCA/ICdjaGVja2VkJyA6ICcnKSsnPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiZ19zX2FjdGlvbl9lbmFibGVkXCI+PC9sYWJlbD5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgICAgICAgICA8L3NwYW4+PC9kaXY+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICA8L3RkPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICA8L3RyPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICA8dHIgY2xhc3M9XCInKyhhZG1pbl9vbmx5ID8gJ2FsZXJ0LXN1Y2Nlc3MnIDogJycpKydcIj4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInBvaW50ZXJfYXJlYVwiIG9uY2xpY2s9XCIkKFxcJyNnX3NfYWRtaW5fb25seV9hY3Rpb25cXCcpLmNsaWNrKClcIj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaDQgbXQtMVwiPjxpIGNsYXNzPVwiZmFzIGZhLWNhcmV0LXJpZ2h0XCI+PC9pPiA8c3BhbiBjbGFzcz1cImg1XCI+QWRtaW4gT25seTwvc3Bhbj48L2Rpdj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgICAgIDwvdGQ+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICA8dGQ+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm10LTEgZmxvYXQtcmlnaHRcIj48c3BhbiBjbGFzcz1cInN3aXRjaCBzd2l0Y2gtc20gbXQtMVwiPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJzd2l0Y2ggc3dpdGNoX2lucHV0IG1fc2V0dGluZ190b2dnbGVcIiBpZD1cImdfc19hZG1pbl9vbmx5X2FjdGlvblwiIG5hbWU9XCJnX3NfYWRtaW5fb25seV9hY3Rpb25cIiB0eXBlPVwiY2hlY2tib3hcIiAnKyhhZG1pbl9vbmx5ID8gJ2NoZWNrZWQnIDogJycpKyc+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJnX3NfYWRtaW5fb25seV9hY3Rpb25cIj48L2xhYmVsPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj48L2Rpdj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgICAgIDwvdGQ+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgIDwvdHI+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgIDwvdGJvZHk+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgPC90YWJsZT5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgIDwvZGl2Pic7XG4gICAgICAgIH0sXG4gICAgICAgIHRyaWdnZXJzIDogZnVuY3Rpb24odmFsdWVzLCBvdmVycmlkZXMsIG1hdGNoKXtcbiAgICAgICAgICAgIGxldCB0cmlnZ2VycyA9ICcnLFxuICAgICAgICAgICAgICAgIHJlYWRvbmx5ID0gZmFsc2UsXG4gICAgICAgICAgICAgICAgaGlkZGVuID0gZmFsc2UsXG4gICAgICAgICAgICAgICAgdGV4dCA9ICdbIFNlcGFyYXRlIG11bHRpcGxlIHRyaWdnZXJzIHVzaW5nIGNvbW1hcyAoICwgKSBvciB0aGUgcGlwZSAoIHwgKSBdJztcbiAgICAgICAgICAgIGlmKG92ZXJyaWRlcyAmJiBvdmVycmlkZXMubGVuZ3RoKXtcbiAgICAgICAgICAgICAgICB0cmlnZ2VycyA9IG92ZXJyaWRlcy5qb2luKCd8Jyk7XG4gICAgICAgICAgICAgICAgcmVhZG9ubHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRleHQgPSAnPHNwYW4gY2xhc3M9XCJiYWRnZSBiYWRnZS13YXJuaW5nXCI+Q2Fubm90IGNoYW5nZTwvc3Bhbj4nO1xuICAgICAgICAgICAgfSBlbHNlIGlmKHZhbHVlcyAmJiB2YWx1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdHJpZ2dlcnMgPSB2YWx1ZXMuam9pbignfCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYobWF0Y2ggPT09ICdhbnknKXtcbiAgICAgICAgICAgICAgICBoaWRkZW4gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICc8ZGl2IGlkPVwiYm90X2FjdGlvbl90cmlnZ2Vyc19mb3JtXCIgY2xhc3M9XCInKyhoaWRkZW4gPyAnTlMnIDogJycpKydcIj4nICtcbiAgICAgICAgICAgICAgICAnPGhyPicgK1xuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiZm9ybS1yb3cgbXgtbjIgcm91bmRlZCBiZy1saWdodCB0ZXh0LWRhcmsgcHQtMiBwYi0zIHB4LTIgc2hhZG93LXNtXCI+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICA8ZGl2IGNsYXNzPVwiY29sLTEyXCI+PGg1IGNsYXNzPVwiZm9udC13ZWlnaHQtYm9sZFwiPlRyaWdnZXJzOiAnK3RleHQrJzwvaDU+PC9kaXY+JyArXG4gICAgICAgICAgICAgICAgJyAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtZ3JvdXAgaW5wdXQtZ3JvdXAtbGcgY29sLTEyIG1iLTBcIj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtZ3JvdXAtcHJlcGVuZFwiPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImlucHV0LWdyb3VwLXRleHRcIj48aSBjbGFzcz1cImZhcyBmYS1sYXB0b3AtY29kZVwiPjwvaT48L3NwYW4+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICA8aW5wdXQgJysocmVhZG9ubHkgPyAncmVhZG9ubHknIDogJycpKycgYXV0b2NvbXBsZXRlPVwib2ZmXCIgY2xhc3M9XCJmb3JtLWNvbnRyb2wgZm9udC13ZWlnaHQtYm9sZCBzaGFkb3ctc21cIiBpZD1cImdfc19hY3Rpb25fdHJpZ2dlcnNcIiBwbGFjZWhvbGRlcj1cIiFjb21tYW5kIHwgaGVsbG8gfCBzZW50ZW5jZSBhcyBhIHRyaWdnZXJcIiBuYW1lPVwiYm90LXRyaWdnZXJzLScrRGF0ZS5ub3coKSsnXCIgcmVxdWlyZWQgdmFsdWU9XCInK3RyaWdnZXJzKydcIj4nICtcbiAgICAgICAgICAgICAgICAnICAgICA8L2Rpdj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgPC9kaXY+JyArXG4gICAgICAgICAgICAgICAgJzwvZGl2Pic7XG4gICAgICAgIH0sXG4gICAgICAgIG1hdGNoIDogZnVuY3Rpb24odmFsdWUsIG92ZXJyaWRlKXtcbiAgICAgICAgICAgIGxldCBtYXRjaCA9ICdleGFjdCcsXG4gICAgICAgICAgICAgICAgcmVhZG9ubHkgPSBmYWxzZSxcbiAgICAgICAgICAgICAgICB0ZXh0ID0gJzxzcGFuIGNsYXNzPVwiYmFkZ2UgYmFkZ2Utd2FybmluZ1wiPkNhbm5vdCBjaGFuZ2U8L3NwYW4+JztcbiAgICAgICAgICAgIGlmKG92ZXJyaWRlKXtcbiAgICAgICAgICAgICAgICBtYXRjaCA9IG92ZXJyaWRlO1xuICAgICAgICAgICAgICAgIHJlYWRvbmx5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZih2YWx1ZSkge1xuICAgICAgICAgICAgICAgIG1hdGNoID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gJzxocj48ZGl2IGNsYXNzPVwiZm9ybS1yb3cgbXgtbjIgcm91bmRlZCBiZy1saWdodCB0ZXh0LWRhcmsgcHQtMiBwYi0zIHB4LTIgc2hhZG93LXNtXCI+XFxuJyArXG4gICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJjb2wtMTJcIj48aDUgY2xhc3M9XCJmb250LXdlaWdodC1ib2xkXCI+TWF0Y2ggTWV0aG9kOiAnKyhyZWFkb25seSA/IHRleHQgOiAnJykrJzwvaDU+PC9kaXY+JyArXG4gICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJjb2wtMTIgbWItM1wiPjxkaXYgY2xhc3M9XCJjb2wtMTIgY29sLWxnLTggb2Zmc2V0LWxnLTJcIj4nICtcbiAgICAgICAgICAgICAgICAnPHNlbGVjdCBvbmNoYW5nZT1cIlRocmVhZEJvdHMudXBkYXRlVHJpZ2dlcnMoKVwiIGlkPVwiZ19zX2FjdGlvbl9tYXRjaFwiIGNsYXNzPVwiY3VzdG9tLXNlbGVjdCBjdXN0b20tc2VsZWN0LWxnXCIgJysocmVhZG9ubHkgPyAnZGlzYWJsZWQnIDogJycpKyc+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgPG9wdGlvbiB2YWx1ZT1cImFueVwiICcrKG1hdGNoID09PSBcImFueVwiID8gJ3NlbGVjdGVkJyA6ICcnKSsnPmFueTwvb3B0aW9uPlxcbicgK1xuICAgICAgICAgICAgICAgICcgIDxvcHRpb24gdmFsdWU9XCJjb250YWluc1wiICcrKG1hdGNoID09PSBcImNvbnRhaW5zXCIgPyAnc2VsZWN0ZWQnIDogJycpKyc+Y29udGFpbnM8L29wdGlvbj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICA8b3B0aW9uIHZhbHVlPVwiY29udGFpbnM6Y2FzZWxlc3NcIiAnKyhtYXRjaCA9PT0gXCJjb250YWluczpjYXNlbGVzc1wiID8gJ3NlbGVjdGVkJyA6ICcnKSsnPmNvbnRhaW5zOmNhc2VsZXNzPC9vcHRpb24+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgPG9wdGlvbiB2YWx1ZT1cImNvbnRhaW5zOmFueVwiICcrKG1hdGNoID09PSBcImNvbnRhaW5zOmFueVwiID8gJ3NlbGVjdGVkJyA6ICcnKSsnPmNvbnRhaW5zOmFueTwvb3B0aW9uPlxcbicgK1xuICAgICAgICAgICAgICAgICcgIDxvcHRpb24gdmFsdWU9XCJjb250YWluczphbnk6Y2FzZWxlc3NcIiAnKyhtYXRjaCA9PT0gXCJjb250YWluczphbnk6Y2FzZWxlc3NcIiA/ICdzZWxlY3RlZCcgOiAnJykrJz5jb250YWluczphbnk6Y2FzZWxlc3M8L29wdGlvbj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICA8b3B0aW9uIHZhbHVlPVwiZXhhY3RcIiAnKyhtYXRjaCA9PT0gXCJleGFjdFwiID8gJ3NlbGVjdGVkJyA6ICcnKSsnPmV4YWN0PC9vcHRpb24+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgPG9wdGlvbiB2YWx1ZT1cImV4YWN0OmNhc2VsZXNzXCIgJysobWF0Y2ggPT09IFwiZXhhY3Q6Y2FzZWxlc3NcIiA/ICdzZWxlY3RlZCcgOiAnJykrJz5leGFjdDpjYXNlbGVzczwvb3B0aW9uPlxcbicgK1xuICAgICAgICAgICAgICAgICcgIDxvcHRpb24gdmFsdWU9XCJzdGFydHM6d2l0aFwiICcrKG1hdGNoID09PSBcInN0YXJ0czp3aXRoXCIgPyAnc2VsZWN0ZWQnIDogJycpKyc+c3RhcnRzOndpdGg8L29wdGlvbj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICA8b3B0aW9uIHZhbHVlPVwic3RhcnRzOndpdGg6Y2FzZWxlc3NcIiAnKyhtYXRjaCA9PT0gXCJzdGFydHM6d2l0aDpjYXNlbGVzc1wiID8gJ3NlbGVjdGVkJyA6ICcnKSsnPnN0YXJ0czp3aXRoOmNhc2VsZXNzPC9vcHRpb24+XFxuJyArXG4gICAgICAgICAgICAgICAgJzwvc2VsZWN0PicgK1xuICAgICAgICAgICAgICAgICc8L2Rpdj48L2Rpdj4nK1xuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiY29sLTEyIGg2XCI+JyArXG4gICAgICAgICAgICAgICAgJyAgICA8dWw+JyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgPGxpPmFueSAtIFRoZSBhY3Rpb24gd2lsbCBiZSB0cmlnZ2VyZWQgZm9yIGFueSBtZXNzYWdlIHNlbnQuPC9saT4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICA8bGk+Y29udGFpbnMgLSBUaGUgdHJpZ2dlciBjYW4gYmUgYW55d2hlcmUgd2l0aGluIGEgbWVzc2FnZS4gQ2Fubm90IGJlIHBhcnQgb2Ygb3IgaW5zaWRlIGFub3RoZXIgd29yZC48L2xpPicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgIDxsaT5jb250YWluczpjYXNlbGVzcyAtIFNhbWUgYXMgXCJjb250YWluc1wiLCBidXQgaXMgY2FzZSBpbnNlbnNpdGl2ZS48L2xpPicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgIDxsaT5jb250YWluczphbnkgLSBUaGUgdHJpZ2dlciBjYW4gYmUgYW55d2hlcmUgd2l0aGluIGEgbWVzc2FnZSwgaW5jbHVkaW5nIGluc2lkZSBhbm90aGVyIHdvcmQuPC9saT4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICA8bGk+Y29udGFpbnM6YW55OmNhc2VsZXNzIC0gU2FtZSBhcyBcImNvbnRhaW5zIGFueVwiLCBidXQgaXMgY2FzZSBpbnNlbnNpdGl2ZS48L2xpPicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgIDxsaT5leGFjdCAtIFRoZSB0cmlnZ2VyIG11c3QgbWF0Y2ggdGhlIG1lc3NhZ2UgZXhhY3RseS48L2xpPicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgIDxsaT5leGFjdDpjYXNlbGVzcyAtIFNhbWUgYXMgXCJleGFjdFwiLCBidXQgaXMgY2FzZSBpbnNlbnNpdGl2ZS48L2xpPicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgIDxsaT5zdGFydHM6d2l0aCAtIFRoZSB0cmlnZ2VyIG11c3QgYmUgdGhlIGxlYWQgcGhyYXNlIHdpdGhpbiB0aGUgbWVzc2FnZS4gQ2Fubm90IGJlIHBhcnQgb2Ygb3IgaW5zaWRlIGFub3RoZXIgd29yZC48L2xpPicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgIDxsaT5zdGFydHM6d2l0aDpjYXNlbGVzcyAtIFNhbWUgYXMgXCJzdGFydHMgd2l0aFwiLCBidXQgaXMgY2FzZSBpbnNlbnNpdGl2ZS48L2xpPicgK1xuICAgICAgICAgICAgICAgICcgICAgPC91bD4nICtcbiAgICAgICAgICAgICAgICAnPC9kaXY+PC9kaXY+JztcbiAgICAgICAgfSxcbiAgICAgICAgcmVhY3Rpb24gOiBmdW5jdGlvbihyZWFjdGlvbil7XG4gICAgICAgICAgICBsZXQgdmFsdWUgPSAnJztcbiAgICAgICAgICAgIGlmKHJlYWN0aW9uKXtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IE1lc3Nlbmdlci5mb3JtYXQoKS5zaG9ydGNvZGVUb1VuaWNvZGUocmVhY3Rpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICc8aHI+PGRpdiBjbGFzcz1cImZvcm0tcm93IG14LW4yIHJvdW5kZWQgYmctbGlnaHQgdGV4dC1kYXJrIHB0LTIgcGItMyBweC0yIHNoYWRvdy1zbVwiPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgPGRpdiBjbGFzcz1cImNvbC0xMlwiPjxoNSBjbGFzcz1cImZvbnQtd2VpZ2h0LWJvbGRcIj5SZWFjdGlvbjogWyBlbW9qaSBdPC9oNT48L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAnICAgIDxkaXYgY2xhc3M9XCJpbnB1dC1ncm91cCBpbnB1dC1ncm91cC1sZyBjb2wtMTIgY29sLW1kLTQgb2Zmc2V0LW1kLTRcIj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgPGlucHV0IG9uY2xpY2s9XCJFbW9qaVBpY2tlci5ib3RBY3Rpb25SZWFjdCgpXCIgcmVhZG9ubHkgYXV0b2NvbXBsZXRlPVwib2ZmXCIgY2xhc3M9XCJmb3JtLWNvbnRyb2wgZm9udC13ZWlnaHQtYm9sZCBzaGFkb3ctc21cIiBpZD1cImdfc19ib3RfcmVhY3Rpb25cIiBwbGFjZWhvbGRlcj1cIlBpY2sgZW1vamlcIiBuYW1lPVwiYm90LXJlYWN0aW9uLScrRGF0ZS5ub3coKSsnXCIgcmVxdWlyZWQgdmFsdWU9XCInK3ZhbHVlKydcIj4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgPGRpdiBjbGFzcz1cImlucHV0LWdyb3VwLWFwcGVuZFwiPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgIDxidXR0b24gb25jbGljaz1cIkVtb2ppUGlja2VyLmJvdEFjdGlvblJlYWN0KClcIiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIHR5cGU9XCJidXR0b25cIiBpZD1cImJvdF9yZWFjdGlvbl9lbW9qaV9idG5cIj48aSBjbGFzcz1cImZhcyBmYS1ncmluXCI+PC9pPjwvYnV0dG9uPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICA8L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAnICAgICA8L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAnPC9kaXY+JztcbiAgICAgICAgfSxcbiAgICAgICAgcmVhY3Rpb25fYm9tYiA6IGZ1bmN0aW9uKHJlYWN0aW9ucyl7XG4gICAgICAgICAgICBsZXQgZmllbGRzID0gJyc7XG4gICAgICAgICAgICBsZXQgZmllbGQgPSAoaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgZW1vamkgPSAocmVhY3Rpb25zICYmIHJlYWN0aW9ucy5oYXNPd25Qcm9wZXJ0eShpbmRleCkpXG4gICAgICAgICAgICAgICAgICAgID8gTWVzc2VuZ2VyLmZvcm1hdCgpLnNob3J0Y29kZVRvVW5pY29kZShyZWFjdGlvbnNbaW5kZXhdKVxuICAgICAgICAgICAgICAgICAgICA6ICcnO1xuICAgICAgICAgICAgICAgIHJldHVybiAnPGRpdiBjbGFzcz1cImlucHV0LWdyb3VwIGlucHV0LWdyb3VwLWxnIGNvbC0xMiBjb2wtbWQtNCBvZmZzZXQtbWQtNCBtYi0yXCI+XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiaW5wdXQtZ3JvdXAtcHJlcGVuZFwiPlxcbicgK1xuICAgICAgICAgICAgICAgICAgICAnICAgIDxidXR0b24gb25jbGljaz1cIkVtb2ppUGlja2VyLnJlc2V0Qm90QWN0aW9uUmVhY3RCb21iKCcraW5kZXgrJylcIiBjbGFzcz1cImJ0biBidG4tZGFuZ2VyXCIgdHlwZT1cImJ1dHRvblwiPjxpIGNsYXNzPVwiZmFzIGZhLXRyYXNoXCI+PC9pPjwvYnV0dG9uPlxcbicgK1xuICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgICAgICAgICAgICc8aW5wdXQgb25jbGljaz1cIkVtb2ppUGlja2VyLmJvdEFjdGlvblJlYWN0Qm9tYignK2luZGV4KycpXCIgcmVhZG9ubHkgYXV0b2NvbXBsZXRlPVwib2ZmXCIgY2xhc3M9XCJmb3JtLWNvbnRyb2wgZm9udC13ZWlnaHQtYm9sZCBzaGFkb3ctc21cIiBpZD1cImJvdF9yZWFjdGlvbl9ib21iXycraW5kZXgrJ1wiIHBsYWNlaG9sZGVyPVwiUGljayBlbW9qaVwiIG5hbWU9XCJib3QtcmVhY3Rpb24tJytEYXRlLm5vdygpKydcIiByZXF1aXJlZCB2YWx1ZT1cIicrZW1vamkrJ1wiPicgK1xuICAgICAgICAgICAgICAgICAgICAnICA8ZGl2IGNsYXNzPVwiaW5wdXQtZ3JvdXAtYXBwZW5kXCI+XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICcgICAgPGJ1dHRvbiBvbmNsaWNrPVwiRW1vamlQaWNrZXIuYm90QWN0aW9uUmVhY3RCb21iKCcraW5kZXgrJylcIiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIHR5cGU9XCJidXR0b25cIiBpZD1cImJvdF9yZWFjdGlvbl9ib21iX2J0bl8nK2luZGV4KydcIj48aSBjbGFzcz1cImZhcyBmYS1ncmluXCI+PC9pPjwvYnV0dG9uPlxcbicgK1xuICAgICAgICAgICAgICAgICAgICAnICA8L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAgICAgJzwvZGl2PidcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICAgICAgICAgICAgICBmaWVsZHMgKz0gZmllbGQoaSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAnPGhyPjxkaXYgY2xhc3M9XCJmb3JtLXJvdyBteC1uMiByb3VuZGVkIGJnLWxpZ2h0IHRleHQtZGFyayBwdC0yIHBiLTMgcHgtMiBzaGFkb3ctc21cIj5cXG4nICtcbiAgICAgICAgICAgICAgICAnIDxkaXYgY2xhc3M9XCJjb2wtMTJcIj48aDUgY2xhc3M9XCJmb250LXdlaWdodC1ib2xkXCI+UmVhY3Rpb25zOiBbIGVtb2ppcyBdPC9oNT48L2Rpdj4nICsgZmllbGRzICsgJzwvZGl2Pic7XG4gICAgICAgIH0sXG4gICAgICAgIHJlcGxpZXMgOiBmdW5jdGlvbihwYXlsb2FkKXtcbiAgICAgICAgICAgIGxldCBxdW90ZSA9IGZhbHNlLCByZXBseTEgPSAnJywgcmVwbHkyID0gJycsIHJlcGx5MyA9ICcnLCByZXBseTQgPSAnJywgcmVwbHk1ID0gJyc7XG4gICAgICAgICAgICBpZihwYXlsb2FkKXtcbiAgICAgICAgICAgICAgICBxdW90ZSA9IHBheWxvYWQucXVvdGVfb3JpZ2luYWw7XG4gICAgICAgICAgICAgICAgcmVwbHkxID0gcGF5bG9hZC5yZXBsaWVzWzBdID8gTWVzc2VuZ2VyLmZvcm1hdCgpLnNob3J0Y29kZVRvVW5pY29kZShwYXlsb2FkLnJlcGxpZXNbMF0pIDogJyc7XG4gICAgICAgICAgICAgICAgcmVwbHkyID0gcGF5bG9hZC5yZXBsaWVzWzFdID8gTWVzc2VuZ2VyLmZvcm1hdCgpLnNob3J0Y29kZVRvVW5pY29kZShwYXlsb2FkLnJlcGxpZXNbMV0pIDogJyc7XG4gICAgICAgICAgICAgICAgcmVwbHkzID0gcGF5bG9hZC5yZXBsaWVzWzJdID8gTWVzc2VuZ2VyLmZvcm1hdCgpLnNob3J0Y29kZVRvVW5pY29kZShwYXlsb2FkLnJlcGxpZXNbMl0pIDogJyc7XG4gICAgICAgICAgICAgICAgcmVwbHk0ID0gcGF5bG9hZC5yZXBsaWVzWzNdID8gTWVzc2VuZ2VyLmZvcm1hdCgpLnNob3J0Y29kZVRvVW5pY29kZShwYXlsb2FkLnJlcGxpZXNbM10pIDogJyc7XG4gICAgICAgICAgICAgICAgcmVwbHk1ID0gcGF5bG9hZC5yZXBsaWVzWzRdID8gTWVzc2VuZ2VyLmZvcm1hdCgpLnNob3J0Y29kZVRvVW5pY29kZShwYXlsb2FkLnJlcGxpZXNbNF0pIDogJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gJzxocj48ZGl2IGNsYXNzPVwiZm9ybS1yb3cgbXgtbjIgcm91bmRlZCBiZy1saWdodCB0ZXh0LWRhcmsgcGItMyBwdC0yIHB4LTIgc2hhZG93LXNtXCI+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICA8ZGl2IGNsYXNzPVwiY29sLTEyXCI+PGg1IGNsYXNzPVwiZm9udC13ZWlnaHQtYm9sZFwiPlJlcGxpZXM6IFsgT25lIHJlcXVpcmVkLiBNYXggb2YgNSBdPC9oNT48L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICA8bGFiZWwgY2xhc3M9XCJjb250cm9sLWxhYmVsXCIgZm9yPVwiZ19yZXBsaWVzX3RhYmxlXCI+IC0gUXVvdGUgbWF0Y2hpbmcgbWVzc2FnZT8gV2hlbiBlbmFibGVkLCB0aGUgZmlyc3QgcmVwbHkgd2lsbCB1c2UgdGhlIG1hdGNoaW5nIG1lc3NhZ2Ugd2l0aGluIHRoZSByZXBseS48L2xhYmVsPicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgIDx0YWJsZSBpZD1cImdfcmVwbGllc190YWJsZVwiIGNsYXNzPVwidGFibGUgdGFibGUtc20gdGFibGUtaG92ZXJcIj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgPHRib2R5PlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICA8dHIgY2xhc3M9XCInKyhxdW90ZSA/ICdhbGVydC1zdWNjZXNzJyA6ICcnKSsnXCI+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJwb2ludGVyX2FyZWFcIiBvbmNsaWNrPVwiJChcXCcjZ19zX3F1b3RlX29yaWdpbmFsXFwnKS5jbGljaygpXCI+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImg0IG10LTFcIj48aSBjbGFzcz1cImZhcyBmYS1jYXJldC1yaWdodFwiPjwvaT4gPHNwYW4gY2xhc3M9XCJoNVwiPlF1b3RlIG1hdGNoaW5nIG1lc3NhZ2U/PC9zcGFuPjwvZGl2PlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICAgPC90ZD5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgICAgIDx0ZD5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibXQtMSBmbG9hdC1yaWdodFwiPjxzcGFuIGNsYXNzPVwic3dpdGNoIHN3aXRjaC1zbSBtdC0xXCI+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cInN3aXRjaCBzd2l0Y2hfaW5wdXQgbV9zZXR0aW5nX3RvZ2dsZVwiIGlkPVwiZ19zX3F1b3RlX29yaWdpbmFsXCIgbmFtZT1cImdfc19xdW90ZV9vcmlnaW5hbFwiIHR5cGU9XCJjaGVja2JveFwiICcrKHF1b3RlID8gJ2NoZWNrZWQnIDogJycpKyc+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJnX3NfcXVvdGVfb3JpZ2luYWxcIj48L2xhYmVsPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj48L2Rpdj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgICAgIDwvdGQ+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgIDwvdHI+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgICAgIDwvdGJvZHk+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgPC90YWJsZT5cXG4nICtcbiAgICAgICAgICAgICAgICAnPGlucHV0IGF1dG9jb21wbGV0ZT1cIm9mZlwiIGNsYXNzPVwiZm9ybS1jb250cm9sIGZvcm0tY29udHJvbC1sZyBmb250LXdlaWdodC1ib2xkIHNoYWRvdy1zbSBteS0yXCIgaWQ9XCJnX3NfcmVwbHlfMVwiIHBsYWNlaG9sZGVyPVwiRmlyc3QgcmVwbHkuLi5cIiBuYW1lPVwiYm90LXJlcGx5LScrRGF0ZS5ub3coKSsnXCIgdmFsdWU9XCInK3JlcGx5MSsnXCI+JyArXG4gICAgICAgICAgICAgICAgJzxpbnB1dCBhdXRvY29tcGxldGU9XCJvZmZcIiBjbGFzcz1cImZvcm0tY29udHJvbCBmb3JtLWNvbnRyb2wtbGcgZm9udC13ZWlnaHQtYm9sZCBzaGFkb3ctc20gbWItMlwiIGlkPVwiZ19zX3JlcGx5XzJcIiBwbGFjZWhvbGRlcj1cIlNlY29uZCByZXBseS4uLlwiIG5hbWU9XCJib3QtcmVwbHktJytEYXRlLm5vdygpKydcIiB2YWx1ZT1cIicrcmVwbHkyKydcIj4nICtcbiAgICAgICAgICAgICAgICAnPGlucHV0IGF1dG9jb21wbGV0ZT1cIm9mZlwiIGNsYXNzPVwiZm9ybS1jb250cm9sIGZvcm0tY29udHJvbC1sZyBmb250LXdlaWdodC1ib2xkIHNoYWRvdy1zbSBtYi0yXCIgaWQ9XCJnX3NfcmVwbHlfM1wiIHBsYWNlaG9sZGVyPVwiVGhpcmQgcmVwbHkuLi5cIiBuYW1lPVwiYm90LXJlcGx5LScrRGF0ZS5ub3coKSsnXCIgdmFsdWU9XCInK3JlcGx5MysnXCI+JyArXG4gICAgICAgICAgICAgICAgJzxpbnB1dCBhdXRvY29tcGxldGU9XCJvZmZcIiBjbGFzcz1cImZvcm0tY29udHJvbCBmb3JtLWNvbnRyb2wtbGcgZm9udC13ZWlnaHQtYm9sZCBzaGFkb3ctc20gbWItMlwiIGlkPVwiZ19zX3JlcGx5XzRcIiBwbGFjZWhvbGRlcj1cIkZvdXJ0aCByZXBseS4uLlwiIG5hbWU9XCJib3QtcmVwbHktJytEYXRlLm5vdygpKydcIiB2YWx1ZT1cIicrcmVwbHk0KydcIj4nICtcbiAgICAgICAgICAgICAgICAnPGlucHV0IGF1dG9jb21wbGV0ZT1cIm9mZlwiIGNsYXNzPVwiZm9ybS1jb250cm9sIGZvcm0tY29udHJvbC1sZyBmb250LXdlaWdodC1ib2xkIHNoYWRvdy1zbVwiIGlkPVwiZ19zX3JlcGx5XzVcIiBwbGFjZWhvbGRlcj1cIkZpZnRoIHJlcGx5Li4uXCIgbmFtZT1cImJvdC1yZXBseS0nK0RhdGUubm93KCkrJ1wiIHZhbHVlPVwiJytyZXBseTUrJ1wiPicgK1xuICAgICAgICAgICAgICAgICc8L2Rpdj4nO1xuICAgICAgICB9LFxuICAgICAgICByZXN1bHRfbGltaXQgOiBmdW5jdGlvbihwYXlsb2FkKXtcbiAgICAgICAgICAgIGxldCBsaW1pdCA9IDM7XG4gICAgICAgICAgICBpZihwYXlsb2FkKXtcbiAgICAgICAgICAgICAgICBsaW1pdCA9IHBheWxvYWQubGltaXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gJzxocj48ZGl2IGNsYXNzPVwiZm9ybS1yb3cgbXgtbjIgcm91bmRlZCBiZy1saWdodCB0ZXh0LWRhcmsgcHQtMiBwYi0zIHB4LTIgc2hhZG93LXNtXCI+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICA8ZGl2IGNsYXNzPVwiY29sLTEyXCI+PGg1IGNsYXNzPVwiZm9udC13ZWlnaHQtYm9sZFwiPk1heCBudW1iZXIgb2YgcmVzdWx0czogWyAxMCBtYXggXTwvaDU+PC9kaXY+JyArXG4gICAgICAgICAgICAgICAgJyAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtZ3JvdXAgaW5wdXQtZ3JvdXAtbGcgY29sLTEyIG1iLTBcIj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtZ3JvdXAtcHJlcGVuZFwiPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImlucHV0LWdyb3VwLXRleHRcIj48aSBjbGFzcz1cImZhcyBmYS1saXN0LW9sXCI+PC9pPjwvc3Bhbj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgPC9kaXY+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgYXV0b2NvbXBsZXRlPVwib2ZmXCIgbWluPVwiMVwiIG1heD1cIjEwXCIgY2xhc3M9XCJmb3JtLWNvbnRyb2wgZm9udC13ZWlnaHQtYm9sZCBzaGFkb3ctc21cIiBpZD1cImdfc19ib3RfcmVzdWx0X2xpbWl0XCIgcGxhY2Vob2xkZXI9XCJSZXN1bHRzIExpbWl0XCIgbmFtZT1cImJvdC1saW1pdC0nK0RhdGUubm93KCkrJ1wiIHJlcXVpcmVkIHZhbHVlPVwiJytsaW1pdCsnXCI+JyArXG4gICAgICAgICAgICAgICAgJyAgICAgPC9kaXY+XFxuJyArXG4gICAgICAgICAgICAgICAgJzwvZGl2PidcbiAgICAgICAgfSxcbiAgICAgICAgaW52aXRlX2xpZmV0aW1lIDogZnVuY3Rpb24ocGF5bG9hZCl7XG4gICAgICAgICAgICBsZXQgbGlmZXRpbWUgPSAxNTtcbiAgICAgICAgICAgIGlmKHBheWxvYWQpe1xuICAgICAgICAgICAgICAgIGxpZmV0aW1lID0gcGF5bG9hZC5saWZldGltZV9taW51dGVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICc8aHI+PGRpdiBjbGFzcz1cImZvcm0tcm93IG14LW4yIHJvdW5kZWQgYmctbGlnaHQgdGV4dC1kYXJrIHB0LTIgcGItMyBweC0yIHNoYWRvdy1zbVwiPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgPGRpdiBjbGFzcz1cImNvbC0xMlwiPjxoNSBjbGFzcz1cImZvbnQtd2VpZ2h0LWJvbGRcIj5JbnZpdGUgbGlmZXRpbWU6IFsgYmV0d2VlbiA1IGFuZCA2MCBtaW51dGVzIF08L2g1PjwvZGl2PicgK1xuICAgICAgICAgICAgICAgICcgICAgPGRpdiBjbGFzcz1cImlucHV0LWdyb3VwIGlucHV0LWdyb3VwLWxnIGNvbC0xMiBtYi0wXCI+XFxuJyArXG4gICAgICAgICAgICAgICAgJyAgICAgICAgPGRpdiBjbGFzcz1cImlucHV0LWdyb3VwLXByZXBlbmRcIj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJpbnB1dC1ncm91cC10ZXh0XCI+PGkgY2xhc3M9XCJmYXMgZmEtY2xvY2tcIj48L2k+PC9zcGFuPlxcbicgK1xuICAgICAgICAgICAgICAgICcgICAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAgICAgICAgICAgICAnICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBhdXRvY29tcGxldGU9XCJvZmZcIiBtaW49XCI1XCIgbWF4PVwiNjBcIiBjbGFzcz1cImZvcm0tY29udHJvbCBmb250LXdlaWdodC1ib2xkIHNoYWRvdy1zbVwiIGlkPVwiZ19zX2JvdF9pbnZfbGlmZXRpbWVcIiBwbGFjZWhvbGRlcj1cIkludml0ZSBMaWZldGltZVwiIG5hbWU9XCJib3QtaW52aXRlLWxpZmV0aW1lLScrRGF0ZS5ub3coKSsnXCIgcmVxdWlyZWQgdmFsdWU9XCInK2xpZmV0aW1lKydcIj4nICtcbiAgICAgICAgICAgICAgICAnICAgICA8L2Rpdj5cXG4nICtcbiAgICAgICAgICAgICAgICAnPC9kaXY+J1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICBpbml0IDogbW91bnRlZC5Jbml0aWFsaXplLFxuICAgICAgICB2aWV3Qm90cyA6IG1ldGhvZHMudmlld0JvdHMsXG4gICAgICAgIGFkZEJvdCA6IG1ldGhvZHMuYWRkQm90LFxuICAgICAgICB2aWV3Qm90IDogbWV0aG9kcy52aWV3Qm90LFxuICAgICAgICB2aWV3Qm90UGFja2FnZXMgOiBtZXRob2RzLnZpZXdCb3RQYWNrYWdlcyxcbiAgICAgICAgaW5zdGFsbEJvdFBhY2thZ2UgOiBtZXRob2RzLmluc3RhbGxCb3RQYWNrYWdlLFxuICAgICAgICBlZGl0Qm90IDogbWV0aG9kcy5lZGl0Qm90LFxuICAgICAgICByZW1vdmVBdmF0YXIgOiBtZXRob2RzLnJlbW92ZUF2YXRhcixcbiAgICAgICAgcmVtb3ZlQm90IDogbWV0aG9kcy5yZW1vdmVCb3QsXG4gICAgICAgIHZpZXdBdmFpbGFibGVIYW5kbGVycyA6IG1ldGhvZHMudmlld0F2YWlsYWJsZUhhbmRsZXJzLFxuICAgICAgICByZWxvYWRCb3RBY3Rpb25zIDogbWV0aG9kcy5yZWxvYWRCb3RBY3Rpb25zLFxuICAgICAgICBjcmVhdGVBY3Rpb24gOiBtZXRob2RzLmNyZWF0ZUFjdGlvbixcbiAgICAgICAgc3RvcmVBY3Rpb24gOiBtZXRob2RzLnN0b3JlQWN0aW9uLFxuICAgICAgICBlZGl0QWN0aW9uIDogbWV0aG9kcy5lZGl0QWN0aW9uLFxuICAgICAgICB1cGRhdGVBY3Rpb24gOiBtZXRob2RzLnVwZGF0ZUFjdGlvbixcbiAgICAgICAgcmVtb3ZlQWN0aW9uIDogbWV0aG9kcy5yZW1vdmVBY3Rpb24sXG4gICAgICAgIHVwZGF0ZVRyaWdnZXJzIDogbWV0aG9kcy51cGRhdGVUcmlnZ2Vyc0Zvcm0sXG4gICAgICAgIHN0YXRlIDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiBvcHQ7XG4gICAgICAgIH0sXG4gICAgICAgIGxvY2sgOiBmdW5jdGlvbihhcmcpe1xuICAgICAgICAgICAgaWYodHlwZW9mIGFyZyA9PT0gJ2Jvb2xlYW4nKSBvcHQubG9jayA9IGFyZ1xuICAgICAgICB9XG4gICAgfTtcbn0oKSk7Il0sIm5hbWVzIjpbIndpbmRvdyIsIlRocmVhZEJvdHMiLCJvcHQiLCJsb2NrIiwidGhyZWFkIiwiYm90c190YWJsZSIsImN1cnJlbnRfYm90IiwiY3VycmVudF9ib3RfYWN0aW9uX2NvbnRhaW5lciIsImF2YXRhcl9pbnB1dCIsImhhbmRsZXJzIiwiY3VycmVudF9oYW5kbGVyIiwiY3VycmVudF9hY3Rpb24iLCJtb3VudGVkIiwiSW5pdGlhbGl6ZSIsIiQiLCJhcHBlbmQiLCJ0ZW1wbGF0ZXMiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm1ldGhvZHMiLCJ1cGxvYWRBdmF0YXIiLCJzZXRUaHJlYWQiLCJUaHJlYWRNYW5hZ2VyIiwic3RhdGUiLCJfdGhyZWFkIiwibG9hZERhdGFUYWJsZSIsImVsbSIsInRlcm0iLCJkZXN0cm95IiwibGVuZ3RoIiwiRGF0YVRhYmxlIiwiZHJhd0NhbGxiYWNrIiwic2V0dGluZ3MiLCJhcGkiLCJmbiIsIkFwaSIsInBhZ2luYXRpb24iLCJjbG9zZXN0IiwiZmluZCIsInRvZ2dsZSIsInBhZ2UiLCJpbmZvIiwicGFnZXMiLCJ2aWV3Qm90cyIsImdhdGhlciIsIk1lc3NlbmdlciIsInhociIsInJlcXVlc3QiLCJyb3V0ZSIsImNvbW1vbiIsIkFQSSIsImlkIiwic3VjY2VzcyIsImJvdHMiLCJhbGVydCIsImZpbGxNb2RhbCIsImJvZHkiLCJ0aXRsZSIsIm5hbWUiLCJmYWlsX2FsZXJ0IiwibW9kYWwiLCJpY29uIiwiYmFja2Ryb3BfY3RybCIsInRoZW1lIiwicHJlX2xvYWRlciIsIm92ZXJmbG93IiwidW5sb2NrX2J1dHRvbnMiLCJoNCIsInNpemUiLCJvblJlYWR5Iiwib3B0aW9ucyIsIm1hbmFnZV9ib3RzIiwiY2JfYnRuX3R4dCIsImNiX2J0bl9pY29uIiwiY2JfYnRuX3RoZW1lIiwiY2FsbGJhY2siLCJjcmVhdGVPckluc3RhbGwiLCJNb2RhbCIsImNyZWF0ZV9vcl9pbnN0YWxsIiwidmlld0JvdFBhY2thZ2VzIiwicGFja2FnZXMiLCJib3RfcGFja2FnZXMiLCJhZGRCb3QiLCJhZGRfYm90IiwiY2hhbmdlIiwiaXMiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwic3RvcmVCb3QiLCJ2aWV3Qm90IiwiYm90Iiwidmlld19ib3QiLCJoYXNPd25Qcm9wZXJ0eSIsInNldFRpbWVvdXQiLCJlZGl0Qm90IiwiZmlsbCIsImVkaXRfYm90IiwiZmFpbF9rZWVwX29wZW4iLCJ1cGRhdGVCb3QiLCJlZGl0QWN0aW9uIiwiYWN0aW9ucyIsInJlbG9hZEJvdEFjdGlvbnMiLCJpIiwiZ2VuZXJhdGVFZGl0QWN0aW9uRm9ybSIsInVwZGF0ZUFjdGlvbiIsImJ1dHRvbiIsImFkZExvYWRlciIsInBheWxvYWQiLCJkYXRhIiwibWFrZUhhbmRsZXJGb3JtRGF0YSIsImhhbmRsZXIiLCJfb3B0JGN1cnJlbnRfYWN0aW9uJGgiLCJleHRyYSIsImFsaWFzIiwicmVhY3Rpb24iLCJyZWFjdGlvbl9ib21iIiwicmVhY3Rpb25zIiwicmVwbGllcyIsImludml0ZV9saWZldGltZSIsInJlc3VsdF9saW1pdCIsImh0bWwiLCJzdGFydCIsImJhc2UiLCJ0cmlnZ2VycyIsIm1hdGNoIiwiZW5kIiwidmlld0F2YWlsYWJsZUhhbmRsZXJzIiwibG9hZGVyIiwidmlld19oYW5kbGVycyIsImNyZWF0ZUFjdGlvbiIsImdlbmVyYXRlQ3JlYXRlQWN0aW9uRm9ybSIsInN0b3JlQWN0aW9uIiwiYm90X2FjdGlvbnNfdGFibGUiLCJmb3JtIiwidmFsIiwiY29vbGRvd24iLCJwYXJzZUludCIsImVuYWJsZWQiLCJhZG1pbl9vbmx5IiwiaW5jbHVkZXMiLCJib21iX2Vtb2ppIiwidHJpbSIsInB1c2giLCJxdW90ZV9vcmlnaW5hbCIsImZvckVhY2giLCJyZXBseSIsImxpZmV0aW1lX21pbnV0ZXMiLCJsaW1pdCIsInJlbW92ZUJvdCIsIndhcm5fZGVsZXRlIiwiZGVsZXRlQm90IiwicmVtb3ZlQWN0aW9uIiwiaGlkZV9hY3Rpb25zIiwiaW5zdGFsbEJvdFBhY2thZ2UiLCJBbGVydCIsInRvYXN0IiwiZmlsZXMiLCJGb3JtRGF0YSIsIlBhZ2VMaXN0ZW5lcnMiLCJsaXN0ZW4iLCJkaXNwb3NlVG9vbHRpcHMiLCJub19jbG9zZSIsInJlbW92ZUF2YXRhciIsInVwZGF0ZVRyaWdnZXJzRm9ybSIsImNvbnRhaW5lciIsInRhYmxlX3RvcCIsInRhYmxlX2JvdCIsInRhYmxlX2ZpbGwiLCJib3RfZmlsbCIsIm9ubGluZSIsIm9uX2Nvb2xkb3duIiwibWFuYWdlIiwiYXZhdGFyIiwic20iLCJhY3Rpb25zX2NvdW50IiwicGFja2FnZV9maWxsIiwicGFja2FnZWRfYm90IiwiaW5zdGFsbF9saXN0IiwiYWxyZWFkeV9pbnN0YWxsZWRfbGlzdCIsInVzZUluc3RhbGxzIiwidXNlQWxyZWFkeUluc3RhbGxlZCIsImluc3RhbGxzIiwiaW5zdGFsbCIsImRlc2NyaXB0aW9uIiwiYWxyZWFkeV9pbnN0YWxsZWQiLCJpbnN0YWxsZWQiLCJtZCIsIkRhdGUiLCJub3ciLCJlZGl0YWJsZSIsIm93bmVyIiwiYWN0aW9uX2ZpbGwiLCJhY3Rpb24iLCJ0cmlnZ2VyIiwiaGFuZGxlcl9wYXlsb2FkIiwiZm9ybWF0Iiwic2hvcnRjb2RlVG9JbWFnZSIsImpvaW4iLCJoYW5kbGVyX2ZpbGwiLCJfaGFuZGxlciRtYXRjaCIsInVuaXF1ZSIsImVkaXQiLCJkZWxldGVfYnRuIiwidmFsdWVzIiwib3ZlcnJpZGVzIiwicmVhZG9ubHkiLCJoaWRkZW4iLCJ0ZXh0IiwidmFsdWUiLCJvdmVycmlkZSIsInNob3J0Y29kZVRvVW5pY29kZSIsImZpZWxkcyIsImZpZWxkIiwiaW5kZXgiLCJlbW9qaSIsInF1b3RlIiwicmVwbHkxIiwicmVwbHkyIiwicmVwbHkzIiwicmVwbHk0IiwicmVwbHk1IiwibGlmZXRpbWUiLCJpbml0IiwidXBkYXRlVHJpZ2dlcnMiLCJhcmciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./vendor/rtippin/messenger-ui/resources/js/modules/ThreadBots.js\n");

/***/ }),

/***/ "./vendor/rtippin/messenger-ui/resources/js/templates/ThreadTemplates.js":
/*!*******************************************************************************!*\
  !*** ./vendor/rtippin/messenger-ui/resources/js/templates/ThreadTemplates.js ***!
  \*******************************************************************************/
/***/ (() => {

throw new Error("Module build failed (from ./node_modules/babel-loader/lib/index.js):\nSyntaxError: /home/r/Websites/timebank_cc_2/vendor/rtippin/messenger-ui/resources/js/templates/ThreadTemplates.js: Missing semicolon. (1227:138)\n\n\u001b[0m \u001b[90m 1225 |\u001b[39m                 \u001b[32m'                            <div class=\"col-12\">\\n'\u001b[39m \u001b[33m+\u001b[39m\n \u001b[90m 1226 |\u001b[39m                 \u001b[32m'                            <div class=\"input-group\">\\n'\u001b[39m \u001b[33m+\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1227 |\u001b[39m                 \u001b[32m'                                <input minlength=\"3\" maxlength=\"50\" class=\"form-control\" id=\"subject\" placeholder=\"{{__('\u001b[39m\u001b[33mName\u001b[39m the group conversation\u001b[33m!\u001b[39m\u001b[32m')}}\" name=\"subject-'\u001b[39m\u001b[33m+\u001b[39m\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow()\u001b[33m+\u001b[39m\u001b[32m'\" autocomplete=\"off\" required>\\n'\u001b[39m \u001b[33m+\u001b[39m\n \u001b[90m      |\u001b[39m                                                                                                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 1228 |\u001b[39m                 \u001b[32m'                                <div class=\"input-group-append\">\\n'\u001b[39m \u001b[33m+\u001b[39m\n \u001b[90m 1229 |\u001b[39m                 \u001b[32m'                                    <button id=\"make_thread_btn\" class=\"btn btn-primary\"><i class=\"fas fa-edit\"></i> Create</button>\\n'\u001b[39m \u001b[33m+\u001b[39m\n \u001b[90m 1230 |\u001b[39m                 \u001b[32m'                                </div>\\n'\u001b[39m \u001b[33m+\u001b[39m\u001b[0m\n    at constructor (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:351:19)\n    at Parser.raise (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:3233:19)\n    at Parser.semicolon (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:3554:10)\n    at Parser.parseReturnStatement (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:12604:12)\n    at Parser.parseStatementContent (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:12254:21)\n    at Parser.parseStatementLike (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:12223:17)\n    at Parser.parseStatementListItem (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:12203:17)\n    at Parser.parseBlockOrModuleBlockBody (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:12780:61)\n    at Parser.parseBlockBody (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:12773:10)\n    at Parser.parseBlock (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:12761:10)\n    at Parser.parseFunctionBody (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:11600:24)\n    at Parser.parseFunctionBodyAndFinish (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:11586:10)\n    at /home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:12903:12\n    at Parser.withSmartMixTopicForbiddingContext (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:11897:14)\n    at Parser.parseFunction (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:12902:10)\n    at Parser.parseFunctionOrFunctionSent (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:11067:17)\n    at Parser.parseExprAtom (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:10856:21)\n    at Parser.parseExprSubscripts (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:10568:23)\n    at Parser.parseUpdate (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:10551:21)\n    at Parser.parseMaybeUnary (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:10529:23)\n    at Parser.parseMaybeUnaryOrPrivate (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:10383:61)\n    at Parser.parseExprOps (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:10388:23)\n    at Parser.parseMaybeConditional (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:10365:23)\n    at Parser.parseMaybeAssign (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:10326:21)\n    at /home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:10296:39\n    at Parser.allowInAnd (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:11920:12)\n    at Parser.parseMaybeAssignAllowIn (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:10296:17)\n    at Parser.parseObjectProperty (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:11454:83)\n    at Parser.parseObjPropValue (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:11479:100)\n    at Parser.parsePropertyDefinition (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:11419:17)\n    at Parser.parseObjectLike (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:11334:21)\n    at Parser.parseExprAtom (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:10853:23)\n    at Parser.parseExprSubscripts (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:10568:23)\n    at Parser.parseUpdate (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:10551:21)\n    at Parser.parseMaybeUnary (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:10529:23)\n    at Parser.parseMaybeUnaryOrPrivate (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:10383:61)\n    at Parser.parseExprOps (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:10388:23)\n    at Parser.parseMaybeConditional (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:10365:23)\n    at Parser.parseMaybeAssign (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:10326:21)\n    at /home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:10296:39\n    at Parser.allowInAnd (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:11915:16)\n    at Parser.parseMaybeAssignAllowIn (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:10296:17)\n    at Parser.parseVar (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:12848:91)\n    at Parser.parseVarStatement (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:12694:10)\n    at Parser.parseStatementContent (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:12306:23)\n    at Parser.parseStatementLike (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:12223:17)\n    at Parser.parseStatementListItem (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:12203:17)\n    at Parser.parseBlockOrModuleBlockBody (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:12780:61)\n    at Parser.parseBlockBody (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:12773:10)\n    at Parser.parseBlock (/home/r/Websites/timebank_cc_2/node_modules/@babel/parser/lib/index.js:12761:10)");

/***/ }),

/***/ "./node_modules/base64-js/index.js":
/*!*****************************************!*\
  !*** ./node_modules/base64-js/index.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYmFzZTY0LWpzL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFZOztBQUVaLGtCQUFrQjtBQUNsQixtQkFBbUI7QUFDbkIscUJBQXFCOztBQUVyQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtQ0FBbUMsU0FBUztBQUM1QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxjQUFjLFNBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixTQUFTO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMkNBQTJDLFVBQVU7QUFDckQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9iYXNlNjQtanMvaW5kZXguanM/Mzc3MCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCdcblxuZXhwb3J0cy5ieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aFxuZXhwb3J0cy50b0J5dGVBcnJheSA9IHRvQnl0ZUFycmF5XG5leHBvcnRzLmZyb21CeXRlQXJyYXkgPSBmcm9tQnl0ZUFycmF5XG5cbnZhciBsb29rdXAgPSBbXVxudmFyIHJldkxvb2t1cCA9IFtdXG52YXIgQXJyID0gdHlwZW9mIFVpbnQ4QXJyYXkgIT09ICd1bmRlZmluZWQnID8gVWludDhBcnJheSA6IEFycmF5XG5cbnZhciBjb2RlID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nXG5mb3IgKHZhciBpID0gMCwgbGVuID0gY29kZS5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICBsb29rdXBbaV0gPSBjb2RlW2ldXG4gIHJldkxvb2t1cFtjb2RlLmNoYXJDb2RlQXQoaSldID0gaVxufVxuXG4vLyBTdXBwb3J0IGRlY29kaW5nIFVSTC1zYWZlIGJhc2U2NCBzdHJpbmdzLCBhcyBOb2RlLmpzIGRvZXMuXG4vLyBTZWU6IGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Jhc2U2NCNVUkxfYXBwbGljYXRpb25zXG5yZXZMb29rdXBbJy0nLmNoYXJDb2RlQXQoMCldID0gNjJcbnJldkxvb2t1cFsnXycuY2hhckNvZGVBdCgwKV0gPSA2M1xuXG5mdW5jdGlvbiBnZXRMZW5zIChiNjQpIHtcbiAgdmFyIGxlbiA9IGI2NC5sZW5ndGhcblxuICBpZiAobGVuICUgNCA+IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc3RyaW5nLiBMZW5ndGggbXVzdCBiZSBhIG11bHRpcGxlIG9mIDQnKVxuICB9XG5cbiAgLy8gVHJpbSBvZmYgZXh0cmEgYnl0ZXMgYWZ0ZXIgcGxhY2Vob2xkZXIgYnl0ZXMgYXJlIGZvdW5kXG4gIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2JlYXRnYW1taXQvYmFzZTY0LWpzL2lzc3Vlcy80MlxuICB2YXIgdmFsaWRMZW4gPSBiNjQuaW5kZXhPZignPScpXG4gIGlmICh2YWxpZExlbiA9PT0gLTEpIHZhbGlkTGVuID0gbGVuXG5cbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IHZhbGlkTGVuID09PSBsZW5cbiAgICA/IDBcbiAgICA6IDQgLSAodmFsaWRMZW4gJSA0KVxuXG4gIHJldHVybiBbdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbl1cbn1cblxuLy8gYmFzZTY0IGlzIDQvMyArIHVwIHRvIHR3byBjaGFyYWN0ZXJzIG9mIHRoZSBvcmlnaW5hbCBkYXRhXG5mdW5jdGlvbiBieXRlTGVuZ3RoIChiNjQpIHtcbiAgdmFyIGxlbnMgPSBnZXRMZW5zKGI2NClcbiAgdmFyIHZhbGlkTGVuID0gbGVuc1swXVxuICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gbGVuc1sxXVxuICByZXR1cm4gKCh2YWxpZExlbiArIHBsYWNlSG9sZGVyc0xlbikgKiAzIC8gNCkgLSBwbGFjZUhvbGRlcnNMZW5cbn1cblxuZnVuY3Rpb24gX2J5dGVMZW5ndGggKGI2NCwgdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbikge1xuICByZXR1cm4gKCh2YWxpZExlbiArIHBsYWNlSG9sZGVyc0xlbikgKiAzIC8gNCkgLSBwbGFjZUhvbGRlcnNMZW5cbn1cblxuZnVuY3Rpb24gdG9CeXRlQXJyYXkgKGI2NCkge1xuICB2YXIgdG1wXG4gIHZhciBsZW5zID0gZ2V0TGVucyhiNjQpXG4gIHZhciB2YWxpZExlbiA9IGxlbnNbMF1cbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IGxlbnNbMV1cblxuICB2YXIgYXJyID0gbmV3IEFycihfYnl0ZUxlbmd0aChiNjQsIHZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW4pKVxuXG4gIHZhciBjdXJCeXRlID0gMFxuXG4gIC8vIGlmIHRoZXJlIGFyZSBwbGFjZWhvbGRlcnMsIG9ubHkgZ2V0IHVwIHRvIHRoZSBsYXN0IGNvbXBsZXRlIDQgY2hhcnNcbiAgdmFyIGxlbiA9IHBsYWNlSG9sZGVyc0xlbiA+IDBcbiAgICA/IHZhbGlkTGVuIC0gNFxuICAgIDogdmFsaWRMZW5cblxuICB2YXIgaVxuICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICB0bXAgPVxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTgpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCAxMikgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMildIDw8IDYpIHxcbiAgICAgIHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMyldXG4gICAgYXJyW2N1ckJ5dGUrK10gPSAodG1wID4+IDE2KSAmIDB4RkZcbiAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gOCkgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAweEZGXG4gIH1cblxuICBpZiAocGxhY2VIb2xkZXJzTGVuID09PSAyKSB7XG4gICAgdG1wID1cbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDIpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA+PiA0KVxuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgaWYgKHBsYWNlSG9sZGVyc0xlbiA9PT0gMSkge1xuICAgIHRtcCA9XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAxMCkgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldIDw8IDQpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDIpXSA+PiAyKVxuICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiA4KSAmIDB4RkZcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBhcnJcbn1cblxuZnVuY3Rpb24gdHJpcGxldFRvQmFzZTY0IChudW0pIHtcbiAgcmV0dXJuIGxvb2t1cFtudW0gPj4gMTggJiAweDNGXSArXG4gICAgbG9va3VwW251bSA+PiAxMiAmIDB4M0ZdICtcbiAgICBsb29rdXBbbnVtID4+IDYgJiAweDNGXSArXG4gICAgbG9va3VwW251bSAmIDB4M0ZdXG59XG5cbmZ1bmN0aW9uIGVuY29kZUNodW5rICh1aW50OCwgc3RhcnQsIGVuZCkge1xuICB2YXIgdG1wXG4gIHZhciBvdXRwdXQgPSBbXVxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7IGkgKz0gMykge1xuICAgIHRtcCA9XG4gICAgICAoKHVpbnQ4W2ldIDw8IDE2KSAmIDB4RkYwMDAwKSArXG4gICAgICAoKHVpbnQ4W2kgKyAxXSA8PCA4KSAmIDB4RkYwMCkgK1xuICAgICAgKHVpbnQ4W2kgKyAyXSAmIDB4RkYpXG4gICAgb3V0cHV0LnB1c2godHJpcGxldFRvQmFzZTY0KHRtcCkpXG4gIH1cbiAgcmV0dXJuIG91dHB1dC5qb2luKCcnKVxufVxuXG5mdW5jdGlvbiBmcm9tQnl0ZUFycmF5ICh1aW50OCkge1xuICB2YXIgdG1wXG4gIHZhciBsZW4gPSB1aW50OC5sZW5ndGhcbiAgdmFyIGV4dHJhQnl0ZXMgPSBsZW4gJSAzIC8vIGlmIHdlIGhhdmUgMSBieXRlIGxlZnQsIHBhZCAyIGJ5dGVzXG4gIHZhciBwYXJ0cyA9IFtdXG4gIHZhciBtYXhDaHVua0xlbmd0aCA9IDE2MzgzIC8vIG11c3QgYmUgbXVsdGlwbGUgb2YgM1xuXG4gIC8vIGdvIHRocm91Z2ggdGhlIGFycmF5IGV2ZXJ5IHRocmVlIGJ5dGVzLCB3ZSdsbCBkZWFsIHdpdGggdHJhaWxpbmcgc3R1ZmYgbGF0ZXJcbiAgZm9yICh2YXIgaSA9IDAsIGxlbjIgPSBsZW4gLSBleHRyYUJ5dGVzOyBpIDwgbGVuMjsgaSArPSBtYXhDaHVua0xlbmd0aCkge1xuICAgIHBhcnRzLnB1c2goZW5jb2RlQ2h1bmsodWludDgsIGksIChpICsgbWF4Q2h1bmtMZW5ndGgpID4gbGVuMiA/IGxlbjIgOiAoaSArIG1heENodW5rTGVuZ3RoKSkpXG4gIH1cblxuICAvLyBwYWQgdGhlIGVuZCB3aXRoIHplcm9zLCBidXQgbWFrZSBzdXJlIHRvIG5vdCBmb3JnZXQgdGhlIGV4dHJhIGJ5dGVzXG4gIGlmIChleHRyYUJ5dGVzID09PSAxKSB7XG4gICAgdG1wID0gdWludDhbbGVuIC0gMV1cbiAgICBwYXJ0cy5wdXNoKFxuICAgICAgbG9va3VwW3RtcCA+PiAyXSArXG4gICAgICBsb29rdXBbKHRtcCA8PCA0KSAmIDB4M0ZdICtcbiAgICAgICc9PSdcbiAgICApXG4gIH0gZWxzZSBpZiAoZXh0cmFCeXRlcyA9PT0gMikge1xuICAgIHRtcCA9ICh1aW50OFtsZW4gLSAyXSA8PCA4KSArIHVpbnQ4W2xlbiAtIDFdXG4gICAgcGFydHMucHVzaChcbiAgICAgIGxvb2t1cFt0bXAgPj4gMTBdICtcbiAgICAgIGxvb2t1cFsodG1wID4+IDQpICYgMHgzRl0gK1xuICAgICAgbG9va3VwWyh0bXAgPDwgMikgJiAweDNGXSArXG4gICAgICAnPSdcbiAgICApXG4gIH1cblxuICByZXR1cm4gcGFydHMuam9pbignJylcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/base64-js/index.js\n");

/***/ }),

/***/ "./node_modules/bootstrap/dist/js/bootstrap.js":
/*!*****************************************************!*\
  !*** ./node_modules/bootstrap/dist/js/bootstrap.js ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("/*!\n  * Bootstrap v4.6.2 (https://getbootstrap.com/)\n  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)\n  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n  */\n(function (global, factory) {\n   true ? factory(exports, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\"), __webpack_require__(/*! popper.js */ \"./node_modules/popper.js/dist/esm/popper.js\")) :\n  0;\n})(this, (function (exports, $, Popper) { 'use strict';\n\n  function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\n  var $__default = /*#__PURE__*/_interopDefaultLegacy($);\n  var Popper__default = /*#__PURE__*/_interopDefaultLegacy(Popper);\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    Object.defineProperty(Constructor, \"prototype\", {\n      writable: false\n    });\n    return Constructor;\n  }\n\n  function _extends() {\n    _extends = Object.assign ? Object.assign.bind() : function (target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n\n      return target;\n    };\n    return _extends.apply(this, arguments);\n  }\n\n  function _inheritsLoose(subClass, superClass) {\n    subClass.prototype = Object.create(superClass.prototype);\n    subClass.prototype.constructor = subClass;\n\n    _setPrototypeOf(subClass, superClass);\n  }\n\n  function _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n    return _setPrototypeOf(o, p);\n  }\n\n  /**\n   * --------------------------------------------------------------------------\n   * Bootstrap (v4.6.2): util.js\n   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n   * --------------------------------------------------------------------------\n   */\n  /**\n   * Private TransitionEnd Helpers\n   */\n\n  var TRANSITION_END = 'transitionend';\n  var MAX_UID = 1000000;\n  var MILLISECONDS_MULTIPLIER = 1000; // Shoutout AngusCroll (https://goo.gl/pxwQGp)\n\n  function toType(obj) {\n    if (obj === null || typeof obj === 'undefined') {\n      return \"\" + obj;\n    }\n\n    return {}.toString.call(obj).match(/\\s([a-z]+)/i)[1].toLowerCase();\n  }\n\n  function getSpecialTransitionEndEvent() {\n    return {\n      bindType: TRANSITION_END,\n      delegateType: TRANSITION_END,\n      handle: function handle(event) {\n        if ($__default[\"default\"](event.target).is(this)) {\n          return event.handleObj.handler.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        }\n\n        return undefined;\n      }\n    };\n  }\n\n  function transitionEndEmulator(duration) {\n    var _this = this;\n\n    var called = false;\n    $__default[\"default\"](this).one(Util.TRANSITION_END, function () {\n      called = true;\n    });\n    setTimeout(function () {\n      if (!called) {\n        Util.triggerTransitionEnd(_this);\n      }\n    }, duration);\n    return this;\n  }\n\n  function setTransitionEndSupport() {\n    $__default[\"default\"].fn.emulateTransitionEnd = transitionEndEmulator;\n    $__default[\"default\"].event.special[Util.TRANSITION_END] = getSpecialTransitionEndEvent();\n  }\n  /**\n   * Public Util API\n   */\n\n\n  var Util = {\n    TRANSITION_END: 'bsTransitionEnd',\n    getUID: function getUID(prefix) {\n      do {\n        // eslint-disable-next-line no-bitwise\n        prefix += ~~(Math.random() * MAX_UID); // \"~~\" acts like a faster Math.floor() here\n      } while (document.getElementById(prefix));\n\n      return prefix;\n    },\n    getSelectorFromElement: function getSelectorFromElement(element) {\n      var selector = element.getAttribute('data-target');\n\n      if (!selector || selector === '#') {\n        var hrefAttr = element.getAttribute('href');\n        selector = hrefAttr && hrefAttr !== '#' ? hrefAttr.trim() : '';\n      }\n\n      try {\n        return document.querySelector(selector) ? selector : null;\n      } catch (_) {\n        return null;\n      }\n    },\n    getTransitionDurationFromElement: function getTransitionDurationFromElement(element) {\n      if (!element) {\n        return 0;\n      } // Get transition-duration of the element\n\n\n      var transitionDuration = $__default[\"default\"](element).css('transition-duration');\n      var transitionDelay = $__default[\"default\"](element).css('transition-delay');\n      var floatTransitionDuration = parseFloat(transitionDuration);\n      var floatTransitionDelay = parseFloat(transitionDelay); // Return 0 if element or transition duration is not found\n\n      if (!floatTransitionDuration && !floatTransitionDelay) {\n        return 0;\n      } // If multiple durations are defined, take the first\n\n\n      transitionDuration = transitionDuration.split(',')[0];\n      transitionDelay = transitionDelay.split(',')[0];\n      return (parseFloat(transitionDuration) + parseFloat(transitionDelay)) * MILLISECONDS_MULTIPLIER;\n    },\n    reflow: function reflow(element) {\n      return element.offsetHeight;\n    },\n    triggerTransitionEnd: function triggerTransitionEnd(element) {\n      $__default[\"default\"](element).trigger(TRANSITION_END);\n    },\n    supportsTransitionEnd: function supportsTransitionEnd() {\n      return Boolean(TRANSITION_END);\n    },\n    isElement: function isElement(obj) {\n      return (obj[0] || obj).nodeType;\n    },\n    typeCheckConfig: function typeCheckConfig(componentName, config, configTypes) {\n      for (var property in configTypes) {\n        if (Object.prototype.hasOwnProperty.call(configTypes, property)) {\n          var expectedTypes = configTypes[property];\n          var value = config[property];\n          var valueType = value && Util.isElement(value) ? 'element' : toType(value);\n\n          if (!new RegExp(expectedTypes).test(valueType)) {\n            throw new Error(componentName.toUpperCase() + \": \" + (\"Option \\\"\" + property + \"\\\" provided type \\\"\" + valueType + \"\\\" \") + (\"but expected type \\\"\" + expectedTypes + \"\\\".\"));\n          }\n        }\n      }\n    },\n    findShadowRoot: function findShadowRoot(element) {\n      if (!document.documentElement.attachShadow) {\n        return null;\n      } // Can find the shadow root otherwise it'll return the document\n\n\n      if (typeof element.getRootNode === 'function') {\n        var root = element.getRootNode();\n        return root instanceof ShadowRoot ? root : null;\n      }\n\n      if (element instanceof ShadowRoot) {\n        return element;\n      } // when we don't find a shadow root\n\n\n      if (!element.parentNode) {\n        return null;\n      }\n\n      return Util.findShadowRoot(element.parentNode);\n    },\n    jQueryDetection: function jQueryDetection() {\n      if (typeof $__default[\"default\"] === 'undefined') {\n        throw new TypeError('Bootstrap\\'s JavaScript requires jQuery. jQuery must be included before Bootstrap\\'s JavaScript.');\n      }\n\n      var version = $__default[\"default\"].fn.jquery.split(' ')[0].split('.');\n      var minMajor = 1;\n      var ltMajor = 2;\n      var minMinor = 9;\n      var minPatch = 1;\n      var maxMajor = 4;\n\n      if (version[0] < ltMajor && version[1] < minMinor || version[0] === minMajor && version[1] === minMinor && version[2] < minPatch || version[0] >= maxMajor) {\n        throw new Error('Bootstrap\\'s JavaScript requires at least jQuery v1.9.1 but less than v4.0.0');\n      }\n    }\n  };\n  Util.jQueryDetection();\n  setTransitionEndSupport();\n\n  /**\n   * Constants\n   */\n\n  var NAME$a = 'alert';\n  var VERSION$a = '4.6.2';\n  var DATA_KEY$a = 'bs.alert';\n  var EVENT_KEY$a = \".\" + DATA_KEY$a;\n  var DATA_API_KEY$7 = '.data-api';\n  var JQUERY_NO_CONFLICT$a = $__default[\"default\"].fn[NAME$a];\n  var CLASS_NAME_ALERT = 'alert';\n  var CLASS_NAME_FADE$5 = 'fade';\n  var CLASS_NAME_SHOW$7 = 'show';\n  var EVENT_CLOSE = \"close\" + EVENT_KEY$a;\n  var EVENT_CLOSED = \"closed\" + EVENT_KEY$a;\n  var EVENT_CLICK_DATA_API$6 = \"click\" + EVENT_KEY$a + DATA_API_KEY$7;\n  var SELECTOR_DISMISS = '[data-dismiss=\"alert\"]';\n  /**\n   * Class definition\n   */\n\n  var Alert = /*#__PURE__*/function () {\n    function Alert(element) {\n      this._element = element;\n    } // Getters\n\n\n    var _proto = Alert.prototype;\n\n    // Public\n    _proto.close = function close(element) {\n      var rootElement = this._element;\n\n      if (element) {\n        rootElement = this._getRootElement(element);\n      }\n\n      var customEvent = this._triggerCloseEvent(rootElement);\n\n      if (customEvent.isDefaultPrevented()) {\n        return;\n      }\n\n      this._removeElement(rootElement);\n    };\n\n    _proto.dispose = function dispose() {\n      $__default[\"default\"].removeData(this._element, DATA_KEY$a);\n      this._element = null;\n    } // Private\n    ;\n\n    _proto._getRootElement = function _getRootElement(element) {\n      var selector = Util.getSelectorFromElement(element);\n      var parent = false;\n\n      if (selector) {\n        parent = document.querySelector(selector);\n      }\n\n      if (!parent) {\n        parent = $__default[\"default\"](element).closest(\".\" + CLASS_NAME_ALERT)[0];\n      }\n\n      return parent;\n    };\n\n    _proto._triggerCloseEvent = function _triggerCloseEvent(element) {\n      var closeEvent = $__default[\"default\"].Event(EVENT_CLOSE);\n      $__default[\"default\"](element).trigger(closeEvent);\n      return closeEvent;\n    };\n\n    _proto._removeElement = function _removeElement(element) {\n      var _this = this;\n\n      $__default[\"default\"](element).removeClass(CLASS_NAME_SHOW$7);\n\n      if (!$__default[\"default\"](element).hasClass(CLASS_NAME_FADE$5)) {\n        this._destroyElement(element);\n\n        return;\n      }\n\n      var transitionDuration = Util.getTransitionDurationFromElement(element);\n      $__default[\"default\"](element).one(Util.TRANSITION_END, function (event) {\n        return _this._destroyElement(element, event);\n      }).emulateTransitionEnd(transitionDuration);\n    };\n\n    _proto._destroyElement = function _destroyElement(element) {\n      $__default[\"default\"](element).detach().trigger(EVENT_CLOSED).remove();\n    } // Static\n    ;\n\n    Alert._jQueryInterface = function _jQueryInterface(config) {\n      return this.each(function () {\n        var $element = $__default[\"default\"](this);\n        var data = $element.data(DATA_KEY$a);\n\n        if (!data) {\n          data = new Alert(this);\n          $element.data(DATA_KEY$a, data);\n        }\n\n        if (config === 'close') {\n          data[config](this);\n        }\n      });\n    };\n\n    Alert._handleDismiss = function _handleDismiss(alertInstance) {\n      return function (event) {\n        if (event) {\n          event.preventDefault();\n        }\n\n        alertInstance.close(this);\n      };\n    };\n\n    _createClass(Alert, null, [{\n      key: \"VERSION\",\n      get: function get() {\n        return VERSION$a;\n      }\n    }]);\n\n    return Alert;\n  }();\n  /**\n   * Data API implementation\n   */\n\n\n  $__default[\"default\"](document).on(EVENT_CLICK_DATA_API$6, SELECTOR_DISMISS, Alert._handleDismiss(new Alert()));\n  /**\n   * jQuery\n   */\n\n  $__default[\"default\"].fn[NAME$a] = Alert._jQueryInterface;\n  $__default[\"default\"].fn[NAME$a].Constructor = Alert;\n\n  $__default[\"default\"].fn[NAME$a].noConflict = function () {\n    $__default[\"default\"].fn[NAME$a] = JQUERY_NO_CONFLICT$a;\n    return Alert._jQueryInterface;\n  };\n\n  /**\n   * Constants\n   */\n\n  var NAME$9 = 'button';\n  var VERSION$9 = '4.6.2';\n  var DATA_KEY$9 = 'bs.button';\n  var EVENT_KEY$9 = \".\" + DATA_KEY$9;\n  var DATA_API_KEY$6 = '.data-api';\n  var JQUERY_NO_CONFLICT$9 = $__default[\"default\"].fn[NAME$9];\n  var CLASS_NAME_ACTIVE$3 = 'active';\n  var CLASS_NAME_BUTTON = 'btn';\n  var CLASS_NAME_FOCUS = 'focus';\n  var EVENT_CLICK_DATA_API$5 = \"click\" + EVENT_KEY$9 + DATA_API_KEY$6;\n  var EVENT_FOCUS_BLUR_DATA_API = \"focus\" + EVENT_KEY$9 + DATA_API_KEY$6 + \" \" + (\"blur\" + EVENT_KEY$9 + DATA_API_KEY$6);\n  var EVENT_LOAD_DATA_API$2 = \"load\" + EVENT_KEY$9 + DATA_API_KEY$6;\n  var SELECTOR_DATA_TOGGLE_CARROT = '[data-toggle^=\"button\"]';\n  var SELECTOR_DATA_TOGGLES = '[data-toggle=\"buttons\"]';\n  var SELECTOR_DATA_TOGGLE$4 = '[data-toggle=\"button\"]';\n  var SELECTOR_DATA_TOGGLES_BUTTONS = '[data-toggle=\"buttons\"] .btn';\n  var SELECTOR_INPUT = 'input:not([type=\"hidden\"])';\n  var SELECTOR_ACTIVE$2 = '.active';\n  var SELECTOR_BUTTON = '.btn';\n  /**\n   * Class definition\n   */\n\n  var Button = /*#__PURE__*/function () {\n    function Button(element) {\n      this._element = element;\n      this.shouldAvoidTriggerChange = false;\n    } // Getters\n\n\n    var _proto = Button.prototype;\n\n    // Public\n    _proto.toggle = function toggle() {\n      var triggerChangeEvent = true;\n      var addAriaPressed = true;\n      var rootElement = $__default[\"default\"](this._element).closest(SELECTOR_DATA_TOGGLES)[0];\n\n      if (rootElement) {\n        var input = this._element.querySelector(SELECTOR_INPUT);\n\n        if (input) {\n          if (input.type === 'radio') {\n            if (input.checked && this._element.classList.contains(CLASS_NAME_ACTIVE$3)) {\n              triggerChangeEvent = false;\n            } else {\n              var activeElement = rootElement.querySelector(SELECTOR_ACTIVE$2);\n\n              if (activeElement) {\n                $__default[\"default\"](activeElement).removeClass(CLASS_NAME_ACTIVE$3);\n              }\n            }\n          }\n\n          if (triggerChangeEvent) {\n            // if it's not a radio button or checkbox don't add a pointless/invalid checked property to the input\n            if (input.type === 'checkbox' || input.type === 'radio') {\n              input.checked = !this._element.classList.contains(CLASS_NAME_ACTIVE$3);\n            }\n\n            if (!this.shouldAvoidTriggerChange) {\n              $__default[\"default\"](input).trigger('change');\n            }\n          }\n\n          input.focus();\n          addAriaPressed = false;\n        }\n      }\n\n      if (!(this._element.hasAttribute('disabled') || this._element.classList.contains('disabled'))) {\n        if (addAriaPressed) {\n          this._element.setAttribute('aria-pressed', !this._element.classList.contains(CLASS_NAME_ACTIVE$3));\n        }\n\n        if (triggerChangeEvent) {\n          $__default[\"default\"](this._element).toggleClass(CLASS_NAME_ACTIVE$3);\n        }\n      }\n    };\n\n    _proto.dispose = function dispose() {\n      $__default[\"default\"].removeData(this._element, DATA_KEY$9);\n      this._element = null;\n    } // Static\n    ;\n\n    Button._jQueryInterface = function _jQueryInterface(config, avoidTriggerChange) {\n      return this.each(function () {\n        var $element = $__default[\"default\"](this);\n        var data = $element.data(DATA_KEY$9);\n\n        if (!data) {\n          data = new Button(this);\n          $element.data(DATA_KEY$9, data);\n        }\n\n        data.shouldAvoidTriggerChange = avoidTriggerChange;\n\n        if (config === 'toggle') {\n          data[config]();\n        }\n      });\n    };\n\n    _createClass(Button, null, [{\n      key: \"VERSION\",\n      get: function get() {\n        return VERSION$9;\n      }\n    }]);\n\n    return Button;\n  }();\n  /**\n   * Data API implementation\n   */\n\n\n  $__default[\"default\"](document).on(EVENT_CLICK_DATA_API$5, SELECTOR_DATA_TOGGLE_CARROT, function (event) {\n    var button = event.target;\n    var initialButton = button;\n\n    if (!$__default[\"default\"](button).hasClass(CLASS_NAME_BUTTON)) {\n      button = $__default[\"default\"](button).closest(SELECTOR_BUTTON)[0];\n    }\n\n    if (!button || button.hasAttribute('disabled') || button.classList.contains('disabled')) {\n      event.preventDefault(); // work around Firefox bug #1540995\n    } else {\n      var inputBtn = button.querySelector(SELECTOR_INPUT);\n\n      if (inputBtn && (inputBtn.hasAttribute('disabled') || inputBtn.classList.contains('disabled'))) {\n        event.preventDefault(); // work around Firefox bug #1540995\n\n        return;\n      }\n\n      if (initialButton.tagName === 'INPUT' || button.tagName !== 'LABEL') {\n        Button._jQueryInterface.call($__default[\"default\"](button), 'toggle', initialButton.tagName === 'INPUT');\n      }\n    }\n  }).on(EVENT_FOCUS_BLUR_DATA_API, SELECTOR_DATA_TOGGLE_CARROT, function (event) {\n    var button = $__default[\"default\"](event.target).closest(SELECTOR_BUTTON)[0];\n    $__default[\"default\"](button).toggleClass(CLASS_NAME_FOCUS, /^focus(in)?$/.test(event.type));\n  });\n  $__default[\"default\"](window).on(EVENT_LOAD_DATA_API$2, function () {\n    // ensure correct active class is set to match the controls' actual values/states\n    // find all checkboxes/readio buttons inside data-toggle groups\n    var buttons = [].slice.call(document.querySelectorAll(SELECTOR_DATA_TOGGLES_BUTTONS));\n\n    for (var i = 0, len = buttons.length; i < len; i++) {\n      var button = buttons[i];\n      var input = button.querySelector(SELECTOR_INPUT);\n\n      if (input.checked || input.hasAttribute('checked')) {\n        button.classList.add(CLASS_NAME_ACTIVE$3);\n      } else {\n        button.classList.remove(CLASS_NAME_ACTIVE$3);\n      }\n    } // find all button toggles\n\n\n    buttons = [].slice.call(document.querySelectorAll(SELECTOR_DATA_TOGGLE$4));\n\n    for (var _i = 0, _len = buttons.length; _i < _len; _i++) {\n      var _button = buttons[_i];\n\n      if (_button.getAttribute('aria-pressed') === 'true') {\n        _button.classList.add(CLASS_NAME_ACTIVE$3);\n      } else {\n        _button.classList.remove(CLASS_NAME_ACTIVE$3);\n      }\n    }\n  });\n  /**\n   * jQuery\n   */\n\n  $__default[\"default\"].fn[NAME$9] = Button._jQueryInterface;\n  $__default[\"default\"].fn[NAME$9].Constructor = Button;\n\n  $__default[\"default\"].fn[NAME$9].noConflict = function () {\n    $__default[\"default\"].fn[NAME$9] = JQUERY_NO_CONFLICT$9;\n    return Button._jQueryInterface;\n  };\n\n  /**\n   * Constants\n   */\n\n  var NAME$8 = 'carousel';\n  var VERSION$8 = '4.6.2';\n  var DATA_KEY$8 = 'bs.carousel';\n  var EVENT_KEY$8 = \".\" + DATA_KEY$8;\n  var DATA_API_KEY$5 = '.data-api';\n  var JQUERY_NO_CONFLICT$8 = $__default[\"default\"].fn[NAME$8];\n  var ARROW_LEFT_KEYCODE = 37; // KeyboardEvent.which value for left arrow key\n\n  var ARROW_RIGHT_KEYCODE = 39; // KeyboardEvent.which value for right arrow key\n\n  var TOUCHEVENT_COMPAT_WAIT = 500; // Time for mouse compat events to fire after touch\n\n  var SWIPE_THRESHOLD = 40;\n  var CLASS_NAME_CAROUSEL = 'carousel';\n  var CLASS_NAME_ACTIVE$2 = 'active';\n  var CLASS_NAME_SLIDE = 'slide';\n  var CLASS_NAME_RIGHT = 'carousel-item-right';\n  var CLASS_NAME_LEFT = 'carousel-item-left';\n  var CLASS_NAME_NEXT = 'carousel-item-next';\n  var CLASS_NAME_PREV = 'carousel-item-prev';\n  var CLASS_NAME_POINTER_EVENT = 'pointer-event';\n  var DIRECTION_NEXT = 'next';\n  var DIRECTION_PREV = 'prev';\n  var DIRECTION_LEFT = 'left';\n  var DIRECTION_RIGHT = 'right';\n  var EVENT_SLIDE = \"slide\" + EVENT_KEY$8;\n  var EVENT_SLID = \"slid\" + EVENT_KEY$8;\n  var EVENT_KEYDOWN = \"keydown\" + EVENT_KEY$8;\n  var EVENT_MOUSEENTER = \"mouseenter\" + EVENT_KEY$8;\n  var EVENT_MOUSELEAVE = \"mouseleave\" + EVENT_KEY$8;\n  var EVENT_TOUCHSTART = \"touchstart\" + EVENT_KEY$8;\n  var EVENT_TOUCHMOVE = \"touchmove\" + EVENT_KEY$8;\n  var EVENT_TOUCHEND = \"touchend\" + EVENT_KEY$8;\n  var EVENT_POINTERDOWN = \"pointerdown\" + EVENT_KEY$8;\n  var EVENT_POINTERUP = \"pointerup\" + EVENT_KEY$8;\n  var EVENT_DRAG_START = \"dragstart\" + EVENT_KEY$8;\n  var EVENT_LOAD_DATA_API$1 = \"load\" + EVENT_KEY$8 + DATA_API_KEY$5;\n  var EVENT_CLICK_DATA_API$4 = \"click\" + EVENT_KEY$8 + DATA_API_KEY$5;\n  var SELECTOR_ACTIVE$1 = '.active';\n  var SELECTOR_ACTIVE_ITEM = '.active.carousel-item';\n  var SELECTOR_ITEM = '.carousel-item';\n  var SELECTOR_ITEM_IMG = '.carousel-item img';\n  var SELECTOR_NEXT_PREV = '.carousel-item-next, .carousel-item-prev';\n  var SELECTOR_INDICATORS = '.carousel-indicators';\n  var SELECTOR_DATA_SLIDE = '[data-slide], [data-slide-to]';\n  var SELECTOR_DATA_RIDE = '[data-ride=\"carousel\"]';\n  var Default$7 = {\n    interval: 5000,\n    keyboard: true,\n    slide: false,\n    pause: 'hover',\n    wrap: true,\n    touch: true\n  };\n  var DefaultType$7 = {\n    interval: '(number|boolean)',\n    keyboard: 'boolean',\n    slide: '(boolean|string)',\n    pause: '(string|boolean)',\n    wrap: 'boolean',\n    touch: 'boolean'\n  };\n  var PointerType = {\n    TOUCH: 'touch',\n    PEN: 'pen'\n  };\n  /**\n   * Class definition\n   */\n\n  var Carousel = /*#__PURE__*/function () {\n    function Carousel(element, config) {\n      this._items = null;\n      this._interval = null;\n      this._activeElement = null;\n      this._isPaused = false;\n      this._isSliding = false;\n      this.touchTimeout = null;\n      this.touchStartX = 0;\n      this.touchDeltaX = 0;\n      this._config = this._getConfig(config);\n      this._element = element;\n      this._indicatorsElement = this._element.querySelector(SELECTOR_INDICATORS);\n      this._touchSupported = 'ontouchstart' in document.documentElement || navigator.maxTouchPoints > 0;\n      this._pointerEvent = Boolean(window.PointerEvent || window.MSPointerEvent);\n\n      this._addEventListeners();\n    } // Getters\n\n\n    var _proto = Carousel.prototype;\n\n    // Public\n    _proto.next = function next() {\n      if (!this._isSliding) {\n        this._slide(DIRECTION_NEXT);\n      }\n    };\n\n    _proto.nextWhenVisible = function nextWhenVisible() {\n      var $element = $__default[\"default\"](this._element); // Don't call next when the page isn't visible\n      // or the carousel or its parent isn't visible\n\n      if (!document.hidden && $element.is(':visible') && $element.css('visibility') !== 'hidden') {\n        this.next();\n      }\n    };\n\n    _proto.prev = function prev() {\n      if (!this._isSliding) {\n        this._slide(DIRECTION_PREV);\n      }\n    };\n\n    _proto.pause = function pause(event) {\n      if (!event) {\n        this._isPaused = true;\n      }\n\n      if (this._element.querySelector(SELECTOR_NEXT_PREV)) {\n        Util.triggerTransitionEnd(this._element);\n        this.cycle(true);\n      }\n\n      clearInterval(this._interval);\n      this._interval = null;\n    };\n\n    _proto.cycle = function cycle(event) {\n      if (!event) {\n        this._isPaused = false;\n      }\n\n      if (this._interval) {\n        clearInterval(this._interval);\n        this._interval = null;\n      }\n\n      if (this._config.interval && !this._isPaused) {\n        this._updateInterval();\n\n        this._interval = setInterval((document.visibilityState ? this.nextWhenVisible : this.next).bind(this), this._config.interval);\n      }\n    };\n\n    _proto.to = function to(index) {\n      var _this = this;\n\n      this._activeElement = this._element.querySelector(SELECTOR_ACTIVE_ITEM);\n\n      var activeIndex = this._getItemIndex(this._activeElement);\n\n      if (index > this._items.length - 1 || index < 0) {\n        return;\n      }\n\n      if (this._isSliding) {\n        $__default[\"default\"](this._element).one(EVENT_SLID, function () {\n          return _this.to(index);\n        });\n        return;\n      }\n\n      if (activeIndex === index) {\n        this.pause();\n        this.cycle();\n        return;\n      }\n\n      var direction = index > activeIndex ? DIRECTION_NEXT : DIRECTION_PREV;\n\n      this._slide(direction, this._items[index]);\n    };\n\n    _proto.dispose = function dispose() {\n      $__default[\"default\"](this._element).off(EVENT_KEY$8);\n      $__default[\"default\"].removeData(this._element, DATA_KEY$8);\n      this._items = null;\n      this._config = null;\n      this._element = null;\n      this._interval = null;\n      this._isPaused = null;\n      this._isSliding = null;\n      this._activeElement = null;\n      this._indicatorsElement = null;\n    } // Private\n    ;\n\n    _proto._getConfig = function _getConfig(config) {\n      config = _extends({}, Default$7, config);\n      Util.typeCheckConfig(NAME$8, config, DefaultType$7);\n      return config;\n    };\n\n    _proto._handleSwipe = function _handleSwipe() {\n      var absDeltax = Math.abs(this.touchDeltaX);\n\n      if (absDeltax <= SWIPE_THRESHOLD) {\n        return;\n      }\n\n      var direction = absDeltax / this.touchDeltaX;\n      this.touchDeltaX = 0; // swipe left\n\n      if (direction > 0) {\n        this.prev();\n      } // swipe right\n\n\n      if (direction < 0) {\n        this.next();\n      }\n    };\n\n    _proto._addEventListeners = function _addEventListeners() {\n      var _this2 = this;\n\n      if (this._config.keyboard) {\n        $__default[\"default\"](this._element).on(EVENT_KEYDOWN, function (event) {\n          return _this2._keydown(event);\n        });\n      }\n\n      if (this._config.pause === 'hover') {\n        $__default[\"default\"](this._element).on(EVENT_MOUSEENTER, function (event) {\n          return _this2.pause(event);\n        }).on(EVENT_MOUSELEAVE, function (event) {\n          return _this2.cycle(event);\n        });\n      }\n\n      if (this._config.touch) {\n        this._addTouchEventListeners();\n      }\n    };\n\n    _proto._addTouchEventListeners = function _addTouchEventListeners() {\n      var _this3 = this;\n\n      if (!this._touchSupported) {\n        return;\n      }\n\n      var start = function start(event) {\n        if (_this3._pointerEvent && PointerType[event.originalEvent.pointerType.toUpperCase()]) {\n          _this3.touchStartX = event.originalEvent.clientX;\n        } else if (!_this3._pointerEvent) {\n          _this3.touchStartX = event.originalEvent.touches[0].clientX;\n        }\n      };\n\n      var move = function move(event) {\n        // ensure swiping with one touch and not pinching\n        _this3.touchDeltaX = event.originalEvent.touches && event.originalEvent.touches.length > 1 ? 0 : event.originalEvent.touches[0].clientX - _this3.touchStartX;\n      };\n\n      var end = function end(event) {\n        if (_this3._pointerEvent && PointerType[event.originalEvent.pointerType.toUpperCase()]) {\n          _this3.touchDeltaX = event.originalEvent.clientX - _this3.touchStartX;\n        }\n\n        _this3._handleSwipe();\n\n        if (_this3._config.pause === 'hover') {\n          // If it's a touch-enabled device, mouseenter/leave are fired as\n          // part of the mouse compatibility events on first tap - the carousel\n          // would stop cycling until user tapped out of it;\n          // here, we listen for touchend, explicitly pause the carousel\n          // (as if it's the second time we tap on it, mouseenter compat event\n          // is NOT fired) and after a timeout (to allow for mouse compatibility\n          // events to fire) we explicitly restart cycling\n          _this3.pause();\n\n          if (_this3.touchTimeout) {\n            clearTimeout(_this3.touchTimeout);\n          }\n\n          _this3.touchTimeout = setTimeout(function (event) {\n            return _this3.cycle(event);\n          }, TOUCHEVENT_COMPAT_WAIT + _this3._config.interval);\n        }\n      };\n\n      $__default[\"default\"](this._element.querySelectorAll(SELECTOR_ITEM_IMG)).on(EVENT_DRAG_START, function (e) {\n        return e.preventDefault();\n      });\n\n      if (this._pointerEvent) {\n        $__default[\"default\"](this._element).on(EVENT_POINTERDOWN, function (event) {\n          return start(event);\n        });\n        $__default[\"default\"](this._element).on(EVENT_POINTERUP, function (event) {\n          return end(event);\n        });\n\n        this._element.classList.add(CLASS_NAME_POINTER_EVENT);\n      } else {\n        $__default[\"default\"](this._element).on(EVENT_TOUCHSTART, function (event) {\n          return start(event);\n        });\n        $__default[\"default\"](this._element).on(EVENT_TOUCHMOVE, function (event) {\n          return move(event);\n        });\n        $__default[\"default\"](this._element).on(EVENT_TOUCHEND, function (event) {\n          return end(event);\n        });\n      }\n    };\n\n    _proto._keydown = function _keydown(event) {\n      if (/input|textarea/i.test(event.target.tagName)) {\n        return;\n      }\n\n      switch (event.which) {\n        case ARROW_LEFT_KEYCODE:\n          event.preventDefault();\n          this.prev();\n          break;\n\n        case ARROW_RIGHT_KEYCODE:\n          event.preventDefault();\n          this.next();\n          break;\n      }\n    };\n\n    _proto._getItemIndex = function _getItemIndex(element) {\n      this._items = element && element.parentNode ? [].slice.call(element.parentNode.querySelectorAll(SELECTOR_ITEM)) : [];\n      return this._items.indexOf(element);\n    };\n\n    _proto._getItemByDirection = function _getItemByDirection(direction, activeElement) {\n      var isNextDirection = direction === DIRECTION_NEXT;\n      var isPrevDirection = direction === DIRECTION_PREV;\n\n      var activeIndex = this._getItemIndex(activeElement);\n\n      var lastItemIndex = this._items.length - 1;\n      var isGoingToWrap = isPrevDirection && activeIndex === 0 || isNextDirection && activeIndex === lastItemIndex;\n\n      if (isGoingToWrap && !this._config.wrap) {\n        return activeElement;\n      }\n\n      var delta = direction === DIRECTION_PREV ? -1 : 1;\n      var itemIndex = (activeIndex + delta) % this._items.length;\n      return itemIndex === -1 ? this._items[this._items.length - 1] : this._items[itemIndex];\n    };\n\n    _proto._triggerSlideEvent = function _triggerSlideEvent(relatedTarget, eventDirectionName) {\n      var targetIndex = this._getItemIndex(relatedTarget);\n\n      var fromIndex = this._getItemIndex(this._element.querySelector(SELECTOR_ACTIVE_ITEM));\n\n      var slideEvent = $__default[\"default\"].Event(EVENT_SLIDE, {\n        relatedTarget: relatedTarget,\n        direction: eventDirectionName,\n        from: fromIndex,\n        to: targetIndex\n      });\n      $__default[\"default\"](this._element).trigger(slideEvent);\n      return slideEvent;\n    };\n\n    _proto._setActiveIndicatorElement = function _setActiveIndicatorElement(element) {\n      if (this._indicatorsElement) {\n        var indicators = [].slice.call(this._indicatorsElement.querySelectorAll(SELECTOR_ACTIVE$1));\n        $__default[\"default\"](indicators).removeClass(CLASS_NAME_ACTIVE$2);\n\n        var nextIndicator = this._indicatorsElement.children[this._getItemIndex(element)];\n\n        if (nextIndicator) {\n          $__default[\"default\"](nextIndicator).addClass(CLASS_NAME_ACTIVE$2);\n        }\n      }\n    };\n\n    _proto._updateInterval = function _updateInterval() {\n      var element = this._activeElement || this._element.querySelector(SELECTOR_ACTIVE_ITEM);\n\n      if (!element) {\n        return;\n      }\n\n      var elementInterval = parseInt(element.getAttribute('data-interval'), 10);\n\n      if (elementInterval) {\n        this._config.defaultInterval = this._config.defaultInterval || this._config.interval;\n        this._config.interval = elementInterval;\n      } else {\n        this._config.interval = this._config.defaultInterval || this._config.interval;\n      }\n    };\n\n    _proto._slide = function _slide(direction, element) {\n      var _this4 = this;\n\n      var activeElement = this._element.querySelector(SELECTOR_ACTIVE_ITEM);\n\n      var activeElementIndex = this._getItemIndex(activeElement);\n\n      var nextElement = element || activeElement && this._getItemByDirection(direction, activeElement);\n\n      var nextElementIndex = this._getItemIndex(nextElement);\n\n      var isCycling = Boolean(this._interval);\n      var directionalClassName;\n      var orderClassName;\n      var eventDirectionName;\n\n      if (direction === DIRECTION_NEXT) {\n        directionalClassName = CLASS_NAME_LEFT;\n        orderClassName = CLASS_NAME_NEXT;\n        eventDirectionName = DIRECTION_LEFT;\n      } else {\n        directionalClassName = CLASS_NAME_RIGHT;\n        orderClassName = CLASS_NAME_PREV;\n        eventDirectionName = DIRECTION_RIGHT;\n      }\n\n      if (nextElement && $__default[\"default\"](nextElement).hasClass(CLASS_NAME_ACTIVE$2)) {\n        this._isSliding = false;\n        return;\n      }\n\n      var slideEvent = this._triggerSlideEvent(nextElement, eventDirectionName);\n\n      if (slideEvent.isDefaultPrevented()) {\n        return;\n      }\n\n      if (!activeElement || !nextElement) {\n        // Some weirdness is happening, so we bail\n        return;\n      }\n\n      this._isSliding = true;\n\n      if (isCycling) {\n        this.pause();\n      }\n\n      this._setActiveIndicatorElement(nextElement);\n\n      this._activeElement = nextElement;\n      var slidEvent = $__default[\"default\"].Event(EVENT_SLID, {\n        relatedTarget: nextElement,\n        direction: eventDirectionName,\n        from: activeElementIndex,\n        to: nextElementIndex\n      });\n\n      if ($__default[\"default\"](this._element).hasClass(CLASS_NAME_SLIDE)) {\n        $__default[\"default\"](nextElement).addClass(orderClassName);\n        Util.reflow(nextElement);\n        $__default[\"default\"](activeElement).addClass(directionalClassName);\n        $__default[\"default\"](nextElement).addClass(directionalClassName);\n        var transitionDuration = Util.getTransitionDurationFromElement(activeElement);\n        $__default[\"default\"](activeElement).one(Util.TRANSITION_END, function () {\n          $__default[\"default\"](nextElement).removeClass(directionalClassName + \" \" + orderClassName).addClass(CLASS_NAME_ACTIVE$2);\n          $__default[\"default\"](activeElement).removeClass(CLASS_NAME_ACTIVE$2 + \" \" + orderClassName + \" \" + directionalClassName);\n          _this4._isSliding = false;\n          setTimeout(function () {\n            return $__default[\"default\"](_this4._element).trigger(slidEvent);\n          }, 0);\n        }).emulateTransitionEnd(transitionDuration);\n      } else {\n        $__default[\"default\"](activeElement).removeClass(CLASS_NAME_ACTIVE$2);\n        $__default[\"default\"](nextElement).addClass(CLASS_NAME_ACTIVE$2);\n        this._isSliding = false;\n        $__default[\"default\"](this._element).trigger(slidEvent);\n      }\n\n      if (isCycling) {\n        this.cycle();\n      }\n    } // Static\n    ;\n\n    Carousel._jQueryInterface = function _jQueryInterface(config) {\n      return this.each(function () {\n        var data = $__default[\"default\"](this).data(DATA_KEY$8);\n\n        var _config = _extends({}, Default$7, $__default[\"default\"](this).data());\n\n        if (typeof config === 'object') {\n          _config = _extends({}, _config, config);\n        }\n\n        var action = typeof config === 'string' ? config : _config.slide;\n\n        if (!data) {\n          data = new Carousel(this, _config);\n          $__default[\"default\"](this).data(DATA_KEY$8, data);\n        }\n\n        if (typeof config === 'number') {\n          data.to(config);\n        } else if (typeof action === 'string') {\n          if (typeof data[action] === 'undefined') {\n            throw new TypeError(\"No method named \\\"\" + action + \"\\\"\");\n          }\n\n          data[action]();\n        } else if (_config.interval && _config.ride) {\n          data.pause();\n          data.cycle();\n        }\n      });\n    };\n\n    Carousel._dataApiClickHandler = function _dataApiClickHandler(event) {\n      var selector = Util.getSelectorFromElement(this);\n\n      if (!selector) {\n        return;\n      }\n\n      var target = $__default[\"default\"](selector)[0];\n\n      if (!target || !$__default[\"default\"](target).hasClass(CLASS_NAME_CAROUSEL)) {\n        return;\n      }\n\n      var config = _extends({}, $__default[\"default\"](target).data(), $__default[\"default\"](this).data());\n\n      var slideIndex = this.getAttribute('data-slide-to');\n\n      if (slideIndex) {\n        config.interval = false;\n      }\n\n      Carousel._jQueryInterface.call($__default[\"default\"](target), config);\n\n      if (slideIndex) {\n        $__default[\"default\"](target).data(DATA_KEY$8).to(slideIndex);\n      }\n\n      event.preventDefault();\n    };\n\n    _createClass(Carousel, null, [{\n      key: \"VERSION\",\n      get: function get() {\n        return VERSION$8;\n      }\n    }, {\n      key: \"Default\",\n      get: function get() {\n        return Default$7;\n      }\n    }]);\n\n    return Carousel;\n  }();\n  /**\n   * Data API implementation\n   */\n\n\n  $__default[\"default\"](document).on(EVENT_CLICK_DATA_API$4, SELECTOR_DATA_SLIDE, Carousel._dataApiClickHandler);\n  $__default[\"default\"](window).on(EVENT_LOAD_DATA_API$1, function () {\n    var carousels = [].slice.call(document.querySelectorAll(SELECTOR_DATA_RIDE));\n\n    for (var i = 0, len = carousels.length; i < len; i++) {\n      var $carousel = $__default[\"default\"](carousels[i]);\n\n      Carousel._jQueryInterface.call($carousel, $carousel.data());\n    }\n  });\n  /**\n   * jQuery\n   */\n\n  $__default[\"default\"].fn[NAME$8] = Carousel._jQueryInterface;\n  $__default[\"default\"].fn[NAME$8].Constructor = Carousel;\n\n  $__default[\"default\"].fn[NAME$8].noConflict = function () {\n    $__default[\"default\"].fn[NAME$8] = JQUERY_NO_CONFLICT$8;\n    return Carousel._jQueryInterface;\n  };\n\n  /**\n   * Constants\n   */\n\n  var NAME$7 = 'collapse';\n  var VERSION$7 = '4.6.2';\n  var DATA_KEY$7 = 'bs.collapse';\n  var EVENT_KEY$7 = \".\" + DATA_KEY$7;\n  var DATA_API_KEY$4 = '.data-api';\n  var JQUERY_NO_CONFLICT$7 = $__default[\"default\"].fn[NAME$7];\n  var CLASS_NAME_SHOW$6 = 'show';\n  var CLASS_NAME_COLLAPSE = 'collapse';\n  var CLASS_NAME_COLLAPSING = 'collapsing';\n  var CLASS_NAME_COLLAPSED = 'collapsed';\n  var DIMENSION_WIDTH = 'width';\n  var DIMENSION_HEIGHT = 'height';\n  var EVENT_SHOW$4 = \"show\" + EVENT_KEY$7;\n  var EVENT_SHOWN$4 = \"shown\" + EVENT_KEY$7;\n  var EVENT_HIDE$4 = \"hide\" + EVENT_KEY$7;\n  var EVENT_HIDDEN$4 = \"hidden\" + EVENT_KEY$7;\n  var EVENT_CLICK_DATA_API$3 = \"click\" + EVENT_KEY$7 + DATA_API_KEY$4;\n  var SELECTOR_ACTIVES = '.show, .collapsing';\n  var SELECTOR_DATA_TOGGLE$3 = '[data-toggle=\"collapse\"]';\n  var Default$6 = {\n    toggle: true,\n    parent: ''\n  };\n  var DefaultType$6 = {\n    toggle: 'boolean',\n    parent: '(string|element)'\n  };\n  /**\n   * Class definition\n   */\n\n  var Collapse = /*#__PURE__*/function () {\n    function Collapse(element, config) {\n      this._isTransitioning = false;\n      this._element = element;\n      this._config = this._getConfig(config);\n      this._triggerArray = [].slice.call(document.querySelectorAll(\"[data-toggle=\\\"collapse\\\"][href=\\\"#\" + element.id + \"\\\"],\" + (\"[data-toggle=\\\"collapse\\\"][data-target=\\\"#\" + element.id + \"\\\"]\")));\n      var toggleList = [].slice.call(document.querySelectorAll(SELECTOR_DATA_TOGGLE$3));\n\n      for (var i = 0, len = toggleList.length; i < len; i++) {\n        var elem = toggleList[i];\n        var selector = Util.getSelectorFromElement(elem);\n        var filterElement = [].slice.call(document.querySelectorAll(selector)).filter(function (foundElem) {\n          return foundElem === element;\n        });\n\n        if (selector !== null && filterElement.length > 0) {\n          this._selector = selector;\n\n          this._triggerArray.push(elem);\n        }\n      }\n\n      this._parent = this._config.parent ? this._getParent() : null;\n\n      if (!this._config.parent) {\n        this._addAriaAndCollapsedClass(this._element, this._triggerArray);\n      }\n\n      if (this._config.toggle) {\n        this.toggle();\n      }\n    } // Getters\n\n\n    var _proto = Collapse.prototype;\n\n    // Public\n    _proto.toggle = function toggle() {\n      if ($__default[\"default\"](this._element).hasClass(CLASS_NAME_SHOW$6)) {\n        this.hide();\n      } else {\n        this.show();\n      }\n    };\n\n    _proto.show = function show() {\n      var _this = this;\n\n      if (this._isTransitioning || $__default[\"default\"](this._element).hasClass(CLASS_NAME_SHOW$6)) {\n        return;\n      }\n\n      var actives;\n      var activesData;\n\n      if (this._parent) {\n        actives = [].slice.call(this._parent.querySelectorAll(SELECTOR_ACTIVES)).filter(function (elem) {\n          if (typeof _this._config.parent === 'string') {\n            return elem.getAttribute('data-parent') === _this._config.parent;\n          }\n\n          return elem.classList.contains(CLASS_NAME_COLLAPSE);\n        });\n\n        if (actives.length === 0) {\n          actives = null;\n        }\n      }\n\n      if (actives) {\n        activesData = $__default[\"default\"](actives).not(this._selector).data(DATA_KEY$7);\n\n        if (activesData && activesData._isTransitioning) {\n          return;\n        }\n      }\n\n      var startEvent = $__default[\"default\"].Event(EVENT_SHOW$4);\n      $__default[\"default\"](this._element).trigger(startEvent);\n\n      if (startEvent.isDefaultPrevented()) {\n        return;\n      }\n\n      if (actives) {\n        Collapse._jQueryInterface.call($__default[\"default\"](actives).not(this._selector), 'hide');\n\n        if (!activesData) {\n          $__default[\"default\"](actives).data(DATA_KEY$7, null);\n        }\n      }\n\n      var dimension = this._getDimension();\n\n      $__default[\"default\"](this._element).removeClass(CLASS_NAME_COLLAPSE).addClass(CLASS_NAME_COLLAPSING);\n      this._element.style[dimension] = 0;\n\n      if (this._triggerArray.length) {\n        $__default[\"default\"](this._triggerArray).removeClass(CLASS_NAME_COLLAPSED).attr('aria-expanded', true);\n      }\n\n      this.setTransitioning(true);\n\n      var complete = function complete() {\n        $__default[\"default\"](_this._element).removeClass(CLASS_NAME_COLLAPSING).addClass(CLASS_NAME_COLLAPSE + \" \" + CLASS_NAME_SHOW$6);\n        _this._element.style[dimension] = '';\n\n        _this.setTransitioning(false);\n\n        $__default[\"default\"](_this._element).trigger(EVENT_SHOWN$4);\n      };\n\n      var capitalizedDimension = dimension[0].toUpperCase() + dimension.slice(1);\n      var scrollSize = \"scroll\" + capitalizedDimension;\n      var transitionDuration = Util.getTransitionDurationFromElement(this._element);\n      $__default[\"default\"](this._element).one(Util.TRANSITION_END, complete).emulateTransitionEnd(transitionDuration);\n      this._element.style[dimension] = this._element[scrollSize] + \"px\";\n    };\n\n    _proto.hide = function hide() {\n      var _this2 = this;\n\n      if (this._isTransitioning || !$__default[\"default\"](this._element).hasClass(CLASS_NAME_SHOW$6)) {\n        return;\n      }\n\n      var startEvent = $__default[\"default\"].Event(EVENT_HIDE$4);\n      $__default[\"default\"](this._element).trigger(startEvent);\n\n      if (startEvent.isDefaultPrevented()) {\n        return;\n      }\n\n      var dimension = this._getDimension();\n\n      this._element.style[dimension] = this._element.getBoundingClientRect()[dimension] + \"px\";\n      Util.reflow(this._element);\n      $__default[\"default\"](this._element).addClass(CLASS_NAME_COLLAPSING).removeClass(CLASS_NAME_COLLAPSE + \" \" + CLASS_NAME_SHOW$6);\n      var triggerArrayLength = this._triggerArray.length;\n\n      if (triggerArrayLength > 0) {\n        for (var i = 0; i < triggerArrayLength; i++) {\n          var trigger = this._triggerArray[i];\n          var selector = Util.getSelectorFromElement(trigger);\n\n          if (selector !== null) {\n            var $elem = $__default[\"default\"]([].slice.call(document.querySelectorAll(selector)));\n\n            if (!$elem.hasClass(CLASS_NAME_SHOW$6)) {\n              $__default[\"default\"](trigger).addClass(CLASS_NAME_COLLAPSED).attr('aria-expanded', false);\n            }\n          }\n        }\n      }\n\n      this.setTransitioning(true);\n\n      var complete = function complete() {\n        _this2.setTransitioning(false);\n\n        $__default[\"default\"](_this2._element).removeClass(CLASS_NAME_COLLAPSING).addClass(CLASS_NAME_COLLAPSE).trigger(EVENT_HIDDEN$4);\n      };\n\n      this._element.style[dimension] = '';\n      var transitionDuration = Util.getTransitionDurationFromElement(this._element);\n      $__default[\"default\"](this._element).one(Util.TRANSITION_END, complete).emulateTransitionEnd(transitionDuration);\n    };\n\n    _proto.setTransitioning = function setTransitioning(isTransitioning) {\n      this._isTransitioning = isTransitioning;\n    };\n\n    _proto.dispose = function dispose() {\n      $__default[\"default\"].removeData(this._element, DATA_KEY$7);\n      this._config = null;\n      this._parent = null;\n      this._element = null;\n      this._triggerArray = null;\n      this._isTransitioning = null;\n    } // Private\n    ;\n\n    _proto._getConfig = function _getConfig(config) {\n      config = _extends({}, Default$6, config);\n      config.toggle = Boolean(config.toggle); // Coerce string values\n\n      Util.typeCheckConfig(NAME$7, config, DefaultType$6);\n      return config;\n    };\n\n    _proto._getDimension = function _getDimension() {\n      var hasWidth = $__default[\"default\"](this._element).hasClass(DIMENSION_WIDTH);\n      return hasWidth ? DIMENSION_WIDTH : DIMENSION_HEIGHT;\n    };\n\n    _proto._getParent = function _getParent() {\n      var _this3 = this;\n\n      var parent;\n\n      if (Util.isElement(this._config.parent)) {\n        parent = this._config.parent; // It's a jQuery object\n\n        if (typeof this._config.parent.jquery !== 'undefined') {\n          parent = this._config.parent[0];\n        }\n      } else {\n        parent = document.querySelector(this._config.parent);\n      }\n\n      var selector = \"[data-toggle=\\\"collapse\\\"][data-parent=\\\"\" + this._config.parent + \"\\\"]\";\n      var children = [].slice.call(parent.querySelectorAll(selector));\n      $__default[\"default\"](children).each(function (i, element) {\n        _this3._addAriaAndCollapsedClass(Collapse._getTargetFromElement(element), [element]);\n      });\n      return parent;\n    };\n\n    _proto._addAriaAndCollapsedClass = function _addAriaAndCollapsedClass(element, triggerArray) {\n      var isOpen = $__default[\"default\"](element).hasClass(CLASS_NAME_SHOW$6);\n\n      if (triggerArray.length) {\n        $__default[\"default\"](triggerArray).toggleClass(CLASS_NAME_COLLAPSED, !isOpen).attr('aria-expanded', isOpen);\n      }\n    } // Static\n    ;\n\n    Collapse._getTargetFromElement = function _getTargetFromElement(element) {\n      var selector = Util.getSelectorFromElement(element);\n      return selector ? document.querySelector(selector) : null;\n    };\n\n    Collapse._jQueryInterface = function _jQueryInterface(config) {\n      return this.each(function () {\n        var $element = $__default[\"default\"](this);\n        var data = $element.data(DATA_KEY$7);\n\n        var _config = _extends({}, Default$6, $element.data(), typeof config === 'object' && config ? config : {});\n\n        if (!data && _config.toggle && typeof config === 'string' && /show|hide/.test(config)) {\n          _config.toggle = false;\n        }\n\n        if (!data) {\n          data = new Collapse(this, _config);\n          $element.data(DATA_KEY$7, data);\n        }\n\n        if (typeof config === 'string') {\n          if (typeof data[config] === 'undefined') {\n            throw new TypeError(\"No method named \\\"\" + config + \"\\\"\");\n          }\n\n          data[config]();\n        }\n      });\n    };\n\n    _createClass(Collapse, null, [{\n      key: \"VERSION\",\n      get: function get() {\n        return VERSION$7;\n      }\n    }, {\n      key: \"Default\",\n      get: function get() {\n        return Default$6;\n      }\n    }]);\n\n    return Collapse;\n  }();\n  /**\n   * Data API implementation\n   */\n\n\n  $__default[\"default\"](document).on(EVENT_CLICK_DATA_API$3, SELECTOR_DATA_TOGGLE$3, function (event) {\n    // preventDefault only for <a> elements (which change the URL) not inside the collapsible element\n    if (event.currentTarget.tagName === 'A') {\n      event.preventDefault();\n    }\n\n    var $trigger = $__default[\"default\"](this);\n    var selector = Util.getSelectorFromElement(this);\n    var selectors = [].slice.call(document.querySelectorAll(selector));\n    $__default[\"default\"](selectors).each(function () {\n      var $target = $__default[\"default\"](this);\n      var data = $target.data(DATA_KEY$7);\n      var config = data ? 'toggle' : $trigger.data();\n\n      Collapse._jQueryInterface.call($target, config);\n    });\n  });\n  /**\n   * jQuery\n   */\n\n  $__default[\"default\"].fn[NAME$7] = Collapse._jQueryInterface;\n  $__default[\"default\"].fn[NAME$7].Constructor = Collapse;\n\n  $__default[\"default\"].fn[NAME$7].noConflict = function () {\n    $__default[\"default\"].fn[NAME$7] = JQUERY_NO_CONFLICT$7;\n    return Collapse._jQueryInterface;\n  };\n\n  /**\n   * Constants\n   */\n\n  var NAME$6 = 'dropdown';\n  var VERSION$6 = '4.6.2';\n  var DATA_KEY$6 = 'bs.dropdown';\n  var EVENT_KEY$6 = \".\" + DATA_KEY$6;\n  var DATA_API_KEY$3 = '.data-api';\n  var JQUERY_NO_CONFLICT$6 = $__default[\"default\"].fn[NAME$6];\n  var ESCAPE_KEYCODE$1 = 27; // KeyboardEvent.which value for Escape (Esc) key\n\n  var SPACE_KEYCODE = 32; // KeyboardEvent.which value for space key\n\n  var TAB_KEYCODE = 9; // KeyboardEvent.which value for tab key\n\n  var ARROW_UP_KEYCODE = 38; // KeyboardEvent.which value for up arrow key\n\n  var ARROW_DOWN_KEYCODE = 40; // KeyboardEvent.which value for down arrow key\n\n  var RIGHT_MOUSE_BUTTON_WHICH = 3; // MouseEvent.which value for the right button (assuming a right-handed mouse)\n\n  var REGEXP_KEYDOWN = new RegExp(ARROW_UP_KEYCODE + \"|\" + ARROW_DOWN_KEYCODE + \"|\" + ESCAPE_KEYCODE$1);\n  var CLASS_NAME_DISABLED$1 = 'disabled';\n  var CLASS_NAME_SHOW$5 = 'show';\n  var CLASS_NAME_DROPUP = 'dropup';\n  var CLASS_NAME_DROPRIGHT = 'dropright';\n  var CLASS_NAME_DROPLEFT = 'dropleft';\n  var CLASS_NAME_MENURIGHT = 'dropdown-menu-right';\n  var CLASS_NAME_POSITION_STATIC = 'position-static';\n  var EVENT_HIDE$3 = \"hide\" + EVENT_KEY$6;\n  var EVENT_HIDDEN$3 = \"hidden\" + EVENT_KEY$6;\n  var EVENT_SHOW$3 = \"show\" + EVENT_KEY$6;\n  var EVENT_SHOWN$3 = \"shown\" + EVENT_KEY$6;\n  var EVENT_CLICK = \"click\" + EVENT_KEY$6;\n  var EVENT_CLICK_DATA_API$2 = \"click\" + EVENT_KEY$6 + DATA_API_KEY$3;\n  var EVENT_KEYDOWN_DATA_API = \"keydown\" + EVENT_KEY$6 + DATA_API_KEY$3;\n  var EVENT_KEYUP_DATA_API = \"keyup\" + EVENT_KEY$6 + DATA_API_KEY$3;\n  var SELECTOR_DATA_TOGGLE$2 = '[data-toggle=\"dropdown\"]';\n  var SELECTOR_FORM_CHILD = '.dropdown form';\n  var SELECTOR_MENU = '.dropdown-menu';\n  var SELECTOR_NAVBAR_NAV = '.navbar-nav';\n  var SELECTOR_VISIBLE_ITEMS = '.dropdown-menu .dropdown-item:not(.disabled):not(:disabled)';\n  var PLACEMENT_TOP = 'top-start';\n  var PLACEMENT_TOPEND = 'top-end';\n  var PLACEMENT_BOTTOM = 'bottom-start';\n  var PLACEMENT_BOTTOMEND = 'bottom-end';\n  var PLACEMENT_RIGHT = 'right-start';\n  var PLACEMENT_LEFT = 'left-start';\n  var Default$5 = {\n    offset: 0,\n    flip: true,\n    boundary: 'scrollParent',\n    reference: 'toggle',\n    display: 'dynamic',\n    popperConfig: null\n  };\n  var DefaultType$5 = {\n    offset: '(number|string|function)',\n    flip: 'boolean',\n    boundary: '(string|element)',\n    reference: '(string|element)',\n    display: 'string',\n    popperConfig: '(null|object)'\n  };\n  /**\n   * Class definition\n   */\n\n  var Dropdown = /*#__PURE__*/function () {\n    function Dropdown(element, config) {\n      this._element = element;\n      this._popper = null;\n      this._config = this._getConfig(config);\n      this._menu = this._getMenuElement();\n      this._inNavbar = this._detectNavbar();\n\n      this._addEventListeners();\n    } // Getters\n\n\n    var _proto = Dropdown.prototype;\n\n    // Public\n    _proto.toggle = function toggle() {\n      if (this._element.disabled || $__default[\"default\"](this._element).hasClass(CLASS_NAME_DISABLED$1)) {\n        return;\n      }\n\n      var isActive = $__default[\"default\"](this._menu).hasClass(CLASS_NAME_SHOW$5);\n\n      Dropdown._clearMenus();\n\n      if (isActive) {\n        return;\n      }\n\n      this.show(true);\n    };\n\n    _proto.show = function show(usePopper) {\n      if (usePopper === void 0) {\n        usePopper = false;\n      }\n\n      if (this._element.disabled || $__default[\"default\"](this._element).hasClass(CLASS_NAME_DISABLED$1) || $__default[\"default\"](this._menu).hasClass(CLASS_NAME_SHOW$5)) {\n        return;\n      }\n\n      var relatedTarget = {\n        relatedTarget: this._element\n      };\n      var showEvent = $__default[\"default\"].Event(EVENT_SHOW$3, relatedTarget);\n\n      var parent = Dropdown._getParentFromElement(this._element);\n\n      $__default[\"default\"](parent).trigger(showEvent);\n\n      if (showEvent.isDefaultPrevented()) {\n        return;\n      } // Totally disable Popper for Dropdowns in Navbar\n\n\n      if (!this._inNavbar && usePopper) {\n        // Check for Popper dependency\n        if (typeof Popper__default[\"default\"] === 'undefined') {\n          throw new TypeError('Bootstrap\\'s dropdowns require Popper (https://popper.js.org)');\n        }\n\n        var referenceElement = this._element;\n\n        if (this._config.reference === 'parent') {\n          referenceElement = parent;\n        } else if (Util.isElement(this._config.reference)) {\n          referenceElement = this._config.reference; // Check if it's jQuery element\n\n          if (typeof this._config.reference.jquery !== 'undefined') {\n            referenceElement = this._config.reference[0];\n          }\n        } // If boundary is not `scrollParent`, then set position to `static`\n        // to allow the menu to \"escape\" the scroll parent's boundaries\n        // https://github.com/twbs/bootstrap/issues/24251\n\n\n        if (this._config.boundary !== 'scrollParent') {\n          $__default[\"default\"](parent).addClass(CLASS_NAME_POSITION_STATIC);\n        }\n\n        this._popper = new Popper__default[\"default\"](referenceElement, this._menu, this._getPopperConfig());\n      } // If this is a touch-enabled device we add extra\n      // empty mouseover listeners to the body's immediate children;\n      // only needed because of broken event delegation on iOS\n      // https://www.quirksmode.org/blog/archives/2014/02/mouse_event_bub.html\n\n\n      if ('ontouchstart' in document.documentElement && $__default[\"default\"](parent).closest(SELECTOR_NAVBAR_NAV).length === 0) {\n        $__default[\"default\"](document.body).children().on('mouseover', null, $__default[\"default\"].noop);\n      }\n\n      this._element.focus();\n\n      this._element.setAttribute('aria-expanded', true);\n\n      $__default[\"default\"](this._menu).toggleClass(CLASS_NAME_SHOW$5);\n      $__default[\"default\"](parent).toggleClass(CLASS_NAME_SHOW$5).trigger($__default[\"default\"].Event(EVENT_SHOWN$3, relatedTarget));\n    };\n\n    _proto.hide = function hide() {\n      if (this._element.disabled || $__default[\"default\"](this._element).hasClass(CLASS_NAME_DISABLED$1) || !$__default[\"default\"](this._menu).hasClass(CLASS_NAME_SHOW$5)) {\n        return;\n      }\n\n      var relatedTarget = {\n        relatedTarget: this._element\n      };\n      var hideEvent = $__default[\"default\"].Event(EVENT_HIDE$3, relatedTarget);\n\n      var parent = Dropdown._getParentFromElement(this._element);\n\n      $__default[\"default\"](parent).trigger(hideEvent);\n\n      if (hideEvent.isDefaultPrevented()) {\n        return;\n      }\n\n      if (this._popper) {\n        this._popper.destroy();\n      }\n\n      $__default[\"default\"](this._menu).toggleClass(CLASS_NAME_SHOW$5);\n      $__default[\"default\"](parent).toggleClass(CLASS_NAME_SHOW$5).trigger($__default[\"default\"].Event(EVENT_HIDDEN$3, relatedTarget));\n    };\n\n    _proto.dispose = function dispose() {\n      $__default[\"default\"].removeData(this._element, DATA_KEY$6);\n      $__default[\"default\"](this._element).off(EVENT_KEY$6);\n      this._element = null;\n      this._menu = null;\n\n      if (this._popper !== null) {\n        this._popper.destroy();\n\n        this._popper = null;\n      }\n    };\n\n    _proto.update = function update() {\n      this._inNavbar = this._detectNavbar();\n\n      if (this._popper !== null) {\n        this._popper.scheduleUpdate();\n      }\n    } // Private\n    ;\n\n    _proto._addEventListeners = function _addEventListeners() {\n      var _this = this;\n\n      $__default[\"default\"](this._element).on(EVENT_CLICK, function (event) {\n        event.preventDefault();\n        event.stopPropagation();\n\n        _this.toggle();\n      });\n    };\n\n    _proto._getConfig = function _getConfig(config) {\n      config = _extends({}, this.constructor.Default, $__default[\"default\"](this._element).data(), config);\n      Util.typeCheckConfig(NAME$6, config, this.constructor.DefaultType);\n      return config;\n    };\n\n    _proto._getMenuElement = function _getMenuElement() {\n      if (!this._menu) {\n        var parent = Dropdown._getParentFromElement(this._element);\n\n        if (parent) {\n          this._menu = parent.querySelector(SELECTOR_MENU);\n        }\n      }\n\n      return this._menu;\n    };\n\n    _proto._getPlacement = function _getPlacement() {\n      var $parentDropdown = $__default[\"default\"](this._element.parentNode);\n      var placement = PLACEMENT_BOTTOM; // Handle dropup\n\n      if ($parentDropdown.hasClass(CLASS_NAME_DROPUP)) {\n        placement = $__default[\"default\"](this._menu).hasClass(CLASS_NAME_MENURIGHT) ? PLACEMENT_TOPEND : PLACEMENT_TOP;\n      } else if ($parentDropdown.hasClass(CLASS_NAME_DROPRIGHT)) {\n        placement = PLACEMENT_RIGHT;\n      } else if ($parentDropdown.hasClass(CLASS_NAME_DROPLEFT)) {\n        placement = PLACEMENT_LEFT;\n      } else if ($__default[\"default\"](this._menu).hasClass(CLASS_NAME_MENURIGHT)) {\n        placement = PLACEMENT_BOTTOMEND;\n      }\n\n      return placement;\n    };\n\n    _proto._detectNavbar = function _detectNavbar() {\n      return $__default[\"default\"](this._element).closest('.navbar').length > 0;\n    };\n\n    _proto._getOffset = function _getOffset() {\n      var _this2 = this;\n\n      var offset = {};\n\n      if (typeof this._config.offset === 'function') {\n        offset.fn = function (data) {\n          data.offsets = _extends({}, data.offsets, _this2._config.offset(data.offsets, _this2._element));\n          return data;\n        };\n      } else {\n        offset.offset = this._config.offset;\n      }\n\n      return offset;\n    };\n\n    _proto._getPopperConfig = function _getPopperConfig() {\n      var popperConfig = {\n        placement: this._getPlacement(),\n        modifiers: {\n          offset: this._getOffset(),\n          flip: {\n            enabled: this._config.flip\n          },\n          preventOverflow: {\n            boundariesElement: this._config.boundary\n          }\n        }\n      }; // Disable Popper if we have a static display\n\n      if (this._config.display === 'static') {\n        popperConfig.modifiers.applyStyle = {\n          enabled: false\n        };\n      }\n\n      return _extends({}, popperConfig, this._config.popperConfig);\n    } // Static\n    ;\n\n    Dropdown._jQueryInterface = function _jQueryInterface(config) {\n      return this.each(function () {\n        var data = $__default[\"default\"](this).data(DATA_KEY$6);\n\n        var _config = typeof config === 'object' ? config : null;\n\n        if (!data) {\n          data = new Dropdown(this, _config);\n          $__default[\"default\"](this).data(DATA_KEY$6, data);\n        }\n\n        if (typeof config === 'string') {\n          if (typeof data[config] === 'undefined') {\n            throw new TypeError(\"No method named \\\"\" + config + \"\\\"\");\n          }\n\n          data[config]();\n        }\n      });\n    };\n\n    Dropdown._clearMenus = function _clearMenus(event) {\n      if (event && (event.which === RIGHT_MOUSE_BUTTON_WHICH || event.type === 'keyup' && event.which !== TAB_KEYCODE)) {\n        return;\n      }\n\n      var toggles = [].slice.call(document.querySelectorAll(SELECTOR_DATA_TOGGLE$2));\n\n      for (var i = 0, len = toggles.length; i < len; i++) {\n        var parent = Dropdown._getParentFromElement(toggles[i]);\n\n        var context = $__default[\"default\"](toggles[i]).data(DATA_KEY$6);\n        var relatedTarget = {\n          relatedTarget: toggles[i]\n        };\n\n        if (event && event.type === 'click') {\n          relatedTarget.clickEvent = event;\n        }\n\n        if (!context) {\n          continue;\n        }\n\n        var dropdownMenu = context._menu;\n\n        if (!$__default[\"default\"](parent).hasClass(CLASS_NAME_SHOW$5)) {\n          continue;\n        }\n\n        if (event && (event.type === 'click' && /input|textarea/i.test(event.target.tagName) || event.type === 'keyup' && event.which === TAB_KEYCODE) && $__default[\"default\"].contains(parent, event.target)) {\n          continue;\n        }\n\n        var hideEvent = $__default[\"default\"].Event(EVENT_HIDE$3, relatedTarget);\n        $__default[\"default\"](parent).trigger(hideEvent);\n\n        if (hideEvent.isDefaultPrevented()) {\n          continue;\n        } // If this is a touch-enabled device we remove the extra\n        // empty mouseover listeners we added for iOS support\n\n\n        if ('ontouchstart' in document.documentElement) {\n          $__default[\"default\"](document.body).children().off('mouseover', null, $__default[\"default\"].noop);\n        }\n\n        toggles[i].setAttribute('aria-expanded', 'false');\n\n        if (context._popper) {\n          context._popper.destroy();\n        }\n\n        $__default[\"default\"](dropdownMenu).removeClass(CLASS_NAME_SHOW$5);\n        $__default[\"default\"](parent).removeClass(CLASS_NAME_SHOW$5).trigger($__default[\"default\"].Event(EVENT_HIDDEN$3, relatedTarget));\n      }\n    };\n\n    Dropdown._getParentFromElement = function _getParentFromElement(element) {\n      var parent;\n      var selector = Util.getSelectorFromElement(element);\n\n      if (selector) {\n        parent = document.querySelector(selector);\n      }\n\n      return parent || element.parentNode;\n    } // eslint-disable-next-line complexity\n    ;\n\n    Dropdown._dataApiKeydownHandler = function _dataApiKeydownHandler(event) {\n      // If not input/textarea:\n      //  - And not a key in REGEXP_KEYDOWN => not a dropdown command\n      // If input/textarea:\n      //  - If space key => not a dropdown command\n      //  - If key is other than escape\n      //    - If key is not up or down => not a dropdown command\n      //    - If trigger inside the menu => not a dropdown command\n      if (/input|textarea/i.test(event.target.tagName) ? event.which === SPACE_KEYCODE || event.which !== ESCAPE_KEYCODE$1 && (event.which !== ARROW_DOWN_KEYCODE && event.which !== ARROW_UP_KEYCODE || $__default[\"default\"](event.target).closest(SELECTOR_MENU).length) : !REGEXP_KEYDOWN.test(event.which)) {\n        return;\n      }\n\n      if (this.disabled || $__default[\"default\"](this).hasClass(CLASS_NAME_DISABLED$1)) {\n        return;\n      }\n\n      var parent = Dropdown._getParentFromElement(this);\n\n      var isActive = $__default[\"default\"](parent).hasClass(CLASS_NAME_SHOW$5);\n\n      if (!isActive && event.which === ESCAPE_KEYCODE$1) {\n        return;\n      }\n\n      event.preventDefault();\n      event.stopPropagation();\n\n      if (!isActive || event.which === ESCAPE_KEYCODE$1 || event.which === SPACE_KEYCODE) {\n        if (event.which === ESCAPE_KEYCODE$1) {\n          $__default[\"default\"](parent.querySelector(SELECTOR_DATA_TOGGLE$2)).trigger('focus');\n        }\n\n        $__default[\"default\"](this).trigger('click');\n        return;\n      }\n\n      var items = [].slice.call(parent.querySelectorAll(SELECTOR_VISIBLE_ITEMS)).filter(function (item) {\n        return $__default[\"default\"](item).is(':visible');\n      });\n\n      if (items.length === 0) {\n        return;\n      }\n\n      var index = items.indexOf(event.target);\n\n      if (event.which === ARROW_UP_KEYCODE && index > 0) {\n        // Up\n        index--;\n      }\n\n      if (event.which === ARROW_DOWN_KEYCODE && index < items.length - 1) {\n        // Down\n        index++;\n      }\n\n      if (index < 0) {\n        index = 0;\n      }\n\n      items[index].focus();\n    };\n\n    _createClass(Dropdown, null, [{\n      key: \"VERSION\",\n      get: function get() {\n        return VERSION$6;\n      }\n    }, {\n      key: \"Default\",\n      get: function get() {\n        return Default$5;\n      }\n    }, {\n      key: \"DefaultType\",\n      get: function get() {\n        return DefaultType$5;\n      }\n    }]);\n\n    return Dropdown;\n  }();\n  /**\n   * Data API implementation\n   */\n\n\n  $__default[\"default\"](document).on(EVENT_KEYDOWN_DATA_API, SELECTOR_DATA_TOGGLE$2, Dropdown._dataApiKeydownHandler).on(EVENT_KEYDOWN_DATA_API, SELECTOR_MENU, Dropdown._dataApiKeydownHandler).on(EVENT_CLICK_DATA_API$2 + \" \" + EVENT_KEYUP_DATA_API, Dropdown._clearMenus).on(EVENT_CLICK_DATA_API$2, SELECTOR_DATA_TOGGLE$2, function (event) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    Dropdown._jQueryInterface.call($__default[\"default\"](this), 'toggle');\n  }).on(EVENT_CLICK_DATA_API$2, SELECTOR_FORM_CHILD, function (e) {\n    e.stopPropagation();\n  });\n  /**\n   * jQuery\n   */\n\n  $__default[\"default\"].fn[NAME$6] = Dropdown._jQueryInterface;\n  $__default[\"default\"].fn[NAME$6].Constructor = Dropdown;\n\n  $__default[\"default\"].fn[NAME$6].noConflict = function () {\n    $__default[\"default\"].fn[NAME$6] = JQUERY_NO_CONFLICT$6;\n    return Dropdown._jQueryInterface;\n  };\n\n  /**\n   * Constants\n   */\n\n  var NAME$5 = 'modal';\n  var VERSION$5 = '4.6.2';\n  var DATA_KEY$5 = 'bs.modal';\n  var EVENT_KEY$5 = \".\" + DATA_KEY$5;\n  var DATA_API_KEY$2 = '.data-api';\n  var JQUERY_NO_CONFLICT$5 = $__default[\"default\"].fn[NAME$5];\n  var ESCAPE_KEYCODE = 27; // KeyboardEvent.which value for Escape (Esc) key\n\n  var CLASS_NAME_SCROLLABLE = 'modal-dialog-scrollable';\n  var CLASS_NAME_SCROLLBAR_MEASURER = 'modal-scrollbar-measure';\n  var CLASS_NAME_BACKDROP = 'modal-backdrop';\n  var CLASS_NAME_OPEN = 'modal-open';\n  var CLASS_NAME_FADE$4 = 'fade';\n  var CLASS_NAME_SHOW$4 = 'show';\n  var CLASS_NAME_STATIC = 'modal-static';\n  var EVENT_HIDE$2 = \"hide\" + EVENT_KEY$5;\n  var EVENT_HIDE_PREVENTED = \"hidePrevented\" + EVENT_KEY$5;\n  var EVENT_HIDDEN$2 = \"hidden\" + EVENT_KEY$5;\n  var EVENT_SHOW$2 = \"show\" + EVENT_KEY$5;\n  var EVENT_SHOWN$2 = \"shown\" + EVENT_KEY$5;\n  var EVENT_FOCUSIN = \"focusin\" + EVENT_KEY$5;\n  var EVENT_RESIZE = \"resize\" + EVENT_KEY$5;\n  var EVENT_CLICK_DISMISS$1 = \"click.dismiss\" + EVENT_KEY$5;\n  var EVENT_KEYDOWN_DISMISS = \"keydown.dismiss\" + EVENT_KEY$5;\n  var EVENT_MOUSEUP_DISMISS = \"mouseup.dismiss\" + EVENT_KEY$5;\n  var EVENT_MOUSEDOWN_DISMISS = \"mousedown.dismiss\" + EVENT_KEY$5;\n  var EVENT_CLICK_DATA_API$1 = \"click\" + EVENT_KEY$5 + DATA_API_KEY$2;\n  var SELECTOR_DIALOG = '.modal-dialog';\n  var SELECTOR_MODAL_BODY = '.modal-body';\n  var SELECTOR_DATA_TOGGLE$1 = '[data-toggle=\"modal\"]';\n  var SELECTOR_DATA_DISMISS$1 = '[data-dismiss=\"modal\"]';\n  var SELECTOR_FIXED_CONTENT = '.fixed-top, .fixed-bottom, .is-fixed, .sticky-top';\n  var SELECTOR_STICKY_CONTENT = '.sticky-top';\n  var Default$4 = {\n    backdrop: true,\n    keyboard: true,\n    focus: true,\n    show: true\n  };\n  var DefaultType$4 = {\n    backdrop: '(boolean|string)',\n    keyboard: 'boolean',\n    focus: 'boolean',\n    show: 'boolean'\n  };\n  /**\n   * Class definition\n   */\n\n  var Modal = /*#__PURE__*/function () {\n    function Modal(element, config) {\n      this._config = this._getConfig(config);\n      this._element = element;\n      this._dialog = element.querySelector(SELECTOR_DIALOG);\n      this._backdrop = null;\n      this._isShown = false;\n      this._isBodyOverflowing = false;\n      this._ignoreBackdropClick = false;\n      this._isTransitioning = false;\n      this._scrollbarWidth = 0;\n    } // Getters\n\n\n    var _proto = Modal.prototype;\n\n    // Public\n    _proto.toggle = function toggle(relatedTarget) {\n      return this._isShown ? this.hide() : this.show(relatedTarget);\n    };\n\n    _proto.show = function show(relatedTarget) {\n      var _this = this;\n\n      if (this._isShown || this._isTransitioning) {\n        return;\n      }\n\n      var showEvent = $__default[\"default\"].Event(EVENT_SHOW$2, {\n        relatedTarget: relatedTarget\n      });\n      $__default[\"default\"](this._element).trigger(showEvent);\n\n      if (showEvent.isDefaultPrevented()) {\n        return;\n      }\n\n      this._isShown = true;\n\n      if ($__default[\"default\"](this._element).hasClass(CLASS_NAME_FADE$4)) {\n        this._isTransitioning = true;\n      }\n\n      this._checkScrollbar();\n\n      this._setScrollbar();\n\n      this._adjustDialog();\n\n      this._setEscapeEvent();\n\n      this._setResizeEvent();\n\n      $__default[\"default\"](this._element).on(EVENT_CLICK_DISMISS$1, SELECTOR_DATA_DISMISS$1, function (event) {\n        return _this.hide(event);\n      });\n      $__default[\"default\"](this._dialog).on(EVENT_MOUSEDOWN_DISMISS, function () {\n        $__default[\"default\"](_this._element).one(EVENT_MOUSEUP_DISMISS, function (event) {\n          if ($__default[\"default\"](event.target).is(_this._element)) {\n            _this._ignoreBackdropClick = true;\n          }\n        });\n      });\n\n      this._showBackdrop(function () {\n        return _this._showElement(relatedTarget);\n      });\n    };\n\n    _proto.hide = function hide(event) {\n      var _this2 = this;\n\n      if (event) {\n        event.preventDefault();\n      }\n\n      if (!this._isShown || this._isTransitioning) {\n        return;\n      }\n\n      var hideEvent = $__default[\"default\"].Event(EVENT_HIDE$2);\n      $__default[\"default\"](this._element).trigger(hideEvent);\n\n      if (!this._isShown || hideEvent.isDefaultPrevented()) {\n        return;\n      }\n\n      this._isShown = false;\n      var transition = $__default[\"default\"](this._element).hasClass(CLASS_NAME_FADE$4);\n\n      if (transition) {\n        this._isTransitioning = true;\n      }\n\n      this._setEscapeEvent();\n\n      this._setResizeEvent();\n\n      $__default[\"default\"](document).off(EVENT_FOCUSIN);\n      $__default[\"default\"](this._element).removeClass(CLASS_NAME_SHOW$4);\n      $__default[\"default\"](this._element).off(EVENT_CLICK_DISMISS$1);\n      $__default[\"default\"](this._dialog).off(EVENT_MOUSEDOWN_DISMISS);\n\n      if (transition) {\n        var transitionDuration = Util.getTransitionDurationFromElement(this._element);\n        $__default[\"default\"](this._element).one(Util.TRANSITION_END, function (event) {\n          return _this2._hideModal(event);\n        }).emulateTransitionEnd(transitionDuration);\n      } else {\n        this._hideModal();\n      }\n    };\n\n    _proto.dispose = function dispose() {\n      [window, this._element, this._dialog].forEach(function (htmlElement) {\n        return $__default[\"default\"](htmlElement).off(EVENT_KEY$5);\n      });\n      /**\n       * `document` has 2 events `EVENT_FOCUSIN` and `EVENT_CLICK_DATA_API`\n       * Do not move `document` in `htmlElements` array\n       * It will remove `EVENT_CLICK_DATA_API` event that should remain\n       */\n\n      $__default[\"default\"](document).off(EVENT_FOCUSIN);\n      $__default[\"default\"].removeData(this._element, DATA_KEY$5);\n      this._config = null;\n      this._element = null;\n      this._dialog = null;\n      this._backdrop = null;\n      this._isShown = null;\n      this._isBodyOverflowing = null;\n      this._ignoreBackdropClick = null;\n      this._isTransitioning = null;\n      this._scrollbarWidth = null;\n    };\n\n    _proto.handleUpdate = function handleUpdate() {\n      this._adjustDialog();\n    } // Private\n    ;\n\n    _proto._getConfig = function _getConfig(config) {\n      config = _extends({}, Default$4, config);\n      Util.typeCheckConfig(NAME$5, config, DefaultType$4);\n      return config;\n    };\n\n    _proto._triggerBackdropTransition = function _triggerBackdropTransition() {\n      var _this3 = this;\n\n      var hideEventPrevented = $__default[\"default\"].Event(EVENT_HIDE_PREVENTED);\n      $__default[\"default\"](this._element).trigger(hideEventPrevented);\n\n      if (hideEventPrevented.isDefaultPrevented()) {\n        return;\n      }\n\n      var isModalOverflowing = this._element.scrollHeight > document.documentElement.clientHeight;\n\n      if (!isModalOverflowing) {\n        this._element.style.overflowY = 'hidden';\n      }\n\n      this._element.classList.add(CLASS_NAME_STATIC);\n\n      var modalTransitionDuration = Util.getTransitionDurationFromElement(this._dialog);\n      $__default[\"default\"](this._element).off(Util.TRANSITION_END);\n      $__default[\"default\"](this._element).one(Util.TRANSITION_END, function () {\n        _this3._element.classList.remove(CLASS_NAME_STATIC);\n\n        if (!isModalOverflowing) {\n          $__default[\"default\"](_this3._element).one(Util.TRANSITION_END, function () {\n            _this3._element.style.overflowY = '';\n          }).emulateTransitionEnd(_this3._element, modalTransitionDuration);\n        }\n      }).emulateTransitionEnd(modalTransitionDuration);\n\n      this._element.focus();\n    };\n\n    _proto._showElement = function _showElement(relatedTarget) {\n      var _this4 = this;\n\n      var transition = $__default[\"default\"](this._element).hasClass(CLASS_NAME_FADE$4);\n      var modalBody = this._dialog ? this._dialog.querySelector(SELECTOR_MODAL_BODY) : null;\n\n      if (!this._element.parentNode || this._element.parentNode.nodeType !== Node.ELEMENT_NODE) {\n        // Don't move modal's DOM position\n        document.body.appendChild(this._element);\n      }\n\n      this._element.style.display = 'block';\n\n      this._element.removeAttribute('aria-hidden');\n\n      this._element.setAttribute('aria-modal', true);\n\n      this._element.setAttribute('role', 'dialog');\n\n      if ($__default[\"default\"](this._dialog).hasClass(CLASS_NAME_SCROLLABLE) && modalBody) {\n        modalBody.scrollTop = 0;\n      } else {\n        this._element.scrollTop = 0;\n      }\n\n      if (transition) {\n        Util.reflow(this._element);\n      }\n\n      $__default[\"default\"](this._element).addClass(CLASS_NAME_SHOW$4);\n\n      if (this._config.focus) {\n        this._enforceFocus();\n      }\n\n      var shownEvent = $__default[\"default\"].Event(EVENT_SHOWN$2, {\n        relatedTarget: relatedTarget\n      });\n\n      var transitionComplete = function transitionComplete() {\n        if (_this4._config.focus) {\n          _this4._element.focus();\n        }\n\n        _this4._isTransitioning = false;\n        $__default[\"default\"](_this4._element).trigger(shownEvent);\n      };\n\n      if (transition) {\n        var transitionDuration = Util.getTransitionDurationFromElement(this._dialog);\n        $__default[\"default\"](this._dialog).one(Util.TRANSITION_END, transitionComplete).emulateTransitionEnd(transitionDuration);\n      } else {\n        transitionComplete();\n      }\n    };\n\n    _proto._enforceFocus = function _enforceFocus() {\n      var _this5 = this;\n\n      $__default[\"default\"](document).off(EVENT_FOCUSIN) // Guard against infinite focus loop\n      .on(EVENT_FOCUSIN, function (event) {\n        if (document !== event.target && _this5._element !== event.target && $__default[\"default\"](_this5._element).has(event.target).length === 0) {\n          _this5._element.focus();\n        }\n      });\n    };\n\n    _proto._setEscapeEvent = function _setEscapeEvent() {\n      var _this6 = this;\n\n      if (this._isShown) {\n        $__default[\"default\"](this._element).on(EVENT_KEYDOWN_DISMISS, function (event) {\n          if (_this6._config.keyboard && event.which === ESCAPE_KEYCODE) {\n            event.preventDefault();\n\n            _this6.hide();\n          } else if (!_this6._config.keyboard && event.which === ESCAPE_KEYCODE) {\n            _this6._triggerBackdropTransition();\n          }\n        });\n      } else if (!this._isShown) {\n        $__default[\"default\"](this._element).off(EVENT_KEYDOWN_DISMISS);\n      }\n    };\n\n    _proto._setResizeEvent = function _setResizeEvent() {\n      var _this7 = this;\n\n      if (this._isShown) {\n        $__default[\"default\"](window).on(EVENT_RESIZE, function (event) {\n          return _this7.handleUpdate(event);\n        });\n      } else {\n        $__default[\"default\"](window).off(EVENT_RESIZE);\n      }\n    };\n\n    _proto._hideModal = function _hideModal() {\n      var _this8 = this;\n\n      this._element.style.display = 'none';\n\n      this._element.setAttribute('aria-hidden', true);\n\n      this._element.removeAttribute('aria-modal');\n\n      this._element.removeAttribute('role');\n\n      this._isTransitioning = false;\n\n      this._showBackdrop(function () {\n        $__default[\"default\"](document.body).removeClass(CLASS_NAME_OPEN);\n\n        _this8._resetAdjustments();\n\n        _this8._resetScrollbar();\n\n        $__default[\"default\"](_this8._element).trigger(EVENT_HIDDEN$2);\n      });\n    };\n\n    _proto._removeBackdrop = function _removeBackdrop() {\n      if (this._backdrop) {\n        $__default[\"default\"](this._backdrop).remove();\n        this._backdrop = null;\n      }\n    };\n\n    _proto._showBackdrop = function _showBackdrop(callback) {\n      var _this9 = this;\n\n      var animate = $__default[\"default\"](this._element).hasClass(CLASS_NAME_FADE$4) ? CLASS_NAME_FADE$4 : '';\n\n      if (this._isShown && this._config.backdrop) {\n        this._backdrop = document.createElement('div');\n        this._backdrop.className = CLASS_NAME_BACKDROP;\n\n        if (animate) {\n          this._backdrop.classList.add(animate);\n        }\n\n        $__default[\"default\"](this._backdrop).appendTo(document.body);\n        $__default[\"default\"](this._element).on(EVENT_CLICK_DISMISS$1, function (event) {\n          if (_this9._ignoreBackdropClick) {\n            _this9._ignoreBackdropClick = false;\n            return;\n          }\n\n          if (event.target !== event.currentTarget) {\n            return;\n          }\n\n          if (_this9._config.backdrop === 'static') {\n            _this9._triggerBackdropTransition();\n          } else {\n            _this9.hide();\n          }\n        });\n\n        if (animate) {\n          Util.reflow(this._backdrop);\n        }\n\n        $__default[\"default\"](this._backdrop).addClass(CLASS_NAME_SHOW$4);\n\n        if (!callback) {\n          return;\n        }\n\n        if (!animate) {\n          callback();\n          return;\n        }\n\n        var backdropTransitionDuration = Util.getTransitionDurationFromElement(this._backdrop);\n        $__default[\"default\"](this._backdrop).one(Util.TRANSITION_END, callback).emulateTransitionEnd(backdropTransitionDuration);\n      } else if (!this._isShown && this._backdrop) {\n        $__default[\"default\"](this._backdrop).removeClass(CLASS_NAME_SHOW$4);\n\n        var callbackRemove = function callbackRemove() {\n          _this9._removeBackdrop();\n\n          if (callback) {\n            callback();\n          }\n        };\n\n        if ($__default[\"default\"](this._element).hasClass(CLASS_NAME_FADE$4)) {\n          var _backdropTransitionDuration = Util.getTransitionDurationFromElement(this._backdrop);\n\n          $__default[\"default\"](this._backdrop).one(Util.TRANSITION_END, callbackRemove).emulateTransitionEnd(_backdropTransitionDuration);\n        } else {\n          callbackRemove();\n        }\n      } else if (callback) {\n        callback();\n      }\n    } // ----------------------------------------------------------------------\n    // the following methods are used to handle overflowing modals\n    // todo (fat): these should probably be refactored out of modal.js\n    // ----------------------------------------------------------------------\n    ;\n\n    _proto._adjustDialog = function _adjustDialog() {\n      var isModalOverflowing = this._element.scrollHeight > document.documentElement.clientHeight;\n\n      if (!this._isBodyOverflowing && isModalOverflowing) {\n        this._element.style.paddingLeft = this._scrollbarWidth + \"px\";\n      }\n\n      if (this._isBodyOverflowing && !isModalOverflowing) {\n        this._element.style.paddingRight = this._scrollbarWidth + \"px\";\n      }\n    };\n\n    _proto._resetAdjustments = function _resetAdjustments() {\n      this._element.style.paddingLeft = '';\n      this._element.style.paddingRight = '';\n    };\n\n    _proto._checkScrollbar = function _checkScrollbar() {\n      var rect = document.body.getBoundingClientRect();\n      this._isBodyOverflowing = Math.round(rect.left + rect.right) < window.innerWidth;\n      this._scrollbarWidth = this._getScrollbarWidth();\n    };\n\n    _proto._setScrollbar = function _setScrollbar() {\n      var _this10 = this;\n\n      if (this._isBodyOverflowing) {\n        // Note: DOMNode.style.paddingRight returns the actual value or '' if not set\n        //   while $(DOMNode).css('padding-right') returns the calculated value or 0 if not set\n        var fixedContent = [].slice.call(document.querySelectorAll(SELECTOR_FIXED_CONTENT));\n        var stickyContent = [].slice.call(document.querySelectorAll(SELECTOR_STICKY_CONTENT)); // Adjust fixed content padding\n\n        $__default[\"default\"](fixedContent).each(function (index, element) {\n          var actualPadding = element.style.paddingRight;\n          var calculatedPadding = $__default[\"default\"](element).css('padding-right');\n          $__default[\"default\"](element).data('padding-right', actualPadding).css('padding-right', parseFloat(calculatedPadding) + _this10._scrollbarWidth + \"px\");\n        }); // Adjust sticky content margin\n\n        $__default[\"default\"](stickyContent).each(function (index, element) {\n          var actualMargin = element.style.marginRight;\n          var calculatedMargin = $__default[\"default\"](element).css('margin-right');\n          $__default[\"default\"](element).data('margin-right', actualMargin).css('margin-right', parseFloat(calculatedMargin) - _this10._scrollbarWidth + \"px\");\n        }); // Adjust body padding\n\n        var actualPadding = document.body.style.paddingRight;\n        var calculatedPadding = $__default[\"default\"](document.body).css('padding-right');\n        $__default[\"default\"](document.body).data('padding-right', actualPadding).css('padding-right', parseFloat(calculatedPadding) + this._scrollbarWidth + \"px\");\n      }\n\n      $__default[\"default\"](document.body).addClass(CLASS_NAME_OPEN);\n    };\n\n    _proto._resetScrollbar = function _resetScrollbar() {\n      // Restore fixed content padding\n      var fixedContent = [].slice.call(document.querySelectorAll(SELECTOR_FIXED_CONTENT));\n      $__default[\"default\"](fixedContent).each(function (index, element) {\n        var padding = $__default[\"default\"](element).data('padding-right');\n        $__default[\"default\"](element).removeData('padding-right');\n        element.style.paddingRight = padding ? padding : '';\n      }); // Restore sticky content\n\n      var elements = [].slice.call(document.querySelectorAll(\"\" + SELECTOR_STICKY_CONTENT));\n      $__default[\"default\"](elements).each(function (index, element) {\n        var margin = $__default[\"default\"](element).data('margin-right');\n\n        if (typeof margin !== 'undefined') {\n          $__default[\"default\"](element).css('margin-right', margin).removeData('margin-right');\n        }\n      }); // Restore body padding\n\n      var padding = $__default[\"default\"](document.body).data('padding-right');\n      $__default[\"default\"](document.body).removeData('padding-right');\n      document.body.style.paddingRight = padding ? padding : '';\n    };\n\n    _proto._getScrollbarWidth = function _getScrollbarWidth() {\n      // thx d.walsh\n      var scrollDiv = document.createElement('div');\n      scrollDiv.className = CLASS_NAME_SCROLLBAR_MEASURER;\n      document.body.appendChild(scrollDiv);\n      var scrollbarWidth = scrollDiv.getBoundingClientRect().width - scrollDiv.clientWidth;\n      document.body.removeChild(scrollDiv);\n      return scrollbarWidth;\n    } // Static\n    ;\n\n    Modal._jQueryInterface = function _jQueryInterface(config, relatedTarget) {\n      return this.each(function () {\n        var data = $__default[\"default\"](this).data(DATA_KEY$5);\n\n        var _config = _extends({}, Default$4, $__default[\"default\"](this).data(), typeof config === 'object' && config ? config : {});\n\n        if (!data) {\n          data = new Modal(this, _config);\n          $__default[\"default\"](this).data(DATA_KEY$5, data);\n        }\n\n        if (typeof config === 'string') {\n          if (typeof data[config] === 'undefined') {\n            throw new TypeError(\"No method named \\\"\" + config + \"\\\"\");\n          }\n\n          data[config](relatedTarget);\n        } else if (_config.show) {\n          data.show(relatedTarget);\n        }\n      });\n    };\n\n    _createClass(Modal, null, [{\n      key: \"VERSION\",\n      get: function get() {\n        return VERSION$5;\n      }\n    }, {\n      key: \"Default\",\n      get: function get() {\n        return Default$4;\n      }\n    }]);\n\n    return Modal;\n  }();\n  /**\n   * Data API implementation\n   */\n\n\n  $__default[\"default\"](document).on(EVENT_CLICK_DATA_API$1, SELECTOR_DATA_TOGGLE$1, function (event) {\n    var _this11 = this;\n\n    var target;\n    var selector = Util.getSelectorFromElement(this);\n\n    if (selector) {\n      target = document.querySelector(selector);\n    }\n\n    var config = $__default[\"default\"](target).data(DATA_KEY$5) ? 'toggle' : _extends({}, $__default[\"default\"](target).data(), $__default[\"default\"](this).data());\n\n    if (this.tagName === 'A' || this.tagName === 'AREA') {\n      event.preventDefault();\n    }\n\n    var $target = $__default[\"default\"](target).one(EVENT_SHOW$2, function (showEvent) {\n      if (showEvent.isDefaultPrevented()) {\n        // Only register focus restorer if modal will actually get shown\n        return;\n      }\n\n      $target.one(EVENT_HIDDEN$2, function () {\n        if ($__default[\"default\"](_this11).is(':visible')) {\n          _this11.focus();\n        }\n      });\n    });\n\n    Modal._jQueryInterface.call($__default[\"default\"](target), config, this);\n  });\n  /**\n   * jQuery\n   */\n\n  $__default[\"default\"].fn[NAME$5] = Modal._jQueryInterface;\n  $__default[\"default\"].fn[NAME$5].Constructor = Modal;\n\n  $__default[\"default\"].fn[NAME$5].noConflict = function () {\n    $__default[\"default\"].fn[NAME$5] = JQUERY_NO_CONFLICT$5;\n    return Modal._jQueryInterface;\n  };\n\n  /**\n   * --------------------------------------------------------------------------\n   * Bootstrap (v4.6.2): tools/sanitizer.js\n   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n   * --------------------------------------------------------------------------\n   */\n  var uriAttrs = ['background', 'cite', 'href', 'itemtype', 'longdesc', 'poster', 'src', 'xlink:href'];\n  var ARIA_ATTRIBUTE_PATTERN = /^aria-[\\w-]*$/i;\n  var DefaultWhitelist = {\n    // Global attributes allowed on any supplied element below.\n    '*': ['class', 'dir', 'id', 'lang', 'role', ARIA_ATTRIBUTE_PATTERN],\n    a: ['target', 'href', 'title', 'rel'],\n    area: [],\n    b: [],\n    br: [],\n    col: [],\n    code: [],\n    div: [],\n    em: [],\n    hr: [],\n    h1: [],\n    h2: [],\n    h3: [],\n    h4: [],\n    h5: [],\n    h6: [],\n    i: [],\n    img: ['src', 'srcset', 'alt', 'title', 'width', 'height'],\n    li: [],\n    ol: [],\n    p: [],\n    pre: [],\n    s: [],\n    small: [],\n    span: [],\n    sub: [],\n    sup: [],\n    strong: [],\n    u: [],\n    ul: []\n  };\n  /**\n   * A pattern that recognizes a commonly useful subset of URLs that are safe.\n   *\n   * Shoutout to Angular https://github.com/angular/angular/blob/12.2.x/packages/core/src/sanitization/url_sanitizer.ts\n   */\n\n  var SAFE_URL_PATTERN = /^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i;\n  /**\n   * A pattern that matches safe data URLs. Only matches image, video and audio types.\n   *\n   * Shoutout to Angular https://github.com/angular/angular/blob/12.2.x/packages/core/src/sanitization/url_sanitizer.ts\n   */\n\n  var DATA_URL_PATTERN = /^data:(?:image\\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\\/(?:mpeg|mp4|ogg|webm)|audio\\/(?:mp3|oga|ogg|opus));base64,[\\d+/a-z]+=*$/i;\n\n  function allowedAttribute(attr, allowedAttributeList) {\n    var attrName = attr.nodeName.toLowerCase();\n\n    if (allowedAttributeList.indexOf(attrName) !== -1) {\n      if (uriAttrs.indexOf(attrName) !== -1) {\n        return Boolean(SAFE_URL_PATTERN.test(attr.nodeValue) || DATA_URL_PATTERN.test(attr.nodeValue));\n      }\n\n      return true;\n    }\n\n    var regExp = allowedAttributeList.filter(function (attrRegex) {\n      return attrRegex instanceof RegExp;\n    }); // Check if a regular expression validates the attribute.\n\n    for (var i = 0, len = regExp.length; i < len; i++) {\n      if (regExp[i].test(attrName)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  function sanitizeHtml(unsafeHtml, whiteList, sanitizeFn) {\n    if (unsafeHtml.length === 0) {\n      return unsafeHtml;\n    }\n\n    if (sanitizeFn && typeof sanitizeFn === 'function') {\n      return sanitizeFn(unsafeHtml);\n    }\n\n    var domParser = new window.DOMParser();\n    var createdDocument = domParser.parseFromString(unsafeHtml, 'text/html');\n    var whitelistKeys = Object.keys(whiteList);\n    var elements = [].slice.call(createdDocument.body.querySelectorAll('*'));\n\n    var _loop = function _loop(i, len) {\n      var el = elements[i];\n      var elName = el.nodeName.toLowerCase();\n\n      if (whitelistKeys.indexOf(el.nodeName.toLowerCase()) === -1) {\n        el.parentNode.removeChild(el);\n        return \"continue\";\n      }\n\n      var attributeList = [].slice.call(el.attributes); // eslint-disable-next-line unicorn/prefer-spread\n\n      var whitelistedAttributes = [].concat(whiteList['*'] || [], whiteList[elName] || []);\n      attributeList.forEach(function (attr) {\n        if (!allowedAttribute(attr, whitelistedAttributes)) {\n          el.removeAttribute(attr.nodeName);\n        }\n      });\n    };\n\n    for (var i = 0, len = elements.length; i < len; i++) {\n      var _ret = _loop(i);\n\n      if (_ret === \"continue\") continue;\n    }\n\n    return createdDocument.body.innerHTML;\n  }\n\n  /**\n   * Constants\n   */\n\n  var NAME$4 = 'tooltip';\n  var VERSION$4 = '4.6.2';\n  var DATA_KEY$4 = 'bs.tooltip';\n  var EVENT_KEY$4 = \".\" + DATA_KEY$4;\n  var JQUERY_NO_CONFLICT$4 = $__default[\"default\"].fn[NAME$4];\n  var CLASS_PREFIX$1 = 'bs-tooltip';\n  var BSCLS_PREFIX_REGEX$1 = new RegExp(\"(^|\\\\s)\" + CLASS_PREFIX$1 + \"\\\\S+\", 'g');\n  var DISALLOWED_ATTRIBUTES = ['sanitize', 'whiteList', 'sanitizeFn'];\n  var CLASS_NAME_FADE$3 = 'fade';\n  var CLASS_NAME_SHOW$3 = 'show';\n  var HOVER_STATE_SHOW = 'show';\n  var HOVER_STATE_OUT = 'out';\n  var SELECTOR_TOOLTIP_INNER = '.tooltip-inner';\n  var SELECTOR_ARROW = '.arrow';\n  var TRIGGER_HOVER = 'hover';\n  var TRIGGER_FOCUS = 'focus';\n  var TRIGGER_CLICK = 'click';\n  var TRIGGER_MANUAL = 'manual';\n  var AttachmentMap = {\n    AUTO: 'auto',\n    TOP: 'top',\n    RIGHT: 'right',\n    BOTTOM: 'bottom',\n    LEFT: 'left'\n  };\n  var Default$3 = {\n    animation: true,\n    template: '<div class=\"tooltip\" role=\"tooltip\">' + '<div class=\"arrow\"></div>' + '<div class=\"tooltip-inner\"></div></div>',\n    trigger: 'hover focus',\n    title: '',\n    delay: 0,\n    html: false,\n    selector: false,\n    placement: 'top',\n    offset: 0,\n    container: false,\n    fallbackPlacement: 'flip',\n    boundary: 'scrollParent',\n    customClass: '',\n    sanitize: true,\n    sanitizeFn: null,\n    whiteList: DefaultWhitelist,\n    popperConfig: null\n  };\n  var DefaultType$3 = {\n    animation: 'boolean',\n    template: 'string',\n    title: '(string|element|function)',\n    trigger: 'string',\n    delay: '(number|object)',\n    html: 'boolean',\n    selector: '(string|boolean)',\n    placement: '(string|function)',\n    offset: '(number|string|function)',\n    container: '(string|element|boolean)',\n    fallbackPlacement: '(string|array)',\n    boundary: '(string|element)',\n    customClass: '(string|function)',\n    sanitize: 'boolean',\n    sanitizeFn: '(null|function)',\n    whiteList: 'object',\n    popperConfig: '(null|object)'\n  };\n  var Event$1 = {\n    HIDE: \"hide\" + EVENT_KEY$4,\n    HIDDEN: \"hidden\" + EVENT_KEY$4,\n    SHOW: \"show\" + EVENT_KEY$4,\n    SHOWN: \"shown\" + EVENT_KEY$4,\n    INSERTED: \"inserted\" + EVENT_KEY$4,\n    CLICK: \"click\" + EVENT_KEY$4,\n    FOCUSIN: \"focusin\" + EVENT_KEY$4,\n    FOCUSOUT: \"focusout\" + EVENT_KEY$4,\n    MOUSEENTER: \"mouseenter\" + EVENT_KEY$4,\n    MOUSELEAVE: \"mouseleave\" + EVENT_KEY$4\n  };\n  /**\n   * Class definition\n   */\n\n  var Tooltip = /*#__PURE__*/function () {\n    function Tooltip(element, config) {\n      if (typeof Popper__default[\"default\"] === 'undefined') {\n        throw new TypeError('Bootstrap\\'s tooltips require Popper (https://popper.js.org)');\n      } // Private\n\n\n      this._isEnabled = true;\n      this._timeout = 0;\n      this._hoverState = '';\n      this._activeTrigger = {};\n      this._popper = null; // Protected\n\n      this.element = element;\n      this.config = this._getConfig(config);\n      this.tip = null;\n\n      this._setListeners();\n    } // Getters\n\n\n    var _proto = Tooltip.prototype;\n\n    // Public\n    _proto.enable = function enable() {\n      this._isEnabled = true;\n    };\n\n    _proto.disable = function disable() {\n      this._isEnabled = false;\n    };\n\n    _proto.toggleEnabled = function toggleEnabled() {\n      this._isEnabled = !this._isEnabled;\n    };\n\n    _proto.toggle = function toggle(event) {\n      if (!this._isEnabled) {\n        return;\n      }\n\n      if (event) {\n        var dataKey = this.constructor.DATA_KEY;\n        var context = $__default[\"default\"](event.currentTarget).data(dataKey);\n\n        if (!context) {\n          context = new this.constructor(event.currentTarget, this._getDelegateConfig());\n          $__default[\"default\"](event.currentTarget).data(dataKey, context);\n        }\n\n        context._activeTrigger.click = !context._activeTrigger.click;\n\n        if (context._isWithActiveTrigger()) {\n          context._enter(null, context);\n        } else {\n          context._leave(null, context);\n        }\n      } else {\n        if ($__default[\"default\"](this.getTipElement()).hasClass(CLASS_NAME_SHOW$3)) {\n          this._leave(null, this);\n\n          return;\n        }\n\n        this._enter(null, this);\n      }\n    };\n\n    _proto.dispose = function dispose() {\n      clearTimeout(this._timeout);\n      $__default[\"default\"].removeData(this.element, this.constructor.DATA_KEY);\n      $__default[\"default\"](this.element).off(this.constructor.EVENT_KEY);\n      $__default[\"default\"](this.element).closest('.modal').off('hide.bs.modal', this._hideModalHandler);\n\n      if (this.tip) {\n        $__default[\"default\"](this.tip).remove();\n      }\n\n      this._isEnabled = null;\n      this._timeout = null;\n      this._hoverState = null;\n      this._activeTrigger = null;\n\n      if (this._popper) {\n        this._popper.destroy();\n      }\n\n      this._popper = null;\n      this.element = null;\n      this.config = null;\n      this.tip = null;\n    };\n\n    _proto.show = function show() {\n      var _this = this;\n\n      if ($__default[\"default\"](this.element).css('display') === 'none') {\n        throw new Error('Please use show on visible elements');\n      }\n\n      var showEvent = $__default[\"default\"].Event(this.constructor.Event.SHOW);\n\n      if (this.isWithContent() && this._isEnabled) {\n        $__default[\"default\"](this.element).trigger(showEvent);\n        var shadowRoot = Util.findShadowRoot(this.element);\n        var isInTheDom = $__default[\"default\"].contains(shadowRoot !== null ? shadowRoot : this.element.ownerDocument.documentElement, this.element);\n\n        if (showEvent.isDefaultPrevented() || !isInTheDom) {\n          return;\n        }\n\n        var tip = this.getTipElement();\n        var tipId = Util.getUID(this.constructor.NAME);\n        tip.setAttribute('id', tipId);\n        this.element.setAttribute('aria-describedby', tipId);\n        this.setContent();\n\n        if (this.config.animation) {\n          $__default[\"default\"](tip).addClass(CLASS_NAME_FADE$3);\n        }\n\n        var placement = typeof this.config.placement === 'function' ? this.config.placement.call(this, tip, this.element) : this.config.placement;\n\n        var attachment = this._getAttachment(placement);\n\n        this.addAttachmentClass(attachment);\n\n        var container = this._getContainer();\n\n        $__default[\"default\"](tip).data(this.constructor.DATA_KEY, this);\n\n        if (!$__default[\"default\"].contains(this.element.ownerDocument.documentElement, this.tip)) {\n          $__default[\"default\"](tip).appendTo(container);\n        }\n\n        $__default[\"default\"](this.element).trigger(this.constructor.Event.INSERTED);\n        this._popper = new Popper__default[\"default\"](this.element, tip, this._getPopperConfig(attachment));\n        $__default[\"default\"](tip).addClass(CLASS_NAME_SHOW$3);\n        $__default[\"default\"](tip).addClass(this.config.customClass); // If this is a touch-enabled device we add extra\n        // empty mouseover listeners to the body's immediate children;\n        // only needed because of broken event delegation on iOS\n        // https://www.quirksmode.org/blog/archives/2014/02/mouse_event_bub.html\n\n        if ('ontouchstart' in document.documentElement) {\n          $__default[\"default\"](document.body).children().on('mouseover', null, $__default[\"default\"].noop);\n        }\n\n        var complete = function complete() {\n          if (_this.config.animation) {\n            _this._fixTransition();\n          }\n\n          var prevHoverState = _this._hoverState;\n          _this._hoverState = null;\n          $__default[\"default\"](_this.element).trigger(_this.constructor.Event.SHOWN);\n\n          if (prevHoverState === HOVER_STATE_OUT) {\n            _this._leave(null, _this);\n          }\n        };\n\n        if ($__default[\"default\"](this.tip).hasClass(CLASS_NAME_FADE$3)) {\n          var transitionDuration = Util.getTransitionDurationFromElement(this.tip);\n          $__default[\"default\"](this.tip).one(Util.TRANSITION_END, complete).emulateTransitionEnd(transitionDuration);\n        } else {\n          complete();\n        }\n      }\n    };\n\n    _proto.hide = function hide(callback) {\n      var _this2 = this;\n\n      var tip = this.getTipElement();\n      var hideEvent = $__default[\"default\"].Event(this.constructor.Event.HIDE);\n\n      var complete = function complete() {\n        if (_this2._hoverState !== HOVER_STATE_SHOW && tip.parentNode) {\n          tip.parentNode.removeChild(tip);\n        }\n\n        _this2._cleanTipClass();\n\n        _this2.element.removeAttribute('aria-describedby');\n\n        $__default[\"default\"](_this2.element).trigger(_this2.constructor.Event.HIDDEN);\n\n        if (_this2._popper !== null) {\n          _this2._popper.destroy();\n        }\n\n        if (callback) {\n          callback();\n        }\n      };\n\n      $__default[\"default\"](this.element).trigger(hideEvent);\n\n      if (hideEvent.isDefaultPrevented()) {\n        return;\n      }\n\n      $__default[\"default\"](tip).removeClass(CLASS_NAME_SHOW$3); // If this is a touch-enabled device we remove the extra\n      // empty mouseover listeners we added for iOS support\n\n      if ('ontouchstart' in document.documentElement) {\n        $__default[\"default\"](document.body).children().off('mouseover', null, $__default[\"default\"].noop);\n      }\n\n      this._activeTrigger[TRIGGER_CLICK] = false;\n      this._activeTrigger[TRIGGER_FOCUS] = false;\n      this._activeTrigger[TRIGGER_HOVER] = false;\n\n      if ($__default[\"default\"](this.tip).hasClass(CLASS_NAME_FADE$3)) {\n        var transitionDuration = Util.getTransitionDurationFromElement(tip);\n        $__default[\"default\"](tip).one(Util.TRANSITION_END, complete).emulateTransitionEnd(transitionDuration);\n      } else {\n        complete();\n      }\n\n      this._hoverState = '';\n    };\n\n    _proto.update = function update() {\n      if (this._popper !== null) {\n        this._popper.scheduleUpdate();\n      }\n    } // Protected\n    ;\n\n    _proto.isWithContent = function isWithContent() {\n      return Boolean(this.getTitle());\n    };\n\n    _proto.addAttachmentClass = function addAttachmentClass(attachment) {\n      $__default[\"default\"](this.getTipElement()).addClass(CLASS_PREFIX$1 + \"-\" + attachment);\n    };\n\n    _proto.getTipElement = function getTipElement() {\n      this.tip = this.tip || $__default[\"default\"](this.config.template)[0];\n      return this.tip;\n    };\n\n    _proto.setContent = function setContent() {\n      var tip = this.getTipElement();\n      this.setElementContent($__default[\"default\"](tip.querySelectorAll(SELECTOR_TOOLTIP_INNER)), this.getTitle());\n      $__default[\"default\"](tip).removeClass(CLASS_NAME_FADE$3 + \" \" + CLASS_NAME_SHOW$3);\n    };\n\n    _proto.setElementContent = function setElementContent($element, content) {\n      if (typeof content === 'object' && (content.nodeType || content.jquery)) {\n        // Content is a DOM node or a jQuery\n        if (this.config.html) {\n          if (!$__default[\"default\"](content).parent().is($element)) {\n            $element.empty().append(content);\n          }\n        } else {\n          $element.text($__default[\"default\"](content).text());\n        }\n\n        return;\n      }\n\n      if (this.config.html) {\n        if (this.config.sanitize) {\n          content = sanitizeHtml(content, this.config.whiteList, this.config.sanitizeFn);\n        }\n\n        $element.html(content);\n      } else {\n        $element.text(content);\n      }\n    };\n\n    _proto.getTitle = function getTitle() {\n      var title = this.element.getAttribute('data-original-title');\n\n      if (!title) {\n        title = typeof this.config.title === 'function' ? this.config.title.call(this.element) : this.config.title;\n      }\n\n      return title;\n    } // Private\n    ;\n\n    _proto._getPopperConfig = function _getPopperConfig(attachment) {\n      var _this3 = this;\n\n      var defaultBsConfig = {\n        placement: attachment,\n        modifiers: {\n          offset: this._getOffset(),\n          flip: {\n            behavior: this.config.fallbackPlacement\n          },\n          arrow: {\n            element: SELECTOR_ARROW\n          },\n          preventOverflow: {\n            boundariesElement: this.config.boundary\n          }\n        },\n        onCreate: function onCreate(data) {\n          if (data.originalPlacement !== data.placement) {\n            _this3._handlePopperPlacementChange(data);\n          }\n        },\n        onUpdate: function onUpdate(data) {\n          return _this3._handlePopperPlacementChange(data);\n        }\n      };\n      return _extends({}, defaultBsConfig, this.config.popperConfig);\n    };\n\n    _proto._getOffset = function _getOffset() {\n      var _this4 = this;\n\n      var offset = {};\n\n      if (typeof this.config.offset === 'function') {\n        offset.fn = function (data) {\n          data.offsets = _extends({}, data.offsets, _this4.config.offset(data.offsets, _this4.element));\n          return data;\n        };\n      } else {\n        offset.offset = this.config.offset;\n      }\n\n      return offset;\n    };\n\n    _proto._getContainer = function _getContainer() {\n      if (this.config.container === false) {\n        return document.body;\n      }\n\n      if (Util.isElement(this.config.container)) {\n        return $__default[\"default\"](this.config.container);\n      }\n\n      return $__default[\"default\"](document).find(this.config.container);\n    };\n\n    _proto._getAttachment = function _getAttachment(placement) {\n      return AttachmentMap[placement.toUpperCase()];\n    };\n\n    _proto._setListeners = function _setListeners() {\n      var _this5 = this;\n\n      var triggers = this.config.trigger.split(' ');\n      triggers.forEach(function (trigger) {\n        if (trigger === 'click') {\n          $__default[\"default\"](_this5.element).on(_this5.constructor.Event.CLICK, _this5.config.selector, function (event) {\n            return _this5.toggle(event);\n          });\n        } else if (trigger !== TRIGGER_MANUAL) {\n          var eventIn = trigger === TRIGGER_HOVER ? _this5.constructor.Event.MOUSEENTER : _this5.constructor.Event.FOCUSIN;\n          var eventOut = trigger === TRIGGER_HOVER ? _this5.constructor.Event.MOUSELEAVE : _this5.constructor.Event.FOCUSOUT;\n          $__default[\"default\"](_this5.element).on(eventIn, _this5.config.selector, function (event) {\n            return _this5._enter(event);\n          }).on(eventOut, _this5.config.selector, function (event) {\n            return _this5._leave(event);\n          });\n        }\n      });\n\n      this._hideModalHandler = function () {\n        if (_this5.element) {\n          _this5.hide();\n        }\n      };\n\n      $__default[\"default\"](this.element).closest('.modal').on('hide.bs.modal', this._hideModalHandler);\n\n      if (this.config.selector) {\n        this.config = _extends({}, this.config, {\n          trigger: 'manual',\n          selector: ''\n        });\n      } else {\n        this._fixTitle();\n      }\n    };\n\n    _proto._fixTitle = function _fixTitle() {\n      var titleType = typeof this.element.getAttribute('data-original-title');\n\n      if (this.element.getAttribute('title') || titleType !== 'string') {\n        this.element.setAttribute('data-original-title', this.element.getAttribute('title') || '');\n        this.element.setAttribute('title', '');\n      }\n    };\n\n    _proto._enter = function _enter(event, context) {\n      var dataKey = this.constructor.DATA_KEY;\n      context = context || $__default[\"default\"](event.currentTarget).data(dataKey);\n\n      if (!context) {\n        context = new this.constructor(event.currentTarget, this._getDelegateConfig());\n        $__default[\"default\"](event.currentTarget).data(dataKey, context);\n      }\n\n      if (event) {\n        context._activeTrigger[event.type === 'focusin' ? TRIGGER_FOCUS : TRIGGER_HOVER] = true;\n      }\n\n      if ($__default[\"default\"](context.getTipElement()).hasClass(CLASS_NAME_SHOW$3) || context._hoverState === HOVER_STATE_SHOW) {\n        context._hoverState = HOVER_STATE_SHOW;\n        return;\n      }\n\n      clearTimeout(context._timeout);\n      context._hoverState = HOVER_STATE_SHOW;\n\n      if (!context.config.delay || !context.config.delay.show) {\n        context.show();\n        return;\n      }\n\n      context._timeout = setTimeout(function () {\n        if (context._hoverState === HOVER_STATE_SHOW) {\n          context.show();\n        }\n      }, context.config.delay.show);\n    };\n\n    _proto._leave = function _leave(event, context) {\n      var dataKey = this.constructor.DATA_KEY;\n      context = context || $__default[\"default\"](event.currentTarget).data(dataKey);\n\n      if (!context) {\n        context = new this.constructor(event.currentTarget, this._getDelegateConfig());\n        $__default[\"default\"](event.currentTarget).data(dataKey, context);\n      }\n\n      if (event) {\n        context._activeTrigger[event.type === 'focusout' ? TRIGGER_FOCUS : TRIGGER_HOVER] = false;\n      }\n\n      if (context._isWithActiveTrigger()) {\n        return;\n      }\n\n      clearTimeout(context._timeout);\n      context._hoverState = HOVER_STATE_OUT;\n\n      if (!context.config.delay || !context.config.delay.hide) {\n        context.hide();\n        return;\n      }\n\n      context._timeout = setTimeout(function () {\n        if (context._hoverState === HOVER_STATE_OUT) {\n          context.hide();\n        }\n      }, context.config.delay.hide);\n    };\n\n    _proto._isWithActiveTrigger = function _isWithActiveTrigger() {\n      for (var trigger in this._activeTrigger) {\n        if (this._activeTrigger[trigger]) {\n          return true;\n        }\n      }\n\n      return false;\n    };\n\n    _proto._getConfig = function _getConfig(config) {\n      var dataAttributes = $__default[\"default\"](this.element).data();\n      Object.keys(dataAttributes).forEach(function (dataAttr) {\n        if (DISALLOWED_ATTRIBUTES.indexOf(dataAttr) !== -1) {\n          delete dataAttributes[dataAttr];\n        }\n      });\n      config = _extends({}, this.constructor.Default, dataAttributes, typeof config === 'object' && config ? config : {});\n\n      if (typeof config.delay === 'number') {\n        config.delay = {\n          show: config.delay,\n          hide: config.delay\n        };\n      }\n\n      if (typeof config.title === 'number') {\n        config.title = config.title.toString();\n      }\n\n      if (typeof config.content === 'number') {\n        config.content = config.content.toString();\n      }\n\n      Util.typeCheckConfig(NAME$4, config, this.constructor.DefaultType);\n\n      if (config.sanitize) {\n        config.template = sanitizeHtml(config.template, config.whiteList, config.sanitizeFn);\n      }\n\n      return config;\n    };\n\n    _proto._getDelegateConfig = function _getDelegateConfig() {\n      var config = {};\n\n      if (this.config) {\n        for (var key in this.config) {\n          if (this.constructor.Default[key] !== this.config[key]) {\n            config[key] = this.config[key];\n          }\n        }\n      }\n\n      return config;\n    };\n\n    _proto._cleanTipClass = function _cleanTipClass() {\n      var $tip = $__default[\"default\"](this.getTipElement());\n      var tabClass = $tip.attr('class').match(BSCLS_PREFIX_REGEX$1);\n\n      if (tabClass !== null && tabClass.length) {\n        $tip.removeClass(tabClass.join(''));\n      }\n    };\n\n    _proto._handlePopperPlacementChange = function _handlePopperPlacementChange(popperData) {\n      this.tip = popperData.instance.popper;\n\n      this._cleanTipClass();\n\n      this.addAttachmentClass(this._getAttachment(popperData.placement));\n    };\n\n    _proto._fixTransition = function _fixTransition() {\n      var tip = this.getTipElement();\n      var initConfigAnimation = this.config.animation;\n\n      if (tip.getAttribute('x-placement') !== null) {\n        return;\n      }\n\n      $__default[\"default\"](tip).removeClass(CLASS_NAME_FADE$3);\n      this.config.animation = false;\n      this.hide();\n      this.show();\n      this.config.animation = initConfigAnimation;\n    } // Static\n    ;\n\n    Tooltip._jQueryInterface = function _jQueryInterface(config) {\n      return this.each(function () {\n        var $element = $__default[\"default\"](this);\n        var data = $element.data(DATA_KEY$4);\n\n        var _config = typeof config === 'object' && config;\n\n        if (!data && /dispose|hide/.test(config)) {\n          return;\n        }\n\n        if (!data) {\n          data = new Tooltip(this, _config);\n          $element.data(DATA_KEY$4, data);\n        }\n\n        if (typeof config === 'string') {\n          if (typeof data[config] === 'undefined') {\n            throw new TypeError(\"No method named \\\"\" + config + \"\\\"\");\n          }\n\n          data[config]();\n        }\n      });\n    };\n\n    _createClass(Tooltip, null, [{\n      key: \"VERSION\",\n      get: function get() {\n        return VERSION$4;\n      }\n    }, {\n      key: \"Default\",\n      get: function get() {\n        return Default$3;\n      }\n    }, {\n      key: \"NAME\",\n      get: function get() {\n        return NAME$4;\n      }\n    }, {\n      key: \"DATA_KEY\",\n      get: function get() {\n        return DATA_KEY$4;\n      }\n    }, {\n      key: \"Event\",\n      get: function get() {\n        return Event$1;\n      }\n    }, {\n      key: \"EVENT_KEY\",\n      get: function get() {\n        return EVENT_KEY$4;\n      }\n    }, {\n      key: \"DefaultType\",\n      get: function get() {\n        return DefaultType$3;\n      }\n    }]);\n\n    return Tooltip;\n  }();\n  /**\n   * jQuery\n   */\n\n\n  $__default[\"default\"].fn[NAME$4] = Tooltip._jQueryInterface;\n  $__default[\"default\"].fn[NAME$4].Constructor = Tooltip;\n\n  $__default[\"default\"].fn[NAME$4].noConflict = function () {\n    $__default[\"default\"].fn[NAME$4] = JQUERY_NO_CONFLICT$4;\n    return Tooltip._jQueryInterface;\n  };\n\n  /**\n   * Constants\n   */\n\n  var NAME$3 = 'popover';\n  var VERSION$3 = '4.6.2';\n  var DATA_KEY$3 = 'bs.popover';\n  var EVENT_KEY$3 = \".\" + DATA_KEY$3;\n  var JQUERY_NO_CONFLICT$3 = $__default[\"default\"].fn[NAME$3];\n  var CLASS_PREFIX = 'bs-popover';\n  var BSCLS_PREFIX_REGEX = new RegExp(\"(^|\\\\s)\" + CLASS_PREFIX + \"\\\\S+\", 'g');\n  var CLASS_NAME_FADE$2 = 'fade';\n  var CLASS_NAME_SHOW$2 = 'show';\n  var SELECTOR_TITLE = '.popover-header';\n  var SELECTOR_CONTENT = '.popover-body';\n\n  var Default$2 = _extends({}, Tooltip.Default, {\n    placement: 'right',\n    trigger: 'click',\n    content: '',\n    template: '<div class=\"popover\" role=\"tooltip\">' + '<div class=\"arrow\"></div>' + '<h3 class=\"popover-header\"></h3>' + '<div class=\"popover-body\"></div></div>'\n  });\n\n  var DefaultType$2 = _extends({}, Tooltip.DefaultType, {\n    content: '(string|element|function)'\n  });\n\n  var Event = {\n    HIDE: \"hide\" + EVENT_KEY$3,\n    HIDDEN: \"hidden\" + EVENT_KEY$3,\n    SHOW: \"show\" + EVENT_KEY$3,\n    SHOWN: \"shown\" + EVENT_KEY$3,\n    INSERTED: \"inserted\" + EVENT_KEY$3,\n    CLICK: \"click\" + EVENT_KEY$3,\n    FOCUSIN: \"focusin\" + EVENT_KEY$3,\n    FOCUSOUT: \"focusout\" + EVENT_KEY$3,\n    MOUSEENTER: \"mouseenter\" + EVENT_KEY$3,\n    MOUSELEAVE: \"mouseleave\" + EVENT_KEY$3\n  };\n  /**\n   * Class definition\n   */\n\n  var Popover = /*#__PURE__*/function (_Tooltip) {\n    _inheritsLoose(Popover, _Tooltip);\n\n    function Popover() {\n      return _Tooltip.apply(this, arguments) || this;\n    }\n\n    var _proto = Popover.prototype;\n\n    // Overrides\n    _proto.isWithContent = function isWithContent() {\n      return this.getTitle() || this._getContent();\n    };\n\n    _proto.addAttachmentClass = function addAttachmentClass(attachment) {\n      $__default[\"default\"](this.getTipElement()).addClass(CLASS_PREFIX + \"-\" + attachment);\n    };\n\n    _proto.getTipElement = function getTipElement() {\n      this.tip = this.tip || $__default[\"default\"](this.config.template)[0];\n      return this.tip;\n    };\n\n    _proto.setContent = function setContent() {\n      var $tip = $__default[\"default\"](this.getTipElement()); // We use append for html objects to maintain js events\n\n      this.setElementContent($tip.find(SELECTOR_TITLE), this.getTitle());\n\n      var content = this._getContent();\n\n      if (typeof content === 'function') {\n        content = content.call(this.element);\n      }\n\n      this.setElementContent($tip.find(SELECTOR_CONTENT), content);\n      $tip.removeClass(CLASS_NAME_FADE$2 + \" \" + CLASS_NAME_SHOW$2);\n    } // Private\n    ;\n\n    _proto._getContent = function _getContent() {\n      return this.element.getAttribute('data-content') || this.config.content;\n    };\n\n    _proto._cleanTipClass = function _cleanTipClass() {\n      var $tip = $__default[\"default\"](this.getTipElement());\n      var tabClass = $tip.attr('class').match(BSCLS_PREFIX_REGEX);\n\n      if (tabClass !== null && tabClass.length > 0) {\n        $tip.removeClass(tabClass.join(''));\n      }\n    } // Static\n    ;\n\n    Popover._jQueryInterface = function _jQueryInterface(config) {\n      return this.each(function () {\n        var data = $__default[\"default\"](this).data(DATA_KEY$3);\n\n        var _config = typeof config === 'object' ? config : null;\n\n        if (!data && /dispose|hide/.test(config)) {\n          return;\n        }\n\n        if (!data) {\n          data = new Popover(this, _config);\n          $__default[\"default\"](this).data(DATA_KEY$3, data);\n        }\n\n        if (typeof config === 'string') {\n          if (typeof data[config] === 'undefined') {\n            throw new TypeError(\"No method named \\\"\" + config + \"\\\"\");\n          }\n\n          data[config]();\n        }\n      });\n    };\n\n    _createClass(Popover, null, [{\n      key: \"VERSION\",\n      get: // Getters\n      function get() {\n        return VERSION$3;\n      }\n    }, {\n      key: \"Default\",\n      get: function get() {\n        return Default$2;\n      }\n    }, {\n      key: \"NAME\",\n      get: function get() {\n        return NAME$3;\n      }\n    }, {\n      key: \"DATA_KEY\",\n      get: function get() {\n        return DATA_KEY$3;\n      }\n    }, {\n      key: \"Event\",\n      get: function get() {\n        return Event;\n      }\n    }, {\n      key: \"EVENT_KEY\",\n      get: function get() {\n        return EVENT_KEY$3;\n      }\n    }, {\n      key: \"DefaultType\",\n      get: function get() {\n        return DefaultType$2;\n      }\n    }]);\n\n    return Popover;\n  }(Tooltip);\n  /**\n   * jQuery\n   */\n\n\n  $__default[\"default\"].fn[NAME$3] = Popover._jQueryInterface;\n  $__default[\"default\"].fn[NAME$3].Constructor = Popover;\n\n  $__default[\"default\"].fn[NAME$3].noConflict = function () {\n    $__default[\"default\"].fn[NAME$3] = JQUERY_NO_CONFLICT$3;\n    return Popover._jQueryInterface;\n  };\n\n  /**\n   * Constants\n   */\n\n  var NAME$2 = 'scrollspy';\n  var VERSION$2 = '4.6.2';\n  var DATA_KEY$2 = 'bs.scrollspy';\n  var EVENT_KEY$2 = \".\" + DATA_KEY$2;\n  var DATA_API_KEY$1 = '.data-api';\n  var JQUERY_NO_CONFLICT$2 = $__default[\"default\"].fn[NAME$2];\n  var CLASS_NAME_DROPDOWN_ITEM = 'dropdown-item';\n  var CLASS_NAME_ACTIVE$1 = 'active';\n  var EVENT_ACTIVATE = \"activate\" + EVENT_KEY$2;\n  var EVENT_SCROLL = \"scroll\" + EVENT_KEY$2;\n  var EVENT_LOAD_DATA_API = \"load\" + EVENT_KEY$2 + DATA_API_KEY$1;\n  var METHOD_OFFSET = 'offset';\n  var METHOD_POSITION = 'position';\n  var SELECTOR_DATA_SPY = '[data-spy=\"scroll\"]';\n  var SELECTOR_NAV_LIST_GROUP$1 = '.nav, .list-group';\n  var SELECTOR_NAV_LINKS = '.nav-link';\n  var SELECTOR_NAV_ITEMS = '.nav-item';\n  var SELECTOR_LIST_ITEMS = '.list-group-item';\n  var SELECTOR_DROPDOWN$1 = '.dropdown';\n  var SELECTOR_DROPDOWN_ITEMS = '.dropdown-item';\n  var SELECTOR_DROPDOWN_TOGGLE$1 = '.dropdown-toggle';\n  var Default$1 = {\n    offset: 10,\n    method: 'auto',\n    target: ''\n  };\n  var DefaultType$1 = {\n    offset: 'number',\n    method: 'string',\n    target: '(string|element)'\n  };\n  /**\n   * Class definition\n   */\n\n  var ScrollSpy = /*#__PURE__*/function () {\n    function ScrollSpy(element, config) {\n      var _this = this;\n\n      this._element = element;\n      this._scrollElement = element.tagName === 'BODY' ? window : element;\n      this._config = this._getConfig(config);\n      this._selector = this._config.target + \" \" + SELECTOR_NAV_LINKS + \",\" + (this._config.target + \" \" + SELECTOR_LIST_ITEMS + \",\") + (this._config.target + \" \" + SELECTOR_DROPDOWN_ITEMS);\n      this._offsets = [];\n      this._targets = [];\n      this._activeTarget = null;\n      this._scrollHeight = 0;\n      $__default[\"default\"](this._scrollElement).on(EVENT_SCROLL, function (event) {\n        return _this._process(event);\n      });\n      this.refresh();\n\n      this._process();\n    } // Getters\n\n\n    var _proto = ScrollSpy.prototype;\n\n    // Public\n    _proto.refresh = function refresh() {\n      var _this2 = this;\n\n      var autoMethod = this._scrollElement === this._scrollElement.window ? METHOD_OFFSET : METHOD_POSITION;\n      var offsetMethod = this._config.method === 'auto' ? autoMethod : this._config.method;\n      var offsetBase = offsetMethod === METHOD_POSITION ? this._getScrollTop() : 0;\n      this._offsets = [];\n      this._targets = [];\n      this._scrollHeight = this._getScrollHeight();\n      var targets = [].slice.call(document.querySelectorAll(this._selector));\n      targets.map(function (element) {\n        var target;\n        var targetSelector = Util.getSelectorFromElement(element);\n\n        if (targetSelector) {\n          target = document.querySelector(targetSelector);\n        }\n\n        if (target) {\n          var targetBCR = target.getBoundingClientRect();\n\n          if (targetBCR.width || targetBCR.height) {\n            // TODO (fat): remove sketch reliance on jQuery position/offset\n            return [$__default[\"default\"](target)[offsetMethod]().top + offsetBase, targetSelector];\n          }\n        }\n\n        return null;\n      }).filter(Boolean).sort(function (a, b) {\n        return a[0] - b[0];\n      }).forEach(function (item) {\n        _this2._offsets.push(item[0]);\n\n        _this2._targets.push(item[1]);\n      });\n    };\n\n    _proto.dispose = function dispose() {\n      $__default[\"default\"].removeData(this._element, DATA_KEY$2);\n      $__default[\"default\"](this._scrollElement).off(EVENT_KEY$2);\n      this._element = null;\n      this._scrollElement = null;\n      this._config = null;\n      this._selector = null;\n      this._offsets = null;\n      this._targets = null;\n      this._activeTarget = null;\n      this._scrollHeight = null;\n    } // Private\n    ;\n\n    _proto._getConfig = function _getConfig(config) {\n      config = _extends({}, Default$1, typeof config === 'object' && config ? config : {});\n\n      if (typeof config.target !== 'string' && Util.isElement(config.target)) {\n        var id = $__default[\"default\"](config.target).attr('id');\n\n        if (!id) {\n          id = Util.getUID(NAME$2);\n          $__default[\"default\"](config.target).attr('id', id);\n        }\n\n        config.target = \"#\" + id;\n      }\n\n      Util.typeCheckConfig(NAME$2, config, DefaultType$1);\n      return config;\n    };\n\n    _proto._getScrollTop = function _getScrollTop() {\n      return this._scrollElement === window ? this._scrollElement.pageYOffset : this._scrollElement.scrollTop;\n    };\n\n    _proto._getScrollHeight = function _getScrollHeight() {\n      return this._scrollElement.scrollHeight || Math.max(document.body.scrollHeight, document.documentElement.scrollHeight);\n    };\n\n    _proto._getOffsetHeight = function _getOffsetHeight() {\n      return this._scrollElement === window ? window.innerHeight : this._scrollElement.getBoundingClientRect().height;\n    };\n\n    _proto._process = function _process() {\n      var scrollTop = this._getScrollTop() + this._config.offset;\n\n      var scrollHeight = this._getScrollHeight();\n\n      var maxScroll = this._config.offset + scrollHeight - this._getOffsetHeight();\n\n      if (this._scrollHeight !== scrollHeight) {\n        this.refresh();\n      }\n\n      if (scrollTop >= maxScroll) {\n        var target = this._targets[this._targets.length - 1];\n\n        if (this._activeTarget !== target) {\n          this._activate(target);\n        }\n\n        return;\n      }\n\n      if (this._activeTarget && scrollTop < this._offsets[0] && this._offsets[0] > 0) {\n        this._activeTarget = null;\n\n        this._clear();\n\n        return;\n      }\n\n      for (var i = this._offsets.length; i--;) {\n        var isActiveTarget = this._activeTarget !== this._targets[i] && scrollTop >= this._offsets[i] && (typeof this._offsets[i + 1] === 'undefined' || scrollTop < this._offsets[i + 1]);\n\n        if (isActiveTarget) {\n          this._activate(this._targets[i]);\n        }\n      }\n    };\n\n    _proto._activate = function _activate(target) {\n      this._activeTarget = target;\n\n      this._clear();\n\n      var queries = this._selector.split(',').map(function (selector) {\n        return selector + \"[data-target=\\\"\" + target + \"\\\"],\" + selector + \"[href=\\\"\" + target + \"\\\"]\";\n      });\n\n      var $link = $__default[\"default\"]([].slice.call(document.querySelectorAll(queries.join(','))));\n\n      if ($link.hasClass(CLASS_NAME_DROPDOWN_ITEM)) {\n        $link.closest(SELECTOR_DROPDOWN$1).find(SELECTOR_DROPDOWN_TOGGLE$1).addClass(CLASS_NAME_ACTIVE$1);\n        $link.addClass(CLASS_NAME_ACTIVE$1);\n      } else {\n        // Set triggered link as active\n        $link.addClass(CLASS_NAME_ACTIVE$1); // Set triggered links parents as active\n        // With both <ul> and <nav> markup a parent is the previous sibling of any nav ancestor\n\n        $link.parents(SELECTOR_NAV_LIST_GROUP$1).prev(SELECTOR_NAV_LINKS + \", \" + SELECTOR_LIST_ITEMS).addClass(CLASS_NAME_ACTIVE$1); // Handle special case when .nav-link is inside .nav-item\n\n        $link.parents(SELECTOR_NAV_LIST_GROUP$1).prev(SELECTOR_NAV_ITEMS).children(SELECTOR_NAV_LINKS).addClass(CLASS_NAME_ACTIVE$1);\n      }\n\n      $__default[\"default\"](this._scrollElement).trigger(EVENT_ACTIVATE, {\n        relatedTarget: target\n      });\n    };\n\n    _proto._clear = function _clear() {\n      [].slice.call(document.querySelectorAll(this._selector)).filter(function (node) {\n        return node.classList.contains(CLASS_NAME_ACTIVE$1);\n      }).forEach(function (node) {\n        return node.classList.remove(CLASS_NAME_ACTIVE$1);\n      });\n    } // Static\n    ;\n\n    ScrollSpy._jQueryInterface = function _jQueryInterface(config) {\n      return this.each(function () {\n        var data = $__default[\"default\"](this).data(DATA_KEY$2);\n\n        var _config = typeof config === 'object' && config;\n\n        if (!data) {\n          data = new ScrollSpy(this, _config);\n          $__default[\"default\"](this).data(DATA_KEY$2, data);\n        }\n\n        if (typeof config === 'string') {\n          if (typeof data[config] === 'undefined') {\n            throw new TypeError(\"No method named \\\"\" + config + \"\\\"\");\n          }\n\n          data[config]();\n        }\n      });\n    };\n\n    _createClass(ScrollSpy, null, [{\n      key: \"VERSION\",\n      get: function get() {\n        return VERSION$2;\n      }\n    }, {\n      key: \"Default\",\n      get: function get() {\n        return Default$1;\n      }\n    }]);\n\n    return ScrollSpy;\n  }();\n  /**\n   * Data API implementation\n   */\n\n\n  $__default[\"default\"](window).on(EVENT_LOAD_DATA_API, function () {\n    var scrollSpys = [].slice.call(document.querySelectorAll(SELECTOR_DATA_SPY));\n    var scrollSpysLength = scrollSpys.length;\n\n    for (var i = scrollSpysLength; i--;) {\n      var $spy = $__default[\"default\"](scrollSpys[i]);\n\n      ScrollSpy._jQueryInterface.call($spy, $spy.data());\n    }\n  });\n  /**\n   * jQuery\n   */\n\n  $__default[\"default\"].fn[NAME$2] = ScrollSpy._jQueryInterface;\n  $__default[\"default\"].fn[NAME$2].Constructor = ScrollSpy;\n\n  $__default[\"default\"].fn[NAME$2].noConflict = function () {\n    $__default[\"default\"].fn[NAME$2] = JQUERY_NO_CONFLICT$2;\n    return ScrollSpy._jQueryInterface;\n  };\n\n  /**\n   * Constants\n   */\n\n  var NAME$1 = 'tab';\n  var VERSION$1 = '4.6.2';\n  var DATA_KEY$1 = 'bs.tab';\n  var EVENT_KEY$1 = \".\" + DATA_KEY$1;\n  var DATA_API_KEY = '.data-api';\n  var JQUERY_NO_CONFLICT$1 = $__default[\"default\"].fn[NAME$1];\n  var CLASS_NAME_DROPDOWN_MENU = 'dropdown-menu';\n  var CLASS_NAME_ACTIVE = 'active';\n  var CLASS_NAME_DISABLED = 'disabled';\n  var CLASS_NAME_FADE$1 = 'fade';\n  var CLASS_NAME_SHOW$1 = 'show';\n  var EVENT_HIDE$1 = \"hide\" + EVENT_KEY$1;\n  var EVENT_HIDDEN$1 = \"hidden\" + EVENT_KEY$1;\n  var EVENT_SHOW$1 = \"show\" + EVENT_KEY$1;\n  var EVENT_SHOWN$1 = \"shown\" + EVENT_KEY$1;\n  var EVENT_CLICK_DATA_API = \"click\" + EVENT_KEY$1 + DATA_API_KEY;\n  var SELECTOR_DROPDOWN = '.dropdown';\n  var SELECTOR_NAV_LIST_GROUP = '.nav, .list-group';\n  var SELECTOR_ACTIVE = '.active';\n  var SELECTOR_ACTIVE_UL = '> li > .active';\n  var SELECTOR_DATA_TOGGLE = '[data-toggle=\"tab\"], [data-toggle=\"pill\"], [data-toggle=\"list\"]';\n  var SELECTOR_DROPDOWN_TOGGLE = '.dropdown-toggle';\n  var SELECTOR_DROPDOWN_ACTIVE_CHILD = '> .dropdown-menu .active';\n  /**\n   * Class definition\n   */\n\n  var Tab = /*#__PURE__*/function () {\n    function Tab(element) {\n      this._element = element;\n    } // Getters\n\n\n    var _proto = Tab.prototype;\n\n    // Public\n    _proto.show = function show() {\n      var _this = this;\n\n      if (this._element.parentNode && this._element.parentNode.nodeType === Node.ELEMENT_NODE && $__default[\"default\"](this._element).hasClass(CLASS_NAME_ACTIVE) || $__default[\"default\"](this._element).hasClass(CLASS_NAME_DISABLED) || this._element.hasAttribute('disabled')) {\n        return;\n      }\n\n      var target;\n      var previous;\n      var listElement = $__default[\"default\"](this._element).closest(SELECTOR_NAV_LIST_GROUP)[0];\n      var selector = Util.getSelectorFromElement(this._element);\n\n      if (listElement) {\n        var itemSelector = listElement.nodeName === 'UL' || listElement.nodeName === 'OL' ? SELECTOR_ACTIVE_UL : SELECTOR_ACTIVE;\n        previous = $__default[\"default\"].makeArray($__default[\"default\"](listElement).find(itemSelector));\n        previous = previous[previous.length - 1];\n      }\n\n      var hideEvent = $__default[\"default\"].Event(EVENT_HIDE$1, {\n        relatedTarget: this._element\n      });\n      var showEvent = $__default[\"default\"].Event(EVENT_SHOW$1, {\n        relatedTarget: previous\n      });\n\n      if (previous) {\n        $__default[\"default\"](previous).trigger(hideEvent);\n      }\n\n      $__default[\"default\"](this._element).trigger(showEvent);\n\n      if (showEvent.isDefaultPrevented() || hideEvent.isDefaultPrevented()) {\n        return;\n      }\n\n      if (selector) {\n        target = document.querySelector(selector);\n      }\n\n      this._activate(this._element, listElement);\n\n      var complete = function complete() {\n        var hiddenEvent = $__default[\"default\"].Event(EVENT_HIDDEN$1, {\n          relatedTarget: _this._element\n        });\n        var shownEvent = $__default[\"default\"].Event(EVENT_SHOWN$1, {\n          relatedTarget: previous\n        });\n        $__default[\"default\"](previous).trigger(hiddenEvent);\n        $__default[\"default\"](_this._element).trigger(shownEvent);\n      };\n\n      if (target) {\n        this._activate(target, target.parentNode, complete);\n      } else {\n        complete();\n      }\n    };\n\n    _proto.dispose = function dispose() {\n      $__default[\"default\"].removeData(this._element, DATA_KEY$1);\n      this._element = null;\n    } // Private\n    ;\n\n    _proto._activate = function _activate(element, container, callback) {\n      var _this2 = this;\n\n      var activeElements = container && (container.nodeName === 'UL' || container.nodeName === 'OL') ? $__default[\"default\"](container).find(SELECTOR_ACTIVE_UL) : $__default[\"default\"](container).children(SELECTOR_ACTIVE);\n      var active = activeElements[0];\n      var isTransitioning = callback && active && $__default[\"default\"](active).hasClass(CLASS_NAME_FADE$1);\n\n      var complete = function complete() {\n        return _this2._transitionComplete(element, active, callback);\n      };\n\n      if (active && isTransitioning) {\n        var transitionDuration = Util.getTransitionDurationFromElement(active);\n        $__default[\"default\"](active).removeClass(CLASS_NAME_SHOW$1).one(Util.TRANSITION_END, complete).emulateTransitionEnd(transitionDuration);\n      } else {\n        complete();\n      }\n    };\n\n    _proto._transitionComplete = function _transitionComplete(element, active, callback) {\n      if (active) {\n        $__default[\"default\"](active).removeClass(CLASS_NAME_ACTIVE);\n        var dropdownChild = $__default[\"default\"](active.parentNode).find(SELECTOR_DROPDOWN_ACTIVE_CHILD)[0];\n\n        if (dropdownChild) {\n          $__default[\"default\"](dropdownChild).removeClass(CLASS_NAME_ACTIVE);\n        }\n\n        if (active.getAttribute('role') === 'tab') {\n          active.setAttribute('aria-selected', false);\n        }\n      }\n\n      $__default[\"default\"](element).addClass(CLASS_NAME_ACTIVE);\n\n      if (element.getAttribute('role') === 'tab') {\n        element.setAttribute('aria-selected', true);\n      }\n\n      Util.reflow(element);\n\n      if (element.classList.contains(CLASS_NAME_FADE$1)) {\n        element.classList.add(CLASS_NAME_SHOW$1);\n      }\n\n      var parent = element.parentNode;\n\n      if (parent && parent.nodeName === 'LI') {\n        parent = parent.parentNode;\n      }\n\n      if (parent && $__default[\"default\"](parent).hasClass(CLASS_NAME_DROPDOWN_MENU)) {\n        var dropdownElement = $__default[\"default\"](element).closest(SELECTOR_DROPDOWN)[0];\n\n        if (dropdownElement) {\n          var dropdownToggleList = [].slice.call(dropdownElement.querySelectorAll(SELECTOR_DROPDOWN_TOGGLE));\n          $__default[\"default\"](dropdownToggleList).addClass(CLASS_NAME_ACTIVE);\n        }\n\n        element.setAttribute('aria-expanded', true);\n      }\n\n      if (callback) {\n        callback();\n      }\n    } // Static\n    ;\n\n    Tab._jQueryInterface = function _jQueryInterface(config) {\n      return this.each(function () {\n        var $this = $__default[\"default\"](this);\n        var data = $this.data(DATA_KEY$1);\n\n        if (!data) {\n          data = new Tab(this);\n          $this.data(DATA_KEY$1, data);\n        }\n\n        if (typeof config === 'string') {\n          if (typeof data[config] === 'undefined') {\n            throw new TypeError(\"No method named \\\"\" + config + \"\\\"\");\n          }\n\n          data[config]();\n        }\n      });\n    };\n\n    _createClass(Tab, null, [{\n      key: \"VERSION\",\n      get: function get() {\n        return VERSION$1;\n      }\n    }]);\n\n    return Tab;\n  }();\n  /**\n   * Data API implementation\n   */\n\n\n  $__default[\"default\"](document).on(EVENT_CLICK_DATA_API, SELECTOR_DATA_TOGGLE, function (event) {\n    event.preventDefault();\n\n    Tab._jQueryInterface.call($__default[\"default\"](this), 'show');\n  });\n  /**\n   * jQuery\n   */\n\n  $__default[\"default\"].fn[NAME$1] = Tab._jQueryInterface;\n  $__default[\"default\"].fn[NAME$1].Constructor = Tab;\n\n  $__default[\"default\"].fn[NAME$1].noConflict = function () {\n    $__default[\"default\"].fn[NAME$1] = JQUERY_NO_CONFLICT$1;\n    return Tab._jQueryInterface;\n  };\n\n  /**\n   * Constants\n   */\n\n  var NAME = 'toast';\n  var VERSION = '4.6.2';\n  var DATA_KEY = 'bs.toast';\n  var EVENT_KEY = \".\" + DATA_KEY;\n  var JQUERY_NO_CONFLICT = $__default[\"default\"].fn[NAME];\n  var CLASS_NAME_FADE = 'fade';\n  var CLASS_NAME_HIDE = 'hide';\n  var CLASS_NAME_SHOW = 'show';\n  var CLASS_NAME_SHOWING = 'showing';\n  var EVENT_CLICK_DISMISS = \"click.dismiss\" + EVENT_KEY;\n  var EVENT_HIDE = \"hide\" + EVENT_KEY;\n  var EVENT_HIDDEN = \"hidden\" + EVENT_KEY;\n  var EVENT_SHOW = \"show\" + EVENT_KEY;\n  var EVENT_SHOWN = \"shown\" + EVENT_KEY;\n  var SELECTOR_DATA_DISMISS = '[data-dismiss=\"toast\"]';\n  var Default = {\n    animation: true,\n    autohide: true,\n    delay: 500\n  };\n  var DefaultType = {\n    animation: 'boolean',\n    autohide: 'boolean',\n    delay: 'number'\n  };\n  /**\n   * Class definition\n   */\n\n  var Toast = /*#__PURE__*/function () {\n    function Toast(element, config) {\n      this._element = element;\n      this._config = this._getConfig(config);\n      this._timeout = null;\n\n      this._setListeners();\n    } // Getters\n\n\n    var _proto = Toast.prototype;\n\n    // Public\n    _proto.show = function show() {\n      var _this = this;\n\n      var showEvent = $__default[\"default\"].Event(EVENT_SHOW);\n      $__default[\"default\"](this._element).trigger(showEvent);\n\n      if (showEvent.isDefaultPrevented()) {\n        return;\n      }\n\n      this._clearTimeout();\n\n      if (this._config.animation) {\n        this._element.classList.add(CLASS_NAME_FADE);\n      }\n\n      var complete = function complete() {\n        _this._element.classList.remove(CLASS_NAME_SHOWING);\n\n        _this._element.classList.add(CLASS_NAME_SHOW);\n\n        $__default[\"default\"](_this._element).trigger(EVENT_SHOWN);\n\n        if (_this._config.autohide) {\n          _this._timeout = setTimeout(function () {\n            _this.hide();\n          }, _this._config.delay);\n        }\n      };\n\n      this._element.classList.remove(CLASS_NAME_HIDE);\n\n      Util.reflow(this._element);\n\n      this._element.classList.add(CLASS_NAME_SHOWING);\n\n      if (this._config.animation) {\n        var transitionDuration = Util.getTransitionDurationFromElement(this._element);\n        $__default[\"default\"](this._element).one(Util.TRANSITION_END, complete).emulateTransitionEnd(transitionDuration);\n      } else {\n        complete();\n      }\n    };\n\n    _proto.hide = function hide() {\n      if (!this._element.classList.contains(CLASS_NAME_SHOW)) {\n        return;\n      }\n\n      var hideEvent = $__default[\"default\"].Event(EVENT_HIDE);\n      $__default[\"default\"](this._element).trigger(hideEvent);\n\n      if (hideEvent.isDefaultPrevented()) {\n        return;\n      }\n\n      this._close();\n    };\n\n    _proto.dispose = function dispose() {\n      this._clearTimeout();\n\n      if (this._element.classList.contains(CLASS_NAME_SHOW)) {\n        this._element.classList.remove(CLASS_NAME_SHOW);\n      }\n\n      $__default[\"default\"](this._element).off(EVENT_CLICK_DISMISS);\n      $__default[\"default\"].removeData(this._element, DATA_KEY);\n      this._element = null;\n      this._config = null;\n    } // Private\n    ;\n\n    _proto._getConfig = function _getConfig(config) {\n      config = _extends({}, Default, $__default[\"default\"](this._element).data(), typeof config === 'object' && config ? config : {});\n      Util.typeCheckConfig(NAME, config, this.constructor.DefaultType);\n      return config;\n    };\n\n    _proto._setListeners = function _setListeners() {\n      var _this2 = this;\n\n      $__default[\"default\"](this._element).on(EVENT_CLICK_DISMISS, SELECTOR_DATA_DISMISS, function () {\n        return _this2.hide();\n      });\n    };\n\n    _proto._close = function _close() {\n      var _this3 = this;\n\n      var complete = function complete() {\n        _this3._element.classList.add(CLASS_NAME_HIDE);\n\n        $__default[\"default\"](_this3._element).trigger(EVENT_HIDDEN);\n      };\n\n      this._element.classList.remove(CLASS_NAME_SHOW);\n\n      if (this._config.animation) {\n        var transitionDuration = Util.getTransitionDurationFromElement(this._element);\n        $__default[\"default\"](this._element).one(Util.TRANSITION_END, complete).emulateTransitionEnd(transitionDuration);\n      } else {\n        complete();\n      }\n    };\n\n    _proto._clearTimeout = function _clearTimeout() {\n      clearTimeout(this._timeout);\n      this._timeout = null;\n    } // Static\n    ;\n\n    Toast._jQueryInterface = function _jQueryInterface(config) {\n      return this.each(function () {\n        var $element = $__default[\"default\"](this);\n        var data = $element.data(DATA_KEY);\n\n        var _config = typeof config === 'object' && config;\n\n        if (!data) {\n          data = new Toast(this, _config);\n          $element.data(DATA_KEY, data);\n        }\n\n        if (typeof config === 'string') {\n          if (typeof data[config] === 'undefined') {\n            throw new TypeError(\"No method named \\\"\" + config + \"\\\"\");\n          }\n\n          data[config](this);\n        }\n      });\n    };\n\n    _createClass(Toast, null, [{\n      key: \"VERSION\",\n      get: function get() {\n        return VERSION;\n      }\n    }, {\n      key: \"DefaultType\",\n      get: function get() {\n        return DefaultType;\n      }\n    }, {\n      key: \"Default\",\n      get: function get() {\n        return Default;\n      }\n    }]);\n\n    return Toast;\n  }();\n  /**\n   * jQuery\n   */\n\n\n  $__default[\"default\"].fn[NAME] = Toast._jQueryInterface;\n  $__default[\"default\"].fn[NAME].Constructor = Toast;\n\n  $__default[\"default\"].fn[NAME].noConflict = function () {\n    $__default[\"default\"].fn[NAME] = JQUERY_NO_CONFLICT;\n    return Toast._jQueryInterface;\n  };\n\n  exports.Alert = Alert;\n  exports.Button = Button;\n  exports.Carousel = Carousel;\n  exports.Collapse = Collapse;\n  exports.Dropdown = Dropdown;\n  exports.Modal = Modal;\n  exports.Popover = Popover;\n  exports.Scrollspy = ScrollSpy;\n  exports.Tab = Tab;\n  exports.Toast = Toast;\n  exports.Tooltip = Tooltip;\n  exports.Util = Util;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n//# sourceMappingURL=bootstrap.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYm9vdHN0cmFwL2Rpc3QvanMvYm9vdHN0cmFwLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsS0FBNEQsb0JBQW9CLG1CQUFPLENBQUMsb0RBQVEsR0FBRyxtQkFBTyxDQUFDLDhEQUFXO0FBQ3hILEVBQUUsQ0FDd0k7QUFDMUksQ0FBQyx5Q0FBeUM7O0FBRTFDLHVDQUF1Qyw0REFBNEQ7O0FBRW5HO0FBQ0E7O0FBRUE7QUFDQSxvQkFBb0Isa0JBQWtCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esc0JBQXNCLHNCQUFzQjtBQUM1Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxzQ0FBc0M7O0FBRXRDO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGFBQWE7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUU7QUFDakU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQztBQUMvQyxRQUFROztBQUVSO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFFBQVE7OztBQUdSO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RDs7QUFFOUQ7QUFDQTtBQUNBLFFBQVE7OztBQUdSO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFFBQVE7OztBQUdSO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxRQUFROzs7QUFHUjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNOzs7QUFHTjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNOzs7QUFHTjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw4QkFBOEI7QUFDOUIsTUFBTTtBQUNOOztBQUVBO0FBQ0EsZ0NBQWdDOztBQUVoQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsMENBQTBDLFNBQVM7QUFDbkQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxNQUFNOzs7QUFHTjs7QUFFQSw0Q0FBNEMsV0FBVztBQUN2RDs7QUFFQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCOztBQUUvQixnQ0FBZ0M7O0FBRWhDLG9DQUFvQzs7QUFFcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE1BQU07OztBQUdOOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDJEQUEyRDtBQUMzRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjs7QUFFQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0QkFBNEI7O0FBRTVCO0FBQ0E7QUFDQSxRQUFROzs7QUFHUjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVCxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUE7QUFDQTtBQUNBOztBQUVBLGlDQUFpQzs7QUFFakM7QUFDQSwrQkFBK0I7QUFDL0I7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSw4QkFBOEI7O0FBRTlCOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQSw0Q0FBNEMsU0FBUztBQUNyRDs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsK0NBQStDLFNBQVM7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNOzs7QUFHTjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esd0JBQXdCLHdCQUF3QjtBQUNoRDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUE7QUFDQSwwQkFBMEI7QUFDMUIsOENBQThDOztBQUU5QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLHNDQUFzQzs7QUFFdEM7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxpQ0FBaUMsZ0ZBQWdGOztBQUVqSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7O0FBRTdCLDBCQUEwQjs7QUFFMUIsdUJBQXVCOztBQUV2Qiw2QkFBNkI7O0FBRTdCLCtCQUErQjs7QUFFL0Isb0NBQW9DOztBQUVwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE1BQU07OztBQUdOOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxRQUFROzs7QUFHUjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxVQUFVO0FBQ1YscURBQXFEOztBQUVyRDtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esd0NBQXdDOztBQUV4QztBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHdCQUF3QjtBQUN4QixNQUFNO0FBQ047O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsNENBQTRDLFNBQVM7QUFDckQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVU7QUFDVjs7O0FBR0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsTUFBTTtBQUNOOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjs7QUFFM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07OztBQUdOOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTzs7QUFFUDtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOOztBQUVBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxPQUFPOztBQUVQO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrRkFBK0Y7O0FBRS9GO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxHQUFHOztBQUVaO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxHQUFHOztBQUVaO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLEdBQUc7O0FBRVY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sR0FBRzs7QUFFVjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxpQ0FBaUMsbUdBQW1HOztBQUVwSTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSx3RkFBd0Y7O0FBRXhGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7O0FBRUw7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHVJQUF1STs7QUFFdkk7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLLEdBQUc7O0FBRVIseUNBQXlDLFNBQVM7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHdEQUF3RDs7QUFFeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQSwyQ0FBMkMsU0FBUztBQUNwRDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7OztBQUdSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCOztBQUUzQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxNQUFNOzs7QUFHTjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHNFQUFzRTtBQUN0RTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsaUVBQWlFO0FBQ2pFOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE1BQU07QUFDTjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4Qjs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxXQUFXO0FBQ1g7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsMEJBQTBCLDhGQUE4Rjs7QUFFeEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVILGlDQUFpQztBQUNqQztBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDhEQUE4RDs7QUFFOUQ7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQSxNQUFNOzs7QUFHTjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOOztBQUVBO0FBQ0EsMEJBQTBCLCtEQUErRDs7QUFFekY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQSx5Q0FBeUMsSUFBSTtBQUM3Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLE9BQU87O0FBRVA7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsNkNBQTZDO0FBQzdDOztBQUVBLHNJQUFzSTs7QUFFdEk7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ047O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUEsbUNBQW1DLElBQUk7QUFDdkM7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNOzs7QUFHTjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsTUFBTTs7O0FBR047O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjs7QUFFQTtBQUNBLDBCQUEwQiwwR0FBMEc7QUFDcEk7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaURBQWlELGFBQWE7O0FBRTlELENBQUM7QUFDRCIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ib290c3RyYXAvZGlzdC9qcy9ib290c3RyYXAuanM/OTA5NSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAgKiBCb290c3RyYXAgdjQuNi4yIChodHRwczovL2dldGJvb3RzdHJhcC5jb20vKVxuICAqIENvcHlyaWdodCAyMDExLTIwMjIgVGhlIEJvb3RzdHJhcCBBdXRob3JzIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvZ3JhcGhzL2NvbnRyaWJ1dG9ycylcbiAgKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21haW4vTElDRU5TRSlcbiAgKi9cbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IGZhY3RvcnkoZXhwb3J0cywgcmVxdWlyZSgnanF1ZXJ5JyksIHJlcXVpcmUoJ3BvcHBlci5qcycpKSA6XG4gIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShbJ2V4cG9ydHMnLCAnanF1ZXJ5JywgJ3BvcHBlci5qcyddLCBmYWN0b3J5KSA6XG4gIChnbG9iYWwgPSB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWxUaGlzIDogZ2xvYmFsIHx8IHNlbGYsIGZhY3RvcnkoZ2xvYmFsLmJvb3RzdHJhcCA9IHt9LCBnbG9iYWwualF1ZXJ5LCBnbG9iYWwuUG9wcGVyKSk7XG59KSh0aGlzLCAoZnVuY3Rpb24gKGV4cG9ydHMsICQsIFBvcHBlcikgeyAndXNlIHN0cmljdCc7XG5cbiAgZnVuY3Rpb24gX2ludGVyb3BEZWZhdWx0TGVnYWN5IChlKSB7IHJldHVybiBlICYmIHR5cGVvZiBlID09PSAnb2JqZWN0JyAmJiAnZGVmYXVsdCcgaW4gZSA/IGUgOiB7ICdkZWZhdWx0JzogZSB9OyB9XG5cbiAgdmFyICRfX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX2ludGVyb3BEZWZhdWx0TGVnYWN5KCQpO1xuICB2YXIgUG9wcGVyX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19pbnRlcm9wRGVmYXVsdExlZ2FjeShQb3BwZXIpO1xuXG4gIGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb25zdHJ1Y3RvciwgXCJwcm90b3R5cGVcIiwge1xuICAgICAgd3JpdGFibGU6IGZhbHNlXG4gICAgfSk7XG4gICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICB9XG5cbiAgZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gICAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduID8gT2JqZWN0LmFzc2lnbi5iaW5kKCkgOiBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9O1xuICAgIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTtcbiAgICBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzcztcblxuICAgIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7XG4gIH1cblxuICBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICAgIF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICAgICAgby5fX3Byb3RvX18gPSBwO1xuICAgICAgcmV0dXJuIG87XG4gICAgfTtcbiAgICByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApO1xuICB9XG5cbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIEJvb3RzdHJhcCAodjQuNi4yKTogdXRpbC5qc1xuICAgKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21haW4vTElDRU5TRSlcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG4gIC8qKlxuICAgKiBQcml2YXRlIFRyYW5zaXRpb25FbmQgSGVscGVyc1xuICAgKi9cblxuICB2YXIgVFJBTlNJVElPTl9FTkQgPSAndHJhbnNpdGlvbmVuZCc7XG4gIHZhciBNQVhfVUlEID0gMTAwMDAwMDtcbiAgdmFyIE1JTExJU0VDT05EU19NVUxUSVBMSUVSID0gMTAwMDsgLy8gU2hvdXRvdXQgQW5ndXNDcm9sbCAoaHR0cHM6Ly9nb28uZ2wvcHh3UUdwKVxuXG4gIGZ1bmN0aW9uIHRvVHlwZShvYmopIHtcbiAgICBpZiAob2JqID09PSBudWxsIHx8IHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gXCJcIiArIG9iajtcbiAgICB9XG5cbiAgICByZXR1cm4ge30udG9TdHJpbmcuY2FsbChvYmopLm1hdGNoKC9cXHMoW2Etel0rKS9pKVsxXS50b0xvd2VyQ2FzZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0U3BlY2lhbFRyYW5zaXRpb25FbmRFdmVudCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYmluZFR5cGU6IFRSQU5TSVRJT05fRU5ELFxuICAgICAgZGVsZWdhdGVUeXBlOiBUUkFOU0lUSU9OX0VORCxcbiAgICAgIGhhbmRsZTogZnVuY3Rpb24gaGFuZGxlKGV2ZW50KSB7XG4gICAgICAgIGlmICgkX19kZWZhdWx0W1wiZGVmYXVsdFwiXShldmVudC50YXJnZXQpLmlzKHRoaXMpKSB7XG4gICAgICAgICAgcmV0dXJuIGV2ZW50LmhhbmRsZU9iai5oYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcHJlZmVyLXJlc3QtcGFyYW1zXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiB0cmFuc2l0aW9uRW5kRW11bGF0b3IoZHVyYXRpb24pIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIGNhbGxlZCA9IGZhbHNlO1xuICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRoaXMpLm9uZShVdGlsLlRSQU5TSVRJT05fRU5ELCBmdW5jdGlvbiAoKSB7XG4gICAgICBjYWxsZWQgPSB0cnVlO1xuICAgIH0pO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFjYWxsZWQpIHtcbiAgICAgICAgVXRpbC50cmlnZ2VyVHJhbnNpdGlvbkVuZChfdGhpcyk7XG4gICAgICB9XG4gICAgfSwgZHVyYXRpb24pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0VHJhbnNpdGlvbkVuZFN1cHBvcnQoKSB7XG4gICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0uZm4uZW11bGF0ZVRyYW5zaXRpb25FbmQgPSB0cmFuc2l0aW9uRW5kRW11bGF0b3I7XG4gICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0uZXZlbnQuc3BlY2lhbFtVdGlsLlRSQU5TSVRJT05fRU5EXSA9IGdldFNwZWNpYWxUcmFuc2l0aW9uRW5kRXZlbnQoKTtcbiAgfVxuICAvKipcbiAgICogUHVibGljIFV0aWwgQVBJXG4gICAqL1xuXG5cbiAgdmFyIFV0aWwgPSB7XG4gICAgVFJBTlNJVElPTl9FTkQ6ICdic1RyYW5zaXRpb25FbmQnLFxuICAgIGdldFVJRDogZnVuY3Rpb24gZ2V0VUlEKHByZWZpeCkge1xuICAgICAgZG8ge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYml0d2lzZVxuICAgICAgICBwcmVmaXggKz0gfn4oTWF0aC5yYW5kb20oKSAqIE1BWF9VSUQpOyAvLyBcIn5+XCIgYWN0cyBsaWtlIGEgZmFzdGVyIE1hdGguZmxvb3IoKSBoZXJlXG4gICAgICB9IHdoaWxlIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwcmVmaXgpKTtcblxuICAgICAgcmV0dXJuIHByZWZpeDtcbiAgICB9LFxuICAgIGdldFNlbGVjdG9yRnJvbUVsZW1lbnQ6IGZ1bmN0aW9uIGdldFNlbGVjdG9yRnJvbUVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgdmFyIHNlbGVjdG9yID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGFyZ2V0Jyk7XG5cbiAgICAgIGlmICghc2VsZWN0b3IgfHwgc2VsZWN0b3IgPT09ICcjJykge1xuICAgICAgICB2YXIgaHJlZkF0dHIgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnaHJlZicpO1xuICAgICAgICBzZWxlY3RvciA9IGhyZWZBdHRyICYmIGhyZWZBdHRyICE9PSAnIycgPyBocmVmQXR0ci50cmltKCkgOiAnJztcbiAgICAgIH1cblxuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpID8gc2VsZWN0b3IgOiBudWxsO1xuICAgICAgfSBjYXRjaCAoXykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9LFxuICAgIGdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50OiBmdW5jdGlvbiBnZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudChlbGVtZW50KSB7XG4gICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9IC8vIEdldCB0cmFuc2l0aW9uLWR1cmF0aW9uIG9mIHRoZSBlbGVtZW50XG5cblxuICAgICAgdmFyIHRyYW5zaXRpb25EdXJhdGlvbiA9ICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKGVsZW1lbnQpLmNzcygndHJhbnNpdGlvbi1kdXJhdGlvbicpO1xuICAgICAgdmFyIHRyYW5zaXRpb25EZWxheSA9ICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKGVsZW1lbnQpLmNzcygndHJhbnNpdGlvbi1kZWxheScpO1xuICAgICAgdmFyIGZsb2F0VHJhbnNpdGlvbkR1cmF0aW9uID0gcGFyc2VGbG9hdCh0cmFuc2l0aW9uRHVyYXRpb24pO1xuICAgICAgdmFyIGZsb2F0VHJhbnNpdGlvbkRlbGF5ID0gcGFyc2VGbG9hdCh0cmFuc2l0aW9uRGVsYXkpOyAvLyBSZXR1cm4gMCBpZiBlbGVtZW50IG9yIHRyYW5zaXRpb24gZHVyYXRpb24gaXMgbm90IGZvdW5kXG5cbiAgICAgIGlmICghZmxvYXRUcmFuc2l0aW9uRHVyYXRpb24gJiYgIWZsb2F0VHJhbnNpdGlvbkRlbGF5KSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfSAvLyBJZiBtdWx0aXBsZSBkdXJhdGlvbnMgYXJlIGRlZmluZWQsIHRha2UgdGhlIGZpcnN0XG5cblxuICAgICAgdHJhbnNpdGlvbkR1cmF0aW9uID0gdHJhbnNpdGlvbkR1cmF0aW9uLnNwbGl0KCcsJylbMF07XG4gICAgICB0cmFuc2l0aW9uRGVsYXkgPSB0cmFuc2l0aW9uRGVsYXkuc3BsaXQoJywnKVswXTtcbiAgICAgIHJldHVybiAocGFyc2VGbG9hdCh0cmFuc2l0aW9uRHVyYXRpb24pICsgcGFyc2VGbG9hdCh0cmFuc2l0aW9uRGVsYXkpKSAqIE1JTExJU0VDT05EU19NVUxUSVBMSUVSO1xuICAgIH0sXG4gICAgcmVmbG93OiBmdW5jdGlvbiByZWZsb3coZWxlbWVudCkge1xuICAgICAgcmV0dXJuIGVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICAgIH0sXG4gICAgdHJpZ2dlclRyYW5zaXRpb25FbmQ6IGZ1bmN0aW9uIHRyaWdnZXJUcmFuc2l0aW9uRW5kKGVsZW1lbnQpIHtcbiAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKGVsZW1lbnQpLnRyaWdnZXIoVFJBTlNJVElPTl9FTkQpO1xuICAgIH0sXG4gICAgc3VwcG9ydHNUcmFuc2l0aW9uRW5kOiBmdW5jdGlvbiBzdXBwb3J0c1RyYW5zaXRpb25FbmQoKSB7XG4gICAgICByZXR1cm4gQm9vbGVhbihUUkFOU0lUSU9OX0VORCk7XG4gICAgfSxcbiAgICBpc0VsZW1lbnQ6IGZ1bmN0aW9uIGlzRWxlbWVudChvYmopIHtcbiAgICAgIHJldHVybiAob2JqWzBdIHx8IG9iaikubm9kZVR5cGU7XG4gICAgfSxcbiAgICB0eXBlQ2hlY2tDb25maWc6IGZ1bmN0aW9uIHR5cGVDaGVja0NvbmZpZyhjb21wb25lbnROYW1lLCBjb25maWcsIGNvbmZpZ1R5cGVzKSB7XG4gICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBjb25maWdUeXBlcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZ1R5cGVzLCBwcm9wZXJ0eSkpIHtcbiAgICAgICAgICB2YXIgZXhwZWN0ZWRUeXBlcyA9IGNvbmZpZ1R5cGVzW3Byb3BlcnR5XTtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBjb25maWdbcHJvcGVydHldO1xuICAgICAgICAgIHZhciB2YWx1ZVR5cGUgPSB2YWx1ZSAmJiBVdGlsLmlzRWxlbWVudCh2YWx1ZSkgPyAnZWxlbWVudCcgOiB0b1R5cGUodmFsdWUpO1xuXG4gICAgICAgICAgaWYgKCFuZXcgUmVnRXhwKGV4cGVjdGVkVHlwZXMpLnRlc3QodmFsdWVUeXBlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGNvbXBvbmVudE5hbWUudG9VcHBlckNhc2UoKSArIFwiOiBcIiArIChcIk9wdGlvbiBcXFwiXCIgKyBwcm9wZXJ0eSArIFwiXFxcIiBwcm92aWRlZCB0eXBlIFxcXCJcIiArIHZhbHVlVHlwZSArIFwiXFxcIiBcIikgKyAoXCJidXQgZXhwZWN0ZWQgdHlwZSBcXFwiXCIgKyBleHBlY3RlZFR5cGVzICsgXCJcXFwiLlwiKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBmaW5kU2hhZG93Um9vdDogZnVuY3Rpb24gZmluZFNoYWRvd1Jvb3QoZWxlbWVudCkge1xuICAgICAgaWYgKCFkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXR0YWNoU2hhZG93KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfSAvLyBDYW4gZmluZCB0aGUgc2hhZG93IHJvb3Qgb3RoZXJ3aXNlIGl0J2xsIHJldHVybiB0aGUgZG9jdW1lbnRcblxuXG4gICAgICBpZiAodHlwZW9mIGVsZW1lbnQuZ2V0Um9vdE5vZGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBlbGVtZW50LmdldFJvb3ROb2RlKCk7XG4gICAgICAgIHJldHVybiByb290IGluc3RhbmNlb2YgU2hhZG93Um9vdCA/IHJvb3QgOiBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIFNoYWRvd1Jvb3QpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICB9IC8vIHdoZW4gd2UgZG9uJ3QgZmluZCBhIHNoYWRvdyByb290XG5cblxuICAgICAgaWYgKCFlbGVtZW50LnBhcmVudE5vZGUpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBVdGlsLmZpbmRTaGFkb3dSb290KGVsZW1lbnQucGFyZW50Tm9kZSk7XG4gICAgfSxcbiAgICBqUXVlcnlEZXRlY3Rpb246IGZ1bmN0aW9uIGpRdWVyeURldGVjdGlvbigpIHtcbiAgICAgIGlmICh0eXBlb2YgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Jvb3RzdHJhcFxcJ3MgSmF2YVNjcmlwdCByZXF1aXJlcyBqUXVlcnkuIGpRdWVyeSBtdXN0IGJlIGluY2x1ZGVkIGJlZm9yZSBCb290c3RyYXBcXCdzIEphdmFTY3JpcHQuJyk7XG4gICAgICB9XG5cbiAgICAgIHZhciB2ZXJzaW9uID0gJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0uZm4uanF1ZXJ5LnNwbGl0KCcgJylbMF0uc3BsaXQoJy4nKTtcbiAgICAgIHZhciBtaW5NYWpvciA9IDE7XG4gICAgICB2YXIgbHRNYWpvciA9IDI7XG4gICAgICB2YXIgbWluTWlub3IgPSA5O1xuICAgICAgdmFyIG1pblBhdGNoID0gMTtcbiAgICAgIHZhciBtYXhNYWpvciA9IDQ7XG5cbiAgICAgIGlmICh2ZXJzaW9uWzBdIDwgbHRNYWpvciAmJiB2ZXJzaW9uWzFdIDwgbWluTWlub3IgfHwgdmVyc2lvblswXSA9PT0gbWluTWFqb3IgJiYgdmVyc2lvblsxXSA9PT0gbWluTWlub3IgJiYgdmVyc2lvblsyXSA8IG1pblBhdGNoIHx8IHZlcnNpb25bMF0gPj0gbWF4TWFqb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCb290c3RyYXBcXCdzIEphdmFTY3JpcHQgcmVxdWlyZXMgYXQgbGVhc3QgalF1ZXJ5IHYxLjkuMSBidXQgbGVzcyB0aGFuIHY0LjAuMCcpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgVXRpbC5qUXVlcnlEZXRlY3Rpb24oKTtcbiAgc2V0VHJhbnNpdGlvbkVuZFN1cHBvcnQoKTtcblxuICAvKipcbiAgICogQ29uc3RhbnRzXG4gICAqL1xuXG4gIHZhciBOQU1FJGEgPSAnYWxlcnQnO1xuICB2YXIgVkVSU0lPTiRhID0gJzQuNi4yJztcbiAgdmFyIERBVEFfS0VZJGEgPSAnYnMuYWxlcnQnO1xuICB2YXIgRVZFTlRfS0VZJGEgPSBcIi5cIiArIERBVEFfS0VZJGE7XG4gIHZhciBEQVRBX0FQSV9LRVkkNyA9ICcuZGF0YS1hcGknO1xuICB2YXIgSlFVRVJZX05PX0NPTkZMSUNUJGEgPSAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5mbltOQU1FJGFdO1xuICB2YXIgQ0xBU1NfTkFNRV9BTEVSVCA9ICdhbGVydCc7XG4gIHZhciBDTEFTU19OQU1FX0ZBREUkNSA9ICdmYWRlJztcbiAgdmFyIENMQVNTX05BTUVfU0hPVyQ3ID0gJ3Nob3cnO1xuICB2YXIgRVZFTlRfQ0xPU0UgPSBcImNsb3NlXCIgKyBFVkVOVF9LRVkkYTtcbiAgdmFyIEVWRU5UX0NMT1NFRCA9IFwiY2xvc2VkXCIgKyBFVkVOVF9LRVkkYTtcbiAgdmFyIEVWRU5UX0NMSUNLX0RBVEFfQVBJJDYgPSBcImNsaWNrXCIgKyBFVkVOVF9LRVkkYSArIERBVEFfQVBJX0tFWSQ3O1xuICB2YXIgU0VMRUNUT1JfRElTTUlTUyA9ICdbZGF0YS1kaXNtaXNzPVwiYWxlcnRcIl0nO1xuICAvKipcbiAgICogQ2xhc3MgZGVmaW5pdGlvblxuICAgKi9cblxuICB2YXIgQWxlcnQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEFsZXJ0KGVsZW1lbnQpIHtcbiAgICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xuICAgIH0gLy8gR2V0dGVyc1xuXG5cbiAgICB2YXIgX3Byb3RvID0gQWxlcnQucHJvdG90eXBlO1xuXG4gICAgLy8gUHVibGljXG4gICAgX3Byb3RvLmNsb3NlID0gZnVuY3Rpb24gY2xvc2UoZWxlbWVudCkge1xuICAgICAgdmFyIHJvb3RFbGVtZW50ID0gdGhpcy5fZWxlbWVudDtcblxuICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgcm9vdEVsZW1lbnQgPSB0aGlzLl9nZXRSb290RWxlbWVudChlbGVtZW50KTtcbiAgICAgIH1cblxuICAgICAgdmFyIGN1c3RvbUV2ZW50ID0gdGhpcy5fdHJpZ2dlckNsb3NlRXZlbnQocm9vdEVsZW1lbnQpO1xuXG4gICAgICBpZiAoY3VzdG9tRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9yZW1vdmVFbGVtZW50KHJvb3RFbGVtZW50KTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0ucmVtb3ZlRGF0YSh0aGlzLl9lbGVtZW50LCBEQVRBX0tFWSRhKTtcbiAgICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xuICAgIH0gLy8gUHJpdmF0ZVxuICAgIDtcblxuICAgIF9wcm90by5fZ2V0Um9vdEVsZW1lbnQgPSBmdW5jdGlvbiBfZ2V0Um9vdEVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgdmFyIHNlbGVjdG9yID0gVXRpbC5nZXRTZWxlY3RvckZyb21FbGVtZW50KGVsZW1lbnQpO1xuICAgICAgdmFyIHBhcmVudCA9IGZhbHNlO1xuXG4gICAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgICAgcGFyZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgICB9XG5cbiAgICAgIGlmICghcGFyZW50KSB7XG4gICAgICAgIHBhcmVudCA9ICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKGVsZW1lbnQpLmNsb3Nlc3QoXCIuXCIgKyBDTEFTU19OQU1FX0FMRVJUKVswXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHBhcmVudDtcbiAgICB9O1xuXG4gICAgX3Byb3RvLl90cmlnZ2VyQ2xvc2VFdmVudCA9IGZ1bmN0aW9uIF90cmlnZ2VyQ2xvc2VFdmVudChlbGVtZW50KSB7XG4gICAgICB2YXIgY2xvc2VFdmVudCA9ICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLkV2ZW50KEVWRU5UX0NMT1NFKTtcbiAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKGVsZW1lbnQpLnRyaWdnZXIoY2xvc2VFdmVudCk7XG4gICAgICByZXR1cm4gY2xvc2VFdmVudDtcbiAgICB9O1xuXG4gICAgX3Byb3RvLl9yZW1vdmVFbGVtZW50ID0gZnVuY3Rpb24gX3JlbW92ZUVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0oZWxlbWVudCkucmVtb3ZlQ2xhc3MoQ0xBU1NfTkFNRV9TSE9XJDcpO1xuXG4gICAgICBpZiAoISRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKGVsZW1lbnQpLmhhc0NsYXNzKENMQVNTX05BTUVfRkFERSQ1KSkge1xuICAgICAgICB0aGlzLl9kZXN0cm95RWxlbWVudChlbGVtZW50KTtcblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciB0cmFuc2l0aW9uRHVyYXRpb24gPSBVdGlsLmdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KGVsZW1lbnQpO1xuICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0oZWxlbWVudCkub25lKFV0aWwuVFJBTlNJVElPTl9FTkQsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuX2Rlc3Ryb3lFbGVtZW50KGVsZW1lbnQsIGV2ZW50KTtcbiAgICAgIH0pLmVtdWxhdGVUcmFuc2l0aW9uRW5kKHRyYW5zaXRpb25EdXJhdGlvbik7XG4gICAgfTtcblxuICAgIF9wcm90by5fZGVzdHJveUVsZW1lbnQgPSBmdW5jdGlvbiBfZGVzdHJveUVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0oZWxlbWVudCkuZGV0YWNoKCkudHJpZ2dlcihFVkVOVF9DTE9TRUQpLnJlbW92ZSgpO1xuICAgIH0gLy8gU3RhdGljXG4gICAgO1xuXG4gICAgQWxlcnQuX2pRdWVyeUludGVyZmFjZSA9IGZ1bmN0aW9uIF9qUXVlcnlJbnRlcmZhY2UoY29uZmlnKSB7XG4gICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyICRlbGVtZW50ID0gJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGhpcyk7XG4gICAgICAgIHZhciBkYXRhID0gJGVsZW1lbnQuZGF0YShEQVRBX0tFWSRhKTtcblxuICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICBkYXRhID0gbmV3IEFsZXJ0KHRoaXMpO1xuICAgICAgICAgICRlbGVtZW50LmRhdGEoREFUQV9LRVkkYSwgZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29uZmlnID09PSAnY2xvc2UnKSB7XG4gICAgICAgICAgZGF0YVtjb25maWddKHRoaXMpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgQWxlcnQuX2hhbmRsZURpc21pc3MgPSBmdW5jdGlvbiBfaGFuZGxlRGlzbWlzcyhhbGVydEluc3RhbmNlKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudCkge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBhbGVydEluc3RhbmNlLmNsb3NlKHRoaXMpO1xuICAgICAgfTtcbiAgICB9O1xuXG4gICAgX2NyZWF0ZUNsYXNzKEFsZXJ0LCBudWxsLCBbe1xuICAgICAga2V5OiBcIlZFUlNJT05cIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gVkVSU0lPTiRhO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBBbGVydDtcbiAgfSgpO1xuICAvKipcbiAgICogRGF0YSBBUEkgaW1wbGVtZW50YXRpb25cbiAgICovXG5cblxuICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXShkb2N1bWVudCkub24oRVZFTlRfQ0xJQ0tfREFUQV9BUEkkNiwgU0VMRUNUT1JfRElTTUlTUywgQWxlcnQuX2hhbmRsZURpc21pc3MobmV3IEFsZXJ0KCkpKTtcbiAgLyoqXG4gICAqIGpRdWVyeVxuICAgKi9cblxuICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5mbltOQU1FJGFdID0gQWxlcnQuX2pRdWVyeUludGVyZmFjZTtcbiAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0uZm5bTkFNRSRhXS5Db25zdHJ1Y3RvciA9IEFsZXJ0O1xuXG4gICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLmZuW05BTUUkYV0ubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5mbltOQU1FJGFdID0gSlFVRVJZX05PX0NPTkZMSUNUJGE7XG4gICAgcmV0dXJuIEFsZXJ0Ll9qUXVlcnlJbnRlcmZhY2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIENvbnN0YW50c1xuICAgKi9cblxuICB2YXIgTkFNRSQ5ID0gJ2J1dHRvbic7XG4gIHZhciBWRVJTSU9OJDkgPSAnNC42LjInO1xuICB2YXIgREFUQV9LRVkkOSA9ICdicy5idXR0b24nO1xuICB2YXIgRVZFTlRfS0VZJDkgPSBcIi5cIiArIERBVEFfS0VZJDk7XG4gIHZhciBEQVRBX0FQSV9LRVkkNiA9ICcuZGF0YS1hcGknO1xuICB2YXIgSlFVRVJZX05PX0NPTkZMSUNUJDkgPSAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5mbltOQU1FJDldO1xuICB2YXIgQ0xBU1NfTkFNRV9BQ1RJVkUkMyA9ICdhY3RpdmUnO1xuICB2YXIgQ0xBU1NfTkFNRV9CVVRUT04gPSAnYnRuJztcbiAgdmFyIENMQVNTX05BTUVfRk9DVVMgPSAnZm9jdXMnO1xuICB2YXIgRVZFTlRfQ0xJQ0tfREFUQV9BUEkkNSA9IFwiY2xpY2tcIiArIEVWRU5UX0tFWSQ5ICsgREFUQV9BUElfS0VZJDY7XG4gIHZhciBFVkVOVF9GT0NVU19CTFVSX0RBVEFfQVBJID0gXCJmb2N1c1wiICsgRVZFTlRfS0VZJDkgKyBEQVRBX0FQSV9LRVkkNiArIFwiIFwiICsgKFwiYmx1clwiICsgRVZFTlRfS0VZJDkgKyBEQVRBX0FQSV9LRVkkNik7XG4gIHZhciBFVkVOVF9MT0FEX0RBVEFfQVBJJDIgPSBcImxvYWRcIiArIEVWRU5UX0tFWSQ5ICsgREFUQV9BUElfS0VZJDY7XG4gIHZhciBTRUxFQ1RPUl9EQVRBX1RPR0dMRV9DQVJST1QgPSAnW2RhdGEtdG9nZ2xlXj1cImJ1dHRvblwiXSc7XG4gIHZhciBTRUxFQ1RPUl9EQVRBX1RPR0dMRVMgPSAnW2RhdGEtdG9nZ2xlPVwiYnV0dG9uc1wiXSc7XG4gIHZhciBTRUxFQ1RPUl9EQVRBX1RPR0dMRSQ0ID0gJ1tkYXRhLXRvZ2dsZT1cImJ1dHRvblwiXSc7XG4gIHZhciBTRUxFQ1RPUl9EQVRBX1RPR0dMRVNfQlVUVE9OUyA9ICdbZGF0YS10b2dnbGU9XCJidXR0b25zXCJdIC5idG4nO1xuICB2YXIgU0VMRUNUT1JfSU5QVVQgPSAnaW5wdXQ6bm90KFt0eXBlPVwiaGlkZGVuXCJdKSc7XG4gIHZhciBTRUxFQ1RPUl9BQ1RJVkUkMiA9ICcuYWN0aXZlJztcbiAgdmFyIFNFTEVDVE9SX0JVVFRPTiA9ICcuYnRuJztcbiAgLyoqXG4gICAqIENsYXNzIGRlZmluaXRpb25cbiAgICovXG5cbiAgdmFyIEJ1dHRvbiA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQnV0dG9uKGVsZW1lbnQpIHtcbiAgICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgdGhpcy5zaG91bGRBdm9pZFRyaWdnZXJDaGFuZ2UgPSBmYWxzZTtcbiAgICB9IC8vIEdldHRlcnNcblxuXG4gICAgdmFyIF9wcm90byA9IEJ1dHRvbi5wcm90b3R5cGU7XG5cbiAgICAvLyBQdWJsaWNcbiAgICBfcHJvdG8udG9nZ2xlID0gZnVuY3Rpb24gdG9nZ2xlKCkge1xuICAgICAgdmFyIHRyaWdnZXJDaGFuZ2VFdmVudCA9IHRydWU7XG4gICAgICB2YXIgYWRkQXJpYVByZXNzZWQgPSB0cnVlO1xuICAgICAgdmFyIHJvb3RFbGVtZW50ID0gJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGhpcy5fZWxlbWVudCkuY2xvc2VzdChTRUxFQ1RPUl9EQVRBX1RPR0dMRVMpWzBdO1xuXG4gICAgICBpZiAocm9vdEVsZW1lbnQpIHtcbiAgICAgICAgdmFyIGlucHV0ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SX0lOUFVUKTtcblxuICAgICAgICBpZiAoaW5wdXQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQudHlwZSA9PT0gJ3JhZGlvJykge1xuICAgICAgICAgICAgaWYgKGlucHV0LmNoZWNrZWQgJiYgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoQ0xBU1NfTkFNRV9BQ1RJVkUkMykpIHtcbiAgICAgICAgICAgICAgdHJpZ2dlckNoYW5nZUV2ZW50ID0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB2YXIgYWN0aXZlRWxlbWVudCA9IHJvb3RFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JfQUNUSVZFJDIpO1xuXG4gICAgICAgICAgICAgIGlmIChhY3RpdmVFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0oYWN0aXZlRWxlbWVudCkucmVtb3ZlQ2xhc3MoQ0xBU1NfTkFNRV9BQ1RJVkUkMyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodHJpZ2dlckNoYW5nZUV2ZW50KSB7XG4gICAgICAgICAgICAvLyBpZiBpdCdzIG5vdCBhIHJhZGlvIGJ1dHRvbiBvciBjaGVja2JveCBkb24ndCBhZGQgYSBwb2ludGxlc3MvaW52YWxpZCBjaGVja2VkIHByb3BlcnR5IHRvIHRoZSBpbnB1dFxuICAgICAgICAgICAgaWYgKGlucHV0LnR5cGUgPT09ICdjaGVja2JveCcgfHwgaW5wdXQudHlwZSA9PT0gJ3JhZGlvJykge1xuICAgICAgICAgICAgICBpbnB1dC5jaGVja2VkID0gIXRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKENMQVNTX05BTUVfQUNUSVZFJDMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXRoaXMuc2hvdWxkQXZvaWRUcmlnZ2VyQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKGlucHV0KS50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpbnB1dC5mb2N1cygpO1xuICAgICAgICAgIGFkZEFyaWFQcmVzc2VkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCEodGhpcy5fZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykgfHwgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2Rpc2FibGVkJykpKSB7XG4gICAgICAgIGlmIChhZGRBcmlhUHJlc3NlZCkge1xuICAgICAgICAgIHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLXByZXNzZWQnLCAhdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoQ0xBU1NfTkFNRV9BQ1RJVkUkMykpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRyaWdnZXJDaGFuZ2VFdmVudCkge1xuICAgICAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRoaXMuX2VsZW1lbnQpLnRvZ2dsZUNsYXNzKENMQVNTX05BTUVfQUNUSVZFJDMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5kaXNwb3NlID0gZnVuY3Rpb24gZGlzcG9zZSgpIHtcbiAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLnJlbW92ZURhdGEodGhpcy5fZWxlbWVudCwgREFUQV9LRVkkOSk7XG4gICAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcbiAgICB9IC8vIFN0YXRpY1xuICAgIDtcblxuICAgIEJ1dHRvbi5falF1ZXJ5SW50ZXJmYWNlID0gZnVuY3Rpb24gX2pRdWVyeUludGVyZmFjZShjb25maWcsIGF2b2lkVHJpZ2dlckNoYW5nZSkge1xuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciAkZWxlbWVudCA9ICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRoaXMpO1xuICAgICAgICB2YXIgZGF0YSA9ICRlbGVtZW50LmRhdGEoREFUQV9LRVkkOSk7XG5cbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgZGF0YSA9IG5ldyBCdXR0b24odGhpcyk7XG4gICAgICAgICAgJGVsZW1lbnQuZGF0YShEQVRBX0tFWSQ5LCBkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGEuc2hvdWxkQXZvaWRUcmlnZ2VyQ2hhbmdlID0gYXZvaWRUcmlnZ2VyQ2hhbmdlO1xuXG4gICAgICAgIGlmIChjb25maWcgPT09ICd0b2dnbGUnKSB7XG4gICAgICAgICAgZGF0YVtjb25maWddKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfY3JlYXRlQ2xhc3MoQnV0dG9uLCBudWxsLCBbe1xuICAgICAga2V5OiBcIlZFUlNJT05cIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gVkVSU0lPTiQ5O1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBCdXR0b247XG4gIH0oKTtcbiAgLyoqXG4gICAqIERhdGEgQVBJIGltcGxlbWVudGF0aW9uXG4gICAqL1xuXG5cbiAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0oZG9jdW1lbnQpLm9uKEVWRU5UX0NMSUNLX0RBVEFfQVBJJDUsIFNFTEVDVE9SX0RBVEFfVE9HR0xFX0NBUlJPVCwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgdmFyIGJ1dHRvbiA9IGV2ZW50LnRhcmdldDtcbiAgICB2YXIgaW5pdGlhbEJ1dHRvbiA9IGJ1dHRvbjtcblxuICAgIGlmICghJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0oYnV0dG9uKS5oYXNDbGFzcyhDTEFTU19OQU1FX0JVVFRPTikpIHtcbiAgICAgIGJ1dHRvbiA9ICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKGJ1dHRvbikuY2xvc2VzdChTRUxFQ1RPUl9CVVRUT04pWzBdO1xuICAgIH1cblxuICAgIGlmICghYnV0dG9uIHx8IGJ1dHRvbi5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykgfHwgYnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygnZGlzYWJsZWQnKSkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsgLy8gd29yayBhcm91bmQgRmlyZWZveCBidWcgIzE1NDA5OTVcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGlucHV0QnRuID0gYnV0dG9uLnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JfSU5QVVQpO1xuXG4gICAgICBpZiAoaW5wdXRCdG4gJiYgKGlucHV0QnRuLmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSB8fCBpbnB1dEJ0bi5jbGFzc0xpc3QuY29udGFpbnMoJ2Rpc2FibGVkJykpKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IC8vIHdvcmsgYXJvdW5kIEZpcmVmb3ggYnVnICMxNTQwOTk1XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoaW5pdGlhbEJ1dHRvbi50YWdOYW1lID09PSAnSU5QVVQnIHx8IGJ1dHRvbi50YWdOYW1lICE9PSAnTEFCRUwnKSB7XG4gICAgICAgIEJ1dHRvbi5falF1ZXJ5SW50ZXJmYWNlLmNhbGwoJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0oYnV0dG9uKSwgJ3RvZ2dsZScsIGluaXRpYWxCdXR0b24udGFnTmFtZSA9PT0gJ0lOUFVUJyk7XG4gICAgICB9XG4gICAgfVxuICB9KS5vbihFVkVOVF9GT0NVU19CTFVSX0RBVEFfQVBJLCBTRUxFQ1RPUl9EQVRBX1RPR0dMRV9DQVJST1QsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIHZhciBidXR0b24gPSAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXShldmVudC50YXJnZXQpLmNsb3Nlc3QoU0VMRUNUT1JfQlVUVE9OKVswXTtcbiAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXShidXR0b24pLnRvZ2dsZUNsYXNzKENMQVNTX05BTUVfRk9DVVMsIC9eZm9jdXMoaW4pPyQvLnRlc3QoZXZlbnQudHlwZSkpO1xuICB9KTtcbiAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0od2luZG93KS5vbihFVkVOVF9MT0FEX0RBVEFfQVBJJDIsIGZ1bmN0aW9uICgpIHtcbiAgICAvLyBlbnN1cmUgY29ycmVjdCBhY3RpdmUgY2xhc3MgaXMgc2V0IHRvIG1hdGNoIHRoZSBjb250cm9scycgYWN0dWFsIHZhbHVlcy9zdGF0ZXNcbiAgICAvLyBmaW5kIGFsbCBjaGVja2JveGVzL3JlYWRpbyBidXR0b25zIGluc2lkZSBkYXRhLXRvZ2dsZSBncm91cHNcbiAgICB2YXIgYnV0dG9ucyA9IFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChTRUxFQ1RPUl9EQVRBX1RPR0dMRVNfQlVUVE9OUykpO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGJ1dHRvbnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHZhciBidXR0b24gPSBidXR0b25zW2ldO1xuICAgICAgdmFyIGlucHV0ID0gYnV0dG9uLnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JfSU5QVVQpO1xuXG4gICAgICBpZiAoaW5wdXQuY2hlY2tlZCB8fCBpbnB1dC5oYXNBdHRyaWJ1dGUoJ2NoZWNrZWQnKSkge1xuICAgICAgICBidXR0b24uY2xhc3NMaXN0LmFkZChDTEFTU19OQU1FX0FDVElWRSQzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKENMQVNTX05BTUVfQUNUSVZFJDMpO1xuICAgICAgfVxuICAgIH0gLy8gZmluZCBhbGwgYnV0dG9uIHRvZ2dsZXNcblxuXG4gICAgYnV0dG9ucyA9IFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChTRUxFQ1RPUl9EQVRBX1RPR0dMRSQ0KSk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDAsIF9sZW4gPSBidXR0b25zLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgICB2YXIgX2J1dHRvbiA9IGJ1dHRvbnNbX2ldO1xuXG4gICAgICBpZiAoX2J1dHRvbi5nZXRBdHRyaWJ1dGUoJ2FyaWEtcHJlc3NlZCcpID09PSAndHJ1ZScpIHtcbiAgICAgICAgX2J1dHRvbi5jbGFzc0xpc3QuYWRkKENMQVNTX05BTUVfQUNUSVZFJDMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX2J1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKENMQVNTX05BTUVfQUNUSVZFJDMpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIC8qKlxuICAgKiBqUXVlcnlcbiAgICovXG5cbiAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0uZm5bTkFNRSQ5XSA9IEJ1dHRvbi5falF1ZXJ5SW50ZXJmYWNlO1xuICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5mbltOQU1FJDldLkNvbnN0cnVjdG9yID0gQnV0dG9uO1xuXG4gICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLmZuW05BTUUkOV0ubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5mbltOQU1FJDldID0gSlFVRVJZX05PX0NPTkZMSUNUJDk7XG4gICAgcmV0dXJuIEJ1dHRvbi5falF1ZXJ5SW50ZXJmYWNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDb25zdGFudHNcbiAgICovXG5cbiAgdmFyIE5BTUUkOCA9ICdjYXJvdXNlbCc7XG4gIHZhciBWRVJTSU9OJDggPSAnNC42LjInO1xuICB2YXIgREFUQV9LRVkkOCA9ICdicy5jYXJvdXNlbCc7XG4gIHZhciBFVkVOVF9LRVkkOCA9IFwiLlwiICsgREFUQV9LRVkkODtcbiAgdmFyIERBVEFfQVBJX0tFWSQ1ID0gJy5kYXRhLWFwaSc7XG4gIHZhciBKUVVFUllfTk9fQ09ORkxJQ1QkOCA9ICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLmZuW05BTUUkOF07XG4gIHZhciBBUlJPV19MRUZUX0tFWUNPREUgPSAzNzsgLy8gS2V5Ym9hcmRFdmVudC53aGljaCB2YWx1ZSBmb3IgbGVmdCBhcnJvdyBrZXlcblxuICB2YXIgQVJST1dfUklHSFRfS0VZQ09ERSA9IDM5OyAvLyBLZXlib2FyZEV2ZW50LndoaWNoIHZhbHVlIGZvciByaWdodCBhcnJvdyBrZXlcblxuICB2YXIgVE9VQ0hFVkVOVF9DT01QQVRfV0FJVCA9IDUwMDsgLy8gVGltZSBmb3IgbW91c2UgY29tcGF0IGV2ZW50cyB0byBmaXJlIGFmdGVyIHRvdWNoXG5cbiAgdmFyIFNXSVBFX1RIUkVTSE9MRCA9IDQwO1xuICB2YXIgQ0xBU1NfTkFNRV9DQVJPVVNFTCA9ICdjYXJvdXNlbCc7XG4gIHZhciBDTEFTU19OQU1FX0FDVElWRSQyID0gJ2FjdGl2ZSc7XG4gIHZhciBDTEFTU19OQU1FX1NMSURFID0gJ3NsaWRlJztcbiAgdmFyIENMQVNTX05BTUVfUklHSFQgPSAnY2Fyb3VzZWwtaXRlbS1yaWdodCc7XG4gIHZhciBDTEFTU19OQU1FX0xFRlQgPSAnY2Fyb3VzZWwtaXRlbS1sZWZ0JztcbiAgdmFyIENMQVNTX05BTUVfTkVYVCA9ICdjYXJvdXNlbC1pdGVtLW5leHQnO1xuICB2YXIgQ0xBU1NfTkFNRV9QUkVWID0gJ2Nhcm91c2VsLWl0ZW0tcHJldic7XG4gIHZhciBDTEFTU19OQU1FX1BPSU5URVJfRVZFTlQgPSAncG9pbnRlci1ldmVudCc7XG4gIHZhciBESVJFQ1RJT05fTkVYVCA9ICduZXh0JztcbiAgdmFyIERJUkVDVElPTl9QUkVWID0gJ3ByZXYnO1xuICB2YXIgRElSRUNUSU9OX0xFRlQgPSAnbGVmdCc7XG4gIHZhciBESVJFQ1RJT05fUklHSFQgPSAncmlnaHQnO1xuICB2YXIgRVZFTlRfU0xJREUgPSBcInNsaWRlXCIgKyBFVkVOVF9LRVkkODtcbiAgdmFyIEVWRU5UX1NMSUQgPSBcInNsaWRcIiArIEVWRU5UX0tFWSQ4O1xuICB2YXIgRVZFTlRfS0VZRE9XTiA9IFwia2V5ZG93blwiICsgRVZFTlRfS0VZJDg7XG4gIHZhciBFVkVOVF9NT1VTRUVOVEVSID0gXCJtb3VzZWVudGVyXCIgKyBFVkVOVF9LRVkkODtcbiAgdmFyIEVWRU5UX01PVVNFTEVBVkUgPSBcIm1vdXNlbGVhdmVcIiArIEVWRU5UX0tFWSQ4O1xuICB2YXIgRVZFTlRfVE9VQ0hTVEFSVCA9IFwidG91Y2hzdGFydFwiICsgRVZFTlRfS0VZJDg7XG4gIHZhciBFVkVOVF9UT1VDSE1PVkUgPSBcInRvdWNobW92ZVwiICsgRVZFTlRfS0VZJDg7XG4gIHZhciBFVkVOVF9UT1VDSEVORCA9IFwidG91Y2hlbmRcIiArIEVWRU5UX0tFWSQ4O1xuICB2YXIgRVZFTlRfUE9JTlRFUkRPV04gPSBcInBvaW50ZXJkb3duXCIgKyBFVkVOVF9LRVkkODtcbiAgdmFyIEVWRU5UX1BPSU5URVJVUCA9IFwicG9pbnRlcnVwXCIgKyBFVkVOVF9LRVkkODtcbiAgdmFyIEVWRU5UX0RSQUdfU1RBUlQgPSBcImRyYWdzdGFydFwiICsgRVZFTlRfS0VZJDg7XG4gIHZhciBFVkVOVF9MT0FEX0RBVEFfQVBJJDEgPSBcImxvYWRcIiArIEVWRU5UX0tFWSQ4ICsgREFUQV9BUElfS0VZJDU7XG4gIHZhciBFVkVOVF9DTElDS19EQVRBX0FQSSQ0ID0gXCJjbGlja1wiICsgRVZFTlRfS0VZJDggKyBEQVRBX0FQSV9LRVkkNTtcbiAgdmFyIFNFTEVDVE9SX0FDVElWRSQxID0gJy5hY3RpdmUnO1xuICB2YXIgU0VMRUNUT1JfQUNUSVZFX0lURU0gPSAnLmFjdGl2ZS5jYXJvdXNlbC1pdGVtJztcbiAgdmFyIFNFTEVDVE9SX0lURU0gPSAnLmNhcm91c2VsLWl0ZW0nO1xuICB2YXIgU0VMRUNUT1JfSVRFTV9JTUcgPSAnLmNhcm91c2VsLWl0ZW0gaW1nJztcbiAgdmFyIFNFTEVDVE9SX05FWFRfUFJFViA9ICcuY2Fyb3VzZWwtaXRlbS1uZXh0LCAuY2Fyb3VzZWwtaXRlbS1wcmV2JztcbiAgdmFyIFNFTEVDVE9SX0lORElDQVRPUlMgPSAnLmNhcm91c2VsLWluZGljYXRvcnMnO1xuICB2YXIgU0VMRUNUT1JfREFUQV9TTElERSA9ICdbZGF0YS1zbGlkZV0sIFtkYXRhLXNsaWRlLXRvXSc7XG4gIHZhciBTRUxFQ1RPUl9EQVRBX1JJREUgPSAnW2RhdGEtcmlkZT1cImNhcm91c2VsXCJdJztcbiAgdmFyIERlZmF1bHQkNyA9IHtcbiAgICBpbnRlcnZhbDogNTAwMCxcbiAgICBrZXlib2FyZDogdHJ1ZSxcbiAgICBzbGlkZTogZmFsc2UsXG4gICAgcGF1c2U6ICdob3ZlcicsXG4gICAgd3JhcDogdHJ1ZSxcbiAgICB0b3VjaDogdHJ1ZVxuICB9O1xuICB2YXIgRGVmYXVsdFR5cGUkNyA9IHtcbiAgICBpbnRlcnZhbDogJyhudW1iZXJ8Ym9vbGVhbiknLFxuICAgIGtleWJvYXJkOiAnYm9vbGVhbicsXG4gICAgc2xpZGU6ICcoYm9vbGVhbnxzdHJpbmcpJyxcbiAgICBwYXVzZTogJyhzdHJpbmd8Ym9vbGVhbiknLFxuICAgIHdyYXA6ICdib29sZWFuJyxcbiAgICB0b3VjaDogJ2Jvb2xlYW4nXG4gIH07XG4gIHZhciBQb2ludGVyVHlwZSA9IHtcbiAgICBUT1VDSDogJ3RvdWNoJyxcbiAgICBQRU46ICdwZW4nXG4gIH07XG4gIC8qKlxuICAgKiBDbGFzcyBkZWZpbml0aW9uXG4gICAqL1xuXG4gIHZhciBDYXJvdXNlbCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ2Fyb3VzZWwoZWxlbWVudCwgY29uZmlnKSB7XG4gICAgICB0aGlzLl9pdGVtcyA9IG51bGw7XG4gICAgICB0aGlzLl9pbnRlcnZhbCA9IG51bGw7XG4gICAgICB0aGlzLl9hY3RpdmVFbGVtZW50ID0gbnVsbDtcbiAgICAgIHRoaXMuX2lzUGF1c2VkID0gZmFsc2U7XG4gICAgICB0aGlzLl9pc1NsaWRpbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMudG91Y2hUaW1lb3V0ID0gbnVsbDtcbiAgICAgIHRoaXMudG91Y2hTdGFydFggPSAwO1xuICAgICAgdGhpcy50b3VjaERlbHRhWCA9IDA7XG4gICAgICB0aGlzLl9jb25maWcgPSB0aGlzLl9nZXRDb25maWcoY29uZmlnKTtcbiAgICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgdGhpcy5faW5kaWNhdG9yc0VsZW1lbnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JfSU5ESUNBVE9SUyk7XG4gICAgICB0aGlzLl90b3VjaFN1cHBvcnRlZCA9ICdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCB8fCBuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgPiAwO1xuICAgICAgdGhpcy5fcG9pbnRlckV2ZW50ID0gQm9vbGVhbih3aW5kb3cuUG9pbnRlckV2ZW50IHx8IHdpbmRvdy5NU1BvaW50ZXJFdmVudCk7XG5cbiAgICAgIHRoaXMuX2FkZEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgfSAvLyBHZXR0ZXJzXG5cblxuICAgIHZhciBfcHJvdG8gPSBDYXJvdXNlbC5wcm90b3R5cGU7XG5cbiAgICAvLyBQdWJsaWNcbiAgICBfcHJvdG8ubmV4dCA9IGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICBpZiAoIXRoaXMuX2lzU2xpZGluZykge1xuICAgICAgICB0aGlzLl9zbGlkZShESVJFQ1RJT05fTkVYVCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5uZXh0V2hlblZpc2libGUgPSBmdW5jdGlvbiBuZXh0V2hlblZpc2libGUoKSB7XG4gICAgICB2YXIgJGVsZW1lbnQgPSAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aGlzLl9lbGVtZW50KTsgLy8gRG9uJ3QgY2FsbCBuZXh0IHdoZW4gdGhlIHBhZ2UgaXNuJ3QgdmlzaWJsZVxuICAgICAgLy8gb3IgdGhlIGNhcm91c2VsIG9yIGl0cyBwYXJlbnQgaXNuJ3QgdmlzaWJsZVxuXG4gICAgICBpZiAoIWRvY3VtZW50LmhpZGRlbiAmJiAkZWxlbWVudC5pcygnOnZpc2libGUnKSAmJiAkZWxlbWVudC5jc3MoJ3Zpc2liaWxpdHknKSAhPT0gJ2hpZGRlbicpIHtcbiAgICAgICAgdGhpcy5uZXh0KCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5wcmV2ID0gZnVuY3Rpb24gcHJldigpIHtcbiAgICAgIGlmICghdGhpcy5faXNTbGlkaW5nKSB7XG4gICAgICAgIHRoaXMuX3NsaWRlKERJUkVDVElPTl9QUkVWKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLnBhdXNlID0gZnVuY3Rpb24gcGF1c2UoZXZlbnQpIHtcbiAgICAgIGlmICghZXZlbnQpIHtcbiAgICAgICAgdGhpcy5faXNQYXVzZWQgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SX05FWFRfUFJFVikpIHtcbiAgICAgICAgVXRpbC50cmlnZ2VyVHJhbnNpdGlvbkVuZCh0aGlzLl9lbGVtZW50KTtcbiAgICAgICAgdGhpcy5jeWNsZSh0cnVlKTtcbiAgICAgIH1cblxuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLl9pbnRlcnZhbCk7XG4gICAgICB0aGlzLl9pbnRlcnZhbCA9IG51bGw7XG4gICAgfTtcblxuICAgIF9wcm90by5jeWNsZSA9IGZ1bmN0aW9uIGN5Y2xlKGV2ZW50KSB7XG4gICAgICBpZiAoIWV2ZW50KSB7XG4gICAgICAgIHRoaXMuX2lzUGF1c2VkID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9pbnRlcnZhbCkge1xuICAgICAgICBjbGVhckludGVydmFsKHRoaXMuX2ludGVydmFsKTtcbiAgICAgICAgdGhpcy5faW50ZXJ2YWwgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fY29uZmlnLmludGVydmFsICYmICF0aGlzLl9pc1BhdXNlZCkge1xuICAgICAgICB0aGlzLl91cGRhdGVJbnRlcnZhbCgpO1xuXG4gICAgICAgIHRoaXMuX2ludGVydmFsID0gc2V0SW50ZXJ2YWwoKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA/IHRoaXMubmV4dFdoZW5WaXNpYmxlIDogdGhpcy5uZXh0KS5iaW5kKHRoaXMpLCB0aGlzLl9jb25maWcuaW50ZXJ2YWwpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8udG8gPSBmdW5jdGlvbiB0byhpbmRleCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdGhpcy5fYWN0aXZlRWxlbWVudCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihTRUxFQ1RPUl9BQ1RJVkVfSVRFTSk7XG5cbiAgICAgIHZhciBhY3RpdmVJbmRleCA9IHRoaXMuX2dldEl0ZW1JbmRleCh0aGlzLl9hY3RpdmVFbGVtZW50KTtcblxuICAgICAgaWYgKGluZGV4ID4gdGhpcy5faXRlbXMubGVuZ3RoIC0gMSB8fCBpbmRleCA8IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5faXNTbGlkaW5nKSB7XG4gICAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRoaXMuX2VsZW1lbnQpLm9uZShFVkVOVF9TTElELCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLnRvKGluZGV4KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGFjdGl2ZUluZGV4ID09PSBpbmRleCkge1xuICAgICAgICB0aGlzLnBhdXNlKCk7XG4gICAgICAgIHRoaXMuY3ljbGUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgZGlyZWN0aW9uID0gaW5kZXggPiBhY3RpdmVJbmRleCA/IERJUkVDVElPTl9ORVhUIDogRElSRUNUSU9OX1BSRVY7XG5cbiAgICAgIHRoaXMuX3NsaWRlKGRpcmVjdGlvbiwgdGhpcy5faXRlbXNbaW5kZXhdKTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGhpcy5fZWxlbWVudCkub2ZmKEVWRU5UX0tFWSQ4KTtcbiAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLnJlbW92ZURhdGEodGhpcy5fZWxlbWVudCwgREFUQV9LRVkkOCk7XG4gICAgICB0aGlzLl9pdGVtcyA9IG51bGw7XG4gICAgICB0aGlzLl9jb25maWcgPSBudWxsO1xuICAgICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XG4gICAgICB0aGlzLl9pbnRlcnZhbCA9IG51bGw7XG4gICAgICB0aGlzLl9pc1BhdXNlZCA9IG51bGw7XG4gICAgICB0aGlzLl9pc1NsaWRpbmcgPSBudWxsO1xuICAgICAgdGhpcy5fYWN0aXZlRWxlbWVudCA9IG51bGw7XG4gICAgICB0aGlzLl9pbmRpY2F0b3JzRWxlbWVudCA9IG51bGw7XG4gICAgfSAvLyBQcml2YXRlXG4gICAgO1xuXG4gICAgX3Byb3RvLl9nZXRDb25maWcgPSBmdW5jdGlvbiBfZ2V0Q29uZmlnKGNvbmZpZykge1xuICAgICAgY29uZmlnID0gX2V4dGVuZHMoe30sIERlZmF1bHQkNywgY29uZmlnKTtcbiAgICAgIFV0aWwudHlwZUNoZWNrQ29uZmlnKE5BTUUkOCwgY29uZmlnLCBEZWZhdWx0VHlwZSQ3KTtcbiAgICAgIHJldHVybiBjb25maWc7XG4gICAgfTtcblxuICAgIF9wcm90by5faGFuZGxlU3dpcGUgPSBmdW5jdGlvbiBfaGFuZGxlU3dpcGUoKSB7XG4gICAgICB2YXIgYWJzRGVsdGF4ID0gTWF0aC5hYnModGhpcy50b3VjaERlbHRhWCk7XG5cbiAgICAgIGlmIChhYnNEZWx0YXggPD0gU1dJUEVfVEhSRVNIT0xEKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGRpcmVjdGlvbiA9IGFic0RlbHRheCAvIHRoaXMudG91Y2hEZWx0YVg7XG4gICAgICB0aGlzLnRvdWNoRGVsdGFYID0gMDsgLy8gc3dpcGUgbGVmdFxuXG4gICAgICBpZiAoZGlyZWN0aW9uID4gMCkge1xuICAgICAgICB0aGlzLnByZXYoKTtcbiAgICAgIH0gLy8gc3dpcGUgcmlnaHRcblxuXG4gICAgICBpZiAoZGlyZWN0aW9uIDwgMCkge1xuICAgICAgICB0aGlzLm5leHQoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLl9hZGRFdmVudExpc3RlbmVycyA9IGZ1bmN0aW9uIF9hZGRFdmVudExpc3RlbmVycygpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICBpZiAodGhpcy5fY29uZmlnLmtleWJvYXJkKSB7XG4gICAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRoaXMuX2VsZW1lbnQpLm9uKEVWRU5UX0tFWURPV04sIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIuX2tleWRvd24oZXZlbnQpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2NvbmZpZy5wYXVzZSA9PT0gJ2hvdmVyJykge1xuICAgICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aGlzLl9lbGVtZW50KS5vbihFVkVOVF9NT1VTRUVOVEVSLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLnBhdXNlKGV2ZW50KTtcbiAgICAgICAgfSkub24oRVZFTlRfTU9VU0VMRUFWRSwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMi5jeWNsZShldmVudCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fY29uZmlnLnRvdWNoKSB7XG4gICAgICAgIHRoaXMuX2FkZFRvdWNoRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLl9hZGRUb3VjaEV2ZW50TGlzdGVuZXJzID0gZnVuY3Rpb24gX2FkZFRvdWNoRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgaWYgKCF0aGlzLl90b3VjaFN1cHBvcnRlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBzdGFydCA9IGZ1bmN0aW9uIHN0YXJ0KGV2ZW50KSB7XG4gICAgICAgIGlmIChfdGhpczMuX3BvaW50ZXJFdmVudCAmJiBQb2ludGVyVHlwZVtldmVudC5vcmlnaW5hbEV2ZW50LnBvaW50ZXJUeXBlLnRvVXBwZXJDYXNlKCldKSB7XG4gICAgICAgICAgX3RoaXMzLnRvdWNoU3RhcnRYID0gZXZlbnQub3JpZ2luYWxFdmVudC5jbGllbnRYO1xuICAgICAgICB9IGVsc2UgaWYgKCFfdGhpczMuX3BvaW50ZXJFdmVudCkge1xuICAgICAgICAgIF90aGlzMy50b3VjaFN0YXJ0WCA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXS5jbGllbnRYO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB2YXIgbW92ZSA9IGZ1bmN0aW9uIG1vdmUoZXZlbnQpIHtcbiAgICAgICAgLy8gZW5zdXJlIHN3aXBpbmcgd2l0aCBvbmUgdG91Y2ggYW5kIG5vdCBwaW5jaGluZ1xuICAgICAgICBfdGhpczMudG91Y2hEZWx0YVggPSBldmVudC5vcmlnaW5hbEV2ZW50LnRvdWNoZXMgJiYgZXZlbnQub3JpZ2luYWxFdmVudC50b3VjaGVzLmxlbmd0aCA+IDEgPyAwIDogZXZlbnQub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdLmNsaWVudFggLSBfdGhpczMudG91Y2hTdGFydFg7XG4gICAgICB9O1xuXG4gICAgICB2YXIgZW5kID0gZnVuY3Rpb24gZW5kKGV2ZW50KSB7XG4gICAgICAgIGlmIChfdGhpczMuX3BvaW50ZXJFdmVudCAmJiBQb2ludGVyVHlwZVtldmVudC5vcmlnaW5hbEV2ZW50LnBvaW50ZXJUeXBlLnRvVXBwZXJDYXNlKCldKSB7XG4gICAgICAgICAgX3RoaXMzLnRvdWNoRGVsdGFYID0gZXZlbnQub3JpZ2luYWxFdmVudC5jbGllbnRYIC0gX3RoaXMzLnRvdWNoU3RhcnRYO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMzLl9oYW5kbGVTd2lwZSgpO1xuXG4gICAgICAgIGlmIChfdGhpczMuX2NvbmZpZy5wYXVzZSA9PT0gJ2hvdmVyJykge1xuICAgICAgICAgIC8vIElmIGl0J3MgYSB0b3VjaC1lbmFibGVkIGRldmljZSwgbW91c2VlbnRlci9sZWF2ZSBhcmUgZmlyZWQgYXNcbiAgICAgICAgICAvLyBwYXJ0IG9mIHRoZSBtb3VzZSBjb21wYXRpYmlsaXR5IGV2ZW50cyBvbiBmaXJzdCB0YXAgLSB0aGUgY2Fyb3VzZWxcbiAgICAgICAgICAvLyB3b3VsZCBzdG9wIGN5Y2xpbmcgdW50aWwgdXNlciB0YXBwZWQgb3V0IG9mIGl0O1xuICAgICAgICAgIC8vIGhlcmUsIHdlIGxpc3RlbiBmb3IgdG91Y2hlbmQsIGV4cGxpY2l0bHkgcGF1c2UgdGhlIGNhcm91c2VsXG4gICAgICAgICAgLy8gKGFzIGlmIGl0J3MgdGhlIHNlY29uZCB0aW1lIHdlIHRhcCBvbiBpdCwgbW91c2VlbnRlciBjb21wYXQgZXZlbnRcbiAgICAgICAgICAvLyBpcyBOT1QgZmlyZWQpIGFuZCBhZnRlciBhIHRpbWVvdXQgKHRvIGFsbG93IGZvciBtb3VzZSBjb21wYXRpYmlsaXR5XG4gICAgICAgICAgLy8gZXZlbnRzIHRvIGZpcmUpIHdlIGV4cGxpY2l0bHkgcmVzdGFydCBjeWNsaW5nXG4gICAgICAgICAgX3RoaXMzLnBhdXNlKCk7XG5cbiAgICAgICAgICBpZiAoX3RoaXMzLnRvdWNoVGltZW91dCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzMy50b3VjaFRpbWVvdXQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF90aGlzMy50b3VjaFRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5jeWNsZShldmVudCk7XG4gICAgICAgICAgfSwgVE9VQ0hFVkVOVF9DT01QQVRfV0FJVCArIF90aGlzMy5fY29uZmlnLmludGVydmFsKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFNFTEVDVE9SX0lURU1fSU1HKSkub24oRVZFTlRfRFJBR19TVEFSVCwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgcmV0dXJuIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAodGhpcy5fcG9pbnRlckV2ZW50KSB7XG4gICAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRoaXMuX2VsZW1lbnQpLm9uKEVWRU5UX1BPSU5URVJET1dOLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICByZXR1cm4gc3RhcnQoZXZlbnQpO1xuICAgICAgICB9KTtcbiAgICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGhpcy5fZWxlbWVudCkub24oRVZFTlRfUE9JTlRFUlVQLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICByZXR1cm4gZW5kKGV2ZW50KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKENMQVNTX05BTUVfUE9JTlRFUl9FVkVOVCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aGlzLl9lbGVtZW50KS5vbihFVkVOVF9UT1VDSFNUQVJULCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICByZXR1cm4gc3RhcnQoZXZlbnQpO1xuICAgICAgICB9KTtcbiAgICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGhpcy5fZWxlbWVudCkub24oRVZFTlRfVE9VQ0hNT1ZFLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICByZXR1cm4gbW92ZShldmVudCk7XG4gICAgICAgIH0pO1xuICAgICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aGlzLl9lbGVtZW50KS5vbihFVkVOVF9UT1VDSEVORCwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgcmV0dXJuIGVuZChldmVudCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uX2tleWRvd24gPSBmdW5jdGlvbiBfa2V5ZG93bihldmVudCkge1xuICAgICAgaWYgKC9pbnB1dHx0ZXh0YXJlYS9pLnRlc3QoZXZlbnQudGFyZ2V0LnRhZ05hbWUpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc3dpdGNoIChldmVudC53aGljaCkge1xuICAgICAgICBjYXNlIEFSUk9XX0xFRlRfS0VZQ09ERTpcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHRoaXMucHJldigpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgQVJST1dfUklHSFRfS0VZQ09ERTpcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHRoaXMubmV4dCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uX2dldEl0ZW1JbmRleCA9IGZ1bmN0aW9uIF9nZXRJdGVtSW5kZXgoZWxlbWVudCkge1xuICAgICAgdGhpcy5faXRlbXMgPSBlbGVtZW50ICYmIGVsZW1lbnQucGFyZW50Tm9kZSA/IFtdLnNsaWNlLmNhbGwoZWxlbWVudC5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoU0VMRUNUT1JfSVRFTSkpIDogW107XG4gICAgICByZXR1cm4gdGhpcy5faXRlbXMuaW5kZXhPZihlbGVtZW50KTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLl9nZXRJdGVtQnlEaXJlY3Rpb24gPSBmdW5jdGlvbiBfZ2V0SXRlbUJ5RGlyZWN0aW9uKGRpcmVjdGlvbiwgYWN0aXZlRWxlbWVudCkge1xuICAgICAgdmFyIGlzTmV4dERpcmVjdGlvbiA9IGRpcmVjdGlvbiA9PT0gRElSRUNUSU9OX05FWFQ7XG4gICAgICB2YXIgaXNQcmV2RGlyZWN0aW9uID0gZGlyZWN0aW9uID09PSBESVJFQ1RJT05fUFJFVjtcblxuICAgICAgdmFyIGFjdGl2ZUluZGV4ID0gdGhpcy5fZ2V0SXRlbUluZGV4KGFjdGl2ZUVsZW1lbnQpO1xuXG4gICAgICB2YXIgbGFzdEl0ZW1JbmRleCA9IHRoaXMuX2l0ZW1zLmxlbmd0aCAtIDE7XG4gICAgICB2YXIgaXNHb2luZ1RvV3JhcCA9IGlzUHJldkRpcmVjdGlvbiAmJiBhY3RpdmVJbmRleCA9PT0gMCB8fCBpc05leHREaXJlY3Rpb24gJiYgYWN0aXZlSW5kZXggPT09IGxhc3RJdGVtSW5kZXg7XG5cbiAgICAgIGlmIChpc0dvaW5nVG9XcmFwICYmICF0aGlzLl9jb25maWcud3JhcCkge1xuICAgICAgICByZXR1cm4gYWN0aXZlRWxlbWVudDtcbiAgICAgIH1cblxuICAgICAgdmFyIGRlbHRhID0gZGlyZWN0aW9uID09PSBESVJFQ1RJT05fUFJFViA/IC0xIDogMTtcbiAgICAgIHZhciBpdGVtSW5kZXggPSAoYWN0aXZlSW5kZXggKyBkZWx0YSkgJSB0aGlzLl9pdGVtcy5sZW5ndGg7XG4gICAgICByZXR1cm4gaXRlbUluZGV4ID09PSAtMSA/IHRoaXMuX2l0ZW1zW3RoaXMuX2l0ZW1zLmxlbmd0aCAtIDFdIDogdGhpcy5faXRlbXNbaXRlbUluZGV4XTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLl90cmlnZ2VyU2xpZGVFdmVudCA9IGZ1bmN0aW9uIF90cmlnZ2VyU2xpZGVFdmVudChyZWxhdGVkVGFyZ2V0LCBldmVudERpcmVjdGlvbk5hbWUpIHtcbiAgICAgIHZhciB0YXJnZXRJbmRleCA9IHRoaXMuX2dldEl0ZW1JbmRleChyZWxhdGVkVGFyZ2V0KTtcblxuICAgICAgdmFyIGZyb21JbmRleCA9IHRoaXMuX2dldEl0ZW1JbmRleCh0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JfQUNUSVZFX0lURU0pKTtcblxuICAgICAgdmFyIHNsaWRlRXZlbnQgPSAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5FdmVudChFVkVOVF9TTElERSwge1xuICAgICAgICByZWxhdGVkVGFyZ2V0OiByZWxhdGVkVGFyZ2V0LFxuICAgICAgICBkaXJlY3Rpb246IGV2ZW50RGlyZWN0aW9uTmFtZSxcbiAgICAgICAgZnJvbTogZnJvbUluZGV4LFxuICAgICAgICB0bzogdGFyZ2V0SW5kZXhcbiAgICAgIH0pO1xuICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGhpcy5fZWxlbWVudCkudHJpZ2dlcihzbGlkZUV2ZW50KTtcbiAgICAgIHJldHVybiBzbGlkZUV2ZW50O1xuICAgIH07XG5cbiAgICBfcHJvdG8uX3NldEFjdGl2ZUluZGljYXRvckVsZW1lbnQgPSBmdW5jdGlvbiBfc2V0QWN0aXZlSW5kaWNhdG9yRWxlbWVudChlbGVtZW50KSB7XG4gICAgICBpZiAodGhpcy5faW5kaWNhdG9yc0VsZW1lbnQpIHtcbiAgICAgICAgdmFyIGluZGljYXRvcnMgPSBbXS5zbGljZS5jYWxsKHRoaXMuX2luZGljYXRvcnNFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoU0VMRUNUT1JfQUNUSVZFJDEpKTtcbiAgICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0oaW5kaWNhdG9ycykucmVtb3ZlQ2xhc3MoQ0xBU1NfTkFNRV9BQ1RJVkUkMik7XG5cbiAgICAgICAgdmFyIG5leHRJbmRpY2F0b3IgPSB0aGlzLl9pbmRpY2F0b3JzRWxlbWVudC5jaGlsZHJlblt0aGlzLl9nZXRJdGVtSW5kZXgoZWxlbWVudCldO1xuXG4gICAgICAgIGlmIChuZXh0SW5kaWNhdG9yKSB7XG4gICAgICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0obmV4dEluZGljYXRvcikuYWRkQ2xhc3MoQ0xBU1NfTkFNRV9BQ1RJVkUkMik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLl91cGRhdGVJbnRlcnZhbCA9IGZ1bmN0aW9uIF91cGRhdGVJbnRlcnZhbCgpIHtcbiAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5fYWN0aXZlRWxlbWVudCB8fCB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JfQUNUSVZFX0lURU0pO1xuXG4gICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgZWxlbWVudEludGVydmFsID0gcGFyc2VJbnQoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaW50ZXJ2YWwnKSwgMTApO1xuXG4gICAgICBpZiAoZWxlbWVudEludGVydmFsKSB7XG4gICAgICAgIHRoaXMuX2NvbmZpZy5kZWZhdWx0SW50ZXJ2YWwgPSB0aGlzLl9jb25maWcuZGVmYXVsdEludGVydmFsIHx8IHRoaXMuX2NvbmZpZy5pbnRlcnZhbDtcbiAgICAgICAgdGhpcy5fY29uZmlnLmludGVydmFsID0gZWxlbWVudEludGVydmFsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fY29uZmlnLmludGVydmFsID0gdGhpcy5fY29uZmlnLmRlZmF1bHRJbnRlcnZhbCB8fCB0aGlzLl9jb25maWcuaW50ZXJ2YWw7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5fc2xpZGUgPSBmdW5jdGlvbiBfc2xpZGUoZGlyZWN0aW9uLCBlbGVtZW50KSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgdmFyIGFjdGl2ZUVsZW1lbnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JfQUNUSVZFX0lURU0pO1xuXG4gICAgICB2YXIgYWN0aXZlRWxlbWVudEluZGV4ID0gdGhpcy5fZ2V0SXRlbUluZGV4KGFjdGl2ZUVsZW1lbnQpO1xuXG4gICAgICB2YXIgbmV4dEVsZW1lbnQgPSBlbGVtZW50IHx8IGFjdGl2ZUVsZW1lbnQgJiYgdGhpcy5fZ2V0SXRlbUJ5RGlyZWN0aW9uKGRpcmVjdGlvbiwgYWN0aXZlRWxlbWVudCk7XG5cbiAgICAgIHZhciBuZXh0RWxlbWVudEluZGV4ID0gdGhpcy5fZ2V0SXRlbUluZGV4KG5leHRFbGVtZW50KTtcblxuICAgICAgdmFyIGlzQ3ljbGluZyA9IEJvb2xlYW4odGhpcy5faW50ZXJ2YWwpO1xuICAgICAgdmFyIGRpcmVjdGlvbmFsQ2xhc3NOYW1lO1xuICAgICAgdmFyIG9yZGVyQ2xhc3NOYW1lO1xuICAgICAgdmFyIGV2ZW50RGlyZWN0aW9uTmFtZTtcblxuICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gRElSRUNUSU9OX05FWFQpIHtcbiAgICAgICAgZGlyZWN0aW9uYWxDbGFzc05hbWUgPSBDTEFTU19OQU1FX0xFRlQ7XG4gICAgICAgIG9yZGVyQ2xhc3NOYW1lID0gQ0xBU1NfTkFNRV9ORVhUO1xuICAgICAgICBldmVudERpcmVjdGlvbk5hbWUgPSBESVJFQ1RJT05fTEVGVDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRpcmVjdGlvbmFsQ2xhc3NOYW1lID0gQ0xBU1NfTkFNRV9SSUdIVDtcbiAgICAgICAgb3JkZXJDbGFzc05hbWUgPSBDTEFTU19OQU1FX1BSRVY7XG4gICAgICAgIGV2ZW50RGlyZWN0aW9uTmFtZSA9IERJUkVDVElPTl9SSUdIVDtcbiAgICAgIH1cblxuICAgICAgaWYgKG5leHRFbGVtZW50ICYmICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKG5leHRFbGVtZW50KS5oYXNDbGFzcyhDTEFTU19OQU1FX0FDVElWRSQyKSkge1xuICAgICAgICB0aGlzLl9pc1NsaWRpbmcgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2xpZGVFdmVudCA9IHRoaXMuX3RyaWdnZXJTbGlkZUV2ZW50KG5leHRFbGVtZW50LCBldmVudERpcmVjdGlvbk5hbWUpO1xuXG4gICAgICBpZiAoc2xpZGVFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICghYWN0aXZlRWxlbWVudCB8fCAhbmV4dEVsZW1lbnQpIHtcbiAgICAgICAgLy8gU29tZSB3ZWlyZG5lc3MgaXMgaGFwcGVuaW5nLCBzbyB3ZSBiYWlsXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5faXNTbGlkaW5nID0gdHJ1ZTtcblxuICAgICAgaWYgKGlzQ3ljbGluZykge1xuICAgICAgICB0aGlzLnBhdXNlKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3NldEFjdGl2ZUluZGljYXRvckVsZW1lbnQobmV4dEVsZW1lbnQpO1xuXG4gICAgICB0aGlzLl9hY3RpdmVFbGVtZW50ID0gbmV4dEVsZW1lbnQ7XG4gICAgICB2YXIgc2xpZEV2ZW50ID0gJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0uRXZlbnQoRVZFTlRfU0xJRCwge1xuICAgICAgICByZWxhdGVkVGFyZ2V0OiBuZXh0RWxlbWVudCxcbiAgICAgICAgZGlyZWN0aW9uOiBldmVudERpcmVjdGlvbk5hbWUsXG4gICAgICAgIGZyb206IGFjdGl2ZUVsZW1lbnRJbmRleCxcbiAgICAgICAgdG86IG5leHRFbGVtZW50SW5kZXhcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MoQ0xBU1NfTkFNRV9TTElERSkpIHtcbiAgICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0obmV4dEVsZW1lbnQpLmFkZENsYXNzKG9yZGVyQ2xhc3NOYW1lKTtcbiAgICAgICAgVXRpbC5yZWZsb3cobmV4dEVsZW1lbnQpO1xuICAgICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXShhY3RpdmVFbGVtZW50KS5hZGRDbGFzcyhkaXJlY3Rpb25hbENsYXNzTmFtZSk7XG4gICAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKG5leHRFbGVtZW50KS5hZGRDbGFzcyhkaXJlY3Rpb25hbENsYXNzTmFtZSk7XG4gICAgICAgIHZhciB0cmFuc2l0aW9uRHVyYXRpb24gPSBVdGlsLmdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KGFjdGl2ZUVsZW1lbnQpO1xuICAgICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXShhY3RpdmVFbGVtZW50KS5vbmUoVXRpbC5UUkFOU0lUSU9OX0VORCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKG5leHRFbGVtZW50KS5yZW1vdmVDbGFzcyhkaXJlY3Rpb25hbENsYXNzTmFtZSArIFwiIFwiICsgb3JkZXJDbGFzc05hbWUpLmFkZENsYXNzKENMQVNTX05BTUVfQUNUSVZFJDIpO1xuICAgICAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKGFjdGl2ZUVsZW1lbnQpLnJlbW92ZUNsYXNzKENMQVNTX05BTUVfQUNUSVZFJDIgKyBcIiBcIiArIG9yZGVyQ2xhc3NOYW1lICsgXCIgXCIgKyBkaXJlY3Rpb25hbENsYXNzTmFtZSk7XG4gICAgICAgICAgX3RoaXM0Ll9pc1NsaWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXShfdGhpczQuX2VsZW1lbnQpLnRyaWdnZXIoc2xpZEV2ZW50KTtcbiAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfSkuZW11bGF0ZVRyYW5zaXRpb25FbmQodHJhbnNpdGlvbkR1cmF0aW9uKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKGFjdGl2ZUVsZW1lbnQpLnJlbW92ZUNsYXNzKENMQVNTX05BTUVfQUNUSVZFJDIpO1xuICAgICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXShuZXh0RWxlbWVudCkuYWRkQ2xhc3MoQ0xBU1NfTkFNRV9BQ1RJVkUkMik7XG4gICAgICAgIHRoaXMuX2lzU2xpZGluZyA9IGZhbHNlO1xuICAgICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aGlzLl9lbGVtZW50KS50cmlnZ2VyKHNsaWRFdmVudCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0N5Y2xpbmcpIHtcbiAgICAgICAgdGhpcy5jeWNsZSgpO1xuICAgICAgfVxuICAgIH0gLy8gU3RhdGljXG4gICAgO1xuXG4gICAgQ2Fyb3VzZWwuX2pRdWVyeUludGVyZmFjZSA9IGZ1bmN0aW9uIF9qUXVlcnlJbnRlcmZhY2UoY29uZmlnKSB7XG4gICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRhdGEgPSAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aGlzKS5kYXRhKERBVEFfS0VZJDgpO1xuXG4gICAgICAgIHZhciBfY29uZmlnID0gX2V4dGVuZHMoe30sIERlZmF1bHQkNywgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGhpcykuZGF0YSgpKTtcblxuICAgICAgICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICBfY29uZmlnID0gX2V4dGVuZHMoe30sIF9jb25maWcsIGNvbmZpZyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYWN0aW9uID0gdHlwZW9mIGNvbmZpZyA9PT0gJ3N0cmluZycgPyBjb25maWcgOiBfY29uZmlnLnNsaWRlO1xuXG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgIGRhdGEgPSBuZXcgQ2Fyb3VzZWwodGhpcywgX2NvbmZpZyk7XG4gICAgICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGhpcykuZGF0YShEQVRBX0tFWSQ4LCBkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIGRhdGEudG8oY29uZmlnKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYWN0aW9uID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGlmICh0eXBlb2YgZGF0YVthY3Rpb25dID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk5vIG1ldGhvZCBuYW1lZCBcXFwiXCIgKyBhY3Rpb24gKyBcIlxcXCJcIik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGF0YVthY3Rpb25dKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoX2NvbmZpZy5pbnRlcnZhbCAmJiBfY29uZmlnLnJpZGUpIHtcbiAgICAgICAgICBkYXRhLnBhdXNlKCk7XG4gICAgICAgICAgZGF0YS5jeWNsZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgQ2Fyb3VzZWwuX2RhdGFBcGlDbGlja0hhbmRsZXIgPSBmdW5jdGlvbiBfZGF0YUFwaUNsaWNrSGFuZGxlcihldmVudCkge1xuICAgICAgdmFyIHNlbGVjdG9yID0gVXRpbC5nZXRTZWxlY3RvckZyb21FbGVtZW50KHRoaXMpO1xuXG4gICAgICBpZiAoIXNlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHRhcmdldCA9ICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHNlbGVjdG9yKVswXTtcblxuICAgICAgaWYgKCF0YXJnZXQgfHwgISRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRhcmdldCkuaGFzQ2xhc3MoQ0xBU1NfTkFNRV9DQVJPVVNFTCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgY29uZmlnID0gX2V4dGVuZHMoe30sICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRhcmdldCkuZGF0YSgpLCAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aGlzKS5kYXRhKCkpO1xuXG4gICAgICB2YXIgc2xpZGVJbmRleCA9IHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLXNsaWRlLXRvJyk7XG5cbiAgICAgIGlmIChzbGlkZUluZGV4KSB7XG4gICAgICAgIGNvbmZpZy5pbnRlcnZhbCA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBDYXJvdXNlbC5falF1ZXJ5SW50ZXJmYWNlLmNhbGwoJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGFyZ2V0KSwgY29uZmlnKTtcblxuICAgICAgaWYgKHNsaWRlSW5kZXgpIHtcbiAgICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGFyZ2V0KS5kYXRhKERBVEFfS0VZJDgpLnRvKHNsaWRlSW5kZXgpO1xuICAgICAgfVxuXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH07XG5cbiAgICBfY3JlYXRlQ2xhc3MoQ2Fyb3VzZWwsIG51bGwsIFt7XG4gICAgICBrZXk6IFwiVkVSU0lPTlwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBWRVJTSU9OJDg7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIkRlZmF1bHRcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gRGVmYXVsdCQ3O1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBDYXJvdXNlbDtcbiAgfSgpO1xuICAvKipcbiAgICogRGF0YSBBUEkgaW1wbGVtZW50YXRpb25cbiAgICovXG5cblxuICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXShkb2N1bWVudCkub24oRVZFTlRfQ0xJQ0tfREFUQV9BUEkkNCwgU0VMRUNUT1JfREFUQV9TTElERSwgQ2Fyb3VzZWwuX2RhdGFBcGlDbGlja0hhbmRsZXIpO1xuICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh3aW5kb3cpLm9uKEVWRU5UX0xPQURfREFUQV9BUEkkMSwgZnVuY3Rpb24gKCkge1xuICAgIHZhciBjYXJvdXNlbHMgPSBbXS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoU0VMRUNUT1JfREFUQV9SSURFKSk7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gY2Fyb3VzZWxzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB2YXIgJGNhcm91c2VsID0gJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0oY2Fyb3VzZWxzW2ldKTtcblxuICAgICAgQ2Fyb3VzZWwuX2pRdWVyeUludGVyZmFjZS5jYWxsKCRjYXJvdXNlbCwgJGNhcm91c2VsLmRhdGEoKSk7XG4gICAgfVxuICB9KTtcbiAgLyoqXG4gICAqIGpRdWVyeVxuICAgKi9cblxuICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5mbltOQU1FJDhdID0gQ2Fyb3VzZWwuX2pRdWVyeUludGVyZmFjZTtcbiAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0uZm5bTkFNRSQ4XS5Db25zdHJ1Y3RvciA9IENhcm91c2VsO1xuXG4gICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLmZuW05BTUUkOF0ubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5mbltOQU1FJDhdID0gSlFVRVJZX05PX0NPTkZMSUNUJDg7XG4gICAgcmV0dXJuIENhcm91c2VsLl9qUXVlcnlJbnRlcmZhY2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIENvbnN0YW50c1xuICAgKi9cblxuICB2YXIgTkFNRSQ3ID0gJ2NvbGxhcHNlJztcbiAgdmFyIFZFUlNJT04kNyA9ICc0LjYuMic7XG4gIHZhciBEQVRBX0tFWSQ3ID0gJ2JzLmNvbGxhcHNlJztcbiAgdmFyIEVWRU5UX0tFWSQ3ID0gXCIuXCIgKyBEQVRBX0tFWSQ3O1xuICB2YXIgREFUQV9BUElfS0VZJDQgPSAnLmRhdGEtYXBpJztcbiAgdmFyIEpRVUVSWV9OT19DT05GTElDVCQ3ID0gJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0uZm5bTkFNRSQ3XTtcbiAgdmFyIENMQVNTX05BTUVfU0hPVyQ2ID0gJ3Nob3cnO1xuICB2YXIgQ0xBU1NfTkFNRV9DT0xMQVBTRSA9ICdjb2xsYXBzZSc7XG4gIHZhciBDTEFTU19OQU1FX0NPTExBUFNJTkcgPSAnY29sbGFwc2luZyc7XG4gIHZhciBDTEFTU19OQU1FX0NPTExBUFNFRCA9ICdjb2xsYXBzZWQnO1xuICB2YXIgRElNRU5TSU9OX1dJRFRIID0gJ3dpZHRoJztcbiAgdmFyIERJTUVOU0lPTl9IRUlHSFQgPSAnaGVpZ2h0JztcbiAgdmFyIEVWRU5UX1NIT1ckNCA9IFwic2hvd1wiICsgRVZFTlRfS0VZJDc7XG4gIHZhciBFVkVOVF9TSE9XTiQ0ID0gXCJzaG93blwiICsgRVZFTlRfS0VZJDc7XG4gIHZhciBFVkVOVF9ISURFJDQgPSBcImhpZGVcIiArIEVWRU5UX0tFWSQ3O1xuICB2YXIgRVZFTlRfSElEREVOJDQgPSBcImhpZGRlblwiICsgRVZFTlRfS0VZJDc7XG4gIHZhciBFVkVOVF9DTElDS19EQVRBX0FQSSQzID0gXCJjbGlja1wiICsgRVZFTlRfS0VZJDcgKyBEQVRBX0FQSV9LRVkkNDtcbiAgdmFyIFNFTEVDVE9SX0FDVElWRVMgPSAnLnNob3csIC5jb2xsYXBzaW5nJztcbiAgdmFyIFNFTEVDVE9SX0RBVEFfVE9HR0xFJDMgPSAnW2RhdGEtdG9nZ2xlPVwiY29sbGFwc2VcIl0nO1xuICB2YXIgRGVmYXVsdCQ2ID0ge1xuICAgIHRvZ2dsZTogdHJ1ZSxcbiAgICBwYXJlbnQ6ICcnXG4gIH07XG4gIHZhciBEZWZhdWx0VHlwZSQ2ID0ge1xuICAgIHRvZ2dsZTogJ2Jvb2xlYW4nLFxuICAgIHBhcmVudDogJyhzdHJpbmd8ZWxlbWVudCknXG4gIH07XG4gIC8qKlxuICAgKiBDbGFzcyBkZWZpbml0aW9uXG4gICAqL1xuXG4gIHZhciBDb2xsYXBzZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29sbGFwc2UoZWxlbWVudCwgY29uZmlnKSB7XG4gICAgICB0aGlzLl9pc1RyYW5zaXRpb25pbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgdGhpcy5fY29uZmlnID0gdGhpcy5fZ2V0Q29uZmlnKGNvbmZpZyk7XG4gICAgICB0aGlzLl90cmlnZ2VyQXJyYXkgPSBbXS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbZGF0YS10b2dnbGU9XFxcImNvbGxhcHNlXFxcIl1baHJlZj1cXFwiI1wiICsgZWxlbWVudC5pZCArIFwiXFxcIl0sXCIgKyAoXCJbZGF0YS10b2dnbGU9XFxcImNvbGxhcHNlXFxcIl1bZGF0YS10YXJnZXQ9XFxcIiNcIiArIGVsZW1lbnQuaWQgKyBcIlxcXCJdXCIpKSk7XG4gICAgICB2YXIgdG9nZ2xlTGlzdCA9IFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChTRUxFQ1RPUl9EQVRBX1RPR0dMRSQzKSk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0b2dnbGVMaXN0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciBlbGVtID0gdG9nZ2xlTGlzdFtpXTtcbiAgICAgICAgdmFyIHNlbGVjdG9yID0gVXRpbC5nZXRTZWxlY3RvckZyb21FbGVtZW50KGVsZW0pO1xuICAgICAgICB2YXIgZmlsdGVyRWxlbWVudCA9IFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpLmZpbHRlcihmdW5jdGlvbiAoZm91bmRFbGVtKSB7XG4gICAgICAgICAgcmV0dXJuIGZvdW5kRWxlbSA9PT0gZWxlbWVudDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHNlbGVjdG9yICE9PSBudWxsICYmIGZpbHRlckVsZW1lbnQubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHRoaXMuX3NlbGVjdG9yID0gc2VsZWN0b3I7XG5cbiAgICAgICAgICB0aGlzLl90cmlnZ2VyQXJyYXkucHVzaChlbGVtKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLl9wYXJlbnQgPSB0aGlzLl9jb25maWcucGFyZW50ID8gdGhpcy5fZ2V0UGFyZW50KCkgOiBudWxsO1xuXG4gICAgICBpZiAoIXRoaXMuX2NvbmZpZy5wYXJlbnQpIHtcbiAgICAgICAgdGhpcy5fYWRkQXJpYUFuZENvbGxhcHNlZENsYXNzKHRoaXMuX2VsZW1lbnQsIHRoaXMuX3RyaWdnZXJBcnJheSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9jb25maWcudG9nZ2xlKSB7XG4gICAgICAgIHRoaXMudG9nZ2xlKCk7XG4gICAgICB9XG4gICAgfSAvLyBHZXR0ZXJzXG5cblxuICAgIHZhciBfcHJvdG8gPSBDb2xsYXBzZS5wcm90b3R5cGU7XG5cbiAgICAvLyBQdWJsaWNcbiAgICBfcHJvdG8udG9nZ2xlID0gZnVuY3Rpb24gdG9nZ2xlKCkge1xuICAgICAgaWYgKCRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKENMQVNTX05BTUVfU0hPVyQ2KSkge1xuICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2hvdygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uc2hvdyA9IGZ1bmN0aW9uIHNob3coKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBpZiAodGhpcy5faXNUcmFuc2l0aW9uaW5nIHx8ICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKENMQVNTX05BTUVfU0hPVyQ2KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBhY3RpdmVzO1xuICAgICAgdmFyIGFjdGl2ZXNEYXRhO1xuXG4gICAgICBpZiAodGhpcy5fcGFyZW50KSB7XG4gICAgICAgIGFjdGl2ZXMgPSBbXS5zbGljZS5jYWxsKHRoaXMuX3BhcmVudC5xdWVyeVNlbGVjdG9yQWxsKFNFTEVDVE9SX0FDVElWRVMpKS5maWx0ZXIoZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICBpZiAodHlwZW9mIF90aGlzLl9jb25maWcucGFyZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlKCdkYXRhLXBhcmVudCcpID09PSBfdGhpcy5fY29uZmlnLnBhcmVudDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoQ0xBU1NfTkFNRV9DT0xMQVBTRSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChhY3RpdmVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGFjdGl2ZXMgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChhY3RpdmVzKSB7XG4gICAgICAgIGFjdGl2ZXNEYXRhID0gJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0oYWN0aXZlcykubm90KHRoaXMuX3NlbGVjdG9yKS5kYXRhKERBVEFfS0VZJDcpO1xuXG4gICAgICAgIGlmIChhY3RpdmVzRGF0YSAmJiBhY3RpdmVzRGF0YS5faXNUcmFuc2l0aW9uaW5nKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBzdGFydEV2ZW50ID0gJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0uRXZlbnQoRVZFTlRfU0hPVyQ0KTtcbiAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRoaXMuX2VsZW1lbnQpLnRyaWdnZXIoc3RhcnRFdmVudCk7XG5cbiAgICAgIGlmIChzdGFydEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGFjdGl2ZXMpIHtcbiAgICAgICAgQ29sbGFwc2UuX2pRdWVyeUludGVyZmFjZS5jYWxsKCRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKGFjdGl2ZXMpLm5vdCh0aGlzLl9zZWxlY3RvciksICdoaWRlJyk7XG5cbiAgICAgICAgaWYgKCFhY3RpdmVzRGF0YSkge1xuICAgICAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKGFjdGl2ZXMpLmRhdGEoREFUQV9LRVkkNywgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuX2dldERpbWVuc2lvbigpO1xuXG4gICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aGlzLl9lbGVtZW50KS5yZW1vdmVDbGFzcyhDTEFTU19OQU1FX0NPTExBUFNFKS5hZGRDbGFzcyhDTEFTU19OQU1FX0NPTExBUFNJTkcpO1xuICAgICAgdGhpcy5fZWxlbWVudC5zdHlsZVtkaW1lbnNpb25dID0gMDtcblxuICAgICAgaWYgKHRoaXMuX3RyaWdnZXJBcnJheS5sZW5ndGgpIHtcbiAgICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGhpcy5fdHJpZ2dlckFycmF5KS5yZW1vdmVDbGFzcyhDTEFTU19OQU1FX0NPTExBUFNFRCkuYXR0cignYXJpYS1leHBhbmRlZCcsIHRydWUpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNldFRyYW5zaXRpb25pbmcodHJ1ZSk7XG5cbiAgICAgIHZhciBjb21wbGV0ZSA9IGZ1bmN0aW9uIGNvbXBsZXRlKCkge1xuICAgICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXShfdGhpcy5fZWxlbWVudCkucmVtb3ZlQ2xhc3MoQ0xBU1NfTkFNRV9DT0xMQVBTSU5HKS5hZGRDbGFzcyhDTEFTU19OQU1FX0NPTExBUFNFICsgXCIgXCIgKyBDTEFTU19OQU1FX1NIT1ckNik7XG4gICAgICAgIF90aGlzLl9lbGVtZW50LnN0eWxlW2RpbWVuc2lvbl0gPSAnJztcblxuICAgICAgICBfdGhpcy5zZXRUcmFuc2l0aW9uaW5nKGZhbHNlKTtcblxuICAgICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXShfdGhpcy5fZWxlbWVudCkudHJpZ2dlcihFVkVOVF9TSE9XTiQ0KTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBjYXBpdGFsaXplZERpbWVuc2lvbiA9IGRpbWVuc2lvblswXS50b1VwcGVyQ2FzZSgpICsgZGltZW5zaW9uLnNsaWNlKDEpO1xuICAgICAgdmFyIHNjcm9sbFNpemUgPSBcInNjcm9sbFwiICsgY2FwaXRhbGl6ZWREaW1lbnNpb247XG4gICAgICB2YXIgdHJhbnNpdGlvbkR1cmF0aW9uID0gVXRpbC5nZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudCh0aGlzLl9lbGVtZW50KTtcbiAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRoaXMuX2VsZW1lbnQpLm9uZShVdGlsLlRSQU5TSVRJT05fRU5ELCBjb21wbGV0ZSkuZW11bGF0ZVRyYW5zaXRpb25FbmQodHJhbnNpdGlvbkR1cmF0aW9uKTtcbiAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGVbZGltZW5zaW9uXSA9IHRoaXMuX2VsZW1lbnRbc2Nyb2xsU2l6ZV0gKyBcInB4XCI7XG4gICAgfTtcblxuICAgIF9wcm90by5oaWRlID0gZnVuY3Rpb24gaGlkZSgpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICBpZiAodGhpcy5faXNUcmFuc2l0aW9uaW5nIHx8ICEkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhDTEFTU19OQU1FX1NIT1ckNikpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgc3RhcnRFdmVudCA9ICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLkV2ZW50KEVWRU5UX0hJREUkNCk7XG4gICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aGlzLl9lbGVtZW50KS50cmlnZ2VyKHN0YXJ0RXZlbnQpO1xuXG4gICAgICBpZiAoc3RhcnRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBkaW1lbnNpb24gPSB0aGlzLl9nZXREaW1lbnNpb24oKTtcblxuICAgICAgdGhpcy5fZWxlbWVudC5zdHlsZVtkaW1lbnNpb25dID0gdGhpcy5fZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVtkaW1lbnNpb25dICsgXCJweFwiO1xuICAgICAgVXRpbC5yZWZsb3codGhpcy5fZWxlbWVudCk7XG4gICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aGlzLl9lbGVtZW50KS5hZGRDbGFzcyhDTEFTU19OQU1FX0NPTExBUFNJTkcpLnJlbW92ZUNsYXNzKENMQVNTX05BTUVfQ09MTEFQU0UgKyBcIiBcIiArIENMQVNTX05BTUVfU0hPVyQ2KTtcbiAgICAgIHZhciB0cmlnZ2VyQXJyYXlMZW5ndGggPSB0aGlzLl90cmlnZ2VyQXJyYXkubGVuZ3RoO1xuXG4gICAgICBpZiAodHJpZ2dlckFycmF5TGVuZ3RoID4gMCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRyaWdnZXJBcnJheUxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIHRyaWdnZXIgPSB0aGlzLl90cmlnZ2VyQXJyYXlbaV07XG4gICAgICAgICAgdmFyIHNlbGVjdG9yID0gVXRpbC5nZXRTZWxlY3RvckZyb21FbGVtZW50KHRyaWdnZXIpO1xuXG4gICAgICAgICAgaWYgKHNlbGVjdG9yICE9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgJGVsZW0gPSAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXShbXS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKSk7XG5cbiAgICAgICAgICAgIGlmICghJGVsZW0uaGFzQ2xhc3MoQ0xBU1NfTkFNRV9TSE9XJDYpKSB7XG4gICAgICAgICAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRyaWdnZXIpLmFkZENsYXNzKENMQVNTX05BTUVfQ09MTEFQU0VEKS5hdHRyKCdhcmlhLWV4cGFuZGVkJywgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLnNldFRyYW5zaXRpb25pbmcodHJ1ZSk7XG5cbiAgICAgIHZhciBjb21wbGV0ZSA9IGZ1bmN0aW9uIGNvbXBsZXRlKCkge1xuICAgICAgICBfdGhpczIuc2V0VHJhbnNpdGlvbmluZyhmYWxzZSk7XG5cbiAgICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0oX3RoaXMyLl9lbGVtZW50KS5yZW1vdmVDbGFzcyhDTEFTU19OQU1FX0NPTExBUFNJTkcpLmFkZENsYXNzKENMQVNTX05BTUVfQ09MTEFQU0UpLnRyaWdnZXIoRVZFTlRfSElEREVOJDQpO1xuICAgICAgfTtcblxuICAgICAgdGhpcy5fZWxlbWVudC5zdHlsZVtkaW1lbnNpb25dID0gJyc7XG4gICAgICB2YXIgdHJhbnNpdGlvbkR1cmF0aW9uID0gVXRpbC5nZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudCh0aGlzLl9lbGVtZW50KTtcbiAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRoaXMuX2VsZW1lbnQpLm9uZShVdGlsLlRSQU5TSVRJT05fRU5ELCBjb21wbGV0ZSkuZW11bGF0ZVRyYW5zaXRpb25FbmQodHJhbnNpdGlvbkR1cmF0aW9uKTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLnNldFRyYW5zaXRpb25pbmcgPSBmdW5jdGlvbiBzZXRUcmFuc2l0aW9uaW5nKGlzVHJhbnNpdGlvbmluZykge1xuICAgICAgdGhpcy5faXNUcmFuc2l0aW9uaW5nID0gaXNUcmFuc2l0aW9uaW5nO1xuICAgIH07XG5cbiAgICBfcHJvdG8uZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5yZW1vdmVEYXRhKHRoaXMuX2VsZW1lbnQsIERBVEFfS0VZJDcpO1xuICAgICAgdGhpcy5fY29uZmlnID0gbnVsbDtcbiAgICAgIHRoaXMuX3BhcmVudCA9IG51bGw7XG4gICAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcbiAgICAgIHRoaXMuX3RyaWdnZXJBcnJheSA9IG51bGw7XG4gICAgICB0aGlzLl9pc1RyYW5zaXRpb25pbmcgPSBudWxsO1xuICAgIH0gLy8gUHJpdmF0ZVxuICAgIDtcblxuICAgIF9wcm90by5fZ2V0Q29uZmlnID0gZnVuY3Rpb24gX2dldENvbmZpZyhjb25maWcpIHtcbiAgICAgIGNvbmZpZyA9IF9leHRlbmRzKHt9LCBEZWZhdWx0JDYsIGNvbmZpZyk7XG4gICAgICBjb25maWcudG9nZ2xlID0gQm9vbGVhbihjb25maWcudG9nZ2xlKTsgLy8gQ29lcmNlIHN0cmluZyB2YWx1ZXNcblxuICAgICAgVXRpbC50eXBlQ2hlY2tDb25maWcoTkFNRSQ3LCBjb25maWcsIERlZmF1bHRUeXBlJDYpO1xuICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICB9O1xuXG4gICAgX3Byb3RvLl9nZXREaW1lbnNpb24gPSBmdW5jdGlvbiBfZ2V0RGltZW5zaW9uKCkge1xuICAgICAgdmFyIGhhc1dpZHRoID0gJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MoRElNRU5TSU9OX1dJRFRIKTtcbiAgICAgIHJldHVybiBoYXNXaWR0aCA/IERJTUVOU0lPTl9XSURUSCA6IERJTUVOU0lPTl9IRUlHSFQ7XG4gICAgfTtcblxuICAgIF9wcm90by5fZ2V0UGFyZW50ID0gZnVuY3Rpb24gX2dldFBhcmVudCgpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgcGFyZW50O1xuXG4gICAgICBpZiAoVXRpbC5pc0VsZW1lbnQodGhpcy5fY29uZmlnLnBhcmVudCkpIHtcbiAgICAgICAgcGFyZW50ID0gdGhpcy5fY29uZmlnLnBhcmVudDsgLy8gSXQncyBhIGpRdWVyeSBvYmplY3RcblxuICAgICAgICBpZiAodHlwZW9mIHRoaXMuX2NvbmZpZy5wYXJlbnQuanF1ZXJ5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHBhcmVudCA9IHRoaXMuX2NvbmZpZy5wYXJlbnRbMF07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fY29uZmlnLnBhcmVudCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBzZWxlY3RvciA9IFwiW2RhdGEtdG9nZ2xlPVxcXCJjb2xsYXBzZVxcXCJdW2RhdGEtcGFyZW50PVxcXCJcIiArIHRoaXMuX2NvbmZpZy5wYXJlbnQgKyBcIlxcXCJdXCI7XG4gICAgICB2YXIgY2hpbGRyZW4gPSBbXS5zbGljZS5jYWxsKHBhcmVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSk7XG4gICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXShjaGlsZHJlbikuZWFjaChmdW5jdGlvbiAoaSwgZWxlbWVudCkge1xuICAgICAgICBfdGhpczMuX2FkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyhDb2xsYXBzZS5fZ2V0VGFyZ2V0RnJvbUVsZW1lbnQoZWxlbWVudCksIFtlbGVtZW50XSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBwYXJlbnQ7XG4gICAgfTtcblxuICAgIF9wcm90by5fYWRkQXJpYUFuZENvbGxhcHNlZENsYXNzID0gZnVuY3Rpb24gX2FkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyhlbGVtZW50LCB0cmlnZ2VyQXJyYXkpIHtcbiAgICAgIHZhciBpc09wZW4gPSAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXShlbGVtZW50KS5oYXNDbGFzcyhDTEFTU19OQU1FX1NIT1ckNik7XG5cbiAgICAgIGlmICh0cmlnZ2VyQXJyYXkubGVuZ3RoKSB7XG4gICAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRyaWdnZXJBcnJheSkudG9nZ2xlQ2xhc3MoQ0xBU1NfTkFNRV9DT0xMQVBTRUQsICFpc09wZW4pLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBpc09wZW4pO1xuICAgICAgfVxuICAgIH0gLy8gU3RhdGljXG4gICAgO1xuXG4gICAgQ29sbGFwc2UuX2dldFRhcmdldEZyb21FbGVtZW50ID0gZnVuY3Rpb24gX2dldFRhcmdldEZyb21FbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgIHZhciBzZWxlY3RvciA9IFV0aWwuZ2V0U2VsZWN0b3JGcm9tRWxlbWVudChlbGVtZW50KTtcbiAgICAgIHJldHVybiBzZWxlY3RvciA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpIDogbnVsbDtcbiAgICB9O1xuXG4gICAgQ29sbGFwc2UuX2pRdWVyeUludGVyZmFjZSA9IGZ1bmN0aW9uIF9qUXVlcnlJbnRlcmZhY2UoY29uZmlnKSB7XG4gICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyICRlbGVtZW50ID0gJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGhpcyk7XG4gICAgICAgIHZhciBkYXRhID0gJGVsZW1lbnQuZGF0YShEQVRBX0tFWSQ3KTtcblxuICAgICAgICB2YXIgX2NvbmZpZyA9IF9leHRlbmRzKHt9LCBEZWZhdWx0JDYsICRlbGVtZW50LmRhdGEoKSwgdHlwZW9mIGNvbmZpZyA9PT0gJ29iamVjdCcgJiYgY29uZmlnID8gY29uZmlnIDoge30pO1xuXG4gICAgICAgIGlmICghZGF0YSAmJiBfY29uZmlnLnRvZ2dsZSAmJiB0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJyAmJiAvc2hvd3xoaWRlLy50ZXN0KGNvbmZpZykpIHtcbiAgICAgICAgICBfY29uZmlnLnRvZ2dsZSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgZGF0YSA9IG5ldyBDb2xsYXBzZSh0aGlzLCBfY29uZmlnKTtcbiAgICAgICAgICAkZWxlbWVudC5kYXRhKERBVEFfS0VZJDcsIGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBjb25maWcgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBkYXRhW2NvbmZpZ10gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiTm8gbWV0aG9kIG5hbWVkIFxcXCJcIiArIGNvbmZpZyArIFwiXFxcIlwiKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkYXRhW2NvbmZpZ10oKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF9jcmVhdGVDbGFzcyhDb2xsYXBzZSwgbnVsbCwgW3tcbiAgICAgIGtleTogXCJWRVJTSU9OXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIFZFUlNJT04kNztcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiRGVmYXVsdFwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBEZWZhdWx0JDY7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIENvbGxhcHNlO1xuICB9KCk7XG4gIC8qKlxuICAgKiBEYXRhIEFQSSBpbXBsZW1lbnRhdGlvblxuICAgKi9cblxuXG4gICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKGRvY3VtZW50KS5vbihFVkVOVF9DTElDS19EQVRBX0FQSSQzLCBTRUxFQ1RPUl9EQVRBX1RPR0dMRSQzLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAvLyBwcmV2ZW50RGVmYXVsdCBvbmx5IGZvciA8YT4gZWxlbWVudHMgKHdoaWNoIGNoYW5nZSB0aGUgVVJMKSBub3QgaW5zaWRlIHRoZSBjb2xsYXBzaWJsZSBlbGVtZW50XG4gICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQudGFnTmFtZSA9PT0gJ0EnKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIHZhciAkdHJpZ2dlciA9ICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRoaXMpO1xuICAgIHZhciBzZWxlY3RvciA9IFV0aWwuZ2V0U2VsZWN0b3JGcm9tRWxlbWVudCh0aGlzKTtcbiAgICB2YXIgc2VsZWN0b3JzID0gW10uc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSk7XG4gICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0oc2VsZWN0b3JzKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGFyZ2V0ID0gJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGhpcyk7XG4gICAgICB2YXIgZGF0YSA9ICR0YXJnZXQuZGF0YShEQVRBX0tFWSQ3KTtcbiAgICAgIHZhciBjb25maWcgPSBkYXRhID8gJ3RvZ2dsZScgOiAkdHJpZ2dlci5kYXRhKCk7XG5cbiAgICAgIENvbGxhcHNlLl9qUXVlcnlJbnRlcmZhY2UuY2FsbCgkdGFyZ2V0LCBjb25maWcpO1xuICAgIH0pO1xuICB9KTtcbiAgLyoqXG4gICAqIGpRdWVyeVxuICAgKi9cblxuICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5mbltOQU1FJDddID0gQ29sbGFwc2UuX2pRdWVyeUludGVyZmFjZTtcbiAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0uZm5bTkFNRSQ3XS5Db25zdHJ1Y3RvciA9IENvbGxhcHNlO1xuXG4gICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLmZuW05BTUUkN10ubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5mbltOQU1FJDddID0gSlFVRVJZX05PX0NPTkZMSUNUJDc7XG4gICAgcmV0dXJuIENvbGxhcHNlLl9qUXVlcnlJbnRlcmZhY2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIENvbnN0YW50c1xuICAgKi9cblxuICB2YXIgTkFNRSQ2ID0gJ2Ryb3Bkb3duJztcbiAgdmFyIFZFUlNJT04kNiA9ICc0LjYuMic7XG4gIHZhciBEQVRBX0tFWSQ2ID0gJ2JzLmRyb3Bkb3duJztcbiAgdmFyIEVWRU5UX0tFWSQ2ID0gXCIuXCIgKyBEQVRBX0tFWSQ2O1xuICB2YXIgREFUQV9BUElfS0VZJDMgPSAnLmRhdGEtYXBpJztcbiAgdmFyIEpRVUVSWV9OT19DT05GTElDVCQ2ID0gJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0uZm5bTkFNRSQ2XTtcbiAgdmFyIEVTQ0FQRV9LRVlDT0RFJDEgPSAyNzsgLy8gS2V5Ym9hcmRFdmVudC53aGljaCB2YWx1ZSBmb3IgRXNjYXBlIChFc2MpIGtleVxuXG4gIHZhciBTUEFDRV9LRVlDT0RFID0gMzI7IC8vIEtleWJvYXJkRXZlbnQud2hpY2ggdmFsdWUgZm9yIHNwYWNlIGtleVxuXG4gIHZhciBUQUJfS0VZQ09ERSA9IDk7IC8vIEtleWJvYXJkRXZlbnQud2hpY2ggdmFsdWUgZm9yIHRhYiBrZXlcblxuICB2YXIgQVJST1dfVVBfS0VZQ09ERSA9IDM4OyAvLyBLZXlib2FyZEV2ZW50LndoaWNoIHZhbHVlIGZvciB1cCBhcnJvdyBrZXlcblxuICB2YXIgQVJST1dfRE9XTl9LRVlDT0RFID0gNDA7IC8vIEtleWJvYXJkRXZlbnQud2hpY2ggdmFsdWUgZm9yIGRvd24gYXJyb3cga2V5XG5cbiAgdmFyIFJJR0hUX01PVVNFX0JVVFRPTl9XSElDSCA9IDM7IC8vIE1vdXNlRXZlbnQud2hpY2ggdmFsdWUgZm9yIHRoZSByaWdodCBidXR0b24gKGFzc3VtaW5nIGEgcmlnaHQtaGFuZGVkIG1vdXNlKVxuXG4gIHZhciBSRUdFWFBfS0VZRE9XTiA9IG5ldyBSZWdFeHAoQVJST1dfVVBfS0VZQ09ERSArIFwifFwiICsgQVJST1dfRE9XTl9LRVlDT0RFICsgXCJ8XCIgKyBFU0NBUEVfS0VZQ09ERSQxKTtcbiAgdmFyIENMQVNTX05BTUVfRElTQUJMRUQkMSA9ICdkaXNhYmxlZCc7XG4gIHZhciBDTEFTU19OQU1FX1NIT1ckNSA9ICdzaG93JztcbiAgdmFyIENMQVNTX05BTUVfRFJPUFVQID0gJ2Ryb3B1cCc7XG4gIHZhciBDTEFTU19OQU1FX0RST1BSSUdIVCA9ICdkcm9wcmlnaHQnO1xuICB2YXIgQ0xBU1NfTkFNRV9EUk9QTEVGVCA9ICdkcm9wbGVmdCc7XG4gIHZhciBDTEFTU19OQU1FX01FTlVSSUdIVCA9ICdkcm9wZG93bi1tZW51LXJpZ2h0JztcbiAgdmFyIENMQVNTX05BTUVfUE9TSVRJT05fU1RBVElDID0gJ3Bvc2l0aW9uLXN0YXRpYyc7XG4gIHZhciBFVkVOVF9ISURFJDMgPSBcImhpZGVcIiArIEVWRU5UX0tFWSQ2O1xuICB2YXIgRVZFTlRfSElEREVOJDMgPSBcImhpZGRlblwiICsgRVZFTlRfS0VZJDY7XG4gIHZhciBFVkVOVF9TSE9XJDMgPSBcInNob3dcIiArIEVWRU5UX0tFWSQ2O1xuICB2YXIgRVZFTlRfU0hPV04kMyA9IFwic2hvd25cIiArIEVWRU5UX0tFWSQ2O1xuICB2YXIgRVZFTlRfQ0xJQ0sgPSBcImNsaWNrXCIgKyBFVkVOVF9LRVkkNjtcbiAgdmFyIEVWRU5UX0NMSUNLX0RBVEFfQVBJJDIgPSBcImNsaWNrXCIgKyBFVkVOVF9LRVkkNiArIERBVEFfQVBJX0tFWSQzO1xuICB2YXIgRVZFTlRfS0VZRE9XTl9EQVRBX0FQSSA9IFwia2V5ZG93blwiICsgRVZFTlRfS0VZJDYgKyBEQVRBX0FQSV9LRVkkMztcbiAgdmFyIEVWRU5UX0tFWVVQX0RBVEFfQVBJID0gXCJrZXl1cFwiICsgRVZFTlRfS0VZJDYgKyBEQVRBX0FQSV9LRVkkMztcbiAgdmFyIFNFTEVDVE9SX0RBVEFfVE9HR0xFJDIgPSAnW2RhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIl0nO1xuICB2YXIgU0VMRUNUT1JfRk9STV9DSElMRCA9ICcuZHJvcGRvd24gZm9ybSc7XG4gIHZhciBTRUxFQ1RPUl9NRU5VID0gJy5kcm9wZG93bi1tZW51JztcbiAgdmFyIFNFTEVDVE9SX05BVkJBUl9OQVYgPSAnLm5hdmJhci1uYXYnO1xuICB2YXIgU0VMRUNUT1JfVklTSUJMRV9JVEVNUyA9ICcuZHJvcGRvd24tbWVudSAuZHJvcGRvd24taXRlbTpub3QoLmRpc2FibGVkKTpub3QoOmRpc2FibGVkKSc7XG4gIHZhciBQTEFDRU1FTlRfVE9QID0gJ3RvcC1zdGFydCc7XG4gIHZhciBQTEFDRU1FTlRfVE9QRU5EID0gJ3RvcC1lbmQnO1xuICB2YXIgUExBQ0VNRU5UX0JPVFRPTSA9ICdib3R0b20tc3RhcnQnO1xuICB2YXIgUExBQ0VNRU5UX0JPVFRPTUVORCA9ICdib3R0b20tZW5kJztcbiAgdmFyIFBMQUNFTUVOVF9SSUdIVCA9ICdyaWdodC1zdGFydCc7XG4gIHZhciBQTEFDRU1FTlRfTEVGVCA9ICdsZWZ0LXN0YXJ0JztcbiAgdmFyIERlZmF1bHQkNSA9IHtcbiAgICBvZmZzZXQ6IDAsXG4gICAgZmxpcDogdHJ1ZSxcbiAgICBib3VuZGFyeTogJ3Njcm9sbFBhcmVudCcsXG4gICAgcmVmZXJlbmNlOiAndG9nZ2xlJyxcbiAgICBkaXNwbGF5OiAnZHluYW1pYycsXG4gICAgcG9wcGVyQ29uZmlnOiBudWxsXG4gIH07XG4gIHZhciBEZWZhdWx0VHlwZSQ1ID0ge1xuICAgIG9mZnNldDogJyhudW1iZXJ8c3RyaW5nfGZ1bmN0aW9uKScsXG4gICAgZmxpcDogJ2Jvb2xlYW4nLFxuICAgIGJvdW5kYXJ5OiAnKHN0cmluZ3xlbGVtZW50KScsXG4gICAgcmVmZXJlbmNlOiAnKHN0cmluZ3xlbGVtZW50KScsXG4gICAgZGlzcGxheTogJ3N0cmluZycsXG4gICAgcG9wcGVyQ29uZmlnOiAnKG51bGx8b2JqZWN0KSdcbiAgfTtcbiAgLyoqXG4gICAqIENsYXNzIGRlZmluaXRpb25cbiAgICovXG5cbiAgdmFyIERyb3Bkb3duID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEcm9wZG93bihlbGVtZW50LCBjb25maWcpIHtcbiAgICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgdGhpcy5fcG9wcGVyID0gbnVsbDtcbiAgICAgIHRoaXMuX2NvbmZpZyA9IHRoaXMuX2dldENvbmZpZyhjb25maWcpO1xuICAgICAgdGhpcy5fbWVudSA9IHRoaXMuX2dldE1lbnVFbGVtZW50KCk7XG4gICAgICB0aGlzLl9pbk5hdmJhciA9IHRoaXMuX2RldGVjdE5hdmJhcigpO1xuXG4gICAgICB0aGlzLl9hZGRFdmVudExpc3RlbmVycygpO1xuICAgIH0gLy8gR2V0dGVyc1xuXG5cbiAgICB2YXIgX3Byb3RvID0gRHJvcGRvd24ucHJvdG90eXBlO1xuXG4gICAgLy8gUHVibGljXG4gICAgX3Byb3RvLnRvZ2dsZSA9IGZ1bmN0aW9uIHRvZ2dsZSgpIHtcbiAgICAgIGlmICh0aGlzLl9lbGVtZW50LmRpc2FibGVkIHx8ICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKENMQVNTX05BTUVfRElTQUJMRUQkMSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgaXNBY3RpdmUgPSAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aGlzLl9tZW51KS5oYXNDbGFzcyhDTEFTU19OQU1FX1NIT1ckNSk7XG5cbiAgICAgIERyb3Bkb3duLl9jbGVhck1lbnVzKCk7XG5cbiAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2hvdyh0cnVlKTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLnNob3cgPSBmdW5jdGlvbiBzaG93KHVzZVBvcHBlcikge1xuICAgICAgaWYgKHVzZVBvcHBlciA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHVzZVBvcHBlciA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fZWxlbWVudC5kaXNhYmxlZCB8fCAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhDTEFTU19OQU1FX0RJU0FCTEVEJDEpIHx8ICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRoaXMuX21lbnUpLmhhc0NsYXNzKENMQVNTX05BTUVfU0hPVyQ1KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciByZWxhdGVkVGFyZ2V0ID0ge1xuICAgICAgICByZWxhdGVkVGFyZ2V0OiB0aGlzLl9lbGVtZW50XG4gICAgICB9O1xuICAgICAgdmFyIHNob3dFdmVudCA9ICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLkV2ZW50KEVWRU5UX1NIT1ckMywgcmVsYXRlZFRhcmdldCk7XG5cbiAgICAgIHZhciBwYXJlbnQgPSBEcm9wZG93bi5fZ2V0UGFyZW50RnJvbUVsZW1lbnQodGhpcy5fZWxlbWVudCk7XG5cbiAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHBhcmVudCkudHJpZ2dlcihzaG93RXZlbnQpO1xuXG4gICAgICBpZiAoc2hvd0V2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gVG90YWxseSBkaXNhYmxlIFBvcHBlciBmb3IgRHJvcGRvd25zIGluIE5hdmJhclxuXG5cbiAgICAgIGlmICghdGhpcy5faW5OYXZiYXIgJiYgdXNlUG9wcGVyKSB7XG4gICAgICAgIC8vIENoZWNrIGZvciBQb3BwZXIgZGVwZW5kZW5jeVxuICAgICAgICBpZiAodHlwZW9mIFBvcHBlcl9fZGVmYXVsdFtcImRlZmF1bHRcIl0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQm9vdHN0cmFwXFwncyBkcm9wZG93bnMgcmVxdWlyZSBQb3BwZXIgKGh0dHBzOi8vcG9wcGVyLmpzLm9yZyknKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZWZlcmVuY2VFbGVtZW50ID0gdGhpcy5fZWxlbWVudDtcblxuICAgICAgICBpZiAodGhpcy5fY29uZmlnLnJlZmVyZW5jZSA9PT0gJ3BhcmVudCcpIHtcbiAgICAgICAgICByZWZlcmVuY2VFbGVtZW50ID0gcGFyZW50O1xuICAgICAgICB9IGVsc2UgaWYgKFV0aWwuaXNFbGVtZW50KHRoaXMuX2NvbmZpZy5yZWZlcmVuY2UpKSB7XG4gICAgICAgICAgcmVmZXJlbmNlRWxlbWVudCA9IHRoaXMuX2NvbmZpZy5yZWZlcmVuY2U7IC8vIENoZWNrIGlmIGl0J3MgalF1ZXJ5IGVsZW1lbnRcblxuICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5fY29uZmlnLnJlZmVyZW5jZS5qcXVlcnkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZWZlcmVuY2VFbGVtZW50ID0gdGhpcy5fY29uZmlnLnJlZmVyZW5jZVswXTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gLy8gSWYgYm91bmRhcnkgaXMgbm90IGBzY3JvbGxQYXJlbnRgLCB0aGVuIHNldCBwb3NpdGlvbiB0byBgc3RhdGljYFxuICAgICAgICAvLyB0byBhbGxvdyB0aGUgbWVudSB0byBcImVzY2FwZVwiIHRoZSBzY3JvbGwgcGFyZW50J3MgYm91bmRhcmllc1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvaXNzdWVzLzI0MjUxXG5cblxuICAgICAgICBpZiAodGhpcy5fY29uZmlnLmJvdW5kYXJ5ICE9PSAnc2Nyb2xsUGFyZW50Jykge1xuICAgICAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHBhcmVudCkuYWRkQ2xhc3MoQ0xBU1NfTkFNRV9QT1NJVElPTl9TVEFUSUMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcG9wcGVyID0gbmV3IFBvcHBlcl9fZGVmYXVsdFtcImRlZmF1bHRcIl0ocmVmZXJlbmNlRWxlbWVudCwgdGhpcy5fbWVudSwgdGhpcy5fZ2V0UG9wcGVyQ29uZmlnKCkpO1xuICAgICAgfSAvLyBJZiB0aGlzIGlzIGEgdG91Y2gtZW5hYmxlZCBkZXZpY2Ugd2UgYWRkIGV4dHJhXG4gICAgICAvLyBlbXB0eSBtb3VzZW92ZXIgbGlzdGVuZXJzIHRvIHRoZSBib2R5J3MgaW1tZWRpYXRlIGNoaWxkcmVuO1xuICAgICAgLy8gb25seSBuZWVkZWQgYmVjYXVzZSBvZiBicm9rZW4gZXZlbnQgZGVsZWdhdGlvbiBvbiBpT1NcbiAgICAgIC8vIGh0dHBzOi8vd3d3LnF1aXJrc21vZGUub3JnL2Jsb2cvYXJjaGl2ZXMvMjAxNC8wMi9tb3VzZV9ldmVudF9idWIuaHRtbFxuXG5cbiAgICAgIGlmICgnb250b3VjaHN0YXJ0JyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0ocGFyZW50KS5jbG9zZXN0KFNFTEVDVE9SX05BVkJBUl9OQVYpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXShkb2N1bWVudC5ib2R5KS5jaGlsZHJlbigpLm9uKCdtb3VzZW92ZXInLCBudWxsLCAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5ub29wKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fZWxlbWVudC5mb2N1cygpO1xuXG4gICAgICB0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIHRydWUpO1xuXG4gICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aGlzLl9tZW51KS50b2dnbGVDbGFzcyhDTEFTU19OQU1FX1NIT1ckNSk7XG4gICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXShwYXJlbnQpLnRvZ2dsZUNsYXNzKENMQVNTX05BTUVfU0hPVyQ1KS50cmlnZ2VyKCRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLkV2ZW50KEVWRU5UX1NIT1dOJDMsIHJlbGF0ZWRUYXJnZXQpKTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmhpZGUgPSBmdW5jdGlvbiBoaWRlKCkge1xuICAgICAgaWYgKHRoaXMuX2VsZW1lbnQuZGlzYWJsZWQgfHwgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MoQ0xBU1NfTkFNRV9ESVNBQkxFRCQxKSB8fCAhJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGhpcy5fbWVudSkuaGFzQ2xhc3MoQ0xBU1NfTkFNRV9TSE9XJDUpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlbGF0ZWRUYXJnZXQgPSB7XG4gICAgICAgIHJlbGF0ZWRUYXJnZXQ6IHRoaXMuX2VsZW1lbnRcbiAgICAgIH07XG4gICAgICB2YXIgaGlkZUV2ZW50ID0gJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0uRXZlbnQoRVZFTlRfSElERSQzLCByZWxhdGVkVGFyZ2V0KTtcblxuICAgICAgdmFyIHBhcmVudCA9IERyb3Bkb3duLl9nZXRQYXJlbnRGcm9tRWxlbWVudCh0aGlzLl9lbGVtZW50KTtcblxuICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0ocGFyZW50KS50cmlnZ2VyKGhpZGVFdmVudCk7XG5cbiAgICAgIGlmIChoaWRlRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fcG9wcGVyKSB7XG4gICAgICAgIHRoaXMuX3BvcHBlci5kZXN0cm95KCk7XG4gICAgICB9XG5cbiAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRoaXMuX21lbnUpLnRvZ2dsZUNsYXNzKENMQVNTX05BTUVfU0hPVyQ1KTtcbiAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHBhcmVudCkudG9nZ2xlQ2xhc3MoQ0xBU1NfTkFNRV9TSE9XJDUpLnRyaWdnZXIoJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0uRXZlbnQoRVZFTlRfSElEREVOJDMsIHJlbGF0ZWRUYXJnZXQpKTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0ucmVtb3ZlRGF0YSh0aGlzLl9lbGVtZW50LCBEQVRBX0tFWSQ2KTtcbiAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRoaXMuX2VsZW1lbnQpLm9mZihFVkVOVF9LRVkkNik7XG4gICAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcbiAgICAgIHRoaXMuX21lbnUgPSBudWxsO1xuXG4gICAgICBpZiAodGhpcy5fcG9wcGVyICE9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuX3BvcHBlci5kZXN0cm95KCk7XG5cbiAgICAgICAgdGhpcy5fcG9wcGVyID0gbnVsbDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAgIHRoaXMuX2luTmF2YmFyID0gdGhpcy5fZGV0ZWN0TmF2YmFyKCk7XG5cbiAgICAgIGlmICh0aGlzLl9wb3BwZXIgIT09IG51bGwpIHtcbiAgICAgICAgdGhpcy5fcG9wcGVyLnNjaGVkdWxlVXBkYXRlKCk7XG4gICAgICB9XG4gICAgfSAvLyBQcml2YXRlXG4gICAgO1xuXG4gICAgX3Byb3RvLl9hZGRFdmVudExpc3RlbmVycyA9IGZ1bmN0aW9uIF9hZGRFdmVudExpc3RlbmVycygpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRoaXMuX2VsZW1lbnQpLm9uKEVWRU5UX0NMSUNLLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgX3RoaXMudG9nZ2xlKCk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLl9nZXRDb25maWcgPSBmdW5jdGlvbiBfZ2V0Q29uZmlnKGNvbmZpZykge1xuICAgICAgY29uZmlnID0gX2V4dGVuZHMoe30sIHRoaXMuY29uc3RydWN0b3IuRGVmYXVsdCwgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGhpcy5fZWxlbWVudCkuZGF0YSgpLCBjb25maWcpO1xuICAgICAgVXRpbC50eXBlQ2hlY2tDb25maWcoTkFNRSQ2LCBjb25maWcsIHRoaXMuY29uc3RydWN0b3IuRGVmYXVsdFR5cGUpO1xuICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICB9O1xuXG4gICAgX3Byb3RvLl9nZXRNZW51RWxlbWVudCA9IGZ1bmN0aW9uIF9nZXRNZW51RWxlbWVudCgpIHtcbiAgICAgIGlmICghdGhpcy5fbWVudSkge1xuICAgICAgICB2YXIgcGFyZW50ID0gRHJvcGRvd24uX2dldFBhcmVudEZyb21FbGVtZW50KHRoaXMuX2VsZW1lbnQpO1xuXG4gICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICB0aGlzLl9tZW51ID0gcGFyZW50LnF1ZXJ5U2VsZWN0b3IoU0VMRUNUT1JfTUVOVSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuX21lbnU7XG4gICAgfTtcblxuICAgIF9wcm90by5fZ2V0UGxhY2VtZW50ID0gZnVuY3Rpb24gX2dldFBsYWNlbWVudCgpIHtcbiAgICAgIHZhciAkcGFyZW50RHJvcGRvd24gPSAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aGlzLl9lbGVtZW50LnBhcmVudE5vZGUpO1xuICAgICAgdmFyIHBsYWNlbWVudCA9IFBMQUNFTUVOVF9CT1RUT007IC8vIEhhbmRsZSBkcm9wdXBcblxuICAgICAgaWYgKCRwYXJlbnREcm9wZG93bi5oYXNDbGFzcyhDTEFTU19OQU1FX0RST1BVUCkpIHtcbiAgICAgICAgcGxhY2VtZW50ID0gJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGhpcy5fbWVudSkuaGFzQ2xhc3MoQ0xBU1NfTkFNRV9NRU5VUklHSFQpID8gUExBQ0VNRU5UX1RPUEVORCA6IFBMQUNFTUVOVF9UT1A7XG4gICAgICB9IGVsc2UgaWYgKCRwYXJlbnREcm9wZG93bi5oYXNDbGFzcyhDTEFTU19OQU1FX0RST1BSSUdIVCkpIHtcbiAgICAgICAgcGxhY2VtZW50ID0gUExBQ0VNRU5UX1JJR0hUO1xuICAgICAgfSBlbHNlIGlmICgkcGFyZW50RHJvcGRvd24uaGFzQ2xhc3MoQ0xBU1NfTkFNRV9EUk9QTEVGVCkpIHtcbiAgICAgICAgcGxhY2VtZW50ID0gUExBQ0VNRU5UX0xFRlQ7XG4gICAgICB9IGVsc2UgaWYgKCRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRoaXMuX21lbnUpLmhhc0NsYXNzKENMQVNTX05BTUVfTUVOVVJJR0hUKSkge1xuICAgICAgICBwbGFjZW1lbnQgPSBQTEFDRU1FTlRfQk9UVE9NRU5EO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcGxhY2VtZW50O1xuICAgIH07XG5cbiAgICBfcHJvdG8uX2RldGVjdE5hdmJhciA9IGZ1bmN0aW9uIF9kZXRlY3ROYXZiYXIoKSB7XG4gICAgICByZXR1cm4gJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGhpcy5fZWxlbWVudCkuY2xvc2VzdCgnLm5hdmJhcicpLmxlbmd0aCA+IDA7XG4gICAgfTtcblxuICAgIF9wcm90by5fZ2V0T2Zmc2V0ID0gZnVuY3Rpb24gX2dldE9mZnNldCgpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgb2Zmc2V0ID0ge307XG5cbiAgICAgIGlmICh0eXBlb2YgdGhpcy5fY29uZmlnLm9mZnNldCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBvZmZzZXQuZm4gPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgIGRhdGEub2Zmc2V0cyA9IF9leHRlbmRzKHt9LCBkYXRhLm9mZnNldHMsIF90aGlzMi5fY29uZmlnLm9mZnNldChkYXRhLm9mZnNldHMsIF90aGlzMi5fZWxlbWVudCkpO1xuICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb2Zmc2V0Lm9mZnNldCA9IHRoaXMuX2NvbmZpZy5vZmZzZXQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvZmZzZXQ7XG4gICAgfTtcblxuICAgIF9wcm90by5fZ2V0UG9wcGVyQ29uZmlnID0gZnVuY3Rpb24gX2dldFBvcHBlckNvbmZpZygpIHtcbiAgICAgIHZhciBwb3BwZXJDb25maWcgPSB7XG4gICAgICAgIHBsYWNlbWVudDogdGhpcy5fZ2V0UGxhY2VtZW50KCksXG4gICAgICAgIG1vZGlmaWVyczoge1xuICAgICAgICAgIG9mZnNldDogdGhpcy5fZ2V0T2Zmc2V0KCksXG4gICAgICAgICAgZmxpcDoge1xuICAgICAgICAgICAgZW5hYmxlZDogdGhpcy5fY29uZmlnLmZsaXBcbiAgICAgICAgICB9LFxuICAgICAgICAgIHByZXZlbnRPdmVyZmxvdzoge1xuICAgICAgICAgICAgYm91bmRhcmllc0VsZW1lbnQ6IHRoaXMuX2NvbmZpZy5ib3VuZGFyeVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTsgLy8gRGlzYWJsZSBQb3BwZXIgaWYgd2UgaGF2ZSBhIHN0YXRpYyBkaXNwbGF5XG5cbiAgICAgIGlmICh0aGlzLl9jb25maWcuZGlzcGxheSA9PT0gJ3N0YXRpYycpIHtcbiAgICAgICAgcG9wcGVyQ29uZmlnLm1vZGlmaWVycy5hcHBseVN0eWxlID0ge1xuICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgcG9wcGVyQ29uZmlnLCB0aGlzLl9jb25maWcucG9wcGVyQ29uZmlnKTtcbiAgICB9IC8vIFN0YXRpY1xuICAgIDtcblxuICAgIERyb3Bkb3duLl9qUXVlcnlJbnRlcmZhY2UgPSBmdW5jdGlvbiBfalF1ZXJ5SW50ZXJmYWNlKGNvbmZpZykge1xuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkYXRhID0gJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGhpcykuZGF0YShEQVRBX0tFWSQ2KTtcblxuICAgICAgICB2YXIgX2NvbmZpZyA9IHR5cGVvZiBjb25maWcgPT09ICdvYmplY3QnID8gY29uZmlnIDogbnVsbDtcblxuICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICBkYXRhID0gbmV3IERyb3Bkb3duKHRoaXMsIF9jb25maWcpO1xuICAgICAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRoaXMpLmRhdGEoREFUQV9LRVkkNiwgZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIGRhdGFbY29uZmlnXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJObyBtZXRob2QgbmFtZWQgXFxcIlwiICsgY29uZmlnICsgXCJcXFwiXCIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRhdGFbY29uZmlnXSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgRHJvcGRvd24uX2NsZWFyTWVudXMgPSBmdW5jdGlvbiBfY2xlYXJNZW51cyhldmVudCkge1xuICAgICAgaWYgKGV2ZW50ICYmIChldmVudC53aGljaCA9PT0gUklHSFRfTU9VU0VfQlVUVE9OX1dISUNIIHx8IGV2ZW50LnR5cGUgPT09ICdrZXl1cCcgJiYgZXZlbnQud2hpY2ggIT09IFRBQl9LRVlDT0RFKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciB0b2dnbGVzID0gW10uc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFNFTEVDVE9SX0RBVEFfVE9HR0xFJDIpKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRvZ2dsZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyIHBhcmVudCA9IERyb3Bkb3duLl9nZXRQYXJlbnRGcm9tRWxlbWVudCh0b2dnbGVzW2ldKTtcblxuICAgICAgICB2YXIgY29udGV4dCA9ICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRvZ2dsZXNbaV0pLmRhdGEoREFUQV9LRVkkNik7XG4gICAgICAgIHZhciByZWxhdGVkVGFyZ2V0ID0ge1xuICAgICAgICAgIHJlbGF0ZWRUYXJnZXQ6IHRvZ2dsZXNbaV1cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoZXZlbnQgJiYgZXZlbnQudHlwZSA9PT0gJ2NsaWNrJykge1xuICAgICAgICAgIHJlbGF0ZWRUYXJnZXQuY2xpY2tFdmVudCA9IGV2ZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFjb250ZXh0KSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZHJvcGRvd25NZW51ID0gY29udGV4dC5fbWVudTtcblxuICAgICAgICBpZiAoISRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHBhcmVudCkuaGFzQ2xhc3MoQ0xBU1NfTkFNRV9TSE9XJDUpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnQgJiYgKGV2ZW50LnR5cGUgPT09ICdjbGljaycgJiYgL2lucHV0fHRleHRhcmVhL2kudGVzdChldmVudC50YXJnZXQudGFnTmFtZSkgfHwgZXZlbnQudHlwZSA9PT0gJ2tleXVwJyAmJiBldmVudC53aGljaCA9PT0gVEFCX0tFWUNPREUpICYmICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLmNvbnRhaW5zKHBhcmVudCwgZXZlbnQudGFyZ2V0KSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGhpZGVFdmVudCA9ICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLkV2ZW50KEVWRU5UX0hJREUkMywgcmVsYXRlZFRhcmdldCk7XG4gICAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHBhcmVudCkudHJpZ2dlcihoaWRlRXZlbnQpO1xuXG4gICAgICAgIGlmIChoaWRlRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyBJZiB0aGlzIGlzIGEgdG91Y2gtZW5hYmxlZCBkZXZpY2Ugd2UgcmVtb3ZlIHRoZSBleHRyYVxuICAgICAgICAvLyBlbXB0eSBtb3VzZW92ZXIgbGlzdGVuZXJzIHdlIGFkZGVkIGZvciBpT1Mgc3VwcG9ydFxuXG5cbiAgICAgICAgaWYgKCdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkge1xuICAgICAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKGRvY3VtZW50LmJvZHkpLmNoaWxkcmVuKCkub2ZmKCdtb3VzZW92ZXInLCBudWxsLCAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5ub29wKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRvZ2dsZXNbaV0uc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG5cbiAgICAgICAgaWYgKGNvbnRleHQuX3BvcHBlcikge1xuICAgICAgICAgIGNvbnRleHQuX3BvcHBlci5kZXN0cm95KCk7XG4gICAgICAgIH1cblxuICAgICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXShkcm9wZG93bk1lbnUpLnJlbW92ZUNsYXNzKENMQVNTX05BTUVfU0hPVyQ1KTtcbiAgICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0ocGFyZW50KS5yZW1vdmVDbGFzcyhDTEFTU19OQU1FX1NIT1ckNSkudHJpZ2dlcigkX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5FdmVudChFVkVOVF9ISURERU4kMywgcmVsYXRlZFRhcmdldCkpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBEcm9wZG93bi5fZ2V0UGFyZW50RnJvbUVsZW1lbnQgPSBmdW5jdGlvbiBfZ2V0UGFyZW50RnJvbUVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgdmFyIHBhcmVudDtcbiAgICAgIHZhciBzZWxlY3RvciA9IFV0aWwuZ2V0U2VsZWN0b3JGcm9tRWxlbWVudChlbGVtZW50KTtcblxuICAgICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICAgIHBhcmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcGFyZW50IHx8IGVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICB9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XG4gICAgO1xuXG4gICAgRHJvcGRvd24uX2RhdGFBcGlLZXlkb3duSGFuZGxlciA9IGZ1bmN0aW9uIF9kYXRhQXBpS2V5ZG93bkhhbmRsZXIoZXZlbnQpIHtcbiAgICAgIC8vIElmIG5vdCBpbnB1dC90ZXh0YXJlYTpcbiAgICAgIC8vICAtIEFuZCBub3QgYSBrZXkgaW4gUkVHRVhQX0tFWURPV04gPT4gbm90IGEgZHJvcGRvd24gY29tbWFuZFxuICAgICAgLy8gSWYgaW5wdXQvdGV4dGFyZWE6XG4gICAgICAvLyAgLSBJZiBzcGFjZSBrZXkgPT4gbm90IGEgZHJvcGRvd24gY29tbWFuZFxuICAgICAgLy8gIC0gSWYga2V5IGlzIG90aGVyIHRoYW4gZXNjYXBlXG4gICAgICAvLyAgICAtIElmIGtleSBpcyBub3QgdXAgb3IgZG93biA9PiBub3QgYSBkcm9wZG93biBjb21tYW5kXG4gICAgICAvLyAgICAtIElmIHRyaWdnZXIgaW5zaWRlIHRoZSBtZW51ID0+IG5vdCBhIGRyb3Bkb3duIGNvbW1hbmRcbiAgICAgIGlmICgvaW5wdXR8dGV4dGFyZWEvaS50ZXN0KGV2ZW50LnRhcmdldC50YWdOYW1lKSA/IGV2ZW50LndoaWNoID09PSBTUEFDRV9LRVlDT0RFIHx8IGV2ZW50LndoaWNoICE9PSBFU0NBUEVfS0VZQ09ERSQxICYmIChldmVudC53aGljaCAhPT0gQVJST1dfRE9XTl9LRVlDT0RFICYmIGV2ZW50LndoaWNoICE9PSBBUlJPV19VUF9LRVlDT0RFIHx8ICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKGV2ZW50LnRhcmdldCkuY2xvc2VzdChTRUxFQ1RPUl9NRU5VKS5sZW5ndGgpIDogIVJFR0VYUF9LRVlET1dOLnRlc3QoZXZlbnQud2hpY2gpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuZGlzYWJsZWQgfHwgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGhpcykuaGFzQ2xhc3MoQ0xBU1NfTkFNRV9ESVNBQkxFRCQxKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBwYXJlbnQgPSBEcm9wZG93bi5fZ2V0UGFyZW50RnJvbUVsZW1lbnQodGhpcyk7XG5cbiAgICAgIHZhciBpc0FjdGl2ZSA9ICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHBhcmVudCkuaGFzQ2xhc3MoQ0xBU1NfTkFNRV9TSE9XJDUpO1xuXG4gICAgICBpZiAoIWlzQWN0aXZlICYmIGV2ZW50LndoaWNoID09PSBFU0NBUEVfS0VZQ09ERSQxKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICBpZiAoIWlzQWN0aXZlIHx8IGV2ZW50LndoaWNoID09PSBFU0NBUEVfS0VZQ09ERSQxIHx8IGV2ZW50LndoaWNoID09PSBTUEFDRV9LRVlDT0RFKSB7XG4gICAgICAgIGlmIChldmVudC53aGljaCA9PT0gRVNDQVBFX0tFWUNPREUkMSkge1xuICAgICAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHBhcmVudC5xdWVyeVNlbGVjdG9yKFNFTEVDVE9SX0RBVEFfVE9HR0xFJDIpKS50cmlnZ2VyKCdmb2N1cycpO1xuICAgICAgICB9XG5cbiAgICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGhpcykudHJpZ2dlcignY2xpY2snKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgaXRlbXMgPSBbXS5zbGljZS5jYWxsKHBhcmVudC5xdWVyeVNlbGVjdG9yQWxsKFNFTEVDVE9SX1ZJU0lCTEVfSVRFTVMpKS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKGl0ZW0pLmlzKCc6dmlzaWJsZScpO1xuICAgICAgfSk7XG5cbiAgICAgIGlmIChpdGVtcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgaW5kZXggPSBpdGVtcy5pbmRleE9mKGV2ZW50LnRhcmdldCk7XG5cbiAgICAgIGlmIChldmVudC53aGljaCA9PT0gQVJST1dfVVBfS0VZQ09ERSAmJiBpbmRleCA+IDApIHtcbiAgICAgICAgLy8gVXBcbiAgICAgICAgaW5kZXgtLTtcbiAgICAgIH1cblxuICAgICAgaWYgKGV2ZW50LndoaWNoID09PSBBUlJPV19ET1dOX0tFWUNPREUgJiYgaW5kZXggPCBpdGVtcy5sZW5ndGggLSAxKSB7XG4gICAgICAgIC8vIERvd25cbiAgICAgICAgaW5kZXgrKztcbiAgICAgIH1cblxuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICBpbmRleCA9IDA7XG4gICAgICB9XG5cbiAgICAgIGl0ZW1zW2luZGV4XS5mb2N1cygpO1xuICAgIH07XG5cbiAgICBfY3JlYXRlQ2xhc3MoRHJvcGRvd24sIG51bGwsIFt7XG4gICAgICBrZXk6IFwiVkVSU0lPTlwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBWRVJTSU9OJDY7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIkRlZmF1bHRcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gRGVmYXVsdCQ1O1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJEZWZhdWx0VHlwZVwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBEZWZhdWx0VHlwZSQ1O1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBEcm9wZG93bjtcbiAgfSgpO1xuICAvKipcbiAgICogRGF0YSBBUEkgaW1wbGVtZW50YXRpb25cbiAgICovXG5cblxuICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXShkb2N1bWVudCkub24oRVZFTlRfS0VZRE9XTl9EQVRBX0FQSSwgU0VMRUNUT1JfREFUQV9UT0dHTEUkMiwgRHJvcGRvd24uX2RhdGFBcGlLZXlkb3duSGFuZGxlcikub24oRVZFTlRfS0VZRE9XTl9EQVRBX0FQSSwgU0VMRUNUT1JfTUVOVSwgRHJvcGRvd24uX2RhdGFBcGlLZXlkb3duSGFuZGxlcikub24oRVZFTlRfQ0xJQ0tfREFUQV9BUEkkMiArIFwiIFwiICsgRVZFTlRfS0VZVVBfREFUQV9BUEksIERyb3Bkb3duLl9jbGVhck1lbnVzKS5vbihFVkVOVF9DTElDS19EQVRBX0FQSSQyLCBTRUxFQ1RPUl9EQVRBX1RPR0dMRSQyLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgRHJvcGRvd24uX2pRdWVyeUludGVyZmFjZS5jYWxsKCRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRoaXMpLCAndG9nZ2xlJyk7XG4gIH0pLm9uKEVWRU5UX0NMSUNLX0RBVEFfQVBJJDIsIFNFTEVDVE9SX0ZPUk1fQ0hJTEQsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfSk7XG4gIC8qKlxuICAgKiBqUXVlcnlcbiAgICovXG5cbiAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0uZm5bTkFNRSQ2XSA9IERyb3Bkb3duLl9qUXVlcnlJbnRlcmZhY2U7XG4gICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLmZuW05BTUUkNl0uQ29uc3RydWN0b3IgPSBEcm9wZG93bjtcblxuICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5mbltOQU1FJDZdLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0uZm5bTkFNRSQ2XSA9IEpRVUVSWV9OT19DT05GTElDVCQ2O1xuICAgIHJldHVybiBEcm9wZG93bi5falF1ZXJ5SW50ZXJmYWNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDb25zdGFudHNcbiAgICovXG5cbiAgdmFyIE5BTUUkNSA9ICdtb2RhbCc7XG4gIHZhciBWRVJTSU9OJDUgPSAnNC42LjInO1xuICB2YXIgREFUQV9LRVkkNSA9ICdicy5tb2RhbCc7XG4gIHZhciBFVkVOVF9LRVkkNSA9IFwiLlwiICsgREFUQV9LRVkkNTtcbiAgdmFyIERBVEFfQVBJX0tFWSQyID0gJy5kYXRhLWFwaSc7XG4gIHZhciBKUVVFUllfTk9fQ09ORkxJQ1QkNSA9ICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLmZuW05BTUUkNV07XG4gIHZhciBFU0NBUEVfS0VZQ09ERSA9IDI3OyAvLyBLZXlib2FyZEV2ZW50LndoaWNoIHZhbHVlIGZvciBFc2NhcGUgKEVzYykga2V5XG5cbiAgdmFyIENMQVNTX05BTUVfU0NST0xMQUJMRSA9ICdtb2RhbC1kaWFsb2ctc2Nyb2xsYWJsZSc7XG4gIHZhciBDTEFTU19OQU1FX1NDUk9MTEJBUl9NRUFTVVJFUiA9ICdtb2RhbC1zY3JvbGxiYXItbWVhc3VyZSc7XG4gIHZhciBDTEFTU19OQU1FX0JBQ0tEUk9QID0gJ21vZGFsLWJhY2tkcm9wJztcbiAgdmFyIENMQVNTX05BTUVfT1BFTiA9ICdtb2RhbC1vcGVuJztcbiAgdmFyIENMQVNTX05BTUVfRkFERSQ0ID0gJ2ZhZGUnO1xuICB2YXIgQ0xBU1NfTkFNRV9TSE9XJDQgPSAnc2hvdyc7XG4gIHZhciBDTEFTU19OQU1FX1NUQVRJQyA9ICdtb2RhbC1zdGF0aWMnO1xuICB2YXIgRVZFTlRfSElERSQyID0gXCJoaWRlXCIgKyBFVkVOVF9LRVkkNTtcbiAgdmFyIEVWRU5UX0hJREVfUFJFVkVOVEVEID0gXCJoaWRlUHJldmVudGVkXCIgKyBFVkVOVF9LRVkkNTtcbiAgdmFyIEVWRU5UX0hJRERFTiQyID0gXCJoaWRkZW5cIiArIEVWRU5UX0tFWSQ1O1xuICB2YXIgRVZFTlRfU0hPVyQyID0gXCJzaG93XCIgKyBFVkVOVF9LRVkkNTtcbiAgdmFyIEVWRU5UX1NIT1dOJDIgPSBcInNob3duXCIgKyBFVkVOVF9LRVkkNTtcbiAgdmFyIEVWRU5UX0ZPQ1VTSU4gPSBcImZvY3VzaW5cIiArIEVWRU5UX0tFWSQ1O1xuICB2YXIgRVZFTlRfUkVTSVpFID0gXCJyZXNpemVcIiArIEVWRU5UX0tFWSQ1O1xuICB2YXIgRVZFTlRfQ0xJQ0tfRElTTUlTUyQxID0gXCJjbGljay5kaXNtaXNzXCIgKyBFVkVOVF9LRVkkNTtcbiAgdmFyIEVWRU5UX0tFWURPV05fRElTTUlTUyA9IFwia2V5ZG93bi5kaXNtaXNzXCIgKyBFVkVOVF9LRVkkNTtcbiAgdmFyIEVWRU5UX01PVVNFVVBfRElTTUlTUyA9IFwibW91c2V1cC5kaXNtaXNzXCIgKyBFVkVOVF9LRVkkNTtcbiAgdmFyIEVWRU5UX01PVVNFRE9XTl9ESVNNSVNTID0gXCJtb3VzZWRvd24uZGlzbWlzc1wiICsgRVZFTlRfS0VZJDU7XG4gIHZhciBFVkVOVF9DTElDS19EQVRBX0FQSSQxID0gXCJjbGlja1wiICsgRVZFTlRfS0VZJDUgKyBEQVRBX0FQSV9LRVkkMjtcbiAgdmFyIFNFTEVDVE9SX0RJQUxPRyA9ICcubW9kYWwtZGlhbG9nJztcbiAgdmFyIFNFTEVDVE9SX01PREFMX0JPRFkgPSAnLm1vZGFsLWJvZHknO1xuICB2YXIgU0VMRUNUT1JfREFUQV9UT0dHTEUkMSA9ICdbZGF0YS10b2dnbGU9XCJtb2RhbFwiXSc7XG4gIHZhciBTRUxFQ1RPUl9EQVRBX0RJU01JU1MkMSA9ICdbZGF0YS1kaXNtaXNzPVwibW9kYWxcIl0nO1xuICB2YXIgU0VMRUNUT1JfRklYRURfQ09OVEVOVCA9ICcuZml4ZWQtdG9wLCAuZml4ZWQtYm90dG9tLCAuaXMtZml4ZWQsIC5zdGlja3ktdG9wJztcbiAgdmFyIFNFTEVDVE9SX1NUSUNLWV9DT05URU5UID0gJy5zdGlja3ktdG9wJztcbiAgdmFyIERlZmF1bHQkNCA9IHtcbiAgICBiYWNrZHJvcDogdHJ1ZSxcbiAgICBrZXlib2FyZDogdHJ1ZSxcbiAgICBmb2N1czogdHJ1ZSxcbiAgICBzaG93OiB0cnVlXG4gIH07XG4gIHZhciBEZWZhdWx0VHlwZSQ0ID0ge1xuICAgIGJhY2tkcm9wOiAnKGJvb2xlYW58c3RyaW5nKScsXG4gICAga2V5Ym9hcmQ6ICdib29sZWFuJyxcbiAgICBmb2N1czogJ2Jvb2xlYW4nLFxuICAgIHNob3c6ICdib29sZWFuJ1xuICB9O1xuICAvKipcbiAgICogQ2xhc3MgZGVmaW5pdGlvblxuICAgKi9cblxuICB2YXIgTW9kYWwgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1vZGFsKGVsZW1lbnQsIGNvbmZpZykge1xuICAgICAgdGhpcy5fY29uZmlnID0gdGhpcy5fZ2V0Q29uZmlnKGNvbmZpZyk7XG4gICAgICB0aGlzLl9lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgIHRoaXMuX2RpYWxvZyA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcihTRUxFQ1RPUl9ESUFMT0cpO1xuICAgICAgdGhpcy5fYmFja2Ryb3AgPSBudWxsO1xuICAgICAgdGhpcy5faXNTaG93biA9IGZhbHNlO1xuICAgICAgdGhpcy5faXNCb2R5T3ZlcmZsb3dpbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMuX2lnbm9yZUJhY2tkcm9wQ2xpY2sgPSBmYWxzZTtcbiAgICAgIHRoaXMuX2lzVHJhbnNpdGlvbmluZyA9IGZhbHNlO1xuICAgICAgdGhpcy5fc2Nyb2xsYmFyV2lkdGggPSAwO1xuICAgIH0gLy8gR2V0dGVyc1xuXG5cbiAgICB2YXIgX3Byb3RvID0gTW9kYWwucHJvdG90eXBlO1xuXG4gICAgLy8gUHVibGljXG4gICAgX3Byb3RvLnRvZ2dsZSA9IGZ1bmN0aW9uIHRvZ2dsZShyZWxhdGVkVGFyZ2V0KSB7XG4gICAgICByZXR1cm4gdGhpcy5faXNTaG93biA/IHRoaXMuaGlkZSgpIDogdGhpcy5zaG93KHJlbGF0ZWRUYXJnZXQpO1xuICAgIH07XG5cbiAgICBfcHJvdG8uc2hvdyA9IGZ1bmN0aW9uIHNob3cocmVsYXRlZFRhcmdldCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgaWYgKHRoaXMuX2lzU2hvd24gfHwgdGhpcy5faXNUcmFuc2l0aW9uaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHNob3dFdmVudCA9ICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLkV2ZW50KEVWRU5UX1NIT1ckMiwge1xuICAgICAgICByZWxhdGVkVGFyZ2V0OiByZWxhdGVkVGFyZ2V0XG4gICAgICB9KTtcbiAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRoaXMuX2VsZW1lbnQpLnRyaWdnZXIoc2hvd0V2ZW50KTtcblxuICAgICAgaWYgKHNob3dFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2lzU2hvd24gPSB0cnVlO1xuXG4gICAgICBpZiAoJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MoQ0xBU1NfTkFNRV9GQURFJDQpKSB7XG4gICAgICAgIHRoaXMuX2lzVHJhbnNpdGlvbmluZyA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2NoZWNrU2Nyb2xsYmFyKCk7XG5cbiAgICAgIHRoaXMuX3NldFNjcm9sbGJhcigpO1xuXG4gICAgICB0aGlzLl9hZGp1c3REaWFsb2coKTtcblxuICAgICAgdGhpcy5fc2V0RXNjYXBlRXZlbnQoKTtcblxuICAgICAgdGhpcy5fc2V0UmVzaXplRXZlbnQoKTtcblxuICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGhpcy5fZWxlbWVudCkub24oRVZFTlRfQ0xJQ0tfRElTTUlTUyQxLCBTRUxFQ1RPUl9EQVRBX0RJU01JU1MkMSwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5oaWRlKGV2ZW50KTtcbiAgICAgIH0pO1xuICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGhpcy5fZGlhbG9nKS5vbihFVkVOVF9NT1VTRURPV05fRElTTUlTUywgZnVuY3Rpb24gKCkge1xuICAgICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXShfdGhpcy5fZWxlbWVudCkub25lKEVWRU5UX01PVVNFVVBfRElTTUlTUywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgaWYgKCRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKGV2ZW50LnRhcmdldCkuaXMoX3RoaXMuX2VsZW1lbnQpKSB7XG4gICAgICAgICAgICBfdGhpcy5faWdub3JlQmFja2Ryb3BDbGljayA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLl9zaG93QmFja2Ryb3AoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuX3Nob3dFbGVtZW50KHJlbGF0ZWRUYXJnZXQpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF9wcm90by5oaWRlID0gZnVuY3Rpb24gaGlkZShldmVudCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIGlmIChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuX2lzU2hvd24gfHwgdGhpcy5faXNUcmFuc2l0aW9uaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGhpZGVFdmVudCA9ICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLkV2ZW50KEVWRU5UX0hJREUkMik7XG4gICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aGlzLl9lbGVtZW50KS50cmlnZ2VyKGhpZGVFdmVudCk7XG5cbiAgICAgIGlmICghdGhpcy5faXNTaG93biB8fCBoaWRlRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9pc1Nob3duID0gZmFsc2U7XG4gICAgICB2YXIgdHJhbnNpdGlvbiA9ICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKENMQVNTX05BTUVfRkFERSQ0KTtcblxuICAgICAgaWYgKHRyYW5zaXRpb24pIHtcbiAgICAgICAgdGhpcy5faXNUcmFuc2l0aW9uaW5nID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fc2V0RXNjYXBlRXZlbnQoKTtcblxuICAgICAgdGhpcy5fc2V0UmVzaXplRXZlbnQoKTtcblxuICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0oZG9jdW1lbnQpLm9mZihFVkVOVF9GT0NVU0lOKTtcbiAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRoaXMuX2VsZW1lbnQpLnJlbW92ZUNsYXNzKENMQVNTX05BTUVfU0hPVyQ0KTtcbiAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRoaXMuX2VsZW1lbnQpLm9mZihFVkVOVF9DTElDS19ESVNNSVNTJDEpO1xuICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGhpcy5fZGlhbG9nKS5vZmYoRVZFTlRfTU9VU0VET1dOX0RJU01JU1MpO1xuXG4gICAgICBpZiAodHJhbnNpdGlvbikge1xuICAgICAgICB2YXIgdHJhbnNpdGlvbkR1cmF0aW9uID0gVXRpbC5nZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudCh0aGlzLl9lbGVtZW50KTtcbiAgICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGhpcy5fZWxlbWVudCkub25lKFV0aWwuVFJBTlNJVElPTl9FTkQsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIuX2hpZGVNb2RhbChldmVudCk7XG4gICAgICAgIH0pLmVtdWxhdGVUcmFuc2l0aW9uRW5kKHRyYW5zaXRpb25EdXJhdGlvbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9oaWRlTW9kYWwoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgICAgW3dpbmRvdywgdGhpcy5fZWxlbWVudCwgdGhpcy5fZGlhbG9nXS5mb3JFYWNoKGZ1bmN0aW9uIChodG1sRWxlbWVudCkge1xuICAgICAgICByZXR1cm4gJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0oaHRtbEVsZW1lbnQpLm9mZihFVkVOVF9LRVkkNSk7XG4gICAgICB9KTtcbiAgICAgIC8qKlxuICAgICAgICogYGRvY3VtZW50YCBoYXMgMiBldmVudHMgYEVWRU5UX0ZPQ1VTSU5gIGFuZCBgRVZFTlRfQ0xJQ0tfREFUQV9BUElgXG4gICAgICAgKiBEbyBub3QgbW92ZSBgZG9jdW1lbnRgIGluIGBodG1sRWxlbWVudHNgIGFycmF5XG4gICAgICAgKiBJdCB3aWxsIHJlbW92ZSBgRVZFTlRfQ0xJQ0tfREFUQV9BUElgIGV2ZW50IHRoYXQgc2hvdWxkIHJlbWFpblxuICAgICAgICovXG5cbiAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKGRvY3VtZW50KS5vZmYoRVZFTlRfRk9DVVNJTik7XG4gICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5yZW1vdmVEYXRhKHRoaXMuX2VsZW1lbnQsIERBVEFfS0VZJDUpO1xuICAgICAgdGhpcy5fY29uZmlnID0gbnVsbDtcbiAgICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xuICAgICAgdGhpcy5fZGlhbG9nID0gbnVsbDtcbiAgICAgIHRoaXMuX2JhY2tkcm9wID0gbnVsbDtcbiAgICAgIHRoaXMuX2lzU2hvd24gPSBudWxsO1xuICAgICAgdGhpcy5faXNCb2R5T3ZlcmZsb3dpbmcgPSBudWxsO1xuICAgICAgdGhpcy5faWdub3JlQmFja2Ryb3BDbGljayA9IG51bGw7XG4gICAgICB0aGlzLl9pc1RyYW5zaXRpb25pbmcgPSBudWxsO1xuICAgICAgdGhpcy5fc2Nyb2xsYmFyV2lkdGggPSBudWxsO1xuICAgIH07XG5cbiAgICBfcHJvdG8uaGFuZGxlVXBkYXRlID0gZnVuY3Rpb24gaGFuZGxlVXBkYXRlKCkge1xuICAgICAgdGhpcy5fYWRqdXN0RGlhbG9nKCk7XG4gICAgfSAvLyBQcml2YXRlXG4gICAgO1xuXG4gICAgX3Byb3RvLl9nZXRDb25maWcgPSBmdW5jdGlvbiBfZ2V0Q29uZmlnKGNvbmZpZykge1xuICAgICAgY29uZmlnID0gX2V4dGVuZHMoe30sIERlZmF1bHQkNCwgY29uZmlnKTtcbiAgICAgIFV0aWwudHlwZUNoZWNrQ29uZmlnKE5BTUUkNSwgY29uZmlnLCBEZWZhdWx0VHlwZSQ0KTtcbiAgICAgIHJldHVybiBjb25maWc7XG4gICAgfTtcblxuICAgIF9wcm90by5fdHJpZ2dlckJhY2tkcm9wVHJhbnNpdGlvbiA9IGZ1bmN0aW9uIF90cmlnZ2VyQmFja2Ryb3BUcmFuc2l0aW9uKCkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIHZhciBoaWRlRXZlbnRQcmV2ZW50ZWQgPSAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5FdmVudChFVkVOVF9ISURFX1BSRVZFTlRFRCk7XG4gICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aGlzLl9lbGVtZW50KS50cmlnZ2VyKGhpZGVFdmVudFByZXZlbnRlZCk7XG5cbiAgICAgIGlmIChoaWRlRXZlbnRQcmV2ZW50ZWQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgaXNNb2RhbE92ZXJmbG93aW5nID0gdGhpcy5fZWxlbWVudC5zY3JvbGxIZWlnaHQgPiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0O1xuXG4gICAgICBpZiAoIWlzTW9kYWxPdmVyZmxvd2luZykge1xuICAgICAgICB0aGlzLl9lbGVtZW50LnN0eWxlLm92ZXJmbG93WSA9ICdoaWRkZW4nO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5hZGQoQ0xBU1NfTkFNRV9TVEFUSUMpO1xuXG4gICAgICB2YXIgbW9kYWxUcmFuc2l0aW9uRHVyYXRpb24gPSBVdGlsLmdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KHRoaXMuX2RpYWxvZyk7XG4gICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aGlzLl9lbGVtZW50KS5vZmYoVXRpbC5UUkFOU0lUSU9OX0VORCk7XG4gICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aGlzLl9lbGVtZW50KS5vbmUoVXRpbC5UUkFOU0lUSU9OX0VORCwgZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczMuX2VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShDTEFTU19OQU1FX1NUQVRJQyk7XG5cbiAgICAgICAgaWYgKCFpc01vZGFsT3ZlcmZsb3dpbmcpIHtcbiAgICAgICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXShfdGhpczMuX2VsZW1lbnQpLm9uZShVdGlsLlRSQU5TSVRJT05fRU5ELCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpczMuX2VsZW1lbnQuc3R5bGUub3ZlcmZsb3dZID0gJyc7XG4gICAgICAgICAgfSkuZW11bGF0ZVRyYW5zaXRpb25FbmQoX3RoaXMzLl9lbGVtZW50LCBtb2RhbFRyYW5zaXRpb25EdXJhdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH0pLmVtdWxhdGVUcmFuc2l0aW9uRW5kKG1vZGFsVHJhbnNpdGlvbkR1cmF0aW9uKTtcblxuICAgICAgdGhpcy5fZWxlbWVudC5mb2N1cygpO1xuICAgIH07XG5cbiAgICBfcHJvdG8uX3Nob3dFbGVtZW50ID0gZnVuY3Rpb24gX3Nob3dFbGVtZW50KHJlbGF0ZWRUYXJnZXQpIHtcbiAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICB2YXIgdHJhbnNpdGlvbiA9ICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKENMQVNTX05BTUVfRkFERSQ0KTtcbiAgICAgIHZhciBtb2RhbEJvZHkgPSB0aGlzLl9kaWFsb2cgPyB0aGlzLl9kaWFsb2cucXVlcnlTZWxlY3RvcihTRUxFQ1RPUl9NT0RBTF9CT0RZKSA6IG51bGw7XG5cbiAgICAgIGlmICghdGhpcy5fZWxlbWVudC5wYXJlbnROb2RlIHx8IHRoaXMuX2VsZW1lbnQucGFyZW50Tm9kZS5ub2RlVHlwZSAhPT0gTm9kZS5FTEVNRU5UX05PREUpIHtcbiAgICAgICAgLy8gRG9uJ3QgbW92ZSBtb2RhbCdzIERPTSBwb3NpdGlvblxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuX2VsZW1lbnQpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXG4gICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKTtcblxuICAgICAgdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbW9kYWwnLCB0cnVlKTtcblxuICAgICAgdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnZGlhbG9nJyk7XG5cbiAgICAgIGlmICgkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aGlzLl9kaWFsb2cpLmhhc0NsYXNzKENMQVNTX05BTUVfU0NST0xMQUJMRSkgJiYgbW9kYWxCb2R5KSB7XG4gICAgICAgIG1vZGFsQm9keS5zY3JvbGxUb3AgPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5zY3JvbGxUb3AgPSAwO1xuICAgICAgfVxuXG4gICAgICBpZiAodHJhbnNpdGlvbikge1xuICAgICAgICBVdGlsLnJlZmxvdyh0aGlzLl9lbGVtZW50KTtcbiAgICAgIH1cblxuICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGhpcy5fZWxlbWVudCkuYWRkQ2xhc3MoQ0xBU1NfTkFNRV9TSE9XJDQpO1xuXG4gICAgICBpZiAodGhpcy5fY29uZmlnLmZvY3VzKSB7XG4gICAgICAgIHRoaXMuX2VuZm9yY2VGb2N1cygpO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2hvd25FdmVudCA9ICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLkV2ZW50KEVWRU5UX1NIT1dOJDIsIHtcbiAgICAgICAgcmVsYXRlZFRhcmdldDogcmVsYXRlZFRhcmdldFxuICAgICAgfSk7XG5cbiAgICAgIHZhciB0cmFuc2l0aW9uQ29tcGxldGUgPSBmdW5jdGlvbiB0cmFuc2l0aW9uQ29tcGxldGUoKSB7XG4gICAgICAgIGlmIChfdGhpczQuX2NvbmZpZy5mb2N1cykge1xuICAgICAgICAgIF90aGlzNC5fZWxlbWVudC5mb2N1cygpO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXM0Ll9pc1RyYW5zaXRpb25pbmcgPSBmYWxzZTtcbiAgICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0oX3RoaXM0Ll9lbGVtZW50KS50cmlnZ2VyKHNob3duRXZlbnQpO1xuICAgICAgfTtcblxuICAgICAgaWYgKHRyYW5zaXRpb24pIHtcbiAgICAgICAgdmFyIHRyYW5zaXRpb25EdXJhdGlvbiA9IFV0aWwuZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQodGhpcy5fZGlhbG9nKTtcbiAgICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGhpcy5fZGlhbG9nKS5vbmUoVXRpbC5UUkFOU0lUSU9OX0VORCwgdHJhbnNpdGlvbkNvbXBsZXRlKS5lbXVsYXRlVHJhbnNpdGlvbkVuZCh0cmFuc2l0aW9uRHVyYXRpb24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHJhbnNpdGlvbkNvbXBsZXRlKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5fZW5mb3JjZUZvY3VzID0gZnVuY3Rpb24gX2VuZm9yY2VGb2N1cygpIHtcbiAgICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXShkb2N1bWVudCkub2ZmKEVWRU5UX0ZPQ1VTSU4pIC8vIEd1YXJkIGFnYWluc3QgaW5maW5pdGUgZm9jdXMgbG9vcFxuICAgICAgLm9uKEVWRU5UX0ZPQ1VTSU4sIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAoZG9jdW1lbnQgIT09IGV2ZW50LnRhcmdldCAmJiBfdGhpczUuX2VsZW1lbnQgIT09IGV2ZW50LnRhcmdldCAmJiAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXShfdGhpczUuX2VsZW1lbnQpLmhhcyhldmVudC50YXJnZXQpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIF90aGlzNS5fZWxlbWVudC5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLl9zZXRFc2NhcGVFdmVudCA9IGZ1bmN0aW9uIF9zZXRFc2NhcGVFdmVudCgpIHtcbiAgICAgIHZhciBfdGhpczYgPSB0aGlzO1xuXG4gICAgICBpZiAodGhpcy5faXNTaG93bikge1xuICAgICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aGlzLl9lbGVtZW50KS5vbihFVkVOVF9LRVlET1dOX0RJU01JU1MsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIGlmIChfdGhpczYuX2NvbmZpZy5rZXlib2FyZCAmJiBldmVudC53aGljaCA9PT0gRVNDQVBFX0tFWUNPREUpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgIF90aGlzNi5oaWRlKCk7XG4gICAgICAgICAgfSBlbHNlIGlmICghX3RoaXM2Ll9jb25maWcua2V5Ym9hcmQgJiYgZXZlbnQud2hpY2ggPT09IEVTQ0FQRV9LRVlDT0RFKSB7XG4gICAgICAgICAgICBfdGhpczYuX3RyaWdnZXJCYWNrZHJvcFRyYW5zaXRpb24oKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmICghdGhpcy5faXNTaG93bikge1xuICAgICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aGlzLl9lbGVtZW50KS5vZmYoRVZFTlRfS0VZRE9XTl9ESVNNSVNTKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLl9zZXRSZXNpemVFdmVudCA9IGZ1bmN0aW9uIF9zZXRSZXNpemVFdmVudCgpIHtcbiAgICAgIHZhciBfdGhpczcgPSB0aGlzO1xuXG4gICAgICBpZiAodGhpcy5faXNTaG93bikge1xuICAgICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh3aW5kb3cpLm9uKEVWRU5UX1JFU0laRSwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzNy5oYW5kbGVVcGRhdGUoZXZlbnQpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHdpbmRvdykub2ZmKEVWRU5UX1JFU0laRSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5faGlkZU1vZGFsID0gZnVuY3Rpb24gX2hpZGVNb2RhbCgpIHtcbiAgICAgIHZhciBfdGhpczggPSB0aGlzO1xuXG4gICAgICB0aGlzLl9lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgIHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsIHRydWUpO1xuXG4gICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1tb2RhbCcpO1xuXG4gICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgncm9sZScpO1xuXG4gICAgICB0aGlzLl9pc1RyYW5zaXRpb25pbmcgPSBmYWxzZTtcblxuICAgICAgdGhpcy5fc2hvd0JhY2tkcm9wKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0oZG9jdW1lbnQuYm9keSkucmVtb3ZlQ2xhc3MoQ0xBU1NfTkFNRV9PUEVOKTtcblxuICAgICAgICBfdGhpczguX3Jlc2V0QWRqdXN0bWVudHMoKTtcblxuICAgICAgICBfdGhpczguX3Jlc2V0U2Nyb2xsYmFyKCk7XG5cbiAgICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0oX3RoaXM4Ll9lbGVtZW50KS50cmlnZ2VyKEVWRU5UX0hJRERFTiQyKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfcHJvdG8uX3JlbW92ZUJhY2tkcm9wID0gZnVuY3Rpb24gX3JlbW92ZUJhY2tkcm9wKCkge1xuICAgICAgaWYgKHRoaXMuX2JhY2tkcm9wKSB7XG4gICAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRoaXMuX2JhY2tkcm9wKS5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5fYmFja2Ryb3AgPSBudWxsO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uX3Nob3dCYWNrZHJvcCA9IGZ1bmN0aW9uIF9zaG93QmFja2Ryb3AoY2FsbGJhY2spIHtcbiAgICAgIHZhciBfdGhpczkgPSB0aGlzO1xuXG4gICAgICB2YXIgYW5pbWF0ZSA9ICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKENMQVNTX05BTUVfRkFERSQ0KSA/IENMQVNTX05BTUVfRkFERSQ0IDogJyc7XG5cbiAgICAgIGlmICh0aGlzLl9pc1Nob3duICYmIHRoaXMuX2NvbmZpZy5iYWNrZHJvcCkge1xuICAgICAgICB0aGlzLl9iYWNrZHJvcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLl9iYWNrZHJvcC5jbGFzc05hbWUgPSBDTEFTU19OQU1FX0JBQ0tEUk9QO1xuXG4gICAgICAgIGlmIChhbmltYXRlKSB7XG4gICAgICAgICAgdGhpcy5fYmFja2Ryb3AuY2xhc3NMaXN0LmFkZChhbmltYXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRoaXMuX2JhY2tkcm9wKS5hcHBlbmRUbyhkb2N1bWVudC5ib2R5KTtcbiAgICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGhpcy5fZWxlbWVudCkub24oRVZFTlRfQ0xJQ0tfRElTTUlTUyQxLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICBpZiAoX3RoaXM5Ll9pZ25vcmVCYWNrZHJvcENsaWNrKSB7XG4gICAgICAgICAgICBfdGhpczkuX2lnbm9yZUJhY2tkcm9wQ2xpY2sgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ICE9PSBldmVudC5jdXJyZW50VGFyZ2V0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKF90aGlzOS5fY29uZmlnLmJhY2tkcm9wID09PSAnc3RhdGljJykge1xuICAgICAgICAgICAgX3RoaXM5Ll90cmlnZ2VyQmFja2Ryb3BUcmFuc2l0aW9uKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzOS5oaWRlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoYW5pbWF0ZSkge1xuICAgICAgICAgIFV0aWwucmVmbG93KHRoaXMuX2JhY2tkcm9wKTtcbiAgICAgICAgfVxuXG4gICAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRoaXMuX2JhY2tkcm9wKS5hZGRDbGFzcyhDTEFTU19OQU1FX1NIT1ckNCk7XG5cbiAgICAgICAgaWYgKCFjYWxsYmFjaykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghYW5pbWF0ZSkge1xuICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJhY2tkcm9wVHJhbnNpdGlvbkR1cmF0aW9uID0gVXRpbC5nZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudCh0aGlzLl9iYWNrZHJvcCk7XG4gICAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRoaXMuX2JhY2tkcm9wKS5vbmUoVXRpbC5UUkFOU0lUSU9OX0VORCwgY2FsbGJhY2spLmVtdWxhdGVUcmFuc2l0aW9uRW5kKGJhY2tkcm9wVHJhbnNpdGlvbkR1cmF0aW9uKTtcbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX2lzU2hvd24gJiYgdGhpcy5fYmFja2Ryb3ApIHtcbiAgICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGhpcy5fYmFja2Ryb3ApLnJlbW92ZUNsYXNzKENMQVNTX05BTUVfU0hPVyQ0KTtcblxuICAgICAgICB2YXIgY2FsbGJhY2tSZW1vdmUgPSBmdW5jdGlvbiBjYWxsYmFja1JlbW92ZSgpIHtcbiAgICAgICAgICBfdGhpczkuX3JlbW92ZUJhY2tkcm9wKCk7XG5cbiAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICgkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhDTEFTU19OQU1FX0ZBREUkNCkpIHtcbiAgICAgICAgICB2YXIgX2JhY2tkcm9wVHJhbnNpdGlvbkR1cmF0aW9uID0gVXRpbC5nZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudCh0aGlzLl9iYWNrZHJvcCk7XG5cbiAgICAgICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aGlzLl9iYWNrZHJvcCkub25lKFV0aWwuVFJBTlNJVElPTl9FTkQsIGNhbGxiYWNrUmVtb3ZlKS5lbXVsYXRlVHJhbnNpdGlvbkVuZChfYmFja2Ryb3BUcmFuc2l0aW9uRHVyYXRpb24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNhbGxiYWNrUmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9IC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyB0aGUgZm9sbG93aW5nIG1ldGhvZHMgYXJlIHVzZWQgdG8gaGFuZGxlIG92ZXJmbG93aW5nIG1vZGFsc1xuICAgIC8vIHRvZG8gKGZhdCk6IHRoZXNlIHNob3VsZCBwcm9iYWJseSBiZSByZWZhY3RvcmVkIG91dCBvZiBtb2RhbC5qc1xuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICA7XG5cbiAgICBfcHJvdG8uX2FkanVzdERpYWxvZyA9IGZ1bmN0aW9uIF9hZGp1c3REaWFsb2coKSB7XG4gICAgICB2YXIgaXNNb2RhbE92ZXJmbG93aW5nID0gdGhpcy5fZWxlbWVudC5zY3JvbGxIZWlnaHQgPiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0O1xuXG4gICAgICBpZiAoIXRoaXMuX2lzQm9keU92ZXJmbG93aW5nICYmIGlzTW9kYWxPdmVyZmxvd2luZykge1xuICAgICAgICB0aGlzLl9lbGVtZW50LnN0eWxlLnBhZGRpbmdMZWZ0ID0gdGhpcy5fc2Nyb2xsYmFyV2lkdGggKyBcInB4XCI7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9pc0JvZHlPdmVyZmxvd2luZyAmJiAhaXNNb2RhbE92ZXJmbG93aW5nKSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUucGFkZGluZ1JpZ2h0ID0gdGhpcy5fc2Nyb2xsYmFyV2lkdGggKyBcInB4XCI7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5fcmVzZXRBZGp1c3RtZW50cyA9IGZ1bmN0aW9uIF9yZXNldEFkanVzdG1lbnRzKCkge1xuICAgICAgdGhpcy5fZWxlbWVudC5zdHlsZS5wYWRkaW5nTGVmdCA9ICcnO1xuICAgICAgdGhpcy5fZWxlbWVudC5zdHlsZS5wYWRkaW5nUmlnaHQgPSAnJztcbiAgICB9O1xuXG4gICAgX3Byb3RvLl9jaGVja1Njcm9sbGJhciA9IGZ1bmN0aW9uIF9jaGVja1Njcm9sbGJhcigpIHtcbiAgICAgIHZhciByZWN0ID0gZG9jdW1lbnQuYm9keS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIHRoaXMuX2lzQm9keU92ZXJmbG93aW5nID0gTWF0aC5yb3VuZChyZWN0LmxlZnQgKyByZWN0LnJpZ2h0KSA8IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgdGhpcy5fc2Nyb2xsYmFyV2lkdGggPSB0aGlzLl9nZXRTY3JvbGxiYXJXaWR0aCgpO1xuICAgIH07XG5cbiAgICBfcHJvdG8uX3NldFNjcm9sbGJhciA9IGZ1bmN0aW9uIF9zZXRTY3JvbGxiYXIoKSB7XG4gICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLl9pc0JvZHlPdmVyZmxvd2luZykge1xuICAgICAgICAvLyBOb3RlOiBET01Ob2RlLnN0eWxlLnBhZGRpbmdSaWdodCByZXR1cm5zIHRoZSBhY3R1YWwgdmFsdWUgb3IgJycgaWYgbm90IHNldFxuICAgICAgICAvLyAgIHdoaWxlICQoRE9NTm9kZSkuY3NzKCdwYWRkaW5nLXJpZ2h0JykgcmV0dXJucyB0aGUgY2FsY3VsYXRlZCB2YWx1ZSBvciAwIGlmIG5vdCBzZXRcbiAgICAgICAgdmFyIGZpeGVkQ29udGVudCA9IFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChTRUxFQ1RPUl9GSVhFRF9DT05URU5UKSk7XG4gICAgICAgIHZhciBzdGlja3lDb250ZW50ID0gW10uc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFNFTEVDVE9SX1NUSUNLWV9DT05URU5UKSk7IC8vIEFkanVzdCBmaXhlZCBjb250ZW50IHBhZGRpbmdcblxuICAgICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXShmaXhlZENvbnRlbnQpLmVhY2goZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7XG4gICAgICAgICAgdmFyIGFjdHVhbFBhZGRpbmcgPSBlbGVtZW50LnN0eWxlLnBhZGRpbmdSaWdodDtcbiAgICAgICAgICB2YXIgY2FsY3VsYXRlZFBhZGRpbmcgPSAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXShlbGVtZW50KS5jc3MoJ3BhZGRpbmctcmlnaHQnKTtcbiAgICAgICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXShlbGVtZW50KS5kYXRhKCdwYWRkaW5nLXJpZ2h0JywgYWN0dWFsUGFkZGluZykuY3NzKCdwYWRkaW5nLXJpZ2h0JywgcGFyc2VGbG9hdChjYWxjdWxhdGVkUGFkZGluZykgKyBfdGhpczEwLl9zY3JvbGxiYXJXaWR0aCArIFwicHhcIik7XG4gICAgICAgIH0pOyAvLyBBZGp1c3Qgc3RpY2t5IGNvbnRlbnQgbWFyZ2luXG5cbiAgICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0oc3RpY2t5Q29udGVudCkuZWFjaChmdW5jdGlvbiAoaW5kZXgsIGVsZW1lbnQpIHtcbiAgICAgICAgICB2YXIgYWN0dWFsTWFyZ2luID0gZWxlbWVudC5zdHlsZS5tYXJnaW5SaWdodDtcbiAgICAgICAgICB2YXIgY2FsY3VsYXRlZE1hcmdpbiA9ICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKGVsZW1lbnQpLmNzcygnbWFyZ2luLXJpZ2h0Jyk7XG4gICAgICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0oZWxlbWVudCkuZGF0YSgnbWFyZ2luLXJpZ2h0JywgYWN0dWFsTWFyZ2luKS5jc3MoJ21hcmdpbi1yaWdodCcsIHBhcnNlRmxvYXQoY2FsY3VsYXRlZE1hcmdpbikgLSBfdGhpczEwLl9zY3JvbGxiYXJXaWR0aCArIFwicHhcIik7XG4gICAgICAgIH0pOyAvLyBBZGp1c3QgYm9keSBwYWRkaW5nXG5cbiAgICAgICAgdmFyIGFjdHVhbFBhZGRpbmcgPSBkb2N1bWVudC5ib2R5LnN0eWxlLnBhZGRpbmdSaWdodDtcbiAgICAgICAgdmFyIGNhbGN1bGF0ZWRQYWRkaW5nID0gJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0oZG9jdW1lbnQuYm9keSkuY3NzKCdwYWRkaW5nLXJpZ2h0Jyk7XG4gICAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKGRvY3VtZW50LmJvZHkpLmRhdGEoJ3BhZGRpbmctcmlnaHQnLCBhY3R1YWxQYWRkaW5nKS5jc3MoJ3BhZGRpbmctcmlnaHQnLCBwYXJzZUZsb2F0KGNhbGN1bGF0ZWRQYWRkaW5nKSArIHRoaXMuX3Njcm9sbGJhcldpZHRoICsgXCJweFwiKTtcbiAgICAgIH1cblxuICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0oZG9jdW1lbnQuYm9keSkuYWRkQ2xhc3MoQ0xBU1NfTkFNRV9PUEVOKTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLl9yZXNldFNjcm9sbGJhciA9IGZ1bmN0aW9uIF9yZXNldFNjcm9sbGJhcigpIHtcbiAgICAgIC8vIFJlc3RvcmUgZml4ZWQgY29udGVudCBwYWRkaW5nXG4gICAgICB2YXIgZml4ZWRDb250ZW50ID0gW10uc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFNFTEVDVE9SX0ZJWEVEX0NPTlRFTlQpKTtcbiAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKGZpeGVkQ29udGVudCkuZWFjaChmdW5jdGlvbiAoaW5kZXgsIGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIHBhZGRpbmcgPSAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXShlbGVtZW50KS5kYXRhKCdwYWRkaW5nLXJpZ2h0Jyk7XG4gICAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKGVsZW1lbnQpLnJlbW92ZURhdGEoJ3BhZGRpbmctcmlnaHQnKTtcbiAgICAgICAgZWxlbWVudC5zdHlsZS5wYWRkaW5nUmlnaHQgPSBwYWRkaW5nID8gcGFkZGluZyA6ICcnO1xuICAgICAgfSk7IC8vIFJlc3RvcmUgc3RpY2t5IGNvbnRlbnRcblxuICAgICAgdmFyIGVsZW1lbnRzID0gW10uc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiXCIgKyBTRUxFQ1RPUl9TVElDS1lfQ09OVEVOVCkpO1xuICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0oZWxlbWVudHMpLmVhY2goZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7XG4gICAgICAgIHZhciBtYXJnaW4gPSAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXShlbGVtZW50KS5kYXRhKCdtYXJnaW4tcmlnaHQnKTtcblxuICAgICAgICBpZiAodHlwZW9mIG1hcmdpbiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXShlbGVtZW50KS5jc3MoJ21hcmdpbi1yaWdodCcsIG1hcmdpbikucmVtb3ZlRGF0YSgnbWFyZ2luLXJpZ2h0Jyk7XG4gICAgICAgIH1cbiAgICAgIH0pOyAvLyBSZXN0b3JlIGJvZHkgcGFkZGluZ1xuXG4gICAgICB2YXIgcGFkZGluZyA9ICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKGRvY3VtZW50LmJvZHkpLmRhdGEoJ3BhZGRpbmctcmlnaHQnKTtcbiAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKGRvY3VtZW50LmJvZHkpLnJlbW92ZURhdGEoJ3BhZGRpbmctcmlnaHQnKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucGFkZGluZ1JpZ2h0ID0gcGFkZGluZyA/IHBhZGRpbmcgOiAnJztcbiAgICB9O1xuXG4gICAgX3Byb3RvLl9nZXRTY3JvbGxiYXJXaWR0aCA9IGZ1bmN0aW9uIF9nZXRTY3JvbGxiYXJXaWR0aCgpIHtcbiAgICAgIC8vIHRoeCBkLndhbHNoXG4gICAgICB2YXIgc2Nyb2xsRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBzY3JvbGxEaXYuY2xhc3NOYW1lID0gQ0xBU1NfTkFNRV9TQ1JPTExCQVJfTUVBU1VSRVI7XG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcm9sbERpdik7XG4gICAgICB2YXIgc2Nyb2xsYmFyV2lkdGggPSBzY3JvbGxEaXYuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggLSBzY3JvbGxEaXYuY2xpZW50V2lkdGg7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHNjcm9sbERpdik7XG4gICAgICByZXR1cm4gc2Nyb2xsYmFyV2lkdGg7XG4gICAgfSAvLyBTdGF0aWNcbiAgICA7XG5cbiAgICBNb2RhbC5falF1ZXJ5SW50ZXJmYWNlID0gZnVuY3Rpb24gX2pRdWVyeUludGVyZmFjZShjb25maWcsIHJlbGF0ZWRUYXJnZXQpIHtcbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGF0YSA9ICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRoaXMpLmRhdGEoREFUQV9LRVkkNSk7XG5cbiAgICAgICAgdmFyIF9jb25maWcgPSBfZXh0ZW5kcyh7fSwgRGVmYXVsdCQ0LCAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aGlzKS5kYXRhKCksIHR5cGVvZiBjb25maWcgPT09ICdvYmplY3QnICYmIGNvbmZpZyA/IGNvbmZpZyA6IHt9KTtcblxuICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICBkYXRhID0gbmV3IE1vZGFsKHRoaXMsIF9jb25maWcpO1xuICAgICAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRoaXMpLmRhdGEoREFUQV9LRVkkNSwgZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIGRhdGFbY29uZmlnXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJObyBtZXRob2QgbmFtZWQgXFxcIlwiICsgY29uZmlnICsgXCJcXFwiXCIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRhdGFbY29uZmlnXShyZWxhdGVkVGFyZ2V0KTtcbiAgICAgICAgfSBlbHNlIGlmIChfY29uZmlnLnNob3cpIHtcbiAgICAgICAgICBkYXRhLnNob3cocmVsYXRlZFRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfY3JlYXRlQ2xhc3MoTW9kYWwsIG51bGwsIFt7XG4gICAgICBrZXk6IFwiVkVSU0lPTlwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBWRVJTSU9OJDU7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIkRlZmF1bHRcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gRGVmYXVsdCQ0O1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBNb2RhbDtcbiAgfSgpO1xuICAvKipcbiAgICogRGF0YSBBUEkgaW1wbGVtZW50YXRpb25cbiAgICovXG5cblxuICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXShkb2N1bWVudCkub24oRVZFTlRfQ0xJQ0tfREFUQV9BUEkkMSwgU0VMRUNUT1JfREFUQV9UT0dHTEUkMSwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgdmFyIF90aGlzMTEgPSB0aGlzO1xuXG4gICAgdmFyIHRhcmdldDtcbiAgICB2YXIgc2VsZWN0b3IgPSBVdGlsLmdldFNlbGVjdG9yRnJvbUVsZW1lbnQodGhpcyk7XG5cbiAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgIHRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgIH1cblxuICAgIHZhciBjb25maWcgPSAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0YXJnZXQpLmRhdGEoREFUQV9LRVkkNSkgPyAndG9nZ2xlJyA6IF9leHRlbmRzKHt9LCAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0YXJnZXQpLmRhdGEoKSwgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGhpcykuZGF0YSgpKTtcblxuICAgIGlmICh0aGlzLnRhZ05hbWUgPT09ICdBJyB8fCB0aGlzLnRhZ05hbWUgPT09ICdBUkVBJykge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICB2YXIgJHRhcmdldCA9ICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRhcmdldCkub25lKEVWRU5UX1NIT1ckMiwgZnVuY3Rpb24gKHNob3dFdmVudCkge1xuICAgICAgaWYgKHNob3dFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICAvLyBPbmx5IHJlZ2lzdGVyIGZvY3VzIHJlc3RvcmVyIGlmIG1vZGFsIHdpbGwgYWN0dWFsbHkgZ2V0IHNob3duXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgJHRhcmdldC5vbmUoRVZFTlRfSElEREVOJDIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKF90aGlzMTEpLmlzKCc6dmlzaWJsZScpKSB7XG4gICAgICAgICAgX3RoaXMxMS5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIE1vZGFsLl9qUXVlcnlJbnRlcmZhY2UuY2FsbCgkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0YXJnZXQpLCBjb25maWcsIHRoaXMpO1xuICB9KTtcbiAgLyoqXG4gICAqIGpRdWVyeVxuICAgKi9cblxuICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5mbltOQU1FJDVdID0gTW9kYWwuX2pRdWVyeUludGVyZmFjZTtcbiAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0uZm5bTkFNRSQ1XS5Db25zdHJ1Y3RvciA9IE1vZGFsO1xuXG4gICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLmZuW05BTUUkNV0ubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5mbltOQU1FJDVdID0gSlFVRVJZX05PX0NPTkZMSUNUJDU7XG4gICAgcmV0dXJuIE1vZGFsLl9qUXVlcnlJbnRlcmZhY2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIEJvb3RzdHJhcCAodjQuNi4yKTogdG9vbHMvc2FuaXRpemVyLmpzXG4gICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFpbi9MSUNFTlNFKVxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKi9cbiAgdmFyIHVyaUF0dHJzID0gWydiYWNrZ3JvdW5kJywgJ2NpdGUnLCAnaHJlZicsICdpdGVtdHlwZScsICdsb25nZGVzYycsICdwb3N0ZXInLCAnc3JjJywgJ3hsaW5rOmhyZWYnXTtcbiAgdmFyIEFSSUFfQVRUUklCVVRFX1BBVFRFUk4gPSAvXmFyaWEtW1xcdy1dKiQvaTtcbiAgdmFyIERlZmF1bHRXaGl0ZWxpc3QgPSB7XG4gICAgLy8gR2xvYmFsIGF0dHJpYnV0ZXMgYWxsb3dlZCBvbiBhbnkgc3VwcGxpZWQgZWxlbWVudCBiZWxvdy5cbiAgICAnKic6IFsnY2xhc3MnLCAnZGlyJywgJ2lkJywgJ2xhbmcnLCAncm9sZScsIEFSSUFfQVRUUklCVVRFX1BBVFRFUk5dLFxuICAgIGE6IFsndGFyZ2V0JywgJ2hyZWYnLCAndGl0bGUnLCAncmVsJ10sXG4gICAgYXJlYTogW10sXG4gICAgYjogW10sXG4gICAgYnI6IFtdLFxuICAgIGNvbDogW10sXG4gICAgY29kZTogW10sXG4gICAgZGl2OiBbXSxcbiAgICBlbTogW10sXG4gICAgaHI6IFtdLFxuICAgIGgxOiBbXSxcbiAgICBoMjogW10sXG4gICAgaDM6IFtdLFxuICAgIGg0OiBbXSxcbiAgICBoNTogW10sXG4gICAgaDY6IFtdLFxuICAgIGk6IFtdLFxuICAgIGltZzogWydzcmMnLCAnc3Jjc2V0JywgJ2FsdCcsICd0aXRsZScsICd3aWR0aCcsICdoZWlnaHQnXSxcbiAgICBsaTogW10sXG4gICAgb2w6IFtdLFxuICAgIHA6IFtdLFxuICAgIHByZTogW10sXG4gICAgczogW10sXG4gICAgc21hbGw6IFtdLFxuICAgIHNwYW46IFtdLFxuICAgIHN1YjogW10sXG4gICAgc3VwOiBbXSxcbiAgICBzdHJvbmc6IFtdLFxuICAgIHU6IFtdLFxuICAgIHVsOiBbXVxuICB9O1xuICAvKipcbiAgICogQSBwYXR0ZXJuIHRoYXQgcmVjb2duaXplcyBhIGNvbW1vbmx5IHVzZWZ1bCBzdWJzZXQgb2YgVVJMcyB0aGF0IGFyZSBzYWZlLlxuICAgKlxuICAgKiBTaG91dG91dCB0byBBbmd1bGFyIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvYmxvYi8xMi4yLngvcGFja2FnZXMvY29yZS9zcmMvc2FuaXRpemF0aW9uL3VybF9zYW5pdGl6ZXIudHNcbiAgICovXG5cbiAgdmFyIFNBRkVfVVJMX1BBVFRFUk4gPSAvXig/Oig/Omh0dHBzP3xtYWlsdG98ZnRwfHRlbHxmaWxlfHNtcyk6fFteIyYvOj9dKig/OlsjLz9dfCQpKS9pO1xuICAvKipcbiAgICogQSBwYXR0ZXJuIHRoYXQgbWF0Y2hlcyBzYWZlIGRhdGEgVVJMcy4gT25seSBtYXRjaGVzIGltYWdlLCB2aWRlbyBhbmQgYXVkaW8gdHlwZXMuXG4gICAqXG4gICAqIFNob3V0b3V0IHRvIEFuZ3VsYXIgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9ibG9iLzEyLjIueC9wYWNrYWdlcy9jb3JlL3NyYy9zYW5pdGl6YXRpb24vdXJsX3Nhbml0aXplci50c1xuICAgKi9cblxuICB2YXIgREFUQV9VUkxfUEFUVEVSTiA9IC9eZGF0YTooPzppbWFnZVxcLyg/OmJtcHxnaWZ8anBlZ3xqcGd8cG5nfHRpZmZ8d2VicCl8dmlkZW9cXC8oPzptcGVnfG1wNHxvZ2d8d2VibSl8YXVkaW9cXC8oPzptcDN8b2dhfG9nZ3xvcHVzKSk7YmFzZTY0LFtcXGQrL2Etel0rPSokL2k7XG5cbiAgZnVuY3Rpb24gYWxsb3dlZEF0dHJpYnV0ZShhdHRyLCBhbGxvd2VkQXR0cmlidXRlTGlzdCkge1xuICAgIHZhciBhdHRyTmFtZSA9IGF0dHIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblxuICAgIGlmIChhbGxvd2VkQXR0cmlidXRlTGlzdC5pbmRleE9mKGF0dHJOYW1lKSAhPT0gLTEpIHtcbiAgICAgIGlmICh1cmlBdHRycy5pbmRleE9mKGF0dHJOYW1lKSAhPT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIEJvb2xlYW4oU0FGRV9VUkxfUEFUVEVSTi50ZXN0KGF0dHIubm9kZVZhbHVlKSB8fCBEQVRBX1VSTF9QQVRURVJOLnRlc3QoYXR0ci5ub2RlVmFsdWUpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgdmFyIHJlZ0V4cCA9IGFsbG93ZWRBdHRyaWJ1dGVMaXN0LmZpbHRlcihmdW5jdGlvbiAoYXR0clJlZ2V4KSB7XG4gICAgICByZXR1cm4gYXR0clJlZ2V4IGluc3RhbmNlb2YgUmVnRXhwO1xuICAgIH0pOyAvLyBDaGVjayBpZiBhIHJlZ3VsYXIgZXhwcmVzc2lvbiB2YWxpZGF0ZXMgdGhlIGF0dHJpYnV0ZS5cblxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSByZWdFeHAubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGlmIChyZWdFeHBbaV0udGVzdChhdHRyTmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gc2FuaXRpemVIdG1sKHVuc2FmZUh0bWwsIHdoaXRlTGlzdCwgc2FuaXRpemVGbikge1xuICAgIGlmICh1bnNhZmVIdG1sLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHVuc2FmZUh0bWw7XG4gICAgfVxuXG4gICAgaWYgKHNhbml0aXplRm4gJiYgdHlwZW9mIHNhbml0aXplRm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBzYW5pdGl6ZUZuKHVuc2FmZUh0bWwpO1xuICAgIH1cblxuICAgIHZhciBkb21QYXJzZXIgPSBuZXcgd2luZG93LkRPTVBhcnNlcigpO1xuICAgIHZhciBjcmVhdGVkRG9jdW1lbnQgPSBkb21QYXJzZXIucGFyc2VGcm9tU3RyaW5nKHVuc2FmZUh0bWwsICd0ZXh0L2h0bWwnKTtcbiAgICB2YXIgd2hpdGVsaXN0S2V5cyA9IE9iamVjdC5rZXlzKHdoaXRlTGlzdCk7XG4gICAgdmFyIGVsZW1lbnRzID0gW10uc2xpY2UuY2FsbChjcmVhdGVkRG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yQWxsKCcqJykpO1xuXG4gICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoaSwgbGVuKSB7XG4gICAgICB2YXIgZWwgPSBlbGVtZW50c1tpXTtcbiAgICAgIHZhciBlbE5hbWUgPSBlbC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICBpZiAod2hpdGVsaXN0S2V5cy5pbmRleE9mKGVsLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpID09PSAtMSkge1xuICAgICAgICBlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsKTtcbiAgICAgICAgcmV0dXJuIFwiY29udGludWVcIjtcbiAgICAgIH1cblxuICAgICAgdmFyIGF0dHJpYnV0ZUxpc3QgPSBbXS5zbGljZS5jYWxsKGVsLmF0dHJpYnV0ZXMpOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdW5pY29ybi9wcmVmZXItc3ByZWFkXG5cbiAgICAgIHZhciB3aGl0ZWxpc3RlZEF0dHJpYnV0ZXMgPSBbXS5jb25jYXQod2hpdGVMaXN0WycqJ10gfHwgW10sIHdoaXRlTGlzdFtlbE5hbWVdIHx8IFtdKTtcbiAgICAgIGF0dHJpYnV0ZUxpc3QuZm9yRWFjaChmdW5jdGlvbiAoYXR0cikge1xuICAgICAgICBpZiAoIWFsbG93ZWRBdHRyaWJ1dGUoYXR0ciwgd2hpdGVsaXN0ZWRBdHRyaWJ1dGVzKSkge1xuICAgICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShhdHRyLm5vZGVOYW1lKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBlbGVtZW50cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgdmFyIF9yZXQgPSBfbG9vcChpKTtcblxuICAgICAgaWYgKF9yZXQgPT09IFwiY29udGludWVcIikgY29udGludWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNyZWF0ZWREb2N1bWVudC5ib2R5LmlubmVySFRNTDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb25zdGFudHNcbiAgICovXG5cbiAgdmFyIE5BTUUkNCA9ICd0b29sdGlwJztcbiAgdmFyIFZFUlNJT04kNCA9ICc0LjYuMic7XG4gIHZhciBEQVRBX0tFWSQ0ID0gJ2JzLnRvb2x0aXAnO1xuICB2YXIgRVZFTlRfS0VZJDQgPSBcIi5cIiArIERBVEFfS0VZJDQ7XG4gIHZhciBKUVVFUllfTk9fQ09ORkxJQ1QkNCA9ICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLmZuW05BTUUkNF07XG4gIHZhciBDTEFTU19QUkVGSVgkMSA9ICdicy10b29sdGlwJztcbiAgdmFyIEJTQ0xTX1BSRUZJWF9SRUdFWCQxID0gbmV3IFJlZ0V4cChcIihefFxcXFxzKVwiICsgQ0xBU1NfUFJFRklYJDEgKyBcIlxcXFxTK1wiLCAnZycpO1xuICB2YXIgRElTQUxMT1dFRF9BVFRSSUJVVEVTID0gWydzYW5pdGl6ZScsICd3aGl0ZUxpc3QnLCAnc2FuaXRpemVGbiddO1xuICB2YXIgQ0xBU1NfTkFNRV9GQURFJDMgPSAnZmFkZSc7XG4gIHZhciBDTEFTU19OQU1FX1NIT1ckMyA9ICdzaG93JztcbiAgdmFyIEhPVkVSX1NUQVRFX1NIT1cgPSAnc2hvdyc7XG4gIHZhciBIT1ZFUl9TVEFURV9PVVQgPSAnb3V0JztcbiAgdmFyIFNFTEVDVE9SX1RPT0xUSVBfSU5ORVIgPSAnLnRvb2x0aXAtaW5uZXInO1xuICB2YXIgU0VMRUNUT1JfQVJST1cgPSAnLmFycm93JztcbiAgdmFyIFRSSUdHRVJfSE9WRVIgPSAnaG92ZXInO1xuICB2YXIgVFJJR0dFUl9GT0NVUyA9ICdmb2N1cyc7XG4gIHZhciBUUklHR0VSX0NMSUNLID0gJ2NsaWNrJztcbiAgdmFyIFRSSUdHRVJfTUFOVUFMID0gJ21hbnVhbCc7XG4gIHZhciBBdHRhY2htZW50TWFwID0ge1xuICAgIEFVVE86ICdhdXRvJyxcbiAgICBUT1A6ICd0b3AnLFxuICAgIFJJR0hUOiAncmlnaHQnLFxuICAgIEJPVFRPTTogJ2JvdHRvbScsXG4gICAgTEVGVDogJ2xlZnQnXG4gIH07XG4gIHZhciBEZWZhdWx0JDMgPSB7XG4gICAgYW5pbWF0aW9uOiB0cnVlLFxuICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cInRvb2x0aXBcIiByb2xlPVwidG9vbHRpcFwiPicgKyAnPGRpdiBjbGFzcz1cImFycm93XCI+PC9kaXY+JyArICc8ZGl2IGNsYXNzPVwidG9vbHRpcC1pbm5lclwiPjwvZGl2PjwvZGl2PicsXG4gICAgdHJpZ2dlcjogJ2hvdmVyIGZvY3VzJyxcbiAgICB0aXRsZTogJycsXG4gICAgZGVsYXk6IDAsXG4gICAgaHRtbDogZmFsc2UsXG4gICAgc2VsZWN0b3I6IGZhbHNlLFxuICAgIHBsYWNlbWVudDogJ3RvcCcsXG4gICAgb2Zmc2V0OiAwLFxuICAgIGNvbnRhaW5lcjogZmFsc2UsXG4gICAgZmFsbGJhY2tQbGFjZW1lbnQ6ICdmbGlwJyxcbiAgICBib3VuZGFyeTogJ3Njcm9sbFBhcmVudCcsXG4gICAgY3VzdG9tQ2xhc3M6ICcnLFxuICAgIHNhbml0aXplOiB0cnVlLFxuICAgIHNhbml0aXplRm46IG51bGwsXG4gICAgd2hpdGVMaXN0OiBEZWZhdWx0V2hpdGVsaXN0LFxuICAgIHBvcHBlckNvbmZpZzogbnVsbFxuICB9O1xuICB2YXIgRGVmYXVsdFR5cGUkMyA9IHtcbiAgICBhbmltYXRpb246ICdib29sZWFuJyxcbiAgICB0ZW1wbGF0ZTogJ3N0cmluZycsXG4gICAgdGl0bGU6ICcoc3RyaW5nfGVsZW1lbnR8ZnVuY3Rpb24pJyxcbiAgICB0cmlnZ2VyOiAnc3RyaW5nJyxcbiAgICBkZWxheTogJyhudW1iZXJ8b2JqZWN0KScsXG4gICAgaHRtbDogJ2Jvb2xlYW4nLFxuICAgIHNlbGVjdG9yOiAnKHN0cmluZ3xib29sZWFuKScsXG4gICAgcGxhY2VtZW50OiAnKHN0cmluZ3xmdW5jdGlvbiknLFxuICAgIG9mZnNldDogJyhudW1iZXJ8c3RyaW5nfGZ1bmN0aW9uKScsXG4gICAgY29udGFpbmVyOiAnKHN0cmluZ3xlbGVtZW50fGJvb2xlYW4pJyxcbiAgICBmYWxsYmFja1BsYWNlbWVudDogJyhzdHJpbmd8YXJyYXkpJyxcbiAgICBib3VuZGFyeTogJyhzdHJpbmd8ZWxlbWVudCknLFxuICAgIGN1c3RvbUNsYXNzOiAnKHN0cmluZ3xmdW5jdGlvbiknLFxuICAgIHNhbml0aXplOiAnYm9vbGVhbicsXG4gICAgc2FuaXRpemVGbjogJyhudWxsfGZ1bmN0aW9uKScsXG4gICAgd2hpdGVMaXN0OiAnb2JqZWN0JyxcbiAgICBwb3BwZXJDb25maWc6ICcobnVsbHxvYmplY3QpJ1xuICB9O1xuICB2YXIgRXZlbnQkMSA9IHtcbiAgICBISURFOiBcImhpZGVcIiArIEVWRU5UX0tFWSQ0LFxuICAgIEhJRERFTjogXCJoaWRkZW5cIiArIEVWRU5UX0tFWSQ0LFxuICAgIFNIT1c6IFwic2hvd1wiICsgRVZFTlRfS0VZJDQsXG4gICAgU0hPV046IFwic2hvd25cIiArIEVWRU5UX0tFWSQ0LFxuICAgIElOU0VSVEVEOiBcImluc2VydGVkXCIgKyBFVkVOVF9LRVkkNCxcbiAgICBDTElDSzogXCJjbGlja1wiICsgRVZFTlRfS0VZJDQsXG4gICAgRk9DVVNJTjogXCJmb2N1c2luXCIgKyBFVkVOVF9LRVkkNCxcbiAgICBGT0NVU09VVDogXCJmb2N1c291dFwiICsgRVZFTlRfS0VZJDQsXG4gICAgTU9VU0VFTlRFUjogXCJtb3VzZWVudGVyXCIgKyBFVkVOVF9LRVkkNCxcbiAgICBNT1VTRUxFQVZFOiBcIm1vdXNlbGVhdmVcIiArIEVWRU5UX0tFWSQ0XG4gIH07XG4gIC8qKlxuICAgKiBDbGFzcyBkZWZpbml0aW9uXG4gICAqL1xuXG4gIHZhciBUb29sdGlwID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUb29sdGlwKGVsZW1lbnQsIGNvbmZpZykge1xuICAgICAgaWYgKHR5cGVvZiBQb3BwZXJfX2RlZmF1bHRbXCJkZWZhdWx0XCJdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdCb290c3RyYXBcXCdzIHRvb2x0aXBzIHJlcXVpcmUgUG9wcGVyIChodHRwczovL3BvcHBlci5qcy5vcmcpJyk7XG4gICAgICB9IC8vIFByaXZhdGVcblxuXG4gICAgICB0aGlzLl9pc0VuYWJsZWQgPSB0cnVlO1xuICAgICAgdGhpcy5fdGltZW91dCA9IDA7XG4gICAgICB0aGlzLl9ob3ZlclN0YXRlID0gJyc7XG4gICAgICB0aGlzLl9hY3RpdmVUcmlnZ2VyID0ge307XG4gICAgICB0aGlzLl9wb3BwZXIgPSBudWxsOyAvLyBQcm90ZWN0ZWRcblxuICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgIHRoaXMuY29uZmlnID0gdGhpcy5fZ2V0Q29uZmlnKGNvbmZpZyk7XG4gICAgICB0aGlzLnRpcCA9IG51bGw7XG5cbiAgICAgIHRoaXMuX3NldExpc3RlbmVycygpO1xuICAgIH0gLy8gR2V0dGVyc1xuXG5cbiAgICB2YXIgX3Byb3RvID0gVG9vbHRpcC5wcm90b3R5cGU7XG5cbiAgICAvLyBQdWJsaWNcbiAgICBfcHJvdG8uZW5hYmxlID0gZnVuY3Rpb24gZW5hYmxlKCkge1xuICAgICAgdGhpcy5faXNFbmFibGVkID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmRpc2FibGUgPSBmdW5jdGlvbiBkaXNhYmxlKCkge1xuICAgICAgdGhpcy5faXNFbmFibGVkID0gZmFsc2U7XG4gICAgfTtcblxuICAgIF9wcm90by50b2dnbGVFbmFibGVkID0gZnVuY3Rpb24gdG9nZ2xlRW5hYmxlZCgpIHtcbiAgICAgIHRoaXMuX2lzRW5hYmxlZCA9ICF0aGlzLl9pc0VuYWJsZWQ7XG4gICAgfTtcblxuICAgIF9wcm90by50b2dnbGUgPSBmdW5jdGlvbiB0b2dnbGUoZXZlbnQpIHtcbiAgICAgIGlmICghdGhpcy5faXNFbmFibGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGV2ZW50KSB7XG4gICAgICAgIHZhciBkYXRhS2V5ID0gdGhpcy5jb25zdHJ1Y3Rvci5EQVRBX0tFWTtcbiAgICAgICAgdmFyIGNvbnRleHQgPSAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXShldmVudC5jdXJyZW50VGFyZ2V0KS5kYXRhKGRhdGFLZXkpO1xuXG4gICAgICAgIGlmICghY29udGV4dCkge1xuICAgICAgICAgIGNvbnRleHQgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihldmVudC5jdXJyZW50VGFyZ2V0LCB0aGlzLl9nZXREZWxlZ2F0ZUNvbmZpZygpKTtcbiAgICAgICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXShldmVudC5jdXJyZW50VGFyZ2V0KS5kYXRhKGRhdGFLZXksIGNvbnRleHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5fYWN0aXZlVHJpZ2dlci5jbGljayA9ICFjb250ZXh0Ll9hY3RpdmVUcmlnZ2VyLmNsaWNrO1xuXG4gICAgICAgIGlmIChjb250ZXh0Ll9pc1dpdGhBY3RpdmVUcmlnZ2VyKCkpIHtcbiAgICAgICAgICBjb250ZXh0Ll9lbnRlcihudWxsLCBjb250ZXh0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb250ZXh0Ll9sZWF2ZShudWxsLCBjb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRoaXMuZ2V0VGlwRWxlbWVudCgpKS5oYXNDbGFzcyhDTEFTU19OQU1FX1NIT1ckMykpIHtcbiAgICAgICAgICB0aGlzLl9sZWF2ZShudWxsLCB0aGlzKTtcblxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2VudGVyKG51bGwsIHRoaXMpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZW91dCk7XG4gICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5yZW1vdmVEYXRhKHRoaXMuZWxlbWVudCwgdGhpcy5jb25zdHJ1Y3Rvci5EQVRBX0tFWSk7XG4gICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aGlzLmVsZW1lbnQpLm9mZih0aGlzLmNvbnN0cnVjdG9yLkVWRU5UX0tFWSk7XG4gICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aGlzLmVsZW1lbnQpLmNsb3Nlc3QoJy5tb2RhbCcpLm9mZignaGlkZS5icy5tb2RhbCcsIHRoaXMuX2hpZGVNb2RhbEhhbmRsZXIpO1xuXG4gICAgICBpZiAodGhpcy50aXApIHtcbiAgICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGhpcy50aXApLnJlbW92ZSgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9pc0VuYWJsZWQgPSBudWxsO1xuICAgICAgdGhpcy5fdGltZW91dCA9IG51bGw7XG4gICAgICB0aGlzLl9ob3ZlclN0YXRlID0gbnVsbDtcbiAgICAgIHRoaXMuX2FjdGl2ZVRyaWdnZXIgPSBudWxsO1xuXG4gICAgICBpZiAodGhpcy5fcG9wcGVyKSB7XG4gICAgICAgIHRoaXMuX3BvcHBlci5kZXN0cm95KCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3BvcHBlciA9IG51bGw7XG4gICAgICB0aGlzLmVsZW1lbnQgPSBudWxsO1xuICAgICAgdGhpcy5jb25maWcgPSBudWxsO1xuICAgICAgdGhpcy50aXAgPSBudWxsO1xuICAgIH07XG5cbiAgICBfcHJvdG8uc2hvdyA9IGZ1bmN0aW9uIHNob3coKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBpZiAoJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGhpcy5lbGVtZW50KS5jc3MoJ2Rpc3BsYXknKSA9PT0gJ25vbmUnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUGxlYXNlIHVzZSBzaG93IG9uIHZpc2libGUgZWxlbWVudHMnKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHNob3dFdmVudCA9ICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLkV2ZW50KHRoaXMuY29uc3RydWN0b3IuRXZlbnQuU0hPVyk7XG5cbiAgICAgIGlmICh0aGlzLmlzV2l0aENvbnRlbnQoKSAmJiB0aGlzLl9pc0VuYWJsZWQpIHtcbiAgICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGhpcy5lbGVtZW50KS50cmlnZ2VyKHNob3dFdmVudCk7XG4gICAgICAgIHZhciBzaGFkb3dSb290ID0gVXRpbC5maW5kU2hhZG93Um9vdCh0aGlzLmVsZW1lbnQpO1xuICAgICAgICB2YXIgaXNJblRoZURvbSA9ICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLmNvbnRhaW5zKHNoYWRvd1Jvb3QgIT09IG51bGwgPyBzaGFkb3dSb290IDogdGhpcy5lbGVtZW50Lm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCB0aGlzLmVsZW1lbnQpO1xuXG4gICAgICAgIGlmIChzaG93RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkgfHwgIWlzSW5UaGVEb20pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdGlwID0gdGhpcy5nZXRUaXBFbGVtZW50KCk7XG4gICAgICAgIHZhciB0aXBJZCA9IFV0aWwuZ2V0VUlEKHRoaXMuY29uc3RydWN0b3IuTkFNRSk7XG4gICAgICAgIHRpcC5zZXRBdHRyaWJ1dGUoJ2lkJywgdGlwSWQpO1xuICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLWRlc2NyaWJlZGJ5JywgdGlwSWQpO1xuICAgICAgICB0aGlzLnNldENvbnRlbnQoKTtcblxuICAgICAgICBpZiAodGhpcy5jb25maWcuYW5pbWF0aW9uKSB7XG4gICAgICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGlwKS5hZGRDbGFzcyhDTEFTU19OQU1FX0ZBREUkMyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcGxhY2VtZW50ID0gdHlwZW9mIHRoaXMuY29uZmlnLnBsYWNlbWVudCA9PT0gJ2Z1bmN0aW9uJyA/IHRoaXMuY29uZmlnLnBsYWNlbWVudC5jYWxsKHRoaXMsIHRpcCwgdGhpcy5lbGVtZW50KSA6IHRoaXMuY29uZmlnLnBsYWNlbWVudDtcblxuICAgICAgICB2YXIgYXR0YWNobWVudCA9IHRoaXMuX2dldEF0dGFjaG1lbnQocGxhY2VtZW50KTtcblxuICAgICAgICB0aGlzLmFkZEF0dGFjaG1lbnRDbGFzcyhhdHRhY2htZW50KTtcblxuICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5fZ2V0Q29udGFpbmVyKCk7XG5cbiAgICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGlwKS5kYXRhKHRoaXMuY29uc3RydWN0b3IuREFUQV9LRVksIHRoaXMpO1xuXG4gICAgICAgIGlmICghJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0uY29udGFpbnModGhpcy5lbGVtZW50Lm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCB0aGlzLnRpcCkpIHtcbiAgICAgICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aXApLmFwcGVuZFRvKGNvbnRhaW5lcik7XG4gICAgICAgIH1cblxuICAgICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aGlzLmVsZW1lbnQpLnRyaWdnZXIodGhpcy5jb25zdHJ1Y3Rvci5FdmVudC5JTlNFUlRFRCk7XG4gICAgICAgIHRoaXMuX3BvcHBlciA9IG5ldyBQb3BwZXJfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRoaXMuZWxlbWVudCwgdGlwLCB0aGlzLl9nZXRQb3BwZXJDb25maWcoYXR0YWNobWVudCkpO1xuICAgICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aXApLmFkZENsYXNzKENMQVNTX05BTUVfU0hPVyQzKTtcbiAgICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGlwKS5hZGRDbGFzcyh0aGlzLmNvbmZpZy5jdXN0b21DbGFzcyk7IC8vIElmIHRoaXMgaXMgYSB0b3VjaC1lbmFibGVkIGRldmljZSB3ZSBhZGQgZXh0cmFcbiAgICAgICAgLy8gZW1wdHkgbW91c2VvdmVyIGxpc3RlbmVycyB0byB0aGUgYm9keSdzIGltbWVkaWF0ZSBjaGlsZHJlbjtcbiAgICAgICAgLy8gb25seSBuZWVkZWQgYmVjYXVzZSBvZiBicm9rZW4gZXZlbnQgZGVsZWdhdGlvbiBvbiBpT1NcbiAgICAgICAgLy8gaHR0cHM6Ly93d3cucXVpcmtzbW9kZS5vcmcvYmxvZy9hcmNoaXZlcy8yMDE0LzAyL21vdXNlX2V2ZW50X2J1Yi5odG1sXG5cbiAgICAgICAgaWYgKCdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkge1xuICAgICAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKGRvY3VtZW50LmJvZHkpLmNoaWxkcmVuKCkub24oJ21vdXNlb3ZlcicsIG51bGwsICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLm5vb3ApO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gICAgICAgICAgaWYgKF90aGlzLmNvbmZpZy5hbmltYXRpb24pIHtcbiAgICAgICAgICAgIF90aGlzLl9maXhUcmFuc2l0aW9uKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIHByZXZIb3ZlclN0YXRlID0gX3RoaXMuX2hvdmVyU3RhdGU7XG4gICAgICAgICAgX3RoaXMuX2hvdmVyU3RhdGUgPSBudWxsO1xuICAgICAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKF90aGlzLmVsZW1lbnQpLnRyaWdnZXIoX3RoaXMuY29uc3RydWN0b3IuRXZlbnQuU0hPV04pO1xuXG4gICAgICAgICAgaWYgKHByZXZIb3ZlclN0YXRlID09PSBIT1ZFUl9TVEFURV9PVVQpIHtcbiAgICAgICAgICAgIF90aGlzLl9sZWF2ZShudWxsLCBfdGhpcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICgkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aGlzLnRpcCkuaGFzQ2xhc3MoQ0xBU1NfTkFNRV9GQURFJDMpKSB7XG4gICAgICAgICAgdmFyIHRyYW5zaXRpb25EdXJhdGlvbiA9IFV0aWwuZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQodGhpcy50aXApO1xuICAgICAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRoaXMudGlwKS5vbmUoVXRpbC5UUkFOU0lUSU9OX0VORCwgY29tcGxldGUpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKHRyYW5zaXRpb25EdXJhdGlvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uaGlkZSA9IGZ1bmN0aW9uIGhpZGUoY2FsbGJhY2spIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgdGlwID0gdGhpcy5nZXRUaXBFbGVtZW50KCk7XG4gICAgICB2YXIgaGlkZUV2ZW50ID0gJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0uRXZlbnQodGhpcy5jb25zdHJ1Y3Rvci5FdmVudC5ISURFKTtcblxuICAgICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gICAgICAgIGlmIChfdGhpczIuX2hvdmVyU3RhdGUgIT09IEhPVkVSX1NUQVRFX1NIT1cgJiYgdGlwLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICB0aXAucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aXApO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMyLl9jbGVhblRpcENsYXNzKCk7XG5cbiAgICAgICAgX3RoaXMyLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWRlc2NyaWJlZGJ5Jyk7XG5cbiAgICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0oX3RoaXMyLmVsZW1lbnQpLnRyaWdnZXIoX3RoaXMyLmNvbnN0cnVjdG9yLkV2ZW50LkhJRERFTik7XG5cbiAgICAgICAgaWYgKF90aGlzMi5fcG9wcGVyICE9PSBudWxsKSB7XG4gICAgICAgICAgX3RoaXMyLl9wb3BwZXIuZGVzdHJveSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGhpcy5lbGVtZW50KS50cmlnZ2VyKGhpZGVFdmVudCk7XG5cbiAgICAgIGlmIChoaWRlRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aXApLnJlbW92ZUNsYXNzKENMQVNTX05BTUVfU0hPVyQzKTsgLy8gSWYgdGhpcyBpcyBhIHRvdWNoLWVuYWJsZWQgZGV2aWNlIHdlIHJlbW92ZSB0aGUgZXh0cmFcbiAgICAgIC8vIGVtcHR5IG1vdXNlb3ZlciBsaXN0ZW5lcnMgd2UgYWRkZWQgZm9yIGlPUyBzdXBwb3J0XG5cbiAgICAgIGlmICgnb250b3VjaHN0YXJ0JyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpIHtcbiAgICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0oZG9jdW1lbnQuYm9keSkuY2hpbGRyZW4oKS5vZmYoJ21vdXNlb3ZlcicsIG51bGwsICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLm5vb3ApO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9hY3RpdmVUcmlnZ2VyW1RSSUdHRVJfQ0xJQ0tdID0gZmFsc2U7XG4gICAgICB0aGlzLl9hY3RpdmVUcmlnZ2VyW1RSSUdHRVJfRk9DVVNdID0gZmFsc2U7XG4gICAgICB0aGlzLl9hY3RpdmVUcmlnZ2VyW1RSSUdHRVJfSE9WRVJdID0gZmFsc2U7XG5cbiAgICAgIGlmICgkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aGlzLnRpcCkuaGFzQ2xhc3MoQ0xBU1NfTkFNRV9GQURFJDMpKSB7XG4gICAgICAgIHZhciB0cmFuc2l0aW9uRHVyYXRpb24gPSBVdGlsLmdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KHRpcCk7XG4gICAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRpcCkub25lKFV0aWwuVFJBTlNJVElPTl9FTkQsIGNvbXBsZXRlKS5lbXVsYXRlVHJhbnNpdGlvbkVuZCh0cmFuc2l0aW9uRHVyYXRpb24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29tcGxldGUoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5faG92ZXJTdGF0ZSA9ICcnO1xuICAgIH07XG5cbiAgICBfcHJvdG8udXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgICAgaWYgKHRoaXMuX3BvcHBlciAhPT0gbnVsbCkge1xuICAgICAgICB0aGlzLl9wb3BwZXIuc2NoZWR1bGVVcGRhdGUoKTtcbiAgICAgIH1cbiAgICB9IC8vIFByb3RlY3RlZFxuICAgIDtcblxuICAgIF9wcm90by5pc1dpdGhDb250ZW50ID0gZnVuY3Rpb24gaXNXaXRoQ29udGVudCgpIHtcbiAgICAgIHJldHVybiBCb29sZWFuKHRoaXMuZ2V0VGl0bGUoKSk7XG4gICAgfTtcblxuICAgIF9wcm90by5hZGRBdHRhY2htZW50Q2xhc3MgPSBmdW5jdGlvbiBhZGRBdHRhY2htZW50Q2xhc3MoYXR0YWNobWVudCkge1xuICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGhpcy5nZXRUaXBFbGVtZW50KCkpLmFkZENsYXNzKENMQVNTX1BSRUZJWCQxICsgXCItXCIgKyBhdHRhY2htZW50KTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmdldFRpcEVsZW1lbnQgPSBmdW5jdGlvbiBnZXRUaXBFbGVtZW50KCkge1xuICAgICAgdGhpcy50aXAgPSB0aGlzLnRpcCB8fCAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aGlzLmNvbmZpZy50ZW1wbGF0ZSlbMF07XG4gICAgICByZXR1cm4gdGhpcy50aXA7XG4gICAgfTtcblxuICAgIF9wcm90by5zZXRDb250ZW50ID0gZnVuY3Rpb24gc2V0Q29udGVudCgpIHtcbiAgICAgIHZhciB0aXAgPSB0aGlzLmdldFRpcEVsZW1lbnQoKTtcbiAgICAgIHRoaXMuc2V0RWxlbWVudENvbnRlbnQoJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGlwLnF1ZXJ5U2VsZWN0b3JBbGwoU0VMRUNUT1JfVE9PTFRJUF9JTk5FUikpLCB0aGlzLmdldFRpdGxlKCkpO1xuICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGlwKS5yZW1vdmVDbGFzcyhDTEFTU19OQU1FX0ZBREUkMyArIFwiIFwiICsgQ0xBU1NfTkFNRV9TSE9XJDMpO1xuICAgIH07XG5cbiAgICBfcHJvdG8uc2V0RWxlbWVudENvbnRlbnQgPSBmdW5jdGlvbiBzZXRFbGVtZW50Q29udGVudCgkZWxlbWVudCwgY29udGVudCkge1xuICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnb2JqZWN0JyAmJiAoY29udGVudC5ub2RlVHlwZSB8fCBjb250ZW50LmpxdWVyeSkpIHtcbiAgICAgICAgLy8gQ29udGVudCBpcyBhIERPTSBub2RlIG9yIGEgalF1ZXJ5XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5odG1sKSB7XG4gICAgICAgICAgaWYgKCEkX19kZWZhdWx0W1wiZGVmYXVsdFwiXShjb250ZW50KS5wYXJlbnQoKS5pcygkZWxlbWVudCkpIHtcbiAgICAgICAgICAgICRlbGVtZW50LmVtcHR5KCkuYXBwZW5kKGNvbnRlbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkZWxlbWVudC50ZXh0KCRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKGNvbnRlbnQpLnRleHQoKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmNvbmZpZy5odG1sKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5zYW5pdGl6ZSkge1xuICAgICAgICAgIGNvbnRlbnQgPSBzYW5pdGl6ZUh0bWwoY29udGVudCwgdGhpcy5jb25maWcud2hpdGVMaXN0LCB0aGlzLmNvbmZpZy5zYW5pdGl6ZUZuKTtcbiAgICAgICAgfVxuXG4gICAgICAgICRlbGVtZW50Lmh0bWwoY29udGVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkZWxlbWVudC50ZXh0KGNvbnRlbnQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uZ2V0VGl0bGUgPSBmdW5jdGlvbiBnZXRUaXRsZSgpIHtcbiAgICAgIHZhciB0aXRsZSA9IHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnKTtcblxuICAgICAgaWYgKCF0aXRsZSkge1xuICAgICAgICB0aXRsZSA9IHR5cGVvZiB0aGlzLmNvbmZpZy50aXRsZSA9PT0gJ2Z1bmN0aW9uJyA/IHRoaXMuY29uZmlnLnRpdGxlLmNhbGwodGhpcy5lbGVtZW50KSA6IHRoaXMuY29uZmlnLnRpdGxlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGl0bGU7XG4gICAgfSAvLyBQcml2YXRlXG4gICAgO1xuXG4gICAgX3Byb3RvLl9nZXRQb3BwZXJDb25maWcgPSBmdW5jdGlvbiBfZ2V0UG9wcGVyQ29uZmlnKGF0dGFjaG1lbnQpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgZGVmYXVsdEJzQ29uZmlnID0ge1xuICAgICAgICBwbGFjZW1lbnQ6IGF0dGFjaG1lbnQsXG4gICAgICAgIG1vZGlmaWVyczoge1xuICAgICAgICAgIG9mZnNldDogdGhpcy5fZ2V0T2Zmc2V0KCksXG4gICAgICAgICAgZmxpcDoge1xuICAgICAgICAgICAgYmVoYXZpb3I6IHRoaXMuY29uZmlnLmZhbGxiYWNrUGxhY2VtZW50XG4gICAgICAgICAgfSxcbiAgICAgICAgICBhcnJvdzoge1xuICAgICAgICAgICAgZWxlbWVudDogU0VMRUNUT1JfQVJST1dcbiAgICAgICAgICB9LFxuICAgICAgICAgIHByZXZlbnRPdmVyZmxvdzoge1xuICAgICAgICAgICAgYm91bmRhcmllc0VsZW1lbnQ6IHRoaXMuY29uZmlnLmJvdW5kYXJ5XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbkNyZWF0ZTogZnVuY3Rpb24gb25DcmVhdGUoZGF0YSkge1xuICAgICAgICAgIGlmIChkYXRhLm9yaWdpbmFsUGxhY2VtZW50ICE9PSBkYXRhLnBsYWNlbWVudCkge1xuICAgICAgICAgICAgX3RoaXMzLl9oYW5kbGVQb3BwZXJQbGFjZW1lbnRDaGFuZ2UoZGF0YSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvblVwZGF0ZTogZnVuY3Rpb24gb25VcGRhdGUoZGF0YSkge1xuICAgICAgICAgIHJldHVybiBfdGhpczMuX2hhbmRsZVBvcHBlclBsYWNlbWVudENoYW5nZShkYXRhKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgZGVmYXVsdEJzQ29uZmlnLCB0aGlzLmNvbmZpZy5wb3BwZXJDb25maWcpO1xuICAgIH07XG5cbiAgICBfcHJvdG8uX2dldE9mZnNldCA9IGZ1bmN0aW9uIF9nZXRPZmZzZXQoKSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgdmFyIG9mZnNldCA9IHt9O1xuXG4gICAgICBpZiAodHlwZW9mIHRoaXMuY29uZmlnLm9mZnNldCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBvZmZzZXQuZm4gPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgIGRhdGEub2Zmc2V0cyA9IF9leHRlbmRzKHt9LCBkYXRhLm9mZnNldHMsIF90aGlzNC5jb25maWcub2Zmc2V0KGRhdGEub2Zmc2V0cywgX3RoaXM0LmVsZW1lbnQpKTtcbiAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9mZnNldC5vZmZzZXQgPSB0aGlzLmNvbmZpZy5vZmZzZXQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvZmZzZXQ7XG4gICAgfTtcblxuICAgIF9wcm90by5fZ2V0Q29udGFpbmVyID0gZnVuY3Rpb24gX2dldENvbnRhaW5lcigpIHtcbiAgICAgIGlmICh0aGlzLmNvbmZpZy5jb250YWluZXIgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5ib2R5O1xuICAgICAgfVxuXG4gICAgICBpZiAoVXRpbC5pc0VsZW1lbnQodGhpcy5jb25maWcuY29udGFpbmVyKSkge1xuICAgICAgICByZXR1cm4gJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGhpcy5jb25maWcuY29udGFpbmVyKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKGRvY3VtZW50KS5maW5kKHRoaXMuY29uZmlnLmNvbnRhaW5lcik7XG4gICAgfTtcblxuICAgIF9wcm90by5fZ2V0QXR0YWNobWVudCA9IGZ1bmN0aW9uIF9nZXRBdHRhY2htZW50KHBsYWNlbWVudCkge1xuICAgICAgcmV0dXJuIEF0dGFjaG1lbnRNYXBbcGxhY2VtZW50LnRvVXBwZXJDYXNlKCldO1xuICAgIH07XG5cbiAgICBfcHJvdG8uX3NldExpc3RlbmVycyA9IGZ1bmN0aW9uIF9zZXRMaXN0ZW5lcnMoKSB7XG4gICAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgICAgdmFyIHRyaWdnZXJzID0gdGhpcy5jb25maWcudHJpZ2dlci5zcGxpdCgnICcpO1xuICAgICAgdHJpZ2dlcnMuZm9yRWFjaChmdW5jdGlvbiAodHJpZ2dlcikge1xuICAgICAgICBpZiAodHJpZ2dlciA9PT0gJ2NsaWNrJykge1xuICAgICAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKF90aGlzNS5lbGVtZW50KS5vbihfdGhpczUuY29uc3RydWN0b3IuRXZlbnQuQ0xJQ0ssIF90aGlzNS5jb25maWcuc2VsZWN0b3IsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzNS50b2dnbGUoZXZlbnQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKHRyaWdnZXIgIT09IFRSSUdHRVJfTUFOVUFMKSB7XG4gICAgICAgICAgdmFyIGV2ZW50SW4gPSB0cmlnZ2VyID09PSBUUklHR0VSX0hPVkVSID8gX3RoaXM1LmNvbnN0cnVjdG9yLkV2ZW50Lk1PVVNFRU5URVIgOiBfdGhpczUuY29uc3RydWN0b3IuRXZlbnQuRk9DVVNJTjtcbiAgICAgICAgICB2YXIgZXZlbnRPdXQgPSB0cmlnZ2VyID09PSBUUklHR0VSX0hPVkVSID8gX3RoaXM1LmNvbnN0cnVjdG9yLkV2ZW50Lk1PVVNFTEVBVkUgOiBfdGhpczUuY29uc3RydWN0b3IuRXZlbnQuRk9DVVNPVVQ7XG4gICAgICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0oX3RoaXM1LmVsZW1lbnQpLm9uKGV2ZW50SW4sIF90aGlzNS5jb25maWcuc2VsZWN0b3IsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzNS5fZW50ZXIoZXZlbnQpO1xuICAgICAgICAgIH0pLm9uKGV2ZW50T3V0LCBfdGhpczUuY29uZmlnLnNlbGVjdG9yLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczUuX2xlYXZlKGV2ZW50KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuX2hpZGVNb2RhbEhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChfdGhpczUuZWxlbWVudCkge1xuICAgICAgICAgIF90aGlzNS5oaWRlKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRoaXMuZWxlbWVudCkuY2xvc2VzdCgnLm1vZGFsJykub24oJ2hpZGUuYnMubW9kYWwnLCB0aGlzLl9oaWRlTW9kYWxIYW5kbGVyKTtcblxuICAgICAgaWYgKHRoaXMuY29uZmlnLnNlbGVjdG9yKSB7XG4gICAgICAgIHRoaXMuY29uZmlnID0gX2V4dGVuZHMoe30sIHRoaXMuY29uZmlnLCB7XG4gICAgICAgICAgdHJpZ2dlcjogJ21hbnVhbCcsXG4gICAgICAgICAgc2VsZWN0b3I6ICcnXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fZml4VGl0bGUoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLl9maXhUaXRsZSA9IGZ1bmN0aW9uIF9maXhUaXRsZSgpIHtcbiAgICAgIHZhciB0aXRsZVR5cGUgPSB0eXBlb2YgdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1vcmlnaW5hbC10aXRsZScpO1xuXG4gICAgICBpZiAodGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZSgndGl0bGUnKSB8fCB0aXRsZVR5cGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnLCB0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKCd0aXRsZScpIHx8ICcnKTtcbiAgICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgndGl0bGUnLCAnJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5fZW50ZXIgPSBmdW5jdGlvbiBfZW50ZXIoZXZlbnQsIGNvbnRleHQpIHtcbiAgICAgIHZhciBkYXRhS2V5ID0gdGhpcy5jb25zdHJ1Y3Rvci5EQVRBX0tFWTtcbiAgICAgIGNvbnRleHQgPSBjb250ZXh0IHx8ICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmRhdGEoZGF0YUtleSk7XG5cbiAgICAgIGlmICghY29udGV4dCkge1xuICAgICAgICBjb250ZXh0ID0gbmV3IHRoaXMuY29uc3RydWN0b3IoZXZlbnQuY3VycmVudFRhcmdldCwgdGhpcy5fZ2V0RGVsZWdhdGVDb25maWcoKSk7XG4gICAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmRhdGEoZGF0YUtleSwgY29udGV4dCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChldmVudCkge1xuICAgICAgICBjb250ZXh0Ll9hY3RpdmVUcmlnZ2VyW2V2ZW50LnR5cGUgPT09ICdmb2N1c2luJyA/IFRSSUdHRVJfRk9DVVMgOiBUUklHR0VSX0hPVkVSXSA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmICgkX19kZWZhdWx0W1wiZGVmYXVsdFwiXShjb250ZXh0LmdldFRpcEVsZW1lbnQoKSkuaGFzQ2xhc3MoQ0xBU1NfTkFNRV9TSE9XJDMpIHx8IGNvbnRleHQuX2hvdmVyU3RhdGUgPT09IEhPVkVSX1NUQVRFX1NIT1cpIHtcbiAgICAgICAgY29udGV4dC5faG92ZXJTdGF0ZSA9IEhPVkVSX1NUQVRFX1NIT1c7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY2xlYXJUaW1lb3V0KGNvbnRleHQuX3RpbWVvdXQpO1xuICAgICAgY29udGV4dC5faG92ZXJTdGF0ZSA9IEhPVkVSX1NUQVRFX1NIT1c7XG5cbiAgICAgIGlmICghY29udGV4dC5jb25maWcuZGVsYXkgfHwgIWNvbnRleHQuY29uZmlnLmRlbGF5LnNob3cpIHtcbiAgICAgICAgY29udGV4dC5zaG93KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29udGV4dC5fdGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoY29udGV4dC5faG92ZXJTdGF0ZSA9PT0gSE9WRVJfU1RBVEVfU0hPVykge1xuICAgICAgICAgIGNvbnRleHQuc2hvdygpO1xuICAgICAgICB9XG4gICAgICB9LCBjb250ZXh0LmNvbmZpZy5kZWxheS5zaG93KTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLl9sZWF2ZSA9IGZ1bmN0aW9uIF9sZWF2ZShldmVudCwgY29udGV4dCkge1xuICAgICAgdmFyIGRhdGFLZXkgPSB0aGlzLmNvbnN0cnVjdG9yLkRBVEFfS0VZO1xuICAgICAgY29udGV4dCA9IGNvbnRleHQgfHwgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0oZXZlbnQuY3VycmVudFRhcmdldCkuZGF0YShkYXRhS2V5KTtcblxuICAgICAgaWYgKCFjb250ZXh0KSB7XG4gICAgICAgIGNvbnRleHQgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihldmVudC5jdXJyZW50VGFyZ2V0LCB0aGlzLl9nZXREZWxlZ2F0ZUNvbmZpZygpKTtcbiAgICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0oZXZlbnQuY3VycmVudFRhcmdldCkuZGF0YShkYXRhS2V5LCBjb250ZXh0KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGV2ZW50KSB7XG4gICAgICAgIGNvbnRleHQuX2FjdGl2ZVRyaWdnZXJbZXZlbnQudHlwZSA9PT0gJ2ZvY3Vzb3V0JyA/IFRSSUdHRVJfRk9DVVMgOiBUUklHR0VSX0hPVkVSXSA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAoY29udGV4dC5faXNXaXRoQWN0aXZlVHJpZ2dlcigpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY2xlYXJUaW1lb3V0KGNvbnRleHQuX3RpbWVvdXQpO1xuICAgICAgY29udGV4dC5faG92ZXJTdGF0ZSA9IEhPVkVSX1NUQVRFX09VVDtcblxuICAgICAgaWYgKCFjb250ZXh0LmNvbmZpZy5kZWxheSB8fCAhY29udGV4dC5jb25maWcuZGVsYXkuaGlkZSkge1xuICAgICAgICBjb250ZXh0LmhpZGUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb250ZXh0Ll90aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChjb250ZXh0Ll9ob3ZlclN0YXRlID09PSBIT1ZFUl9TVEFURV9PVVQpIHtcbiAgICAgICAgICBjb250ZXh0LmhpZGUoKTtcbiAgICAgICAgfVxuICAgICAgfSwgY29udGV4dC5jb25maWcuZGVsYXkuaGlkZSk7XG4gICAgfTtcblxuICAgIF9wcm90by5faXNXaXRoQWN0aXZlVHJpZ2dlciA9IGZ1bmN0aW9uIF9pc1dpdGhBY3RpdmVUcmlnZ2VyKCkge1xuICAgICAgZm9yICh2YXIgdHJpZ2dlciBpbiB0aGlzLl9hY3RpdmVUcmlnZ2VyKSB7XG4gICAgICAgIGlmICh0aGlzLl9hY3RpdmVUcmlnZ2VyW3RyaWdnZXJdKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICBfcHJvdG8uX2dldENvbmZpZyA9IGZ1bmN0aW9uIF9nZXRDb25maWcoY29uZmlnKSB7XG4gICAgICB2YXIgZGF0YUF0dHJpYnV0ZXMgPSAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aGlzLmVsZW1lbnQpLmRhdGEoKTtcbiAgICAgIE9iamVjdC5rZXlzKGRhdGFBdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChkYXRhQXR0cikge1xuICAgICAgICBpZiAoRElTQUxMT1dFRF9BVFRSSUJVVEVTLmluZGV4T2YoZGF0YUF0dHIpICE9PSAtMSkge1xuICAgICAgICAgIGRlbGV0ZSBkYXRhQXR0cmlidXRlc1tkYXRhQXR0cl07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29uZmlnID0gX2V4dGVuZHMoe30sIHRoaXMuY29uc3RydWN0b3IuRGVmYXVsdCwgZGF0YUF0dHJpYnV0ZXMsIHR5cGVvZiBjb25maWcgPT09ICdvYmplY3QnICYmIGNvbmZpZyA/IGNvbmZpZyA6IHt9KTtcblxuICAgICAgaWYgKHR5cGVvZiBjb25maWcuZGVsYXkgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGNvbmZpZy5kZWxheSA9IHtcbiAgICAgICAgICBzaG93OiBjb25maWcuZGVsYXksXG4gICAgICAgICAgaGlkZTogY29uZmlnLmRlbGF5XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgY29uZmlnLnRpdGxlID09PSAnbnVtYmVyJykge1xuICAgICAgICBjb25maWcudGl0bGUgPSBjb25maWcudGl0bGUudG9TdHJpbmcoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBjb25maWcuY29udGVudCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgY29uZmlnLmNvbnRlbnQgPSBjb25maWcuY29udGVudC50b1N0cmluZygpO1xuICAgICAgfVxuXG4gICAgICBVdGlsLnR5cGVDaGVja0NvbmZpZyhOQU1FJDQsIGNvbmZpZywgdGhpcy5jb25zdHJ1Y3Rvci5EZWZhdWx0VHlwZSk7XG5cbiAgICAgIGlmIChjb25maWcuc2FuaXRpemUpIHtcbiAgICAgICAgY29uZmlnLnRlbXBsYXRlID0gc2FuaXRpemVIdG1sKGNvbmZpZy50ZW1wbGF0ZSwgY29uZmlnLndoaXRlTGlzdCwgY29uZmlnLnNhbml0aXplRm4pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29uZmlnO1xuICAgIH07XG5cbiAgICBfcHJvdG8uX2dldERlbGVnYXRlQ29uZmlnID0gZnVuY3Rpb24gX2dldERlbGVnYXRlQ29uZmlnKCkge1xuICAgICAgdmFyIGNvbmZpZyA9IHt9O1xuXG4gICAgICBpZiAodGhpcy5jb25maWcpIHtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIHRoaXMuY29uZmlnKSB7XG4gICAgICAgICAgaWYgKHRoaXMuY29uc3RydWN0b3IuRGVmYXVsdFtrZXldICE9PSB0aGlzLmNvbmZpZ1trZXldKSB7XG4gICAgICAgICAgICBjb25maWdba2V5XSA9IHRoaXMuY29uZmlnW2tleV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb25maWc7XG4gICAgfTtcblxuICAgIF9wcm90by5fY2xlYW5UaXBDbGFzcyA9IGZ1bmN0aW9uIF9jbGVhblRpcENsYXNzKCkge1xuICAgICAgdmFyICR0aXAgPSAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aGlzLmdldFRpcEVsZW1lbnQoKSk7XG4gICAgICB2YXIgdGFiQ2xhc3MgPSAkdGlwLmF0dHIoJ2NsYXNzJykubWF0Y2goQlNDTFNfUFJFRklYX1JFR0VYJDEpO1xuXG4gICAgICBpZiAodGFiQ2xhc3MgIT09IG51bGwgJiYgdGFiQ2xhc3MubGVuZ3RoKSB7XG4gICAgICAgICR0aXAucmVtb3ZlQ2xhc3ModGFiQ2xhc3Muam9pbignJykpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uX2hhbmRsZVBvcHBlclBsYWNlbWVudENoYW5nZSA9IGZ1bmN0aW9uIF9oYW5kbGVQb3BwZXJQbGFjZW1lbnRDaGFuZ2UocG9wcGVyRGF0YSkge1xuICAgICAgdGhpcy50aXAgPSBwb3BwZXJEYXRhLmluc3RhbmNlLnBvcHBlcjtcblxuICAgICAgdGhpcy5fY2xlYW5UaXBDbGFzcygpO1xuXG4gICAgICB0aGlzLmFkZEF0dGFjaG1lbnRDbGFzcyh0aGlzLl9nZXRBdHRhY2htZW50KHBvcHBlckRhdGEucGxhY2VtZW50KSk7XG4gICAgfTtcblxuICAgIF9wcm90by5fZml4VHJhbnNpdGlvbiA9IGZ1bmN0aW9uIF9maXhUcmFuc2l0aW9uKCkge1xuICAgICAgdmFyIHRpcCA9IHRoaXMuZ2V0VGlwRWxlbWVudCgpO1xuICAgICAgdmFyIGluaXRDb25maWdBbmltYXRpb24gPSB0aGlzLmNvbmZpZy5hbmltYXRpb247XG5cbiAgICAgIGlmICh0aXAuZ2V0QXR0cmlidXRlKCd4LXBsYWNlbWVudCcpICE9PSBudWxsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGlwKS5yZW1vdmVDbGFzcyhDTEFTU19OQU1FX0ZBREUkMyk7XG4gICAgICB0aGlzLmNvbmZpZy5hbmltYXRpb24gPSBmYWxzZTtcbiAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgdGhpcy5zaG93KCk7XG4gICAgICB0aGlzLmNvbmZpZy5hbmltYXRpb24gPSBpbml0Q29uZmlnQW5pbWF0aW9uO1xuICAgIH0gLy8gU3RhdGljXG4gICAgO1xuXG4gICAgVG9vbHRpcC5falF1ZXJ5SW50ZXJmYWNlID0gZnVuY3Rpb24gX2pRdWVyeUludGVyZmFjZShjb25maWcpIHtcbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgJGVsZW1lbnQgPSAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aGlzKTtcbiAgICAgICAgdmFyIGRhdGEgPSAkZWxlbWVudC5kYXRhKERBVEFfS0VZJDQpO1xuXG4gICAgICAgIHZhciBfY29uZmlnID0gdHlwZW9mIGNvbmZpZyA9PT0gJ29iamVjdCcgJiYgY29uZmlnO1xuXG4gICAgICAgIGlmICghZGF0YSAmJiAvZGlzcG9zZXxoaWRlLy50ZXN0KGNvbmZpZykpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICBkYXRhID0gbmV3IFRvb2x0aXAodGhpcywgX2NvbmZpZyk7XG4gICAgICAgICAgJGVsZW1lbnQuZGF0YShEQVRBX0tFWSQ0LCBkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGlmICh0eXBlb2YgZGF0YVtjb25maWddID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk5vIG1ldGhvZCBuYW1lZCBcXFwiXCIgKyBjb25maWcgKyBcIlxcXCJcIik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGF0YVtjb25maWddKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfY3JlYXRlQ2xhc3MoVG9vbHRpcCwgbnVsbCwgW3tcbiAgICAgIGtleTogXCJWRVJTSU9OXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIFZFUlNJT04kNDtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiRGVmYXVsdFwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBEZWZhdWx0JDM7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIk5BTUVcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gTkFNRSQ0O1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJEQVRBX0tFWVwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBEQVRBX0tFWSQ0O1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJFdmVudFwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBFdmVudCQxO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJFVkVOVF9LRVlcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gRVZFTlRfS0VZJDQ7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIkRlZmF1bHRUeXBlXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIERlZmF1bHRUeXBlJDM7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFRvb2x0aXA7XG4gIH0oKTtcbiAgLyoqXG4gICAqIGpRdWVyeVxuICAgKi9cblxuXG4gICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLmZuW05BTUUkNF0gPSBUb29sdGlwLl9qUXVlcnlJbnRlcmZhY2U7XG4gICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLmZuW05BTUUkNF0uQ29uc3RydWN0b3IgPSBUb29sdGlwO1xuXG4gICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLmZuW05BTUUkNF0ubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5mbltOQU1FJDRdID0gSlFVRVJZX05PX0NPTkZMSUNUJDQ7XG4gICAgcmV0dXJuIFRvb2x0aXAuX2pRdWVyeUludGVyZmFjZTtcbiAgfTtcblxuICAvKipcbiAgICogQ29uc3RhbnRzXG4gICAqL1xuXG4gIHZhciBOQU1FJDMgPSAncG9wb3Zlcic7XG4gIHZhciBWRVJTSU9OJDMgPSAnNC42LjInO1xuICB2YXIgREFUQV9LRVkkMyA9ICdicy5wb3BvdmVyJztcbiAgdmFyIEVWRU5UX0tFWSQzID0gXCIuXCIgKyBEQVRBX0tFWSQzO1xuICB2YXIgSlFVRVJZX05PX0NPTkZMSUNUJDMgPSAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5mbltOQU1FJDNdO1xuICB2YXIgQ0xBU1NfUFJFRklYID0gJ2JzLXBvcG92ZXInO1xuICB2YXIgQlNDTFNfUFJFRklYX1JFR0VYID0gbmV3IFJlZ0V4cChcIihefFxcXFxzKVwiICsgQ0xBU1NfUFJFRklYICsgXCJcXFxcUytcIiwgJ2cnKTtcbiAgdmFyIENMQVNTX05BTUVfRkFERSQyID0gJ2ZhZGUnO1xuICB2YXIgQ0xBU1NfTkFNRV9TSE9XJDIgPSAnc2hvdyc7XG4gIHZhciBTRUxFQ1RPUl9USVRMRSA9ICcucG9wb3Zlci1oZWFkZXInO1xuICB2YXIgU0VMRUNUT1JfQ09OVEVOVCA9ICcucG9wb3Zlci1ib2R5JztcblxuICB2YXIgRGVmYXVsdCQyID0gX2V4dGVuZHMoe30sIFRvb2x0aXAuRGVmYXVsdCwge1xuICAgIHBsYWNlbWVudDogJ3JpZ2h0JyxcbiAgICB0cmlnZ2VyOiAnY2xpY2snLFxuICAgIGNvbnRlbnQ6ICcnLFxuICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cInBvcG92ZXJcIiByb2xlPVwidG9vbHRpcFwiPicgKyAnPGRpdiBjbGFzcz1cImFycm93XCI+PC9kaXY+JyArICc8aDMgY2xhc3M9XCJwb3BvdmVyLWhlYWRlclwiPjwvaDM+JyArICc8ZGl2IGNsYXNzPVwicG9wb3Zlci1ib2R5XCI+PC9kaXY+PC9kaXY+J1xuICB9KTtcblxuICB2YXIgRGVmYXVsdFR5cGUkMiA9IF9leHRlbmRzKHt9LCBUb29sdGlwLkRlZmF1bHRUeXBlLCB7XG4gICAgY29udGVudDogJyhzdHJpbmd8ZWxlbWVudHxmdW5jdGlvbiknXG4gIH0pO1xuXG4gIHZhciBFdmVudCA9IHtcbiAgICBISURFOiBcImhpZGVcIiArIEVWRU5UX0tFWSQzLFxuICAgIEhJRERFTjogXCJoaWRkZW5cIiArIEVWRU5UX0tFWSQzLFxuICAgIFNIT1c6IFwic2hvd1wiICsgRVZFTlRfS0VZJDMsXG4gICAgU0hPV046IFwic2hvd25cIiArIEVWRU5UX0tFWSQzLFxuICAgIElOU0VSVEVEOiBcImluc2VydGVkXCIgKyBFVkVOVF9LRVkkMyxcbiAgICBDTElDSzogXCJjbGlja1wiICsgRVZFTlRfS0VZJDMsXG4gICAgRk9DVVNJTjogXCJmb2N1c2luXCIgKyBFVkVOVF9LRVkkMyxcbiAgICBGT0NVU09VVDogXCJmb2N1c291dFwiICsgRVZFTlRfS0VZJDMsXG4gICAgTU9VU0VFTlRFUjogXCJtb3VzZWVudGVyXCIgKyBFVkVOVF9LRVkkMyxcbiAgICBNT1VTRUxFQVZFOiBcIm1vdXNlbGVhdmVcIiArIEVWRU5UX0tFWSQzXG4gIH07XG4gIC8qKlxuICAgKiBDbGFzcyBkZWZpbml0aW9uXG4gICAqL1xuXG4gIHZhciBQb3BvdmVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfVG9vbHRpcCkge1xuICAgIF9pbmhlcml0c0xvb3NlKFBvcG92ZXIsIF9Ub29sdGlwKTtcblxuICAgIGZ1bmN0aW9uIFBvcG92ZXIoKSB7XG4gICAgICByZXR1cm4gX1Rvb2x0aXAuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cblxuICAgIHZhciBfcHJvdG8gPSBQb3BvdmVyLnByb3RvdHlwZTtcblxuICAgIC8vIE92ZXJyaWRlc1xuICAgIF9wcm90by5pc1dpdGhDb250ZW50ID0gZnVuY3Rpb24gaXNXaXRoQ29udGVudCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldFRpdGxlKCkgfHwgdGhpcy5fZ2V0Q29udGVudCgpO1xuICAgIH07XG5cbiAgICBfcHJvdG8uYWRkQXR0YWNobWVudENsYXNzID0gZnVuY3Rpb24gYWRkQXR0YWNobWVudENsYXNzKGF0dGFjaG1lbnQpIHtcbiAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRoaXMuZ2V0VGlwRWxlbWVudCgpKS5hZGRDbGFzcyhDTEFTU19QUkVGSVggKyBcIi1cIiArIGF0dGFjaG1lbnQpO1xuICAgIH07XG5cbiAgICBfcHJvdG8uZ2V0VGlwRWxlbWVudCA9IGZ1bmN0aW9uIGdldFRpcEVsZW1lbnQoKSB7XG4gICAgICB0aGlzLnRpcCA9IHRoaXMudGlwIHx8ICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRoaXMuY29uZmlnLnRlbXBsYXRlKVswXTtcbiAgICAgIHJldHVybiB0aGlzLnRpcDtcbiAgICB9O1xuXG4gICAgX3Byb3RvLnNldENvbnRlbnQgPSBmdW5jdGlvbiBzZXRDb250ZW50KCkge1xuICAgICAgdmFyICR0aXAgPSAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aGlzLmdldFRpcEVsZW1lbnQoKSk7IC8vIFdlIHVzZSBhcHBlbmQgZm9yIGh0bWwgb2JqZWN0cyB0byBtYWludGFpbiBqcyBldmVudHNcblxuICAgICAgdGhpcy5zZXRFbGVtZW50Q29udGVudCgkdGlwLmZpbmQoU0VMRUNUT1JfVElUTEUpLCB0aGlzLmdldFRpdGxlKCkpO1xuXG4gICAgICB2YXIgY29udGVudCA9IHRoaXMuX2dldENvbnRlbnQoKTtcblxuICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNvbnRlbnQgPSBjb250ZW50LmNhbGwodGhpcy5lbGVtZW50KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zZXRFbGVtZW50Q29udGVudCgkdGlwLmZpbmQoU0VMRUNUT1JfQ09OVEVOVCksIGNvbnRlbnQpO1xuICAgICAgJHRpcC5yZW1vdmVDbGFzcyhDTEFTU19OQU1FX0ZBREUkMiArIFwiIFwiICsgQ0xBU1NfTkFNRV9TSE9XJDIpO1xuICAgIH0gLy8gUHJpdmF0ZVxuICAgIDtcblxuICAgIF9wcm90by5fZ2V0Q29udGVudCA9IGZ1bmN0aW9uIF9nZXRDb250ZW50KCkge1xuICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29udGVudCcpIHx8IHRoaXMuY29uZmlnLmNvbnRlbnQ7XG4gICAgfTtcblxuICAgIF9wcm90by5fY2xlYW5UaXBDbGFzcyA9IGZ1bmN0aW9uIF9jbGVhblRpcENsYXNzKCkge1xuICAgICAgdmFyICR0aXAgPSAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aGlzLmdldFRpcEVsZW1lbnQoKSk7XG4gICAgICB2YXIgdGFiQ2xhc3MgPSAkdGlwLmF0dHIoJ2NsYXNzJykubWF0Y2goQlNDTFNfUFJFRklYX1JFR0VYKTtcblxuICAgICAgaWYgKHRhYkNsYXNzICE9PSBudWxsICYmIHRhYkNsYXNzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgJHRpcC5yZW1vdmVDbGFzcyh0YWJDbGFzcy5qb2luKCcnKSk7XG4gICAgICB9XG4gICAgfSAvLyBTdGF0aWNcbiAgICA7XG5cbiAgICBQb3BvdmVyLl9qUXVlcnlJbnRlcmZhY2UgPSBmdW5jdGlvbiBfalF1ZXJ5SW50ZXJmYWNlKGNvbmZpZykge1xuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkYXRhID0gJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGhpcykuZGF0YShEQVRBX0tFWSQzKTtcblxuICAgICAgICB2YXIgX2NvbmZpZyA9IHR5cGVvZiBjb25maWcgPT09ICdvYmplY3QnID8gY29uZmlnIDogbnVsbDtcblxuICAgICAgICBpZiAoIWRhdGEgJiYgL2Rpc3Bvc2V8aGlkZS8udGVzdChjb25maWcpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgZGF0YSA9IG5ldyBQb3BvdmVyKHRoaXMsIF9jb25maWcpO1xuICAgICAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRoaXMpLmRhdGEoREFUQV9LRVkkMywgZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIGRhdGFbY29uZmlnXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJObyBtZXRob2QgbmFtZWQgXFxcIlwiICsgY29uZmlnICsgXCJcXFwiXCIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRhdGFbY29uZmlnXSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX2NyZWF0ZUNsYXNzKFBvcG92ZXIsIG51bGwsIFt7XG4gICAgICBrZXk6IFwiVkVSU0lPTlwiLFxuICAgICAgZ2V0OiAvLyBHZXR0ZXJzXG4gICAgICBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBWRVJTSU9OJDM7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIkRlZmF1bHRcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gRGVmYXVsdCQyO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJOQU1FXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIE5BTUUkMztcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiREFUQV9LRVlcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gREFUQV9LRVkkMztcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiRXZlbnRcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gRXZlbnQ7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIkVWRU5UX0tFWVwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBFVkVOVF9LRVkkMztcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiRGVmYXVsdFR5cGVcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gRGVmYXVsdFR5cGUkMjtcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gUG9wb3ZlcjtcbiAgfShUb29sdGlwKTtcbiAgLyoqXG4gICAqIGpRdWVyeVxuICAgKi9cblxuXG4gICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLmZuW05BTUUkM10gPSBQb3BvdmVyLl9qUXVlcnlJbnRlcmZhY2U7XG4gICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLmZuW05BTUUkM10uQ29uc3RydWN0b3IgPSBQb3BvdmVyO1xuXG4gICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLmZuW05BTUUkM10ubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5mbltOQU1FJDNdID0gSlFVRVJZX05PX0NPTkZMSUNUJDM7XG4gICAgcmV0dXJuIFBvcG92ZXIuX2pRdWVyeUludGVyZmFjZTtcbiAgfTtcblxuICAvKipcbiAgICogQ29uc3RhbnRzXG4gICAqL1xuXG4gIHZhciBOQU1FJDIgPSAnc2Nyb2xsc3B5JztcbiAgdmFyIFZFUlNJT04kMiA9ICc0LjYuMic7XG4gIHZhciBEQVRBX0tFWSQyID0gJ2JzLnNjcm9sbHNweSc7XG4gIHZhciBFVkVOVF9LRVkkMiA9IFwiLlwiICsgREFUQV9LRVkkMjtcbiAgdmFyIERBVEFfQVBJX0tFWSQxID0gJy5kYXRhLWFwaSc7XG4gIHZhciBKUVVFUllfTk9fQ09ORkxJQ1QkMiA9ICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLmZuW05BTUUkMl07XG4gIHZhciBDTEFTU19OQU1FX0RST1BET1dOX0lURU0gPSAnZHJvcGRvd24taXRlbSc7XG4gIHZhciBDTEFTU19OQU1FX0FDVElWRSQxID0gJ2FjdGl2ZSc7XG4gIHZhciBFVkVOVF9BQ1RJVkFURSA9IFwiYWN0aXZhdGVcIiArIEVWRU5UX0tFWSQyO1xuICB2YXIgRVZFTlRfU0NST0xMID0gXCJzY3JvbGxcIiArIEVWRU5UX0tFWSQyO1xuICB2YXIgRVZFTlRfTE9BRF9EQVRBX0FQSSA9IFwibG9hZFwiICsgRVZFTlRfS0VZJDIgKyBEQVRBX0FQSV9LRVkkMTtcbiAgdmFyIE1FVEhPRF9PRkZTRVQgPSAnb2Zmc2V0JztcbiAgdmFyIE1FVEhPRF9QT1NJVElPTiA9ICdwb3NpdGlvbic7XG4gIHZhciBTRUxFQ1RPUl9EQVRBX1NQWSA9ICdbZGF0YS1zcHk9XCJzY3JvbGxcIl0nO1xuICB2YXIgU0VMRUNUT1JfTkFWX0xJU1RfR1JPVVAkMSA9ICcubmF2LCAubGlzdC1ncm91cCc7XG4gIHZhciBTRUxFQ1RPUl9OQVZfTElOS1MgPSAnLm5hdi1saW5rJztcbiAgdmFyIFNFTEVDVE9SX05BVl9JVEVNUyA9ICcubmF2LWl0ZW0nO1xuICB2YXIgU0VMRUNUT1JfTElTVF9JVEVNUyA9ICcubGlzdC1ncm91cC1pdGVtJztcbiAgdmFyIFNFTEVDVE9SX0RST1BET1dOJDEgPSAnLmRyb3Bkb3duJztcbiAgdmFyIFNFTEVDVE9SX0RST1BET1dOX0lURU1TID0gJy5kcm9wZG93bi1pdGVtJztcbiAgdmFyIFNFTEVDVE9SX0RST1BET1dOX1RPR0dMRSQxID0gJy5kcm9wZG93bi10b2dnbGUnO1xuICB2YXIgRGVmYXVsdCQxID0ge1xuICAgIG9mZnNldDogMTAsXG4gICAgbWV0aG9kOiAnYXV0bycsXG4gICAgdGFyZ2V0OiAnJ1xuICB9O1xuICB2YXIgRGVmYXVsdFR5cGUkMSA9IHtcbiAgICBvZmZzZXQ6ICdudW1iZXInLFxuICAgIG1ldGhvZDogJ3N0cmluZycsXG4gICAgdGFyZ2V0OiAnKHN0cmluZ3xlbGVtZW50KSdcbiAgfTtcbiAgLyoqXG4gICAqIENsYXNzIGRlZmluaXRpb25cbiAgICovXG5cbiAgdmFyIFNjcm9sbFNweSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2Nyb2xsU3B5KGVsZW1lbnQsIGNvbmZpZykge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdGhpcy5fZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICB0aGlzLl9zY3JvbGxFbGVtZW50ID0gZWxlbWVudC50YWdOYW1lID09PSAnQk9EWScgPyB3aW5kb3cgOiBlbGVtZW50O1xuICAgICAgdGhpcy5fY29uZmlnID0gdGhpcy5fZ2V0Q29uZmlnKGNvbmZpZyk7XG4gICAgICB0aGlzLl9zZWxlY3RvciA9IHRoaXMuX2NvbmZpZy50YXJnZXQgKyBcIiBcIiArIFNFTEVDVE9SX05BVl9MSU5LUyArIFwiLFwiICsgKHRoaXMuX2NvbmZpZy50YXJnZXQgKyBcIiBcIiArIFNFTEVDVE9SX0xJU1RfSVRFTVMgKyBcIixcIikgKyAodGhpcy5fY29uZmlnLnRhcmdldCArIFwiIFwiICsgU0VMRUNUT1JfRFJPUERPV05fSVRFTVMpO1xuICAgICAgdGhpcy5fb2Zmc2V0cyA9IFtdO1xuICAgICAgdGhpcy5fdGFyZ2V0cyA9IFtdO1xuICAgICAgdGhpcy5fYWN0aXZlVGFyZ2V0ID0gbnVsbDtcbiAgICAgIHRoaXMuX3Njcm9sbEhlaWdodCA9IDA7XG4gICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aGlzLl9zY3JvbGxFbGVtZW50KS5vbihFVkVOVF9TQ1JPTEwsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuX3Byb2Nlc3MoZXZlbnQpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnJlZnJlc2goKTtcblxuICAgICAgdGhpcy5fcHJvY2VzcygpO1xuICAgIH0gLy8gR2V0dGVyc1xuXG5cbiAgICB2YXIgX3Byb3RvID0gU2Nyb2xsU3B5LnByb3RvdHlwZTtcblxuICAgIC8vIFB1YmxpY1xuICAgIF9wcm90by5yZWZyZXNoID0gZnVuY3Rpb24gcmVmcmVzaCgpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgYXV0b01ldGhvZCA9IHRoaXMuX3Njcm9sbEVsZW1lbnQgPT09IHRoaXMuX3Njcm9sbEVsZW1lbnQud2luZG93ID8gTUVUSE9EX09GRlNFVCA6IE1FVEhPRF9QT1NJVElPTjtcbiAgICAgIHZhciBvZmZzZXRNZXRob2QgPSB0aGlzLl9jb25maWcubWV0aG9kID09PSAnYXV0bycgPyBhdXRvTWV0aG9kIDogdGhpcy5fY29uZmlnLm1ldGhvZDtcbiAgICAgIHZhciBvZmZzZXRCYXNlID0gb2Zmc2V0TWV0aG9kID09PSBNRVRIT0RfUE9TSVRJT04gPyB0aGlzLl9nZXRTY3JvbGxUb3AoKSA6IDA7XG4gICAgICB0aGlzLl9vZmZzZXRzID0gW107XG4gICAgICB0aGlzLl90YXJnZXRzID0gW107XG4gICAgICB0aGlzLl9zY3JvbGxIZWlnaHQgPSB0aGlzLl9nZXRTY3JvbGxIZWlnaHQoKTtcbiAgICAgIHZhciB0YXJnZXRzID0gW10uc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX3NlbGVjdG9yKSk7XG4gICAgICB0YXJnZXRzLm1hcChmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICB2YXIgdGFyZ2V0O1xuICAgICAgICB2YXIgdGFyZ2V0U2VsZWN0b3IgPSBVdGlsLmdldFNlbGVjdG9yRnJvbUVsZW1lbnQoZWxlbWVudCk7XG5cbiAgICAgICAgaWYgKHRhcmdldFNlbGVjdG9yKSB7XG4gICAgICAgICAgdGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXRTZWxlY3Rvcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgdmFyIHRhcmdldEJDUiA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICAgIGlmICh0YXJnZXRCQ1Iud2lkdGggfHwgdGFyZ2V0QkNSLmhlaWdodCkge1xuICAgICAgICAgICAgLy8gVE9ETyAoZmF0KTogcmVtb3ZlIHNrZXRjaCByZWxpYW5jZSBvbiBqUXVlcnkgcG9zaXRpb24vb2Zmc2V0XG4gICAgICAgICAgICByZXR1cm4gWyRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRhcmdldClbb2Zmc2V0TWV0aG9kXSgpLnRvcCArIG9mZnNldEJhc2UsIHRhcmdldFNlbGVjdG9yXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0pLmZpbHRlcihCb29sZWFuKS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIHJldHVybiBhWzBdIC0gYlswXTtcbiAgICAgIH0pLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgX3RoaXMyLl9vZmZzZXRzLnB1c2goaXRlbVswXSk7XG5cbiAgICAgICAgX3RoaXMyLl90YXJnZXRzLnB1c2goaXRlbVsxXSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0ucmVtb3ZlRGF0YSh0aGlzLl9lbGVtZW50LCBEQVRBX0tFWSQyKTtcbiAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRoaXMuX3Njcm9sbEVsZW1lbnQpLm9mZihFVkVOVF9LRVkkMik7XG4gICAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcbiAgICAgIHRoaXMuX3Njcm9sbEVsZW1lbnQgPSBudWxsO1xuICAgICAgdGhpcy5fY29uZmlnID0gbnVsbDtcbiAgICAgIHRoaXMuX3NlbGVjdG9yID0gbnVsbDtcbiAgICAgIHRoaXMuX29mZnNldHMgPSBudWxsO1xuICAgICAgdGhpcy5fdGFyZ2V0cyA9IG51bGw7XG4gICAgICB0aGlzLl9hY3RpdmVUYXJnZXQgPSBudWxsO1xuICAgICAgdGhpcy5fc2Nyb2xsSGVpZ2h0ID0gbnVsbDtcbiAgICB9IC8vIFByaXZhdGVcbiAgICA7XG5cbiAgICBfcHJvdG8uX2dldENvbmZpZyA9IGZ1bmN0aW9uIF9nZXRDb25maWcoY29uZmlnKSB7XG4gICAgICBjb25maWcgPSBfZXh0ZW5kcyh7fSwgRGVmYXVsdCQxLCB0eXBlb2YgY29uZmlnID09PSAnb2JqZWN0JyAmJiBjb25maWcgPyBjb25maWcgOiB7fSk7XG5cbiAgICAgIGlmICh0eXBlb2YgY29uZmlnLnRhcmdldCAhPT0gJ3N0cmluZycgJiYgVXRpbC5pc0VsZW1lbnQoY29uZmlnLnRhcmdldCkpIHtcbiAgICAgICAgdmFyIGlkID0gJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0oY29uZmlnLnRhcmdldCkuYXR0cignaWQnKTtcblxuICAgICAgICBpZiAoIWlkKSB7XG4gICAgICAgICAgaWQgPSBVdGlsLmdldFVJRChOQU1FJDIpO1xuICAgICAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKGNvbmZpZy50YXJnZXQpLmF0dHIoJ2lkJywgaWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uZmlnLnRhcmdldCA9IFwiI1wiICsgaWQ7XG4gICAgICB9XG5cbiAgICAgIFV0aWwudHlwZUNoZWNrQ29uZmlnKE5BTUUkMiwgY29uZmlnLCBEZWZhdWx0VHlwZSQxKTtcbiAgICAgIHJldHVybiBjb25maWc7XG4gICAgfTtcblxuICAgIF9wcm90by5fZ2V0U2Nyb2xsVG9wID0gZnVuY3Rpb24gX2dldFNjcm9sbFRvcCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zY3JvbGxFbGVtZW50ID09PSB3aW5kb3cgPyB0aGlzLl9zY3JvbGxFbGVtZW50LnBhZ2VZT2Zmc2V0IDogdGhpcy5fc2Nyb2xsRWxlbWVudC5zY3JvbGxUb3A7XG4gICAgfTtcblxuICAgIF9wcm90by5fZ2V0U2Nyb2xsSGVpZ2h0ID0gZnVuY3Rpb24gX2dldFNjcm9sbEhlaWdodCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zY3JvbGxFbGVtZW50LnNjcm9sbEhlaWdodCB8fCBNYXRoLm1heChkb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodCwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCk7XG4gICAgfTtcblxuICAgIF9wcm90by5fZ2V0T2Zmc2V0SGVpZ2h0ID0gZnVuY3Rpb24gX2dldE9mZnNldEhlaWdodCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zY3JvbGxFbGVtZW50ID09PSB3aW5kb3cgPyB3aW5kb3cuaW5uZXJIZWlnaHQgOiB0aGlzLl9zY3JvbGxFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcbiAgICB9O1xuXG4gICAgX3Byb3RvLl9wcm9jZXNzID0gZnVuY3Rpb24gX3Byb2Nlc3MoKSB7XG4gICAgICB2YXIgc2Nyb2xsVG9wID0gdGhpcy5fZ2V0U2Nyb2xsVG9wKCkgKyB0aGlzLl9jb25maWcub2Zmc2V0O1xuXG4gICAgICB2YXIgc2Nyb2xsSGVpZ2h0ID0gdGhpcy5fZ2V0U2Nyb2xsSGVpZ2h0KCk7XG5cbiAgICAgIHZhciBtYXhTY3JvbGwgPSB0aGlzLl9jb25maWcub2Zmc2V0ICsgc2Nyb2xsSGVpZ2h0IC0gdGhpcy5fZ2V0T2Zmc2V0SGVpZ2h0KCk7XG5cbiAgICAgIGlmICh0aGlzLl9zY3JvbGxIZWlnaHQgIT09IHNjcm9sbEhlaWdodCkge1xuICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNjcm9sbFRvcCA+PSBtYXhTY3JvbGwpIHtcbiAgICAgICAgdmFyIHRhcmdldCA9IHRoaXMuX3RhcmdldHNbdGhpcy5fdGFyZ2V0cy5sZW5ndGggLSAxXTtcblxuICAgICAgICBpZiAodGhpcy5fYWN0aXZlVGFyZ2V0ICE9PSB0YXJnZXQpIHtcbiAgICAgICAgICB0aGlzLl9hY3RpdmF0ZSh0YXJnZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fYWN0aXZlVGFyZ2V0ICYmIHNjcm9sbFRvcCA8IHRoaXMuX29mZnNldHNbMF0gJiYgdGhpcy5fb2Zmc2V0c1swXSA+IDApIHtcbiAgICAgICAgdGhpcy5fYWN0aXZlVGFyZ2V0ID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9jbGVhcigpO1xuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IHRoaXMuX29mZnNldHMubGVuZ3RoOyBpLS07KSB7XG4gICAgICAgIHZhciBpc0FjdGl2ZVRhcmdldCA9IHRoaXMuX2FjdGl2ZVRhcmdldCAhPT0gdGhpcy5fdGFyZ2V0c1tpXSAmJiBzY3JvbGxUb3AgPj0gdGhpcy5fb2Zmc2V0c1tpXSAmJiAodHlwZW9mIHRoaXMuX29mZnNldHNbaSArIDFdID09PSAndW5kZWZpbmVkJyB8fCBzY3JvbGxUb3AgPCB0aGlzLl9vZmZzZXRzW2kgKyAxXSk7XG5cbiAgICAgICAgaWYgKGlzQWN0aXZlVGFyZ2V0KSB7XG4gICAgICAgICAgdGhpcy5fYWN0aXZhdGUodGhpcy5fdGFyZ2V0c1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLl9hY3RpdmF0ZSA9IGZ1bmN0aW9uIF9hY3RpdmF0ZSh0YXJnZXQpIHtcbiAgICAgIHRoaXMuX2FjdGl2ZVRhcmdldCA9IHRhcmdldDtcblxuICAgICAgdGhpcy5fY2xlYXIoKTtcblxuICAgICAgdmFyIHF1ZXJpZXMgPSB0aGlzLl9zZWxlY3Rvci5zcGxpdCgnLCcpLm1hcChmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIHNlbGVjdG9yICsgXCJbZGF0YS10YXJnZXQ9XFxcIlwiICsgdGFyZ2V0ICsgXCJcXFwiXSxcIiArIHNlbGVjdG9yICsgXCJbaHJlZj1cXFwiXCIgKyB0YXJnZXQgKyBcIlxcXCJdXCI7XG4gICAgICB9KTtcblxuICAgICAgdmFyICRsaW5rID0gJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0oW10uc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHF1ZXJpZXMuam9pbignLCcpKSkpO1xuXG4gICAgICBpZiAoJGxpbmsuaGFzQ2xhc3MoQ0xBU1NfTkFNRV9EUk9QRE9XTl9JVEVNKSkge1xuICAgICAgICAkbGluay5jbG9zZXN0KFNFTEVDVE9SX0RST1BET1dOJDEpLmZpbmQoU0VMRUNUT1JfRFJPUERPV05fVE9HR0xFJDEpLmFkZENsYXNzKENMQVNTX05BTUVfQUNUSVZFJDEpO1xuICAgICAgICAkbGluay5hZGRDbGFzcyhDTEFTU19OQU1FX0FDVElWRSQxKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFNldCB0cmlnZ2VyZWQgbGluayBhcyBhY3RpdmVcbiAgICAgICAgJGxpbmsuYWRkQ2xhc3MoQ0xBU1NfTkFNRV9BQ1RJVkUkMSk7IC8vIFNldCB0cmlnZ2VyZWQgbGlua3MgcGFyZW50cyBhcyBhY3RpdmVcbiAgICAgICAgLy8gV2l0aCBib3RoIDx1bD4gYW5kIDxuYXY+IG1hcmt1cCBhIHBhcmVudCBpcyB0aGUgcHJldmlvdXMgc2libGluZyBvZiBhbnkgbmF2IGFuY2VzdG9yXG5cbiAgICAgICAgJGxpbmsucGFyZW50cyhTRUxFQ1RPUl9OQVZfTElTVF9HUk9VUCQxKS5wcmV2KFNFTEVDVE9SX05BVl9MSU5LUyArIFwiLCBcIiArIFNFTEVDVE9SX0xJU1RfSVRFTVMpLmFkZENsYXNzKENMQVNTX05BTUVfQUNUSVZFJDEpOyAvLyBIYW5kbGUgc3BlY2lhbCBjYXNlIHdoZW4gLm5hdi1saW5rIGlzIGluc2lkZSAubmF2LWl0ZW1cblxuICAgICAgICAkbGluay5wYXJlbnRzKFNFTEVDVE9SX05BVl9MSVNUX0dST1VQJDEpLnByZXYoU0VMRUNUT1JfTkFWX0lURU1TKS5jaGlsZHJlbihTRUxFQ1RPUl9OQVZfTElOS1MpLmFkZENsYXNzKENMQVNTX05BTUVfQUNUSVZFJDEpO1xuICAgICAgfVxuXG4gICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aGlzLl9zY3JvbGxFbGVtZW50KS50cmlnZ2VyKEVWRU5UX0FDVElWQVRFLCB7XG4gICAgICAgIHJlbGF0ZWRUYXJnZXQ6IHRhcmdldFxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF9wcm90by5fY2xlYXIgPSBmdW5jdGlvbiBfY2xlYXIoKSB7XG4gICAgICBbXS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fc2VsZWN0b3IpKS5maWx0ZXIoZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIG5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKENMQVNTX05BTUVfQUNUSVZFJDEpO1xuICAgICAgfSkuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICByZXR1cm4gbm9kZS5jbGFzc0xpc3QucmVtb3ZlKENMQVNTX05BTUVfQUNUSVZFJDEpO1xuICAgICAgfSk7XG4gICAgfSAvLyBTdGF0aWNcbiAgICA7XG5cbiAgICBTY3JvbGxTcHkuX2pRdWVyeUludGVyZmFjZSA9IGZ1bmN0aW9uIF9qUXVlcnlJbnRlcmZhY2UoY29uZmlnKSB7XG4gICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRhdGEgPSAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aGlzKS5kYXRhKERBVEFfS0VZJDIpO1xuXG4gICAgICAgIHZhciBfY29uZmlnID0gdHlwZW9mIGNvbmZpZyA9PT0gJ29iamVjdCcgJiYgY29uZmlnO1xuXG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgIGRhdGEgPSBuZXcgU2Nyb2xsU3B5KHRoaXMsIF9jb25maWcpO1xuICAgICAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRoaXMpLmRhdGEoREFUQV9LRVkkMiwgZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIGRhdGFbY29uZmlnXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJObyBtZXRob2QgbmFtZWQgXFxcIlwiICsgY29uZmlnICsgXCJcXFwiXCIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRhdGFbY29uZmlnXSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX2NyZWF0ZUNsYXNzKFNjcm9sbFNweSwgbnVsbCwgW3tcbiAgICAgIGtleTogXCJWRVJTSU9OXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIFZFUlNJT04kMjtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiRGVmYXVsdFwiLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBEZWZhdWx0JDE7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFNjcm9sbFNweTtcbiAgfSgpO1xuICAvKipcbiAgICogRGF0YSBBUEkgaW1wbGVtZW50YXRpb25cbiAgICovXG5cblxuICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh3aW5kb3cpLm9uKEVWRU5UX0xPQURfREFUQV9BUEksIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2Nyb2xsU3B5cyA9IFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChTRUxFQ1RPUl9EQVRBX1NQWSkpO1xuICAgIHZhciBzY3JvbGxTcHlzTGVuZ3RoID0gc2Nyb2xsU3B5cy5sZW5ndGg7XG5cbiAgICBmb3IgKHZhciBpID0gc2Nyb2xsU3B5c0xlbmd0aDsgaS0tOykge1xuICAgICAgdmFyICRzcHkgPSAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXShzY3JvbGxTcHlzW2ldKTtcblxuICAgICAgU2Nyb2xsU3B5Ll9qUXVlcnlJbnRlcmZhY2UuY2FsbCgkc3B5LCAkc3B5LmRhdGEoKSk7XG4gICAgfVxuICB9KTtcbiAgLyoqXG4gICAqIGpRdWVyeVxuICAgKi9cblxuICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5mbltOQU1FJDJdID0gU2Nyb2xsU3B5Ll9qUXVlcnlJbnRlcmZhY2U7XG4gICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLmZuW05BTUUkMl0uQ29uc3RydWN0b3IgPSBTY3JvbGxTcHk7XG5cbiAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0uZm5bTkFNRSQyXS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLmZuW05BTUUkMl0gPSBKUVVFUllfTk9fQ09ORkxJQ1QkMjtcbiAgICByZXR1cm4gU2Nyb2xsU3B5Ll9qUXVlcnlJbnRlcmZhY2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIENvbnN0YW50c1xuICAgKi9cblxuICB2YXIgTkFNRSQxID0gJ3RhYic7XG4gIHZhciBWRVJTSU9OJDEgPSAnNC42LjInO1xuICB2YXIgREFUQV9LRVkkMSA9ICdicy50YWInO1xuICB2YXIgRVZFTlRfS0VZJDEgPSBcIi5cIiArIERBVEFfS0VZJDE7XG4gIHZhciBEQVRBX0FQSV9LRVkgPSAnLmRhdGEtYXBpJztcbiAgdmFyIEpRVUVSWV9OT19DT05GTElDVCQxID0gJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0uZm5bTkFNRSQxXTtcbiAgdmFyIENMQVNTX05BTUVfRFJPUERPV05fTUVOVSA9ICdkcm9wZG93bi1tZW51JztcbiAgdmFyIENMQVNTX05BTUVfQUNUSVZFID0gJ2FjdGl2ZSc7XG4gIHZhciBDTEFTU19OQU1FX0RJU0FCTEVEID0gJ2Rpc2FibGVkJztcbiAgdmFyIENMQVNTX05BTUVfRkFERSQxID0gJ2ZhZGUnO1xuICB2YXIgQ0xBU1NfTkFNRV9TSE9XJDEgPSAnc2hvdyc7XG4gIHZhciBFVkVOVF9ISURFJDEgPSBcImhpZGVcIiArIEVWRU5UX0tFWSQxO1xuICB2YXIgRVZFTlRfSElEREVOJDEgPSBcImhpZGRlblwiICsgRVZFTlRfS0VZJDE7XG4gIHZhciBFVkVOVF9TSE9XJDEgPSBcInNob3dcIiArIEVWRU5UX0tFWSQxO1xuICB2YXIgRVZFTlRfU0hPV04kMSA9IFwic2hvd25cIiArIEVWRU5UX0tFWSQxO1xuICB2YXIgRVZFTlRfQ0xJQ0tfREFUQV9BUEkgPSBcImNsaWNrXCIgKyBFVkVOVF9LRVkkMSArIERBVEFfQVBJX0tFWTtcbiAgdmFyIFNFTEVDVE9SX0RST1BET1dOID0gJy5kcm9wZG93bic7XG4gIHZhciBTRUxFQ1RPUl9OQVZfTElTVF9HUk9VUCA9ICcubmF2LCAubGlzdC1ncm91cCc7XG4gIHZhciBTRUxFQ1RPUl9BQ1RJVkUgPSAnLmFjdGl2ZSc7XG4gIHZhciBTRUxFQ1RPUl9BQ1RJVkVfVUwgPSAnPiBsaSA+IC5hY3RpdmUnO1xuICB2YXIgU0VMRUNUT1JfREFUQV9UT0dHTEUgPSAnW2RhdGEtdG9nZ2xlPVwidGFiXCJdLCBbZGF0YS10b2dnbGU9XCJwaWxsXCJdLCBbZGF0YS10b2dnbGU9XCJsaXN0XCJdJztcbiAgdmFyIFNFTEVDVE9SX0RST1BET1dOX1RPR0dMRSA9ICcuZHJvcGRvd24tdG9nZ2xlJztcbiAgdmFyIFNFTEVDVE9SX0RST1BET1dOX0FDVElWRV9DSElMRCA9ICc+IC5kcm9wZG93bi1tZW51IC5hY3RpdmUnO1xuICAvKipcbiAgICogQ2xhc3MgZGVmaW5pdGlvblxuICAgKi9cblxuICB2YXIgVGFiID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUYWIoZWxlbWVudCkge1xuICAgICAgdGhpcy5fZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgfSAvLyBHZXR0ZXJzXG5cblxuICAgIHZhciBfcHJvdG8gPSBUYWIucHJvdG90eXBlO1xuXG4gICAgLy8gUHVibGljXG4gICAgX3Byb3RvLnNob3cgPSBmdW5jdGlvbiBzaG93KCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgaWYgKHRoaXMuX2VsZW1lbnQucGFyZW50Tm9kZSAmJiB0aGlzLl9lbGVtZW50LnBhcmVudE5vZGUubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFICYmICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKENMQVNTX05BTUVfQUNUSVZFKSB8fCAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhDTEFTU19OQU1FX0RJU0FCTEVEKSB8fCB0aGlzLl9lbGVtZW50Lmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciB0YXJnZXQ7XG4gICAgICB2YXIgcHJldmlvdXM7XG4gICAgICB2YXIgbGlzdEVsZW1lbnQgPSAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aGlzLl9lbGVtZW50KS5jbG9zZXN0KFNFTEVDVE9SX05BVl9MSVNUX0dST1VQKVswXTtcbiAgICAgIHZhciBzZWxlY3RvciA9IFV0aWwuZ2V0U2VsZWN0b3JGcm9tRWxlbWVudCh0aGlzLl9lbGVtZW50KTtcblxuICAgICAgaWYgKGxpc3RFbGVtZW50KSB7XG4gICAgICAgIHZhciBpdGVtU2VsZWN0b3IgPSBsaXN0RWxlbWVudC5ub2RlTmFtZSA9PT0gJ1VMJyB8fCBsaXN0RWxlbWVudC5ub2RlTmFtZSA9PT0gJ09MJyA/IFNFTEVDVE9SX0FDVElWRV9VTCA6IFNFTEVDVE9SX0FDVElWRTtcbiAgICAgICAgcHJldmlvdXMgPSAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5tYWtlQXJyYXkoJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0obGlzdEVsZW1lbnQpLmZpbmQoaXRlbVNlbGVjdG9yKSk7XG4gICAgICAgIHByZXZpb3VzID0gcHJldmlvdXNbcHJldmlvdXMubGVuZ3RoIC0gMV07XG4gICAgICB9XG5cbiAgICAgIHZhciBoaWRlRXZlbnQgPSAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5FdmVudChFVkVOVF9ISURFJDEsIHtcbiAgICAgICAgcmVsYXRlZFRhcmdldDogdGhpcy5fZWxlbWVudFxuICAgICAgfSk7XG4gICAgICB2YXIgc2hvd0V2ZW50ID0gJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0uRXZlbnQoRVZFTlRfU0hPVyQxLCB7XG4gICAgICAgIHJlbGF0ZWRUYXJnZXQ6IHByZXZpb3VzXG4gICAgICB9KTtcblxuICAgICAgaWYgKHByZXZpb3VzKSB7XG4gICAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHByZXZpb3VzKS50cmlnZ2VyKGhpZGVFdmVudCk7XG4gICAgICB9XG5cbiAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRoaXMuX2VsZW1lbnQpLnRyaWdnZXIoc2hvd0V2ZW50KTtcblxuICAgICAgaWYgKHNob3dFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSB8fCBoaWRlRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgICAgdGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2FjdGl2YXRlKHRoaXMuX2VsZW1lbnQsIGxpc3RFbGVtZW50KTtcblxuICAgICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gICAgICAgIHZhciBoaWRkZW5FdmVudCA9ICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLkV2ZW50KEVWRU5UX0hJRERFTiQxLCB7XG4gICAgICAgICAgcmVsYXRlZFRhcmdldDogX3RoaXMuX2VsZW1lbnRcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBzaG93bkV2ZW50ID0gJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0uRXZlbnQoRVZFTlRfU0hPV04kMSwge1xuICAgICAgICAgIHJlbGF0ZWRUYXJnZXQ6IHByZXZpb3VzXG4gICAgICAgIH0pO1xuICAgICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXShwcmV2aW91cykudHJpZ2dlcihoaWRkZW5FdmVudCk7XG4gICAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKF90aGlzLl9lbGVtZW50KS50cmlnZ2VyKHNob3duRXZlbnQpO1xuICAgICAgfTtcblxuICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICB0aGlzLl9hY3RpdmF0ZSh0YXJnZXQsIHRhcmdldC5wYXJlbnROb2RlLCBjb21wbGV0ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb21wbGV0ZSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5yZW1vdmVEYXRhKHRoaXMuX2VsZW1lbnQsIERBVEFfS0VZJDEpO1xuICAgICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XG4gICAgfSAvLyBQcml2YXRlXG4gICAgO1xuXG4gICAgX3Byb3RvLl9hY3RpdmF0ZSA9IGZ1bmN0aW9uIF9hY3RpdmF0ZShlbGVtZW50LCBjb250YWluZXIsIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIGFjdGl2ZUVsZW1lbnRzID0gY29udGFpbmVyICYmIChjb250YWluZXIubm9kZU5hbWUgPT09ICdVTCcgfHwgY29udGFpbmVyLm5vZGVOYW1lID09PSAnT0wnKSA/ICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKGNvbnRhaW5lcikuZmluZChTRUxFQ1RPUl9BQ1RJVkVfVUwpIDogJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0oY29udGFpbmVyKS5jaGlsZHJlbihTRUxFQ1RPUl9BQ1RJVkUpO1xuICAgICAgdmFyIGFjdGl2ZSA9IGFjdGl2ZUVsZW1lbnRzWzBdO1xuICAgICAgdmFyIGlzVHJhbnNpdGlvbmluZyA9IGNhbGxiYWNrICYmIGFjdGl2ZSAmJiAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXShhY3RpdmUpLmhhc0NsYXNzKENMQVNTX05BTUVfRkFERSQxKTtcblxuICAgICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gICAgICAgIHJldHVybiBfdGhpczIuX3RyYW5zaXRpb25Db21wbGV0ZShlbGVtZW50LCBhY3RpdmUsIGNhbGxiYWNrKTtcbiAgICAgIH07XG5cbiAgICAgIGlmIChhY3RpdmUgJiYgaXNUcmFuc2l0aW9uaW5nKSB7XG4gICAgICAgIHZhciB0cmFuc2l0aW9uRHVyYXRpb24gPSBVdGlsLmdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KGFjdGl2ZSk7XG4gICAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKGFjdGl2ZSkucmVtb3ZlQ2xhc3MoQ0xBU1NfTkFNRV9TSE9XJDEpLm9uZShVdGlsLlRSQU5TSVRJT05fRU5ELCBjb21wbGV0ZSkuZW11bGF0ZVRyYW5zaXRpb25FbmQodHJhbnNpdGlvbkR1cmF0aW9uKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbXBsZXRlKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5fdHJhbnNpdGlvbkNvbXBsZXRlID0gZnVuY3Rpb24gX3RyYW5zaXRpb25Db21wbGV0ZShlbGVtZW50LCBhY3RpdmUsIGNhbGxiYWNrKSB7XG4gICAgICBpZiAoYWN0aXZlKSB7XG4gICAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKGFjdGl2ZSkucmVtb3ZlQ2xhc3MoQ0xBU1NfTkFNRV9BQ1RJVkUpO1xuICAgICAgICB2YXIgZHJvcGRvd25DaGlsZCA9ICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKGFjdGl2ZS5wYXJlbnROb2RlKS5maW5kKFNFTEVDVE9SX0RST1BET1dOX0FDVElWRV9DSElMRClbMF07XG5cbiAgICAgICAgaWYgKGRyb3Bkb3duQ2hpbGQpIHtcbiAgICAgICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXShkcm9wZG93bkNoaWxkKS5yZW1vdmVDbGFzcyhDTEFTU19OQU1FX0FDVElWRSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYWN0aXZlLmdldEF0dHJpYnV0ZSgncm9sZScpID09PSAndGFiJykge1xuICAgICAgICAgIGFjdGl2ZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0oZWxlbWVudCkuYWRkQ2xhc3MoQ0xBU1NfTkFNRV9BQ1RJVkUpO1xuXG4gICAgICBpZiAoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3JvbGUnKSA9PT0gJ3RhYicpIHtcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCB0cnVlKTtcbiAgICAgIH1cblxuICAgICAgVXRpbC5yZWZsb3coZWxlbWVudCk7XG5cbiAgICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhDTEFTU19OQU1FX0ZBREUkMSkpIHtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKENMQVNTX05BTUVfU0hPVyQxKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHBhcmVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcblxuICAgICAgaWYgKHBhcmVudCAmJiBwYXJlbnQubm9kZU5hbWUgPT09ICdMSScpIHtcbiAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGU7XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJlbnQgJiYgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0ocGFyZW50KS5oYXNDbGFzcyhDTEFTU19OQU1FX0RST1BET1dOX01FTlUpKSB7XG4gICAgICAgIHZhciBkcm9wZG93bkVsZW1lbnQgPSAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXShlbGVtZW50KS5jbG9zZXN0KFNFTEVDVE9SX0RST1BET1dOKVswXTtcblxuICAgICAgICBpZiAoZHJvcGRvd25FbGVtZW50KSB7XG4gICAgICAgICAgdmFyIGRyb3Bkb3duVG9nZ2xlTGlzdCA9IFtdLnNsaWNlLmNhbGwoZHJvcGRvd25FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoU0VMRUNUT1JfRFJPUERPV05fVE9HR0xFKSk7XG4gICAgICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0oZHJvcGRvd25Ub2dnbGVMaXN0KS5hZGRDbGFzcyhDTEFTU19OQU1FX0FDVElWRSk7XG4gICAgICAgIH1cblxuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIHRydWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9IC8vIFN0YXRpY1xuICAgIDtcblxuICAgIFRhYi5falF1ZXJ5SW50ZXJmYWNlID0gZnVuY3Rpb24gX2pRdWVyeUludGVyZmFjZShjb25maWcpIHtcbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgJHRoaXMgPSAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aGlzKTtcbiAgICAgICAgdmFyIGRhdGEgPSAkdGhpcy5kYXRhKERBVEFfS0VZJDEpO1xuXG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgIGRhdGEgPSBuZXcgVGFiKHRoaXMpO1xuICAgICAgICAgICR0aGlzLmRhdGEoREFUQV9LRVkkMSwgZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIGRhdGFbY29uZmlnXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJObyBtZXRob2QgbmFtZWQgXFxcIlwiICsgY29uZmlnICsgXCJcXFwiXCIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRhdGFbY29uZmlnXSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX2NyZWF0ZUNsYXNzKFRhYiwgbnVsbCwgW3tcbiAgICAgIGtleTogXCJWRVJTSU9OXCIsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIFZFUlNJT04kMTtcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gVGFiO1xuICB9KCk7XG4gIC8qKlxuICAgKiBEYXRhIEFQSSBpbXBsZW1lbnRhdGlvblxuICAgKi9cblxuXG4gICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKGRvY3VtZW50KS5vbihFVkVOVF9DTElDS19EQVRBX0FQSSwgU0VMRUNUT1JfREFUQV9UT0dHTEUsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBUYWIuX2pRdWVyeUludGVyZmFjZS5jYWxsKCRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRoaXMpLCAnc2hvdycpO1xuICB9KTtcbiAgLyoqXG4gICAqIGpRdWVyeVxuICAgKi9cblxuICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5mbltOQU1FJDFdID0gVGFiLl9qUXVlcnlJbnRlcmZhY2U7XG4gICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLmZuW05BTUUkMV0uQ29uc3RydWN0b3IgPSBUYWI7XG5cbiAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0uZm5bTkFNRSQxXS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLmZuW05BTUUkMV0gPSBKUVVFUllfTk9fQ09ORkxJQ1QkMTtcbiAgICByZXR1cm4gVGFiLl9qUXVlcnlJbnRlcmZhY2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIENvbnN0YW50c1xuICAgKi9cblxuICB2YXIgTkFNRSA9ICd0b2FzdCc7XG4gIHZhciBWRVJTSU9OID0gJzQuNi4yJztcbiAgdmFyIERBVEFfS0VZID0gJ2JzLnRvYXN0JztcbiAgdmFyIEVWRU5UX0tFWSA9IFwiLlwiICsgREFUQV9LRVk7XG4gIHZhciBKUVVFUllfTk9fQ09ORkxJQ1QgPSAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5mbltOQU1FXTtcbiAgdmFyIENMQVNTX05BTUVfRkFERSA9ICdmYWRlJztcbiAgdmFyIENMQVNTX05BTUVfSElERSA9ICdoaWRlJztcbiAgdmFyIENMQVNTX05BTUVfU0hPVyA9ICdzaG93JztcbiAgdmFyIENMQVNTX05BTUVfU0hPV0lORyA9ICdzaG93aW5nJztcbiAgdmFyIEVWRU5UX0NMSUNLX0RJU01JU1MgPSBcImNsaWNrLmRpc21pc3NcIiArIEVWRU5UX0tFWTtcbiAgdmFyIEVWRU5UX0hJREUgPSBcImhpZGVcIiArIEVWRU5UX0tFWTtcbiAgdmFyIEVWRU5UX0hJRERFTiA9IFwiaGlkZGVuXCIgKyBFVkVOVF9LRVk7XG4gIHZhciBFVkVOVF9TSE9XID0gXCJzaG93XCIgKyBFVkVOVF9LRVk7XG4gIHZhciBFVkVOVF9TSE9XTiA9IFwic2hvd25cIiArIEVWRU5UX0tFWTtcbiAgdmFyIFNFTEVDVE9SX0RBVEFfRElTTUlTUyA9ICdbZGF0YS1kaXNtaXNzPVwidG9hc3RcIl0nO1xuICB2YXIgRGVmYXVsdCA9IHtcbiAgICBhbmltYXRpb246IHRydWUsXG4gICAgYXV0b2hpZGU6IHRydWUsXG4gICAgZGVsYXk6IDUwMFxuICB9O1xuICB2YXIgRGVmYXVsdFR5cGUgPSB7XG4gICAgYW5pbWF0aW9uOiAnYm9vbGVhbicsXG4gICAgYXV0b2hpZGU6ICdib29sZWFuJyxcbiAgICBkZWxheTogJ251bWJlcidcbiAgfTtcbiAgLyoqXG4gICAqIENsYXNzIGRlZmluaXRpb25cbiAgICovXG5cbiAgdmFyIFRvYXN0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUb2FzdChlbGVtZW50LCBjb25maWcpIHtcbiAgICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgdGhpcy5fY29uZmlnID0gdGhpcy5fZ2V0Q29uZmlnKGNvbmZpZyk7XG4gICAgICB0aGlzLl90aW1lb3V0ID0gbnVsbDtcblxuICAgICAgdGhpcy5fc2V0TGlzdGVuZXJzKCk7XG4gICAgfSAvLyBHZXR0ZXJzXG5cblxuICAgIHZhciBfcHJvdG8gPSBUb2FzdC5wcm90b3R5cGU7XG5cbiAgICAvLyBQdWJsaWNcbiAgICBfcHJvdG8uc2hvdyA9IGZ1bmN0aW9uIHNob3coKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgc2hvd0V2ZW50ID0gJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0uRXZlbnQoRVZFTlRfU0hPVyk7XG4gICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aGlzLl9lbGVtZW50KS50cmlnZ2VyKHNob3dFdmVudCk7XG5cbiAgICAgIGlmIChzaG93RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9jbGVhclRpbWVvdXQoKTtcblxuICAgICAgaWYgKHRoaXMuX2NvbmZpZy5hbmltYXRpb24pIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKENMQVNTX05BTUVfRkFERSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBjb21wbGV0ZSA9IGZ1bmN0aW9uIGNvbXBsZXRlKCkge1xuICAgICAgICBfdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKENMQVNTX05BTUVfU0hPV0lORyk7XG5cbiAgICAgICAgX3RoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmFkZChDTEFTU19OQU1FX1NIT1cpO1xuXG4gICAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKF90aGlzLl9lbGVtZW50KS50cmlnZ2VyKEVWRU5UX1NIT1dOKTtcblxuICAgICAgICBpZiAoX3RoaXMuX2NvbmZpZy5hdXRvaGlkZSkge1xuICAgICAgICAgIF90aGlzLl90aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5oaWRlKCk7XG4gICAgICAgICAgfSwgX3RoaXMuX2NvbmZpZy5kZWxheSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShDTEFTU19OQU1FX0hJREUpO1xuXG4gICAgICBVdGlsLnJlZmxvdyh0aGlzLl9lbGVtZW50KTtcblxuICAgICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKENMQVNTX05BTUVfU0hPV0lORyk7XG5cbiAgICAgIGlmICh0aGlzLl9jb25maWcuYW5pbWF0aW9uKSB7XG4gICAgICAgIHZhciB0cmFuc2l0aW9uRHVyYXRpb24gPSBVdGlsLmdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KHRoaXMuX2VsZW1lbnQpO1xuICAgICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aGlzLl9lbGVtZW50KS5vbmUoVXRpbC5UUkFOU0lUSU9OX0VORCwgY29tcGxldGUpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKHRyYW5zaXRpb25EdXJhdGlvbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb21wbGV0ZSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8uaGlkZSA9IGZ1bmN0aW9uIGhpZGUoKSB7XG4gICAgICBpZiAoIXRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKENMQVNTX05BTUVfU0hPVykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgaGlkZUV2ZW50ID0gJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0uRXZlbnQoRVZFTlRfSElERSk7XG4gICAgICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aGlzLl9lbGVtZW50KS50cmlnZ2VyKGhpZGVFdmVudCk7XG5cbiAgICAgIGlmIChoaWRlRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9jbG9zZSgpO1xuICAgIH07XG5cbiAgICBfcHJvdG8uZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgICB0aGlzLl9jbGVhclRpbWVvdXQoKTtcblxuICAgICAgaWYgKHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKENMQVNTX05BTUVfU0hPVykpIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKENMQVNTX05BTUVfU0hPVyk7XG4gICAgICB9XG5cbiAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRoaXMuX2VsZW1lbnQpLm9mZihFVkVOVF9DTElDS19ESVNNSVNTKTtcbiAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLnJlbW92ZURhdGEodGhpcy5fZWxlbWVudCwgREFUQV9LRVkpO1xuICAgICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XG4gICAgICB0aGlzLl9jb25maWcgPSBudWxsO1xuICAgIH0gLy8gUHJpdmF0ZVxuICAgIDtcblxuICAgIF9wcm90by5fZ2V0Q29uZmlnID0gZnVuY3Rpb24gX2dldENvbmZpZyhjb25maWcpIHtcbiAgICAgIGNvbmZpZyA9IF9leHRlbmRzKHt9LCBEZWZhdWx0LCAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh0aGlzLl9lbGVtZW50KS5kYXRhKCksIHR5cGVvZiBjb25maWcgPT09ICdvYmplY3QnICYmIGNvbmZpZyA/IGNvbmZpZyA6IHt9KTtcbiAgICAgIFV0aWwudHlwZUNoZWNrQ29uZmlnKE5BTUUsIGNvbmZpZywgdGhpcy5jb25zdHJ1Y3Rvci5EZWZhdWx0VHlwZSk7XG4gICAgICByZXR1cm4gY29uZmlnO1xuICAgIH07XG5cbiAgICBfcHJvdG8uX3NldExpc3RlbmVycyA9IGZ1bmN0aW9uIF9zZXRMaXN0ZW5lcnMoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGhpcy5fZWxlbWVudCkub24oRVZFTlRfQ0xJQ0tfRElTTUlTUywgU0VMRUNUT1JfREFUQV9ESVNNSVNTLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpczIuaGlkZSgpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF9wcm90by5fY2xvc2UgPSBmdW5jdGlvbiBfY2xvc2UoKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gICAgICAgIF90aGlzMy5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKENMQVNTX05BTUVfSElERSk7XG5cbiAgICAgICAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0oX3RoaXMzLl9lbGVtZW50KS50cmlnZ2VyKEVWRU5UX0hJRERFTik7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoQ0xBU1NfTkFNRV9TSE9XKTtcblxuICAgICAgaWYgKHRoaXMuX2NvbmZpZy5hbmltYXRpb24pIHtcbiAgICAgICAgdmFyIHRyYW5zaXRpb25EdXJhdGlvbiA9IFV0aWwuZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQodGhpcy5fZWxlbWVudCk7XG4gICAgICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHRoaXMuX2VsZW1lbnQpLm9uZShVdGlsLlRSQU5TSVRJT05fRU5ELCBjb21wbGV0ZSkuZW11bGF0ZVRyYW5zaXRpb25FbmQodHJhbnNpdGlvbkR1cmF0aW9uKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbXBsZXRlKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5fY2xlYXJUaW1lb3V0ID0gZnVuY3Rpb24gX2NsZWFyVGltZW91dCgpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KTtcbiAgICAgIHRoaXMuX3RpbWVvdXQgPSBudWxsO1xuICAgIH0gLy8gU3RhdGljXG4gICAgO1xuXG4gICAgVG9hc3QuX2pRdWVyeUludGVyZmFjZSA9IGZ1bmN0aW9uIF9qUXVlcnlJbnRlcmZhY2UoY29uZmlnKSB7XG4gICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyICRlbGVtZW50ID0gJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0odGhpcyk7XG4gICAgICAgIHZhciBkYXRhID0gJGVsZW1lbnQuZGF0YShEQVRBX0tFWSk7XG5cbiAgICAgICAgdmFyIF9jb25maWcgPSB0eXBlb2YgY29uZmlnID09PSAnb2JqZWN0JyAmJiBjb25maWc7XG5cbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgZGF0YSA9IG5ldyBUb2FzdCh0aGlzLCBfY29uZmlnKTtcbiAgICAgICAgICAkZWxlbWVudC5kYXRhKERBVEFfS0VZLCBkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGlmICh0eXBlb2YgZGF0YVtjb25maWddID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk5vIG1ldGhvZCBuYW1lZCBcXFwiXCIgKyBjb25maWcgKyBcIlxcXCJcIik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGF0YVtjb25maWddKHRoaXMpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX2NyZWF0ZUNsYXNzKFRvYXN0LCBudWxsLCBbe1xuICAgICAga2V5OiBcIlZFUlNJT05cIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gVkVSU0lPTjtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiRGVmYXVsdFR5cGVcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gRGVmYXVsdFR5cGU7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcIkRlZmF1bHRcIixcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gRGVmYXVsdDtcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gVG9hc3Q7XG4gIH0oKTtcbiAgLyoqXG4gICAqIGpRdWVyeVxuICAgKi9cblxuXG4gICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLmZuW05BTUVdID0gVG9hc3QuX2pRdWVyeUludGVyZmFjZTtcbiAgJF9fZGVmYXVsdFtcImRlZmF1bHRcIl0uZm5bTkFNRV0uQ29uc3RydWN0b3IgPSBUb2FzdDtcblxuICAkX19kZWZhdWx0W1wiZGVmYXVsdFwiXS5mbltOQU1FXS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICRfX2RlZmF1bHRbXCJkZWZhdWx0XCJdLmZuW05BTUVdID0gSlFVRVJZX05PX0NPTkZMSUNUO1xuICAgIHJldHVybiBUb2FzdC5falF1ZXJ5SW50ZXJmYWNlO1xuICB9O1xuXG4gIGV4cG9ydHMuQWxlcnQgPSBBbGVydDtcbiAgZXhwb3J0cy5CdXR0b24gPSBCdXR0b247XG4gIGV4cG9ydHMuQ2Fyb3VzZWwgPSBDYXJvdXNlbDtcbiAgZXhwb3J0cy5Db2xsYXBzZSA9IENvbGxhcHNlO1xuICBleHBvcnRzLkRyb3Bkb3duID0gRHJvcGRvd247XG4gIGV4cG9ydHMuTW9kYWwgPSBNb2RhbDtcbiAgZXhwb3J0cy5Qb3BvdmVyID0gUG9wb3ZlcjtcbiAgZXhwb3J0cy5TY3JvbGxzcHkgPSBTY3JvbGxTcHk7XG4gIGV4cG9ydHMuVGFiID0gVGFiO1xuICBleHBvcnRzLlRvYXN0ID0gVG9hc3Q7XG4gIGV4cG9ydHMuVG9vbHRpcCA9IFRvb2x0aXA7XG4gIGV4cG9ydHMuVXRpbCA9IFV0aWw7XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxufSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Ym9vdHN0cmFwLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/bootstrap/dist/js/bootstrap.js\n");

/***/ }),

/***/ "./node_modules/buffer/index.js":
/*!**************************************!*\
  !*** ./node_modules/buffer/index.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n\n\nvar base64 = __webpack_require__(/*! base64-js */ \"./node_modules/base64-js/index.js\")\nvar ieee754 = __webpack_require__(/*! ieee754 */ \"./node_modules/ieee754/index.js\")\nvar isArray = __webpack_require__(/*! isarray */ \"./node_modules/isarray/index.js\")\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = __webpack_require__.g.TYPED_ARRAY_SUPPORT !== undefined\n  ? __webpack_require__.g.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYnVmZmVyL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVZOztBQUVaLGFBQWEsbUJBQU8sQ0FBQyxvREFBVztBQUNoQyxjQUFjLG1CQUFPLENBQUMsZ0RBQVM7QUFDL0IsY0FBYyxtQkFBTyxDQUFDLGdEQUFTOztBQUUvQixjQUFjO0FBQ2Qsa0JBQWtCO0FBQ2xCLHlCQUF5Qjs7QUFFekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIscUJBQU07QUFDbkMsSUFBSSxxQkFBTTtBQUNWOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjs7QUFFbEI7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLG9EQUFvRDtBQUN6RTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFVBQVU7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFlBQVk7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQSx3Q0FBd0MsU0FBUztBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsaUJBQWlCO0FBQ2pDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYyxpQkFBaUI7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFNBQVM7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixTQUFTO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixTQUFTO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELEVBQUU7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsa0JBQWtCLFNBQVM7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLGVBQWU7QUFDeEM7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EseUJBQXlCLFFBQVE7QUFDakM7QUFDQSxzQkFBc0IsZUFBZTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsWUFBWTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsc0JBQXNCLFNBQVM7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLHNCQUFzQixTQUFTO0FBQy9CO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLHNCQUFzQixTQUFTO0FBQy9CO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixrQkFBa0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLG9CQUFvQixjQUFjO0FBQ2xDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx3REFBd0QsT0FBTztBQUMvRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esd0RBQXdELE9BQU87QUFDL0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsbUJBQW1CO0FBQ25CO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esc0JBQXNCLFFBQVE7QUFDOUI7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLGdCQUFnQixTQUFTO0FBQ3pCO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0Esb0JBQW9CLFNBQVM7QUFDN0I7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixpQkFBaUI7QUFDakM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxrQkFBa0IsWUFBWTtBQUM5Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esa0JBQWtCLGdCQUFnQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixnQkFBZ0I7QUFDbEM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLFlBQVk7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYnVmZmVyL2luZGV4LmpzPzkwMWUiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBUaGUgYnVmZmVyIG1vZHVsZSBmcm9tIG5vZGUuanMsIGZvciB0aGUgYnJvd3Nlci5cbiAqXG4gKiBAYXV0aG9yICAgRmVyb3NzIEFib3VraGFkaWplaCA8aHR0cDovL2Zlcm9zcy5vcmc+XG4gKiBAbGljZW5zZSAgTUlUXG4gKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXByb3RvICovXG5cbid1c2Ugc3RyaWN0J1xuXG52YXIgYmFzZTY0ID0gcmVxdWlyZSgnYmFzZTY0LWpzJylcbnZhciBpZWVlNzU0ID0gcmVxdWlyZSgnaWVlZTc1NCcpXG52YXIgaXNBcnJheSA9IHJlcXVpcmUoJ2lzYXJyYXknKVxuXG5leHBvcnRzLkJ1ZmZlciA9IEJ1ZmZlclxuZXhwb3J0cy5TbG93QnVmZmVyID0gU2xvd0J1ZmZlclxuZXhwb3J0cy5JTlNQRUNUX01BWF9CWVRFUyA9IDUwXG5cbi8qKlxuICogSWYgYEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUYDpcbiAqICAgPT09IHRydWUgICAgVXNlIFVpbnQ4QXJyYXkgaW1wbGVtZW50YXRpb24gKGZhc3Rlc3QpXG4gKiAgID09PSBmYWxzZSAgIFVzZSBPYmplY3QgaW1wbGVtZW50YXRpb24gKG1vc3QgY29tcGF0aWJsZSwgZXZlbiBJRTYpXG4gKlxuICogQnJvd3NlcnMgdGhhdCBzdXBwb3J0IHR5cGVkIGFycmF5cyBhcmUgSUUgMTArLCBGaXJlZm94IDQrLCBDaHJvbWUgNyssIFNhZmFyaSA1LjErLFxuICogT3BlcmEgMTEuNissIGlPUyA0LjIrLlxuICpcbiAqIER1ZSB0byB2YXJpb3VzIGJyb3dzZXIgYnVncywgc29tZXRpbWVzIHRoZSBPYmplY3QgaW1wbGVtZW50YXRpb24gd2lsbCBiZSB1c2VkIGV2ZW5cbiAqIHdoZW4gdGhlIGJyb3dzZXIgc3VwcG9ydHMgdHlwZWQgYXJyYXlzLlxuICpcbiAqIE5vdGU6XG4gKlxuICogICAtIEZpcmVmb3ggNC0yOSBsYWNrcyBzdXBwb3J0IGZvciBhZGRpbmcgbmV3IHByb3BlcnRpZXMgdG8gYFVpbnQ4QXJyYXlgIGluc3RhbmNlcyxcbiAqICAgICBTZWU6IGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTY5NTQzOC5cbiAqXG4gKiAgIC0gQ2hyb21lIDktMTAgaXMgbWlzc2luZyB0aGUgYFR5cGVkQXJyYXkucHJvdG90eXBlLnN1YmFycmF5YCBmdW5jdGlvbi5cbiAqXG4gKiAgIC0gSUUxMCBoYXMgYSBicm9rZW4gYFR5cGVkQXJyYXkucHJvdG90eXBlLnN1YmFycmF5YCBmdW5jdGlvbiB3aGljaCByZXR1cm5zIGFycmF5cyBvZlxuICogICAgIGluY29ycmVjdCBsZW5ndGggaW4gc29tZSBzaXR1YXRpb25zLlxuXG4gKiBXZSBkZXRlY3QgdGhlc2UgYnVnZ3kgYnJvd3NlcnMgYW5kIHNldCBgQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRgIHRvIGBmYWxzZWAgc28gdGhleVxuICogZ2V0IHRoZSBPYmplY3QgaW1wbGVtZW50YXRpb24sIHdoaWNoIGlzIHNsb3dlciBidXQgYmVoYXZlcyBjb3JyZWN0bHkuXG4gKi9cbkJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUID0gZ2xvYmFsLlRZUEVEX0FSUkFZX1NVUFBPUlQgIT09IHVuZGVmaW5lZFxuICA/IGdsb2JhbC5UWVBFRF9BUlJBWV9TVVBQT1JUXG4gIDogdHlwZWRBcnJheVN1cHBvcnQoKVxuXG4vKlxuICogRXhwb3J0IGtNYXhMZW5ndGggYWZ0ZXIgdHlwZWQgYXJyYXkgc3VwcG9ydCBpcyBkZXRlcm1pbmVkLlxuICovXG5leHBvcnRzLmtNYXhMZW5ndGggPSBrTWF4TGVuZ3RoKClcblxuZnVuY3Rpb24gdHlwZWRBcnJheVN1cHBvcnQgKCkge1xuICB0cnkge1xuICAgIHZhciBhcnIgPSBuZXcgVWludDhBcnJheSgxKVxuICAgIGFyci5fX3Byb3RvX18gPSB7X19wcm90b19fOiBVaW50OEFycmF5LnByb3RvdHlwZSwgZm9vOiBmdW5jdGlvbiAoKSB7IHJldHVybiA0MiB9fVxuICAgIHJldHVybiBhcnIuZm9vKCkgPT09IDQyICYmIC8vIHR5cGVkIGFycmF5IGluc3RhbmNlcyBjYW4gYmUgYXVnbWVudGVkXG4gICAgICAgIHR5cGVvZiBhcnIuc3ViYXJyYXkgPT09ICdmdW5jdGlvbicgJiYgLy8gY2hyb21lIDktMTAgbGFjayBgc3ViYXJyYXlgXG4gICAgICAgIGFyci5zdWJhcnJheSgxLCAxKS5ieXRlTGVuZ3RoID09PSAwIC8vIGllMTAgaGFzIGJyb2tlbiBgc3ViYXJyYXlgXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5mdW5jdGlvbiBrTWF4TGVuZ3RoICgpIHtcbiAgcmV0dXJuIEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUXG4gICAgPyAweDdmZmZmZmZmXG4gICAgOiAweDNmZmZmZmZmXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUJ1ZmZlciAodGhhdCwgbGVuZ3RoKSB7XG4gIGlmIChrTWF4TGVuZ3RoKCkgPCBsZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW52YWxpZCB0eXBlZCBhcnJheSBsZW5ndGgnKVxuICB9XG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIC8vIFJldHVybiBhbiBhdWdtZW50ZWQgYFVpbnQ4QXJyYXlgIGluc3RhbmNlLCBmb3IgYmVzdCBwZXJmb3JtYW5jZVxuICAgIHRoYXQgPSBuZXcgVWludDhBcnJheShsZW5ndGgpXG4gICAgdGhhdC5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG4gIH0gZWxzZSB7XG4gICAgLy8gRmFsbGJhY2s6IFJldHVybiBhbiBvYmplY3QgaW5zdGFuY2Ugb2YgdGhlIEJ1ZmZlciBjbGFzc1xuICAgIGlmICh0aGF0ID09PSBudWxsKSB7XG4gICAgICB0aGF0ID0gbmV3IEJ1ZmZlcihsZW5ndGgpXG4gICAgfVxuICAgIHRoYXQubGVuZ3RoID0gbGVuZ3RoXG4gIH1cblxuICByZXR1cm4gdGhhdFxufVxuXG4vKipcbiAqIFRoZSBCdWZmZXIgY29uc3RydWN0b3IgcmV0dXJucyBpbnN0YW5jZXMgb2YgYFVpbnQ4QXJyYXlgIHRoYXQgaGF2ZSB0aGVpclxuICogcHJvdG90eXBlIGNoYW5nZWQgdG8gYEJ1ZmZlci5wcm90b3R5cGVgLiBGdXJ0aGVybW9yZSwgYEJ1ZmZlcmAgaXMgYSBzdWJjbGFzcyBvZlxuICogYFVpbnQ4QXJyYXlgLCBzbyB0aGUgcmV0dXJuZWQgaW5zdGFuY2VzIHdpbGwgaGF2ZSBhbGwgdGhlIG5vZGUgYEJ1ZmZlcmAgbWV0aG9kc1xuICogYW5kIHRoZSBgVWludDhBcnJheWAgbWV0aG9kcy4gU3F1YXJlIGJyYWNrZXQgbm90YXRpb24gd29ya3MgYXMgZXhwZWN0ZWQgLS0gaXRcbiAqIHJldHVybnMgYSBzaW5nbGUgb2N0ZXQuXG4gKlxuICogVGhlIGBVaW50OEFycmF5YCBwcm90b3R5cGUgcmVtYWlucyB1bm1vZGlmaWVkLlxuICovXG5cbmZ1bmN0aW9uIEJ1ZmZlciAoYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCAmJiAhKHRoaXMgaW5zdGFuY2VvZiBCdWZmZXIpKSB7XG4gICAgcmV0dXJuIG5ldyBCdWZmZXIoYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG4gIH1cblxuICAvLyBDb21tb24gY2FzZS5cbiAgaWYgKHR5cGVvZiBhcmcgPT09ICdudW1iZXInKSB7XG4gICAgaWYgKHR5cGVvZiBlbmNvZGluZ09yT2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnSWYgZW5jb2RpbmcgaXMgc3BlY2lmaWVkIHRoZW4gdGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmcnXG4gICAgICApXG4gICAgfVxuICAgIHJldHVybiBhbGxvY1Vuc2FmZSh0aGlzLCBhcmcpXG4gIH1cbiAgcmV0dXJuIGZyb20odGhpcywgYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG59XG5cbkJ1ZmZlci5wb29sU2l6ZSA9IDgxOTIgLy8gbm90IHVzZWQgYnkgdGhpcyBpbXBsZW1lbnRhdGlvblxuXG4vLyBUT0RPOiBMZWdhY3ksIG5vdCBuZWVkZWQgYW55bW9yZS4gUmVtb3ZlIGluIG5leHQgbWFqb3IgdmVyc2lvbi5cbkJ1ZmZlci5fYXVnbWVudCA9IGZ1bmN0aW9uIChhcnIpIHtcbiAgYXJyLl9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgcmV0dXJuIGFyclxufVxuXG5mdW5jdGlvbiBmcm9tICh0aGF0LCB2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IG11c3Qgbm90IGJlIGEgbnVtYmVyJylcbiAgfVxuXG4gIGlmICh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmIHZhbHVlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICByZXR1cm4gZnJvbUFycmF5QnVmZmVyKHRoYXQsIHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG4gIH1cblxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBmcm9tU3RyaW5nKHRoYXQsIHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0KVxuICB9XG5cbiAgcmV0dXJuIGZyb21PYmplY3QodGhhdCwgdmFsdWUpXG59XG5cbi8qKlxuICogRnVuY3Rpb25hbGx5IGVxdWl2YWxlbnQgdG8gQnVmZmVyKGFyZywgZW5jb2RpbmcpIGJ1dCB0aHJvd3MgYSBUeXBlRXJyb3JcbiAqIGlmIHZhbHVlIGlzIGEgbnVtYmVyLlxuICogQnVmZmVyLmZyb20oc3RyWywgZW5jb2RpbmddKVxuICogQnVmZmVyLmZyb20oYXJyYXkpXG4gKiBCdWZmZXIuZnJvbShidWZmZXIpXG4gKiBCdWZmZXIuZnJvbShhcnJheUJ1ZmZlclssIGJ5dGVPZmZzZXRbLCBsZW5ndGhdXSlcbiAqKi9cbkJ1ZmZlci5mcm9tID0gZnVuY3Rpb24gKHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGZyb20obnVsbCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbn1cblxuaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gIEJ1ZmZlci5wcm90b3R5cGUuX19wcm90b19fID0gVWludDhBcnJheS5wcm90b3R5cGVcbiAgQnVmZmVyLl9fcHJvdG9fXyA9IFVpbnQ4QXJyYXlcbiAgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC5zcGVjaWVzICYmXG4gICAgICBCdWZmZXJbU3ltYm9sLnNwZWNpZXNdID09PSBCdWZmZXIpIHtcbiAgICAvLyBGaXggc3ViYXJyYXkoKSBpbiBFUzIwMTYuIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2Zlcm9zcy9idWZmZXIvcHVsbC85N1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdWZmZXIsIFN5bWJvbC5zcGVjaWVzLCB7XG4gICAgICB2YWx1ZTogbnVsbCxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pXG4gIH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0U2l6ZSAoc2l6ZSkge1xuICBpZiAodHlwZW9mIHNpemUgIT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJzaXplXCIgYXJndW1lbnQgbXVzdCBiZSBhIG51bWJlcicpXG4gIH0gZWxzZSBpZiAoc2l6ZSA8IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJzaXplXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgbmVnYXRpdmUnKVxuICB9XG59XG5cbmZ1bmN0aW9uIGFsbG9jICh0aGF0LCBzaXplLCBmaWxsLCBlbmNvZGluZykge1xuICBhc3NlcnRTaXplKHNpemUpXG4gIGlmIChzaXplIDw9IDApIHtcbiAgICByZXR1cm4gY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUpXG4gIH1cbiAgaWYgKGZpbGwgIT09IHVuZGVmaW5lZCkge1xuICAgIC8vIE9ubHkgcGF5IGF0dGVudGlvbiB0byBlbmNvZGluZyBpZiBpdCdzIGEgc3RyaW5nLiBUaGlzXG4gICAgLy8gcHJldmVudHMgYWNjaWRlbnRhbGx5IHNlbmRpbmcgaW4gYSBudW1iZXIgdGhhdCB3b3VsZFxuICAgIC8vIGJlIGludGVycHJldHRlZCBhcyBhIHN0YXJ0IG9mZnNldC5cbiAgICByZXR1cm4gdHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJ1xuICAgICAgPyBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSkuZmlsbChmaWxsLCBlbmNvZGluZylcbiAgICAgIDogY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUpLmZpbGwoZmlsbClcbiAgfVxuICByZXR1cm4gY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUpXG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBmaWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICogYWxsb2Moc2l6ZVssIGZpbGxbLCBlbmNvZGluZ11dKVxuICoqL1xuQnVmZmVyLmFsbG9jID0gZnVuY3Rpb24gKHNpemUsIGZpbGwsIGVuY29kaW5nKSB7XG4gIHJldHVybiBhbGxvYyhudWxsLCBzaXplLCBmaWxsLCBlbmNvZGluZylcbn1cblxuZnVuY3Rpb24gYWxsb2NVbnNhZmUgKHRoYXQsIHNpemUpIHtcbiAgYXNzZXJ0U2l6ZShzaXplKVxuICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUgPCAwID8gMCA6IGNoZWNrZWQoc2l6ZSkgfCAwKVxuICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyArK2kpIHtcbiAgICAgIHRoYXRbaV0gPSAwXG4gICAgfVxuICB9XG4gIHJldHVybiB0aGF0XG59XG5cbi8qKlxuICogRXF1aXZhbGVudCB0byBCdWZmZXIobnVtKSwgYnkgZGVmYXVsdCBjcmVhdGVzIGEgbm9uLXplcm8tZmlsbGVkIEJ1ZmZlciBpbnN0YW5jZS5cbiAqICovXG5CdWZmZXIuYWxsb2NVbnNhZmUgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICByZXR1cm4gYWxsb2NVbnNhZmUobnVsbCwgc2l6ZSlcbn1cbi8qKlxuICogRXF1aXZhbGVudCB0byBTbG93QnVmZmVyKG51bSksIGJ5IGRlZmF1bHQgY3JlYXRlcyBhIG5vbi16ZXJvLWZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG4gKi9cbkJ1ZmZlci5hbGxvY1Vuc2FmZVNsb3cgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICByZXR1cm4gYWxsb2NVbnNhZmUobnVsbCwgc2l6ZSlcbn1cblxuZnVuY3Rpb24gZnJvbVN0cmluZyAodGhhdCwgc3RyaW5nLCBlbmNvZGluZykge1xuICBpZiAodHlwZW9mIGVuY29kaW5nICE9PSAnc3RyaW5nJyB8fCBlbmNvZGluZyA9PT0gJycpIHtcbiAgICBlbmNvZGluZyA9ICd1dGY4J1xuICB9XG5cbiAgaWYgKCFCdWZmZXIuaXNFbmNvZGluZyhlbmNvZGluZykpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImVuY29kaW5nXCIgbXVzdCBiZSBhIHZhbGlkIHN0cmluZyBlbmNvZGluZycpXG4gIH1cblxuICB2YXIgbGVuZ3RoID0gYnl0ZUxlbmd0aChzdHJpbmcsIGVuY29kaW5nKSB8IDBcbiAgdGhhdCA9IGNyZWF0ZUJ1ZmZlcih0aGF0LCBsZW5ndGgpXG5cbiAgdmFyIGFjdHVhbCA9IHRoYXQud3JpdGUoc3RyaW5nLCBlbmNvZGluZylcblxuICBpZiAoYWN0dWFsICE9PSBsZW5ndGgpIHtcbiAgICAvLyBXcml0aW5nIGEgaGV4IHN0cmluZywgZm9yIGV4YW1wbGUsIHRoYXQgY29udGFpbnMgaW52YWxpZCBjaGFyYWN0ZXJzIHdpbGxcbiAgICAvLyBjYXVzZSBldmVyeXRoaW5nIGFmdGVyIHRoZSBmaXJzdCBpbnZhbGlkIGNoYXJhY3RlciB0byBiZSBpZ25vcmVkLiAoZS5nLlxuICAgIC8vICdhYnh4Y2QnIHdpbGwgYmUgdHJlYXRlZCBhcyAnYWInKVxuICAgIHRoYXQgPSB0aGF0LnNsaWNlKDAsIGFjdHVhbClcbiAgfVxuXG4gIHJldHVybiB0aGF0XG59XG5cbmZ1bmN0aW9uIGZyb21BcnJheUxpa2UgKHRoYXQsIGFycmF5KSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGggPCAwID8gMCA6IGNoZWNrZWQoYXJyYXkubGVuZ3RoKSB8IDBcbiAgdGhhdCA9IGNyZWF0ZUJ1ZmZlcih0aGF0LCBsZW5ndGgpXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICB0aGF0W2ldID0gYXJyYXlbaV0gJiAyNTVcbiAgfVxuICByZXR1cm4gdGhhdFxufVxuXG5mdW5jdGlvbiBmcm9tQXJyYXlCdWZmZXIgKHRoYXQsIGFycmF5LCBieXRlT2Zmc2V0LCBsZW5ndGgpIHtcbiAgYXJyYXkuYnl0ZUxlbmd0aCAvLyB0aGlzIHRocm93cyBpZiBgYXJyYXlgIGlzIG5vdCBhIHZhbGlkIEFycmF5QnVmZmVyXG5cbiAgaWYgKGJ5dGVPZmZzZXQgPCAwIHx8IGFycmF5LmJ5dGVMZW5ndGggPCBieXRlT2Zmc2V0KSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1xcJ29mZnNldFxcJyBpcyBvdXQgb2YgYm91bmRzJylcbiAgfVxuXG4gIGlmIChhcnJheS5ieXRlTGVuZ3RoIDwgYnl0ZU9mZnNldCArIChsZW5ndGggfHwgMCkpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXFwnbGVuZ3RoXFwnIGlzIG91dCBvZiBib3VuZHMnKVxuICB9XG5cbiAgaWYgKGJ5dGVPZmZzZXQgPT09IHVuZGVmaW5lZCAmJiBsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXkpXG4gIH0gZWxzZSBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBhcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5LCBieXRlT2Zmc2V0KVxuICB9IGVsc2Uge1xuICAgIGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXksIGJ5dGVPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIC8vIFJldHVybiBhbiBhdWdtZW50ZWQgYFVpbnQ4QXJyYXlgIGluc3RhbmNlLCBmb3IgYmVzdCBwZXJmb3JtYW5jZVxuICAgIHRoYXQgPSBhcnJheVxuICAgIHRoYXQuX19wcm90b19fID0gQnVmZmVyLnByb3RvdHlwZVxuICB9IGVsc2Uge1xuICAgIC8vIEZhbGxiYWNrOiBSZXR1cm4gYW4gb2JqZWN0IGluc3RhbmNlIG9mIHRoZSBCdWZmZXIgY2xhc3NcbiAgICB0aGF0ID0gZnJvbUFycmF5TGlrZSh0aGF0LCBhcnJheSlcbiAgfVxuICByZXR1cm4gdGhhdFxufVxuXG5mdW5jdGlvbiBmcm9tT2JqZWN0ICh0aGF0LCBvYmopIHtcbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcihvYmopKSB7XG4gICAgdmFyIGxlbiA9IGNoZWNrZWQob2JqLmxlbmd0aCkgfCAwXG4gICAgdGhhdCA9IGNyZWF0ZUJ1ZmZlcih0aGF0LCBsZW4pXG5cbiAgICBpZiAodGhhdC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB0aGF0XG4gICAgfVxuXG4gICAgb2JqLmNvcHkodGhhdCwgMCwgMCwgbGVuKVxuICAgIHJldHVybiB0aGF0XG4gIH1cblxuICBpZiAob2JqKSB7XG4gICAgaWYgKCh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIG9iai5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikgfHwgJ2xlbmd0aCcgaW4gb2JqKSB7XG4gICAgICBpZiAodHlwZW9mIG9iai5sZW5ndGggIT09ICdudW1iZXInIHx8IGlzbmFuKG9iai5sZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVCdWZmZXIodGhhdCwgMClcbiAgICAgIH1cbiAgICAgIHJldHVybiBmcm9tQXJyYXlMaWtlKHRoYXQsIG9iailcbiAgICB9XG5cbiAgICBpZiAob2JqLnR5cGUgPT09ICdCdWZmZXInICYmIGlzQXJyYXkob2JqLmRhdGEpKSB7XG4gICAgICByZXR1cm4gZnJvbUFycmF5TGlrZSh0aGF0LCBvYmouZGF0YSlcbiAgICB9XG4gIH1cblxuICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgc3RyaW5nLCBCdWZmZXIsIEFycmF5QnVmZmVyLCBBcnJheSwgb3IgYXJyYXktbGlrZSBvYmplY3QuJylcbn1cblxuZnVuY3Rpb24gY2hlY2tlZCAobGVuZ3RoKSB7XG4gIC8vIE5vdGU6IGNhbm5vdCB1c2UgYGxlbmd0aCA8IGtNYXhMZW5ndGgoKWAgaGVyZSBiZWNhdXNlIHRoYXQgZmFpbHMgd2hlblxuICAvLyBsZW5ndGggaXMgTmFOICh3aGljaCBpcyBvdGhlcndpc2UgY29lcmNlZCB0byB6ZXJvLilcbiAgaWYgKGxlbmd0aCA+PSBrTWF4TGVuZ3RoKCkpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQXR0ZW1wdCB0byBhbGxvY2F0ZSBCdWZmZXIgbGFyZ2VyIHRoYW4gbWF4aW11bSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAnc2l6ZTogMHgnICsga01heExlbmd0aCgpLnRvU3RyaW5nKDE2KSArICcgYnl0ZXMnKVxuICB9XG4gIHJldHVybiBsZW5ndGggfCAwXG59XG5cbmZ1bmN0aW9uIFNsb3dCdWZmZXIgKGxlbmd0aCkge1xuICBpZiAoK2xlbmd0aCAhPSBsZW5ndGgpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBlcWVxZXFcbiAgICBsZW5ndGggPSAwXG4gIH1cbiAgcmV0dXJuIEJ1ZmZlci5hbGxvYygrbGVuZ3RoKVxufVxuXG5CdWZmZXIuaXNCdWZmZXIgPSBmdW5jdGlvbiBpc0J1ZmZlciAoYikge1xuICByZXR1cm4gISEoYiAhPSBudWxsICYmIGIuX2lzQnVmZmVyKVxufVxuXG5CdWZmZXIuY29tcGFyZSA9IGZ1bmN0aW9uIGNvbXBhcmUgKGEsIGIpIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYSkgfHwgIUJ1ZmZlci5pc0J1ZmZlcihiKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50cyBtdXN0IGJlIEJ1ZmZlcnMnKVxuICB9XG5cbiAgaWYgKGEgPT09IGIpIHJldHVybiAwXG5cbiAgdmFyIHggPSBhLmxlbmd0aFxuICB2YXIgeSA9IGIubGVuZ3RoXG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IE1hdGgubWluKHgsIHkpOyBpIDwgbGVuOyArK2kpIHtcbiAgICBpZiAoYVtpXSAhPT0gYltpXSkge1xuICAgICAgeCA9IGFbaV1cbiAgICAgIHkgPSBiW2ldXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIGlmICh4IDwgeSkgcmV0dXJuIC0xXG4gIGlmICh5IDwgeCkgcmV0dXJuIDFcbiAgcmV0dXJuIDBcbn1cblxuQnVmZmVyLmlzRW5jb2RpbmcgPSBmdW5jdGlvbiBpc0VuY29kaW5nIChlbmNvZGluZykge1xuICBzd2l0Y2ggKFN0cmluZyhlbmNvZGluZykudG9Mb3dlckNhc2UoKSkge1xuICAgIGNhc2UgJ2hleCc6XG4gICAgY2FzZSAndXRmOCc6XG4gICAgY2FzZSAndXRmLTgnOlxuICAgIGNhc2UgJ2FzY2lpJzpcbiAgICBjYXNlICdsYXRpbjEnOlxuICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgY2FzZSAnYmFzZTY0JzpcbiAgICBjYXNlICd1Y3MyJzpcbiAgICBjYXNlICd1Y3MtMic6XG4gICAgY2FzZSAndXRmMTZsZSc6XG4gICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgcmV0dXJuIHRydWVcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuQnVmZmVyLmNvbmNhdCA9IGZ1bmN0aW9uIGNvbmNhdCAobGlzdCwgbGVuZ3RoKSB7XG4gIGlmICghaXNBcnJheShsaXN0KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpXG4gIH1cblxuICBpZiAobGlzdC5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gQnVmZmVyLmFsbG9jKDApXG4gIH1cblxuICB2YXIgaVxuICBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBsZW5ndGggPSAwXG4gICAgZm9yIChpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyArK2kpIHtcbiAgICAgIGxlbmd0aCArPSBsaXN0W2ldLmxlbmd0aFxuICAgIH1cbiAgfVxuXG4gIHZhciBidWZmZXIgPSBCdWZmZXIuYWxsb2NVbnNhZmUobGVuZ3RoKVxuICB2YXIgcG9zID0gMFxuICBmb3IgKGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7ICsraSkge1xuICAgIHZhciBidWYgPSBsaXN0W2ldXG4gICAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYnVmKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJylcbiAgICB9XG4gICAgYnVmLmNvcHkoYnVmZmVyLCBwb3MpXG4gICAgcG9zICs9IGJ1Zi5sZW5ndGhcbiAgfVxuICByZXR1cm4gYnVmZmVyXG59XG5cbmZ1bmN0aW9uIGJ5dGVMZW5ndGggKHN0cmluZywgZW5jb2RpbmcpIHtcbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcihzdHJpbmcpKSB7XG4gICAgcmV0dXJuIHN0cmluZy5sZW5ndGhcbiAgfVxuICBpZiAodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgQXJyYXlCdWZmZXIuaXNWaWV3ID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAoQXJyYXlCdWZmZXIuaXNWaWV3KHN0cmluZykgfHwgc3RyaW5nIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpKSB7XG4gICAgcmV0dXJuIHN0cmluZy5ieXRlTGVuZ3RoXG4gIH1cbiAgaWYgKHR5cGVvZiBzdHJpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgc3RyaW5nID0gJycgKyBzdHJpbmdcbiAgfVxuXG4gIHZhciBsZW4gPSBzdHJpbmcubGVuZ3RoXG4gIGlmIChsZW4gPT09IDApIHJldHVybiAwXG5cbiAgLy8gVXNlIGEgZm9yIGxvb3AgdG8gYXZvaWQgcmVjdXJzaW9uXG4gIHZhciBsb3dlcmVkQ2FzZSA9IGZhbHNlXG4gIGZvciAoOzspIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdhc2NpaSc6XG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGxlblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICBjYXNlIHVuZGVmaW5lZDpcbiAgICAgICAgcmV0dXJuIHV0ZjhUb0J5dGVzKHN0cmluZykubGVuZ3RoXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gbGVuICogMlxuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGxlbiA+Pj4gMVxuICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgICAgcmV0dXJuIGJhc2U2NFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGhcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgcmV0dXJuIHV0ZjhUb0J5dGVzKHN0cmluZykubGVuZ3RoIC8vIGFzc3VtZSB1dGY4XG4gICAgICAgIGVuY29kaW5nID0gKCcnICsgZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgbG93ZXJlZENhc2UgPSB0cnVlXG4gICAgfVxuICB9XG59XG5CdWZmZXIuYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGhcblxuZnVuY3Rpb24gc2xvd1RvU3RyaW5nIChlbmNvZGluZywgc3RhcnQsIGVuZCkge1xuICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuXG4gIC8vIE5vIG5lZWQgdG8gdmVyaWZ5IHRoYXQgXCJ0aGlzLmxlbmd0aCA8PSBNQVhfVUlOVDMyXCIgc2luY2UgaXQncyBhIHJlYWQtb25seVxuICAvLyBwcm9wZXJ0eSBvZiBhIHR5cGVkIGFycmF5LlxuXG4gIC8vIFRoaXMgYmVoYXZlcyBuZWl0aGVyIGxpa2UgU3RyaW5nIG5vciBVaW50OEFycmF5IGluIHRoYXQgd2Ugc2V0IHN0YXJ0L2VuZFxuICAvLyB0byB0aGVpciB1cHBlci9sb3dlciBib3VuZHMgaWYgdGhlIHZhbHVlIHBhc3NlZCBpcyBvdXQgb2YgcmFuZ2UuXG4gIC8vIHVuZGVmaW5lZCBpcyBoYW5kbGVkIHNwZWNpYWxseSBhcyBwZXIgRUNNQS0yNjIgNnRoIEVkaXRpb24sXG4gIC8vIFNlY3Rpb24gMTMuMy4zLjcgUnVudGltZSBTZW1hbnRpY3M6IEtleWVkQmluZGluZ0luaXRpYWxpemF0aW9uLlxuICBpZiAoc3RhcnQgPT09IHVuZGVmaW5lZCB8fCBzdGFydCA8IDApIHtcbiAgICBzdGFydCA9IDBcbiAgfVxuICAvLyBSZXR1cm4gZWFybHkgaWYgc3RhcnQgPiB0aGlzLmxlbmd0aC4gRG9uZSBoZXJlIHRvIHByZXZlbnQgcG90ZW50aWFsIHVpbnQzMlxuICAvLyBjb2VyY2lvbiBmYWlsIGJlbG93LlxuICBpZiAoc3RhcnQgPiB0aGlzLmxlbmd0aCkge1xuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkIHx8IGVuZCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgZW5kID0gdGhpcy5sZW5ndGhcbiAgfVxuXG4gIGlmIChlbmQgPD0gMCkge1xuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgLy8gRm9yY2UgY29lcnNpb24gdG8gdWludDMyLiBUaGlzIHdpbGwgYWxzbyBjb2VyY2UgZmFsc2V5L05hTiB2YWx1ZXMgdG8gMC5cbiAgZW5kID4+Pj0gMFxuICBzdGFydCA+Pj49IDBcblxuICBpZiAoZW5kIDw9IHN0YXJ0KSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICBpZiAoIWVuY29kaW5nKSBlbmNvZGluZyA9ICd1dGY4J1xuXG4gIHdoaWxlICh0cnVlKSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGhleFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgICByZXR1cm4gdXRmOFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgICAgcmV0dXJuIGFzY2lpU2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBsYXRpbjFTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICByZXR1cm4gYmFzZTY0U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIHV0ZjE2bGVTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICAgICAgZW5jb2RpbmcgPSAoZW5jb2RpbmcgKyAnJykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cblxuLy8gVGhlIHByb3BlcnR5IGlzIHVzZWQgYnkgYEJ1ZmZlci5pc0J1ZmZlcmAgYW5kIGBpcy1idWZmZXJgIChpbiBTYWZhcmkgNS03KSB0byBkZXRlY3Rcbi8vIEJ1ZmZlciBpbnN0YW5jZXMuXG5CdWZmZXIucHJvdG90eXBlLl9pc0J1ZmZlciA9IHRydWVcblxuZnVuY3Rpb24gc3dhcCAoYiwgbiwgbSkge1xuICB2YXIgaSA9IGJbbl1cbiAgYltuXSA9IGJbbV1cbiAgYlttXSA9IGlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zd2FwMTYgPSBmdW5jdGlvbiBzd2FwMTYgKCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbiAlIDIgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDE2LWJpdHMnKVxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDIpIHtcbiAgICBzd2FwKHRoaXMsIGksIGkgKyAxKVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDMyID0gZnVuY3Rpb24gc3dhcDMyICgpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW4gJSA0ICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAzMi1iaXRzJylcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgc3dhcCh0aGlzLCBpLCBpICsgMylcbiAgICBzd2FwKHRoaXMsIGkgKyAxLCBpICsgMilcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnN3YXA2NCA9IGZ1bmN0aW9uIHN3YXA2NCAoKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBpZiAobGVuICUgOCAhPT0gMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNjQtYml0cycpXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gOCkge1xuICAgIHN3YXAodGhpcywgaSwgaSArIDcpXG4gICAgc3dhcCh0aGlzLCBpICsgMSwgaSArIDYpXG4gICAgc3dhcCh0aGlzLCBpICsgMiwgaSArIDUpXG4gICAgc3dhcCh0aGlzLCBpICsgMywgaSArIDQpXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgdmFyIGxlbmd0aCA9IHRoaXMubGVuZ3RoIHwgMFxuICBpZiAobGVuZ3RoID09PSAwKSByZXR1cm4gJydcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHJldHVybiB1dGY4U2xpY2UodGhpcywgMCwgbGVuZ3RoKVxuICByZXR1cm4gc2xvd1RvU3RyaW5nLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiBlcXVhbHMgKGIpIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXInKVxuICBpZiAodGhpcyA9PT0gYikgcmV0dXJuIHRydWVcbiAgcmV0dXJuIEJ1ZmZlci5jb21wYXJlKHRoaXMsIGIpID09PSAwXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5zcGVjdCA9IGZ1bmN0aW9uIGluc3BlY3QgKCkge1xuICB2YXIgc3RyID0gJydcbiAgdmFyIG1heCA9IGV4cG9ydHMuSU5TUEVDVF9NQVhfQllURVNcbiAgaWYgKHRoaXMubGVuZ3RoID4gMCkge1xuICAgIHN0ciA9IHRoaXMudG9TdHJpbmcoJ2hleCcsIDAsIG1heCkubWF0Y2goLy57Mn0vZykuam9pbignICcpXG4gICAgaWYgKHRoaXMubGVuZ3RoID4gbWF4KSBzdHIgKz0gJyAuLi4gJ1xuICB9XG4gIHJldHVybiAnPEJ1ZmZlciAnICsgc3RyICsgJz4nXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuY29tcGFyZSA9IGZ1bmN0aW9uIGNvbXBhcmUgKHRhcmdldCwgc3RhcnQsIGVuZCwgdGhpc1N0YXJ0LCB0aGlzRW5kKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKHRhcmdldCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyJylcbiAgfVxuXG4gIGlmIChzdGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgc3RhcnQgPSAwXG4gIH1cbiAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZW5kID0gdGFyZ2V0ID8gdGFyZ2V0Lmxlbmd0aCA6IDBcbiAgfVxuICBpZiAodGhpc1N0YXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICB0aGlzU3RhcnQgPSAwXG4gIH1cbiAgaWYgKHRoaXNFbmQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXNFbmQgPSB0aGlzLmxlbmd0aFxuICB9XG5cbiAgaWYgKHN0YXJ0IDwgMCB8fCBlbmQgPiB0YXJnZXQubGVuZ3RoIHx8IHRoaXNTdGFydCA8IDAgfHwgdGhpc0VuZCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ291dCBvZiByYW5nZSBpbmRleCcpXG4gIH1cblxuICBpZiAodGhpc1N0YXJ0ID49IHRoaXNFbmQgJiYgc3RhcnQgPj0gZW5kKSB7XG4gICAgcmV0dXJuIDBcbiAgfVxuICBpZiAodGhpc1N0YXJ0ID49IHRoaXNFbmQpIHtcbiAgICByZXR1cm4gLTFcbiAgfVxuICBpZiAoc3RhcnQgPj0gZW5kKSB7XG4gICAgcmV0dXJuIDFcbiAgfVxuXG4gIHN0YXJ0ID4+Pj0gMFxuICBlbmQgPj4+PSAwXG4gIHRoaXNTdGFydCA+Pj49IDBcbiAgdGhpc0VuZCA+Pj49IDBcblxuICBpZiAodGhpcyA9PT0gdGFyZ2V0KSByZXR1cm4gMFxuXG4gIHZhciB4ID0gdGhpc0VuZCAtIHRoaXNTdGFydFxuICB2YXIgeSA9IGVuZCAtIHN0YXJ0XG4gIHZhciBsZW4gPSBNYXRoLm1pbih4LCB5KVxuXG4gIHZhciB0aGlzQ29weSA9IHRoaXMuc2xpY2UodGhpc1N0YXJ0LCB0aGlzRW5kKVxuICB2YXIgdGFyZ2V0Q29weSA9IHRhcmdldC5zbGljZShzdGFydCwgZW5kKVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICBpZiAodGhpc0NvcHlbaV0gIT09IHRhcmdldENvcHlbaV0pIHtcbiAgICAgIHggPSB0aGlzQ29weVtpXVxuICAgICAgeSA9IHRhcmdldENvcHlbaV1cbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgaWYgKHggPCB5KSByZXR1cm4gLTFcbiAgaWYgKHkgPCB4KSByZXR1cm4gMVxuICByZXR1cm4gMFxufVxuXG4vLyBGaW5kcyBlaXRoZXIgdGhlIGZpcnN0IGluZGV4IG9mIGB2YWxgIGluIGBidWZmZXJgIGF0IG9mZnNldCA+PSBgYnl0ZU9mZnNldGAsXG4vLyBPUiB0aGUgbGFzdCBpbmRleCBvZiBgdmFsYCBpbiBgYnVmZmVyYCBhdCBvZmZzZXQgPD0gYGJ5dGVPZmZzZXRgLlxuLy9cbi8vIEFyZ3VtZW50czpcbi8vIC0gYnVmZmVyIC0gYSBCdWZmZXIgdG8gc2VhcmNoXG4vLyAtIHZhbCAtIGEgc3RyaW5nLCBCdWZmZXIsIG9yIG51bWJlclxuLy8gLSBieXRlT2Zmc2V0IC0gYW4gaW5kZXggaW50byBgYnVmZmVyYDsgd2lsbCBiZSBjbGFtcGVkIHRvIGFuIGludDMyXG4vLyAtIGVuY29kaW5nIC0gYW4gb3B0aW9uYWwgZW5jb2RpbmcsIHJlbGV2YW50IGlzIHZhbCBpcyBhIHN0cmluZ1xuLy8gLSBkaXIgLSB0cnVlIGZvciBpbmRleE9mLCBmYWxzZSBmb3IgbGFzdEluZGV4T2ZcbmZ1bmN0aW9uIGJpZGlyZWN0aW9uYWxJbmRleE9mIChidWZmZXIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcikge1xuICAvLyBFbXB0eSBidWZmZXIgbWVhbnMgbm8gbWF0Y2hcbiAgaWYgKGJ1ZmZlci5sZW5ndGggPT09IDApIHJldHVybiAtMVxuXG4gIC8vIE5vcm1hbGl6ZSBieXRlT2Zmc2V0XG4gIGlmICh0eXBlb2YgYnl0ZU9mZnNldCA9PT0gJ3N0cmluZycpIHtcbiAgICBlbmNvZGluZyA9IGJ5dGVPZmZzZXRcbiAgICBieXRlT2Zmc2V0ID0gMFxuICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPiAweDdmZmZmZmZmKSB7XG4gICAgYnl0ZU9mZnNldCA9IDB4N2ZmZmZmZmZcbiAgfSBlbHNlIGlmIChieXRlT2Zmc2V0IDwgLTB4ODAwMDAwMDApIHtcbiAgICBieXRlT2Zmc2V0ID0gLTB4ODAwMDAwMDBcbiAgfVxuICBieXRlT2Zmc2V0ID0gK2J5dGVPZmZzZXQgIC8vIENvZXJjZSB0byBOdW1iZXIuXG4gIGlmIChpc05hTihieXRlT2Zmc2V0KSkge1xuICAgIC8vIGJ5dGVPZmZzZXQ6IGl0IGl0J3MgdW5kZWZpbmVkLCBudWxsLCBOYU4sIFwiZm9vXCIsIGV0Yywgc2VhcmNoIHdob2xlIGJ1ZmZlclxuICAgIGJ5dGVPZmZzZXQgPSBkaXIgPyAwIDogKGJ1ZmZlci5sZW5ndGggLSAxKVxuICB9XG5cbiAgLy8gTm9ybWFsaXplIGJ5dGVPZmZzZXQ6IG5lZ2F0aXZlIG9mZnNldHMgc3RhcnQgZnJvbSB0aGUgZW5kIG9mIHRoZSBidWZmZXJcbiAgaWYgKGJ5dGVPZmZzZXQgPCAwKSBieXRlT2Zmc2V0ID0gYnVmZmVyLmxlbmd0aCArIGJ5dGVPZmZzZXRcbiAgaWYgKGJ5dGVPZmZzZXQgPj0gYnVmZmVyLmxlbmd0aCkge1xuICAgIGlmIChkaXIpIHJldHVybiAtMVxuICAgIGVsc2UgYnl0ZU9mZnNldCA9IGJ1ZmZlci5sZW5ndGggLSAxXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA8IDApIHtcbiAgICBpZiAoZGlyKSBieXRlT2Zmc2V0ID0gMFxuICAgIGVsc2UgcmV0dXJuIC0xXG4gIH1cblxuICAvLyBOb3JtYWxpemUgdmFsXG4gIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgIHZhbCA9IEJ1ZmZlci5mcm9tKHZhbCwgZW5jb2RpbmcpXG4gIH1cblxuICAvLyBGaW5hbGx5LCBzZWFyY2ggZWl0aGVyIGluZGV4T2YgKGlmIGRpciBpcyB0cnVlKSBvciBsYXN0SW5kZXhPZlxuICBpZiAoQnVmZmVyLmlzQnVmZmVyKHZhbCkpIHtcbiAgICAvLyBTcGVjaWFsIGNhc2U6IGxvb2tpbmcgZm9yIGVtcHR5IHN0cmluZy9idWZmZXIgYWx3YXlzIGZhaWxzXG4gICAgaWYgKHZhbC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiAtMVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXlJbmRleE9mKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKVxuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgdmFsID0gdmFsICYgMHhGRiAvLyBTZWFyY2ggZm9yIGEgYnl0ZSB2YWx1ZSBbMC0yNTVdXG4gICAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUICYmXG4gICAgICAgIHR5cGVvZiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBpZiAoZGlyKSB7XG4gICAgICAgIHJldHVybiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gVWludDhBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YuY2FsbChidWZmZXIsIHZhbCwgYnl0ZU9mZnNldClcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycmF5SW5kZXhPZihidWZmZXIsIFsgdmFsIF0sIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpXG4gIH1cblxuICB0aHJvdyBuZXcgVHlwZUVycm9yKCd2YWwgbXVzdCBiZSBzdHJpbmcsIG51bWJlciBvciBCdWZmZXInKVxufVxuXG5mdW5jdGlvbiBhcnJheUluZGV4T2YgKGFyciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKSB7XG4gIHZhciBpbmRleFNpemUgPSAxXG4gIHZhciBhcnJMZW5ndGggPSBhcnIubGVuZ3RoXG4gIHZhciB2YWxMZW5ndGggPSB2YWwubGVuZ3RoXG5cbiAgaWYgKGVuY29kaW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICBlbmNvZGluZyA9IFN0cmluZyhlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgIGlmIChlbmNvZGluZyA9PT0gJ3VjczInIHx8IGVuY29kaW5nID09PSAndWNzLTInIHx8XG4gICAgICAgIGVuY29kaW5nID09PSAndXRmMTZsZScgfHwgZW5jb2RpbmcgPT09ICd1dGYtMTZsZScpIHtcbiAgICAgIGlmIChhcnIubGVuZ3RoIDwgMiB8fCB2YWwubGVuZ3RoIDwgMikge1xuICAgICAgICByZXR1cm4gLTFcbiAgICAgIH1cbiAgICAgIGluZGV4U2l6ZSA9IDJcbiAgICAgIGFyckxlbmd0aCAvPSAyXG4gICAgICB2YWxMZW5ndGggLz0gMlxuICAgICAgYnl0ZU9mZnNldCAvPSAyXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVhZCAoYnVmLCBpKSB7XG4gICAgaWYgKGluZGV4U2l6ZSA9PT0gMSkge1xuICAgICAgcmV0dXJuIGJ1ZltpXVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYnVmLnJlYWRVSW50MTZCRShpICogaW5kZXhTaXplKVxuICAgIH1cbiAgfVxuXG4gIHZhciBpXG4gIGlmIChkaXIpIHtcbiAgICB2YXIgZm91bmRJbmRleCA9IC0xXG4gICAgZm9yIChpID0gYnl0ZU9mZnNldDsgaSA8IGFyckxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAocmVhZChhcnIsIGkpID09PSByZWFkKHZhbCwgZm91bmRJbmRleCA9PT0gLTEgPyAwIDogaSAtIGZvdW5kSW5kZXgpKSB7XG4gICAgICAgIGlmIChmb3VuZEluZGV4ID09PSAtMSkgZm91bmRJbmRleCA9IGlcbiAgICAgICAgaWYgKGkgLSBmb3VuZEluZGV4ICsgMSA9PT0gdmFsTGVuZ3RoKSByZXR1cm4gZm91bmRJbmRleCAqIGluZGV4U2l6ZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGZvdW5kSW5kZXggIT09IC0xKSBpIC09IGkgLSBmb3VuZEluZGV4XG4gICAgICAgIGZvdW5kSW5kZXggPSAtMVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoYnl0ZU9mZnNldCArIHZhbExlbmd0aCA+IGFyckxlbmd0aCkgYnl0ZU9mZnNldCA9IGFyckxlbmd0aCAtIHZhbExlbmd0aFxuICAgIGZvciAoaSA9IGJ5dGVPZmZzZXQ7IGkgPj0gMDsgaS0tKSB7XG4gICAgICB2YXIgZm91bmQgPSB0cnVlXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHZhbExlbmd0aDsgaisrKSB7XG4gICAgICAgIGlmIChyZWFkKGFyciwgaSArIGopICE9PSByZWFkKHZhbCwgaikpIHtcbiAgICAgICAgICBmb3VuZCA9IGZhbHNlXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGZvdW5kKSByZXR1cm4gaVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiAtMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmluY2x1ZGVzID0gZnVuY3Rpb24gaW5jbHVkZXMgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIHRoaXMuaW5kZXhPZih2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSAhPT0gLTFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbmRleE9mID0gZnVuY3Rpb24gaW5kZXhPZiAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gYmlkaXJlY3Rpb25hbEluZGV4T2YodGhpcywgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgdHJ1ZSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5sYXN0SW5kZXhPZiA9IGZ1bmN0aW9uIGxhc3RJbmRleE9mICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG4gIHJldHVybiBiaWRpcmVjdGlvbmFsSW5kZXhPZih0aGlzLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBmYWxzZSlcbn1cblxuZnVuY3Rpb24gaGV4V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICBvZmZzZXQgPSBOdW1iZXIob2Zmc2V0KSB8fCAwXG4gIHZhciByZW1haW5pbmcgPSBidWYubGVuZ3RoIC0gb2Zmc2V0XG4gIGlmICghbGVuZ3RoKSB7XG4gICAgbGVuZ3RoID0gcmVtYWluaW5nXG4gIH0gZWxzZSB7XG4gICAgbGVuZ3RoID0gTnVtYmVyKGxlbmd0aClcbiAgICBpZiAobGVuZ3RoID4gcmVtYWluaW5nKSB7XG4gICAgICBsZW5ndGggPSByZW1haW5pbmdcbiAgICB9XG4gIH1cblxuICAvLyBtdXN0IGJlIGFuIGV2ZW4gbnVtYmVyIG9mIGRpZ2l0c1xuICB2YXIgc3RyTGVuID0gc3RyaW5nLmxlbmd0aFxuICBpZiAoc3RyTGVuICUgMiAhPT0gMCkgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBoZXggc3RyaW5nJylcblxuICBpZiAobGVuZ3RoID4gc3RyTGVuIC8gMikge1xuICAgIGxlbmd0aCA9IHN0ckxlbiAvIDJcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgdmFyIHBhcnNlZCA9IHBhcnNlSW50KHN0cmluZy5zdWJzdHIoaSAqIDIsIDIpLCAxNilcbiAgICBpZiAoaXNOYU4ocGFyc2VkKSkgcmV0dXJuIGlcbiAgICBidWZbb2Zmc2V0ICsgaV0gPSBwYXJzZWRcbiAgfVxuICByZXR1cm4gaVxufVxuXG5mdW5jdGlvbiB1dGY4V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcih1dGY4VG9CeXRlcyhzdHJpbmcsIGJ1Zi5sZW5ndGggLSBvZmZzZXQpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiBhc2NpaVdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIoYXNjaWlUb0J5dGVzKHN0cmluZyksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGxhdGluMVdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGFzY2lpV3JpdGUoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiBiYXNlNjRXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKGJhc2U2NFRvQnl0ZXMoc3RyaW5nKSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gdWNzMldyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIodXRmMTZsZVRvQnl0ZXMoc3RyaW5nLCBidWYubGVuZ3RoIC0gb2Zmc2V0KSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uIHdyaXRlIChzdHJpbmcsIG9mZnNldCwgbGVuZ3RoLCBlbmNvZGluZykge1xuICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nKVxuICBpZiAob2Zmc2V0ID09PSB1bmRlZmluZWQpIHtcbiAgICBlbmNvZGluZyA9ICd1dGY4J1xuICAgIGxlbmd0aCA9IHRoaXMubGVuZ3RoXG4gICAgb2Zmc2V0ID0gMFxuICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nLCBlbmNvZGluZylcbiAgfSBlbHNlIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygb2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgIGVuY29kaW5nID0gb2Zmc2V0XG4gICAgbGVuZ3RoID0gdGhpcy5sZW5ndGhcbiAgICBvZmZzZXQgPSAwXG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcsIG9mZnNldFssIGxlbmd0aF1bLCBlbmNvZGluZ10pXG4gIH0gZWxzZSBpZiAoaXNGaW5pdGUob2Zmc2V0KSkge1xuICAgIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgICBpZiAoaXNGaW5pdGUobGVuZ3RoKSkge1xuICAgICAgbGVuZ3RoID0gbGVuZ3RoIHwgMFxuICAgICAgaWYgKGVuY29kaW5nID09PSB1bmRlZmluZWQpIGVuY29kaW5nID0gJ3V0ZjgnXG4gICAgfSBlbHNlIHtcbiAgICAgIGVuY29kaW5nID0gbGVuZ3RoXG4gICAgICBsZW5ndGggPSB1bmRlZmluZWRcbiAgICB9XG4gIC8vIGxlZ2FjeSB3cml0ZShzdHJpbmcsIGVuY29kaW5nLCBvZmZzZXQsIGxlbmd0aCkgLSByZW1vdmUgaW4gdjAuMTNcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnQnVmZmVyLndyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldFssIGxlbmd0aF0pIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQnXG4gICAgKVxuICB9XG5cbiAgdmFyIHJlbWFpbmluZyA9IHRoaXMubGVuZ3RoIC0gb2Zmc2V0XG4gIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCB8fCBsZW5ndGggPiByZW1haW5pbmcpIGxlbmd0aCA9IHJlbWFpbmluZ1xuXG4gIGlmICgoc3RyaW5nLmxlbmd0aCA+IDAgJiYgKGxlbmd0aCA8IDAgfHwgb2Zmc2V0IDwgMCkpIHx8IG9mZnNldCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0F0dGVtcHQgdG8gd3JpdGUgb3V0c2lkZSBidWZmZXIgYm91bmRzJylcbiAgfVxuXG4gIGlmICghZW5jb2RpbmcpIGVuY29kaW5nID0gJ3V0ZjgnXG5cbiAgdmFyIGxvd2VyZWRDYXNlID0gZmFsc2VcbiAgZm9yICg7Oykge1xuICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgIHJldHVybiBoZXhXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgICAgcmV0dXJuIHV0ZjhXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICdhc2NpaSc6XG4gICAgICAgIHJldHVybiBhc2NpaVdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICByZXR1cm4gbGF0aW4xV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgICAgLy8gV2FybmluZzogbWF4TGVuZ3RoIG5vdCB0YWtlbiBpbnRvIGFjY291bnQgaW4gYmFzZTY0V3JpdGVcbiAgICAgICAgcmV0dXJuIGJhc2U2NFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ3VjczInOlxuICAgICAgY2FzZSAndWNzLTInOlxuICAgICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICAgIHJldHVybiB1Y3MyV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gICAgICAgIGVuY29kaW5nID0gKCcnICsgZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgbG93ZXJlZENhc2UgPSB0cnVlXG4gICAgfVxuICB9XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OICgpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnQnVmZmVyJyxcbiAgICBkYXRhOiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLl9hcnIgfHwgdGhpcywgMClcbiAgfVxufVxuXG5mdW5jdGlvbiBiYXNlNjRTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIGlmIChzdGFydCA9PT0gMCAmJiBlbmQgPT09IGJ1Zi5sZW5ndGgpIHtcbiAgICByZXR1cm4gYmFzZTY0LmZyb21CeXRlQXJyYXkoYnVmKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBiYXNlNjQuZnJvbUJ5dGVBcnJheShidWYuc2xpY2Uoc3RhcnQsIGVuZCkpXG4gIH1cbn1cblxuZnVuY3Rpb24gdXRmOFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuICB2YXIgcmVzID0gW11cblxuICB2YXIgaSA9IHN0YXJ0XG4gIHdoaWxlIChpIDwgZW5kKSB7XG4gICAgdmFyIGZpcnN0Qnl0ZSA9IGJ1ZltpXVxuICAgIHZhciBjb2RlUG9pbnQgPSBudWxsXG4gICAgdmFyIGJ5dGVzUGVyU2VxdWVuY2UgPSAoZmlyc3RCeXRlID4gMHhFRikgPyA0XG4gICAgICA6IChmaXJzdEJ5dGUgPiAweERGKSA/IDNcbiAgICAgIDogKGZpcnN0Qnl0ZSA+IDB4QkYpID8gMlxuICAgICAgOiAxXG5cbiAgICBpZiAoaSArIGJ5dGVzUGVyU2VxdWVuY2UgPD0gZW5kKSB7XG4gICAgICB2YXIgc2Vjb25kQnl0ZSwgdGhpcmRCeXRlLCBmb3VydGhCeXRlLCB0ZW1wQ29kZVBvaW50XG5cbiAgICAgIHN3aXRjaCAoYnl0ZXNQZXJTZXF1ZW5jZSkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgaWYgKGZpcnN0Qnl0ZSA8IDB4ODApIHtcbiAgICAgICAgICAgIGNvZGVQb2ludCA9IGZpcnN0Qnl0ZVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV1cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkge1xuICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweDFGKSA8PCAweDYgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpXG4gICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4N0YpIHtcbiAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV1cbiAgICAgICAgICB0aGlyZEJ5dGUgPSBidWZbaSArIDJdXG4gICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhDMCkgPT09IDB4ODAgJiYgKHRoaXJkQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4RikgPDwgMHhDIHwgKHNlY29uZEJ5dGUgJiAweDNGKSA8PCAweDYgfCAodGhpcmRCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHg3RkYgJiYgKHRlbXBDb2RlUG9pbnQgPCAweEQ4MDAgfHwgdGVtcENvZGVQb2ludCA+IDB4REZGRikpIHtcbiAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV1cbiAgICAgICAgICB0aGlyZEJ5dGUgPSBidWZbaSArIDJdXG4gICAgICAgICAgZm91cnRoQnl0ZSA9IGJ1ZltpICsgM11cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAodGhpcmRCeXRlICYgMHhDMCkgPT09IDB4ODAgJiYgKGZvdXJ0aEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkge1xuICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweEYpIDw8IDB4MTIgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpIDw8IDB4QyB8ICh0aGlyZEJ5dGUgJiAweDNGKSA8PCAweDYgfCAoZm91cnRoQnl0ZSAmIDB4M0YpXG4gICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4RkZGRiAmJiB0ZW1wQ29kZVBvaW50IDwgMHgxMTAwMDApIHtcbiAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY29kZVBvaW50ID09PSBudWxsKSB7XG4gICAgICAvLyB3ZSBkaWQgbm90IGdlbmVyYXRlIGEgdmFsaWQgY29kZVBvaW50IHNvIGluc2VydCBhXG4gICAgICAvLyByZXBsYWNlbWVudCBjaGFyIChVK0ZGRkQpIGFuZCBhZHZhbmNlIG9ubHkgMSBieXRlXG4gICAgICBjb2RlUG9pbnQgPSAweEZGRkRcbiAgICAgIGJ5dGVzUGVyU2VxdWVuY2UgPSAxXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPiAweEZGRkYpIHtcbiAgICAgIC8vIGVuY29kZSB0byB1dGYxNiAoc3Vycm9nYXRlIHBhaXIgZGFuY2UpXG4gICAgICBjb2RlUG9pbnQgLT0gMHgxMDAwMFxuICAgICAgcmVzLnB1c2goY29kZVBvaW50ID4+PiAxMCAmIDB4M0ZGIHwgMHhEODAwKVxuICAgICAgY29kZVBvaW50ID0gMHhEQzAwIHwgY29kZVBvaW50ICYgMHgzRkZcbiAgICB9XG5cbiAgICByZXMucHVzaChjb2RlUG9pbnQpXG4gICAgaSArPSBieXRlc1BlclNlcXVlbmNlXG4gIH1cblxuICByZXR1cm4gZGVjb2RlQ29kZVBvaW50c0FycmF5KHJlcylcbn1cblxuLy8gQmFzZWQgb24gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjI3NDcyNzIvNjgwNzQyLCB0aGUgYnJvd3NlciB3aXRoXG4vLyB0aGUgbG93ZXN0IGxpbWl0IGlzIENocm9tZSwgd2l0aCAweDEwMDAwIGFyZ3MuXG4vLyBXZSBnbyAxIG1hZ25pdHVkZSBsZXNzLCBmb3Igc2FmZXR5XG52YXIgTUFYX0FSR1VNRU5UU19MRU5HVEggPSAweDEwMDBcblxuZnVuY3Rpb24gZGVjb2RlQ29kZVBvaW50c0FycmF5IChjb2RlUG9pbnRzKSB7XG4gIHZhciBsZW4gPSBjb2RlUG9pbnRzLmxlbmd0aFxuICBpZiAobGVuIDw9IE1BWF9BUkdVTUVOVFNfTEVOR1RIKSB7XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLCBjb2RlUG9pbnRzKSAvLyBhdm9pZCBleHRyYSBzbGljZSgpXG4gIH1cblxuICAvLyBEZWNvZGUgaW4gY2h1bmtzIHRvIGF2b2lkIFwiY2FsbCBzdGFjayBzaXplIGV4Y2VlZGVkXCIuXG4gIHZhciByZXMgPSAnJ1xuICB2YXIgaSA9IDBcbiAgd2hpbGUgKGkgPCBsZW4pIHtcbiAgICByZXMgKz0gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShcbiAgICAgIFN0cmluZyxcbiAgICAgIGNvZGVQb2ludHMuc2xpY2UoaSwgaSArPSBNQVhfQVJHVU1FTlRTX0xFTkdUSClcbiAgICApXG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5mdW5jdGlvbiBhc2NpaVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHJldCA9ICcnXG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcblxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSAmIDB4N0YpXG4gIH1cbiAgcmV0dXJuIHJldFxufVxuXG5mdW5jdGlvbiBsYXRpbjFTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciByZXQgPSAnJ1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG5cbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICByZXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0pXG4gIH1cbiAgcmV0dXJuIHJldFxufVxuXG5mdW5jdGlvbiBoZXhTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciBsZW4gPSBidWYubGVuZ3RoXG5cbiAgaWYgKCFzdGFydCB8fCBzdGFydCA8IDApIHN0YXJ0ID0gMFxuICBpZiAoIWVuZCB8fCBlbmQgPCAwIHx8IGVuZCA+IGxlbikgZW5kID0gbGVuXG5cbiAgdmFyIG91dCA9ICcnXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgb3V0ICs9IHRvSGV4KGJ1ZltpXSlcbiAgfVxuICByZXR1cm4gb3V0XG59XG5cbmZ1bmN0aW9uIHV0ZjE2bGVTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciBieXRlcyA9IGJ1Zi5zbGljZShzdGFydCwgZW5kKVxuICB2YXIgcmVzID0gJydcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgIHJlcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGVzW2ldICsgYnl0ZXNbaSArIDFdICogMjU2KVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uIHNsaWNlIChzdGFydCwgZW5kKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBzdGFydCA9IH5+c3RhcnRcbiAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyBsZW4gOiB+fmVuZFxuXG4gIGlmIChzdGFydCA8IDApIHtcbiAgICBzdGFydCArPSBsZW5cbiAgICBpZiAoc3RhcnQgPCAwKSBzdGFydCA9IDBcbiAgfSBlbHNlIGlmIChzdGFydCA+IGxlbikge1xuICAgIHN0YXJ0ID0gbGVuXG4gIH1cblxuICBpZiAoZW5kIDwgMCkge1xuICAgIGVuZCArPSBsZW5cbiAgICBpZiAoZW5kIDwgMCkgZW5kID0gMFxuICB9IGVsc2UgaWYgKGVuZCA+IGxlbikge1xuICAgIGVuZCA9IGxlblxuICB9XG5cbiAgaWYgKGVuZCA8IHN0YXJ0KSBlbmQgPSBzdGFydFxuXG4gIHZhciBuZXdCdWZcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgbmV3QnVmID0gdGhpcy5zdWJhcnJheShzdGFydCwgZW5kKVxuICAgIG5ld0J1Zi5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG4gIH0gZWxzZSB7XG4gICAgdmFyIHNsaWNlTGVuID0gZW5kIC0gc3RhcnRcbiAgICBuZXdCdWYgPSBuZXcgQnVmZmVyKHNsaWNlTGVuLCB1bmRlZmluZWQpXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzbGljZUxlbjsgKytpKSB7XG4gICAgICBuZXdCdWZbaV0gPSB0aGlzW2kgKyBzdGFydF1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3QnVmXG59XG5cbi8qXG4gKiBOZWVkIHRvIG1ha2Ugc3VyZSB0aGF0IGJ1ZmZlciBpc24ndCB0cnlpbmcgdG8gd3JpdGUgb3V0IG9mIGJvdW5kcy5cbiAqL1xuZnVuY3Rpb24gY2hlY2tPZmZzZXQgKG9mZnNldCwgZXh0LCBsZW5ndGgpIHtcbiAgaWYgKChvZmZzZXQgJSAxKSAhPT0gMCB8fCBvZmZzZXQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignb2Zmc2V0IGlzIG5vdCB1aW50JylcbiAgaWYgKG9mZnNldCArIGV4dCA+IGxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RyeWluZyB0byBhY2Nlc3MgYmV5b25kIGJ1ZmZlciBsZW5ndGgnKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50TEUgPSBmdW5jdGlvbiByZWFkVUludExFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XVxuICB2YXIgbXVsID0gMVxuICB2YXIgaSA9IDBcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyBpXSAqIG11bFxuICB9XG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50QkUgPSBmdW5jdGlvbiByZWFkVUludEJFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuICB9XG5cbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0ICsgLS1ieXRlTGVuZ3RoXVxuICB2YXIgbXVsID0gMVxuICB3aGlsZSAoYnl0ZUxlbmd0aCA+IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyAtLWJ5dGVMZW5ndGhdICogbXVsXG4gIH1cblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQ4ID0gZnVuY3Rpb24gcmVhZFVJbnQ4IChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMSwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiB0aGlzW29mZnNldF1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2TEUgPSBmdW5jdGlvbiByZWFkVUludDE2TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIHRoaXNbb2Zmc2V0XSB8ICh0aGlzW29mZnNldCArIDFdIDw8IDgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQxNkJFID0gZnVuY3Rpb24gcmVhZFVJbnQxNkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiAodGhpc1tvZmZzZXRdIDw8IDgpIHwgdGhpc1tvZmZzZXQgKyAxXVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MzJMRSA9IGZ1bmN0aW9uIHJlYWRVSW50MzJMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAoKHRoaXNbb2Zmc2V0XSkgfFxuICAgICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOCkgfFxuICAgICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgMTYpKSArXG4gICAgICAodGhpc1tvZmZzZXQgKyAzXSAqIDB4MTAwMDAwMClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDMyQkUgPSBmdW5jdGlvbiByZWFkVUludDMyQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSAqIDB4MTAwMDAwMCkgK1xuICAgICgodGhpc1tvZmZzZXQgKyAxXSA8PCAxNikgfFxuICAgICh0aGlzW29mZnNldCArIDJdIDw8IDgpIHxcbiAgICB0aGlzW29mZnNldCArIDNdKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnRMRSA9IGZ1bmN0aW9uIHJlYWRJbnRMRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldF1cbiAgdmFyIG11bCA9IDFcbiAgdmFyIGkgPSAwXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgaV0gKiBtdWxcbiAgfVxuICBtdWwgKj0gMHg4MFxuXG4gIGlmICh2YWwgPj0gbXVsKSB2YWwgLT0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpXG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnRCRSA9IGZ1bmN0aW9uIHJlYWRJbnRCRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aFxuICB2YXIgbXVsID0gMVxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAtLWldXG4gIHdoaWxlIChpID4gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIC0taV0gKiBtdWxcbiAgfVxuICBtdWwgKj0gMHg4MFxuXG4gIGlmICh2YWwgPj0gbXVsKSB2YWwgLT0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpXG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQ4ID0gZnVuY3Rpb24gcmVhZEludDggKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAxLCB0aGlzLmxlbmd0aClcbiAgaWYgKCEodGhpc1tvZmZzZXRdICYgMHg4MCkpIHJldHVybiAodGhpc1tvZmZzZXRdKVxuICByZXR1cm4gKCgweGZmIC0gdGhpc1tvZmZzZXRdICsgMSkgKiAtMSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZMRSA9IGZ1bmN0aW9uIHJlYWRJbnQxNkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldF0gfCAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KVxuICByZXR1cm4gKHZhbCAmIDB4ODAwMCkgPyB2YWwgfCAweEZGRkYwMDAwIDogdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDE2QkUgPSBmdW5jdGlvbiByZWFkSW50MTZCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAxXSB8ICh0aGlzW29mZnNldF0gPDwgOClcbiAgcmV0dXJuICh2YWwgJiAweDgwMDApID8gdmFsIHwgMHhGRkZGMDAwMCA6IHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkxFID0gZnVuY3Rpb24gcmVhZEludDMyTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSkgfFxuICAgICh0aGlzW29mZnNldCArIDFdIDw8IDgpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCAxNikgfFxuICAgICh0aGlzW29mZnNldCArIDNdIDw8IDI0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkJFID0gZnVuY3Rpb24gcmVhZEludDMyQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSA8PCAyNCkgfFxuICAgICh0aGlzW29mZnNldCArIDFdIDw8IDE2KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgOCkgfFxuICAgICh0aGlzW29mZnNldCArIDNdKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRGbG9hdExFID0gZnVuY3Rpb24gcmVhZEZsb2F0TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIHRydWUsIDIzLCA0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRGbG9hdEJFID0gZnVuY3Rpb24gcmVhZEZsb2F0QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIGZhbHNlLCAyMywgNClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlTEUgPSBmdW5jdGlvbiByZWFkRG91YmxlTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA4LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIHRydWUsIDUyLCA4KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWREb3VibGVCRSA9IGZ1bmN0aW9uIHJlYWREb3VibGVCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDgsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgZmFsc2UsIDUyLCA4KVxufVxuXG5mdW5jdGlvbiBjaGVja0ludCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBleHQsIG1heCwgbWluKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGJ1ZikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiYnVmZmVyXCIgYXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlciBpbnN0YW5jZScpXG4gIGlmICh2YWx1ZSA+IG1heCB8fCB2YWx1ZSA8IG1pbikgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1widmFsdWVcIiBhcmd1bWVudCBpcyBvdXQgb2YgYm91bmRzJylcbiAgaWYgKG9mZnNldCArIGV4dCA+IGJ1Zi5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludExFID0gZnVuY3Rpb24gd3JpdGVVSW50TEUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbWF4Qnl0ZXMgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCkgLSAxXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbWF4Qnl0ZXMsIDApXG4gIH1cblxuICB2YXIgbXVsID0gMVxuICB2YXIgaSA9IDBcbiAgdGhpc1tvZmZzZXRdID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICh2YWx1ZSAvIG11bCkgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludEJFID0gZnVuY3Rpb24gd3JpdGVVSW50QkUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbWF4Qnl0ZXMgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCkgLSAxXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbWF4Qnl0ZXMsIDApXG4gIH1cblxuICB2YXIgaSA9IGJ5dGVMZW5ndGggLSAxXG4gIHZhciBtdWwgPSAxXG4gIHRoaXNbb2Zmc2V0ICsgaV0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKC0taSA+PSAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICh2YWx1ZSAvIG11bCkgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDggPSBmdW5jdGlvbiB3cml0ZVVJbnQ4ICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDEsIDB4ZmYsIDApXG4gIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHZhbHVlID0gTWF0aC5mbG9vcih2YWx1ZSlcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDFcbn1cblxuZnVuY3Rpb24gb2JqZWN0V3JpdGVVSW50MTYgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuKSB7XG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZmZmICsgdmFsdWUgKyAxXG4gIGZvciAodmFyIGkgPSAwLCBqID0gTWF0aC5taW4oYnVmLmxlbmd0aCAtIG9mZnNldCwgMik7IGkgPCBqOyArK2kpIHtcbiAgICBidWZbb2Zmc2V0ICsgaV0gPSAodmFsdWUgJiAoMHhmZiA8PCAoOCAqIChsaXR0bGVFbmRpYW4gPyBpIDogMSAtIGkpKSkpID4+PlxuICAgICAgKGxpdHRsZUVuZGlhbiA/IGkgOiAxIC0gaSkgKiA4XG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQxNkxFID0gZnVuY3Rpb24gd3JpdGVVSW50MTZMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweGZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MTZCRSA9IGZ1bmN0aW9uIHdyaXRlVUludDE2QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHhmZmZmLCAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuZnVuY3Rpb24gb2JqZWN0V3JpdGVVSW50MzIgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuKSB7XG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZmZmZmZmZiArIHZhbHVlICsgMVxuICBmb3IgKHZhciBpID0gMCwgaiA9IE1hdGgubWluKGJ1Zi5sZW5ndGggLSBvZmZzZXQsIDQpOyBpIDwgajsgKytpKSB7XG4gICAgYnVmW29mZnNldCArIGldID0gKHZhbHVlID4+PiAobGl0dGxlRW5kaWFuID8gaSA6IDMgLSBpKSAqIDgpICYgMHhmZlxuICB9XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MzJMRSA9IGZ1bmN0aW9uIHdyaXRlVUludDMyTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHhmZmZmZmZmZiwgMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSA+Pj4gMjQpXG4gICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkJFID0gZnVuY3Rpb24gd3JpdGVVSW50MzJCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweGZmZmZmZmZmLCAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDI0KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDE2KVxuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludExFID0gZnVuY3Rpb24gd3JpdGVJbnRMRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgdmFyIGxpbWl0ID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGggLSAxKVxuXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbGltaXQgLSAxLCAtbGltaXQpXG4gIH1cblxuICB2YXIgaSA9IDBcbiAgdmFyIG11bCA9IDFcbiAgdmFyIHN1YiA9IDBcbiAgdGhpc1tvZmZzZXRdID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgaWYgKHZhbHVlIDwgMCAmJiBzdWIgPT09IDAgJiYgdGhpc1tvZmZzZXQgKyBpIC0gMV0gIT09IDApIHtcbiAgICAgIHN1YiA9IDFcbiAgICB9XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICgodmFsdWUgLyBtdWwpID4+IDApIC0gc3ViICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludEJFID0gZnVuY3Rpb24gd3JpdGVJbnRCRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgdmFyIGxpbWl0ID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGggLSAxKVxuXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbGltaXQgLSAxLCAtbGltaXQpXG4gIH1cblxuICB2YXIgaSA9IGJ5dGVMZW5ndGggLSAxXG4gIHZhciBtdWwgPSAxXG4gIHZhciBzdWIgPSAwXG4gIHRoaXNbb2Zmc2V0ICsgaV0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKC0taSA+PSAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgaWYgKHZhbHVlIDwgMCAmJiBzdWIgPT09IDAgJiYgdGhpc1tvZmZzZXQgKyBpICsgMV0gIT09IDApIHtcbiAgICAgIHN1YiA9IDFcbiAgICB9XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICgodmFsdWUgLyBtdWwpID4+IDApIC0gc3ViICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDggPSBmdW5jdGlvbiB3cml0ZUludDggKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMSwgMHg3ZiwgLTB4ODApXG4gIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHZhbHVlID0gTWF0aC5mbG9vcih2YWx1ZSlcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmICsgdmFsdWUgKyAxXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyAxXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQxNkxFID0gZnVuY3Rpb24gd3JpdGVJbnQxNkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4N2ZmZiwgLTB4ODAwMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2QkUgPSBmdW5jdGlvbiB3cml0ZUludDE2QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHg3ZmZmLCAtMHg4MDAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDMyTEUgPSBmdW5jdGlvbiB3cml0ZUludDMyTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHg3ZmZmZmZmZiwgLTB4ODAwMDAwMDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiAxNilcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlID4+PiAyNClcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQzMkJFID0gZnVuY3Rpb24gd3JpdGVJbnQzMkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4N2ZmZmZmZmYsIC0weDgwMDAwMDAwKVxuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmZmZmZmZmYgKyB2YWx1ZSArIDFcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiAyNClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiAxNilcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgJiAweGZmKVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbmZ1bmN0aW9uIGNoZWNrSUVFRTc1NCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBleHQsIG1heCwgbWluKSB7XG4gIGlmIChvZmZzZXQgKyBleHQgPiBidWYubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcbiAgaWYgKG9mZnNldCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxufVxuXG5mdW5jdGlvbiB3cml0ZUZsb2F0IChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrSUVFRTc1NChidWYsIHZhbHVlLCBvZmZzZXQsIDQsIDMuNDAyODIzNDY2Mzg1Mjg4NmUrMzgsIC0zLjQwMjgyMzQ2NjM4NTI4ODZlKzM4KVxuICB9XG4gIGllZWU3NTQud3JpdGUoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIDIzLCA0KVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRmxvYXRMRSA9IGZ1bmN0aW9uIHdyaXRlRmxvYXRMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRmxvYXQodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdEJFID0gZnVuY3Rpb24gd3JpdGVGbG9hdEJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVGbG9hdCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbmZ1bmN0aW9uIHdyaXRlRG91YmxlIChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrSUVFRTc1NChidWYsIHZhbHVlLCBvZmZzZXQsIDgsIDEuNzk3NjkzMTM0ODYyMzE1N0UrMzA4LCAtMS43OTc2OTMxMzQ4NjIzMTU3RSszMDgpXG4gIH1cbiAgaWVlZTc1NC53cml0ZShidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgNTIsIDgpXG4gIHJldHVybiBvZmZzZXQgKyA4XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVMRSA9IGZ1bmN0aW9uIHdyaXRlRG91YmxlTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZURvdWJsZSh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZURvdWJsZUJFID0gZnVuY3Rpb24gd3JpdGVEb3VibGVCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRG91YmxlKHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcbn1cblxuLy8gY29weSh0YXJnZXRCdWZmZXIsIHRhcmdldFN0YXJ0PTAsIHNvdXJjZVN0YXJ0PTAsIHNvdXJjZUVuZD1idWZmZXIubGVuZ3RoKVxuQnVmZmVyLnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weSAodGFyZ2V0LCB0YXJnZXRTdGFydCwgc3RhcnQsIGVuZCkge1xuICBpZiAoIXN0YXJ0KSBzdGFydCA9IDBcbiAgaWYgKCFlbmQgJiYgZW5kICE9PSAwKSBlbmQgPSB0aGlzLmxlbmd0aFxuICBpZiAodGFyZ2V0U3RhcnQgPj0gdGFyZ2V0Lmxlbmd0aCkgdGFyZ2V0U3RhcnQgPSB0YXJnZXQubGVuZ3RoXG4gIGlmICghdGFyZ2V0U3RhcnQpIHRhcmdldFN0YXJ0ID0gMFxuICBpZiAoZW5kID4gMCAmJiBlbmQgPCBzdGFydCkgZW5kID0gc3RhcnRcblxuICAvLyBDb3B5IDAgYnl0ZXM7IHdlJ3JlIGRvbmVcbiAgaWYgKGVuZCA9PT0gc3RhcnQpIHJldHVybiAwXG4gIGlmICh0YXJnZXQubGVuZ3RoID09PSAwIHx8IHRoaXMubGVuZ3RoID09PSAwKSByZXR1cm4gMFxuXG4gIC8vIEZhdGFsIGVycm9yIGNvbmRpdGlvbnNcbiAgaWYgKHRhcmdldFN0YXJ0IDwgMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCd0YXJnZXRTdGFydCBvdXQgb2YgYm91bmRzJylcbiAgfVxuICBpZiAoc3RhcnQgPCAwIHx8IHN0YXJ0ID49IHRoaXMubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignc291cmNlU3RhcnQgb3V0IG9mIGJvdW5kcycpXG4gIGlmIChlbmQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignc291cmNlRW5kIG91dCBvZiBib3VuZHMnKVxuXG4gIC8vIEFyZSB3ZSBvb2I/XG4gIGlmIChlbmQgPiB0aGlzLmxlbmd0aCkgZW5kID0gdGhpcy5sZW5ndGhcbiAgaWYgKHRhcmdldC5sZW5ndGggLSB0YXJnZXRTdGFydCA8IGVuZCAtIHN0YXJ0KSB7XG4gICAgZW5kID0gdGFyZ2V0Lmxlbmd0aCAtIHRhcmdldFN0YXJ0ICsgc3RhcnRcbiAgfVxuXG4gIHZhciBsZW4gPSBlbmQgLSBzdGFydFxuICB2YXIgaVxuXG4gIGlmICh0aGlzID09PSB0YXJnZXQgJiYgc3RhcnQgPCB0YXJnZXRTdGFydCAmJiB0YXJnZXRTdGFydCA8IGVuZCkge1xuICAgIC8vIGRlc2NlbmRpbmcgY29weSBmcm9tIGVuZFxuICAgIGZvciAoaSA9IGxlbiAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICB0YXJnZXRbaSArIHRhcmdldFN0YXJ0XSA9IHRoaXNbaSArIHN0YXJ0XVxuICAgIH1cbiAgfSBlbHNlIGlmIChsZW4gPCAxMDAwIHx8ICFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIC8vIGFzY2VuZGluZyBjb3B5IGZyb20gc3RhcnRcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgIHRhcmdldFtpICsgdGFyZ2V0U3RhcnRdID0gdGhpc1tpICsgc3RhcnRdXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIFVpbnQ4QXJyYXkucHJvdG90eXBlLnNldC5jYWxsKFxuICAgICAgdGFyZ2V0LFxuICAgICAgdGhpcy5zdWJhcnJheShzdGFydCwgc3RhcnQgKyBsZW4pLFxuICAgICAgdGFyZ2V0U3RhcnRcbiAgICApXG4gIH1cblxuICByZXR1cm4gbGVuXG59XG5cbi8vIFVzYWdlOlxuLy8gICAgYnVmZmVyLmZpbGwobnVtYmVyWywgb2Zmc2V0WywgZW5kXV0pXG4vLyAgICBidWZmZXIuZmlsbChidWZmZXJbLCBvZmZzZXRbLCBlbmRdXSlcbi8vICAgIGJ1ZmZlci5maWxsKHN0cmluZ1ssIG9mZnNldFssIGVuZF1dWywgZW5jb2RpbmddKVxuQnVmZmVyLnByb3RvdHlwZS5maWxsID0gZnVuY3Rpb24gZmlsbCAodmFsLCBzdGFydCwgZW5kLCBlbmNvZGluZykge1xuICAvLyBIYW5kbGUgc3RyaW5nIGNhc2VzOlxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICBpZiAodHlwZW9mIHN0YXJ0ID09PSAnc3RyaW5nJykge1xuICAgICAgZW5jb2RpbmcgPSBzdGFydFxuICAgICAgc3RhcnQgPSAwXG4gICAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGVuZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGVuY29kaW5nID0gZW5kXG4gICAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICAgIH1cbiAgICBpZiAodmFsLmxlbmd0aCA9PT0gMSkge1xuICAgICAgdmFyIGNvZGUgPSB2YWwuY2hhckNvZGVBdCgwKVxuICAgICAgaWYgKGNvZGUgPCAyNTYpIHtcbiAgICAgICAgdmFsID0gY29kZVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZW5jb2RpbmcgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgZW5jb2RpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdlbmNvZGluZyBtdXN0IGJlIGEgc3RyaW5nJylcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZycgJiYgIUJ1ZmZlci5pc0VuY29kaW5nKGVuY29kaW5nKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIHZhbCA9IHZhbCAmIDI1NVxuICB9XG5cbiAgLy8gSW52YWxpZCByYW5nZXMgYXJlIG5vdCBzZXQgdG8gYSBkZWZhdWx0LCBzbyBjYW4gcmFuZ2UgY2hlY2sgZWFybHkuXG4gIGlmIChzdGFydCA8IDAgfHwgdGhpcy5sZW5ndGggPCBzdGFydCB8fCB0aGlzLmxlbmd0aCA8IGVuZCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdPdXQgb2YgcmFuZ2UgaW5kZXgnKVxuICB9XG5cbiAgaWYgKGVuZCA8PSBzdGFydCkge1xuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBzdGFydCA9IHN0YXJ0ID4+PiAwXG4gIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gdGhpcy5sZW5ndGggOiBlbmQgPj4+IDBcblxuICBpZiAoIXZhbCkgdmFsID0gMFxuXG4gIHZhciBpXG4gIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIGZvciAoaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICAgIHRoaXNbaV0gPSB2YWxcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyIGJ5dGVzID0gQnVmZmVyLmlzQnVmZmVyKHZhbClcbiAgICAgID8gdmFsXG4gICAgICA6IHV0ZjhUb0J5dGVzKG5ldyBCdWZmZXIodmFsLCBlbmNvZGluZykudG9TdHJpbmcoKSlcbiAgICB2YXIgbGVuID0gYnl0ZXMubGVuZ3RoXG4gICAgZm9yIChpID0gMDsgaSA8IGVuZCAtIHN0YXJ0OyArK2kpIHtcbiAgICAgIHRoaXNbaSArIHN0YXJ0XSA9IGJ5dGVzW2kgJSBsZW5dXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXNcbn1cblxuLy8gSEVMUEVSIEZVTkNUSU9OU1xuLy8gPT09PT09PT09PT09PT09PVxuXG52YXIgSU5WQUxJRF9CQVNFNjRfUkUgPSAvW14rXFwvMC05QS1aYS16LV9dL2dcblxuZnVuY3Rpb24gYmFzZTY0Y2xlYW4gKHN0cikge1xuICAvLyBOb2RlIHN0cmlwcyBvdXQgaW52YWxpZCBjaGFyYWN0ZXJzIGxpa2UgXFxuIGFuZCBcXHQgZnJvbSB0aGUgc3RyaW5nLCBiYXNlNjQtanMgZG9lcyBub3RcbiAgc3RyID0gc3RyaW5ndHJpbShzdHIpLnJlcGxhY2UoSU5WQUxJRF9CQVNFNjRfUkUsICcnKVxuICAvLyBOb2RlIGNvbnZlcnRzIHN0cmluZ3Mgd2l0aCBsZW5ndGggPCAyIHRvICcnXG4gIGlmIChzdHIubGVuZ3RoIDwgMikgcmV0dXJuICcnXG4gIC8vIE5vZGUgYWxsb3dzIGZvciBub24tcGFkZGVkIGJhc2U2NCBzdHJpbmdzIChtaXNzaW5nIHRyYWlsaW5nID09PSksIGJhc2U2NC1qcyBkb2VzIG5vdFxuICB3aGlsZSAoc3RyLmxlbmd0aCAlIDQgIT09IDApIHtcbiAgICBzdHIgPSBzdHIgKyAnPSdcbiAgfVxuICByZXR1cm4gc3RyXG59XG5cbmZ1bmN0aW9uIHN0cmluZ3RyaW0gKHN0cikge1xuICBpZiAoc3RyLnRyaW0pIHJldHVybiBzdHIudHJpbSgpXG4gIHJldHVybiBzdHIucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpXG59XG5cbmZ1bmN0aW9uIHRvSGV4IChuKSB7XG4gIGlmIChuIDwgMTYpIHJldHVybiAnMCcgKyBuLnRvU3RyaW5nKDE2KVxuICByZXR1cm4gbi50b1N0cmluZygxNilcbn1cblxuZnVuY3Rpb24gdXRmOFRvQnl0ZXMgKHN0cmluZywgdW5pdHMpIHtcbiAgdW5pdHMgPSB1bml0cyB8fCBJbmZpbml0eVxuICB2YXIgY29kZVBvaW50XG4gIHZhciBsZW5ndGggPSBzdHJpbmcubGVuZ3RoXG4gIHZhciBsZWFkU3Vycm9nYXRlID0gbnVsbFxuICB2YXIgYnl0ZXMgPSBbXVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICBjb2RlUG9pbnQgPSBzdHJpbmcuY2hhckNvZGVBdChpKVxuXG4gICAgLy8gaXMgc3Vycm9nYXRlIGNvbXBvbmVudFxuICAgIGlmIChjb2RlUG9pbnQgPiAweEQ3RkYgJiYgY29kZVBvaW50IDwgMHhFMDAwKSB7XG4gICAgICAvLyBsYXN0IGNoYXIgd2FzIGEgbGVhZFxuICAgICAgaWYgKCFsZWFkU3Vycm9nYXRlKSB7XG4gICAgICAgIC8vIG5vIGxlYWQgeWV0XG4gICAgICAgIGlmIChjb2RlUG9pbnQgPiAweERCRkYpIHtcbiAgICAgICAgICAvLyB1bmV4cGVjdGVkIHRyYWlsXG4gICAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfSBlbHNlIGlmIChpICsgMSA9PT0gbGVuZ3RoKSB7XG4gICAgICAgICAgLy8gdW5wYWlyZWQgbGVhZFxuICAgICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICAvLyB2YWxpZCBsZWFkXG4gICAgICAgIGxlYWRTdXJyb2dhdGUgPSBjb2RlUG9pbnRcblxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICAvLyAyIGxlYWRzIGluIGEgcm93XG4gICAgICBpZiAoY29kZVBvaW50IDwgMHhEQzAwKSB7XG4gICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgICAgICBsZWFkU3Vycm9nYXRlID0gY29kZVBvaW50XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIC8vIHZhbGlkIHN1cnJvZ2F0ZSBwYWlyXG4gICAgICBjb2RlUG9pbnQgPSAobGVhZFN1cnJvZ2F0ZSAtIDB4RDgwMCA8PCAxMCB8IGNvZGVQb2ludCAtIDB4REMwMCkgKyAweDEwMDAwXG4gICAgfSBlbHNlIGlmIChsZWFkU3Vycm9nYXRlKSB7XG4gICAgICAvLyB2YWxpZCBibXAgY2hhciwgYnV0IGxhc3QgY2hhciB3YXMgYSBsZWFkXG4gICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICB9XG5cbiAgICBsZWFkU3Vycm9nYXRlID0gbnVsbFxuXG4gICAgLy8gZW5jb2RlIHV0ZjhcbiAgICBpZiAoY29kZVBvaW50IDwgMHg4MCkge1xuICAgICAgaWYgKCh1bml0cyAtPSAxKSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKGNvZGVQb2ludClcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4ODAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDIpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDYgfCAweEMwLFxuICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHgxMDAwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSAzKSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHhDIHwgMHhFMCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHgxMTAwMDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gNCkgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4MTIgfCAweEYwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHhDICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDYgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGNvZGUgcG9pbnQnKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBieXRlc1xufVxuXG5mdW5jdGlvbiBhc2NpaVRvQnl0ZXMgKHN0cikge1xuICB2YXIgYnl0ZUFycmF5ID0gW11cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHtcbiAgICAvLyBOb2RlJ3MgY29kZSBzZWVtcyB0byBiZSBkb2luZyB0aGlzIGFuZCBub3QgJiAweDdGLi5cbiAgICBieXRlQXJyYXkucHVzaChzdHIuY2hhckNvZGVBdChpKSAmIDB4RkYpXG4gIH1cbiAgcmV0dXJuIGJ5dGVBcnJheVxufVxuXG5mdW5jdGlvbiB1dGYxNmxlVG9CeXRlcyAoc3RyLCB1bml0cykge1xuICB2YXIgYywgaGksIGxvXG4gIHZhciBieXRlQXJyYXkgPSBbXVxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgIGlmICgodW5pdHMgLT0gMikgPCAwKSBicmVha1xuXG4gICAgYyA9IHN0ci5jaGFyQ29kZUF0KGkpXG4gICAgaGkgPSBjID4+IDhcbiAgICBsbyA9IGMgJSAyNTZcbiAgICBieXRlQXJyYXkucHVzaChsbylcbiAgICBieXRlQXJyYXkucHVzaChoaSlcbiAgfVxuXG4gIHJldHVybiBieXRlQXJyYXlcbn1cblxuZnVuY3Rpb24gYmFzZTY0VG9CeXRlcyAoc3RyKSB7XG4gIHJldHVybiBiYXNlNjQudG9CeXRlQXJyYXkoYmFzZTY0Y2xlYW4oc3RyKSlcbn1cblxuZnVuY3Rpb24gYmxpdEJ1ZmZlciAoc3JjLCBkc3QsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICBpZiAoKGkgKyBvZmZzZXQgPj0gZHN0Lmxlbmd0aCkgfHwgKGkgPj0gc3JjLmxlbmd0aCkpIGJyZWFrXG4gICAgZHN0W2kgKyBvZmZzZXRdID0gc3JjW2ldXG4gIH1cbiAgcmV0dXJuIGlcbn1cblxuZnVuY3Rpb24gaXNuYW4gKHZhbCkge1xuICByZXR1cm4gdmFsICE9PSB2YWwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zZWxmLWNvbXBhcmVcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/buffer/index.js\n");

/***/ }),

/***/ "./node_modules/ieee754/index.js":
/*!***************************************!*\
  !*** ./node_modules/ieee754/index.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaWVlZTc1NC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsV0FBVzs7QUFFcEI7QUFDQTtBQUNBO0FBQ0EsU0FBUyxXQUFXOztBQUVwQjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTLFdBQVc7O0FBRXBCO0FBQ0E7QUFDQSxTQUFTLFVBQVU7O0FBRW5CO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaWVlZTc1NC9pbmRleC5qcz9lYmMxIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISBpZWVlNzU0LiBCU0QtMy1DbGF1c2UgTGljZW5zZS4gRmVyb3NzIEFib3VraGFkaWplaCA8aHR0cHM6Ly9mZXJvc3Mub3JnL29wZW5zb3VyY2U+ICovXG5leHBvcnRzLnJlYWQgPSBmdW5jdGlvbiAoYnVmZmVyLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykge1xuICB2YXIgZSwgbVxuICB2YXIgZUxlbiA9IChuQnl0ZXMgKiA4KSAtIG1MZW4gLSAxXG4gIHZhciBlTWF4ID0gKDEgPDwgZUxlbikgLSAxXG4gIHZhciBlQmlhcyA9IGVNYXggPj4gMVxuICB2YXIgbkJpdHMgPSAtN1xuICB2YXIgaSA9IGlzTEUgPyAobkJ5dGVzIC0gMSkgOiAwXG4gIHZhciBkID0gaXNMRSA/IC0xIDogMVxuICB2YXIgcyA9IGJ1ZmZlcltvZmZzZXQgKyBpXVxuXG4gIGkgKz0gZFxuXG4gIGUgPSBzICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpXG4gIHMgPj49ICgtbkJpdHMpXG4gIG5CaXRzICs9IGVMZW5cbiAgZm9yICg7IG5CaXRzID4gMDsgZSA9IChlICogMjU2KSArIGJ1ZmZlcltvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7fVxuXG4gIG0gPSBlICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpXG4gIGUgPj49ICgtbkJpdHMpXG4gIG5CaXRzICs9IG1MZW5cbiAgZm9yICg7IG5CaXRzID4gMDsgbSA9IChtICogMjU2KSArIGJ1ZmZlcltvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7fVxuXG4gIGlmIChlID09PSAwKSB7XG4gICAgZSA9IDEgLSBlQmlhc1xuICB9IGVsc2UgaWYgKGUgPT09IGVNYXgpIHtcbiAgICByZXR1cm4gbSA/IE5hTiA6ICgocyA/IC0xIDogMSkgKiBJbmZpbml0eSlcbiAgfSBlbHNlIHtcbiAgICBtID0gbSArIE1hdGgucG93KDIsIG1MZW4pXG4gICAgZSA9IGUgLSBlQmlhc1xuICB9XG4gIHJldHVybiAocyA/IC0xIDogMSkgKiBtICogTWF0aC5wb3coMiwgZSAtIG1MZW4pXG59XG5cbmV4cG9ydHMud3JpdGUgPSBmdW5jdGlvbiAoYnVmZmVyLCB2YWx1ZSwgb2Zmc2V0LCBpc0xFLCBtTGVuLCBuQnl0ZXMpIHtcbiAgdmFyIGUsIG0sIGNcbiAgdmFyIGVMZW4gPSAobkJ5dGVzICogOCkgLSBtTGVuIC0gMVxuICB2YXIgZU1heCA9ICgxIDw8IGVMZW4pIC0gMVxuICB2YXIgZUJpYXMgPSBlTWF4ID4+IDFcbiAgdmFyIHJ0ID0gKG1MZW4gPT09IDIzID8gTWF0aC5wb3coMiwgLTI0KSAtIE1hdGgucG93KDIsIC03NykgOiAwKVxuICB2YXIgaSA9IGlzTEUgPyAwIDogKG5CeXRlcyAtIDEpXG4gIHZhciBkID0gaXNMRSA/IDEgOiAtMVxuICB2YXIgcyA9IHZhbHVlIDwgMCB8fCAodmFsdWUgPT09IDAgJiYgMSAvIHZhbHVlIDwgMCkgPyAxIDogMFxuXG4gIHZhbHVlID0gTWF0aC5hYnModmFsdWUpXG5cbiAgaWYgKGlzTmFOKHZhbHVlKSB8fCB2YWx1ZSA9PT0gSW5maW5pdHkpIHtcbiAgICBtID0gaXNOYU4odmFsdWUpID8gMSA6IDBcbiAgICBlID0gZU1heFxuICB9IGVsc2Uge1xuICAgIGUgPSBNYXRoLmZsb29yKE1hdGgubG9nKHZhbHVlKSAvIE1hdGguTE4yKVxuICAgIGlmICh2YWx1ZSAqIChjID0gTWF0aC5wb3coMiwgLWUpKSA8IDEpIHtcbiAgICAgIGUtLVxuICAgICAgYyAqPSAyXG4gICAgfVxuICAgIGlmIChlICsgZUJpYXMgPj0gMSkge1xuICAgICAgdmFsdWUgKz0gcnQgLyBjXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlICs9IHJ0ICogTWF0aC5wb3coMiwgMSAtIGVCaWFzKVxuICAgIH1cbiAgICBpZiAodmFsdWUgKiBjID49IDIpIHtcbiAgICAgIGUrK1xuICAgICAgYyAvPSAyXG4gICAgfVxuXG4gICAgaWYgKGUgKyBlQmlhcyA+PSBlTWF4KSB7XG4gICAgICBtID0gMFxuICAgICAgZSA9IGVNYXhcbiAgICB9IGVsc2UgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG4gICAgICBtID0gKCh2YWx1ZSAqIGMpIC0gMSkgKiBNYXRoLnBvdygyLCBtTGVuKVxuICAgICAgZSA9IGUgKyBlQmlhc1xuICAgIH0gZWxzZSB7XG4gICAgICBtID0gdmFsdWUgKiBNYXRoLnBvdygyLCBlQmlhcyAtIDEpICogTWF0aC5wb3coMiwgbUxlbilcbiAgICAgIGUgPSAwXG4gICAgfVxuICB9XG5cbiAgZm9yICg7IG1MZW4gPj0gODsgYnVmZmVyW29mZnNldCArIGldID0gbSAmIDB4ZmYsIGkgKz0gZCwgbSAvPSAyNTYsIG1MZW4gLT0gOCkge31cblxuICBlID0gKGUgPDwgbUxlbikgfCBtXG4gIGVMZW4gKz0gbUxlblxuICBmb3IgKDsgZUxlbiA+IDA7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IGUgJiAweGZmLCBpICs9IGQsIGUgLz0gMjU2LCBlTGVuIC09IDgpIHt9XG5cbiAgYnVmZmVyW29mZnNldCArIGkgLSBkXSB8PSBzICogMTI4XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/ieee754/index.js\n");

/***/ }),

/***/ "./node_modules/isarray/index.js":
/*!***************************************!*\
  !*** ./node_modules/isarray/index.js ***!
  \***************************************/
/***/ ((module) => {

eval("var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaXNhcnJheS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBQSxpQkFBaUI7O0FBRWpCO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pc2FycmF5L2luZGV4LmpzP2I2OGUiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG5cbm1vZHVsZS5leHBvcnRzID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoYXJyKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKGFycikgPT0gJ1tvYmplY3QgQXJyYXldJztcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/isarray/index.js\n");

/***/ }),

/***/ "./node_modules/jquery/dist/jquery.js":
/*!********************************************!*\
  !*** ./node_modules/jquery/dist/jquery.js ***!
  \********************************************/
/***/ (function(module, exports) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n * jQuery JavaScript Library v3.7.1\n * https://jquery.com/\n *\n * Copyright OpenJS Foundation and other contributors\n * Released under the MIT license\n * https://jquery.org/license\n *\n * Date: 2023-08-28T13:37Z\n */\n( function( global, factory ) {\n\n\t\"use strict\";\n\n\tif (  true && typeof module.exports === \"object\" ) {\n\n\t\t// For CommonJS and CommonJS-like environments where a proper `window`\n\t\t// is present, execute the factory and get jQuery.\n\t\t// For environments that do not have a `window` with a `document`\n\t\t// (such as Node.js), expose a factory as module.exports.\n\t\t// This accentuates the need for the creation of a real `window`.\n\t\t// e.g. var jQuery = require(\"jquery\")(window);\n\t\t// See ticket trac-14549 for more info.\n\t\tmodule.exports = global.document ?\n\t\t\tfactory( global, true ) :\n\t\t\tfunction( w ) {\n\t\t\t\tif ( !w.document ) {\n\t\t\t\t\tthrow new Error( \"jQuery requires a window with a document\" );\n\t\t\t\t}\n\t\t\t\treturn factory( w );\n\t\t\t};\n\t} else {\n\t\tfactory( global );\n\t}\n\n// Pass this if window is not defined yet\n} )( typeof window !== \"undefined\" ? window : this, function( window, noGlobal ) {\n\n// Edge <= 12 - 13+, Firefox <=18 - 45+, IE 10 - 11, Safari 5.1 - 9+, iOS 6 - 9.1\n// throw exceptions when non-strict code (e.g., ASP.NET 4.5) accesses strict mode\n// arguments.callee.caller (trac-13335). But as of jQuery 3.0 (2016), strict mode should be common\n// enough that all such attempts are guarded in a try block.\n\"use strict\";\n\nvar arr = [];\n\nvar getProto = Object.getPrototypeOf;\n\nvar slice = arr.slice;\n\nvar flat = arr.flat ? function( array ) {\n\treturn arr.flat.call( array );\n} : function( array ) {\n\treturn arr.concat.apply( [], array );\n};\n\n\nvar push = arr.push;\n\nvar indexOf = arr.indexOf;\n\nvar class2type = {};\n\nvar toString = class2type.toString;\n\nvar hasOwn = class2type.hasOwnProperty;\n\nvar fnToString = hasOwn.toString;\n\nvar ObjectFunctionString = fnToString.call( Object );\n\nvar support = {};\n\nvar isFunction = function isFunction( obj ) {\n\n\t\t// Support: Chrome <=57, Firefox <=52\n\t\t// In some browsers, typeof returns \"function\" for HTML <object> elements\n\t\t// (i.e., `typeof document.createElement( \"object\" ) === \"function\"`).\n\t\t// We don't want to classify *any* DOM node as a function.\n\t\t// Support: QtWeb <=3.8.5, WebKit <=534.34, wkhtmltopdf tool <=0.12.5\n\t\t// Plus for old WebKit, typeof returns \"function\" for HTML collections\n\t\t// (e.g., `typeof document.getElementsByTagName(\"div\") === \"function\"`). (gh-4756)\n\t\treturn typeof obj === \"function\" && typeof obj.nodeType !== \"number\" &&\n\t\t\ttypeof obj.item !== \"function\";\n\t};\n\n\nvar isWindow = function isWindow( obj ) {\n\t\treturn obj != null && obj === obj.window;\n\t};\n\n\nvar document = window.document;\n\n\n\n\tvar preservedScriptAttributes = {\n\t\ttype: true,\n\t\tsrc: true,\n\t\tnonce: true,\n\t\tnoModule: true\n\t};\n\n\tfunction DOMEval( code, node, doc ) {\n\t\tdoc = doc || document;\n\n\t\tvar i, val,\n\t\t\tscript = doc.createElement( \"script\" );\n\n\t\tscript.text = code;\n\t\tif ( node ) {\n\t\t\tfor ( i in preservedScriptAttributes ) {\n\n\t\t\t\t// Support: Firefox 64+, Edge 18+\n\t\t\t\t// Some browsers don't support the \"nonce\" property on scripts.\n\t\t\t\t// On the other hand, just using `getAttribute` is not enough as\n\t\t\t\t// the `nonce` attribute is reset to an empty string whenever it\n\t\t\t\t// becomes browsing-context connected.\n\t\t\t\t// See https://github.com/whatwg/html/issues/2369\n\t\t\t\t// See https://html.spec.whatwg.org/#nonce-attributes\n\t\t\t\t// The `node.getAttribute` check was added for the sake of\n\t\t\t\t// `jQuery.globalEval` so that it can fake a nonce-containing node\n\t\t\t\t// via an object.\n\t\t\t\tval = node[ i ] || node.getAttribute && node.getAttribute( i );\n\t\t\t\tif ( val ) {\n\t\t\t\t\tscript.setAttribute( i, val );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tdoc.head.appendChild( script ).parentNode.removeChild( script );\n\t}\n\n\nfunction toType( obj ) {\n\tif ( obj == null ) {\n\t\treturn obj + \"\";\n\t}\n\n\t// Support: Android <=2.3 only (functionish RegExp)\n\treturn typeof obj === \"object\" || typeof obj === \"function\" ?\n\t\tclass2type[ toString.call( obj ) ] || \"object\" :\n\t\ttypeof obj;\n}\n/* global Symbol */\n// Defining this global in .eslintrc.json would create a danger of using the global\n// unguarded in another place, it seems safer to define global only for this module\n\n\n\nvar version = \"3.7.1\",\n\n\trhtmlSuffix = /HTML$/i,\n\n\t// Define a local copy of jQuery\n\tjQuery = function( selector, context ) {\n\n\t\t// The jQuery object is actually just the init constructor 'enhanced'\n\t\t// Need init if jQuery is called (just allow error to be thrown if not included)\n\t\treturn new jQuery.fn.init( selector, context );\n\t};\n\njQuery.fn = jQuery.prototype = {\n\n\t// The current version of jQuery being used\n\tjquery: version,\n\n\tconstructor: jQuery,\n\n\t// The default length of a jQuery object is 0\n\tlength: 0,\n\n\ttoArray: function() {\n\t\treturn slice.call( this );\n\t},\n\n\t// Get the Nth element in the matched element set OR\n\t// Get the whole matched element set as a clean array\n\tget: function( num ) {\n\n\t\t// Return all the elements in a clean array\n\t\tif ( num == null ) {\n\t\t\treturn slice.call( this );\n\t\t}\n\n\t\t// Return just the one element from the set\n\t\treturn num < 0 ? this[ num + this.length ] : this[ num ];\n\t},\n\n\t// Take an array of elements and push it onto the stack\n\t// (returning the new matched element set)\n\tpushStack: function( elems ) {\n\n\t\t// Build a new jQuery matched element set\n\t\tvar ret = jQuery.merge( this.constructor(), elems );\n\n\t\t// Add the old object onto the stack (as a reference)\n\t\tret.prevObject = this;\n\n\t\t// Return the newly-formed element set\n\t\treturn ret;\n\t},\n\n\t// Execute a callback for every element in the matched set.\n\teach: function( callback ) {\n\t\treturn jQuery.each( this, callback );\n\t},\n\n\tmap: function( callback ) {\n\t\treturn this.pushStack( jQuery.map( this, function( elem, i ) {\n\t\t\treturn callback.call( elem, i, elem );\n\t\t} ) );\n\t},\n\n\tslice: function() {\n\t\treturn this.pushStack( slice.apply( this, arguments ) );\n\t},\n\n\tfirst: function() {\n\t\treturn this.eq( 0 );\n\t},\n\n\tlast: function() {\n\t\treturn this.eq( -1 );\n\t},\n\n\teven: function() {\n\t\treturn this.pushStack( jQuery.grep( this, function( _elem, i ) {\n\t\t\treturn ( i + 1 ) % 2;\n\t\t} ) );\n\t},\n\n\todd: function() {\n\t\treturn this.pushStack( jQuery.grep( this, function( _elem, i ) {\n\t\t\treturn i % 2;\n\t\t} ) );\n\t},\n\n\teq: function( i ) {\n\t\tvar len = this.length,\n\t\t\tj = +i + ( i < 0 ? len : 0 );\n\t\treturn this.pushStack( j >= 0 && j < len ? [ this[ j ] ] : [] );\n\t},\n\n\tend: function() {\n\t\treturn this.prevObject || this.constructor();\n\t},\n\n\t// For internal use only.\n\t// Behaves like an Array's method, not like a jQuery method.\n\tpush: push,\n\tsort: arr.sort,\n\tsplice: arr.splice\n};\n\njQuery.extend = jQuery.fn.extend = function() {\n\tvar options, name, src, copy, copyIsArray, clone,\n\t\ttarget = arguments[ 0 ] || {},\n\t\ti = 1,\n\t\tlength = arguments.length,\n\t\tdeep = false;\n\n\t// Handle a deep copy situation\n\tif ( typeof target === \"boolean\" ) {\n\t\tdeep = target;\n\n\t\t// Skip the boolean and the target\n\t\ttarget = arguments[ i ] || {};\n\t\ti++;\n\t}\n\n\t// Handle case when target is a string or something (possible in deep copy)\n\tif ( typeof target !== \"object\" && !isFunction( target ) ) {\n\t\ttarget = {};\n\t}\n\n\t// Extend jQuery itself if only one argument is passed\n\tif ( i === length ) {\n\t\ttarget = this;\n\t\ti--;\n\t}\n\n\tfor ( ; i < length; i++ ) {\n\n\t\t// Only deal with non-null/undefined values\n\t\tif ( ( options = arguments[ i ] ) != null ) {\n\n\t\t\t// Extend the base object\n\t\t\tfor ( name in options ) {\n\t\t\t\tcopy = options[ name ];\n\n\t\t\t\t// Prevent Object.prototype pollution\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif ( name === \"__proto__\" || target === copy ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\tif ( deep && copy && ( jQuery.isPlainObject( copy ) ||\n\t\t\t\t\t( copyIsArray = Array.isArray( copy ) ) ) ) {\n\t\t\t\t\tsrc = target[ name ];\n\n\t\t\t\t\t// Ensure proper type for the source value\n\t\t\t\t\tif ( copyIsArray && !Array.isArray( src ) ) {\n\t\t\t\t\t\tclone = [];\n\t\t\t\t\t} else if ( !copyIsArray && !jQuery.isPlainObject( src ) ) {\n\t\t\t\t\t\tclone = {};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tclone = src;\n\t\t\t\t\t}\n\t\t\t\t\tcopyIsArray = false;\n\n\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\ttarget[ name ] = jQuery.extend( deep, clone, copy );\n\n\t\t\t\t// Don't bring in undefined values\n\t\t\t\t} else if ( copy !== undefined ) {\n\t\t\t\t\ttarget[ name ] = copy;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\njQuery.extend( {\n\n\t// Unique for each copy of jQuery on the page\n\texpando: \"jQuery\" + ( version + Math.random() ).replace( /\\D/g, \"\" ),\n\n\t// Assume jQuery is ready without the ready module\n\tisReady: true,\n\n\terror: function( msg ) {\n\t\tthrow new Error( msg );\n\t},\n\n\tnoop: function() {},\n\n\tisPlainObject: function( obj ) {\n\t\tvar proto, Ctor;\n\n\t\t// Detect obvious negatives\n\t\t// Use toString instead of jQuery.type to catch host objects\n\t\tif ( !obj || toString.call( obj ) !== \"[object Object]\" ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tproto = getProto( obj );\n\n\t\t// Objects with no prototype (e.g., `Object.create( null )`) are plain\n\t\tif ( !proto ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Objects with prototype are plain iff they were constructed by a global Object function\n\t\tCtor = hasOwn.call( proto, \"constructor\" ) && proto.constructor;\n\t\treturn typeof Ctor === \"function\" && fnToString.call( Ctor ) === ObjectFunctionString;\n\t},\n\n\tisEmptyObject: function( obj ) {\n\t\tvar name;\n\n\t\tfor ( name in obj ) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\t// Evaluates a script in a provided context; falls back to the global one\n\t// if not specified.\n\tglobalEval: function( code, options, doc ) {\n\t\tDOMEval( code, { nonce: options && options.nonce }, doc );\n\t},\n\n\teach: function( obj, callback ) {\n\t\tvar length, i = 0;\n\n\t\tif ( isArrayLike( obj ) ) {\n\t\t\tlength = obj.length;\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor ( i in obj ) {\n\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn obj;\n\t},\n\n\n\t// Retrieve the text value of an array of DOM nodes\n\ttext: function( elem ) {\n\t\tvar node,\n\t\t\tret = \"\",\n\t\t\ti = 0,\n\t\t\tnodeType = elem.nodeType;\n\n\t\tif ( !nodeType ) {\n\n\t\t\t// If no nodeType, this is expected to be an array\n\t\t\twhile ( ( node = elem[ i++ ] ) ) {\n\n\t\t\t\t// Do not traverse comment nodes\n\t\t\t\tret += jQuery.text( node );\n\t\t\t}\n\t\t}\n\t\tif ( nodeType === 1 || nodeType === 11 ) {\n\t\t\treturn elem.textContent;\n\t\t}\n\t\tif ( nodeType === 9 ) {\n\t\t\treturn elem.documentElement.textContent;\n\t\t}\n\t\tif ( nodeType === 3 || nodeType === 4 ) {\n\t\t\treturn elem.nodeValue;\n\t\t}\n\n\t\t// Do not include comment or processing instruction nodes\n\n\t\treturn ret;\n\t},\n\n\t// results is for internal usage only\n\tmakeArray: function( arr, results ) {\n\t\tvar ret = results || [];\n\n\t\tif ( arr != null ) {\n\t\t\tif ( isArrayLike( Object( arr ) ) ) {\n\t\t\t\tjQuery.merge( ret,\n\t\t\t\t\ttypeof arr === \"string\" ?\n\t\t\t\t\t\t[ arr ] : arr\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tpush.call( ret, arr );\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\t},\n\n\tinArray: function( elem, arr, i ) {\n\t\treturn arr == null ? -1 : indexOf.call( arr, elem, i );\n\t},\n\n\tisXMLDoc: function( elem ) {\n\t\tvar namespace = elem && elem.namespaceURI,\n\t\t\tdocElem = elem && ( elem.ownerDocument || elem ).documentElement;\n\n\t\t// Assume HTML when documentElement doesn't yet exist, such as inside\n\t\t// document fragments.\n\t\treturn !rhtmlSuffix.test( namespace || docElem && docElem.nodeName || \"HTML\" );\n\t},\n\n\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t// push.apply(_, arraylike) throws on ancient WebKit\n\tmerge: function( first, second ) {\n\t\tvar len = +second.length,\n\t\t\tj = 0,\n\t\t\ti = first.length;\n\n\t\tfor ( ; j < len; j++ ) {\n\t\t\tfirst[ i++ ] = second[ j ];\n\t\t}\n\n\t\tfirst.length = i;\n\n\t\treturn first;\n\t},\n\n\tgrep: function( elems, callback, invert ) {\n\t\tvar callbackInverse,\n\t\t\tmatches = [],\n\t\t\ti = 0,\n\t\t\tlength = elems.length,\n\t\t\tcallbackExpect = !invert;\n\n\t\t// Go through the array, only saving the items\n\t\t// that pass the validator function\n\t\tfor ( ; i < length; i++ ) {\n\t\t\tcallbackInverse = !callback( elems[ i ], i );\n\t\t\tif ( callbackInverse !== callbackExpect ) {\n\t\t\t\tmatches.push( elems[ i ] );\n\t\t\t}\n\t\t}\n\n\t\treturn matches;\n\t},\n\n\t// arg is for internal usage only\n\tmap: function( elems, callback, arg ) {\n\t\tvar length, value,\n\t\t\ti = 0,\n\t\t\tret = [];\n\n\t\t// Go through the array, translating each of the items to their new values\n\t\tif ( isArrayLike( elems ) ) {\n\t\t\tlength = elems.length;\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Go through every key on the object,\n\t\t} else {\n\t\t\tfor ( i in elems ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Flatten any nested arrays\n\t\treturn flat( ret );\n\t},\n\n\t// A global GUID counter for objects\n\tguid: 1,\n\n\t// jQuery.support is not used in Core but other projects attach their\n\t// properties to it so it needs to exist.\n\tsupport: support\n} );\n\nif ( typeof Symbol === \"function\" ) {\n\tjQuery.fn[ Symbol.iterator ] = arr[ Symbol.iterator ];\n}\n\n// Populate the class2type map\njQuery.each( \"Boolean Number String Function Array Date RegExp Object Error Symbol\".split( \" \" ),\n\tfunction( _i, name ) {\n\t\tclass2type[ \"[object \" + name + \"]\" ] = name.toLowerCase();\n\t} );\n\nfunction isArrayLike( obj ) {\n\n\t// Support: real iOS 8.2 only (not reproducible in simulator)\n\t// `in` check used to prevent JIT error (gh-2145)\n\t// hasOwn isn't used here due to false negatives\n\t// regarding Nodelist length in IE\n\tvar length = !!obj && \"length\" in obj && obj.length,\n\t\ttype = toType( obj );\n\n\tif ( isFunction( obj ) || isWindow( obj ) ) {\n\t\treturn false;\n\t}\n\n\treturn type === \"array\" || length === 0 ||\n\t\ttypeof length === \"number\" && length > 0 && ( length - 1 ) in obj;\n}\n\n\nfunction nodeName( elem, name ) {\n\n\treturn elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();\n\n}\nvar pop = arr.pop;\n\n\nvar sort = arr.sort;\n\n\nvar splice = arr.splice;\n\n\nvar whitespace = \"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\";\n\n\nvar rtrimCSS = new RegExp(\n\t\"^\" + whitespace + \"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\" + whitespace + \"+$\",\n\t\"g\"\n);\n\n\n\n\n// Note: an element does not contain itself\njQuery.contains = function( a, b ) {\n\tvar bup = b && b.parentNode;\n\n\treturn a === bup || !!( bup && bup.nodeType === 1 && (\n\n\t\t// Support: IE 9 - 11+\n\t\t// IE doesn't have `contains` on SVG.\n\t\ta.contains ?\n\t\t\ta.contains( bup ) :\n\t\t\ta.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16\n\t) );\n};\n\n\n\n\n// CSS string/identifier serialization\n// https://drafts.csswg.org/cssom/#common-serializing-idioms\nvar rcssescape = /([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\x80-\\uFFFF\\w-]/g;\n\nfunction fcssescape( ch, asCodePoint ) {\n\tif ( asCodePoint ) {\n\n\t\t// U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER\n\t\tif ( ch === \"\\0\" ) {\n\t\t\treturn \"\\uFFFD\";\n\t\t}\n\n\t\t// Control characters and (dependent upon position) numbers get escaped as code points\n\t\treturn ch.slice( 0, -1 ) + \"\\\\\" + ch.charCodeAt( ch.length - 1 ).toString( 16 ) + \" \";\n\t}\n\n\t// Other potentially-special ASCII characters get backslash-escaped\n\treturn \"\\\\\" + ch;\n}\n\njQuery.escapeSelector = function( sel ) {\n\treturn ( sel + \"\" ).replace( rcssescape, fcssescape );\n};\n\n\n\n\nvar preferredDoc = document,\n\tpushNative = push;\n\n( function() {\n\nvar i,\n\tExpr,\n\toutermostContext,\n\tsortInput,\n\thasDuplicate,\n\tpush = pushNative,\n\n\t// Local document vars\n\tdocument,\n\tdocumentElement,\n\tdocumentIsHTML,\n\trbuggyQSA,\n\tmatches,\n\n\t// Instance-specific data\n\texpando = jQuery.expando,\n\tdirruns = 0,\n\tdone = 0,\n\tclassCache = createCache(),\n\ttokenCache = createCache(),\n\tcompilerCache = createCache(),\n\tnonnativeSelectorCache = createCache(),\n\tsortOrder = function( a, b ) {\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t}\n\t\treturn 0;\n\t},\n\n\tbooleans = \"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|\" +\n\t\t\"loop|multiple|open|readonly|required|scoped\",\n\n\t// Regular expressions\n\n\t// https://www.w3.org/TR/css-syntax-3/#ident-token-diagram\n\tidentifier = \"(?:\\\\\\\\[\\\\da-fA-F]{1,6}\" + whitespace +\n\t\t\"?|\\\\\\\\[^\\\\r\\\\n\\\\f]|[\\\\w-]|[^\\0-\\\\x7f])+\",\n\n\t// Attribute selectors: https://www.w3.org/TR/selectors/#attribute-selectors\n\tattributes = \"\\\\[\" + whitespace + \"*(\" + identifier + \")(?:\" + whitespace +\n\n\t\t// Operator (capture 2)\n\t\t\"*([*^$|!~]?=)\" + whitespace +\n\n\t\t// \"Attribute values must be CSS identifiers [capture 5] or strings [capture 3 or capture 4]\"\n\t\t\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\" + identifier + \"))|)\" +\n\t\twhitespace + \"*\\\\]\",\n\n\tpseudos = \":(\" + identifier + \")(?:\\\\((\" +\n\n\t\t// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:\n\t\t// 1. quoted (capture 3; capture 4 or capture 5)\n\t\t\"('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|\" +\n\n\t\t// 2. simple (capture 6)\n\t\t\"((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\" + attributes + \")*)|\" +\n\n\t\t// 3. anything else (capture 2)\n\t\t\".*\" +\n\t\t\")\\\\)|)\",\n\n\t// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter\n\trwhitespace = new RegExp( whitespace + \"+\", \"g\" ),\n\n\trcomma = new RegExp( \"^\" + whitespace + \"*,\" + whitespace + \"*\" ),\n\trleadingCombinator = new RegExp( \"^\" + whitespace + \"*([>+~]|\" + whitespace + \")\" +\n\t\twhitespace + \"*\" ),\n\trdescend = new RegExp( whitespace + \"|>\" ),\n\n\trpseudo = new RegExp( pseudos ),\n\tridentifier = new RegExp( \"^\" + identifier + \"$\" ),\n\n\tmatchExpr = {\n\t\tID: new RegExp( \"^#(\" + identifier + \")\" ),\n\t\tCLASS: new RegExp( \"^\\\\.(\" + identifier + \")\" ),\n\t\tTAG: new RegExp( \"^(\" + identifier + \"|[*])\" ),\n\t\tATTR: new RegExp( \"^\" + attributes ),\n\t\tPSEUDO: new RegExp( \"^\" + pseudos ),\n\t\tCHILD: new RegExp(\n\t\t\t\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\" +\n\t\t\t\twhitespace + \"*(even|odd|(([+-]|)(\\\\d*)n|)\" + whitespace + \"*(?:([+-]|)\" +\n\t\t\t\twhitespace + \"*(\\\\d+)|))\" + whitespace + \"*\\\\)|)\", \"i\" ),\n\t\tbool: new RegExp( \"^(?:\" + booleans + \")$\", \"i\" ),\n\n\t\t// For use in libraries implementing .is()\n\t\t// We use this for POS matching in `select`\n\t\tneedsContext: new RegExp( \"^\" + whitespace +\n\t\t\t\"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\" + whitespace +\n\t\t\t\"*((?:-\\\\d)?\\\\d*)\" + whitespace + \"*\\\\)|)(?=[^-]|$)\", \"i\" )\n\t},\n\n\trinputs = /^(?:input|select|textarea|button)$/i,\n\trheader = /^h\\d$/i,\n\n\t// Easily-parseable/retrievable ID or TAG or CLASS selectors\n\trquickExpr = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,\n\n\trsibling = /[+~]/,\n\n\t// CSS escapes\n\t// https://www.w3.org/TR/CSS21/syndata.html#escaped-characters\n\trunescape = new RegExp( \"\\\\\\\\[\\\\da-fA-F]{1,6}\" + whitespace +\n\t\t\"?|\\\\\\\\([^\\\\r\\\\n\\\\f])\", \"g\" ),\n\tfunescape = function( escape, nonHex ) {\n\t\tvar high = \"0x\" + escape.slice( 1 ) - 0x10000;\n\n\t\tif ( nonHex ) {\n\n\t\t\t// Strip the backslash prefix from a non-hex escape sequence\n\t\t\treturn nonHex;\n\t\t}\n\n\t\t// Replace a hexadecimal escape sequence with the encoded Unicode code point\n\t\t// Support: IE <=11+\n\t\t// For values outside the Basic Multilingual Plane (BMP), manually construct a\n\t\t// surrogate pair\n\t\treturn high < 0 ?\n\t\t\tString.fromCharCode( high + 0x10000 ) :\n\t\t\tString.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );\n\t},\n\n\t// Used for iframes; see `setDocument`.\n\t// Support: IE 9 - 11+, Edge 12 - 18+\n\t// Removing the function wrapper causes a \"Permission Denied\"\n\t// error in IE/Edge.\n\tunloadHandler = function() {\n\t\tsetDocument();\n\t},\n\n\tinDisabledFieldset = addCombinator(\n\t\tfunction( elem ) {\n\t\t\treturn elem.disabled === true && nodeName( elem, \"fieldset\" );\n\t\t},\n\t\t{ dir: \"parentNode\", next: \"legend\" }\n\t);\n\n// Support: IE <=9 only\n// Accessing document.activeElement can throw unexpectedly\n// https://bugs.jquery.com/ticket/13393\nfunction safeActiveElement() {\n\ttry {\n\t\treturn document.activeElement;\n\t} catch ( err ) { }\n}\n\n// Optimize for push.apply( _, NodeList )\ntry {\n\tpush.apply(\n\t\t( arr = slice.call( preferredDoc.childNodes ) ),\n\t\tpreferredDoc.childNodes\n\t);\n\n\t// Support: Android <=4.0\n\t// Detect silently failing push.apply\n\t// eslint-disable-next-line no-unused-expressions\n\tarr[ preferredDoc.childNodes.length ].nodeType;\n} catch ( e ) {\n\tpush = {\n\t\tapply: function( target, els ) {\n\t\t\tpushNative.apply( target, slice.call( els ) );\n\t\t},\n\t\tcall: function( target ) {\n\t\t\tpushNative.apply( target, slice.call( arguments, 1 ) );\n\t\t}\n\t};\n}\n\nfunction find( selector, context, results, seed ) {\n\tvar m, i, elem, nid, match, groups, newSelector,\n\t\tnewContext = context && context.ownerDocument,\n\n\t\t// nodeType defaults to 9, since context defaults to document\n\t\tnodeType = context ? context.nodeType : 9;\n\n\tresults = results || [];\n\n\t// Return early from calls with invalid selector or context\n\tif ( typeof selector !== \"string\" || !selector ||\n\t\tnodeType !== 1 && nodeType !== 9 && nodeType !== 11 ) {\n\n\t\treturn results;\n\t}\n\n\t// Try to shortcut find operations (as opposed to filters) in HTML documents\n\tif ( !seed ) {\n\t\tsetDocument( context );\n\t\tcontext = context || document;\n\n\t\tif ( documentIsHTML ) {\n\n\t\t\t// If the selector is sufficiently simple, try using a \"get*By*\" DOM method\n\t\t\t// (excepting DocumentFragment context, where the methods don't exist)\n\t\t\tif ( nodeType !== 11 && ( match = rquickExpr.exec( selector ) ) ) {\n\n\t\t\t\t// ID selector\n\t\t\t\tif ( ( m = match[ 1 ] ) ) {\n\n\t\t\t\t\t// Document context\n\t\t\t\t\tif ( nodeType === 9 ) {\n\t\t\t\t\t\tif ( ( elem = context.getElementById( m ) ) ) {\n\n\t\t\t\t\t\t\t// Support: IE 9 only\n\t\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\t\tif ( elem.id === m ) {\n\t\t\t\t\t\t\t\tpush.call( results, elem );\n\t\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t// Element context\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// Support: IE 9 only\n\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\tif ( newContext && ( elem = newContext.getElementById( m ) ) &&\n\t\t\t\t\t\t\tfind.contains( context, elem ) &&\n\t\t\t\t\t\t\telem.id === m ) {\n\n\t\t\t\t\t\t\tpush.call( results, elem );\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t// Type selector\n\t\t\t\t} else if ( match[ 2 ] ) {\n\t\t\t\t\tpush.apply( results, context.getElementsByTagName( selector ) );\n\t\t\t\t\treturn results;\n\n\t\t\t\t// Class selector\n\t\t\t\t} else if ( ( m = match[ 3 ] ) && context.getElementsByClassName ) {\n\t\t\t\t\tpush.apply( results, context.getElementsByClassName( m ) );\n\t\t\t\t\treturn results;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Take advantage of querySelectorAll\n\t\t\tif ( !nonnativeSelectorCache[ selector + \" \" ] &&\n\t\t\t\t( !rbuggyQSA || !rbuggyQSA.test( selector ) ) ) {\n\n\t\t\t\tnewSelector = selector;\n\t\t\t\tnewContext = context;\n\n\t\t\t\t// qSA considers elements outside a scoping root when evaluating child or\n\t\t\t\t// descendant combinators, which is not what we want.\n\t\t\t\t// In such cases, we work around the behavior by prefixing every selector in the\n\t\t\t\t// list with an ID selector referencing the scope context.\n\t\t\t\t// The technique has to be used as well when a leading combinator is used\n\t\t\t\t// as such selectors are not recognized by querySelectorAll.\n\t\t\t\t// Thanks to Andrew Dupont for this technique.\n\t\t\t\tif ( nodeType === 1 &&\n\t\t\t\t\t( rdescend.test( selector ) || rleadingCombinator.test( selector ) ) ) {\n\n\t\t\t\t\t// Expand context for sibling selectors\n\t\t\t\t\tnewContext = rsibling.test( selector ) && testContext( context.parentNode ) ||\n\t\t\t\t\t\tcontext;\n\n\t\t\t\t\t// We can use :scope instead of the ID hack if the browser\n\t\t\t\t\t// supports it & if we're not changing the context.\n\t\t\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when\n\t\t\t\t\t// strict-comparing two documents; shallow comparisons work.\n\t\t\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\t\t\tif ( newContext != context || !support.scope ) {\n\n\t\t\t\t\t\t// Capture the context ID, setting it first if necessary\n\t\t\t\t\t\tif ( ( nid = context.getAttribute( \"id\" ) ) ) {\n\t\t\t\t\t\t\tnid = jQuery.escapeSelector( nid );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcontext.setAttribute( \"id\", ( nid = expando ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prefix every selector in the list\n\t\t\t\t\tgroups = tokenize( selector );\n\t\t\t\t\ti = groups.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tgroups[ i ] = ( nid ? \"#\" + nid : \":scope\" ) + \" \" +\n\t\t\t\t\t\t\ttoSelector( groups[ i ] );\n\t\t\t\t\t}\n\t\t\t\t\tnewSelector = groups.join( \",\" );\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tpush.apply( results,\n\t\t\t\t\t\tnewContext.querySelectorAll( newSelector )\n\t\t\t\t\t);\n\t\t\t\t\treturn results;\n\t\t\t\t} catch ( qsaError ) {\n\t\t\t\t\tnonnativeSelectorCache( selector, true );\n\t\t\t\t} finally {\n\t\t\t\t\tif ( nid === expando ) {\n\t\t\t\t\t\tcontext.removeAttribute( \"id\" );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// All others\n\treturn select( selector.replace( rtrimCSS, \"$1\" ), context, results, seed );\n}\n\n/**\n * Create key-value caches of limited size\n * @returns {function(string, object)} Returns the Object data after storing it on itself with\n *\tproperty name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)\n *\tdeleting the oldest entry\n */\nfunction createCache() {\n\tvar keys = [];\n\n\tfunction cache( key, value ) {\n\n\t\t// Use (key + \" \") to avoid collision with native prototype properties\n\t\t// (see https://github.com/jquery/sizzle/issues/157)\n\t\tif ( keys.push( key + \" \" ) > Expr.cacheLength ) {\n\n\t\t\t// Only keep the most recent entries\n\t\t\tdelete cache[ keys.shift() ];\n\t\t}\n\t\treturn ( cache[ key + \" \" ] = value );\n\t}\n\treturn cache;\n}\n\n/**\n * Mark a function for special use by jQuery selector module\n * @param {Function} fn The function to mark\n */\nfunction markFunction( fn ) {\n\tfn[ expando ] = true;\n\treturn fn;\n}\n\n/**\n * Support testing using an element\n * @param {Function} fn Passed the created element and returns a boolean result\n */\nfunction assert( fn ) {\n\tvar el = document.createElement( \"fieldset\" );\n\n\ttry {\n\t\treturn !!fn( el );\n\t} catch ( e ) {\n\t\treturn false;\n\t} finally {\n\n\t\t// Remove from its parent by default\n\t\tif ( el.parentNode ) {\n\t\t\tel.parentNode.removeChild( el );\n\t\t}\n\n\t\t// release memory in IE\n\t\tel = null;\n\t}\n}\n\n/**\n * Returns a function to use in pseudos for input types\n * @param {String} type\n */\nfunction createInputPseudo( type ) {\n\treturn function( elem ) {\n\t\treturn nodeName( elem, \"input\" ) && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for buttons\n * @param {String} type\n */\nfunction createButtonPseudo( type ) {\n\treturn function( elem ) {\n\t\treturn ( nodeName( elem, \"input\" ) || nodeName( elem, \"button\" ) ) &&\n\t\t\telem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for :enabled/:disabled\n * @param {Boolean} disabled true for :disabled; false for :enabled\n */\nfunction createDisabledPseudo( disabled ) {\n\n\t// Known :disabled false positives: fieldset[disabled] > legend:nth-of-type(n+2) :can-disable\n\treturn function( elem ) {\n\n\t\t// Only certain elements can match :enabled or :disabled\n\t\t// https://html.spec.whatwg.org/multipage/scripting.html#selector-enabled\n\t\t// https://html.spec.whatwg.org/multipage/scripting.html#selector-disabled\n\t\tif ( \"form\" in elem ) {\n\n\t\t\t// Check for inherited disabledness on relevant non-disabled elements:\n\t\t\t// * listed form-associated elements in a disabled fieldset\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#category-listed\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#concept-fe-disabled\n\t\t\t// * option elements in a disabled optgroup\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#concept-option-disabled\n\t\t\t// All such elements have a \"form\" property.\n\t\t\tif ( elem.parentNode && elem.disabled === false ) {\n\n\t\t\t\t// Option elements defer to a parent optgroup if present\n\t\t\t\tif ( \"label\" in elem ) {\n\t\t\t\t\tif ( \"label\" in elem.parentNode ) {\n\t\t\t\t\t\treturn elem.parentNode.disabled === disabled;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn elem.disabled === disabled;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Support: IE 6 - 11+\n\t\t\t\t// Use the isDisabled shortcut property to check for disabled fieldset ancestors\n\t\t\t\treturn elem.isDisabled === disabled ||\n\n\t\t\t\t\t// Where there is no isDisabled, check manually\n\t\t\t\t\telem.isDisabled !== !disabled &&\n\t\t\t\t\t\tinDisabledFieldset( elem ) === disabled;\n\t\t\t}\n\n\t\t\treturn elem.disabled === disabled;\n\n\t\t// Try to winnow out elements that can't be disabled before trusting the disabled property.\n\t\t// Some victims get caught in our net (label, legend, menu, track), but it shouldn't\n\t\t// even exist on them, let alone have a boolean value.\n\t\t} else if ( \"label\" in elem ) {\n\t\t\treturn elem.disabled === disabled;\n\t\t}\n\n\t\t// Remaining elements are neither :enabled nor :disabled\n\t\treturn false;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for positionals\n * @param {Function} fn\n */\nfunction createPositionalPseudo( fn ) {\n\treturn markFunction( function( argument ) {\n\t\targument = +argument;\n\t\treturn markFunction( function( seed, matches ) {\n\t\t\tvar j,\n\t\t\t\tmatchIndexes = fn( [], seed.length, argument ),\n\t\t\t\ti = matchIndexes.length;\n\n\t\t\t// Match elements found at the specified indexes\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( seed[ ( j = matchIndexes[ i ] ) ] ) {\n\t\t\t\t\tseed[ j ] = !( matches[ j ] = seed[ j ] );\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t} );\n}\n\n/**\n * Checks a node for validity as a jQuery selector context\n * @param {Element|Object=} context\n * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value\n */\nfunction testContext( context ) {\n\treturn context && typeof context.getElementsByTagName !== \"undefined\" && context;\n}\n\n/**\n * Sets document-related variables once based on the current document\n * @param {Element|Object} [node] An element or document object to use to set the document\n * @returns {Object} Returns the current document\n */\nfunction setDocument( node ) {\n\tvar subWindow,\n\t\tdoc = node ? node.ownerDocument || node : preferredDoc;\n\n\t// Return early if doc is invalid or already selected\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( doc == document || doc.nodeType !== 9 || !doc.documentElement ) {\n\t\treturn document;\n\t}\n\n\t// Update global variables\n\tdocument = doc;\n\tdocumentElement = document.documentElement;\n\tdocumentIsHTML = !jQuery.isXMLDoc( document );\n\n\t// Support: iOS 7 only, IE 9 - 11+\n\t// Older browsers didn't support unprefixed `matches`.\n\tmatches = documentElement.matches ||\n\t\tdocumentElement.webkitMatchesSelector ||\n\t\tdocumentElement.msMatchesSelector;\n\n\t// Support: IE 9 - 11+, Edge 12 - 18+\n\t// Accessing iframe documents after unload throws \"permission denied\" errors\n\t// (see trac-13936).\n\t// Limit the fix to IE & Edge Legacy; despite Edge 15+ implementing `matches`,\n\t// all IE 9+ and Edge Legacy versions implement `msMatchesSelector` as well.\n\tif ( documentElement.msMatchesSelector &&\n\n\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t// two documents; shallow comparisons work.\n\t\t// eslint-disable-next-line eqeqeq\n\t\tpreferredDoc != document &&\n\t\t( subWindow = document.defaultView ) && subWindow.top !== subWindow ) {\n\n\t\t// Support: IE 9 - 11+, Edge 12 - 18+\n\t\tsubWindow.addEventListener( \"unload\", unloadHandler );\n\t}\n\n\t// Support: IE <10\n\t// Check if getElementById returns elements by name\n\t// The broken getElementById methods don't pick up programmatically-set names,\n\t// so use a roundabout getElementsByName test\n\tsupport.getById = assert( function( el ) {\n\t\tdocumentElement.appendChild( el ).id = jQuery.expando;\n\t\treturn !document.getElementsByName ||\n\t\t\t!document.getElementsByName( jQuery.expando ).length;\n\t} );\n\n\t// Support: IE 9 only\n\t// Check to see if it's possible to do matchesSelector\n\t// on a disconnected node.\n\tsupport.disconnectedMatch = assert( function( el ) {\n\t\treturn matches.call( el, \"*\" );\n\t} );\n\n\t// Support: IE 9 - 11+, Edge 12 - 18+\n\t// IE/Edge don't support the :scope pseudo-class.\n\tsupport.scope = assert( function() {\n\t\treturn document.querySelectorAll( \":scope\" );\n\t} );\n\n\t// Support: Chrome 105 - 111 only, Safari 15.4 - 16.3 only\n\t// Make sure the `:has()` argument is parsed unforgivingly.\n\t// We include `*` in the test to detect buggy implementations that are\n\t// _selectively_ forgiving (specifically when the list includes at least\n\t// one valid selector).\n\t// Note that we treat complete lack of support for `:has()` as if it were\n\t// spec-compliant support, which is fine because use of `:has()` in such\n\t// environments will fail in the qSA path and fall back to jQuery traversal\n\t// anyway.\n\tsupport.cssHas = assert( function() {\n\t\ttry {\n\t\t\tdocument.querySelector( \":has(*,:jqfake)\" );\n\t\t\treturn false;\n\t\t} catch ( e ) {\n\t\t\treturn true;\n\t\t}\n\t} );\n\n\t// ID filter and find\n\tif ( support.getById ) {\n\t\tExpr.filter.ID = function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn elem.getAttribute( \"id\" ) === attrId;\n\t\t\t};\n\t\t};\n\t\tExpr.find.ID = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\n\t\t\t\tvar elem = context.getElementById( id );\n\t\t\t\treturn elem ? [ elem ] : [];\n\t\t\t}\n\t\t};\n\t} else {\n\t\tExpr.filter.ID =  function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\tvar node = typeof elem.getAttributeNode !== \"undefined\" &&\n\t\t\t\t\telem.getAttributeNode( \"id\" );\n\t\t\t\treturn node && node.value === attrId;\n\t\t\t};\n\t\t};\n\n\t\t// Support: IE 6 - 7 only\n\t\t// getElementById is not reliable as a find shortcut\n\t\tExpr.find.ID = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\n\t\t\t\tvar node, i, elems,\n\t\t\t\t\telem = context.getElementById( id );\n\n\t\t\t\tif ( elem ) {\n\n\t\t\t\t\t// Verify the id attribute\n\t\t\t\t\tnode = elem.getAttributeNode( \"id\" );\n\t\t\t\t\tif ( node && node.value === id ) {\n\t\t\t\t\t\treturn [ elem ];\n\t\t\t\t\t}\n\n\t\t\t\t\t// Fall back on getElementsByName\n\t\t\t\t\telems = context.getElementsByName( id );\n\t\t\t\t\ti = 0;\n\t\t\t\t\twhile ( ( elem = elems[ i++ ] ) ) {\n\t\t\t\t\t\tnode = elem.getAttributeNode( \"id\" );\n\t\t\t\t\t\tif ( node && node.value === id ) {\n\t\t\t\t\t\t\treturn [ elem ];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn [];\n\t\t\t}\n\t\t};\n\t}\n\n\t// Tag\n\tExpr.find.TAG = function( tag, context ) {\n\t\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\n\t\t\treturn context.getElementsByTagName( tag );\n\n\t\t// DocumentFragment nodes don't have gEBTN\n\t\t} else {\n\t\t\treturn context.querySelectorAll( tag );\n\t\t}\n\t};\n\n\t// Class\n\tExpr.find.CLASS = function( className, context ) {\n\t\tif ( typeof context.getElementsByClassName !== \"undefined\" && documentIsHTML ) {\n\t\t\treturn context.getElementsByClassName( className );\n\t\t}\n\t};\n\n\t/* QSA/matchesSelector\n\t---------------------------------------------------------------------- */\n\n\t// QSA and matchesSelector support\n\n\trbuggyQSA = [];\n\n\t// Build QSA regex\n\t// Regex strategy adopted from Diego Perini\n\tassert( function( el ) {\n\n\t\tvar input;\n\n\t\tdocumentElement.appendChild( el ).innerHTML =\n\t\t\t\"<a id='\" + expando + \"' href='' disabled='disabled'></a>\" +\n\t\t\t\"<select id='\" + expando + \"-\\r\\\\' disabled='disabled'>\" +\n\t\t\t\"<option selected=''></option></select>\";\n\n\t\t// Support: iOS <=7 - 8 only\n\t\t// Boolean attributes and \"value\" are not treated correctly in some XML documents\n\t\tif ( !el.querySelectorAll( \"[selected]\" ).length ) {\n\t\t\trbuggyQSA.push( \"\\\\[\" + whitespace + \"*(?:value|\" + booleans + \")\" );\n\t\t}\n\n\t\t// Support: iOS <=7 - 8 only\n\t\tif ( !el.querySelectorAll( \"[id~=\" + expando + \"-]\" ).length ) {\n\t\t\trbuggyQSA.push( \"~=\" );\n\t\t}\n\n\t\t// Support: iOS 8 only\n\t\t// https://bugs.webkit.org/show_bug.cgi?id=136851\n\t\t// In-page `selector#id sibling-combinator selector` fails\n\t\tif ( !el.querySelectorAll( \"a#\" + expando + \"+*\" ).length ) {\n\t\t\trbuggyQSA.push( \".#.+[+~]\" );\n\t\t}\n\n\t\t// Support: Chrome <=105+, Firefox <=104+, Safari <=15.4+\n\t\t// In some of the document kinds, these selectors wouldn't work natively.\n\t\t// This is probably OK but for backwards compatibility we want to maintain\n\t\t// handling them through jQuery traversal in jQuery 3.x.\n\t\tif ( !el.querySelectorAll( \":checked\" ).length ) {\n\t\t\trbuggyQSA.push( \":checked\" );\n\t\t}\n\n\t\t// Support: Windows 8 Native Apps\n\t\t// The type and name attributes are restricted during .innerHTML assignment\n\t\tinput = document.createElement( \"input\" );\n\t\tinput.setAttribute( \"type\", \"hidden\" );\n\t\tel.appendChild( input ).setAttribute( \"name\", \"D\" );\n\n\t\t// Support: IE 9 - 11+\n\t\t// IE's :disabled selector does not pick up the children of disabled fieldsets\n\t\t// Support: Chrome <=105+, Firefox <=104+, Safari <=15.4+\n\t\t// In some of the document kinds, these selectors wouldn't work natively.\n\t\t// This is probably OK but for backwards compatibility we want to maintain\n\t\t// handling them through jQuery traversal in jQuery 3.x.\n\t\tdocumentElement.appendChild( el ).disabled = true;\n\t\tif ( el.querySelectorAll( \":disabled\" ).length !== 2 ) {\n\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\n\t\t}\n\n\t\t// Support: IE 11+, Edge 15 - 18+\n\t\t// IE 11/Edge don't find elements on a `[name='']` query in some cases.\n\t\t// Adding a temporary attribute to the document before the selection works\n\t\t// around the issue.\n\t\t// Interestingly, IE 10 & older don't seem to have the issue.\n\t\tinput = document.createElement( \"input\" );\n\t\tinput.setAttribute( \"name\", \"\" );\n\t\tel.appendChild( input );\n\t\tif ( !el.querySelectorAll( \"[name='']\" ).length ) {\n\t\t\trbuggyQSA.push( \"\\\\[\" + whitespace + \"*name\" + whitespace + \"*=\" +\n\t\t\t\twhitespace + \"*(?:''|\\\"\\\")\" );\n\t\t}\n\t} );\n\n\tif ( !support.cssHas ) {\n\n\t\t// Support: Chrome 105 - 110+, Safari 15.4 - 16.3+\n\t\t// Our regular `try-catch` mechanism fails to detect natively-unsupported\n\t\t// pseudo-classes inside `:has()` (such as `:has(:contains(\"Foo\"))`)\n\t\t// in browsers that parse the `:has()` argument as a forgiving selector list.\n\t\t// https://drafts.csswg.org/selectors/#relational now requires the argument\n\t\t// to be parsed unforgivingly, but browsers have not yet fully adjusted.\n\t\trbuggyQSA.push( \":has\" );\n\t}\n\n\trbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join( \"|\" ) );\n\n\t/* Sorting\n\t---------------------------------------------------------------------- */\n\n\t// Document order sorting\n\tsortOrder = function( a, b ) {\n\n\t\t// Flag for duplicate removal\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\t// Sort on method existence if only one input has compareDocumentPosition\n\t\tvar compare = !a.compareDocumentPosition - !b.compareDocumentPosition;\n\t\tif ( compare ) {\n\t\t\treturn compare;\n\t\t}\n\n\t\t// Calculate position if both inputs belong to the same document\n\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t// two documents; shallow comparisons work.\n\t\t// eslint-disable-next-line eqeqeq\n\t\tcompare = ( a.ownerDocument || a ) == ( b.ownerDocument || b ) ?\n\t\t\ta.compareDocumentPosition( b ) :\n\n\t\t\t// Otherwise we know they are disconnected\n\t\t\t1;\n\n\t\t// Disconnected nodes\n\t\tif ( compare & 1 ||\n\t\t\t( !support.sortDetached && b.compareDocumentPosition( a ) === compare ) ) {\n\n\t\t\t// Choose the first element that is related to our preferred document\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\tif ( a === document || a.ownerDocument == preferredDoc &&\n\t\t\t\tfind.contains( preferredDoc, a ) ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\tif ( b === document || b.ownerDocument == preferredDoc &&\n\t\t\t\tfind.contains( preferredDoc, b ) ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\t// Maintain original order\n\t\t\treturn sortInput ?\n\t\t\t\t( indexOf.call( sortInput, a ) - indexOf.call( sortInput, b ) ) :\n\t\t\t\t0;\n\t\t}\n\n\t\treturn compare & 4 ? -1 : 1;\n\t};\n\n\treturn document;\n}\n\nfind.matches = function( expr, elements ) {\n\treturn find( expr, null, null, elements );\n};\n\nfind.matchesSelector = function( elem, expr ) {\n\tsetDocument( elem );\n\n\tif ( documentIsHTML &&\n\t\t!nonnativeSelectorCache[ expr + \" \" ] &&\n\t\t( !rbuggyQSA || !rbuggyQSA.test( expr ) ) ) {\n\n\t\ttry {\n\t\t\tvar ret = matches.call( elem, expr );\n\n\t\t\t// IE 9's matchesSelector returns false on disconnected nodes\n\t\t\tif ( ret || support.disconnectedMatch ||\n\n\t\t\t\t\t// As well, disconnected nodes are said to be in a document\n\t\t\t\t\t// fragment in IE 9\n\t\t\t\t\telem.document && elem.document.nodeType !== 11 ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t} catch ( e ) {\n\t\t\tnonnativeSelectorCache( expr, true );\n\t\t}\n\t}\n\n\treturn find( expr, document, null, [ elem ] ).length > 0;\n};\n\nfind.contains = function( context, elem ) {\n\n\t// Set document vars if needed\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( ( context.ownerDocument || context ) != document ) {\n\t\tsetDocument( context );\n\t}\n\treturn jQuery.contains( context, elem );\n};\n\n\nfind.attr = function( elem, name ) {\n\n\t// Set document vars if needed\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( ( elem.ownerDocument || elem ) != document ) {\n\t\tsetDocument( elem );\n\t}\n\n\tvar fn = Expr.attrHandle[ name.toLowerCase() ],\n\n\t\t// Don't get fooled by Object.prototype properties (see trac-13807)\n\t\tval = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?\n\t\t\tfn( elem, name, !documentIsHTML ) :\n\t\t\tundefined;\n\n\tif ( val !== undefined ) {\n\t\treturn val;\n\t}\n\n\treturn elem.getAttribute( name );\n};\n\nfind.error = function( msg ) {\n\tthrow new Error( \"Syntax error, unrecognized expression: \" + msg );\n};\n\n/**\n * Document sorting and removing duplicates\n * @param {ArrayLike} results\n */\njQuery.uniqueSort = function( results ) {\n\tvar elem,\n\t\tduplicates = [],\n\t\tj = 0,\n\t\ti = 0;\n\n\t// Unless we *know* we can detect duplicates, assume their presence\n\t//\n\t// Support: Android <=4.0+\n\t// Testing for detecting duplicates is unpredictable so instead assume we can't\n\t// depend on duplicate detection in all browsers without a stable sort.\n\thasDuplicate = !support.sortStable;\n\tsortInput = !support.sortStable && slice.call( results, 0 );\n\tsort.call( results, sortOrder );\n\n\tif ( hasDuplicate ) {\n\t\twhile ( ( elem = results[ i++ ] ) ) {\n\t\t\tif ( elem === results[ i ] ) {\n\t\t\t\tj = duplicates.push( i );\n\t\t\t}\n\t\t}\n\t\twhile ( j-- ) {\n\t\t\tsplice.call( results, duplicates[ j ], 1 );\n\t\t}\n\t}\n\n\t// Clear input after sorting to release objects\n\t// See https://github.com/jquery/sizzle/pull/225\n\tsortInput = null;\n\n\treturn results;\n};\n\njQuery.fn.uniqueSort = function() {\n\treturn this.pushStack( jQuery.uniqueSort( slice.apply( this ) ) );\n};\n\nExpr = jQuery.expr = {\n\n\t// Can be adjusted by the user\n\tcacheLength: 50,\n\n\tcreatePseudo: markFunction,\n\n\tmatch: matchExpr,\n\n\tattrHandle: {},\n\n\tfind: {},\n\n\trelative: {\n\t\t\">\": { dir: \"parentNode\", first: true },\n\t\t\" \": { dir: \"parentNode\" },\n\t\t\"+\": { dir: \"previousSibling\", first: true },\n\t\t\"~\": { dir: \"previousSibling\" }\n\t},\n\n\tpreFilter: {\n\t\tATTR: function( match ) {\n\t\t\tmatch[ 1 ] = match[ 1 ].replace( runescape, funescape );\n\n\t\t\t// Move the given value to match[3] whether quoted or unquoted\n\t\t\tmatch[ 3 ] = ( match[ 3 ] || match[ 4 ] || match[ 5 ] || \"\" )\n\t\t\t\t.replace( runescape, funescape );\n\n\t\t\tif ( match[ 2 ] === \"~=\" ) {\n\t\t\t\tmatch[ 3 ] = \" \" + match[ 3 ] + \" \";\n\t\t\t}\n\n\t\t\treturn match.slice( 0, 4 );\n\t\t},\n\n\t\tCHILD: function( match ) {\n\n\t\t\t/* matches from matchExpr[\"CHILD\"]\n\t\t\t\t1 type (only|nth|...)\n\t\t\t\t2 what (child|of-type)\n\t\t\t\t3 argument (even|odd|\\d*|\\d*n([+-]\\d+)?|...)\n\t\t\t\t4 xn-component of xn+y argument ([+-]?\\d*n|)\n\t\t\t\t5 sign of xn-component\n\t\t\t\t6 x of xn-component\n\t\t\t\t7 sign of y-component\n\t\t\t\t8 y of y-component\n\t\t\t*/\n\t\t\tmatch[ 1 ] = match[ 1 ].toLowerCase();\n\n\t\t\tif ( match[ 1 ].slice( 0, 3 ) === \"nth\" ) {\n\n\t\t\t\t// nth-* requires argument\n\t\t\t\tif ( !match[ 3 ] ) {\n\t\t\t\t\tfind.error( match[ 0 ] );\n\t\t\t\t}\n\n\t\t\t\t// numeric x and y parameters for Expr.filter.CHILD\n\t\t\t\t// remember that false/true cast respectively to 0/1\n\t\t\t\tmatch[ 4 ] = +( match[ 4 ] ?\n\t\t\t\t\tmatch[ 5 ] + ( match[ 6 ] || 1 ) :\n\t\t\t\t\t2 * ( match[ 3 ] === \"even\" || match[ 3 ] === \"odd\" )\n\t\t\t\t);\n\t\t\t\tmatch[ 5 ] = +( ( match[ 7 ] + match[ 8 ] ) || match[ 3 ] === \"odd\" );\n\n\t\t\t// other types prohibit arguments\n\t\t\t} else if ( match[ 3 ] ) {\n\t\t\t\tfind.error( match[ 0 ] );\n\t\t\t}\n\n\t\t\treturn match;\n\t\t},\n\n\t\tPSEUDO: function( match ) {\n\t\t\tvar excess,\n\t\t\t\tunquoted = !match[ 6 ] && match[ 2 ];\n\n\t\t\tif ( matchExpr.CHILD.test( match[ 0 ] ) ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\t// Accept quoted arguments as-is\n\t\t\tif ( match[ 3 ] ) {\n\t\t\t\tmatch[ 2 ] = match[ 4 ] || match[ 5 ] || \"\";\n\n\t\t\t// Strip excess characters from unquoted arguments\n\t\t\t} else if ( unquoted && rpseudo.test( unquoted ) &&\n\n\t\t\t\t// Get excess from tokenize (recursively)\n\t\t\t\t( excess = tokenize( unquoted, true ) ) &&\n\n\t\t\t\t// advance to the next closing parenthesis\n\t\t\t\t( excess = unquoted.indexOf( \")\", unquoted.length - excess ) - unquoted.length ) ) {\n\n\t\t\t\t// excess is a negative index\n\t\t\t\tmatch[ 0 ] = match[ 0 ].slice( 0, excess );\n\t\t\t\tmatch[ 2 ] = unquoted.slice( 0, excess );\n\t\t\t}\n\n\t\t\t// Return only captures needed by the pseudo filter method (type and argument)\n\t\t\treturn match.slice( 0, 3 );\n\t\t}\n\t},\n\n\tfilter: {\n\n\t\tTAG: function( nodeNameSelector ) {\n\t\t\tvar expectedNodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn nodeNameSelector === \"*\" ?\n\t\t\t\tfunction() {\n\t\t\t\t\treturn true;\n\t\t\t\t} :\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn nodeName( elem, expectedNodeName );\n\t\t\t\t};\n\t\t},\n\n\t\tCLASS: function( className ) {\n\t\t\tvar pattern = classCache[ className + \" \" ];\n\n\t\t\treturn pattern ||\n\t\t\t\t( pattern = new RegExp( \"(^|\" + whitespace + \")\" + className +\n\t\t\t\t\t\"(\" + whitespace + \"|$)\" ) ) &&\n\t\t\t\tclassCache( className, function( elem ) {\n\t\t\t\t\treturn pattern.test(\n\t\t\t\t\t\ttypeof elem.className === \"string\" && elem.className ||\n\t\t\t\t\t\t\ttypeof elem.getAttribute !== \"undefined\" &&\n\t\t\t\t\t\t\t\telem.getAttribute( \"class\" ) ||\n\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t);\n\t\t\t\t} );\n\t\t},\n\n\t\tATTR: function( name, operator, check ) {\n\t\t\treturn function( elem ) {\n\t\t\t\tvar result = find.attr( elem, name );\n\n\t\t\t\tif ( result == null ) {\n\t\t\t\t\treturn operator === \"!=\";\n\t\t\t\t}\n\t\t\t\tif ( !operator ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tresult += \"\";\n\n\t\t\t\tif ( operator === \"=\" ) {\n\t\t\t\t\treturn result === check;\n\t\t\t\t}\n\t\t\t\tif ( operator === \"!=\" ) {\n\t\t\t\t\treturn result !== check;\n\t\t\t\t}\n\t\t\t\tif ( operator === \"^=\" ) {\n\t\t\t\t\treturn check && result.indexOf( check ) === 0;\n\t\t\t\t}\n\t\t\t\tif ( operator === \"*=\" ) {\n\t\t\t\t\treturn check && result.indexOf( check ) > -1;\n\t\t\t\t}\n\t\t\t\tif ( operator === \"$=\" ) {\n\t\t\t\t\treturn check && result.slice( -check.length ) === check;\n\t\t\t\t}\n\t\t\t\tif ( operator === \"~=\" ) {\n\t\t\t\t\treturn ( \" \" + result.replace( rwhitespace, \" \" ) + \" \" )\n\t\t\t\t\t\t.indexOf( check ) > -1;\n\t\t\t\t}\n\t\t\t\tif ( operator === \"|=\" ) {\n\t\t\t\t\treturn result === check || result.slice( 0, check.length + 1 ) === check + \"-\";\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t};\n\t\t},\n\n\t\tCHILD: function( type, what, _argument, first, last ) {\n\t\t\tvar simple = type.slice( 0, 3 ) !== \"nth\",\n\t\t\t\tforward = type.slice( -4 ) !== \"last\",\n\t\t\t\tofType = what === \"of-type\";\n\n\t\t\treturn first === 1 && last === 0 ?\n\n\t\t\t\t// Shortcut for :nth-*(n)\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn !!elem.parentNode;\n\t\t\t\t} :\n\n\t\t\t\tfunction( elem, _context, xml ) {\n\t\t\t\t\tvar cache, outerCache, node, nodeIndex, start,\n\t\t\t\t\t\tdir = simple !== forward ? \"nextSibling\" : \"previousSibling\",\n\t\t\t\t\t\tparent = elem.parentNode,\n\t\t\t\t\t\tname = ofType && elem.nodeName.toLowerCase(),\n\t\t\t\t\t\tuseCache = !xml && !ofType,\n\t\t\t\t\t\tdiff = false;\n\n\t\t\t\t\tif ( parent ) {\n\n\t\t\t\t\t\t// :(first|last|only)-(child|of-type)\n\t\t\t\t\t\tif ( simple ) {\n\t\t\t\t\t\t\twhile ( dir ) {\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\twhile ( ( node = node[ dir ] ) ) {\n\t\t\t\t\t\t\t\t\tif ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnodeName( node, name ) :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) {\n\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// Reverse direction for :only-* (if we haven't yet done so)\n\t\t\t\t\t\t\t\tstart = dir = type === \"only\" && !start && \"nextSibling\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstart = [ forward ? parent.firstChild : parent.lastChild ];\n\n\t\t\t\t\t\t// non-xml :nth-child(...) stores cache data on `parent`\n\t\t\t\t\t\tif ( forward && useCache ) {\n\n\t\t\t\t\t\t\t// Seek `elem` from a previously-cached index\n\t\t\t\t\t\t\touterCache = parent[ expando ] || ( parent[ expando ] = {} );\n\t\t\t\t\t\t\tcache = outerCache[ type ] || [];\n\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\tdiff = nodeIndex && cache[ 2 ];\n\t\t\t\t\t\t\tnode = nodeIndex && parent.childNodes[ nodeIndex ];\n\n\t\t\t\t\t\t\twhile ( ( node = ++nodeIndex && node && node[ dir ] ||\n\n\t\t\t\t\t\t\t\t// Fallback to seeking `elem` from the start\n\t\t\t\t\t\t\t\t( diff = nodeIndex = 0 ) || start.pop() ) ) {\n\n\t\t\t\t\t\t\t\t// When found, cache indexes on `parent` and break\n\t\t\t\t\t\t\t\tif ( node.nodeType === 1 && ++diff && node === elem ) {\n\t\t\t\t\t\t\t\t\touterCache[ type ] = [ dirruns, nodeIndex, diff ];\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Use previously-cached element index if available\n\t\t\t\t\t\t\tif ( useCache ) {\n\t\t\t\t\t\t\t\touterCache = elem[ expando ] || ( elem[ expando ] = {} );\n\t\t\t\t\t\t\t\tcache = outerCache[ type ] || [];\n\t\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\t\tdiff = nodeIndex;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// xml :nth-child(...)\n\t\t\t\t\t\t\t// or :nth-last-child(...) or :nth(-last)?-of-type(...)\n\t\t\t\t\t\t\tif ( diff === false ) {\n\n\t\t\t\t\t\t\t\t// Use the same loop as above to seek `elem` from the start\n\t\t\t\t\t\t\t\twhile ( ( node = ++nodeIndex && node && node[ dir ] ||\n\t\t\t\t\t\t\t\t\t( diff = nodeIndex = 0 ) || start.pop() ) ) {\n\n\t\t\t\t\t\t\t\t\tif ( ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnodeName( node, name ) :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) &&\n\t\t\t\t\t\t\t\t\t\t++diff ) {\n\n\t\t\t\t\t\t\t\t\t\t// Cache the index of each encountered element\n\t\t\t\t\t\t\t\t\t\tif ( useCache ) {\n\t\t\t\t\t\t\t\t\t\t\touterCache = node[ expando ] ||\n\t\t\t\t\t\t\t\t\t\t\t\t( node[ expando ] = {} );\n\t\t\t\t\t\t\t\t\t\t\touterCache[ type ] = [ dirruns, diff ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif ( node === elem ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Incorporate the offset, then check against cycle size\n\t\t\t\t\t\tdiff -= last;\n\t\t\t\t\t\treturn diff === first || ( diff % first === 0 && diff / first >= 0 );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t},\n\n\t\tPSEUDO: function( pseudo, argument ) {\n\n\t\t\t// pseudo-class names are case-insensitive\n\t\t\t// https://www.w3.org/TR/selectors/#pseudo-classes\n\t\t\t// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters\n\t\t\t// Remember that setFilters inherits from pseudos\n\t\t\tvar args,\n\t\t\t\tfn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||\n\t\t\t\t\tfind.error( \"unsupported pseudo: \" + pseudo );\n\n\t\t\t// The user may use createPseudo to indicate that\n\t\t\t// arguments are needed to create the filter function\n\t\t\t// just as jQuery does\n\t\t\tif ( fn[ expando ] ) {\n\t\t\t\treturn fn( argument );\n\t\t\t}\n\n\t\t\t// But maintain support for old signatures\n\t\t\tif ( fn.length > 1 ) {\n\t\t\t\targs = [ pseudo, pseudo, \"\", argument ];\n\t\t\t\treturn Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?\n\t\t\t\t\tmarkFunction( function( seed, matches ) {\n\t\t\t\t\t\tvar idx,\n\t\t\t\t\t\t\tmatched = fn( seed, argument ),\n\t\t\t\t\t\t\ti = matched.length;\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tidx = indexOf.call( seed, matched[ i ] );\n\t\t\t\t\t\t\tseed[ idx ] = !( matches[ idx ] = matched[ i ] );\n\t\t\t\t\t\t}\n\t\t\t\t\t} ) :\n\t\t\t\t\tfunction( elem ) {\n\t\t\t\t\t\treturn fn( elem, 0, args );\n\t\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn fn;\n\t\t}\n\t},\n\n\tpseudos: {\n\n\t\t// Potentially complex pseudos\n\t\tnot: markFunction( function( selector ) {\n\n\t\t\t// Trim the selector passed to compile\n\t\t\t// to avoid treating leading and trailing\n\t\t\t// spaces as combinators\n\t\t\tvar input = [],\n\t\t\t\tresults = [],\n\t\t\t\tmatcher = compile( selector.replace( rtrimCSS, \"$1\" ) );\n\n\t\t\treturn matcher[ expando ] ?\n\t\t\t\tmarkFunction( function( seed, matches, _context, xml ) {\n\t\t\t\t\tvar elem,\n\t\t\t\t\t\tunmatched = matcher( seed, null, xml, [] ),\n\t\t\t\t\t\ti = seed.length;\n\n\t\t\t\t\t// Match elements unmatched by `matcher`\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( ( elem = unmatched[ i ] ) ) {\n\t\t\t\t\t\t\tseed[ i ] = !( matches[ i ] = elem );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} ) :\n\t\t\t\tfunction( elem, _context, xml ) {\n\t\t\t\t\tinput[ 0 ] = elem;\n\t\t\t\t\tmatcher( input, null, xml, results );\n\n\t\t\t\t\t// Don't keep the element\n\t\t\t\t\t// (see https://github.com/jquery/sizzle/issues/299)\n\t\t\t\t\tinput[ 0 ] = null;\n\t\t\t\t\treturn !results.pop();\n\t\t\t\t};\n\t\t} ),\n\n\t\thas: markFunction( function( selector ) {\n\t\t\treturn function( elem ) {\n\t\t\t\treturn find( selector, elem ).length > 0;\n\t\t\t};\n\t\t} ),\n\n\t\tcontains: markFunction( function( text ) {\n\t\t\ttext = text.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn ( elem.textContent || jQuery.text( elem ) ).indexOf( text ) > -1;\n\t\t\t};\n\t\t} ),\n\n\t\t// \"Whether an element is represented by a :lang() selector\n\t\t// is based solely on the element's language value\n\t\t// being equal to the identifier C,\n\t\t// or beginning with the identifier C immediately followed by \"-\".\n\t\t// The matching of C against the element's language value is performed case-insensitively.\n\t\t// The identifier C does not have to be a valid language name.\"\n\t\t// https://www.w3.org/TR/selectors/#lang-pseudo\n\t\tlang: markFunction( function( lang ) {\n\n\t\t\t// lang value must be a valid identifier\n\t\t\tif ( !ridentifier.test( lang || \"\" ) ) {\n\t\t\t\tfind.error( \"unsupported lang: \" + lang );\n\t\t\t}\n\t\t\tlang = lang.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn function( elem ) {\n\t\t\t\tvar elemLang;\n\t\t\t\tdo {\n\t\t\t\t\tif ( ( elemLang = documentIsHTML ?\n\t\t\t\t\t\telem.lang :\n\t\t\t\t\t\telem.getAttribute( \"xml:lang\" ) || elem.getAttribute( \"lang\" ) ) ) {\n\n\t\t\t\t\t\telemLang = elemLang.toLowerCase();\n\t\t\t\t\t\treturn elemLang === lang || elemLang.indexOf( lang + \"-\" ) === 0;\n\t\t\t\t\t}\n\t\t\t\t} while ( ( elem = elem.parentNode ) && elem.nodeType === 1 );\n\t\t\t\treturn false;\n\t\t\t};\n\t\t} ),\n\n\t\t// Miscellaneous\n\t\ttarget: function( elem ) {\n\t\t\tvar hash = window.location && window.location.hash;\n\t\t\treturn hash && hash.slice( 1 ) === elem.id;\n\t\t},\n\n\t\troot: function( elem ) {\n\t\t\treturn elem === documentElement;\n\t\t},\n\n\t\tfocus: function( elem ) {\n\t\t\treturn elem === safeActiveElement() &&\n\t\t\t\tdocument.hasFocus() &&\n\t\t\t\t!!( elem.type || elem.href || ~elem.tabIndex );\n\t\t},\n\n\t\t// Boolean properties\n\t\tenabled: createDisabledPseudo( false ),\n\t\tdisabled: createDisabledPseudo( true ),\n\n\t\tchecked: function( elem ) {\n\n\t\t\t// In CSS3, :checked should return both checked and selected elements\n\t\t\t// https://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\treturn ( nodeName( elem, \"input\" ) && !!elem.checked ) ||\n\t\t\t\t( nodeName( elem, \"option\" ) && !!elem.selected );\n\t\t},\n\n\t\tselected: function( elem ) {\n\n\t\t\t// Support: IE <=11+\n\t\t\t// Accessing the selectedIndex property\n\t\t\t// forces the browser to treat the default option as\n\t\t\t// selected when in an optgroup.\n\t\t\tif ( elem.parentNode ) {\n\t\t\t\t// eslint-disable-next-line no-unused-expressions\n\t\t\t\telem.parentNode.selectedIndex;\n\t\t\t}\n\n\t\t\treturn elem.selected === true;\n\t\t},\n\n\t\t// Contents\n\t\tempty: function( elem ) {\n\n\t\t\t// https://www.w3.org/TR/selectors/#empty-pseudo\n\t\t\t// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),\n\t\t\t//   but not by others (comment: 8; processing instruction: 7; etc.)\n\t\t\t// nodeType < 6 works because attributes (2) do not appear as children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tif ( elem.nodeType < 6 ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\n\t\tparent: function( elem ) {\n\t\t\treturn !Expr.pseudos.empty( elem );\n\t\t},\n\n\t\t// Element/input types\n\t\theader: function( elem ) {\n\t\t\treturn rheader.test( elem.nodeName );\n\t\t},\n\n\t\tinput: function( elem ) {\n\t\t\treturn rinputs.test( elem.nodeName );\n\t\t},\n\n\t\tbutton: function( elem ) {\n\t\t\treturn nodeName( elem, \"input\" ) && elem.type === \"button\" ||\n\t\t\t\tnodeName( elem, \"button\" );\n\t\t},\n\n\t\ttext: function( elem ) {\n\t\t\tvar attr;\n\t\t\treturn nodeName( elem, \"input\" ) && elem.type === \"text\" &&\n\n\t\t\t\t// Support: IE <10 only\n\t\t\t\t// New HTML5 attribute values (e.g., \"search\") appear\n\t\t\t\t// with elem.type === \"text\"\n\t\t\t\t( ( attr = elem.getAttribute( \"type\" ) ) == null ||\n\t\t\t\t\tattr.toLowerCase() === \"text\" );\n\t\t},\n\n\t\t// Position-in-collection\n\t\tfirst: createPositionalPseudo( function() {\n\t\t\treturn [ 0 ];\n\t\t} ),\n\n\t\tlast: createPositionalPseudo( function( _matchIndexes, length ) {\n\t\t\treturn [ length - 1 ];\n\t\t} ),\n\n\t\teq: createPositionalPseudo( function( _matchIndexes, length, argument ) {\n\t\t\treturn [ argument < 0 ? argument + length : argument ];\n\t\t} ),\n\n\t\teven: createPositionalPseudo( function( matchIndexes, length ) {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} ),\n\n\t\todd: createPositionalPseudo( function( matchIndexes, length ) {\n\t\t\tvar i = 1;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} ),\n\n\t\tlt: createPositionalPseudo( function( matchIndexes, length, argument ) {\n\t\t\tvar i;\n\n\t\t\tif ( argument < 0 ) {\n\t\t\t\ti = argument + length;\n\t\t\t} else if ( argument > length ) {\n\t\t\t\ti = length;\n\t\t\t} else {\n\t\t\t\ti = argument;\n\t\t\t}\n\n\t\t\tfor ( ; --i >= 0; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} ),\n\n\t\tgt: createPositionalPseudo( function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ? argument + length : argument;\n\t\t\tfor ( ; ++i < length; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} )\n\t}\n};\n\nExpr.pseudos.nth = Expr.pseudos.eq;\n\n// Add button/input type pseudos\nfor ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {\n\tExpr.pseudos[ i ] = createInputPseudo( i );\n}\nfor ( i in { submit: true, reset: true } ) {\n\tExpr.pseudos[ i ] = createButtonPseudo( i );\n}\n\n// Easy API for creating new setFilters\nfunction setFilters() {}\nsetFilters.prototype = Expr.filters = Expr.pseudos;\nExpr.setFilters = new setFilters();\n\nfunction tokenize( selector, parseOnly ) {\n\tvar matched, match, tokens, type,\n\t\tsoFar, groups, preFilters,\n\t\tcached = tokenCache[ selector + \" \" ];\n\n\tif ( cached ) {\n\t\treturn parseOnly ? 0 : cached.slice( 0 );\n\t}\n\n\tsoFar = selector;\n\tgroups = [];\n\tpreFilters = Expr.preFilter;\n\n\twhile ( soFar ) {\n\n\t\t// Comma and first run\n\t\tif ( !matched || ( match = rcomma.exec( soFar ) ) ) {\n\t\t\tif ( match ) {\n\n\t\t\t\t// Don't consume trailing commas as valid\n\t\t\t\tsoFar = soFar.slice( match[ 0 ].length ) || soFar;\n\t\t\t}\n\t\t\tgroups.push( ( tokens = [] ) );\n\t\t}\n\n\t\tmatched = false;\n\n\t\t// Combinators\n\t\tif ( ( match = rleadingCombinator.exec( soFar ) ) ) {\n\t\t\tmatched = match.shift();\n\t\t\ttokens.push( {\n\t\t\t\tvalue: matched,\n\n\t\t\t\t// Cast descendant combinators to space\n\t\t\t\ttype: match[ 0 ].replace( rtrimCSS, \" \" )\n\t\t\t} );\n\t\t\tsoFar = soFar.slice( matched.length );\n\t\t}\n\n\t\t// Filters\n\t\tfor ( type in Expr.filter ) {\n\t\t\tif ( ( match = matchExpr[ type ].exec( soFar ) ) && ( !preFilters[ type ] ||\n\t\t\t\t( match = preFilters[ type ]( match ) ) ) ) {\n\t\t\t\tmatched = match.shift();\n\t\t\t\ttokens.push( {\n\t\t\t\t\tvalue: matched,\n\t\t\t\t\ttype: type,\n\t\t\t\t\tmatches: match\n\t\t\t\t} );\n\t\t\t\tsoFar = soFar.slice( matched.length );\n\t\t\t}\n\t\t}\n\n\t\tif ( !matched ) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Return the length of the invalid excess\n\t// if we're just parsing\n\t// Otherwise, throw an error or return tokens\n\tif ( parseOnly ) {\n\t\treturn soFar.length;\n\t}\n\n\treturn soFar ?\n\t\tfind.error( selector ) :\n\n\t\t// Cache the tokens\n\t\ttokenCache( selector, groups ).slice( 0 );\n}\n\nfunction toSelector( tokens ) {\n\tvar i = 0,\n\t\tlen = tokens.length,\n\t\tselector = \"\";\n\tfor ( ; i < len; i++ ) {\n\t\tselector += tokens[ i ].value;\n\t}\n\treturn selector;\n}\n\nfunction addCombinator( matcher, combinator, base ) {\n\tvar dir = combinator.dir,\n\t\tskip = combinator.next,\n\t\tkey = skip || dir,\n\t\tcheckNonElements = base && key === \"parentNode\",\n\t\tdoneName = done++;\n\n\treturn combinator.first ?\n\n\t\t// Check against closest ancestor/preceding element\n\t\tfunction( elem, context, xml ) {\n\t\t\twhile ( ( elem = elem[ dir ] ) ) {\n\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\treturn matcher( elem, context, xml );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t} :\n\n\t\t// Check against all ancestor/preceding elements\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar oldCache, outerCache,\n\t\t\t\tnewCache = [ dirruns, doneName ];\n\n\t\t\t// We can't set arbitrary data on XML nodes, so they don't benefit from combinator caching\n\t\t\tif ( xml ) {\n\t\t\t\twhile ( ( elem = elem[ dir ] ) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\tif ( matcher( elem, context, xml ) ) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\twhile ( ( elem = elem[ dir ] ) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\touterCache = elem[ expando ] || ( elem[ expando ] = {} );\n\n\t\t\t\t\t\tif ( skip && nodeName( elem, skip ) ) {\n\t\t\t\t\t\t\telem = elem[ dir ] || elem;\n\t\t\t\t\t\t} else if ( ( oldCache = outerCache[ key ] ) &&\n\t\t\t\t\t\t\toldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {\n\n\t\t\t\t\t\t\t// Assign to newCache so results back-propagate to previous elements\n\t\t\t\t\t\t\treturn ( newCache[ 2 ] = oldCache[ 2 ] );\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Reuse newcache so results back-propagate to previous elements\n\t\t\t\t\t\t\touterCache[ key ] = newCache;\n\n\t\t\t\t\t\t\t// A match means we're done; a fail means we have to keep checking\n\t\t\t\t\t\t\tif ( ( newCache[ 2 ] = matcher( elem, context, xml ) ) ) {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n}\n\nfunction elementMatcher( matchers ) {\n\treturn matchers.length > 1 ?\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar i = matchers.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( !matchers[ i ]( elem, context, xml ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t} :\n\t\tmatchers[ 0 ];\n}\n\nfunction multipleContexts( selector, contexts, results ) {\n\tvar i = 0,\n\t\tlen = contexts.length;\n\tfor ( ; i < len; i++ ) {\n\t\tfind( selector, contexts[ i ], results );\n\t}\n\treturn results;\n}\n\nfunction condense( unmatched, map, filter, context, xml ) {\n\tvar elem,\n\t\tnewUnmatched = [],\n\t\ti = 0,\n\t\tlen = unmatched.length,\n\t\tmapped = map != null;\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( ( elem = unmatched[ i ] ) ) {\n\t\t\tif ( !filter || filter( elem, context, xml ) ) {\n\t\t\t\tnewUnmatched.push( elem );\n\t\t\t\tif ( mapped ) {\n\t\t\t\t\tmap.push( i );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn newUnmatched;\n}\n\nfunction setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {\n\tif ( postFilter && !postFilter[ expando ] ) {\n\t\tpostFilter = setMatcher( postFilter );\n\t}\n\tif ( postFinder && !postFinder[ expando ] ) {\n\t\tpostFinder = setMatcher( postFinder, postSelector );\n\t}\n\treturn markFunction( function( seed, results, context, xml ) {\n\t\tvar temp, i, elem, matcherOut,\n\t\t\tpreMap = [],\n\t\t\tpostMap = [],\n\t\t\tpreexisting = results.length,\n\n\t\t\t// Get initial elements from seed or context\n\t\t\telems = seed ||\n\t\t\t\tmultipleContexts( selector || \"*\",\n\t\t\t\t\tcontext.nodeType ? [ context ] : context, [] ),\n\n\t\t\t// Prefilter to get matcher input, preserving a map for seed-results synchronization\n\t\t\tmatcherIn = preFilter && ( seed || !selector ) ?\n\t\t\t\tcondense( elems, preMap, preFilter, context, xml ) :\n\t\t\t\telems;\n\n\t\tif ( matcher ) {\n\n\t\t\t// If we have a postFinder, or filtered seed, or non-seed postFilter\n\t\t\t// or preexisting results,\n\t\t\tmatcherOut = postFinder || ( seed ? preFilter : preexisting || postFilter ) ?\n\n\t\t\t\t// ...intermediate processing is necessary\n\t\t\t\t[] :\n\n\t\t\t\t// ...otherwise use results directly\n\t\t\t\tresults;\n\n\t\t\t// Find primary matches\n\t\t\tmatcher( matcherIn, matcherOut, context, xml );\n\t\t} else {\n\t\t\tmatcherOut = matcherIn;\n\t\t}\n\n\t\t// Apply postFilter\n\t\tif ( postFilter ) {\n\t\t\ttemp = condense( matcherOut, postMap );\n\t\t\tpostFilter( temp, [], context, xml );\n\n\t\t\t// Un-match failing elements by moving them back to matcherIn\n\t\t\ti = temp.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( ( elem = temp[ i ] ) ) {\n\t\t\t\t\tmatcherOut[ postMap[ i ] ] = !( matcherIn[ postMap[ i ] ] = elem );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( seed ) {\n\t\t\tif ( postFinder || preFilter ) {\n\t\t\t\tif ( postFinder ) {\n\n\t\t\t\t\t// Get the final matcherOut by condensing this intermediate into postFinder contexts\n\t\t\t\t\ttemp = [];\n\t\t\t\t\ti = matcherOut.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( ( elem = matcherOut[ i ] ) ) {\n\n\t\t\t\t\t\t\t// Restore matcherIn since elem is not yet a final match\n\t\t\t\t\t\t\ttemp.push( ( matcherIn[ i ] = elem ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tpostFinder( null, ( matcherOut = [] ), temp, xml );\n\t\t\t\t}\n\n\t\t\t\t// Move matched elements from seed to results to keep them synchronized\n\t\t\t\ti = matcherOut.length;\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\tif ( ( elem = matcherOut[ i ] ) &&\n\t\t\t\t\t\t( temp = postFinder ? indexOf.call( seed, elem ) : preMap[ i ] ) > -1 ) {\n\n\t\t\t\t\t\tseed[ temp ] = !( results[ temp ] = elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Add elements to results, through postFinder if defined\n\t\t} else {\n\t\t\tmatcherOut = condense(\n\t\t\t\tmatcherOut === results ?\n\t\t\t\t\tmatcherOut.splice( preexisting, matcherOut.length ) :\n\t\t\t\t\tmatcherOut\n\t\t\t);\n\t\t\tif ( postFinder ) {\n\t\t\t\tpostFinder( null, results, matcherOut, xml );\n\t\t\t} else {\n\t\t\t\tpush.apply( results, matcherOut );\n\t\t\t}\n\t\t}\n\t} );\n}\n\nfunction matcherFromTokens( tokens ) {\n\tvar checkContext, matcher, j,\n\t\tlen = tokens.length,\n\t\tleadingRelative = Expr.relative[ tokens[ 0 ].type ],\n\t\timplicitRelative = leadingRelative || Expr.relative[ \" \" ],\n\t\ti = leadingRelative ? 1 : 0,\n\n\t\t// The foundational matcher ensures that elements are reachable from top-level context(s)\n\t\tmatchContext = addCombinator( function( elem ) {\n\t\t\treturn elem === checkContext;\n\t\t}, implicitRelative, true ),\n\t\tmatchAnyContext = addCombinator( function( elem ) {\n\t\t\treturn indexOf.call( checkContext, elem ) > -1;\n\t\t}, implicitRelative, true ),\n\t\tmatchers = [ function( elem, context, xml ) {\n\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\tvar ret = ( !leadingRelative && ( xml || context != outermostContext ) ) || (\n\t\t\t\t( checkContext = context ).nodeType ?\n\t\t\t\t\tmatchContext( elem, context, xml ) :\n\t\t\t\t\tmatchAnyContext( elem, context, xml ) );\n\n\t\t\t// Avoid hanging onto element\n\t\t\t// (see https://github.com/jquery/sizzle/issues/299)\n\t\t\tcheckContext = null;\n\t\t\treturn ret;\n\t\t} ];\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( ( matcher = Expr.relative[ tokens[ i ].type ] ) ) {\n\t\t\tmatchers = [ addCombinator( elementMatcher( matchers ), matcher ) ];\n\t\t} else {\n\t\t\tmatcher = Expr.filter[ tokens[ i ].type ].apply( null, tokens[ i ].matches );\n\n\t\t\t// Return special upon seeing a positional matcher\n\t\t\tif ( matcher[ expando ] ) {\n\n\t\t\t\t// Find the next relative operator (if any) for proper handling\n\t\t\t\tj = ++i;\n\t\t\t\tfor ( ; j < len; j++ ) {\n\t\t\t\t\tif ( Expr.relative[ tokens[ j ].type ] ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn setMatcher(\n\t\t\t\t\ti > 1 && elementMatcher( matchers ),\n\t\t\t\t\ti > 1 && toSelector(\n\n\t\t\t\t\t\t// If the preceding token was a descendant combinator, insert an implicit any-element `*`\n\t\t\t\t\t\ttokens.slice( 0, i - 1 )\n\t\t\t\t\t\t\t.concat( { value: tokens[ i - 2 ].type === \" \" ? \"*\" : \"\" } )\n\t\t\t\t\t).replace( rtrimCSS, \"$1\" ),\n\t\t\t\t\tmatcher,\n\t\t\t\t\ti < j && matcherFromTokens( tokens.slice( i, j ) ),\n\t\t\t\t\tj < len && matcherFromTokens( ( tokens = tokens.slice( j ) ) ),\n\t\t\t\t\tj < len && toSelector( tokens )\n\t\t\t\t);\n\t\t\t}\n\t\t\tmatchers.push( matcher );\n\t\t}\n\t}\n\n\treturn elementMatcher( matchers );\n}\n\nfunction matcherFromGroupMatchers( elementMatchers, setMatchers ) {\n\tvar bySet = setMatchers.length > 0,\n\t\tbyElement = elementMatchers.length > 0,\n\t\tsuperMatcher = function( seed, context, xml, results, outermost ) {\n\t\t\tvar elem, j, matcher,\n\t\t\t\tmatchedCount = 0,\n\t\t\t\ti = \"0\",\n\t\t\t\tunmatched = seed && [],\n\t\t\t\tsetMatched = [],\n\t\t\t\tcontextBackup = outermostContext,\n\n\t\t\t\t// We must always have either seed elements or outermost context\n\t\t\t\telems = seed || byElement && Expr.find.TAG( \"*\", outermost ),\n\n\t\t\t\t// Use integer dirruns iff this is the outermost matcher\n\t\t\t\tdirrunsUnique = ( dirruns += contextBackup == null ? 1 : Math.random() || 0.1 ),\n\t\t\t\tlen = elems.length;\n\n\t\t\tif ( outermost ) {\n\n\t\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t\t// two documents; shallow comparisons work.\n\t\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\t\toutermostContext = context == document || context || outermost;\n\t\t\t}\n\n\t\t\t// Add elements passing elementMatchers directly to results\n\t\t\t// Support: iOS <=7 - 9 only\n\t\t\t// Tolerate NodeList properties (IE: \"length\"; Safari: <number>) matching\n\t\t\t// elements by id. (see trac-14142)\n\t\t\tfor ( ; i !== len && ( elem = elems[ i ] ) != null; i++ ) {\n\t\t\t\tif ( byElement && elem ) {\n\t\t\t\t\tj = 0;\n\n\t\t\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t\t\t// two documents; shallow comparisons work.\n\t\t\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\t\t\tif ( !context && elem.ownerDocument != document ) {\n\t\t\t\t\t\tsetDocument( elem );\n\t\t\t\t\t\txml = !documentIsHTML;\n\t\t\t\t\t}\n\t\t\t\t\twhile ( ( matcher = elementMatchers[ j++ ] ) ) {\n\t\t\t\t\t\tif ( matcher( elem, context || document, xml ) ) {\n\t\t\t\t\t\t\tpush.call( results, elem );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( outermost ) {\n\t\t\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Track unmatched elements for set filters\n\t\t\t\tif ( bySet ) {\n\n\t\t\t\t\t// They will have gone through all possible matchers\n\t\t\t\t\tif ( ( elem = !matcher && elem ) ) {\n\t\t\t\t\t\tmatchedCount--;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Lengthen the array for every element, matched or not\n\t\t\t\t\tif ( seed ) {\n\t\t\t\t\t\tunmatched.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// `i` is now the count of elements visited above, and adding it to `matchedCount`\n\t\t\t// makes the latter nonnegative.\n\t\t\tmatchedCount += i;\n\n\t\t\t// Apply set filters to unmatched elements\n\t\t\t// NOTE: This can be skipped if there are no unmatched elements (i.e., `matchedCount`\n\t\t\t// equals `i`), unless we didn't visit _any_ elements in the above loop because we have\n\t\t\t// no element matchers and no seed.\n\t\t\t// Incrementing an initially-string \"0\" `i` allows `i` to remain a string only in that\n\t\t\t// case, which will result in a \"00\" `matchedCount` that differs from `i` but is also\n\t\t\t// numerically zero.\n\t\t\tif ( bySet && i !== matchedCount ) {\n\t\t\t\tj = 0;\n\t\t\t\twhile ( ( matcher = setMatchers[ j++ ] ) ) {\n\t\t\t\t\tmatcher( unmatched, setMatched, context, xml );\n\t\t\t\t}\n\n\t\t\t\tif ( seed ) {\n\n\t\t\t\t\t// Reintegrate element matches to eliminate the need for sorting\n\t\t\t\t\tif ( matchedCount > 0 ) {\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tif ( !( unmatched[ i ] || setMatched[ i ] ) ) {\n\t\t\t\t\t\t\t\tsetMatched[ i ] = pop.call( results );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Discard index placeholder values to get only actual matches\n\t\t\t\t\tsetMatched = condense( setMatched );\n\t\t\t\t}\n\n\t\t\t\t// Add matches to results\n\t\t\t\tpush.apply( results, setMatched );\n\n\t\t\t\t// Seedless set matches succeeding multiple successful matchers stipulate sorting\n\t\t\t\tif ( outermost && !seed && setMatched.length > 0 &&\n\t\t\t\t\t( matchedCount + setMatchers.length ) > 1 ) {\n\n\t\t\t\t\tjQuery.uniqueSort( results );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Override manipulation of globals by nested matchers\n\t\t\tif ( outermost ) {\n\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\toutermostContext = contextBackup;\n\t\t\t}\n\n\t\t\treturn unmatched;\n\t\t};\n\n\treturn bySet ?\n\t\tmarkFunction( superMatcher ) :\n\t\tsuperMatcher;\n}\n\nfunction compile( selector, match /* Internal Use Only */ ) {\n\tvar i,\n\t\tsetMatchers = [],\n\t\telementMatchers = [],\n\t\tcached = compilerCache[ selector + \" \" ];\n\n\tif ( !cached ) {\n\n\t\t// Generate a function of recursive functions that can be used to check each element\n\t\tif ( !match ) {\n\t\t\tmatch = tokenize( selector );\n\t\t}\n\t\ti = match.length;\n\t\twhile ( i-- ) {\n\t\t\tcached = matcherFromTokens( match[ i ] );\n\t\t\tif ( cached[ expando ] ) {\n\t\t\t\tsetMatchers.push( cached );\n\t\t\t} else {\n\t\t\t\telementMatchers.push( cached );\n\t\t\t}\n\t\t}\n\n\t\t// Cache the compiled function\n\t\tcached = compilerCache( selector,\n\t\t\tmatcherFromGroupMatchers( elementMatchers, setMatchers ) );\n\n\t\t// Save selector and tokenization\n\t\tcached.selector = selector;\n\t}\n\treturn cached;\n}\n\n/**\n * A low-level selection function that works with jQuery's compiled\n *  selector functions\n * @param {String|Function} selector A selector or a pre-compiled\n *  selector function built with jQuery selector compile\n * @param {Element} context\n * @param {Array} [results]\n * @param {Array} [seed] A set of elements to match against\n */\nfunction select( selector, context, results, seed ) {\n\tvar i, tokens, token, type, find,\n\t\tcompiled = typeof selector === \"function\" && selector,\n\t\tmatch = !seed && tokenize( ( selector = compiled.selector || selector ) );\n\n\tresults = results || [];\n\n\t// Try to minimize operations if there is only one selector in the list and no seed\n\t// (the latter of which guarantees us context)\n\tif ( match.length === 1 ) {\n\n\t\t// Reduce context if the leading compound selector is an ID\n\t\ttokens = match[ 0 ] = match[ 0 ].slice( 0 );\n\t\tif ( tokens.length > 2 && ( token = tokens[ 0 ] ).type === \"ID\" &&\n\t\t\t\tcontext.nodeType === 9 && documentIsHTML && Expr.relative[ tokens[ 1 ].type ] ) {\n\n\t\t\tcontext = ( Expr.find.ID(\n\t\t\t\ttoken.matches[ 0 ].replace( runescape, funescape ),\n\t\t\t\tcontext\n\t\t\t) || [] )[ 0 ];\n\t\t\tif ( !context ) {\n\t\t\t\treturn results;\n\n\t\t\t// Precompiled matchers will still verify ancestry, so step up a level\n\t\t\t} else if ( compiled ) {\n\t\t\t\tcontext = context.parentNode;\n\t\t\t}\n\n\t\t\tselector = selector.slice( tokens.shift().value.length );\n\t\t}\n\n\t\t// Fetch a seed set for right-to-left matching\n\t\ti = matchExpr.needsContext.test( selector ) ? 0 : tokens.length;\n\t\twhile ( i-- ) {\n\t\t\ttoken = tokens[ i ];\n\n\t\t\t// Abort if we hit a combinator\n\t\t\tif ( Expr.relative[ ( type = token.type ) ] ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( ( find = Expr.find[ type ] ) ) {\n\n\t\t\t\t// Search, expanding context for leading sibling combinators\n\t\t\t\tif ( ( seed = find(\n\t\t\t\t\ttoken.matches[ 0 ].replace( runescape, funescape ),\n\t\t\t\t\trsibling.test( tokens[ 0 ].type ) &&\n\t\t\t\t\t\ttestContext( context.parentNode ) || context\n\t\t\t\t) ) ) {\n\n\t\t\t\t\t// If seed is empty or no tokens remain, we can return early\n\t\t\t\t\ttokens.splice( i, 1 );\n\t\t\t\t\tselector = seed.length && toSelector( tokens );\n\t\t\t\t\tif ( !selector ) {\n\t\t\t\t\t\tpush.apply( results, seed );\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Compile and execute a filtering function if one is not provided\n\t// Provide `match` to avoid retokenization if we modified the selector above\n\t( compiled || compile( selector, match ) )(\n\t\tseed,\n\t\tcontext,\n\t\t!documentIsHTML,\n\t\tresults,\n\t\t!context || rsibling.test( selector ) && testContext( context.parentNode ) || context\n\t);\n\treturn results;\n}\n\n// One-time assignments\n\n// Support: Android <=4.0 - 4.1+\n// Sort stability\nsupport.sortStable = expando.split( \"\" ).sort( sortOrder ).join( \"\" ) === expando;\n\n// Initialize against the default document\nsetDocument();\n\n// Support: Android <=4.0 - 4.1+\n// Detached nodes confoundingly follow *each other*\nsupport.sortDetached = assert( function( el ) {\n\n\t// Should return 1, but returns 4 (following)\n\treturn el.compareDocumentPosition( document.createElement( \"fieldset\" ) ) & 1;\n} );\n\njQuery.find = find;\n\n// Deprecated\njQuery.expr[ \":\" ] = jQuery.expr.pseudos;\njQuery.unique = jQuery.uniqueSort;\n\n// These have always been private, but they used to be documented as part of\n// Sizzle so let's maintain them for now for backwards compatibility purposes.\nfind.compile = compile;\nfind.select = select;\nfind.setDocument = setDocument;\nfind.tokenize = tokenize;\n\nfind.escape = jQuery.escapeSelector;\nfind.getText = jQuery.text;\nfind.isXML = jQuery.isXMLDoc;\nfind.selectors = jQuery.expr;\nfind.support = jQuery.support;\nfind.uniqueSort = jQuery.uniqueSort;\n\n\t/* eslint-enable */\n\n} )();\n\n\nvar dir = function( elem, dir, until ) {\n\tvar matched = [],\n\t\ttruncate = until !== undefined;\n\n\twhile ( ( elem = elem[ dir ] ) && elem.nodeType !== 9 ) {\n\t\tif ( elem.nodeType === 1 ) {\n\t\t\tif ( truncate && jQuery( elem ).is( until ) ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tmatched.push( elem );\n\t\t}\n\t}\n\treturn matched;\n};\n\n\nvar siblings = function( n, elem ) {\n\tvar matched = [];\n\n\tfor ( ; n; n = n.nextSibling ) {\n\t\tif ( n.nodeType === 1 && n !== elem ) {\n\t\t\tmatched.push( n );\n\t\t}\n\t}\n\n\treturn matched;\n};\n\n\nvar rneedsContext = jQuery.expr.match.needsContext;\n\nvar rsingleTag = ( /^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i );\n\n\n\n// Implement the identical functionality for filter and not\nfunction winnow( elements, qualifier, not ) {\n\tif ( isFunction( qualifier ) ) {\n\t\treturn jQuery.grep( elements, function( elem, i ) {\n\t\t\treturn !!qualifier.call( elem, i, elem ) !== not;\n\t\t} );\n\t}\n\n\t// Single element\n\tif ( qualifier.nodeType ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( elem === qualifier ) !== not;\n\t\t} );\n\t}\n\n\t// Arraylike of elements (jQuery, arguments, Array)\n\tif ( typeof qualifier !== \"string\" ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( indexOf.call( qualifier, elem ) > -1 ) !== not;\n\t\t} );\n\t}\n\n\t// Filtered directly for both simple and complex selectors\n\treturn jQuery.filter( qualifier, elements, not );\n}\n\njQuery.filter = function( expr, elems, not ) {\n\tvar elem = elems[ 0 ];\n\n\tif ( not ) {\n\t\texpr = \":not(\" + expr + \")\";\n\t}\n\n\tif ( elems.length === 1 && elem.nodeType === 1 ) {\n\t\treturn jQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [];\n\t}\n\n\treturn jQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {\n\t\treturn elem.nodeType === 1;\n\t} ) );\n};\n\njQuery.fn.extend( {\n\tfind: function( selector ) {\n\t\tvar i, ret,\n\t\t\tlen = this.length,\n\t\t\tself = this;\n\n\t\tif ( typeof selector !== \"string\" ) {\n\t\t\treturn this.pushStack( jQuery( selector ).filter( function() {\n\t\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\t\tif ( jQuery.contains( self[ i ], this ) ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} ) );\n\t\t}\n\n\t\tret = this.pushStack( [] );\n\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\tjQuery.find( selector, self[ i ], ret );\n\t\t}\n\n\t\treturn len > 1 ? jQuery.uniqueSort( ret ) : ret;\n\t},\n\tfilter: function( selector ) {\n\t\treturn this.pushStack( winnow( this, selector || [], false ) );\n\t},\n\tnot: function( selector ) {\n\t\treturn this.pushStack( winnow( this, selector || [], true ) );\n\t},\n\tis: function( selector ) {\n\t\treturn !!winnow(\n\t\t\tthis,\n\n\t\t\t// If this is a positional/relative selector, check membership in the returned set\n\t\t\t// so $(\"p:first\").is(\"p:last\") won't return true for a doc with two \"p\".\n\t\t\ttypeof selector === \"string\" && rneedsContext.test( selector ) ?\n\t\t\t\tjQuery( selector ) :\n\t\t\t\tselector || [],\n\t\t\tfalse\n\t\t).length;\n\t}\n} );\n\n\n// Initialize a jQuery object\n\n\n// A central reference to the root jQuery(document)\nvar rootjQuery,\n\n\t// A simple way to check for HTML strings\n\t// Prioritize #id over <tag> to avoid XSS via location.hash (trac-9521)\n\t// Strict HTML recognition (trac-11290: must start with <)\n\t// Shortcut simple #id case for speed\n\trquickExpr = /^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/,\n\n\tinit = jQuery.fn.init = function( selector, context, root ) {\n\t\tvar match, elem;\n\n\t\t// HANDLE: $(\"\"), $(null), $(undefined), $(false)\n\t\tif ( !selector ) {\n\t\t\treturn this;\n\t\t}\n\n\t\t// Method init() accepts an alternate rootjQuery\n\t\t// so migrate can support jQuery.sub (gh-2101)\n\t\troot = root || rootjQuery;\n\n\t\t// Handle HTML strings\n\t\tif ( typeof selector === \"string\" ) {\n\t\t\tif ( selector[ 0 ] === \"<\" &&\n\t\t\t\tselector[ selector.length - 1 ] === \">\" &&\n\t\t\t\tselector.length >= 3 ) {\n\n\t\t\t\t// Assume that strings that start and end with <> are HTML and skip the regex check\n\t\t\t\tmatch = [ null, selector, null ];\n\n\t\t\t} else {\n\t\t\t\tmatch = rquickExpr.exec( selector );\n\t\t\t}\n\n\t\t\t// Match html or make sure no context is specified for #id\n\t\t\tif ( match && ( match[ 1 ] || !context ) ) {\n\n\t\t\t\t// HANDLE: $(html) -> $(array)\n\t\t\t\tif ( match[ 1 ] ) {\n\t\t\t\t\tcontext = context instanceof jQuery ? context[ 0 ] : context;\n\n\t\t\t\t\t// Option to run scripts is true for back-compat\n\t\t\t\t\t// Intentionally let the error be thrown if parseHTML is not present\n\t\t\t\t\tjQuery.merge( this, jQuery.parseHTML(\n\t\t\t\t\t\tmatch[ 1 ],\n\t\t\t\t\t\tcontext && context.nodeType ? context.ownerDocument || context : document,\n\t\t\t\t\t\ttrue\n\t\t\t\t\t) );\n\n\t\t\t\t\t// HANDLE: $(html, props)\n\t\t\t\t\tif ( rsingleTag.test( match[ 1 ] ) && jQuery.isPlainObject( context ) ) {\n\t\t\t\t\t\tfor ( match in context ) {\n\n\t\t\t\t\t\t\t// Properties of context are called as methods if possible\n\t\t\t\t\t\t\tif ( isFunction( this[ match ] ) ) {\n\t\t\t\t\t\t\t\tthis[ match ]( context[ match ] );\n\n\t\t\t\t\t\t\t// ...and otherwise set as attributes\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.attr( match, context[ match ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this;\n\n\t\t\t\t// HANDLE: $(#id)\n\t\t\t\t} else {\n\t\t\t\t\telem = document.getElementById( match[ 2 ] );\n\n\t\t\t\t\tif ( elem ) {\n\n\t\t\t\t\t\t// Inject the element directly into the jQuery object\n\t\t\t\t\t\tthis[ 0 ] = elem;\n\t\t\t\t\t\tthis.length = 1;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\n\t\t\t// HANDLE: $(expr, $(...))\n\t\t\t} else if ( !context || context.jquery ) {\n\t\t\t\treturn ( context || root ).find( selector );\n\n\t\t\t// HANDLE: $(expr, context)\n\t\t\t// (which is just equivalent to: $(context).find(expr)\n\t\t\t} else {\n\t\t\t\treturn this.constructor( context ).find( selector );\n\t\t\t}\n\n\t\t// HANDLE: $(DOMElement)\n\t\t} else if ( selector.nodeType ) {\n\t\t\tthis[ 0 ] = selector;\n\t\t\tthis.length = 1;\n\t\t\treturn this;\n\n\t\t// HANDLE: $(function)\n\t\t// Shortcut for document ready\n\t\t} else if ( isFunction( selector ) ) {\n\t\t\treturn root.ready !== undefined ?\n\t\t\t\troot.ready( selector ) :\n\n\t\t\t\t// Execute immediately if ready is not present\n\t\t\t\tselector( jQuery );\n\t\t}\n\n\t\treturn jQuery.makeArray( selector, this );\n\t};\n\n// Give the init function the jQuery prototype for later instantiation\ninit.prototype = jQuery.fn;\n\n// Initialize central reference\nrootjQuery = jQuery( document );\n\n\nvar rparentsprev = /^(?:parents|prev(?:Until|All))/,\n\n\t// Methods guaranteed to produce a unique set when starting from a unique set\n\tguaranteedUnique = {\n\t\tchildren: true,\n\t\tcontents: true,\n\t\tnext: true,\n\t\tprev: true\n\t};\n\njQuery.fn.extend( {\n\thas: function( target ) {\n\t\tvar targets = jQuery( target, this ),\n\t\t\tl = targets.length;\n\n\t\treturn this.filter( function() {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tif ( jQuery.contains( this, targets[ i ] ) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\tclosest: function( selectors, context ) {\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\tl = this.length,\n\t\t\tmatched = [],\n\t\t\ttargets = typeof selectors !== \"string\" && jQuery( selectors );\n\n\t\t// Positional selectors never match, since there's no _selection_ context\n\t\tif ( !rneedsContext.test( selectors ) ) {\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tfor ( cur = this[ i ]; cur && cur !== context; cur = cur.parentNode ) {\n\n\t\t\t\t\t// Always skip document fragments\n\t\t\t\t\tif ( cur.nodeType < 11 && ( targets ?\n\t\t\t\t\t\ttargets.index( cur ) > -1 :\n\n\t\t\t\t\t\t// Don't pass non-elements to jQuery#find\n\t\t\t\t\t\tcur.nodeType === 1 &&\n\t\t\t\t\t\t\tjQuery.find.matchesSelector( cur, selectors ) ) ) {\n\n\t\t\t\t\t\tmatched.push( cur );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched.length > 1 ? jQuery.uniqueSort( matched ) : matched );\n\t},\n\n\t// Determine the position of an element within the set\n\tindex: function( elem ) {\n\n\t\t// No argument, return index in parent\n\t\tif ( !elem ) {\n\t\t\treturn ( this[ 0 ] && this[ 0 ].parentNode ) ? this.first().prevAll().length : -1;\n\t\t}\n\n\t\t// Index in selector\n\t\tif ( typeof elem === \"string\" ) {\n\t\t\treturn indexOf.call( jQuery( elem ), this[ 0 ] );\n\t\t}\n\n\t\t// Locate the position of the desired element\n\t\treturn indexOf.call( this,\n\n\t\t\t// If it receives a jQuery object, the first element is used\n\t\t\telem.jquery ? elem[ 0 ] : elem\n\t\t);\n\t},\n\n\tadd: function( selector, context ) {\n\t\treturn this.pushStack(\n\t\t\tjQuery.uniqueSort(\n\t\t\t\tjQuery.merge( this.get(), jQuery( selector, context ) )\n\t\t\t)\n\t\t);\n\t},\n\n\taddBack: function( selector ) {\n\t\treturn this.add( selector == null ?\n\t\t\tthis.prevObject : this.prevObject.filter( selector )\n\t\t);\n\t}\n} );\n\nfunction sibling( cur, dir ) {\n\twhile ( ( cur = cur[ dir ] ) && cur.nodeType !== 1 ) {}\n\treturn cur;\n}\n\njQuery.each( {\n\tparent: function( elem ) {\n\t\tvar parent = elem.parentNode;\n\t\treturn parent && parent.nodeType !== 11 ? parent : null;\n\t},\n\tparents: function( elem ) {\n\t\treturn dir( elem, \"parentNode\" );\n\t},\n\tparentsUntil: function( elem, _i, until ) {\n\t\treturn dir( elem, \"parentNode\", until );\n\t},\n\tnext: function( elem ) {\n\t\treturn sibling( elem, \"nextSibling\" );\n\t},\n\tprev: function( elem ) {\n\t\treturn sibling( elem, \"previousSibling\" );\n\t},\n\tnextAll: function( elem ) {\n\t\treturn dir( elem, \"nextSibling\" );\n\t},\n\tprevAll: function( elem ) {\n\t\treturn dir( elem, \"previousSibling\" );\n\t},\n\tnextUntil: function( elem, _i, until ) {\n\t\treturn dir( elem, \"nextSibling\", until );\n\t},\n\tprevUntil: function( elem, _i, until ) {\n\t\treturn dir( elem, \"previousSibling\", until );\n\t},\n\tsiblings: function( elem ) {\n\t\treturn siblings( ( elem.parentNode || {} ).firstChild, elem );\n\t},\n\tchildren: function( elem ) {\n\t\treturn siblings( elem.firstChild );\n\t},\n\tcontents: function( elem ) {\n\t\tif ( elem.contentDocument != null &&\n\n\t\t\t// Support: IE 11+\n\t\t\t// <object> elements with no `data` attribute has an object\n\t\t\t// `contentDocument` with a `null` prototype.\n\t\t\tgetProto( elem.contentDocument ) ) {\n\n\t\t\treturn elem.contentDocument;\n\t\t}\n\n\t\t// Support: IE 9 - 11 only, iOS 7 only, Android Browser <=4.3 only\n\t\t// Treat the template element as a regular one in browsers that\n\t\t// don't support it.\n\t\tif ( nodeName( elem, \"template\" ) ) {\n\t\t\telem = elem.content || elem;\n\t\t}\n\n\t\treturn jQuery.merge( [], elem.childNodes );\n\t}\n}, function( name, fn ) {\n\tjQuery.fn[ name ] = function( until, selector ) {\n\t\tvar matched = jQuery.map( this, fn, until );\n\n\t\tif ( name.slice( -5 ) !== \"Until\" ) {\n\t\t\tselector = until;\n\t\t}\n\n\t\tif ( selector && typeof selector === \"string\" ) {\n\t\t\tmatched = jQuery.filter( selector, matched );\n\t\t}\n\n\t\tif ( this.length > 1 ) {\n\n\t\t\t// Remove duplicates\n\t\t\tif ( !guaranteedUnique[ name ] ) {\n\t\t\t\tjQuery.uniqueSort( matched );\n\t\t\t}\n\n\t\t\t// Reverse order for parents* and prev-derivatives\n\t\t\tif ( rparentsprev.test( name ) ) {\n\t\t\t\tmatched.reverse();\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched );\n\t};\n} );\nvar rnothtmlwhite = ( /[^\\x20\\t\\r\\n\\f]+/g );\n\n\n\n// Convert String-formatted options into Object-formatted ones\nfunction createOptions( options ) {\n\tvar object = {};\n\tjQuery.each( options.match( rnothtmlwhite ) || [], function( _, flag ) {\n\t\tobject[ flag ] = true;\n\t} );\n\treturn object;\n}\n\n/*\n * Create a callback list using the following parameters:\n *\n *\toptions: an optional list of space-separated options that will change how\n *\t\t\tthe callback list behaves or a more traditional option object\n *\n * By default a callback list will act like an event callback list and can be\n * \"fired\" multiple times.\n *\n * Possible options:\n *\n *\tonce:\t\t\twill ensure the callback list can only be fired once (like a Deferred)\n *\n *\tmemory:\t\t\twill keep track of previous values and will call any callback added\n *\t\t\t\t\tafter the list has been fired right away with the latest \"memorized\"\n *\t\t\t\t\tvalues (like a Deferred)\n *\n *\tunique:\t\t\twill ensure a callback can only be added once (no duplicate in the list)\n *\n *\tstopOnFalse:\tinterrupt callings when a callback returns false\n *\n */\njQuery.Callbacks = function( options ) {\n\n\t// Convert options from String-formatted to Object-formatted if needed\n\t// (we check in cache first)\n\toptions = typeof options === \"string\" ?\n\t\tcreateOptions( options ) :\n\t\tjQuery.extend( {}, options );\n\n\tvar // Flag to know if list is currently firing\n\t\tfiring,\n\n\t\t// Last fire value for non-forgettable lists\n\t\tmemory,\n\n\t\t// Flag to know if list was already fired\n\t\tfired,\n\n\t\t// Flag to prevent firing\n\t\tlocked,\n\n\t\t// Actual callback list\n\t\tlist = [],\n\n\t\t// Queue of execution data for repeatable lists\n\t\tqueue = [],\n\n\t\t// Index of currently firing callback (modified by add/remove as needed)\n\t\tfiringIndex = -1,\n\n\t\t// Fire callbacks\n\t\tfire = function() {\n\n\t\t\t// Enforce single-firing\n\t\t\tlocked = locked || options.once;\n\n\t\t\t// Execute callbacks for all pending executions,\n\t\t\t// respecting firingIndex overrides and runtime changes\n\t\t\tfired = firing = true;\n\t\t\tfor ( ; queue.length; firingIndex = -1 ) {\n\t\t\t\tmemory = queue.shift();\n\t\t\t\twhile ( ++firingIndex < list.length ) {\n\n\t\t\t\t\t// Run callback and check for early termination\n\t\t\t\t\tif ( list[ firingIndex ].apply( memory[ 0 ], memory[ 1 ] ) === false &&\n\t\t\t\t\t\toptions.stopOnFalse ) {\n\n\t\t\t\t\t\t// Jump to end and forget the data so .add doesn't re-fire\n\t\t\t\t\t\tfiringIndex = list.length;\n\t\t\t\t\t\tmemory = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Forget the data if we're done with it\n\t\t\tif ( !options.memory ) {\n\t\t\t\tmemory = false;\n\t\t\t}\n\n\t\t\tfiring = false;\n\n\t\t\t// Clean up if we're done firing for good\n\t\t\tif ( locked ) {\n\n\t\t\t\t// Keep an empty list if we have data for future add calls\n\t\t\t\tif ( memory ) {\n\t\t\t\t\tlist = [];\n\n\t\t\t\t// Otherwise, this object is spent\n\t\t\t\t} else {\n\t\t\t\t\tlist = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t// Actual Callbacks object\n\t\tself = {\n\n\t\t\t// Add a callback or a collection of callbacks to the list\n\t\t\tadd: function() {\n\t\t\t\tif ( list ) {\n\n\t\t\t\t\t// If we have memory from a past run, we should fire after adding\n\t\t\t\t\tif ( memory && !firing ) {\n\t\t\t\t\t\tfiringIndex = list.length - 1;\n\t\t\t\t\t\tqueue.push( memory );\n\t\t\t\t\t}\n\n\t\t\t\t\t( function add( args ) {\n\t\t\t\t\t\tjQuery.each( args, function( _, arg ) {\n\t\t\t\t\t\t\tif ( isFunction( arg ) ) {\n\t\t\t\t\t\t\t\tif ( !options.unique || !self.has( arg ) ) {\n\t\t\t\t\t\t\t\t\tlist.push( arg );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if ( arg && arg.length && toType( arg ) !== \"string\" ) {\n\n\t\t\t\t\t\t\t\t// Inspect recursively\n\t\t\t\t\t\t\t\tadd( arg );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t} )( arguments );\n\n\t\t\t\t\tif ( memory && !firing ) {\n\t\t\t\t\t\tfire();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Remove a callback from the list\n\t\t\tremove: function() {\n\t\t\t\tjQuery.each( arguments, function( _, arg ) {\n\t\t\t\t\tvar index;\n\t\t\t\t\twhile ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {\n\t\t\t\t\t\tlist.splice( index, 1 );\n\n\t\t\t\t\t\t// Handle firing indexes\n\t\t\t\t\t\tif ( index <= firingIndex ) {\n\t\t\t\t\t\t\tfiringIndex--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Check if a given callback is in the list.\n\t\t\t// If no argument is given, return whether or not list has callbacks attached.\n\t\t\thas: function( fn ) {\n\t\t\t\treturn fn ?\n\t\t\t\t\tjQuery.inArray( fn, list ) > -1 :\n\t\t\t\t\tlist.length > 0;\n\t\t\t},\n\n\t\t\t// Remove all callbacks from the list\n\t\t\tempty: function() {\n\t\t\t\tif ( list ) {\n\t\t\t\t\tlist = [];\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Disable .fire and .add\n\t\t\t// Abort any current/pending executions\n\t\t\t// Clear all callbacks and values\n\t\t\tdisable: function() {\n\t\t\t\tlocked = queue = [];\n\t\t\t\tlist = memory = \"\";\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tdisabled: function() {\n\t\t\t\treturn !list;\n\t\t\t},\n\n\t\t\t// Disable .fire\n\t\t\t// Also disable .add unless we have memory (since it would have no effect)\n\t\t\t// Abort any pending executions\n\t\t\tlock: function() {\n\t\t\t\tlocked = queue = [];\n\t\t\t\tif ( !memory && !firing ) {\n\t\t\t\t\tlist = memory = \"\";\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tlocked: function() {\n\t\t\t\treturn !!locked;\n\t\t\t},\n\n\t\t\t// Call all callbacks with the given context and arguments\n\t\t\tfireWith: function( context, args ) {\n\t\t\t\tif ( !locked ) {\n\t\t\t\t\targs = args || [];\n\t\t\t\t\targs = [ context, args.slice ? args.slice() : args ];\n\t\t\t\t\tqueue.push( args );\n\t\t\t\t\tif ( !firing ) {\n\t\t\t\t\t\tfire();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Call all the callbacks with the given arguments\n\t\t\tfire: function() {\n\t\t\t\tself.fireWith( this, arguments );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// To know if the callbacks have already been called at least once\n\t\t\tfired: function() {\n\t\t\t\treturn !!fired;\n\t\t\t}\n\t\t};\n\n\treturn self;\n};\n\n\nfunction Identity( v ) {\n\treturn v;\n}\nfunction Thrower( ex ) {\n\tthrow ex;\n}\n\nfunction adoptValue( value, resolve, reject, noValue ) {\n\tvar method;\n\n\ttry {\n\n\t\t// Check for promise aspect first to privilege synchronous behavior\n\t\tif ( value && isFunction( ( method = value.promise ) ) ) {\n\t\t\tmethod.call( value ).done( resolve ).fail( reject );\n\n\t\t// Other thenables\n\t\t} else if ( value && isFunction( ( method = value.then ) ) ) {\n\t\t\tmethod.call( value, resolve, reject );\n\n\t\t// Other non-thenables\n\t\t} else {\n\n\t\t\t// Control `resolve` arguments by letting Array#slice cast boolean `noValue` to integer:\n\t\t\t// * false: [ value ].slice( 0 ) => resolve( value )\n\t\t\t// * true: [ value ].slice( 1 ) => resolve()\n\t\t\tresolve.apply( undefined, [ value ].slice( noValue ) );\n\t\t}\n\n\t// For Promises/A+, convert exceptions into rejections\n\t// Since jQuery.when doesn't unwrap thenables, we can skip the extra checks appearing in\n\t// Deferred#then to conditionally suppress rejection.\n\t} catch ( value ) {\n\n\t\t// Support: Android 4.0 only\n\t\t// Strict mode functions invoked without .call/.apply get global-object context\n\t\treject.apply( undefined, [ value ] );\n\t}\n}\n\njQuery.extend( {\n\n\tDeferred: function( func ) {\n\t\tvar tuples = [\n\n\t\t\t\t// action, add listener, callbacks,\n\t\t\t\t// ... .then handlers, argument index, [final state]\n\t\t\t\t[ \"notify\", \"progress\", jQuery.Callbacks( \"memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"memory\" ), 2 ],\n\t\t\t\t[ \"resolve\", \"done\", jQuery.Callbacks( \"once memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"once memory\" ), 0, \"resolved\" ],\n\t\t\t\t[ \"reject\", \"fail\", jQuery.Callbacks( \"once memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"once memory\" ), 1, \"rejected\" ]\n\t\t\t],\n\t\t\tstate = \"pending\",\n\t\t\tpromise = {\n\t\t\t\tstate: function() {\n\t\t\t\t\treturn state;\n\t\t\t\t},\n\t\t\t\talways: function() {\n\t\t\t\t\tdeferred.done( arguments ).fail( arguments );\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\t\t\t\t\"catch\": function( fn ) {\n\t\t\t\t\treturn promise.then( null, fn );\n\t\t\t\t},\n\n\t\t\t\t// Keep pipe for back-compat\n\t\t\t\tpipe: function( /* fnDone, fnFail, fnProgress */ ) {\n\t\t\t\t\tvar fns = arguments;\n\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\t\t\t\t\t\tjQuery.each( tuples, function( _i, tuple ) {\n\n\t\t\t\t\t\t\t// Map tuples (progress, done, fail) to arguments (done, fail, progress)\n\t\t\t\t\t\t\tvar fn = isFunction( fns[ tuple[ 4 ] ] ) && fns[ tuple[ 4 ] ];\n\n\t\t\t\t\t\t\t// deferred.progress(function() { bind to newDefer or newDefer.notify })\n\t\t\t\t\t\t\t// deferred.done(function() { bind to newDefer or newDefer.resolve })\n\t\t\t\t\t\t\t// deferred.fail(function() { bind to newDefer or newDefer.reject })\n\t\t\t\t\t\t\tdeferred[ tuple[ 1 ] ]( function() {\n\t\t\t\t\t\t\t\tvar returned = fn && fn.apply( this, arguments );\n\t\t\t\t\t\t\t\tif ( returned && isFunction( returned.promise ) ) {\n\t\t\t\t\t\t\t\t\treturned.promise()\n\t\t\t\t\t\t\t\t\t\t.progress( newDefer.notify )\n\t\t\t\t\t\t\t\t\t\t.done( newDefer.resolve )\n\t\t\t\t\t\t\t\t\t\t.fail( newDefer.reject );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tnewDefer[ tuple[ 0 ] + \"With\" ](\n\t\t\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t\t\tfn ? [ returned ] : arguments\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tfns = null;\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\t\t\t\tthen: function( onFulfilled, onRejected, onProgress ) {\n\t\t\t\t\tvar maxDepth = 0;\n\t\t\t\t\tfunction resolve( depth, deferred, handler, special ) {\n\t\t\t\t\t\treturn function() {\n\t\t\t\t\t\t\tvar that = this,\n\t\t\t\t\t\t\t\targs = arguments,\n\t\t\t\t\t\t\t\tmightThrow = function() {\n\t\t\t\t\t\t\t\t\tvar returned, then;\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.3\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-59\n\t\t\t\t\t\t\t\t\t// Ignore double-resolution attempts\n\t\t\t\t\t\t\t\t\tif ( depth < maxDepth ) {\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturned = handler.apply( that, args );\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.1\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-48\n\t\t\t\t\t\t\t\t\tif ( returned === deferred.promise() ) {\n\t\t\t\t\t\t\t\t\t\tthrow new TypeError( \"Thenable self-resolution\" );\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ sections 2.3.3.1, 3.5\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-54\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-75\n\t\t\t\t\t\t\t\t\t// Retrieve `then` only once\n\t\t\t\t\t\t\t\t\tthen = returned &&\n\n\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.4\n\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-64\n\t\t\t\t\t\t\t\t\t\t// Only check objects and functions for thenability\n\t\t\t\t\t\t\t\t\t\t( typeof returned === \"object\" ||\n\t\t\t\t\t\t\t\t\t\t\ttypeof returned === \"function\" ) &&\n\t\t\t\t\t\t\t\t\t\treturned.then;\n\n\t\t\t\t\t\t\t\t\t// Handle a returned thenable\n\t\t\t\t\t\t\t\t\tif ( isFunction( then ) ) {\n\n\t\t\t\t\t\t\t\t\t\t// Special processors (notify) just wait for resolution\n\t\t\t\t\t\t\t\t\t\tif ( special ) {\n\t\t\t\t\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\t\t\t\t\treturned,\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Thrower, special )\n\t\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\t// Normal processors (resolve) also hook into progress\n\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t// ...and disregard older resolution values\n\t\t\t\t\t\t\t\t\t\t\tmaxDepth++;\n\n\t\t\t\t\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\t\t\t\t\treturned,\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Thrower, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity,\n\t\t\t\t\t\t\t\t\t\t\t\t\tdeferred.notifyWith )\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Handle all other returned values\n\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t// Only substitute handlers pass on context\n\t\t\t\t\t\t\t\t\t\t// and multiple values (non-spec behavior)\n\t\t\t\t\t\t\t\t\t\tif ( handler !== Identity ) {\n\t\t\t\t\t\t\t\t\t\t\tthat = undefined;\n\t\t\t\t\t\t\t\t\t\t\targs = [ returned ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t// Process the value(s)\n\t\t\t\t\t\t\t\t\t\t// Default process is resolve\n\t\t\t\t\t\t\t\t\t\t( special || deferred.resolveWith )( that, args );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t// Only normal processors (resolve) catch and reject exceptions\n\t\t\t\t\t\t\t\tprocess = special ?\n\t\t\t\t\t\t\t\t\tmightThrow :\n\t\t\t\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\tmightThrow();\n\t\t\t\t\t\t\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t\t\t\t\t\t\tif ( jQuery.Deferred.exceptionHook ) {\n\t\t\t\t\t\t\t\t\t\t\t\tjQuery.Deferred.exceptionHook( e,\n\t\t\t\t\t\t\t\t\t\t\t\t\tprocess.error );\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.4.1\n\t\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-61\n\t\t\t\t\t\t\t\t\t\t\t// Ignore post-resolution exceptions\n\t\t\t\t\t\t\t\t\t\t\tif ( depth + 1 >= maxDepth ) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t// Only substitute handlers pass on context\n\t\t\t\t\t\t\t\t\t\t\t\t// and multiple values (non-spec behavior)\n\t\t\t\t\t\t\t\t\t\t\t\tif ( handler !== Thrower ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthat = undefined;\n\t\t\t\t\t\t\t\t\t\t\t\t\targs = [ e ];\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tdeferred.rejectWith( that, args );\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.1\n\t\t\t\t\t\t\t// https://promisesaplus.com/#point-57\n\t\t\t\t\t\t\t// Re-resolve promises immediately to dodge false rejection from\n\t\t\t\t\t\t\t// subsequent errors\n\t\t\t\t\t\t\tif ( depth ) {\n\t\t\t\t\t\t\t\tprocess();\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t// Call an optional hook to record the error, in case of exception\n\t\t\t\t\t\t\t\t// since it's otherwise lost when execution goes async\n\t\t\t\t\t\t\t\tif ( jQuery.Deferred.getErrorHook ) {\n\t\t\t\t\t\t\t\t\tprocess.error = jQuery.Deferred.getErrorHook();\n\n\t\t\t\t\t\t\t\t// The deprecated alias of the above. While the name suggests\n\t\t\t\t\t\t\t\t// returning the stack, not an error instance, jQuery just passes\n\t\t\t\t\t\t\t\t// it directly to `console.warn` so both will work; an instance\n\t\t\t\t\t\t\t\t// just better cooperates with source maps.\n\t\t\t\t\t\t\t\t} else if ( jQuery.Deferred.getStackHook ) {\n\t\t\t\t\t\t\t\t\tprocess.error = jQuery.Deferred.getStackHook();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twindow.setTimeout( process );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\n\t\t\t\t\t\t// progress_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 0 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onProgress ) ?\n\t\t\t\t\t\t\t\t\tonProgress :\n\t\t\t\t\t\t\t\t\tIdentity,\n\t\t\t\t\t\t\t\tnewDefer.notifyWith\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// fulfilled_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 1 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onFulfilled ) ?\n\t\t\t\t\t\t\t\t\tonFulfilled :\n\t\t\t\t\t\t\t\t\tIdentity\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// rejected_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 2 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onRejected ) ?\n\t\t\t\t\t\t\t\t\tonRejected :\n\t\t\t\t\t\t\t\t\tThrower\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\n\t\t\t\t// Get a promise for this deferred\n\t\t\t\t// If obj is provided, the promise aspect is added to the object\n\t\t\t\tpromise: function( obj ) {\n\t\t\t\t\treturn obj != null ? jQuery.extend( obj, promise ) : promise;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeferred = {};\n\n\t\t// Add list-specific methods\n\t\tjQuery.each( tuples, function( i, tuple ) {\n\t\t\tvar list = tuple[ 2 ],\n\t\t\t\tstateString = tuple[ 5 ];\n\n\t\t\t// promise.progress = list.add\n\t\t\t// promise.done = list.add\n\t\t\t// promise.fail = list.add\n\t\t\tpromise[ tuple[ 1 ] ] = list.add;\n\n\t\t\t// Handle state\n\t\t\tif ( stateString ) {\n\t\t\t\tlist.add(\n\t\t\t\t\tfunction() {\n\n\t\t\t\t\t\t// state = \"resolved\" (i.e., fulfilled)\n\t\t\t\t\t\t// state = \"rejected\"\n\t\t\t\t\t\tstate = stateString;\n\t\t\t\t\t},\n\n\t\t\t\t\t// rejected_callbacks.disable\n\t\t\t\t\t// fulfilled_callbacks.disable\n\t\t\t\t\ttuples[ 3 - i ][ 2 ].disable,\n\n\t\t\t\t\t// rejected_handlers.disable\n\t\t\t\t\t// fulfilled_handlers.disable\n\t\t\t\t\ttuples[ 3 - i ][ 3 ].disable,\n\n\t\t\t\t\t// progress_callbacks.lock\n\t\t\t\t\ttuples[ 0 ][ 2 ].lock,\n\n\t\t\t\t\t// progress_handlers.lock\n\t\t\t\t\ttuples[ 0 ][ 3 ].lock\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// progress_handlers.fire\n\t\t\t// fulfilled_handlers.fire\n\t\t\t// rejected_handlers.fire\n\t\t\tlist.add( tuple[ 3 ].fire );\n\n\t\t\t// deferred.notify = function() { deferred.notifyWith(...) }\n\t\t\t// deferred.resolve = function() { deferred.resolveWith(...) }\n\t\t\t// deferred.reject = function() { deferred.rejectWith(...) }\n\t\t\tdeferred[ tuple[ 0 ] ] = function() {\n\t\t\t\tdeferred[ tuple[ 0 ] + \"With\" ]( this === deferred ? undefined : this, arguments );\n\t\t\t\treturn this;\n\t\t\t};\n\n\t\t\t// deferred.notifyWith = list.fireWith\n\t\t\t// deferred.resolveWith = list.fireWith\n\t\t\t// deferred.rejectWith = list.fireWith\n\t\t\tdeferred[ tuple[ 0 ] + \"With\" ] = list.fireWith;\n\t\t} );\n\n\t\t// Make the deferred a promise\n\t\tpromise.promise( deferred );\n\n\t\t// Call given func if any\n\t\tif ( func ) {\n\t\t\tfunc.call( deferred, deferred );\n\t\t}\n\n\t\t// All done!\n\t\treturn deferred;\n\t},\n\n\t// Deferred helper\n\twhen: function( singleValue ) {\n\t\tvar\n\n\t\t\t// count of uncompleted subordinates\n\t\t\tremaining = arguments.length,\n\n\t\t\t// count of unprocessed arguments\n\t\t\ti = remaining,\n\n\t\t\t// subordinate fulfillment data\n\t\t\tresolveContexts = Array( i ),\n\t\t\tresolveValues = slice.call( arguments ),\n\n\t\t\t// the primary Deferred\n\t\t\tprimary = jQuery.Deferred(),\n\n\t\t\t// subordinate callback factory\n\t\t\tupdateFunc = function( i ) {\n\t\t\t\treturn function( value ) {\n\t\t\t\t\tresolveContexts[ i ] = this;\n\t\t\t\t\tresolveValues[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;\n\t\t\t\t\tif ( !( --remaining ) ) {\n\t\t\t\t\t\tprimary.resolveWith( resolveContexts, resolveValues );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\n\t\t// Single- and empty arguments are adopted like Promise.resolve\n\t\tif ( remaining <= 1 ) {\n\t\t\tadoptValue( singleValue, primary.done( updateFunc( i ) ).resolve, primary.reject,\n\t\t\t\t!remaining );\n\n\t\t\t// Use .then() to unwrap secondary thenables (cf. gh-3000)\n\t\t\tif ( primary.state() === \"pending\" ||\n\t\t\t\tisFunction( resolveValues[ i ] && resolveValues[ i ].then ) ) {\n\n\t\t\t\treturn primary.then();\n\t\t\t}\n\t\t}\n\n\t\t// Multiple arguments are aggregated like Promise.all array elements\n\t\twhile ( i-- ) {\n\t\t\tadoptValue( resolveValues[ i ], updateFunc( i ), primary.reject );\n\t\t}\n\n\t\treturn primary.promise();\n\t}\n} );\n\n\n// These usually indicate a programmer mistake during development,\n// warn about them ASAP rather than swallowing them by default.\nvar rerrorNames = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;\n\n// If `jQuery.Deferred.getErrorHook` is defined, `asyncError` is an error\n// captured before the async barrier to get the original error cause\n// which may otherwise be hidden.\njQuery.Deferred.exceptionHook = function( error, asyncError ) {\n\n\t// Support: IE 8 - 9 only\n\t// Console exists when dev tools are open, which can happen at any time\n\tif ( window.console && window.console.warn && error && rerrorNames.test( error.name ) ) {\n\t\twindow.console.warn( \"jQuery.Deferred exception: \" + error.message,\n\t\t\terror.stack, asyncError );\n\t}\n};\n\n\n\n\njQuery.readyException = function( error ) {\n\twindow.setTimeout( function() {\n\t\tthrow error;\n\t} );\n};\n\n\n\n\n// The deferred used on DOM ready\nvar readyList = jQuery.Deferred();\n\njQuery.fn.ready = function( fn ) {\n\n\treadyList\n\t\t.then( fn )\n\n\t\t// Wrap jQuery.readyException in a function so that the lookup\n\t\t// happens at the time of error handling instead of callback\n\t\t// registration.\n\t\t.catch( function( error ) {\n\t\t\tjQuery.readyException( error );\n\t\t} );\n\n\treturn this;\n};\n\njQuery.extend( {\n\n\t// Is the DOM ready to be used? Set to true once it occurs.\n\tisReady: false,\n\n\t// A counter to track how many items to wait for before\n\t// the ready event fires. See trac-6781\n\treadyWait: 1,\n\n\t// Handle when the DOM is ready\n\tready: function( wait ) {\n\n\t\t// Abort if there are pending holds or we're already ready\n\t\tif ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Remember that the DOM is ready\n\t\tjQuery.isReady = true;\n\n\t\t// If a normal DOM Ready event fired, decrement, and wait if need be\n\t\tif ( wait !== true && --jQuery.readyWait > 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If there are functions bound, to execute\n\t\treadyList.resolveWith( document, [ jQuery ] );\n\t}\n} );\n\njQuery.ready.then = readyList.then;\n\n// The ready event handler and self cleanup method\nfunction completed() {\n\tdocument.removeEventListener( \"DOMContentLoaded\", completed );\n\twindow.removeEventListener( \"load\", completed );\n\tjQuery.ready();\n}\n\n// Catch cases where $(document).ready() is called\n// after the browser event has already occurred.\n// Support: IE <=9 - 10 only\n// Older IE sometimes signals \"interactive\" too soon\nif ( document.readyState === \"complete\" ||\n\t( document.readyState !== \"loading\" && !document.documentElement.doScroll ) ) {\n\n\t// Handle it asynchronously to allow scripts the opportunity to delay ready\n\twindow.setTimeout( jQuery.ready );\n\n} else {\n\n\t// Use the handy event callback\n\tdocument.addEventListener( \"DOMContentLoaded\", completed );\n\n\t// A fallback to window.onload, that will always work\n\twindow.addEventListener( \"load\", completed );\n}\n\n\n\n\n// Multifunctional method to get and set values of a collection\n// The value/s can optionally be executed if it's a function\nvar access = function( elems, fn, key, value, chainable, emptyGet, raw ) {\n\tvar i = 0,\n\t\tlen = elems.length,\n\t\tbulk = key == null;\n\n\t// Sets many values\n\tif ( toType( key ) === \"object\" ) {\n\t\tchainable = true;\n\t\tfor ( i in key ) {\n\t\t\taccess( elems, fn, i, key[ i ], true, emptyGet, raw );\n\t\t}\n\n\t// Sets one value\n\t} else if ( value !== undefined ) {\n\t\tchainable = true;\n\n\t\tif ( !isFunction( value ) ) {\n\t\t\traw = true;\n\t\t}\n\n\t\tif ( bulk ) {\n\n\t\t\t// Bulk operations run against the entire set\n\t\t\tif ( raw ) {\n\t\t\t\tfn.call( elems, value );\n\t\t\t\tfn = null;\n\n\t\t\t// ...except when executing function values\n\t\t\t} else {\n\t\t\t\tbulk = fn;\n\t\t\t\tfn = function( elem, _key, value ) {\n\t\t\t\t\treturn bulk.call( jQuery( elem ), value );\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tif ( fn ) {\n\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\tfn(\n\t\t\t\t\telems[ i ], key, raw ?\n\t\t\t\t\t\tvalue :\n\t\t\t\t\t\tvalue.call( elems[ i ], i, fn( elems[ i ], key ) )\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( chainable ) {\n\t\treturn elems;\n\t}\n\n\t// Gets\n\tif ( bulk ) {\n\t\treturn fn.call( elems );\n\t}\n\n\treturn len ? fn( elems[ 0 ], key ) : emptyGet;\n};\n\n\n// Matches dashed string for camelizing\nvar rmsPrefix = /^-ms-/,\n\trdashAlpha = /-([a-z])/g;\n\n// Used by camelCase as callback to replace()\nfunction fcamelCase( _all, letter ) {\n\treturn letter.toUpperCase();\n}\n\n// Convert dashed to camelCase; used by the css and data modules\n// Support: IE <=9 - 11, Edge 12 - 15\n// Microsoft forgot to hump their vendor prefix (trac-9572)\nfunction camelCase( string ) {\n\treturn string.replace( rmsPrefix, \"ms-\" ).replace( rdashAlpha, fcamelCase );\n}\nvar acceptData = function( owner ) {\n\n\t// Accepts only:\n\t//  - Node\n\t//    - Node.ELEMENT_NODE\n\t//    - Node.DOCUMENT_NODE\n\t//  - Object\n\t//    - Any\n\treturn owner.nodeType === 1 || owner.nodeType === 9 || !( +owner.nodeType );\n};\n\n\n\n\nfunction Data() {\n\tthis.expando = jQuery.expando + Data.uid++;\n}\n\nData.uid = 1;\n\nData.prototype = {\n\n\tcache: function( owner ) {\n\n\t\t// Check if the owner object already has a cache\n\t\tvar value = owner[ this.expando ];\n\n\t\t// If not, create one\n\t\tif ( !value ) {\n\t\t\tvalue = {};\n\n\t\t\t// We can accept data for non-element nodes in modern browsers,\n\t\t\t// but we should not, see trac-8335.\n\t\t\t// Always return an empty object.\n\t\t\tif ( acceptData( owner ) ) {\n\n\t\t\t\t// If it is a node unlikely to be stringify-ed or looped over\n\t\t\t\t// use plain assignment\n\t\t\t\tif ( owner.nodeType ) {\n\t\t\t\t\towner[ this.expando ] = value;\n\n\t\t\t\t// Otherwise secure it in a non-enumerable property\n\t\t\t\t// configurable must be true to allow the property to be\n\t\t\t\t// deleted when data is removed\n\t\t\t\t} else {\n\t\t\t\t\tObject.defineProperty( owner, this.expando, {\n\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t\tconfigurable: true\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn value;\n\t},\n\tset: function( owner, data, value ) {\n\t\tvar prop,\n\t\t\tcache = this.cache( owner );\n\n\t\t// Handle: [ owner, key, value ] args\n\t\t// Always use camelCase key (gh-2257)\n\t\tif ( typeof data === \"string\" ) {\n\t\t\tcache[ camelCase( data ) ] = value;\n\n\t\t// Handle: [ owner, { properties } ] args\n\t\t} else {\n\n\t\t\t// Copy the properties one-by-one to the cache object\n\t\t\tfor ( prop in data ) {\n\t\t\t\tcache[ camelCase( prop ) ] = data[ prop ];\n\t\t\t}\n\t\t}\n\t\treturn cache;\n\t},\n\tget: function( owner, key ) {\n\t\treturn key === undefined ?\n\t\t\tthis.cache( owner ) :\n\n\t\t\t// Always use camelCase key (gh-2257)\n\t\t\towner[ this.expando ] && owner[ this.expando ][ camelCase( key ) ];\n\t},\n\taccess: function( owner, key, value ) {\n\n\t\t// In cases where either:\n\t\t//\n\t\t//   1. No key was specified\n\t\t//   2. A string key was specified, but no value provided\n\t\t//\n\t\t// Take the \"read\" path and allow the get method to determine\n\t\t// which value to return, respectively either:\n\t\t//\n\t\t//   1. The entire cache object\n\t\t//   2. The data stored at the key\n\t\t//\n\t\tif ( key === undefined ||\n\t\t\t\t( ( key && typeof key === \"string\" ) && value === undefined ) ) {\n\n\t\t\treturn this.get( owner, key );\n\t\t}\n\n\t\t// When the key is not a string, or both a key and value\n\t\t// are specified, set or extend (existing objects) with either:\n\t\t//\n\t\t//   1. An object of properties\n\t\t//   2. A key and value\n\t\t//\n\t\tthis.set( owner, key, value );\n\n\t\t// Since the \"set\" path can have two possible entry points\n\t\t// return the expected data based on which path was taken[*]\n\t\treturn value !== undefined ? value : key;\n\t},\n\tremove: function( owner, key ) {\n\t\tvar i,\n\t\t\tcache = owner[ this.expando ];\n\n\t\tif ( cache === undefined ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( key !== undefined ) {\n\n\t\t\t// Support array or space separated string of keys\n\t\t\tif ( Array.isArray( key ) ) {\n\n\t\t\t\t// If key is an array of keys...\n\t\t\t\t// We always set camelCase keys, so remove that.\n\t\t\t\tkey = key.map( camelCase );\n\t\t\t} else {\n\t\t\t\tkey = camelCase( key );\n\n\t\t\t\t// If a key with the spaces exists, use it.\n\t\t\t\t// Otherwise, create an array by matching non-whitespace\n\t\t\t\tkey = key in cache ?\n\t\t\t\t\t[ key ] :\n\t\t\t\t\t( key.match( rnothtmlwhite ) || [] );\n\t\t\t}\n\n\t\t\ti = key.length;\n\n\t\t\twhile ( i-- ) {\n\t\t\t\tdelete cache[ key[ i ] ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove the expando if there's no more data\n\t\tif ( key === undefined || jQuery.isEmptyObject( cache ) ) {\n\n\t\t\t// Support: Chrome <=35 - 45\n\t\t\t// Webkit & Blink performance suffers when deleting properties\n\t\t\t// from DOM nodes, so set to undefined instead\n\t\t\t// https://bugs.chromium.org/p/chromium/issues/detail?id=378607 (bug restricted)\n\t\t\tif ( owner.nodeType ) {\n\t\t\t\towner[ this.expando ] = undefined;\n\t\t\t} else {\n\t\t\t\tdelete owner[ this.expando ];\n\t\t\t}\n\t\t}\n\t},\n\thasData: function( owner ) {\n\t\tvar cache = owner[ this.expando ];\n\t\treturn cache !== undefined && !jQuery.isEmptyObject( cache );\n\t}\n};\nvar dataPriv = new Data();\n\nvar dataUser = new Data();\n\n\n\n//\tImplementation Summary\n//\n//\t1. Enforce API surface and semantic compatibility with 1.9.x branch\n//\t2. Improve the module's maintainability by reducing the storage\n//\t\tpaths to a single mechanism.\n//\t3. Use the same single mechanism to support \"private\" and \"user\" data.\n//\t4. _Never_ expose \"private\" data to user code (TODO: Drop _data, _removeData)\n//\t5. Avoid exposing implementation details on user objects (eg. expando properties)\n//\t6. Provide a clear path for implementation upgrade to WeakMap in 2014\n\nvar rbrace = /^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,\n\trmultiDash = /[A-Z]/g;\n\nfunction getData( data ) {\n\tif ( data === \"true\" ) {\n\t\treturn true;\n\t}\n\n\tif ( data === \"false\" ) {\n\t\treturn false;\n\t}\n\n\tif ( data === \"null\" ) {\n\t\treturn null;\n\t}\n\n\t// Only convert to a number if it doesn't change the string\n\tif ( data === +data + \"\" ) {\n\t\treturn +data;\n\t}\n\n\tif ( rbrace.test( data ) ) {\n\t\treturn JSON.parse( data );\n\t}\n\n\treturn data;\n}\n\nfunction dataAttr( elem, key, data ) {\n\tvar name;\n\n\t// If nothing was found internally, try to fetch any\n\t// data from the HTML5 data-* attribute\n\tif ( data === undefined && elem.nodeType === 1 ) {\n\t\tname = \"data-\" + key.replace( rmultiDash, \"-$&\" ).toLowerCase();\n\t\tdata = elem.getAttribute( name );\n\n\t\tif ( typeof data === \"string\" ) {\n\t\t\ttry {\n\t\t\t\tdata = getData( data );\n\t\t\t} catch ( e ) {}\n\n\t\t\t// Make sure we set the data so it isn't changed later\n\t\t\tdataUser.set( elem, key, data );\n\t\t} else {\n\t\t\tdata = undefined;\n\t\t}\n\t}\n\treturn data;\n}\n\njQuery.extend( {\n\thasData: function( elem ) {\n\t\treturn dataUser.hasData( elem ) || dataPriv.hasData( elem );\n\t},\n\n\tdata: function( elem, name, data ) {\n\t\treturn dataUser.access( elem, name, data );\n\t},\n\n\tremoveData: function( elem, name ) {\n\t\tdataUser.remove( elem, name );\n\t},\n\n\t// TODO: Now that all calls to _data and _removeData have been replaced\n\t// with direct calls to dataPriv methods, these can be deprecated.\n\t_data: function( elem, name, data ) {\n\t\treturn dataPriv.access( elem, name, data );\n\t},\n\n\t_removeData: function( elem, name ) {\n\t\tdataPriv.remove( elem, name );\n\t}\n} );\n\njQuery.fn.extend( {\n\tdata: function( key, value ) {\n\t\tvar i, name, data,\n\t\t\telem = this[ 0 ],\n\t\t\tattrs = elem && elem.attributes;\n\n\t\t// Gets all values\n\t\tif ( key === undefined ) {\n\t\t\tif ( this.length ) {\n\t\t\t\tdata = dataUser.get( elem );\n\n\t\t\t\tif ( elem.nodeType === 1 && !dataPriv.get( elem, \"hasDataAttrs\" ) ) {\n\t\t\t\t\ti = attrs.length;\n\t\t\t\t\twhile ( i-- ) {\n\n\t\t\t\t\t\t// Support: IE 11 only\n\t\t\t\t\t\t// The attrs elements can be null (trac-14894)\n\t\t\t\t\t\tif ( attrs[ i ] ) {\n\t\t\t\t\t\t\tname = attrs[ i ].name;\n\t\t\t\t\t\t\tif ( name.indexOf( \"data-\" ) === 0 ) {\n\t\t\t\t\t\t\t\tname = camelCase( name.slice( 5 ) );\n\t\t\t\t\t\t\t\tdataAttr( elem, name, data[ name ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdataPriv.set( elem, \"hasDataAttrs\", true );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t\t// Sets multiple values\n\t\tif ( typeof key === \"object\" ) {\n\t\t\treturn this.each( function() {\n\t\t\t\tdataUser.set( this, key );\n\t\t\t} );\n\t\t}\n\n\t\treturn access( this, function( value ) {\n\t\t\tvar data;\n\n\t\t\t// The calling jQuery object (element matches) is not empty\n\t\t\t// (and therefore has an element appears at this[ 0 ]) and the\n\t\t\t// `value` parameter was not undefined. An empty jQuery object\n\t\t\t// will result in `undefined` for elem = this[ 0 ] which will\n\t\t\t// throw an exception if an attempt to read a data cache is made.\n\t\t\tif ( elem && value === undefined ) {\n\n\t\t\t\t// Attempt to get data from the cache\n\t\t\t\t// The key will always be camelCased in Data\n\t\t\t\tdata = dataUser.get( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// Attempt to \"discover\" the data in\n\t\t\t\t// HTML5 custom data-* attrs\n\t\t\t\tdata = dataAttr( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// We tried really hard, but the data doesn't exist.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Set the data...\n\t\t\tthis.each( function() {\n\n\t\t\t\t// We always store the camelCased key\n\t\t\t\tdataUser.set( this, key, value );\n\t\t\t} );\n\t\t}, null, value, arguments.length > 1, null, true );\n\t},\n\n\tremoveData: function( key ) {\n\t\treturn this.each( function() {\n\t\t\tdataUser.remove( this, key );\n\t\t} );\n\t}\n} );\n\n\njQuery.extend( {\n\tqueue: function( elem, type, data ) {\n\t\tvar queue;\n\n\t\tif ( elem ) {\n\t\t\ttype = ( type || \"fx\" ) + \"queue\";\n\t\t\tqueue = dataPriv.get( elem, type );\n\n\t\t\t// Speed up dequeue by getting out quickly if this is just a lookup\n\t\t\tif ( data ) {\n\t\t\t\tif ( !queue || Array.isArray( data ) ) {\n\t\t\t\t\tqueue = dataPriv.access( elem, type, jQuery.makeArray( data ) );\n\t\t\t\t} else {\n\t\t\t\t\tqueue.push( data );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn queue || [];\n\t\t}\n\t},\n\n\tdequeue: function( elem, type ) {\n\t\ttype = type || \"fx\";\n\n\t\tvar queue = jQuery.queue( elem, type ),\n\t\t\tstartLength = queue.length,\n\t\t\tfn = queue.shift(),\n\t\t\thooks = jQuery._queueHooks( elem, type ),\n\t\t\tnext = function() {\n\t\t\t\tjQuery.dequeue( elem, type );\n\t\t\t};\n\n\t\t// If the fx queue is dequeued, always remove the progress sentinel\n\t\tif ( fn === \"inprogress\" ) {\n\t\t\tfn = queue.shift();\n\t\t\tstartLength--;\n\t\t}\n\n\t\tif ( fn ) {\n\n\t\t\t// Add a progress sentinel to prevent the fx queue from being\n\t\t\t// automatically dequeued\n\t\t\tif ( type === \"fx\" ) {\n\t\t\t\tqueue.unshift( \"inprogress\" );\n\t\t\t}\n\n\t\t\t// Clear up the last queue stop function\n\t\t\tdelete hooks.stop;\n\t\t\tfn.call( elem, next, hooks );\n\t\t}\n\n\t\tif ( !startLength && hooks ) {\n\t\t\thooks.empty.fire();\n\t\t}\n\t},\n\n\t// Not public - generate a queueHooks object, or return the current one\n\t_queueHooks: function( elem, type ) {\n\t\tvar key = type + \"queueHooks\";\n\t\treturn dataPriv.get( elem, key ) || dataPriv.access( elem, key, {\n\t\t\tempty: jQuery.Callbacks( \"once memory\" ).add( function() {\n\t\t\t\tdataPriv.remove( elem, [ type + \"queue\", key ] );\n\t\t\t} )\n\t\t} );\n\t}\n} );\n\njQuery.fn.extend( {\n\tqueue: function( type, data ) {\n\t\tvar setter = 2;\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tdata = type;\n\t\t\ttype = \"fx\";\n\t\t\tsetter--;\n\t\t}\n\n\t\tif ( arguments.length < setter ) {\n\t\t\treturn jQuery.queue( this[ 0 ], type );\n\t\t}\n\n\t\treturn data === undefined ?\n\t\t\tthis :\n\t\t\tthis.each( function() {\n\t\t\t\tvar queue = jQuery.queue( this, type, data );\n\n\t\t\t\t// Ensure a hooks for this queue\n\t\t\t\tjQuery._queueHooks( this, type );\n\n\t\t\t\tif ( type === \"fx\" && queue[ 0 ] !== \"inprogress\" ) {\n\t\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t\t}\n\t\t\t} );\n\t},\n\tdequeue: function( type ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.dequeue( this, type );\n\t\t} );\n\t},\n\tclearQueue: function( type ) {\n\t\treturn this.queue( type || \"fx\", [] );\n\t},\n\n\t// Get a promise resolved when queues of a certain type\n\t// are emptied (fx is the type by default)\n\tpromise: function( type, obj ) {\n\t\tvar tmp,\n\t\t\tcount = 1,\n\t\t\tdefer = jQuery.Deferred(),\n\t\t\telements = this,\n\t\t\ti = this.length,\n\t\t\tresolve = function() {\n\t\t\t\tif ( !( --count ) ) {\n\t\t\t\t\tdefer.resolveWith( elements, [ elements ] );\n\t\t\t\t}\n\t\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tobj = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\ttype = type || \"fx\";\n\n\t\twhile ( i-- ) {\n\t\t\ttmp = dataPriv.get( elements[ i ], type + \"queueHooks\" );\n\t\t\tif ( tmp && tmp.empty ) {\n\t\t\t\tcount++;\n\t\t\t\ttmp.empty.add( resolve );\n\t\t\t}\n\t\t}\n\t\tresolve();\n\t\treturn defer.promise( obj );\n\t}\n} );\nvar pnum = ( /[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/ ).source;\n\nvar rcssNum = new RegExp( \"^(?:([+-])=|)(\" + pnum + \")([a-z%]*)$\", \"i\" );\n\n\nvar cssExpand = [ \"Top\", \"Right\", \"Bottom\", \"Left\" ];\n\nvar documentElement = document.documentElement;\n\n\n\n\tvar isAttached = function( elem ) {\n\t\t\treturn jQuery.contains( elem.ownerDocument, elem );\n\t\t},\n\t\tcomposed = { composed: true };\n\n\t// Support: IE 9 - 11+, Edge 12 - 18+, iOS 10.0 - 10.2 only\n\t// Check attachment across shadow DOM boundaries when possible (gh-3504)\n\t// Support: iOS 10.0-10.2 only\n\t// Early iOS 10 versions support `attachShadow` but not `getRootNode`,\n\t// leading to errors. We need to check for `getRootNode`.\n\tif ( documentElement.getRootNode ) {\n\t\tisAttached = function( elem ) {\n\t\t\treturn jQuery.contains( elem.ownerDocument, elem ) ||\n\t\t\t\telem.getRootNode( composed ) === elem.ownerDocument;\n\t\t};\n\t}\nvar isHiddenWithinTree = function( elem, el ) {\n\n\t\t// isHiddenWithinTree might be called from jQuery#filter function;\n\t\t// in that case, element will be second argument\n\t\telem = el || elem;\n\n\t\t// Inline style trumps all\n\t\treturn elem.style.display === \"none\" ||\n\t\t\telem.style.display === \"\" &&\n\n\t\t\t// Otherwise, check computed style\n\t\t\t// Support: Firefox <=43 - 45\n\t\t\t// Disconnected elements can have computed display: none, so first confirm that elem is\n\t\t\t// in the document.\n\t\t\tisAttached( elem ) &&\n\n\t\t\tjQuery.css( elem, \"display\" ) === \"none\";\n\t};\n\n\n\nfunction adjustCSS( elem, prop, valueParts, tween ) {\n\tvar adjusted, scale,\n\t\tmaxIterations = 20,\n\t\tcurrentValue = tween ?\n\t\t\tfunction() {\n\t\t\t\treturn tween.cur();\n\t\t\t} :\n\t\t\tfunction() {\n\t\t\t\treturn jQuery.css( elem, prop, \"\" );\n\t\t\t},\n\t\tinitial = currentValue(),\n\t\tunit = valueParts && valueParts[ 3 ] || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" ),\n\n\t\t// Starting value computation is required for potential unit mismatches\n\t\tinitialInUnit = elem.nodeType &&\n\t\t\t( jQuery.cssNumber[ prop ] || unit !== \"px\" && +initial ) &&\n\t\t\trcssNum.exec( jQuery.css( elem, prop ) );\n\n\tif ( initialInUnit && initialInUnit[ 3 ] !== unit ) {\n\n\t\t// Support: Firefox <=54\n\t\t// Halve the iteration target value to prevent interference from CSS upper bounds (gh-2144)\n\t\tinitial = initial / 2;\n\n\t\t// Trust units reported by jQuery.css\n\t\tunit = unit || initialInUnit[ 3 ];\n\n\t\t// Iteratively approximate from a nonzero starting point\n\t\tinitialInUnit = +initial || 1;\n\n\t\twhile ( maxIterations-- ) {\n\n\t\t\t// Evaluate and update our best guess (doubling guesses that zero out).\n\t\t\t// Finish if the scale equals or crosses 1 (making the old*new product non-positive).\n\t\t\tjQuery.style( elem, prop, initialInUnit + unit );\n\t\t\tif ( ( 1 - scale ) * ( 1 - ( scale = currentValue() / initial || 0.5 ) ) <= 0 ) {\n\t\t\t\tmaxIterations = 0;\n\t\t\t}\n\t\t\tinitialInUnit = initialInUnit / scale;\n\n\t\t}\n\n\t\tinitialInUnit = initialInUnit * 2;\n\t\tjQuery.style( elem, prop, initialInUnit + unit );\n\n\t\t// Make sure we update the tween properties later on\n\t\tvalueParts = valueParts || [];\n\t}\n\n\tif ( valueParts ) {\n\t\tinitialInUnit = +initialInUnit || +initial || 0;\n\n\t\t// Apply relative offset (+=/-=) if specified\n\t\tadjusted = valueParts[ 1 ] ?\n\t\t\tinitialInUnit + ( valueParts[ 1 ] + 1 ) * valueParts[ 2 ] :\n\t\t\t+valueParts[ 2 ];\n\t\tif ( tween ) {\n\t\t\ttween.unit = unit;\n\t\t\ttween.start = initialInUnit;\n\t\t\ttween.end = adjusted;\n\t\t}\n\t}\n\treturn adjusted;\n}\n\n\nvar defaultDisplayMap = {};\n\nfunction getDefaultDisplay( elem ) {\n\tvar temp,\n\t\tdoc = elem.ownerDocument,\n\t\tnodeName = elem.nodeName,\n\t\tdisplay = defaultDisplayMap[ nodeName ];\n\n\tif ( display ) {\n\t\treturn display;\n\t}\n\n\ttemp = doc.body.appendChild( doc.createElement( nodeName ) );\n\tdisplay = jQuery.css( temp, \"display\" );\n\n\ttemp.parentNode.removeChild( temp );\n\n\tif ( display === \"none\" ) {\n\t\tdisplay = \"block\";\n\t}\n\tdefaultDisplayMap[ nodeName ] = display;\n\n\treturn display;\n}\n\nfunction showHide( elements, show ) {\n\tvar display, elem,\n\t\tvalues = [],\n\t\tindex = 0,\n\t\tlength = elements.length;\n\n\t// Determine new display value for elements that need to change\n\tfor ( ; index < length; index++ ) {\n\t\telem = elements[ index ];\n\t\tif ( !elem.style ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tdisplay = elem.style.display;\n\t\tif ( show ) {\n\n\t\t\t// Since we force visibility upon cascade-hidden elements, an immediate (and slow)\n\t\t\t// check is required in this first loop unless we have a nonempty display value (either\n\t\t\t// inline or about-to-be-restored)\n\t\t\tif ( display === \"none\" ) {\n\t\t\t\tvalues[ index ] = dataPriv.get( elem, \"display\" ) || null;\n\t\t\t\tif ( !values[ index ] ) {\n\t\t\t\t\telem.style.display = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( elem.style.display === \"\" && isHiddenWithinTree( elem ) ) {\n\t\t\t\tvalues[ index ] = getDefaultDisplay( elem );\n\t\t\t}\n\t\t} else {\n\t\t\tif ( display !== \"none\" ) {\n\t\t\t\tvalues[ index ] = \"none\";\n\n\t\t\t\t// Remember what we're overwriting\n\t\t\t\tdataPriv.set( elem, \"display\", display );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Set the display of the elements in a second loop to avoid constant reflow\n\tfor ( index = 0; index < length; index++ ) {\n\t\tif ( values[ index ] != null ) {\n\t\t\telements[ index ].style.display = values[ index ];\n\t\t}\n\t}\n\n\treturn elements;\n}\n\njQuery.fn.extend( {\n\tshow: function() {\n\t\treturn showHide( this, true );\n\t},\n\thide: function() {\n\t\treturn showHide( this );\n\t},\n\ttoggle: function( state ) {\n\t\tif ( typeof state === \"boolean\" ) {\n\t\t\treturn state ? this.show() : this.hide();\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tif ( isHiddenWithinTree( this ) ) {\n\t\t\t\tjQuery( this ).show();\n\t\t\t} else {\n\t\t\t\tjQuery( this ).hide();\n\t\t\t}\n\t\t} );\n\t}\n} );\nvar rcheckableType = ( /^(?:checkbox|radio)$/i );\n\nvar rtagName = ( /<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)/i );\n\nvar rscriptType = ( /^$|^module$|\\/(?:java|ecma)script/i );\n\n\n\n( function() {\n\tvar fragment = document.createDocumentFragment(),\n\t\tdiv = fragment.appendChild( document.createElement( \"div\" ) ),\n\t\tinput = document.createElement( \"input\" );\n\n\t// Support: Android 4.0 - 4.3 only\n\t// Check state lost if the name is set (trac-11217)\n\t// Support: Windows Web Apps (WWA)\n\t// `name` and `type` must use .setAttribute for WWA (trac-14901)\n\tinput.setAttribute( \"type\", \"radio\" );\n\tinput.setAttribute( \"checked\", \"checked\" );\n\tinput.setAttribute( \"name\", \"t\" );\n\n\tdiv.appendChild( input );\n\n\t// Support: Android <=4.1 only\n\t// Older WebKit doesn't clone checked state correctly in fragments\n\tsupport.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;\n\n\t// Support: IE <=11 only\n\t// Make sure textarea (and checkbox) defaultValue is properly cloned\n\tdiv.innerHTML = \"<textarea>x</textarea>\";\n\tsupport.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;\n\n\t// Support: IE <=9 only\n\t// IE <=9 replaces <option> tags with their contents when inserted outside of\n\t// the select element.\n\tdiv.innerHTML = \"<option></option>\";\n\tsupport.option = !!div.lastChild;\n} )();\n\n\n// We have to close these tags to support XHTML (trac-13200)\nvar wrapMap = {\n\n\t// XHTML parsers do not magically insert elements in the\n\t// same way that tag soup parsers do. So we cannot shorten\n\t// this by omitting <tbody> or other required elements.\n\tthead: [ 1, \"<table>\", \"</table>\" ],\n\tcol: [ 2, \"<table><colgroup>\", \"</colgroup></table>\" ],\n\ttr: [ 2, \"<table><tbody>\", \"</tbody></table>\" ],\n\ttd: [ 3, \"<table><tbody><tr>\", \"</tr></tbody></table>\" ],\n\n\t_default: [ 0, \"\", \"\" ]\n};\n\nwrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;\nwrapMap.th = wrapMap.td;\n\n// Support: IE <=9 only\nif ( !support.option ) {\n\twrapMap.optgroup = wrapMap.option = [ 1, \"<select multiple='multiple'>\", \"</select>\" ];\n}\n\n\nfunction getAll( context, tag ) {\n\n\t// Support: IE <=9 - 11 only\n\t// Use typeof to avoid zero-argument method invocation on host objects (trac-15151)\n\tvar ret;\n\n\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\n\t\tret = context.getElementsByTagName( tag || \"*\" );\n\n\t} else if ( typeof context.querySelectorAll !== \"undefined\" ) {\n\t\tret = context.querySelectorAll( tag || \"*\" );\n\n\t} else {\n\t\tret = [];\n\t}\n\n\tif ( tag === undefined || tag && nodeName( context, tag ) ) {\n\t\treturn jQuery.merge( [ context ], ret );\n\t}\n\n\treturn ret;\n}\n\n\n// Mark scripts as having already been evaluated\nfunction setGlobalEval( elems, refElements ) {\n\tvar i = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\tdataPriv.set(\n\t\t\telems[ i ],\n\t\t\t\"globalEval\",\n\t\t\t!refElements || dataPriv.get( refElements[ i ], \"globalEval\" )\n\t\t);\n\t}\n}\n\n\nvar rhtml = /<|&#?\\w+;/;\n\nfunction buildFragment( elems, context, scripts, selection, ignored ) {\n\tvar elem, tmp, tag, wrap, attached, j,\n\t\tfragment = context.createDocumentFragment(),\n\t\tnodes = [],\n\t\ti = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\telem = elems[ i ];\n\n\t\tif ( elem || elem === 0 ) {\n\n\t\t\t// Add nodes directly\n\t\t\tif ( toType( elem ) === \"object\" ) {\n\n\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );\n\n\t\t\t// Convert non-html into a text node\n\t\t\t} else if ( !rhtml.test( elem ) ) {\n\t\t\t\tnodes.push( context.createTextNode( elem ) );\n\n\t\t\t// Convert html into DOM nodes\n\t\t\t} else {\n\t\t\t\ttmp = tmp || fragment.appendChild( context.createElement( \"div\" ) );\n\n\t\t\t\t// Deserialize a standard representation\n\t\t\t\ttag = ( rtagName.exec( elem ) || [ \"\", \"\" ] )[ 1 ].toLowerCase();\n\t\t\t\twrap = wrapMap[ tag ] || wrapMap._default;\n\t\t\t\ttmp.innerHTML = wrap[ 1 ] + jQuery.htmlPrefilter( elem ) + wrap[ 2 ];\n\n\t\t\t\t// Descend through wrappers to the right content\n\t\t\t\tj = wrap[ 0 ];\n\t\t\t\twhile ( j-- ) {\n\t\t\t\t\ttmp = tmp.lastChild;\n\t\t\t\t}\n\n\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, tmp.childNodes );\n\n\t\t\t\t// Remember the top-level container\n\t\t\t\ttmp = fragment.firstChild;\n\n\t\t\t\t// Ensure the created nodes are orphaned (trac-12392)\n\t\t\t\ttmp.textContent = \"\";\n\t\t\t}\n\t\t}\n\t}\n\n\t// Remove wrapper from fragment\n\tfragment.textContent = \"\";\n\n\ti = 0;\n\twhile ( ( elem = nodes[ i++ ] ) ) {\n\n\t\t// Skip elements already in the context collection (trac-4087)\n\t\tif ( selection && jQuery.inArray( elem, selection ) > -1 ) {\n\t\t\tif ( ignored ) {\n\t\t\t\tignored.push( elem );\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\n\t\tattached = isAttached( elem );\n\n\t\t// Append to fragment\n\t\ttmp = getAll( fragment.appendChild( elem ), \"script\" );\n\n\t\t// Preserve script evaluation history\n\t\tif ( attached ) {\n\t\t\tsetGlobalEval( tmp );\n\t\t}\n\n\t\t// Capture executables\n\t\tif ( scripts ) {\n\t\t\tj = 0;\n\t\t\twhile ( ( elem = tmp[ j++ ] ) ) {\n\t\t\t\tif ( rscriptType.test( elem.type || \"\" ) ) {\n\t\t\t\t\tscripts.push( elem );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn fragment;\n}\n\n\nvar rtypenamespace = /^([^.]*)(?:\\.(.+)|)/;\n\nfunction returnTrue() {\n\treturn true;\n}\n\nfunction returnFalse() {\n\treturn false;\n}\n\nfunction on( elem, types, selector, data, fn, one ) {\n\tvar origFn, type;\n\n\t// Types can be a map of types/handlers\n\tif ( typeof types === \"object\" ) {\n\n\t\t// ( types-Object, selector, data )\n\t\tif ( typeof selector !== \"string\" ) {\n\n\t\t\t// ( types-Object, data )\n\t\t\tdata = data || selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tfor ( type in types ) {\n\t\t\ton( elem, type, selector, data, types[ type ], one );\n\t\t}\n\t\treturn elem;\n\t}\n\n\tif ( data == null && fn == null ) {\n\n\t\t// ( types, fn )\n\t\tfn = selector;\n\t\tdata = selector = undefined;\n\t} else if ( fn == null ) {\n\t\tif ( typeof selector === \"string\" ) {\n\n\t\t\t// ( types, selector, fn )\n\t\t\tfn = data;\n\t\t\tdata = undefined;\n\t\t} else {\n\n\t\t\t// ( types, data, fn )\n\t\t\tfn = data;\n\t\t\tdata = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t}\n\tif ( fn === false ) {\n\t\tfn = returnFalse;\n\t} else if ( !fn ) {\n\t\treturn elem;\n\t}\n\n\tif ( one === 1 ) {\n\t\torigFn = fn;\n\t\tfn = function( event ) {\n\n\t\t\t// Can use an empty set, since event contains the info\n\t\t\tjQuery().off( event );\n\t\t\treturn origFn.apply( this, arguments );\n\t\t};\n\n\t\t// Use same guid so caller can remove using origFn\n\t\tfn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );\n\t}\n\treturn elem.each( function() {\n\t\tjQuery.event.add( this, types, fn, data, selector );\n\t} );\n}\n\n/*\n * Helper functions for managing events -- not part of the public interface.\n * Props to Dean Edwards' addEvent library for many of the ideas.\n */\njQuery.event = {\n\n\tglobal: {},\n\n\tadd: function( elem, types, handler, data, selector ) {\n\n\t\tvar handleObjIn, eventHandle, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = dataPriv.get( elem );\n\n\t\t// Only attach events to objects that accept data\n\t\tif ( !acceptData( elem ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Caller can pass in an object of custom data in lieu of the handler\n\t\tif ( handler.handler ) {\n\t\t\thandleObjIn = handler;\n\t\t\thandler = handleObjIn.handler;\n\t\t\tselector = handleObjIn.selector;\n\t\t}\n\n\t\t// Ensure that invalid selectors throw exceptions at attach time\n\t\t// Evaluate against documentElement in case elem is a non-element node (e.g., document)\n\t\tif ( selector ) {\n\t\t\tjQuery.find.matchesSelector( documentElement, selector );\n\t\t}\n\n\t\t// Make sure that the handler has a unique ID, used to find/remove it later\n\t\tif ( !handler.guid ) {\n\t\t\thandler.guid = jQuery.guid++;\n\t\t}\n\n\t\t// Init the element's event structure and main handler, if this is the first\n\t\tif ( !( events = elemData.events ) ) {\n\t\t\tevents = elemData.events = Object.create( null );\n\t\t}\n\t\tif ( !( eventHandle = elemData.handle ) ) {\n\t\t\teventHandle = elemData.handle = function( e ) {\n\n\t\t\t\t// Discard the second event of a jQuery.event.trigger() and\n\t\t\t\t// when an event is called after a page has unloaded\n\t\t\t\treturn typeof jQuery !== \"undefined\" && jQuery.event.triggered !== e.type ?\n\t\t\t\t\tjQuery.event.dispatch.apply( elem, arguments ) : undefined;\n\t\t\t};\n\t\t}\n\n\t\t// Handle multiple events separated by a space\n\t\ttypes = ( types || \"\" ).match( rnothtmlwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\n\t\t\ttype = origType = tmp[ 1 ];\n\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// There *must* be a type, no attaching namespace-only handlers\n\t\t\tif ( !type ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// If event changes its type, use the special event handlers for the changed type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// If selector defined, determine special event api type, otherwise given type\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\n\t\t\t// Update special based on newly reset type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// handleObj is passed to all event handlers\n\t\t\thandleObj = jQuery.extend( {\n\t\t\t\ttype: type,\n\t\t\t\torigType: origType,\n\t\t\t\tdata: data,\n\t\t\t\thandler: handler,\n\t\t\t\tguid: handler.guid,\n\t\t\t\tselector: selector,\n\t\t\t\tneedsContext: selector && jQuery.expr.match.needsContext.test( selector ),\n\t\t\t\tnamespace: namespaces.join( \".\" )\n\t\t\t}, handleObjIn );\n\n\t\t\t// Init the event handler queue if we're the first\n\t\t\tif ( !( handlers = events[ type ] ) ) {\n\t\t\t\thandlers = events[ type ] = [];\n\t\t\t\thandlers.delegateCount = 0;\n\n\t\t\t\t// Only use addEventListener if the special events handler returns false\n\t\t\t\tif ( !special.setup ||\n\t\t\t\t\tspecial.setup.call( elem, data, namespaces, eventHandle ) === false ) {\n\n\t\t\t\t\tif ( elem.addEventListener ) {\n\t\t\t\t\t\telem.addEventListener( type, eventHandle );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( special.add ) {\n\t\t\t\tspecial.add.call( elem, handleObj );\n\n\t\t\t\tif ( !handleObj.handler.guid ) {\n\t\t\t\t\thandleObj.handler.guid = handler.guid;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add to the element's handler list, delegates in front\n\t\t\tif ( selector ) {\n\t\t\t\thandlers.splice( handlers.delegateCount++, 0, handleObj );\n\t\t\t} else {\n\t\t\t\thandlers.push( handleObj );\n\t\t\t}\n\n\t\t\t// Keep track of which events have ever been used, for event optimization\n\t\t\tjQuery.event.global[ type ] = true;\n\t\t}\n\n\t},\n\n\t// Detach an event or set of events from an element\n\tremove: function( elem, types, handler, selector, mappedTypes ) {\n\n\t\tvar j, origCount, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = dataPriv.hasData( elem ) && dataPriv.get( elem );\n\n\t\tif ( !elemData || !( events = elemData.events ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Once for each type.namespace in types; type may be omitted\n\t\ttypes = ( types || \"\" ).match( rnothtmlwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\n\t\t\ttype = origType = tmp[ 1 ];\n\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// Unbind all events (on this namespace, if provided) for the element\n\t\t\tif ( !type ) {\n\t\t\t\tfor ( type in events ) {\n\t\t\t\t\tjQuery.event.remove( elem, type + types[ t ], handler, selector, true );\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\t\t\thandlers = events[ type ] || [];\n\t\t\ttmp = tmp[ 2 ] &&\n\t\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" );\n\n\t\t\t// Remove matching events\n\t\t\torigCount = j = handlers.length;\n\t\t\twhile ( j-- ) {\n\t\t\t\thandleObj = handlers[ j ];\n\n\t\t\t\tif ( ( mappedTypes || origType === handleObj.origType ) &&\n\t\t\t\t\t( !handler || handler.guid === handleObj.guid ) &&\n\t\t\t\t\t( !tmp || tmp.test( handleObj.namespace ) ) &&\n\t\t\t\t\t( !selector || selector === handleObj.selector ||\n\t\t\t\t\t\tselector === \"**\" && handleObj.selector ) ) {\n\t\t\t\t\thandlers.splice( j, 1 );\n\n\t\t\t\t\tif ( handleObj.selector ) {\n\t\t\t\t\t\thandlers.delegateCount--;\n\t\t\t\t\t}\n\t\t\t\t\tif ( special.remove ) {\n\t\t\t\t\t\tspecial.remove.call( elem, handleObj );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Remove generic event handler if we removed something and no more handlers exist\n\t\t\t// (avoids potential for endless recursion during removal of special event handlers)\n\t\t\tif ( origCount && !handlers.length ) {\n\t\t\t\tif ( !special.teardown ||\n\t\t\t\t\tspecial.teardown.call( elem, namespaces, elemData.handle ) === false ) {\n\n\t\t\t\t\tjQuery.removeEvent( elem, type, elemData.handle );\n\t\t\t\t}\n\n\t\t\t\tdelete events[ type ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove data and the expando if it's no longer used\n\t\tif ( jQuery.isEmptyObject( events ) ) {\n\t\t\tdataPriv.remove( elem, \"handle events\" );\n\t\t}\n\t},\n\n\tdispatch: function( nativeEvent ) {\n\n\t\tvar i, j, ret, matched, handleObj, handlerQueue,\n\t\t\targs = new Array( arguments.length ),\n\n\t\t\t// Make a writable jQuery.Event from the native event object\n\t\t\tevent = jQuery.event.fix( nativeEvent ),\n\n\t\t\thandlers = (\n\t\t\t\tdataPriv.get( this, \"events\" ) || Object.create( null )\n\t\t\t)[ event.type ] || [],\n\t\t\tspecial = jQuery.event.special[ event.type ] || {};\n\n\t\t// Use the fix-ed jQuery.Event rather than the (read-only) native event\n\t\targs[ 0 ] = event;\n\n\t\tfor ( i = 1; i < arguments.length; i++ ) {\n\t\t\targs[ i ] = arguments[ i ];\n\t\t}\n\n\t\tevent.delegateTarget = this;\n\n\t\t// Call the preDispatch hook for the mapped type, and let it bail if desired\n\t\tif ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine handlers\n\t\thandlerQueue = jQuery.event.handlers.call( this, event, handlers );\n\n\t\t// Run delegates first; they may want to stop propagation beneath us\n\t\ti = 0;\n\t\twhile ( ( matched = handlerQueue[ i++ ] ) && !event.isPropagationStopped() ) {\n\t\t\tevent.currentTarget = matched.elem;\n\n\t\t\tj = 0;\n\t\t\twhile ( ( handleObj = matched.handlers[ j++ ] ) &&\n\t\t\t\t!event.isImmediatePropagationStopped() ) {\n\n\t\t\t\t// If the event is namespaced, then each handler is only invoked if it is\n\t\t\t\t// specially universal or its namespaces are a superset of the event's.\n\t\t\t\tif ( !event.rnamespace || handleObj.namespace === false ||\n\t\t\t\t\tevent.rnamespace.test( handleObj.namespace ) ) {\n\n\t\t\t\t\tevent.handleObj = handleObj;\n\t\t\t\t\tevent.data = handleObj.data;\n\n\t\t\t\t\tret = ( ( jQuery.event.special[ handleObj.origType ] || {} ).handle ||\n\t\t\t\t\t\thandleObj.handler ).apply( matched.elem, args );\n\n\t\t\t\t\tif ( ret !== undefined ) {\n\t\t\t\t\t\tif ( ( event.result = ret ) === false ) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Call the postDispatch hook for the mapped type\n\t\tif ( special.postDispatch ) {\n\t\t\tspecial.postDispatch.call( this, event );\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\thandlers: function( event, handlers ) {\n\t\tvar i, handleObj, sel, matchedHandlers, matchedSelectors,\n\t\t\thandlerQueue = [],\n\t\t\tdelegateCount = handlers.delegateCount,\n\t\t\tcur = event.target;\n\n\t\t// Find delegate handlers\n\t\tif ( delegateCount &&\n\n\t\t\t// Support: IE <=9\n\t\t\t// Black-hole SVG <use> instance trees (trac-13180)\n\t\t\tcur.nodeType &&\n\n\t\t\t// Support: Firefox <=42\n\t\t\t// Suppress spec-violating clicks indicating a non-primary pointer button (trac-3861)\n\t\t\t// https://www.w3.org/TR/DOM-Level-3-Events/#event-type-click\n\t\t\t// Support: IE 11 only\n\t\t\t// ...but not arrow key \"clicks\" of radio inputs, which can have `button` -1 (gh-2343)\n\t\t\t!( event.type === \"click\" && event.button >= 1 ) ) {\n\n\t\t\tfor ( ; cur !== this; cur = cur.parentNode || this ) {\n\n\t\t\t\t// Don't check non-elements (trac-13208)\n\t\t\t\t// Don't process clicks on disabled elements (trac-6911, trac-8165, trac-11382, trac-11764)\n\t\t\t\tif ( cur.nodeType === 1 && !( event.type === \"click\" && cur.disabled === true ) ) {\n\t\t\t\t\tmatchedHandlers = [];\n\t\t\t\t\tmatchedSelectors = {};\n\t\t\t\t\tfor ( i = 0; i < delegateCount; i++ ) {\n\t\t\t\t\t\thandleObj = handlers[ i ];\n\n\t\t\t\t\t\t// Don't conflict with Object.prototype properties (trac-13203)\n\t\t\t\t\t\tsel = handleObj.selector + \" \";\n\n\t\t\t\t\t\tif ( matchedSelectors[ sel ] === undefined ) {\n\t\t\t\t\t\t\tmatchedSelectors[ sel ] = handleObj.needsContext ?\n\t\t\t\t\t\t\t\tjQuery( sel, this ).index( cur ) > -1 :\n\t\t\t\t\t\t\t\tjQuery.find( sel, this, null, [ cur ] ).length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( matchedSelectors[ sel ] ) {\n\t\t\t\t\t\t\tmatchedHandlers.push( handleObj );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( matchedHandlers.length ) {\n\t\t\t\t\t\thandlerQueue.push( { elem: cur, handlers: matchedHandlers } );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Add the remaining (directly-bound) handlers\n\t\tcur = this;\n\t\tif ( delegateCount < handlers.length ) {\n\t\t\thandlerQueue.push( { elem: cur, handlers: handlers.slice( delegateCount ) } );\n\t\t}\n\n\t\treturn handlerQueue;\n\t},\n\n\taddProp: function( name, hook ) {\n\t\tObject.defineProperty( jQuery.Event.prototype, name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\n\t\t\tget: isFunction( hook ) ?\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( this.originalEvent ) {\n\t\t\t\t\t\treturn hook( this.originalEvent );\n\t\t\t\t\t}\n\t\t\t\t} :\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( this.originalEvent ) {\n\t\t\t\t\t\treturn this.originalEvent[ name ];\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\tset: function( value ) {\n\t\t\t\tObject.defineProperty( this, name, {\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\twritable: true,\n\t\t\t\t\tvalue: value\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\t},\n\n\tfix: function( originalEvent ) {\n\t\treturn originalEvent[ jQuery.expando ] ?\n\t\t\toriginalEvent :\n\t\t\tnew jQuery.Event( originalEvent );\n\t},\n\n\tspecial: {\n\t\tload: {\n\n\t\t\t// Prevent triggered image.load events from bubbling to window.load\n\t\t\tnoBubble: true\n\t\t},\n\t\tclick: {\n\n\t\t\t// Utilize native event to ensure correct state for checkable inputs\n\t\t\tsetup: function( data ) {\n\n\t\t\t\t// For mutual compressibility with _default, replace `this` access with a local var.\n\t\t\t\t// `|| data` is dead code meant only to preserve the variable through minification.\n\t\t\t\tvar el = this || data;\n\n\t\t\t\t// Claim the first handler\n\t\t\t\tif ( rcheckableType.test( el.type ) &&\n\t\t\t\t\tel.click && nodeName( el, \"input\" ) ) {\n\n\t\t\t\t\t// dataPriv.set( el, \"click\", ... )\n\t\t\t\t\tleverageNative( el, \"click\", true );\n\t\t\t\t}\n\n\t\t\t\t// Return false to allow normal processing in the caller\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\ttrigger: function( data ) {\n\n\t\t\t\t// For mutual compressibility with _default, replace `this` access with a local var.\n\t\t\t\t// `|| data` is dead code meant only to preserve the variable through minification.\n\t\t\t\tvar el = this || data;\n\n\t\t\t\t// Force setup before triggering a click\n\t\t\t\tif ( rcheckableType.test( el.type ) &&\n\t\t\t\t\tel.click && nodeName( el, \"input\" ) ) {\n\n\t\t\t\t\tleverageNative( el, \"click\" );\n\t\t\t\t}\n\n\t\t\t\t// Return non-false to allow normal event-path propagation\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\t// For cross-browser consistency, suppress native .click() on links\n\t\t\t// Also prevent it if we're currently inside a leveraged native-event stack\n\t\t\t_default: function( event ) {\n\t\t\t\tvar target = event.target;\n\t\t\t\treturn rcheckableType.test( target.type ) &&\n\t\t\t\t\ttarget.click && nodeName( target, \"input\" ) &&\n\t\t\t\t\tdataPriv.get( target, \"click\" ) ||\n\t\t\t\t\tnodeName( target, \"a\" );\n\t\t\t}\n\t\t},\n\n\t\tbeforeunload: {\n\t\t\tpostDispatch: function( event ) {\n\n\t\t\t\t// Support: Firefox 20+\n\t\t\t\t// Firefox doesn't alert if the returnValue field is not set.\n\t\t\t\tif ( event.result !== undefined && event.originalEvent ) {\n\t\t\t\t\tevent.originalEvent.returnValue = event.result;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Ensure the presence of an event listener that handles manually-triggered\n// synthetic events by interrupting progress until reinvoked in response to\n// *native* events that it fires directly, ensuring that state changes have\n// already occurred before other listeners are invoked.\nfunction leverageNative( el, type, isSetup ) {\n\n\t// Missing `isSetup` indicates a trigger call, which must force setup through jQuery.event.add\n\tif ( !isSetup ) {\n\t\tif ( dataPriv.get( el, type ) === undefined ) {\n\t\t\tjQuery.event.add( el, type, returnTrue );\n\t\t}\n\t\treturn;\n\t}\n\n\t// Register the controller as a special universal handler for all event namespaces\n\tdataPriv.set( el, type, false );\n\tjQuery.event.add( el, type, {\n\t\tnamespace: false,\n\t\thandler: function( event ) {\n\t\t\tvar result,\n\t\t\t\tsaved = dataPriv.get( this, type );\n\n\t\t\tif ( ( event.isTrigger & 1 ) && this[ type ] ) {\n\n\t\t\t\t// Interrupt processing of the outer synthetic .trigger()ed event\n\t\t\t\tif ( !saved ) {\n\n\t\t\t\t\t// Store arguments for use when handling the inner native event\n\t\t\t\t\t// There will always be at least one argument (an event object), so this array\n\t\t\t\t\t// will not be confused with a leftover capture object.\n\t\t\t\t\tsaved = slice.call( arguments );\n\t\t\t\t\tdataPriv.set( this, type, saved );\n\n\t\t\t\t\t// Trigger the native event and capture its result\n\t\t\t\t\tthis[ type ]();\n\t\t\t\t\tresult = dataPriv.get( this, type );\n\t\t\t\t\tdataPriv.set( this, type, false );\n\n\t\t\t\t\tif ( saved !== result ) {\n\n\t\t\t\t\t\t// Cancel the outer synthetic event\n\t\t\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t}\n\n\t\t\t\t// If this is an inner synthetic event for an event with a bubbling surrogate\n\t\t\t\t// (focus or blur), assume that the surrogate already propagated from triggering\n\t\t\t\t// the native event and prevent that from happening again here.\n\t\t\t\t// This technically gets the ordering wrong w.r.t. to `.trigger()` (in which the\n\t\t\t\t// bubbling surrogate propagates *after* the non-bubbling base), but that seems\n\t\t\t\t// less bad than duplication.\n\t\t\t\t} else if ( ( jQuery.event.special[ type ] || {} ).delegateType ) {\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t}\n\n\t\t\t// If this is a native event triggered above, everything is now in order\n\t\t\t// Fire an inner synthetic event with the original arguments\n\t\t\t} else if ( saved ) {\n\n\t\t\t\t// ...and capture the result\n\t\t\t\tdataPriv.set( this, type, jQuery.event.trigger(\n\t\t\t\t\tsaved[ 0 ],\n\t\t\t\t\tsaved.slice( 1 ),\n\t\t\t\t\tthis\n\t\t\t\t) );\n\n\t\t\t\t// Abort handling of the native event by all jQuery handlers while allowing\n\t\t\t\t// native handlers on the same element to run. On target, this is achieved\n\t\t\t\t// by stopping immediate propagation just on the jQuery event. However,\n\t\t\t\t// the native event is re-wrapped by a jQuery one on each level of the\n\t\t\t\t// propagation so the only way to stop it for jQuery is to stop it for\n\t\t\t\t// everyone via native `stopPropagation()`. This is not a problem for\n\t\t\t\t// focus/blur which don't bubble, but it does also stop click on checkboxes\n\t\t\t\t// and radios. We accept this limitation.\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tevent.isImmediatePropagationStopped = returnTrue;\n\t\t\t}\n\t\t}\n\t} );\n}\n\njQuery.removeEvent = function( elem, type, handle ) {\n\n\t// This \"if\" is needed for plain objects\n\tif ( elem.removeEventListener ) {\n\t\telem.removeEventListener( type, handle );\n\t}\n};\n\njQuery.Event = function( src, props ) {\n\n\t// Allow instantiation without the 'new' keyword\n\tif ( !( this instanceof jQuery.Event ) ) {\n\t\treturn new jQuery.Event( src, props );\n\t}\n\n\t// Event object\n\tif ( src && src.type ) {\n\t\tthis.originalEvent = src;\n\t\tthis.type = src.type;\n\n\t\t// Events bubbling up the document may have been marked as prevented\n\t\t// by a handler lower down the tree; reflect the correct value.\n\t\tthis.isDefaultPrevented = src.defaultPrevented ||\n\t\t\t\tsrc.defaultPrevented === undefined &&\n\n\t\t\t\t// Support: Android <=2.3 only\n\t\t\t\tsrc.returnValue === false ?\n\t\t\treturnTrue :\n\t\t\treturnFalse;\n\n\t\t// Create target properties\n\t\t// Support: Safari <=6 - 7 only\n\t\t// Target should not be a text node (trac-504, trac-13143)\n\t\tthis.target = ( src.target && src.target.nodeType === 3 ) ?\n\t\t\tsrc.target.parentNode :\n\t\t\tsrc.target;\n\n\t\tthis.currentTarget = src.currentTarget;\n\t\tthis.relatedTarget = src.relatedTarget;\n\n\t// Event type\n\t} else {\n\t\tthis.type = src;\n\t}\n\n\t// Put explicitly provided properties onto the event object\n\tif ( props ) {\n\t\tjQuery.extend( this, props );\n\t}\n\n\t// Create a timestamp if incoming event doesn't have one\n\tthis.timeStamp = src && src.timeStamp || Date.now();\n\n\t// Mark it as fixed\n\tthis[ jQuery.expando ] = true;\n};\n\n// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding\n// https://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\njQuery.Event.prototype = {\n\tconstructor: jQuery.Event,\n\tisDefaultPrevented: returnFalse,\n\tisPropagationStopped: returnFalse,\n\tisImmediatePropagationStopped: returnFalse,\n\tisSimulated: false,\n\n\tpreventDefault: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isDefaultPrevented = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.preventDefault();\n\t\t}\n\t},\n\tstopPropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isPropagationStopped = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.stopPropagation();\n\t\t}\n\t},\n\tstopImmediatePropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isImmediatePropagationStopped = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.stopImmediatePropagation();\n\t\t}\n\n\t\tthis.stopPropagation();\n\t}\n};\n\n// Includes all common event props including KeyEvent and MouseEvent specific props\njQuery.each( {\n\taltKey: true,\n\tbubbles: true,\n\tcancelable: true,\n\tchangedTouches: true,\n\tctrlKey: true,\n\tdetail: true,\n\teventPhase: true,\n\tmetaKey: true,\n\tpageX: true,\n\tpageY: true,\n\tshiftKey: true,\n\tview: true,\n\t\"char\": true,\n\tcode: true,\n\tcharCode: true,\n\tkey: true,\n\tkeyCode: true,\n\tbutton: true,\n\tbuttons: true,\n\tclientX: true,\n\tclientY: true,\n\toffsetX: true,\n\toffsetY: true,\n\tpointerId: true,\n\tpointerType: true,\n\tscreenX: true,\n\tscreenY: true,\n\ttargetTouches: true,\n\ttoElement: true,\n\ttouches: true,\n\twhich: true\n}, jQuery.event.addProp );\n\njQuery.each( { focus: \"focusin\", blur: \"focusout\" }, function( type, delegateType ) {\n\n\tfunction focusMappedHandler( nativeEvent ) {\n\t\tif ( document.documentMode ) {\n\n\t\t\t// Support: IE 11+\n\t\t\t// Attach a single focusin/focusout handler on the document while someone wants\n\t\t\t// focus/blur. This is because the former are synchronous in IE while the latter\n\t\t\t// are async. In other browsers, all those handlers are invoked synchronously.\n\n\t\t\t// `handle` from private data would already wrap the event, but we need\n\t\t\t// to change the `type` here.\n\t\t\tvar handle = dataPriv.get( this, \"handle\" ),\n\t\t\t\tevent = jQuery.event.fix( nativeEvent );\n\t\t\tevent.type = nativeEvent.type === \"focusin\" ? \"focus\" : \"blur\";\n\t\t\tevent.isSimulated = true;\n\n\t\t\t// First, handle focusin/focusout\n\t\t\thandle( nativeEvent );\n\n\t\t\t// ...then, handle focus/blur\n\t\t\t//\n\t\t\t// focus/blur don't bubble while focusin/focusout do; simulate the former by only\n\t\t\t// invoking the handler at the lower level.\n\t\t\tif ( event.target === event.currentTarget ) {\n\n\t\t\t\t// The setup part calls `leverageNative`, which, in turn, calls\n\t\t\t\t// `jQuery.event.add`, so event handle will already have been set\n\t\t\t\t// by this point.\n\t\t\t\thandle( event );\n\t\t\t}\n\t\t} else {\n\n\t\t\t// For non-IE browsers, attach a single capturing handler on the document\n\t\t\t// while someone wants focusin/focusout.\n\t\t\tjQuery.event.simulate( delegateType, nativeEvent.target,\n\t\t\t\tjQuery.event.fix( nativeEvent ) );\n\t\t}\n\t}\n\n\tjQuery.event.special[ type ] = {\n\n\t\t// Utilize native event if possible so blur/focus sequence is correct\n\t\tsetup: function() {\n\n\t\t\tvar attaches;\n\n\t\t\t// Claim the first handler\n\t\t\t// dataPriv.set( this, \"focus\", ... )\n\t\t\t// dataPriv.set( this, \"blur\", ... )\n\t\t\tleverageNative( this, type, true );\n\n\t\t\tif ( document.documentMode ) {\n\n\t\t\t\t// Support: IE 9 - 11+\n\t\t\t\t// We use the same native handler for focusin & focus (and focusout & blur)\n\t\t\t\t// so we need to coordinate setup & teardown parts between those events.\n\t\t\t\t// Use `delegateType` as the key as `type` is already used by `leverageNative`.\n\t\t\t\tattaches = dataPriv.get( this, delegateType );\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tthis.addEventListener( delegateType, focusMappedHandler );\n\t\t\t\t}\n\t\t\t\tdataPriv.set( this, delegateType, ( attaches || 0 ) + 1 );\n\t\t\t} else {\n\n\t\t\t\t// Return false to allow normal processing in the caller\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\ttrigger: function() {\n\n\t\t\t// Force setup before trigger\n\t\t\tleverageNative( this, type );\n\n\t\t\t// Return non-false to allow normal event-path propagation\n\t\t\treturn true;\n\t\t},\n\n\t\tteardown: function() {\n\t\t\tvar attaches;\n\n\t\t\tif ( document.documentMode ) {\n\t\t\t\tattaches = dataPriv.get( this, delegateType ) - 1;\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tthis.removeEventListener( delegateType, focusMappedHandler );\n\t\t\t\t\tdataPriv.remove( this, delegateType );\n\t\t\t\t} else {\n\t\t\t\t\tdataPriv.set( this, delegateType, attaches );\n\t\t\t\t}\n\t\t\t} else {\n\n\t\t\t\t// Return false to indicate standard teardown should be applied\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\n\t\t// Suppress native focus or blur if we're currently inside\n\t\t// a leveraged native-event stack\n\t\t_default: function( event ) {\n\t\t\treturn dataPriv.get( event.target, type );\n\t\t},\n\n\t\tdelegateType: delegateType\n\t};\n\n\t// Support: Firefox <=44\n\t// Firefox doesn't have focus(in | out) events\n\t// Related ticket - https://bugzilla.mozilla.org/show_bug.cgi?id=687787\n\t//\n\t// Support: Chrome <=48 - 49, Safari <=9.0 - 9.1\n\t// focus(in | out) events fire after focus & blur events,\n\t// which is spec violation - http://www.w3.org/TR/DOM-Level-3-Events/#events-focusevent-event-order\n\t// Related ticket - https://bugs.chromium.org/p/chromium/issues/detail?id=449857\n\t//\n\t// Support: IE 9 - 11+\n\t// To preserve relative focusin/focus & focusout/blur event order guaranteed on the 3.x branch,\n\t// attach a single handler for both events in IE.\n\tjQuery.event.special[ delegateType ] = {\n\t\tsetup: function() {\n\n\t\t\t// Handle: regular nodes (via `this.ownerDocument`), window\n\t\t\t// (via `this.document`) & document (via `this`).\n\t\t\tvar doc = this.ownerDocument || this.document || this,\n\t\t\t\tdataHolder = document.documentMode ? this : doc,\n\t\t\t\tattaches = dataPriv.get( dataHolder, delegateType );\n\n\t\t\t// Support: IE 9 - 11+\n\t\t\t// We use the same native handler for focusin & focus (and focusout & blur)\n\t\t\t// so we need to coordinate setup & teardown parts between those events.\n\t\t\t// Use `delegateType` as the key as `type` is already used by `leverageNative`.\n\t\t\tif ( !attaches ) {\n\t\t\t\tif ( document.documentMode ) {\n\t\t\t\t\tthis.addEventListener( delegateType, focusMappedHandler );\n\t\t\t\t} else {\n\t\t\t\t\tdoc.addEventListener( type, focusMappedHandler, true );\n\t\t\t\t}\n\t\t\t}\n\t\t\tdataPriv.set( dataHolder, delegateType, ( attaches || 0 ) + 1 );\n\t\t},\n\t\tteardown: function() {\n\t\t\tvar doc = this.ownerDocument || this.document || this,\n\t\t\t\tdataHolder = document.documentMode ? this : doc,\n\t\t\t\tattaches = dataPriv.get( dataHolder, delegateType ) - 1;\n\n\t\t\tif ( !attaches ) {\n\t\t\t\tif ( document.documentMode ) {\n\t\t\t\t\tthis.removeEventListener( delegateType, focusMappedHandler );\n\t\t\t\t} else {\n\t\t\t\t\tdoc.removeEventListener( type, focusMappedHandler, true );\n\t\t\t\t}\n\t\t\t\tdataPriv.remove( dataHolder, delegateType );\n\t\t\t} else {\n\t\t\t\tdataPriv.set( dataHolder, delegateType, attaches );\n\t\t\t}\n\t\t}\n\t};\n} );\n\n// Create mouseenter/leave events using mouseover/out and event-time checks\n// so that event delegation works in jQuery.\n// Do the same for pointerenter/pointerleave and pointerover/pointerout\n//\n// Support: Safari 7 only\n// Safari sends mouseenter too often; see:\n// https://bugs.chromium.org/p/chromium/issues/detail?id=470258\n// for the description of the bug (it existed in older Chrome versions as well).\njQuery.each( {\n\tmouseenter: \"mouseover\",\n\tmouseleave: \"mouseout\",\n\tpointerenter: \"pointerover\",\n\tpointerleave: \"pointerout\"\n}, function( orig, fix ) {\n\tjQuery.event.special[ orig ] = {\n\t\tdelegateType: fix,\n\t\tbindType: fix,\n\n\t\thandle: function( event ) {\n\t\t\tvar ret,\n\t\t\t\ttarget = this,\n\t\t\t\trelated = event.relatedTarget,\n\t\t\t\thandleObj = event.handleObj;\n\n\t\t\t// For mouseenter/leave call the handler if related is outside the target.\n\t\t\t// NB: No relatedTarget if the mouse left/entered the browser window\n\t\t\tif ( !related || ( related !== target && !jQuery.contains( target, related ) ) ) {\n\t\t\t\tevent.type = handleObj.origType;\n\t\t\t\tret = handleObj.handler.apply( this, arguments );\n\t\t\t\tevent.type = fix;\n\t\t\t}\n\t\t\treturn ret;\n\t\t}\n\t};\n} );\n\njQuery.fn.extend( {\n\n\ton: function( types, selector, data, fn ) {\n\t\treturn on( this, types, selector, data, fn );\n\t},\n\tone: function( types, selector, data, fn ) {\n\t\treturn on( this, types, selector, data, fn, 1 );\n\t},\n\toff: function( types, selector, fn ) {\n\t\tvar handleObj, type;\n\t\tif ( types && types.preventDefault && types.handleObj ) {\n\n\t\t\t// ( event )  dispatched jQuery.Event\n\t\t\thandleObj = types.handleObj;\n\t\t\tjQuery( types.delegateTarget ).off(\n\t\t\t\thandleObj.namespace ?\n\t\t\t\t\thandleObj.origType + \".\" + handleObj.namespace :\n\t\t\t\t\thandleObj.origType,\n\t\t\t\thandleObj.selector,\n\t\t\t\thandleObj.handler\n\t\t\t);\n\t\t\treturn this;\n\t\t}\n\t\tif ( typeof types === \"object\" ) {\n\n\t\t\t// ( types-object [, selector] )\n\t\t\tfor ( type in types ) {\n\t\t\t\tthis.off( type, selector, types[ type ] );\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t\tif ( selector === false || typeof selector === \"function\" ) {\n\n\t\t\t// ( types [, fn] )\n\t\t\tfn = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tif ( fn === false ) {\n\t\t\tfn = returnFalse;\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.remove( this, types, fn, selector );\n\t\t} );\n\t}\n} );\n\n\nvar\n\n\t// Support: IE <=10 - 11, Edge 12 - 13 only\n\t// In IE/Edge using regex groups here causes severe slowdowns.\n\t// See https://connect.microsoft.com/IE/feedback/details/1736512/\n\trnoInnerhtml = /<script|<style|<link/i,\n\n\t// checked=\"checked\" or checked\n\trchecked = /checked\\s*(?:[^=]|=\\s*.checked.)/i,\n\n\trcleanScript = /^\\s*<!\\[CDATA\\[|\\]\\]>\\s*$/g;\n\n// Prefer a tbody over its parent table for containing new rows\nfunction manipulationTarget( elem, content ) {\n\tif ( nodeName( elem, \"table\" ) &&\n\t\tnodeName( content.nodeType !== 11 ? content : content.firstChild, \"tr\" ) ) {\n\n\t\treturn jQuery( elem ).children( \"tbody\" )[ 0 ] || elem;\n\t}\n\n\treturn elem;\n}\n\n// Replace/restore the type attribute of script elements for safe DOM manipulation\nfunction disableScript( elem ) {\n\telem.type = ( elem.getAttribute( \"type\" ) !== null ) + \"/\" + elem.type;\n\treturn elem;\n}\nfunction restoreScript( elem ) {\n\tif ( ( elem.type || \"\" ).slice( 0, 5 ) === \"true/\" ) {\n\t\telem.type = elem.type.slice( 5 );\n\t} else {\n\t\telem.removeAttribute( \"type\" );\n\t}\n\n\treturn elem;\n}\n\nfunction cloneCopyEvent( src, dest ) {\n\tvar i, l, type, pdataOld, udataOld, udataCur, events;\n\n\tif ( dest.nodeType !== 1 ) {\n\t\treturn;\n\t}\n\n\t// 1. Copy private data: events, handlers, etc.\n\tif ( dataPriv.hasData( src ) ) {\n\t\tpdataOld = dataPriv.get( src );\n\t\tevents = pdataOld.events;\n\n\t\tif ( events ) {\n\t\t\tdataPriv.remove( dest, \"handle events\" );\n\n\t\t\tfor ( type in events ) {\n\t\t\t\tfor ( i = 0, l = events[ type ].length; i < l; i++ ) {\n\t\t\t\t\tjQuery.event.add( dest, type, events[ type ][ i ] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// 2. Copy user data\n\tif ( dataUser.hasData( src ) ) {\n\t\tudataOld = dataUser.access( src );\n\t\tudataCur = jQuery.extend( {}, udataOld );\n\n\t\tdataUser.set( dest, udataCur );\n\t}\n}\n\n// Fix IE bugs, see support tests\nfunction fixInput( src, dest ) {\n\tvar nodeName = dest.nodeName.toLowerCase();\n\n\t// Fails to persist the checked state of a cloned checkbox or radio button.\n\tif ( nodeName === \"input\" && rcheckableType.test( src.type ) ) {\n\t\tdest.checked = src.checked;\n\n\t// Fails to return the selected option to the default selected state when cloning options\n\t} else if ( nodeName === \"input\" || nodeName === \"textarea\" ) {\n\t\tdest.defaultValue = src.defaultValue;\n\t}\n}\n\nfunction domManip( collection, args, callback, ignored ) {\n\n\t// Flatten any nested arrays\n\targs = flat( args );\n\n\tvar fragment, first, scripts, hasScripts, node, doc,\n\t\ti = 0,\n\t\tl = collection.length,\n\t\tiNoClone = l - 1,\n\t\tvalue = args[ 0 ],\n\t\tvalueIsFunction = isFunction( value );\n\n\t// We can't cloneNode fragments that contain checked, in WebKit\n\tif ( valueIsFunction ||\n\t\t\t( l > 1 && typeof value === \"string\" &&\n\t\t\t\t!support.checkClone && rchecked.test( value ) ) ) {\n\t\treturn collection.each( function( index ) {\n\t\t\tvar self = collection.eq( index );\n\t\t\tif ( valueIsFunction ) {\n\t\t\t\targs[ 0 ] = value.call( this, index, self.html() );\n\t\t\t}\n\t\t\tdomManip( self, args, callback, ignored );\n\t\t} );\n\t}\n\n\tif ( l ) {\n\t\tfragment = buildFragment( args, collection[ 0 ].ownerDocument, false, collection, ignored );\n\t\tfirst = fragment.firstChild;\n\n\t\tif ( fragment.childNodes.length === 1 ) {\n\t\t\tfragment = first;\n\t\t}\n\n\t\t// Require either new content or an interest in ignored elements to invoke the callback\n\t\tif ( first || ignored ) {\n\t\t\tscripts = jQuery.map( getAll( fragment, \"script\" ), disableScript );\n\t\t\thasScripts = scripts.length;\n\n\t\t\t// Use the original fragment for the last item\n\t\t\t// instead of the first because it can end up\n\t\t\t// being emptied incorrectly in certain situations (trac-8070).\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tnode = fragment;\n\n\t\t\t\tif ( i !== iNoClone ) {\n\t\t\t\t\tnode = jQuery.clone( node, true, true );\n\n\t\t\t\t\t// Keep references to cloned scripts for later restoration\n\t\t\t\t\tif ( hasScripts ) {\n\n\t\t\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\t\t\tjQuery.merge( scripts, getAll( node, \"script\" ) );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcallback.call( collection[ i ], node, i );\n\t\t\t}\n\n\t\t\tif ( hasScripts ) {\n\t\t\t\tdoc = scripts[ scripts.length - 1 ].ownerDocument;\n\n\t\t\t\t// Re-enable scripts\n\t\t\t\tjQuery.map( scripts, restoreScript );\n\n\t\t\t\t// Evaluate executable scripts on first document insertion\n\t\t\t\tfor ( i = 0; i < hasScripts; i++ ) {\n\t\t\t\t\tnode = scripts[ i ];\n\t\t\t\t\tif ( rscriptType.test( node.type || \"\" ) &&\n\t\t\t\t\t\t!dataPriv.access( node, \"globalEval\" ) &&\n\t\t\t\t\t\tjQuery.contains( doc, node ) ) {\n\n\t\t\t\t\t\tif ( node.src && ( node.type || \"\" ).toLowerCase()  !== \"module\" ) {\n\n\t\t\t\t\t\t\t// Optional AJAX dependency, but won't run scripts if not present\n\t\t\t\t\t\t\tif ( jQuery._evalUrl && !node.noModule ) {\n\t\t\t\t\t\t\t\tjQuery._evalUrl( node.src, {\n\t\t\t\t\t\t\t\t\tnonce: node.nonce || node.getAttribute( \"nonce\" )\n\t\t\t\t\t\t\t\t}, doc );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Unwrap a CDATA section containing script contents. This shouldn't be\n\t\t\t\t\t\t\t// needed as in XML documents they're already not visible when\n\t\t\t\t\t\t\t// inspecting element contents and in HTML documents they have no\n\t\t\t\t\t\t\t// meaning but we're preserving that logic for backwards compatibility.\n\t\t\t\t\t\t\t// This will be removed completely in 4.0. See gh-4904.\n\t\t\t\t\t\t\tDOMEval( node.textContent.replace( rcleanScript, \"\" ), node, doc );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn collection;\n}\n\nfunction remove( elem, selector, keepData ) {\n\tvar node,\n\t\tnodes = selector ? jQuery.filter( selector, elem ) : elem,\n\t\ti = 0;\n\n\tfor ( ; ( node = nodes[ i ] ) != null; i++ ) {\n\t\tif ( !keepData && node.nodeType === 1 ) {\n\t\t\tjQuery.cleanData( getAll( node ) );\n\t\t}\n\n\t\tif ( node.parentNode ) {\n\t\t\tif ( keepData && isAttached( node ) ) {\n\t\t\t\tsetGlobalEval( getAll( node, \"script\" ) );\n\t\t\t}\n\t\t\tnode.parentNode.removeChild( node );\n\t\t}\n\t}\n\n\treturn elem;\n}\n\njQuery.extend( {\n\thtmlPrefilter: function( html ) {\n\t\treturn html;\n\t},\n\n\tclone: function( elem, dataAndEvents, deepDataAndEvents ) {\n\t\tvar i, l, srcElements, destElements,\n\t\t\tclone = elem.cloneNode( true ),\n\t\t\tinPage = isAttached( elem );\n\n\t\t// Fix IE cloning issues\n\t\tif ( !support.noCloneChecked && ( elem.nodeType === 1 || elem.nodeType === 11 ) &&\n\t\t\t\t!jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// We eschew jQuery#find here for performance reasons:\n\t\t\t// https://jsperf.com/getall-vs-sizzle/2\n\t\t\tdestElements = getAll( clone );\n\t\t\tsrcElements = getAll( elem );\n\n\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\tfixInput( srcElements[ i ], destElements[ i ] );\n\t\t\t}\n\t\t}\n\n\t\t// Copy the events from the original to the clone\n\t\tif ( dataAndEvents ) {\n\t\t\tif ( deepDataAndEvents ) {\n\t\t\t\tsrcElements = srcElements || getAll( elem );\n\t\t\t\tdestElements = destElements || getAll( clone );\n\n\t\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\t\tcloneCopyEvent( srcElements[ i ], destElements[ i ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcloneCopyEvent( elem, clone );\n\t\t\t}\n\t\t}\n\n\t\t// Preserve script evaluation history\n\t\tdestElements = getAll( clone, \"script\" );\n\t\tif ( destElements.length > 0 ) {\n\t\t\tsetGlobalEval( destElements, !inPage && getAll( elem, \"script\" ) );\n\t\t}\n\n\t\t// Return the cloned set\n\t\treturn clone;\n\t},\n\n\tcleanData: function( elems ) {\n\t\tvar data, elem, type,\n\t\t\tspecial = jQuery.event.special,\n\t\t\ti = 0;\n\n\t\tfor ( ; ( elem = elems[ i ] ) !== undefined; i++ ) {\n\t\t\tif ( acceptData( elem ) ) {\n\t\t\t\tif ( ( data = elem[ dataPriv.expando ] ) ) {\n\t\t\t\t\tif ( data.events ) {\n\t\t\t\t\t\tfor ( type in data.events ) {\n\t\t\t\t\t\t\tif ( special[ type ] ) {\n\t\t\t\t\t\t\t\tjQuery.event.remove( elem, type );\n\n\t\t\t\t\t\t\t// This is a shortcut to avoid jQuery.event.remove's overhead\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tjQuery.removeEvent( elem, type, data.handle );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Support: Chrome <=35 - 45+\n\t\t\t\t\t// Assign undefined instead of using delete, see Data#remove\n\t\t\t\t\telem[ dataPriv.expando ] = undefined;\n\t\t\t\t}\n\t\t\t\tif ( elem[ dataUser.expando ] ) {\n\n\t\t\t\t\t// Support: Chrome <=35 - 45+\n\t\t\t\t\t// Assign undefined instead of using delete, see Data#remove\n\t\t\t\t\telem[ dataUser.expando ] = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n} );\n\njQuery.fn.extend( {\n\tdetach: function( selector ) {\n\t\treturn remove( this, selector, true );\n\t},\n\n\tremove: function( selector ) {\n\t\treturn remove( this, selector );\n\t},\n\n\ttext: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\treturn value === undefined ?\n\t\t\t\tjQuery.text( this ) :\n\t\t\t\tthis.empty().each( function() {\n\t\t\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\t\t\tthis.textContent = value;\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t}, null, value, arguments.length );\n\t},\n\n\tappend: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.appendChild( elem );\n\t\t\t}\n\t\t} );\n\t},\n\n\tprepend: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.insertBefore( elem, target.firstChild );\n\t\t\t}\n\t\t} );\n\t},\n\n\tbefore: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this );\n\t\t\t}\n\t\t} );\n\t},\n\n\tafter: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this.nextSibling );\n\t\t\t}\n\t\t} );\n\t},\n\n\tempty: function() {\n\t\tvar elem,\n\t\t\ti = 0;\n\n\t\tfor ( ; ( elem = this[ i ] ) != null; i++ ) {\n\t\t\tif ( elem.nodeType === 1 ) {\n\n\t\t\t\t// Prevent memory leaks\n\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\n\t\t\t\t// Remove any remaining nodes\n\t\t\t\telem.textContent = \"\";\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tclone: function( dataAndEvents, deepDataAndEvents ) {\n\t\tdataAndEvents = dataAndEvents == null ? false : dataAndEvents;\n\t\tdeepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;\n\n\t\treturn this.map( function() {\n\t\t\treturn jQuery.clone( this, dataAndEvents, deepDataAndEvents );\n\t\t} );\n\t},\n\n\thtml: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\tvar elem = this[ 0 ] || {},\n\t\t\t\ti = 0,\n\t\t\t\tl = this.length;\n\n\t\t\tif ( value === undefined && elem.nodeType === 1 ) {\n\t\t\t\treturn elem.innerHTML;\n\t\t\t}\n\n\t\t\t// See if we can take a shortcut and just use innerHTML\n\t\t\tif ( typeof value === \"string\" && !rnoInnerhtml.test( value ) &&\n\t\t\t\t!wrapMap[ ( rtagName.exec( value ) || [ \"\", \"\" ] )[ 1 ].toLowerCase() ] ) {\n\n\t\t\t\tvalue = jQuery.htmlPrefilter( value );\n\n\t\t\t\ttry {\n\t\t\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\t\t\telem = this[ i ] || {};\n\n\t\t\t\t\t\t// Remove element nodes and prevent memory leaks\n\t\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\t\t\t\t\t\t\telem.innerHTML = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\telem = 0;\n\n\t\t\t\t// If using innerHTML throws an exception, use the fallback method\n\t\t\t\t} catch ( e ) {}\n\t\t\t}\n\n\t\t\tif ( elem ) {\n\t\t\t\tthis.empty().append( value );\n\t\t\t}\n\t\t}, null, value, arguments.length );\n\t},\n\n\treplaceWith: function() {\n\t\tvar ignored = [];\n\n\t\t// Make the changes, replacing each non-ignored context element with the new content\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tvar parent = this.parentNode;\n\n\t\t\tif ( jQuery.inArray( this, ignored ) < 0 ) {\n\t\t\t\tjQuery.cleanData( getAll( this ) );\n\t\t\t\tif ( parent ) {\n\t\t\t\t\tparent.replaceChild( elem, this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Force callback invocation\n\t\t}, ignored );\n\t}\n} );\n\njQuery.each( {\n\tappendTo: \"append\",\n\tprependTo: \"prepend\",\n\tinsertBefore: \"before\",\n\tinsertAfter: \"after\",\n\treplaceAll: \"replaceWith\"\n}, function( name, original ) {\n\tjQuery.fn[ name ] = function( selector ) {\n\t\tvar elems,\n\t\t\tret = [],\n\t\t\tinsert = jQuery( selector ),\n\t\t\tlast = insert.length - 1,\n\t\t\ti = 0;\n\n\t\tfor ( ; i <= last; i++ ) {\n\t\t\telems = i === last ? this : this.clone( true );\n\t\t\tjQuery( insert[ i ] )[ original ]( elems );\n\n\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t// .get() because push.apply(_, arraylike) throws on ancient WebKit\n\t\t\tpush.apply( ret, elems.get() );\n\t\t}\n\n\t\treturn this.pushStack( ret );\n\t};\n} );\nvar rnumnonpx = new RegExp( \"^(\" + pnum + \")(?!px)[a-z%]+$\", \"i\" );\n\nvar rcustomProp = /^--/;\n\n\nvar getStyles = function( elem ) {\n\n\t\t// Support: IE <=11 only, Firefox <=30 (trac-15098, trac-14150)\n\t\t// IE throws on elements created in popups\n\t\t// FF meanwhile throws on frame elements through \"defaultView.getComputedStyle\"\n\t\tvar view = elem.ownerDocument.defaultView;\n\n\t\tif ( !view || !view.opener ) {\n\t\t\tview = window;\n\t\t}\n\n\t\treturn view.getComputedStyle( elem );\n\t};\n\nvar swap = function( elem, options, callback ) {\n\tvar ret, name,\n\t\told = {};\n\n\t// Remember the old values, and insert the new ones\n\tfor ( name in options ) {\n\t\told[ name ] = elem.style[ name ];\n\t\telem.style[ name ] = options[ name ];\n\t}\n\n\tret = callback.call( elem );\n\n\t// Revert the old values\n\tfor ( name in options ) {\n\t\telem.style[ name ] = old[ name ];\n\t}\n\n\treturn ret;\n};\n\n\nvar rboxStyle = new RegExp( cssExpand.join( \"|\" ), \"i\" );\n\n\n\n( function() {\n\n\t// Executing both pixelPosition & boxSizingReliable tests require only one layout\n\t// so they're executed at the same time to save the second computation.\n\tfunction computeStyleTests() {\n\n\t\t// This is a singleton, we need to execute it only once\n\t\tif ( !div ) {\n\t\t\treturn;\n\t\t}\n\n\t\tcontainer.style.cssText = \"position:absolute;left:-11111px;width:60px;\" +\n\t\t\t\"margin-top:1px;padding:0;border:0\";\n\t\tdiv.style.cssText =\n\t\t\t\"position:relative;display:block;box-sizing:border-box;overflow:scroll;\" +\n\t\t\t\"margin:auto;border:1px;padding:1px;\" +\n\t\t\t\"width:60%;top:1%\";\n\t\tdocumentElement.appendChild( container ).appendChild( div );\n\n\t\tvar divStyle = window.getComputedStyle( div );\n\t\tpixelPositionVal = divStyle.top !== \"1%\";\n\n\t\t// Support: Android 4.0 - 4.3 only, Firefox <=3 - 44\n\t\treliableMarginLeftVal = roundPixelMeasures( divStyle.marginLeft ) === 12;\n\n\t\t// Support: Android 4.0 - 4.3 only, Safari <=9.1 - 10.1, iOS <=7.0 - 9.3\n\t\t// Some styles come back with percentage values, even though they shouldn't\n\t\tdiv.style.right = \"60%\";\n\t\tpixelBoxStylesVal = roundPixelMeasures( divStyle.right ) === 36;\n\n\t\t// Support: IE 9 - 11 only\n\t\t// Detect misreporting of content dimensions for box-sizing:border-box elements\n\t\tboxSizingReliableVal = roundPixelMeasures( divStyle.width ) === 36;\n\n\t\t// Support: IE 9 only\n\t\t// Detect overflow:scroll screwiness (gh-3699)\n\t\t// Support: Chrome <=64\n\t\t// Don't get tricked when zoom affects offsetWidth (gh-4029)\n\t\tdiv.style.position = \"absolute\";\n\t\tscrollboxSizeVal = roundPixelMeasures( div.offsetWidth / 3 ) === 12;\n\n\t\tdocumentElement.removeChild( container );\n\n\t\t// Nullify the div so it wouldn't be stored in the memory and\n\t\t// it will also be a sign that checks already performed\n\t\tdiv = null;\n\t}\n\n\tfunction roundPixelMeasures( measure ) {\n\t\treturn Math.round( parseFloat( measure ) );\n\t}\n\n\tvar pixelPositionVal, boxSizingReliableVal, scrollboxSizeVal, pixelBoxStylesVal,\n\t\treliableTrDimensionsVal, reliableMarginLeftVal,\n\t\tcontainer = document.createElement( \"div\" ),\n\t\tdiv = document.createElement( \"div\" );\n\n\t// Finish early in limited (non-browser) environments\n\tif ( !div.style ) {\n\t\treturn;\n\t}\n\n\t// Support: IE <=9 - 11 only\n\t// Style of cloned element affects source element cloned (trac-8908)\n\tdiv.style.backgroundClip = \"content-box\";\n\tdiv.cloneNode( true ).style.backgroundClip = \"\";\n\tsupport.clearCloneStyle = div.style.backgroundClip === \"content-box\";\n\n\tjQuery.extend( support, {\n\t\tboxSizingReliable: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn boxSizingReliableVal;\n\t\t},\n\t\tpixelBoxStyles: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn pixelBoxStylesVal;\n\t\t},\n\t\tpixelPosition: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn pixelPositionVal;\n\t\t},\n\t\treliableMarginLeft: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn reliableMarginLeftVal;\n\t\t},\n\t\tscrollboxSize: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn scrollboxSizeVal;\n\t\t},\n\n\t\t// Support: IE 9 - 11+, Edge 15 - 18+\n\t\t// IE/Edge misreport `getComputedStyle` of table rows with width/height\n\t\t// set in CSS while `offset*` properties report correct values.\n\t\t// Behavior in IE 9 is more subtle than in newer versions & it passes\n\t\t// some versions of this test; make sure not to make it pass there!\n\t\t//\n\t\t// Support: Firefox 70+\n\t\t// Only Firefox includes border widths\n\t\t// in computed dimensions. (gh-4529)\n\t\treliableTrDimensions: function() {\n\t\t\tvar table, tr, trChild, trStyle;\n\t\t\tif ( reliableTrDimensionsVal == null ) {\n\t\t\t\ttable = document.createElement( \"table\" );\n\t\t\t\ttr = document.createElement( \"tr\" );\n\t\t\t\ttrChild = document.createElement( \"div\" );\n\n\t\t\t\ttable.style.cssText = \"position:absolute;left:-11111px;border-collapse:separate\";\n\t\t\t\ttr.style.cssText = \"box-sizing:content-box;border:1px solid\";\n\n\t\t\t\t// Support: Chrome 86+\n\t\t\t\t// Height set through cssText does not get applied.\n\t\t\t\t// Computed height then comes back as 0.\n\t\t\t\ttr.style.height = \"1px\";\n\t\t\t\ttrChild.style.height = \"9px\";\n\n\t\t\t\t// Support: Android 8 Chrome 86+\n\t\t\t\t// In our bodyBackground.html iframe,\n\t\t\t\t// display for all div elements is set to \"inline\",\n\t\t\t\t// which causes a problem only in Android 8 Chrome 86.\n\t\t\t\t// Ensuring the div is `display: block`\n\t\t\t\t// gets around this issue.\n\t\t\t\ttrChild.style.display = \"block\";\n\n\t\t\t\tdocumentElement\n\t\t\t\t\t.appendChild( table )\n\t\t\t\t\t.appendChild( tr )\n\t\t\t\t\t.appendChild( trChild );\n\n\t\t\t\ttrStyle = window.getComputedStyle( tr );\n\t\t\t\treliableTrDimensionsVal = ( parseInt( trStyle.height, 10 ) +\n\t\t\t\t\tparseInt( trStyle.borderTopWidth, 10 ) +\n\t\t\t\t\tparseInt( trStyle.borderBottomWidth, 10 ) ) === tr.offsetHeight;\n\n\t\t\t\tdocumentElement.removeChild( table );\n\t\t\t}\n\t\t\treturn reliableTrDimensionsVal;\n\t\t}\n\t} );\n} )();\n\n\nfunction curCSS( elem, name, computed ) {\n\tvar width, minWidth, maxWidth, ret,\n\t\tisCustomProp = rcustomProp.test( name ),\n\n\t\t// Support: Firefox 51+\n\t\t// Retrieving style before computed somehow\n\t\t// fixes an issue with getting wrong values\n\t\t// on detached elements\n\t\tstyle = elem.style;\n\n\tcomputed = computed || getStyles( elem );\n\n\t// getPropertyValue is needed for:\n\t//   .css('filter') (IE 9 only, trac-12537)\n\t//   .css('--customProperty) (gh-3144)\n\tif ( computed ) {\n\n\t\t// Support: IE <=9 - 11+\n\t\t// IE only supports `\"float\"` in `getPropertyValue`; in computed styles\n\t\t// it's only available as `\"cssFloat\"`. We no longer modify properties\n\t\t// sent to `.css()` apart from camelCasing, so we need to check both.\n\t\t// Normally, this would create difference in behavior: if\n\t\t// `getPropertyValue` returns an empty string, the value returned\n\t\t// by `.css()` would be `undefined`. This is usually the case for\n\t\t// disconnected elements. However, in IE even disconnected elements\n\t\t// with no styles return `\"none\"` for `getPropertyValue( \"float\" )`\n\t\tret = computed.getPropertyValue( name ) || computed[ name ];\n\n\t\tif ( isCustomProp && ret ) {\n\n\t\t\t// Support: Firefox 105+, Chrome <=105+\n\t\t\t// Spec requires trimming whitespace for custom properties (gh-4926).\n\t\t\t// Firefox only trims leading whitespace. Chrome just collapses\n\t\t\t// both leading & trailing whitespace to a single space.\n\t\t\t//\n\t\t\t// Fall back to `undefined` if empty string returned.\n\t\t\t// This collapses a missing definition with property defined\n\t\t\t// and set to an empty string but there's no standard API\n\t\t\t// allowing us to differentiate them without a performance penalty\n\t\t\t// and returning `undefined` aligns with older jQuery.\n\t\t\t//\n\t\t\t// rtrimCSS treats U+000D CARRIAGE RETURN and U+000C FORM FEED\n\t\t\t// as whitespace while CSS does not, but this is not a problem\n\t\t\t// because CSS preprocessing replaces them with U+000A LINE FEED\n\t\t\t// (which *is* CSS whitespace)\n\t\t\t// https://www.w3.org/TR/css-syntax-3/#input-preprocessing\n\t\t\tret = ret.replace( rtrimCSS, \"$1\" ) || undefined;\n\t\t}\n\n\t\tif ( ret === \"\" && !isAttached( elem ) ) {\n\t\t\tret = jQuery.style( elem, name );\n\t\t}\n\n\t\t// A tribute to the \"awesome hack by Dean Edwards\"\n\t\t// Android Browser returns percentage for some values,\n\t\t// but width seems to be reliably pixels.\n\t\t// This is against the CSSOM draft spec:\n\t\t// https://drafts.csswg.org/cssom/#resolved-values\n\t\tif ( !support.pixelBoxStyles() && rnumnonpx.test( ret ) && rboxStyle.test( name ) ) {\n\n\t\t\t// Remember the original values\n\t\t\twidth = style.width;\n\t\t\tminWidth = style.minWidth;\n\t\t\tmaxWidth = style.maxWidth;\n\n\t\t\t// Put in the new values to get a computed value out\n\t\t\tstyle.minWidth = style.maxWidth = style.width = ret;\n\t\t\tret = computed.width;\n\n\t\t\t// Revert the changed values\n\t\t\tstyle.width = width;\n\t\t\tstyle.minWidth = minWidth;\n\t\t\tstyle.maxWidth = maxWidth;\n\t\t}\n\t}\n\n\treturn ret !== undefined ?\n\n\t\t// Support: IE <=9 - 11 only\n\t\t// IE returns zIndex value as an integer.\n\t\tret + \"\" :\n\t\tret;\n}\n\n\nfunction addGetHookIf( conditionFn, hookFn ) {\n\n\t// Define the hook, we'll check on the first run if it's really needed.\n\treturn {\n\t\tget: function() {\n\t\t\tif ( conditionFn() ) {\n\n\t\t\t\t// Hook not needed (or it's not possible to use it due\n\t\t\t\t// to missing dependency), remove it.\n\t\t\t\tdelete this.get;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Hook needed; redefine it so that the support test is not executed again.\n\t\t\treturn ( this.get = hookFn ).apply( this, arguments );\n\t\t}\n\t};\n}\n\n\nvar cssPrefixes = [ \"Webkit\", \"Moz\", \"ms\" ],\n\temptyStyle = document.createElement( \"div\" ).style,\n\tvendorProps = {};\n\n// Return a vendor-prefixed property or undefined\nfunction vendorPropName( name ) {\n\n\t// Check for vendor prefixed names\n\tvar capName = name[ 0 ].toUpperCase() + name.slice( 1 ),\n\t\ti = cssPrefixes.length;\n\n\twhile ( i-- ) {\n\t\tname = cssPrefixes[ i ] + capName;\n\t\tif ( name in emptyStyle ) {\n\t\t\treturn name;\n\t\t}\n\t}\n}\n\n// Return a potentially-mapped jQuery.cssProps or vendor prefixed property\nfunction finalPropName( name ) {\n\tvar final = jQuery.cssProps[ name ] || vendorProps[ name ];\n\n\tif ( final ) {\n\t\treturn final;\n\t}\n\tif ( name in emptyStyle ) {\n\t\treturn name;\n\t}\n\treturn vendorProps[ name ] = vendorPropName( name ) || name;\n}\n\n\nvar\n\n\t// Swappable if display is none or starts with table\n\t// except \"table\", \"table-cell\", or \"table-caption\"\n\t// See here for display values: https://developer.mozilla.org/en-US/docs/CSS/display\n\trdisplayswap = /^(none|table(?!-c[ea]).+)/,\n\tcssShow = { position: \"absolute\", visibility: \"hidden\", display: \"block\" },\n\tcssNormalTransform = {\n\t\tletterSpacing: \"0\",\n\t\tfontWeight: \"400\"\n\t};\n\nfunction setPositiveNumber( _elem, value, subtract ) {\n\n\t// Any relative (+/-) values have already been\n\t// normalized at this point\n\tvar matches = rcssNum.exec( value );\n\treturn matches ?\n\n\t\t// Guard against undefined \"subtract\", e.g., when used as in cssHooks\n\t\tMath.max( 0, matches[ 2 ] - ( subtract || 0 ) ) + ( matches[ 3 ] || \"px\" ) :\n\t\tvalue;\n}\n\nfunction boxModelAdjustment( elem, dimension, box, isBorderBox, styles, computedVal ) {\n\tvar i = dimension === \"width\" ? 1 : 0,\n\t\textra = 0,\n\t\tdelta = 0,\n\t\tmarginDelta = 0;\n\n\t// Adjustment may not be necessary\n\tif ( box === ( isBorderBox ? \"border\" : \"content\" ) ) {\n\t\treturn 0;\n\t}\n\n\tfor ( ; i < 4; i += 2 ) {\n\n\t\t// Both box models exclude margin\n\t\t// Count margin delta separately to only add it after scroll gutter adjustment.\n\t\t// This is needed to make negative margins work with `outerHeight( true )` (gh-3982).\n\t\tif ( box === \"margin\" ) {\n\t\t\tmarginDelta += jQuery.css( elem, box + cssExpand[ i ], true, styles );\n\t\t}\n\n\t\t// If we get here with a content-box, we're seeking \"padding\" or \"border\" or \"margin\"\n\t\tif ( !isBorderBox ) {\n\n\t\t\t// Add padding\n\t\t\tdelta += jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\n\t\t\t// For \"border\" or \"margin\", add border\n\t\t\tif ( box !== \"padding\" ) {\n\t\t\t\tdelta += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\n\t\t\t// But still keep track of it otherwise\n\t\t\t} else {\n\t\t\t\textra += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\n\t\t// If we get here with a border-box (content + padding + border), we're seeking \"content\" or\n\t\t// \"padding\" or \"margin\"\n\t\t} else {\n\n\t\t\t// For \"content\", subtract padding\n\t\t\tif ( box === \"content\" ) {\n\t\t\t\tdelta -= jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\t\t\t}\n\n\t\t\t// For \"content\" or \"padding\", subtract border\n\t\t\tif ( box !== \"margin\" ) {\n\t\t\t\tdelta -= jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Account for positive content-box scroll gutter when requested by providing computedVal\n\tif ( !isBorderBox && computedVal >= 0 ) {\n\n\t\t// offsetWidth/offsetHeight is a rounded sum of content, padding, scroll gutter, and border\n\t\t// Assuming integer scroll gutter, subtract the rest and round down\n\t\tdelta += Math.max( 0, Math.ceil(\n\t\t\telem[ \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -\n\t\t\tcomputedVal -\n\t\t\tdelta -\n\t\t\textra -\n\t\t\t0.5\n\n\t\t// If offsetWidth/offsetHeight is unknown, then we can't determine content-box scroll gutter\n\t\t// Use an explicit zero to avoid NaN (gh-3964)\n\t\t) ) || 0;\n\t}\n\n\treturn delta + marginDelta;\n}\n\nfunction getWidthOrHeight( elem, dimension, extra ) {\n\n\t// Start with computed style\n\tvar styles = getStyles( elem ),\n\n\t\t// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-4322).\n\t\t// Fake content-box until we know it's needed to know the true value.\n\t\tboxSizingNeeded = !support.boxSizingReliable() || extra,\n\t\tisBorderBox = boxSizingNeeded &&\n\t\t\tjQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\n\t\tvalueIsBorderBox = isBorderBox,\n\n\t\tval = curCSS( elem, dimension, styles ),\n\t\toffsetProp = \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 );\n\n\t// Support: Firefox <=54\n\t// Return a confounding non-pixel value or feign ignorance, as appropriate.\n\tif ( rnumnonpx.test( val ) ) {\n\t\tif ( !extra ) {\n\t\t\treturn val;\n\t\t}\n\t\tval = \"auto\";\n\t}\n\n\n\t// Support: IE 9 - 11 only\n\t// Use offsetWidth/offsetHeight for when box sizing is unreliable.\n\t// In those cases, the computed value can be trusted to be border-box.\n\tif ( ( !support.boxSizingReliable() && isBorderBox ||\n\n\t\t// Support: IE 10 - 11+, Edge 15 - 18+\n\t\t// IE/Edge misreport `getComputedStyle` of table rows with width/height\n\t\t// set in CSS while `offset*` properties report correct values.\n\t\t// Interestingly, in some cases IE 9 doesn't suffer from this issue.\n\t\t!support.reliableTrDimensions() && nodeName( elem, \"tr\" ) ||\n\n\t\t// Fall back to offsetWidth/offsetHeight when value is \"auto\"\n\t\t// This happens for inline elements with no explicit setting (gh-3571)\n\t\tval === \"auto\" ||\n\n\t\t// Support: Android <=4.1 - 4.3 only\n\t\t// Also use offsetWidth/offsetHeight for misreported inline dimensions (gh-3602)\n\t\t!parseFloat( val ) && jQuery.css( elem, \"display\", false, styles ) === \"inline\" ) &&\n\n\t\t// Make sure the element is visible & connected\n\t\telem.getClientRects().length ) {\n\n\t\tisBorderBox = jQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\";\n\n\t\t// Where available, offsetWidth/offsetHeight approximate border box dimensions.\n\t\t// Where not available (e.g., SVG), assume unreliable box-sizing and interpret the\n\t\t// retrieved value as a content box dimension.\n\t\tvalueIsBorderBox = offsetProp in elem;\n\t\tif ( valueIsBorderBox ) {\n\t\t\tval = elem[ offsetProp ];\n\t\t}\n\t}\n\n\t// Normalize \"\" and auto\n\tval = parseFloat( val ) || 0;\n\n\t// Adjust for the element's box model\n\treturn ( val +\n\t\tboxModelAdjustment(\n\t\t\telem,\n\t\t\tdimension,\n\t\t\textra || ( isBorderBox ? \"border\" : \"content\" ),\n\t\t\tvalueIsBorderBox,\n\t\t\tstyles,\n\n\t\t\t// Provide the current computed size to request scroll gutter calculation (gh-3589)\n\t\t\tval\n\t\t)\n\t) + \"px\";\n}\n\njQuery.extend( {\n\n\t// Add in style property hooks for overriding the default\n\t// behavior of getting and setting a style property\n\tcssHooks: {\n\t\topacity: {\n\t\t\tget: function( elem, computed ) {\n\t\t\t\tif ( computed ) {\n\n\t\t\t\t\t// We should always get a number back from opacity\n\t\t\t\t\tvar ret = curCSS( elem, \"opacity\" );\n\t\t\t\t\treturn ret === \"\" ? \"1\" : ret;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t// Don't automatically add \"px\" to these possibly-unitless properties\n\tcssNumber: {\n\t\tanimationIterationCount: true,\n\t\taspectRatio: true,\n\t\tborderImageSlice: true,\n\t\tcolumnCount: true,\n\t\tflexGrow: true,\n\t\tflexShrink: true,\n\t\tfontWeight: true,\n\t\tgridArea: true,\n\t\tgridColumn: true,\n\t\tgridColumnEnd: true,\n\t\tgridColumnStart: true,\n\t\tgridRow: true,\n\t\tgridRowEnd: true,\n\t\tgridRowStart: true,\n\t\tlineHeight: true,\n\t\topacity: true,\n\t\torder: true,\n\t\torphans: true,\n\t\tscale: true,\n\t\twidows: true,\n\t\tzIndex: true,\n\t\tzoom: true,\n\n\t\t// SVG-related\n\t\tfillOpacity: true,\n\t\tfloodOpacity: true,\n\t\tstopOpacity: true,\n\t\tstrokeMiterlimit: true,\n\t\tstrokeOpacity: true\n\t},\n\n\t// Add in properties whose names you wish to fix before\n\t// setting or getting the value\n\tcssProps: {},\n\n\t// Get and set the style property on a DOM Node\n\tstyle: function( elem, name, value, extra ) {\n\n\t\t// Don't set styles on text and comment nodes\n\t\tif ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Make sure that we're working with the right name\n\t\tvar ret, type, hooks,\n\t\t\torigName = camelCase( name ),\n\t\t\tisCustomProp = rcustomProp.test( name ),\n\t\t\tstyle = elem.style;\n\n\t\t// Make sure that we're working with the right name. We don't\n\t\t// want to query the value if it is a CSS custom property\n\t\t// since they are user-defined.\n\t\tif ( !isCustomProp ) {\n\t\t\tname = finalPropName( origName );\n\t\t}\n\n\t\t// Gets hook for the prefixed version, then unprefixed version\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// Check if we're setting a value\n\t\tif ( value !== undefined ) {\n\t\t\ttype = typeof value;\n\n\t\t\t// Convert \"+=\" or \"-=\" to relative numbers (trac-7345)\n\t\t\tif ( type === \"string\" && ( ret = rcssNum.exec( value ) ) && ret[ 1 ] ) {\n\t\t\t\tvalue = adjustCSS( elem, name, ret );\n\n\t\t\t\t// Fixes bug trac-9237\n\t\t\t\ttype = \"number\";\n\t\t\t}\n\n\t\t\t// Make sure that null and NaN values aren't set (trac-7116)\n\t\t\tif ( value == null || value !== value ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If a number was passed in, add the unit (except for certain CSS properties)\n\t\t\t// The isCustomProp check can be removed in jQuery 4.0 when we only auto-append\n\t\t\t// \"px\" to a few hardcoded values.\n\t\t\tif ( type === \"number\" && !isCustomProp ) {\n\t\t\t\tvalue += ret && ret[ 3 ] || ( jQuery.cssNumber[ origName ] ? \"\" : \"px\" );\n\t\t\t}\n\n\t\t\t// background-* props affect original clone's values\n\t\t\tif ( !support.clearCloneStyle && value === \"\" && name.indexOf( \"background\" ) === 0 ) {\n\t\t\t\tstyle[ name ] = \"inherit\";\n\t\t\t}\n\n\t\t\t// If a hook was provided, use that value, otherwise just set the specified value\n\t\t\tif ( !hooks || !( \"set\" in hooks ) ||\n\t\t\t\t( value = hooks.set( elem, value, extra ) ) !== undefined ) {\n\n\t\t\t\tif ( isCustomProp ) {\n\t\t\t\t\tstyle.setProperty( name, value );\n\t\t\t\t} else {\n\t\t\t\t\tstyle[ name ] = value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// If a hook was provided get the non-computed value from there\n\t\t\tif ( hooks && \"get\" in hooks &&\n\t\t\t\t( ret = hooks.get( elem, false, extra ) ) !== undefined ) {\n\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\t// Otherwise just get the value from the style object\n\t\t\treturn style[ name ];\n\t\t}\n\t},\n\n\tcss: function( elem, name, extra, styles ) {\n\t\tvar val, num, hooks,\n\t\t\torigName = camelCase( name ),\n\t\t\tisCustomProp = rcustomProp.test( name );\n\n\t\t// Make sure that we're working with the right name. We don't\n\t\t// want to modify the value if it is a CSS custom property\n\t\t// since they are user-defined.\n\t\tif ( !isCustomProp ) {\n\t\t\tname = finalPropName( origName );\n\t\t}\n\n\t\t// Try prefixed name followed by the unprefixed name\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// If a hook was provided get the computed value from there\n\t\tif ( hooks && \"get\" in hooks ) {\n\t\t\tval = hooks.get( elem, true, extra );\n\t\t}\n\n\t\t// Otherwise, if a way to get the computed value exists, use that\n\t\tif ( val === undefined ) {\n\t\t\tval = curCSS( elem, name, styles );\n\t\t}\n\n\t\t// Convert \"normal\" to computed value\n\t\tif ( val === \"normal\" && name in cssNormalTransform ) {\n\t\t\tval = cssNormalTransform[ name ];\n\t\t}\n\n\t\t// Make numeric if forced or a qualifier was provided and val looks numeric\n\t\tif ( extra === \"\" || extra ) {\n\t\t\tnum = parseFloat( val );\n\t\t\treturn extra === true || isFinite( num ) ? num || 0 : val;\n\t\t}\n\n\t\treturn val;\n\t}\n} );\n\njQuery.each( [ \"height\", \"width\" ], function( _i, dimension ) {\n\tjQuery.cssHooks[ dimension ] = {\n\t\tget: function( elem, computed, extra ) {\n\t\t\tif ( computed ) {\n\n\t\t\t\t// Certain elements can have dimension info if we invisibly show them\n\t\t\t\t// but it must have a current display style that would benefit\n\t\t\t\treturn rdisplayswap.test( jQuery.css( elem, \"display\" ) ) &&\n\n\t\t\t\t\t// Support: Safari 8+\n\t\t\t\t\t// Table columns in Safari have non-zero offsetWidth & zero\n\t\t\t\t\t// getBoundingClientRect().width unless display is changed.\n\t\t\t\t\t// Support: IE <=11 only\n\t\t\t\t\t// Running getBoundingClientRect on a disconnected node\n\t\t\t\t\t// in IE throws an error.\n\t\t\t\t\t( !elem.getClientRects().length || !elem.getBoundingClientRect().width ) ?\n\t\t\t\t\tswap( elem, cssShow, function() {\n\t\t\t\t\t\treturn getWidthOrHeight( elem, dimension, extra );\n\t\t\t\t\t} ) :\n\t\t\t\t\tgetWidthOrHeight( elem, dimension, extra );\n\t\t\t}\n\t\t},\n\n\t\tset: function( elem, value, extra ) {\n\t\t\tvar matches,\n\t\t\t\tstyles = getStyles( elem ),\n\n\t\t\t\t// Only read styles.position if the test has a chance to fail\n\t\t\t\t// to avoid forcing a reflow.\n\t\t\t\tscrollboxSizeBuggy = !support.scrollboxSize() &&\n\t\t\t\t\tstyles.position === \"absolute\",\n\n\t\t\t\t// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-3991)\n\t\t\t\tboxSizingNeeded = scrollboxSizeBuggy || extra,\n\t\t\t\tisBorderBox = boxSizingNeeded &&\n\t\t\t\t\tjQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\n\t\t\t\tsubtract = extra ?\n\t\t\t\t\tboxModelAdjustment(\n\t\t\t\t\t\telem,\n\t\t\t\t\t\tdimension,\n\t\t\t\t\t\textra,\n\t\t\t\t\t\tisBorderBox,\n\t\t\t\t\t\tstyles\n\t\t\t\t\t) :\n\t\t\t\t\t0;\n\n\t\t\t// Account for unreliable border-box dimensions by comparing offset* to computed and\n\t\t\t// faking a content-box to get border and padding (gh-3699)\n\t\t\tif ( isBorderBox && scrollboxSizeBuggy ) {\n\t\t\t\tsubtract -= Math.ceil(\n\t\t\t\t\telem[ \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -\n\t\t\t\t\tparseFloat( styles[ dimension ] ) -\n\t\t\t\t\tboxModelAdjustment( elem, dimension, \"border\", false, styles ) -\n\t\t\t\t\t0.5\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// Convert to pixels if value adjustment is needed\n\t\t\tif ( subtract && ( matches = rcssNum.exec( value ) ) &&\n\t\t\t\t( matches[ 3 ] || \"px\" ) !== \"px\" ) {\n\n\t\t\t\telem.style[ dimension ] = value;\n\t\t\t\tvalue = jQuery.css( elem, dimension );\n\t\t\t}\n\n\t\t\treturn setPositiveNumber( elem, value, subtract );\n\t\t}\n\t};\n} );\n\njQuery.cssHooks.marginLeft = addGetHookIf( support.reliableMarginLeft,\n\tfunction( elem, computed ) {\n\t\tif ( computed ) {\n\t\t\treturn ( parseFloat( curCSS( elem, \"marginLeft\" ) ) ||\n\t\t\t\telem.getBoundingClientRect().left -\n\t\t\t\t\tswap( elem, { marginLeft: 0 }, function() {\n\t\t\t\t\t\treturn elem.getBoundingClientRect().left;\n\t\t\t\t\t} )\n\t\t\t) + \"px\";\n\t\t}\n\t}\n);\n\n// These hooks are used by animate to expand properties\njQuery.each( {\n\tmargin: \"\",\n\tpadding: \"\",\n\tborder: \"Width\"\n}, function( prefix, suffix ) {\n\tjQuery.cssHooks[ prefix + suffix ] = {\n\t\texpand: function( value ) {\n\t\t\tvar i = 0,\n\t\t\t\texpanded = {},\n\n\t\t\t\t// Assumes a single number if not a string\n\t\t\t\tparts = typeof value === \"string\" ? value.split( \" \" ) : [ value ];\n\n\t\t\tfor ( ; i < 4; i++ ) {\n\t\t\t\texpanded[ prefix + cssExpand[ i ] + suffix ] =\n\t\t\t\t\tparts[ i ] || parts[ i - 2 ] || parts[ 0 ];\n\t\t\t}\n\n\t\t\treturn expanded;\n\t\t}\n\t};\n\n\tif ( prefix !== \"margin\" ) {\n\t\tjQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;\n\t}\n} );\n\njQuery.fn.extend( {\n\tcss: function( name, value ) {\n\t\treturn access( this, function( elem, name, value ) {\n\t\t\tvar styles, len,\n\t\t\t\tmap = {},\n\t\t\t\ti = 0;\n\n\t\t\tif ( Array.isArray( name ) ) {\n\t\t\t\tstyles = getStyles( elem );\n\t\t\t\tlen = name.length;\n\n\t\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\t\tmap[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );\n\t\t\t\t}\n\n\t\t\t\treturn map;\n\t\t\t}\n\n\t\t\treturn value !== undefined ?\n\t\t\t\tjQuery.style( elem, name, value ) :\n\t\t\t\tjQuery.css( elem, name );\n\t\t}, name, value, arguments.length > 1 );\n\t}\n} );\n\n\nfunction Tween( elem, options, prop, end, easing ) {\n\treturn new Tween.prototype.init( elem, options, prop, end, easing );\n}\njQuery.Tween = Tween;\n\nTween.prototype = {\n\tconstructor: Tween,\n\tinit: function( elem, options, prop, end, easing, unit ) {\n\t\tthis.elem = elem;\n\t\tthis.prop = prop;\n\t\tthis.easing = easing || jQuery.easing._default;\n\t\tthis.options = options;\n\t\tthis.start = this.now = this.cur();\n\t\tthis.end = end;\n\t\tthis.unit = unit || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" );\n\t},\n\tcur: function() {\n\t\tvar hooks = Tween.propHooks[ this.prop ];\n\n\t\treturn hooks && hooks.get ?\n\t\t\thooks.get( this ) :\n\t\t\tTween.propHooks._default.get( this );\n\t},\n\trun: function( percent ) {\n\t\tvar eased,\n\t\t\thooks = Tween.propHooks[ this.prop ];\n\n\t\tif ( this.options.duration ) {\n\t\t\tthis.pos = eased = jQuery.easing[ this.easing ](\n\t\t\t\tpercent, this.options.duration * percent, 0, 1, this.options.duration\n\t\t\t);\n\t\t} else {\n\t\t\tthis.pos = eased = percent;\n\t\t}\n\t\tthis.now = ( this.end - this.start ) * eased + this.start;\n\n\t\tif ( this.options.step ) {\n\t\t\tthis.options.step.call( this.elem, this.now, this );\n\t\t}\n\n\t\tif ( hooks && hooks.set ) {\n\t\t\thooks.set( this );\n\t\t} else {\n\t\t\tTween.propHooks._default.set( this );\n\t\t}\n\t\treturn this;\n\t}\n};\n\nTween.prototype.init.prototype = Tween.prototype;\n\nTween.propHooks = {\n\t_default: {\n\t\tget: function( tween ) {\n\t\t\tvar result;\n\n\t\t\t// Use a property on the element directly when it is not a DOM element,\n\t\t\t// or when there is no matching style property that exists.\n\t\t\tif ( tween.elem.nodeType !== 1 ||\n\t\t\t\ttween.elem[ tween.prop ] != null && tween.elem.style[ tween.prop ] == null ) {\n\t\t\t\treturn tween.elem[ tween.prop ];\n\t\t\t}\n\n\t\t\t// Passing an empty string as a 3rd parameter to .css will automatically\n\t\t\t// attempt a parseFloat and fallback to a string if the parse fails.\n\t\t\t// Simple values such as \"10px\" are parsed to Float;\n\t\t\t// complex values such as \"rotate(1rad)\" are returned as-is.\n\t\t\tresult = jQuery.css( tween.elem, tween.prop, \"\" );\n\n\t\t\t// Empty strings, null, undefined and \"auto\" are converted to 0.\n\t\t\treturn !result || result === \"auto\" ? 0 : result;\n\t\t},\n\t\tset: function( tween ) {\n\n\t\t\t// Use step hook for back compat.\n\t\t\t// Use cssHook if its there.\n\t\t\t// Use .style if available and use plain properties where available.\n\t\t\tif ( jQuery.fx.step[ tween.prop ] ) {\n\t\t\t\tjQuery.fx.step[ tween.prop ]( tween );\n\t\t\t} else if ( tween.elem.nodeType === 1 && (\n\t\t\t\tjQuery.cssHooks[ tween.prop ] ||\n\t\t\t\t\ttween.elem.style[ finalPropName( tween.prop ) ] != null ) ) {\n\t\t\t\tjQuery.style( tween.elem, tween.prop, tween.now + tween.unit );\n\t\t\t} else {\n\t\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Support: IE <=9 only\n// Panic based approach to setting things on disconnected nodes\nTween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {\n\tset: function( tween ) {\n\t\tif ( tween.elem.nodeType && tween.elem.parentNode ) {\n\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t}\n\t}\n};\n\njQuery.easing = {\n\tlinear: function( p ) {\n\t\treturn p;\n\t},\n\tswing: function( p ) {\n\t\treturn 0.5 - Math.cos( p * Math.PI ) / 2;\n\t},\n\t_default: \"swing\"\n};\n\njQuery.fx = Tween.prototype.init;\n\n// Back compat <1.8 extension point\njQuery.fx.step = {};\n\n\n\n\nvar\n\tfxNow, inProgress,\n\trfxtypes = /^(?:toggle|show|hide)$/,\n\trrun = /queueHooks$/;\n\nfunction schedule() {\n\tif ( inProgress ) {\n\t\tif ( document.hidden === false && window.requestAnimationFrame ) {\n\t\t\twindow.requestAnimationFrame( schedule );\n\t\t} else {\n\t\t\twindow.setTimeout( schedule, jQuery.fx.interval );\n\t\t}\n\n\t\tjQuery.fx.tick();\n\t}\n}\n\n// Animations created synchronously will run synchronously\nfunction createFxNow() {\n\twindow.setTimeout( function() {\n\t\tfxNow = undefined;\n\t} );\n\treturn ( fxNow = Date.now() );\n}\n\n// Generate parameters to create a standard animation\nfunction genFx( type, includeWidth ) {\n\tvar which,\n\t\ti = 0,\n\t\tattrs = { height: type };\n\n\t// If we include width, step value is 1 to do all cssExpand values,\n\t// otherwise step value is 2 to skip over Left and Right\n\tincludeWidth = includeWidth ? 1 : 0;\n\tfor ( ; i < 4; i += 2 - includeWidth ) {\n\t\twhich = cssExpand[ i ];\n\t\tattrs[ \"margin\" + which ] = attrs[ \"padding\" + which ] = type;\n\t}\n\n\tif ( includeWidth ) {\n\t\tattrs.opacity = attrs.width = type;\n\t}\n\n\treturn attrs;\n}\n\nfunction createTween( value, prop, animation ) {\n\tvar tween,\n\t\tcollection = ( Animation.tweeners[ prop ] || [] ).concat( Animation.tweeners[ \"*\" ] ),\n\t\tindex = 0,\n\t\tlength = collection.length;\n\tfor ( ; index < length; index++ ) {\n\t\tif ( ( tween = collection[ index ].call( animation, prop, value ) ) ) {\n\n\t\t\t// We're done with this property\n\t\t\treturn tween;\n\t\t}\n\t}\n}\n\nfunction defaultPrefilter( elem, props, opts ) {\n\tvar prop, value, toggle, hooks, oldfire, propTween, restoreDisplay, display,\n\t\tisBox = \"width\" in props || \"height\" in props,\n\t\tanim = this,\n\t\torig = {},\n\t\tstyle = elem.style,\n\t\thidden = elem.nodeType && isHiddenWithinTree( elem ),\n\t\tdataShow = dataPriv.get( elem, \"fxshow\" );\n\n\t// Queue-skipping animations hijack the fx hooks\n\tif ( !opts.queue ) {\n\t\thooks = jQuery._queueHooks( elem, \"fx\" );\n\t\tif ( hooks.unqueued == null ) {\n\t\t\thooks.unqueued = 0;\n\t\t\toldfire = hooks.empty.fire;\n\t\t\thooks.empty.fire = function() {\n\t\t\t\tif ( !hooks.unqueued ) {\n\t\t\t\t\toldfire();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\thooks.unqueued++;\n\n\t\tanim.always( function() {\n\n\t\t\t// Ensure the complete handler is called before this completes\n\t\t\tanim.always( function() {\n\t\t\t\thooks.unqueued--;\n\t\t\t\tif ( !jQuery.queue( elem, \"fx\" ).length ) {\n\t\t\t\t\thooks.empty.fire();\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t}\n\n\t// Detect show/hide animations\n\tfor ( prop in props ) {\n\t\tvalue = props[ prop ];\n\t\tif ( rfxtypes.test( value ) ) {\n\t\t\tdelete props[ prop ];\n\t\t\ttoggle = toggle || value === \"toggle\";\n\t\t\tif ( value === ( hidden ? \"hide\" : \"show\" ) ) {\n\n\t\t\t\t// Pretend to be hidden if this is a \"show\" and\n\t\t\t\t// there is still data from a stopped show/hide\n\t\t\t\tif ( value === \"show\" && dataShow && dataShow[ prop ] !== undefined ) {\n\t\t\t\t\thidden = true;\n\n\t\t\t\t// Ignore all other no-op show/hide data\n\t\t\t\t} else {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\torig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );\n\t\t}\n\t}\n\n\t// Bail out if this is a no-op like .hide().hide()\n\tpropTween = !jQuery.isEmptyObject( props );\n\tif ( !propTween && jQuery.isEmptyObject( orig ) ) {\n\t\treturn;\n\t}\n\n\t// Restrict \"overflow\" and \"display\" styles during box animations\n\tif ( isBox && elem.nodeType === 1 ) {\n\n\t\t// Support: IE <=9 - 11, Edge 12 - 15\n\t\t// Record all 3 overflow attributes because IE does not infer the shorthand\n\t\t// from identically-valued overflowX and overflowY and Edge just mirrors\n\t\t// the overflowX value there.\n\t\topts.overflow = [ style.overflow, style.overflowX, style.overflowY ];\n\n\t\t// Identify a display type, preferring old show/hide data over the CSS cascade\n\t\trestoreDisplay = dataShow && dataShow.display;\n\t\tif ( restoreDisplay == null ) {\n\t\t\trestoreDisplay = dataPriv.get( elem, \"display\" );\n\t\t}\n\t\tdisplay = jQuery.css( elem, \"display\" );\n\t\tif ( display === \"none\" ) {\n\t\t\tif ( restoreDisplay ) {\n\t\t\t\tdisplay = restoreDisplay;\n\t\t\t} else {\n\n\t\t\t\t// Get nonempty value(s) by temporarily forcing visibility\n\t\t\t\tshowHide( [ elem ], true );\n\t\t\t\trestoreDisplay = elem.style.display || restoreDisplay;\n\t\t\t\tdisplay = jQuery.css( elem, \"display\" );\n\t\t\t\tshowHide( [ elem ] );\n\t\t\t}\n\t\t}\n\n\t\t// Animate inline elements as inline-block\n\t\tif ( display === \"inline\" || display === \"inline-block\" && restoreDisplay != null ) {\n\t\t\tif ( jQuery.css( elem, \"float\" ) === \"none\" ) {\n\n\t\t\t\t// Restore the original display value at the end of pure show/hide animations\n\t\t\t\tif ( !propTween ) {\n\t\t\t\t\tanim.done( function() {\n\t\t\t\t\t\tstyle.display = restoreDisplay;\n\t\t\t\t\t} );\n\t\t\t\t\tif ( restoreDisplay == null ) {\n\t\t\t\t\t\tdisplay = style.display;\n\t\t\t\t\t\trestoreDisplay = display === \"none\" ? \"\" : display;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tstyle.display = \"inline-block\";\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( opts.overflow ) {\n\t\tstyle.overflow = \"hidden\";\n\t\tanim.always( function() {\n\t\t\tstyle.overflow = opts.overflow[ 0 ];\n\t\t\tstyle.overflowX = opts.overflow[ 1 ];\n\t\t\tstyle.overflowY = opts.overflow[ 2 ];\n\t\t} );\n\t}\n\n\t// Implement show/hide animations\n\tpropTween = false;\n\tfor ( prop in orig ) {\n\n\t\t// General show/hide setup for this element animation\n\t\tif ( !propTween ) {\n\t\t\tif ( dataShow ) {\n\t\t\t\tif ( \"hidden\" in dataShow ) {\n\t\t\t\t\thidden = dataShow.hidden;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdataShow = dataPriv.access( elem, \"fxshow\", { display: restoreDisplay } );\n\t\t\t}\n\n\t\t\t// Store hidden/visible for toggle so `.stop().toggle()` \"reverses\"\n\t\t\tif ( toggle ) {\n\t\t\t\tdataShow.hidden = !hidden;\n\t\t\t}\n\n\t\t\t// Show elements before animating them\n\t\t\tif ( hidden ) {\n\t\t\t\tshowHide( [ elem ], true );\n\t\t\t}\n\n\t\t\t/* eslint-disable no-loop-func */\n\n\t\t\tanim.done( function() {\n\n\t\t\t\t/* eslint-enable no-loop-func */\n\n\t\t\t\t// The final step of a \"hide\" animation is actually hiding the element\n\t\t\t\tif ( !hidden ) {\n\t\t\t\t\tshowHide( [ elem ] );\n\t\t\t\t}\n\t\t\t\tdataPriv.remove( elem, \"fxshow\" );\n\t\t\t\tfor ( prop in orig ) {\n\t\t\t\t\tjQuery.style( elem, prop, orig[ prop ] );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\t// Per-property setup\n\t\tpropTween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );\n\t\tif ( !( prop in dataShow ) ) {\n\t\t\tdataShow[ prop ] = propTween.start;\n\t\t\tif ( hidden ) {\n\t\t\t\tpropTween.end = propTween.start;\n\t\t\t\tpropTween.start = 0;\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction propFilter( props, specialEasing ) {\n\tvar index, name, easing, value, hooks;\n\n\t// camelCase, specialEasing and expand cssHook pass\n\tfor ( index in props ) {\n\t\tname = camelCase( index );\n\t\teasing = specialEasing[ name ];\n\t\tvalue = props[ index ];\n\t\tif ( Array.isArray( value ) ) {\n\t\t\teasing = value[ 1 ];\n\t\t\tvalue = props[ index ] = value[ 0 ];\n\t\t}\n\n\t\tif ( index !== name ) {\n\t\t\tprops[ name ] = value;\n\t\t\tdelete props[ index ];\n\t\t}\n\n\t\thooks = jQuery.cssHooks[ name ];\n\t\tif ( hooks && \"expand\" in hooks ) {\n\t\t\tvalue = hooks.expand( value );\n\t\t\tdelete props[ name ];\n\n\t\t\t// Not quite $.extend, this won't overwrite existing keys.\n\t\t\t// Reusing 'index' because we have the correct \"name\"\n\t\t\tfor ( index in value ) {\n\t\t\t\tif ( !( index in props ) ) {\n\t\t\t\t\tprops[ index ] = value[ index ];\n\t\t\t\t\tspecialEasing[ index ] = easing;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tspecialEasing[ name ] = easing;\n\t\t}\n\t}\n}\n\nfunction Animation( elem, properties, options ) {\n\tvar result,\n\t\tstopped,\n\t\tindex = 0,\n\t\tlength = Animation.prefilters.length,\n\t\tdeferred = jQuery.Deferred().always( function() {\n\n\t\t\t// Don't match elem in the :animated selector\n\t\t\tdelete tick.elem;\n\t\t} ),\n\t\ttick = function() {\n\t\t\tif ( stopped ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar currentTime = fxNow || createFxNow(),\n\t\t\t\tremaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),\n\n\t\t\t\t// Support: Android 2.3 only\n\t\t\t\t// Archaic crash bug won't allow us to use `1 - ( 0.5 || 0 )` (trac-12497)\n\t\t\t\ttemp = remaining / animation.duration || 0,\n\t\t\t\tpercent = 1 - temp,\n\t\t\t\tindex = 0,\n\t\t\t\tlength = animation.tweens.length;\n\n\t\t\tfor ( ; index < length; index++ ) {\n\t\t\t\tanimation.tweens[ index ].run( percent );\n\t\t\t}\n\n\t\t\tdeferred.notifyWith( elem, [ animation, percent, remaining ] );\n\n\t\t\t// If there's more to do, yield\n\t\t\tif ( percent < 1 && length ) {\n\t\t\t\treturn remaining;\n\t\t\t}\n\n\t\t\t// If this was an empty animation, synthesize a final progress notification\n\t\t\tif ( !length ) {\n\t\t\t\tdeferred.notifyWith( elem, [ animation, 1, 0 ] );\n\t\t\t}\n\n\t\t\t// Resolve the animation and report its conclusion\n\t\t\tdeferred.resolveWith( elem, [ animation ] );\n\t\t\treturn false;\n\t\t},\n\t\tanimation = deferred.promise( {\n\t\t\telem: elem,\n\t\t\tprops: jQuery.extend( {}, properties ),\n\t\t\topts: jQuery.extend( true, {\n\t\t\t\tspecialEasing: {},\n\t\t\t\teasing: jQuery.easing._default\n\t\t\t}, options ),\n\t\t\toriginalProperties: properties,\n\t\t\toriginalOptions: options,\n\t\t\tstartTime: fxNow || createFxNow(),\n\t\t\tduration: options.duration,\n\t\t\ttweens: [],\n\t\t\tcreateTween: function( prop, end ) {\n\t\t\t\tvar tween = jQuery.Tween( elem, animation.opts, prop, end,\n\t\t\t\t\tanimation.opts.specialEasing[ prop ] || animation.opts.easing );\n\t\t\t\tanimation.tweens.push( tween );\n\t\t\t\treturn tween;\n\t\t\t},\n\t\t\tstop: function( gotoEnd ) {\n\t\t\t\tvar index = 0,\n\n\t\t\t\t\t// If we are going to the end, we want to run all the tweens\n\t\t\t\t\t// otherwise we skip this part\n\t\t\t\t\tlength = gotoEnd ? animation.tweens.length : 0;\n\t\t\t\tif ( stopped ) {\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t\tstopped = true;\n\t\t\t\tfor ( ; index < length; index++ ) {\n\t\t\t\t\tanimation.tweens[ index ].run( 1 );\n\t\t\t\t}\n\n\t\t\t\t// Resolve when we played the last frame; otherwise, reject\n\t\t\t\tif ( gotoEnd ) {\n\t\t\t\t\tdeferred.notifyWith( elem, [ animation, 1, 0 ] );\n\t\t\t\t\tdeferred.resolveWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t} else {\n\t\t\t\t\tdeferred.rejectWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t}\n\t\t} ),\n\t\tprops = animation.props;\n\n\tpropFilter( props, animation.opts.specialEasing );\n\n\tfor ( ; index < length; index++ ) {\n\t\tresult = Animation.prefilters[ index ].call( animation, elem, props, animation.opts );\n\t\tif ( result ) {\n\t\t\tif ( isFunction( result.stop ) ) {\n\t\t\t\tjQuery._queueHooks( animation.elem, animation.opts.queue ).stop =\n\t\t\t\t\tresult.stop.bind( result );\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t}\n\n\tjQuery.map( props, createTween, animation );\n\n\tif ( isFunction( animation.opts.start ) ) {\n\t\tanimation.opts.start.call( elem, animation );\n\t}\n\n\t// Attach callbacks from options\n\tanimation\n\t\t.progress( animation.opts.progress )\n\t\t.done( animation.opts.done, animation.opts.complete )\n\t\t.fail( animation.opts.fail )\n\t\t.always( animation.opts.always );\n\n\tjQuery.fx.timer(\n\t\tjQuery.extend( tick, {\n\t\t\telem: elem,\n\t\t\tanim: animation,\n\t\t\tqueue: animation.opts.queue\n\t\t} )\n\t);\n\n\treturn animation;\n}\n\njQuery.Animation = jQuery.extend( Animation, {\n\n\ttweeners: {\n\t\t\"*\": [ function( prop, value ) {\n\t\t\tvar tween = this.createTween( prop, value );\n\t\t\tadjustCSS( tween.elem, prop, rcssNum.exec( value ), tween );\n\t\t\treturn tween;\n\t\t} ]\n\t},\n\n\ttweener: function( props, callback ) {\n\t\tif ( isFunction( props ) ) {\n\t\t\tcallback = props;\n\t\t\tprops = [ \"*\" ];\n\t\t} else {\n\t\t\tprops = props.match( rnothtmlwhite );\n\t\t}\n\n\t\tvar prop,\n\t\t\tindex = 0,\n\t\t\tlength = props.length;\n\n\t\tfor ( ; index < length; index++ ) {\n\t\t\tprop = props[ index ];\n\t\t\tAnimation.tweeners[ prop ] = Animation.tweeners[ prop ] || [];\n\t\t\tAnimation.tweeners[ prop ].unshift( callback );\n\t\t}\n\t},\n\n\tprefilters: [ defaultPrefilter ],\n\n\tprefilter: function( callback, prepend ) {\n\t\tif ( prepend ) {\n\t\t\tAnimation.prefilters.unshift( callback );\n\t\t} else {\n\t\t\tAnimation.prefilters.push( callback );\n\t\t}\n\t}\n} );\n\njQuery.speed = function( speed, easing, fn ) {\n\tvar opt = speed && typeof speed === \"object\" ? jQuery.extend( {}, speed ) : {\n\t\tcomplete: fn || !fn && easing ||\n\t\t\tisFunction( speed ) && speed,\n\t\tduration: speed,\n\t\teasing: fn && easing || easing && !isFunction( easing ) && easing\n\t};\n\n\t// Go to the end state if fx are off\n\tif ( jQuery.fx.off ) {\n\t\topt.duration = 0;\n\n\t} else {\n\t\tif ( typeof opt.duration !== \"number\" ) {\n\t\t\tif ( opt.duration in jQuery.fx.speeds ) {\n\t\t\t\topt.duration = jQuery.fx.speeds[ opt.duration ];\n\n\t\t\t} else {\n\t\t\t\topt.duration = jQuery.fx.speeds._default;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Normalize opt.queue - true/undefined/null -> \"fx\"\n\tif ( opt.queue == null || opt.queue === true ) {\n\t\topt.queue = \"fx\";\n\t}\n\n\t// Queueing\n\topt.old = opt.complete;\n\n\topt.complete = function() {\n\t\tif ( isFunction( opt.old ) ) {\n\t\t\topt.old.call( this );\n\t\t}\n\n\t\tif ( opt.queue ) {\n\t\t\tjQuery.dequeue( this, opt.queue );\n\t\t}\n\t};\n\n\treturn opt;\n};\n\njQuery.fn.extend( {\n\tfadeTo: function( speed, to, easing, callback ) {\n\n\t\t// Show any hidden elements after setting opacity to 0\n\t\treturn this.filter( isHiddenWithinTree ).css( \"opacity\", 0 ).show()\n\n\t\t\t// Animate to the value specified\n\t\t\t.end().animate( { opacity: to }, speed, easing, callback );\n\t},\n\tanimate: function( prop, speed, easing, callback ) {\n\t\tvar empty = jQuery.isEmptyObject( prop ),\n\t\t\toptall = jQuery.speed( speed, easing, callback ),\n\t\t\tdoAnimation = function() {\n\n\t\t\t\t// Operate on a copy of prop so per-property easing won't be lost\n\t\t\t\tvar anim = Animation( this, jQuery.extend( {}, prop ), optall );\n\n\t\t\t\t// Empty animations, or finishing resolves immediately\n\t\t\t\tif ( empty || dataPriv.get( this, \"finish\" ) ) {\n\t\t\t\t\tanim.stop( true );\n\t\t\t\t}\n\t\t\t};\n\n\t\tdoAnimation.finish = doAnimation;\n\n\t\treturn empty || optall.queue === false ?\n\t\t\tthis.each( doAnimation ) :\n\t\t\tthis.queue( optall.queue, doAnimation );\n\t},\n\tstop: function( type, clearQueue, gotoEnd ) {\n\t\tvar stopQueue = function( hooks ) {\n\t\t\tvar stop = hooks.stop;\n\t\t\tdelete hooks.stop;\n\t\t\tstop( gotoEnd );\n\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tgotoEnd = clearQueue;\n\t\t\tclearQueue = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\tif ( clearQueue ) {\n\t\t\tthis.queue( type || \"fx\", [] );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar dequeue = true,\n\t\t\t\tindex = type != null && type + \"queueHooks\",\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tdata = dataPriv.get( this );\n\n\t\t\tif ( index ) {\n\t\t\t\tif ( data[ index ] && data[ index ].stop ) {\n\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( index in data ) {\n\t\t\t\t\tif ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {\n\t\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this &&\n\t\t\t\t\t( type == null || timers[ index ].queue === type ) ) {\n\n\t\t\t\t\ttimers[ index ].anim.stop( gotoEnd );\n\t\t\t\t\tdequeue = false;\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Start the next in the queue if the last step wasn't forced.\n\t\t\t// Timers currently will call their complete callbacks, which\n\t\t\t// will dequeue but only if they were gotoEnd.\n\t\t\tif ( dequeue || !gotoEnd ) {\n\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t}\n\t\t} );\n\t},\n\tfinish: function( type ) {\n\t\tif ( type !== false ) {\n\t\t\ttype = type || \"fx\";\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tvar index,\n\t\t\t\tdata = dataPriv.get( this ),\n\t\t\t\tqueue = data[ type + \"queue\" ],\n\t\t\t\thooks = data[ type + \"queueHooks\" ],\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tlength = queue ? queue.length : 0;\n\n\t\t\t// Enable finishing flag on private data\n\t\t\tdata.finish = true;\n\n\t\t\t// Empty the queue first\n\t\t\tjQuery.queue( this, type, [] );\n\n\t\t\tif ( hooks && hooks.stop ) {\n\t\t\t\thooks.stop.call( this, true );\n\t\t\t}\n\n\t\t\t// Look for any active animations, and finish them\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this && timers[ index ].queue === type ) {\n\t\t\t\t\ttimers[ index ].anim.stop( true );\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Look for any animations in the old queue and finish them\n\t\t\tfor ( index = 0; index < length; index++ ) {\n\t\t\t\tif ( queue[ index ] && queue[ index ].finish ) {\n\t\t\t\t\tqueue[ index ].finish.call( this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Turn off finishing flag\n\t\t\tdelete data.finish;\n\t\t} );\n\t}\n} );\n\njQuery.each( [ \"toggle\", \"show\", \"hide\" ], function( _i, name ) {\n\tvar cssFn = jQuery.fn[ name ];\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn speed == null || typeof speed === \"boolean\" ?\n\t\t\tcssFn.apply( this, arguments ) :\n\t\t\tthis.animate( genFx( name, true ), speed, easing, callback );\n\t};\n} );\n\n// Generate shortcuts for custom animations\njQuery.each( {\n\tslideDown: genFx( \"show\" ),\n\tslideUp: genFx( \"hide\" ),\n\tslideToggle: genFx( \"toggle\" ),\n\tfadeIn: { opacity: \"show\" },\n\tfadeOut: { opacity: \"hide\" },\n\tfadeToggle: { opacity: \"toggle\" }\n}, function( name, props ) {\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn this.animate( props, speed, easing, callback );\n\t};\n} );\n\njQuery.timers = [];\njQuery.fx.tick = function() {\n\tvar timer,\n\t\ti = 0,\n\t\ttimers = jQuery.timers;\n\n\tfxNow = Date.now();\n\n\tfor ( ; i < timers.length; i++ ) {\n\t\ttimer = timers[ i ];\n\n\t\t// Run the timer and safely remove it when done (allowing for external removal)\n\t\tif ( !timer() && timers[ i ] === timer ) {\n\t\t\ttimers.splice( i--, 1 );\n\t\t}\n\t}\n\n\tif ( !timers.length ) {\n\t\tjQuery.fx.stop();\n\t}\n\tfxNow = undefined;\n};\n\njQuery.fx.timer = function( timer ) {\n\tjQuery.timers.push( timer );\n\tjQuery.fx.start();\n};\n\njQuery.fx.interval = 13;\njQuery.fx.start = function() {\n\tif ( inProgress ) {\n\t\treturn;\n\t}\n\n\tinProgress = true;\n\tschedule();\n};\n\njQuery.fx.stop = function() {\n\tinProgress = null;\n};\n\njQuery.fx.speeds = {\n\tslow: 600,\n\tfast: 200,\n\n\t// Default speed\n\t_default: 400\n};\n\n\n// Based off of the plugin by Clint Helfers, with permission.\njQuery.fn.delay = function( time, type ) {\n\ttime = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;\n\ttype = type || \"fx\";\n\n\treturn this.queue( type, function( next, hooks ) {\n\t\tvar timeout = window.setTimeout( next, time );\n\t\thooks.stop = function() {\n\t\t\twindow.clearTimeout( timeout );\n\t\t};\n\t} );\n};\n\n\n( function() {\n\tvar input = document.createElement( \"input\" ),\n\t\tselect = document.createElement( \"select\" ),\n\t\topt = select.appendChild( document.createElement( \"option\" ) );\n\n\tinput.type = \"checkbox\";\n\n\t// Support: Android <=4.3 only\n\t// Default value for a checkbox should be \"on\"\n\tsupport.checkOn = input.value !== \"\";\n\n\t// Support: IE <=11 only\n\t// Must access selectedIndex to make default options select\n\tsupport.optSelected = opt.selected;\n\n\t// Support: IE <=11 only\n\t// An input loses its value after becoming a radio\n\tinput = document.createElement( \"input\" );\n\tinput.value = \"t\";\n\tinput.type = \"radio\";\n\tsupport.radioValue = input.value === \"t\";\n} )();\n\n\nvar boolHook,\n\tattrHandle = jQuery.expr.attrHandle;\n\njQuery.fn.extend( {\n\tattr: function( name, value ) {\n\t\treturn access( this, jQuery.attr, name, value, arguments.length > 1 );\n\t},\n\n\tremoveAttr: function( name ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.removeAttr( this, name );\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tattr: function( elem, name, value ) {\n\t\tvar ret, hooks,\n\t\t\tnType = elem.nodeType;\n\n\t\t// Don't get/set attributes on text, comment and attribute nodes\n\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Fallback to prop when attributes are not supported\n\t\tif ( typeof elem.getAttribute === \"undefined\" ) {\n\t\t\treturn jQuery.prop( elem, name, value );\n\t\t}\n\n\t\t// Attribute hooks are determined by the lowercase version\n\t\t// Grab necessary hook if one is defined\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\t\t\thooks = jQuery.attrHooks[ name.toLowerCase() ] ||\n\t\t\t\t( jQuery.expr.match.bool.test( name ) ? boolHook : undefined );\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( value === null ) {\n\t\t\t\tjQuery.removeAttr( elem, name );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( hooks && \"set\" in hooks &&\n\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\telem.setAttribute( name, value + \"\" );\n\t\t\treturn value;\n\t\t}\n\n\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\n\t\t\treturn ret;\n\t\t}\n\n\t\tret = jQuery.find.attr( elem, name );\n\n\t\t// Non-existent attributes return null, we normalize to undefined\n\t\treturn ret == null ? undefined : ret;\n\t},\n\n\tattrHooks: {\n\t\ttype: {\n\t\t\tset: function( elem, value ) {\n\t\t\t\tif ( !support.radioValue && value === \"radio\" &&\n\t\t\t\t\tnodeName( elem, \"input\" ) ) {\n\t\t\t\t\tvar val = elem.value;\n\t\t\t\t\telem.setAttribute( \"type\", value );\n\t\t\t\t\tif ( val ) {\n\t\t\t\t\t\telem.value = val;\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tremoveAttr: function( elem, value ) {\n\t\tvar name,\n\t\t\ti = 0,\n\n\t\t\t// Attribute names can contain non-HTML whitespace characters\n\t\t\t// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n\t\t\tattrNames = value && value.match( rnothtmlwhite );\n\n\t\tif ( attrNames && elem.nodeType === 1 ) {\n\t\t\twhile ( ( name = attrNames[ i++ ] ) ) {\n\t\t\t\telem.removeAttribute( name );\n\t\t\t}\n\t\t}\n\t}\n} );\n\n// Hooks for boolean attributes\nboolHook = {\n\tset: function( elem, value, name ) {\n\t\tif ( value === false ) {\n\n\t\t\t// Remove boolean attributes when set to false\n\t\t\tjQuery.removeAttr( elem, name );\n\t\t} else {\n\t\t\telem.setAttribute( name, name );\n\t\t}\n\t\treturn name;\n\t}\n};\n\njQuery.each( jQuery.expr.match.bool.source.match( /\\w+/g ), function( _i, name ) {\n\tvar getter = attrHandle[ name ] || jQuery.find.attr;\n\n\tattrHandle[ name ] = function( elem, name, isXML ) {\n\t\tvar ret, handle,\n\t\t\tlowercaseName = name.toLowerCase();\n\n\t\tif ( !isXML ) {\n\n\t\t\t// Avoid an infinite loop by temporarily removing this function from the getter\n\t\t\thandle = attrHandle[ lowercaseName ];\n\t\t\tattrHandle[ lowercaseName ] = ret;\n\t\t\tret = getter( elem, name, isXML ) != null ?\n\t\t\t\tlowercaseName :\n\t\t\t\tnull;\n\t\t\tattrHandle[ lowercaseName ] = handle;\n\t\t}\n\t\treturn ret;\n\t};\n} );\n\n\n\n\nvar rfocusable = /^(?:input|select|textarea|button)$/i,\n\trclickable = /^(?:a|area)$/i;\n\njQuery.fn.extend( {\n\tprop: function( name, value ) {\n\t\treturn access( this, jQuery.prop, name, value, arguments.length > 1 );\n\t},\n\n\tremoveProp: function( name ) {\n\t\treturn this.each( function() {\n\t\t\tdelete this[ jQuery.propFix[ name ] || name ];\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tprop: function( elem, name, value ) {\n\t\tvar ret, hooks,\n\t\t\tnType = elem.nodeType;\n\n\t\t// Don't get/set properties on text, comment and attribute nodes\n\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// Fix name and attach hooks\n\t\t\tname = jQuery.propFix[ name ] || name;\n\t\t\thooks = jQuery.propHooks[ name ];\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( hooks && \"set\" in hooks &&\n\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\treturn ( elem[ name ] = value );\n\t\t}\n\n\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\n\t\t\treturn ret;\n\t\t}\n\n\t\treturn elem[ name ];\n\t},\n\n\tpropHooks: {\n\t\ttabIndex: {\n\t\t\tget: function( elem ) {\n\n\t\t\t\t// Support: IE <=9 - 11 only\n\t\t\t\t// elem.tabIndex doesn't always return the\n\t\t\t\t// correct value when it hasn't been explicitly set\n\t\t\t\t// Use proper attribute retrieval (trac-12072)\n\t\t\t\tvar tabindex = jQuery.find.attr( elem, \"tabindex\" );\n\n\t\t\t\tif ( tabindex ) {\n\t\t\t\t\treturn parseInt( tabindex, 10 );\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\trfocusable.test( elem.nodeName ) ||\n\t\t\t\t\trclickable.test( elem.nodeName ) &&\n\t\t\t\t\telem.href\n\t\t\t\t) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t},\n\n\tpropFix: {\n\t\t\"for\": \"htmlFor\",\n\t\t\"class\": \"className\"\n\t}\n} );\n\n// Support: IE <=11 only\n// Accessing the selectedIndex property\n// forces the browser to respect setting selected\n// on the option\n// The getter ensures a default option is selected\n// when in an optgroup\n// eslint rule \"no-unused-expressions\" is disabled for this code\n// since it considers such accessions noop\nif ( !support.optSelected ) {\n\tjQuery.propHooks.selected = {\n\t\tget: function( elem ) {\n\n\t\t\t/* eslint no-unused-expressions: \"off\" */\n\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent && parent.parentNode ) {\n\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tset: function( elem ) {\n\n\t\t\t/* eslint no-unused-expressions: \"off\" */\n\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent ) {\n\t\t\t\tparent.selectedIndex;\n\n\t\t\t\tif ( parent.parentNode ) {\n\t\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\njQuery.each( [\n\t\"tabIndex\",\n\t\"readOnly\",\n\t\"maxLength\",\n\t\"cellSpacing\",\n\t\"cellPadding\",\n\t\"rowSpan\",\n\t\"colSpan\",\n\t\"useMap\",\n\t\"frameBorder\",\n\t\"contentEditable\"\n], function() {\n\tjQuery.propFix[ this.toLowerCase() ] = this;\n} );\n\n\n\n\n\t// Strip and collapse whitespace according to HTML spec\n\t// https://infra.spec.whatwg.org/#strip-and-collapse-ascii-whitespace\n\tfunction stripAndCollapse( value ) {\n\t\tvar tokens = value.match( rnothtmlwhite ) || [];\n\t\treturn tokens.join( \" \" );\n\t}\n\n\nfunction getClass( elem ) {\n\treturn elem.getAttribute && elem.getAttribute( \"class\" ) || \"\";\n}\n\nfunction classesToArray( value ) {\n\tif ( Array.isArray( value ) ) {\n\t\treturn value;\n\t}\n\tif ( typeof value === \"string\" ) {\n\t\treturn value.match( rnothtmlwhite ) || [];\n\t}\n\treturn [];\n}\n\njQuery.fn.extend( {\n\taddClass: function( value ) {\n\t\tvar classNames, cur, curValue, className, i, finalValue;\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( j ) {\n\t\t\t\tjQuery( this ).addClass( value.call( this, j, getClass( this ) ) );\n\t\t\t} );\n\t\t}\n\n\t\tclassNames = classesToArray( value );\n\n\t\tif ( classNames.length ) {\n\t\t\treturn this.each( function() {\n\t\t\t\tcurValue = getClass( this );\n\t\t\t\tcur = this.nodeType === 1 && ( \" \" + stripAndCollapse( curValue ) + \" \" );\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tfor ( i = 0; i < classNames.length; i++ ) {\n\t\t\t\t\t\tclassName = classNames[ i ];\n\t\t\t\t\t\tif ( cur.indexOf( \" \" + className + \" \" ) < 0 ) {\n\t\t\t\t\t\t\tcur += className + \" \";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = stripAndCollapse( cur );\n\t\t\t\t\tif ( curValue !== finalValue ) {\n\t\t\t\t\t\tthis.setAttribute( \"class\", finalValue );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tremoveClass: function( value ) {\n\t\tvar classNames, cur, curValue, className, i, finalValue;\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( j ) {\n\t\t\t\tjQuery( this ).removeClass( value.call( this, j, getClass( this ) ) );\n\t\t\t} );\n\t\t}\n\n\t\tif ( !arguments.length ) {\n\t\t\treturn this.attr( \"class\", \"\" );\n\t\t}\n\n\t\tclassNames = classesToArray( value );\n\n\t\tif ( classNames.length ) {\n\t\t\treturn this.each( function() {\n\t\t\t\tcurValue = getClass( this );\n\n\t\t\t\t// This expression is here for better compressibility (see addClass)\n\t\t\t\tcur = this.nodeType === 1 && ( \" \" + stripAndCollapse( curValue ) + \" \" );\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tfor ( i = 0; i < classNames.length; i++ ) {\n\t\t\t\t\t\tclassName = classNames[ i ];\n\n\t\t\t\t\t\t// Remove *all* instances\n\t\t\t\t\t\twhile ( cur.indexOf( \" \" + className + \" \" ) > -1 ) {\n\t\t\t\t\t\t\tcur = cur.replace( \" \" + className + \" \", \" \" );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = stripAndCollapse( cur );\n\t\t\t\t\tif ( curValue !== finalValue ) {\n\t\t\t\t\t\tthis.setAttribute( \"class\", finalValue );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\ttoggleClass: function( value, stateVal ) {\n\t\tvar classNames, className, i, self,\n\t\t\ttype = typeof value,\n\t\t\tisValidValue = type === \"string\" || Array.isArray( value );\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).toggleClass(\n\t\t\t\t\tvalue.call( this, i, getClass( this ), stateVal ),\n\t\t\t\t\tstateVal\n\t\t\t\t);\n\t\t\t} );\n\t\t}\n\n\t\tif ( typeof stateVal === \"boolean\" && isValidValue ) {\n\t\t\treturn stateVal ? this.addClass( value ) : this.removeClass( value );\n\t\t}\n\n\t\tclassNames = classesToArray( value );\n\n\t\treturn this.each( function() {\n\t\t\tif ( isValidValue ) {\n\n\t\t\t\t// Toggle individual class names\n\t\t\t\tself = jQuery( this );\n\n\t\t\t\tfor ( i = 0; i < classNames.length; i++ ) {\n\t\t\t\t\tclassName = classNames[ i ];\n\n\t\t\t\t\t// Check each className given, space separated list\n\t\t\t\t\tif ( self.hasClass( className ) ) {\n\t\t\t\t\t\tself.removeClass( className );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.addClass( className );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// Toggle whole class name\n\t\t\t} else if ( value === undefined || type === \"boolean\" ) {\n\t\t\t\tclassName = getClass( this );\n\t\t\t\tif ( className ) {\n\n\t\t\t\t\t// Store className if set\n\t\t\t\t\tdataPriv.set( this, \"__className__\", className );\n\t\t\t\t}\n\n\t\t\t\t// If the element has a class name or if we're passed `false`,\n\t\t\t\t// then remove the whole classname (if there was one, the above saved it).\n\t\t\t\t// Otherwise bring back whatever was previously saved (if anything),\n\t\t\t\t// falling back to the empty string if nothing was stored.\n\t\t\t\tif ( this.setAttribute ) {\n\t\t\t\t\tthis.setAttribute( \"class\",\n\t\t\t\t\t\tclassName || value === false ?\n\t\t\t\t\t\t\t\"\" :\n\t\t\t\t\t\t\tdataPriv.get( this, \"__className__\" ) || \"\"\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\thasClass: function( selector ) {\n\t\tvar className, elem,\n\t\t\ti = 0;\n\n\t\tclassName = \" \" + selector + \" \";\n\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\tif ( elem.nodeType === 1 &&\n\t\t\t\t( \" \" + stripAndCollapse( getClass( elem ) ) + \" \" ).indexOf( className ) > -1 ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n} );\n\n\n\n\nvar rreturn = /\\r/g;\n\njQuery.fn.extend( {\n\tval: function( value ) {\n\t\tvar hooks, ret, valueIsFunction,\n\t\t\telem = this[ 0 ];\n\n\t\tif ( !arguments.length ) {\n\t\t\tif ( elem ) {\n\t\t\t\thooks = jQuery.valHooks[ elem.type ] ||\n\t\t\t\t\tjQuery.valHooks[ elem.nodeName.toLowerCase() ];\n\n\t\t\t\tif ( hooks &&\n\t\t\t\t\t\"get\" in hooks &&\n\t\t\t\t\t( ret = hooks.get( elem, \"value\" ) ) !== undefined\n\t\t\t\t) {\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\n\t\t\t\tret = elem.value;\n\n\t\t\t\t// Handle most common string cases\n\t\t\t\tif ( typeof ret === \"string\" ) {\n\t\t\t\t\treturn ret.replace( rreturn, \"\" );\n\t\t\t\t}\n\n\t\t\t\t// Handle cases where value is null/undef or number\n\t\t\t\treturn ret == null ? \"\" : ret;\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tvalueIsFunction = isFunction( value );\n\n\t\treturn this.each( function( i ) {\n\t\t\tvar val;\n\n\t\t\tif ( this.nodeType !== 1 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( valueIsFunction ) {\n\t\t\t\tval = value.call( this, i, jQuery( this ).val() );\n\t\t\t} else {\n\t\t\t\tval = value;\n\t\t\t}\n\n\t\t\t// Treat null/undefined as \"\"; convert numbers to string\n\t\t\tif ( val == null ) {\n\t\t\t\tval = \"\";\n\n\t\t\t} else if ( typeof val === \"number\" ) {\n\t\t\t\tval += \"\";\n\n\t\t\t} else if ( Array.isArray( val ) ) {\n\t\t\t\tval = jQuery.map( val, function( value ) {\n\t\t\t\t\treturn value == null ? \"\" : value + \"\";\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\thooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];\n\n\t\t\t// If set returns undefined, fall back to normal setting\n\t\t\tif ( !hooks || !( \"set\" in hooks ) || hooks.set( this, val, \"value\" ) === undefined ) {\n\t\t\t\tthis.value = val;\n\t\t\t}\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tvalHooks: {\n\t\toption: {\n\t\t\tget: function( elem ) {\n\n\t\t\t\tvar val = jQuery.find.attr( elem, \"value\" );\n\t\t\t\treturn val != null ?\n\t\t\t\t\tval :\n\n\t\t\t\t\t// Support: IE <=10 - 11 only\n\t\t\t\t\t// option.text throws exceptions (trac-14686, trac-14858)\n\t\t\t\t\t// Strip and collapse whitespace\n\t\t\t\t\t// https://html.spec.whatwg.org/#strip-and-collapse-whitespace\n\t\t\t\t\tstripAndCollapse( jQuery.text( elem ) );\n\t\t\t}\n\t\t},\n\t\tselect: {\n\t\t\tget: function( elem ) {\n\t\t\t\tvar value, option, i,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tindex = elem.selectedIndex,\n\t\t\t\t\tone = elem.type === \"select-one\",\n\t\t\t\t\tvalues = one ? null : [],\n\t\t\t\t\tmax = one ? index + 1 : options.length;\n\n\t\t\t\tif ( index < 0 ) {\n\t\t\t\t\ti = max;\n\n\t\t\t\t} else {\n\t\t\t\t\ti = one ? index : 0;\n\t\t\t\t}\n\n\t\t\t\t// Loop through all the selected options\n\t\t\t\tfor ( ; i < max; i++ ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t// IE8-9 doesn't update selected after form reset (trac-2551)\n\t\t\t\t\tif ( ( option.selected || i === index ) &&\n\n\t\t\t\t\t\t\t// Don't return options that are disabled or in a disabled optgroup\n\t\t\t\t\t\t\t!option.disabled &&\n\t\t\t\t\t\t\t( !option.parentNode.disabled ||\n\t\t\t\t\t\t\t\t!nodeName( option.parentNode, \"optgroup\" ) ) ) {\n\n\t\t\t\t\t\t// Get the specific value for the option\n\t\t\t\t\t\tvalue = jQuery( option ).val();\n\n\t\t\t\t\t\t// We don't need an array for one selects\n\t\t\t\t\t\tif ( one ) {\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Multi-Selects return an array\n\t\t\t\t\t\tvalues.push( value );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn values;\n\t\t\t},\n\n\t\t\tset: function( elem, value ) {\n\t\t\t\tvar optionSet, option,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tvalues = jQuery.makeArray( value ),\n\t\t\t\t\ti = options.length;\n\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t/* eslint-disable no-cond-assign */\n\n\t\t\t\t\tif ( option.selected =\n\t\t\t\t\t\tjQuery.inArray( jQuery.valHooks.option.get( option ), values ) > -1\n\t\t\t\t\t) {\n\t\t\t\t\t\toptionSet = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t/* eslint-enable no-cond-assign */\n\t\t\t\t}\n\n\t\t\t\t// Force browsers to behave consistently when non-matching value is set\n\t\t\t\tif ( !optionSet ) {\n\t\t\t\t\telem.selectedIndex = -1;\n\t\t\t\t}\n\t\t\t\treturn values;\n\t\t\t}\n\t\t}\n\t}\n} );\n\n// Radios and checkboxes getter/setter\njQuery.each( [ \"radio\", \"checkbox\" ], function() {\n\tjQuery.valHooks[ this ] = {\n\t\tset: function( elem, value ) {\n\t\t\tif ( Array.isArray( value ) ) {\n\t\t\t\treturn ( elem.checked = jQuery.inArray( jQuery( elem ).val(), value ) > -1 );\n\t\t\t}\n\t\t}\n\t};\n\tif ( !support.checkOn ) {\n\t\tjQuery.valHooks[ this ].get = function( elem ) {\n\t\t\treturn elem.getAttribute( \"value\" ) === null ? \"on\" : elem.value;\n\t\t};\n\t}\n} );\n\n\n\n\n// Return jQuery for attributes-only inclusion\nvar location = window.location;\n\nvar nonce = { guid: Date.now() };\n\nvar rquery = ( /\\?/ );\n\n\n\n// Cross-browser xml parsing\njQuery.parseXML = function( data ) {\n\tvar xml, parserErrorElem;\n\tif ( !data || typeof data !== \"string\" ) {\n\t\treturn null;\n\t}\n\n\t// Support: IE 9 - 11 only\n\t// IE throws on parseFromString with invalid input.\n\ttry {\n\t\txml = ( new window.DOMParser() ).parseFromString( data, \"text/xml\" );\n\t} catch ( e ) {}\n\n\tparserErrorElem = xml && xml.getElementsByTagName( \"parsererror\" )[ 0 ];\n\tif ( !xml || parserErrorElem ) {\n\t\tjQuery.error( \"Invalid XML: \" + (\n\t\t\tparserErrorElem ?\n\t\t\t\tjQuery.map( parserErrorElem.childNodes, function( el ) {\n\t\t\t\t\treturn el.textContent;\n\t\t\t\t} ).join( \"\\n\" ) :\n\t\t\t\tdata\n\t\t) );\n\t}\n\treturn xml;\n};\n\n\nvar rfocusMorph = /^(?:focusinfocus|focusoutblur)$/,\n\tstopPropagationCallback = function( e ) {\n\t\te.stopPropagation();\n\t};\n\njQuery.extend( jQuery.event, {\n\n\ttrigger: function( event, data, elem, onlyHandlers ) {\n\n\t\tvar i, cur, tmp, bubbleType, ontype, handle, special, lastElement,\n\t\t\teventPath = [ elem || document ],\n\t\t\ttype = hasOwn.call( event, \"type\" ) ? event.type : event,\n\t\t\tnamespaces = hasOwn.call( event, \"namespace\" ) ? event.namespace.split( \".\" ) : [];\n\n\t\tcur = lastElement = tmp = elem = elem || document;\n\n\t\t// Don't do events on text and comment nodes\n\t\tif ( elem.nodeType === 3 || elem.nodeType === 8 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// focus/blur morphs to focusin/out; ensure we're not firing them right now\n\t\tif ( rfocusMorph.test( type + jQuery.event.triggered ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( type.indexOf( \".\" ) > -1 ) {\n\n\t\t\t// Namespaced trigger; create a regexp to match event type in handle()\n\t\t\tnamespaces = type.split( \".\" );\n\t\t\ttype = namespaces.shift();\n\t\t\tnamespaces.sort();\n\t\t}\n\t\tontype = type.indexOf( \":\" ) < 0 && \"on\" + type;\n\n\t\t// Caller can pass in a jQuery.Event object, Object, or just an event type string\n\t\tevent = event[ jQuery.expando ] ?\n\t\t\tevent :\n\t\t\tnew jQuery.Event( type, typeof event === \"object\" && event );\n\n\t\t// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)\n\t\tevent.isTrigger = onlyHandlers ? 2 : 3;\n\t\tevent.namespace = namespaces.join( \".\" );\n\t\tevent.rnamespace = event.namespace ?\n\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" ) :\n\t\t\tnull;\n\n\t\t// Clean up the event in case it is being reused\n\t\tevent.result = undefined;\n\t\tif ( !event.target ) {\n\t\t\tevent.target = elem;\n\t\t}\n\n\t\t// Clone any incoming data and prepend the event, creating the handler arg list\n\t\tdata = data == null ?\n\t\t\t[ event ] :\n\t\t\tjQuery.makeArray( data, [ event ] );\n\n\t\t// Allow special events to draw outside the lines\n\t\tspecial = jQuery.event.special[ type ] || {};\n\t\tif ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine event propagation path in advance, per W3C events spec (trac-9951)\n\t\t// Bubble up to document, then to window; watch for a global ownerDocument var (trac-9724)\n\t\tif ( !onlyHandlers && !special.noBubble && !isWindow( elem ) ) {\n\n\t\t\tbubbleType = special.delegateType || type;\n\t\t\tif ( !rfocusMorph.test( bubbleType + type ) ) {\n\t\t\t\tcur = cur.parentNode;\n\t\t\t}\n\t\t\tfor ( ; cur; cur = cur.parentNode ) {\n\t\t\t\teventPath.push( cur );\n\t\t\t\ttmp = cur;\n\t\t\t}\n\n\t\t\t// Only add window if we got to document (e.g., not plain obj or detached DOM)\n\t\t\tif ( tmp === ( elem.ownerDocument || document ) ) {\n\t\t\t\teventPath.push( tmp.defaultView || tmp.parentWindow || window );\n\t\t\t}\n\t\t}\n\n\t\t// Fire handlers on the event path\n\t\ti = 0;\n\t\twhile ( ( cur = eventPath[ i++ ] ) && !event.isPropagationStopped() ) {\n\t\t\tlastElement = cur;\n\t\t\tevent.type = i > 1 ?\n\t\t\t\tbubbleType :\n\t\t\t\tspecial.bindType || type;\n\n\t\t\t// jQuery handler\n\t\t\thandle = ( dataPriv.get( cur, \"events\" ) || Object.create( null ) )[ event.type ] &&\n\t\t\t\tdataPriv.get( cur, \"handle\" );\n\t\t\tif ( handle ) {\n\t\t\t\thandle.apply( cur, data );\n\t\t\t}\n\n\t\t\t// Native handler\n\t\t\thandle = ontype && cur[ ontype ];\n\t\t\tif ( handle && handle.apply && acceptData( cur ) ) {\n\t\t\t\tevent.result = handle.apply( cur, data );\n\t\t\t\tif ( event.result === false ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tevent.type = type;\n\n\t\t// If nobody prevented the default action, do it now\n\t\tif ( !onlyHandlers && !event.isDefaultPrevented() ) {\n\n\t\t\tif ( ( !special._default ||\n\t\t\t\tspecial._default.apply( eventPath.pop(), data ) === false ) &&\n\t\t\t\tacceptData( elem ) ) {\n\n\t\t\t\t// Call a native DOM method on the target with the same name as the event.\n\t\t\t\t// Don't do default actions on window, that's where global variables be (trac-6170)\n\t\t\t\tif ( ontype && isFunction( elem[ type ] ) && !isWindow( elem ) ) {\n\n\t\t\t\t\t// Don't re-trigger an onFOO event when we call its FOO() method\n\t\t\t\t\ttmp = elem[ ontype ];\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = null;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prevent re-triggering of the same event, since we already bubbled it above\n\t\t\t\t\tjQuery.event.triggered = type;\n\n\t\t\t\t\tif ( event.isPropagationStopped() ) {\n\t\t\t\t\t\tlastElement.addEventListener( type, stopPropagationCallback );\n\t\t\t\t\t}\n\n\t\t\t\t\telem[ type ]();\n\n\t\t\t\t\tif ( event.isPropagationStopped() ) {\n\t\t\t\t\t\tlastElement.removeEventListener( type, stopPropagationCallback );\n\t\t\t\t\t}\n\n\t\t\t\t\tjQuery.event.triggered = undefined;\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\t// Piggyback on a donor event to simulate a different one\n\t// Used only for `focus(in | out)` events\n\tsimulate: function( type, elem, event ) {\n\t\tvar e = jQuery.extend(\n\t\t\tnew jQuery.Event(),\n\t\t\tevent,\n\t\t\t{\n\t\t\t\ttype: type,\n\t\t\t\tisSimulated: true\n\t\t\t}\n\t\t);\n\n\t\tjQuery.event.trigger( e, null, elem );\n\t}\n\n} );\n\njQuery.fn.extend( {\n\n\ttrigger: function( type, data ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.trigger( type, data, this );\n\t\t} );\n\t},\n\ttriggerHandler: function( type, data ) {\n\t\tvar elem = this[ 0 ];\n\t\tif ( elem ) {\n\t\t\treturn jQuery.event.trigger( type, data, elem, true );\n\t\t}\n\t}\n} );\n\n\nvar\n\trbracket = /\\[\\]$/,\n\trCRLF = /\\r?\\n/g,\n\trsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,\n\trsubmittable = /^(?:input|select|textarea|keygen)/i;\n\nfunction buildParams( prefix, obj, traditional, add ) {\n\tvar name;\n\n\tif ( Array.isArray( obj ) ) {\n\n\t\t// Serialize array item.\n\t\tjQuery.each( obj, function( i, v ) {\n\t\t\tif ( traditional || rbracket.test( prefix ) ) {\n\n\t\t\t\t// Treat each array item as a scalar.\n\t\t\t\tadd( prefix, v );\n\n\t\t\t} else {\n\n\t\t\t\t// Item is non-scalar (array or object), encode its numeric index.\n\t\t\t\tbuildParams(\n\t\t\t\t\tprefix + \"[\" + ( typeof v === \"object\" && v != null ? i : \"\" ) + \"]\",\n\t\t\t\t\tv,\n\t\t\t\t\ttraditional,\n\t\t\t\t\tadd\n\t\t\t\t);\n\t\t\t}\n\t\t} );\n\n\t} else if ( !traditional && toType( obj ) === \"object\" ) {\n\n\t\t// Serialize object item.\n\t\tfor ( name in obj ) {\n\t\t\tbuildParams( prefix + \"[\" + name + \"]\", obj[ name ], traditional, add );\n\t\t}\n\n\t} else {\n\n\t\t// Serialize scalar item.\n\t\tadd( prefix, obj );\n\t}\n}\n\n// Serialize an array of form elements or a set of\n// key/values into a query string\njQuery.param = function( a, traditional ) {\n\tvar prefix,\n\t\ts = [],\n\t\tadd = function( key, valueOrFunction ) {\n\n\t\t\t// If value is a function, invoke it and use its return value\n\t\t\tvar value = isFunction( valueOrFunction ) ?\n\t\t\t\tvalueOrFunction() :\n\t\t\t\tvalueOrFunction;\n\n\t\t\ts[ s.length ] = encodeURIComponent( key ) + \"=\" +\n\t\t\t\tencodeURIComponent( value == null ? \"\" : value );\n\t\t};\n\n\tif ( a == null ) {\n\t\treturn \"\";\n\t}\n\n\t// If an array was passed in, assume that it is an array of form elements.\n\tif ( Array.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {\n\n\t\t// Serialize the form elements\n\t\tjQuery.each( a, function() {\n\t\t\tadd( this.name, this.value );\n\t\t} );\n\n\t} else {\n\n\t\t// If traditional, encode the \"old\" way (the way 1.3.2 or older\n\t\t// did it), otherwise encode params recursively.\n\t\tfor ( prefix in a ) {\n\t\t\tbuildParams( prefix, a[ prefix ], traditional, add );\n\t\t}\n\t}\n\n\t// Return the resulting serialization\n\treturn s.join( \"&\" );\n};\n\njQuery.fn.extend( {\n\tserialize: function() {\n\t\treturn jQuery.param( this.serializeArray() );\n\t},\n\tserializeArray: function() {\n\t\treturn this.map( function() {\n\n\t\t\t// Can add propHook for \"elements\" to filter or add form elements\n\t\t\tvar elements = jQuery.prop( this, \"elements\" );\n\t\t\treturn elements ? jQuery.makeArray( elements ) : this;\n\t\t} ).filter( function() {\n\t\t\tvar type = this.type;\n\n\t\t\t// Use .is( \":disabled\" ) so that fieldset[disabled] works\n\t\t\treturn this.name && !jQuery( this ).is( \":disabled\" ) &&\n\t\t\t\trsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&\n\t\t\t\t( this.checked || !rcheckableType.test( type ) );\n\t\t} ).map( function( _i, elem ) {\n\t\t\tvar val = jQuery( this ).val();\n\n\t\t\tif ( val == null ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif ( Array.isArray( val ) ) {\n\t\t\t\treturn jQuery.map( val, function( val ) {\n\t\t\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t} ).get();\n\t}\n} );\n\n\nvar\n\tr20 = /%20/g,\n\trhash = /#.*$/,\n\trantiCache = /([?&])_=[^&]*/,\n\trheaders = /^(.*?):[ \\t]*([^\\r\\n]*)$/mg,\n\n\t// trac-7653, trac-8125, trac-8152: local protocol detection\n\trlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,\n\trnoContent = /^(?:GET|HEAD)$/,\n\trprotocol = /^\\/\\//,\n\n\t/* Prefilters\n\t * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)\n\t * 2) These are called:\n\t *    - BEFORE asking for a transport\n\t *    - AFTER param serialization (s.data is a string if s.processData is true)\n\t * 3) key is the dataType\n\t * 4) the catchall symbol \"*\" can be used\n\t * 5) execution will start with transport dataType and THEN continue down to \"*\" if needed\n\t */\n\tprefilters = {},\n\n\t/* Transports bindings\n\t * 1) key is the dataType\n\t * 2) the catchall symbol \"*\" can be used\n\t * 3) selection will start with transport dataType and THEN go to \"*\" if needed\n\t */\n\ttransports = {},\n\n\t// Avoid comment-prolog char sequence (trac-10098); must appease lint and evade compression\n\tallTypes = \"*/\".concat( \"*\" ),\n\n\t// Anchor tag for parsing the document origin\n\toriginAnchor = document.createElement( \"a\" );\n\noriginAnchor.href = location.href;\n\n// Base \"constructor\" for jQuery.ajaxPrefilter and jQuery.ajaxTransport\nfunction addToPrefiltersOrTransports( structure ) {\n\n\t// dataTypeExpression is optional and defaults to \"*\"\n\treturn function( dataTypeExpression, func ) {\n\n\t\tif ( typeof dataTypeExpression !== \"string\" ) {\n\t\t\tfunc = dataTypeExpression;\n\t\t\tdataTypeExpression = \"*\";\n\t\t}\n\n\t\tvar dataType,\n\t\t\ti = 0,\n\t\t\tdataTypes = dataTypeExpression.toLowerCase().match( rnothtmlwhite ) || [];\n\n\t\tif ( isFunction( func ) ) {\n\n\t\t\t// For each dataType in the dataTypeExpression\n\t\t\twhile ( ( dataType = dataTypes[ i++ ] ) ) {\n\n\t\t\t\t// Prepend if requested\n\t\t\t\tif ( dataType[ 0 ] === \"+\" ) {\n\t\t\t\t\tdataType = dataType.slice( 1 ) || \"*\";\n\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).unshift( func );\n\n\t\t\t\t// Otherwise append\n\t\t\t\t} else {\n\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).push( func );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\n// Base inspection function for prefilters and transports\nfunction inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {\n\n\tvar inspected = {},\n\t\tseekingTransport = ( structure === transports );\n\n\tfunction inspect( dataType ) {\n\t\tvar selected;\n\t\tinspected[ dataType ] = true;\n\t\tjQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {\n\t\t\tvar dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );\n\t\t\tif ( typeof dataTypeOrTransport === \"string\" &&\n\t\t\t\t!seekingTransport && !inspected[ dataTypeOrTransport ] ) {\n\n\t\t\t\toptions.dataTypes.unshift( dataTypeOrTransport );\n\t\t\t\tinspect( dataTypeOrTransport );\n\t\t\t\treturn false;\n\t\t\t} else if ( seekingTransport ) {\n\t\t\t\treturn !( selected = dataTypeOrTransport );\n\t\t\t}\n\t\t} );\n\t\treturn selected;\n\t}\n\n\treturn inspect( options.dataTypes[ 0 ] ) || !inspected[ \"*\" ] && inspect( \"*\" );\n}\n\n// A special extend for ajax options\n// that takes \"flat\" options (not to be deep extended)\n// Fixes trac-9887\nfunction ajaxExtend( target, src ) {\n\tvar key, deep,\n\t\tflatOptions = jQuery.ajaxSettings.flatOptions || {};\n\n\tfor ( key in src ) {\n\t\tif ( src[ key ] !== undefined ) {\n\t\t\t( flatOptions[ key ] ? target : ( deep || ( deep = {} ) ) )[ key ] = src[ key ];\n\t\t}\n\t}\n\tif ( deep ) {\n\t\tjQuery.extend( true, target, deep );\n\t}\n\n\treturn target;\n}\n\n/* Handles responses to an ajax request:\n * - finds the right dataType (mediates between content-type and expected dataType)\n * - returns the corresponding response\n */\nfunction ajaxHandleResponses( s, jqXHR, responses ) {\n\n\tvar ct, type, finalDataType, firstDataType,\n\t\tcontents = s.contents,\n\t\tdataTypes = s.dataTypes;\n\n\t// Remove auto dataType and get content-type in the process\n\twhile ( dataTypes[ 0 ] === \"*\" ) {\n\t\tdataTypes.shift();\n\t\tif ( ct === undefined ) {\n\t\t\tct = s.mimeType || jqXHR.getResponseHeader( \"Content-Type\" );\n\t\t}\n\t}\n\n\t// Check if we're dealing with a known content-type\n\tif ( ct ) {\n\t\tfor ( type in contents ) {\n\t\t\tif ( contents[ type ] && contents[ type ].test( ct ) ) {\n\t\t\t\tdataTypes.unshift( type );\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Check to see if we have a response for the expected dataType\n\tif ( dataTypes[ 0 ] in responses ) {\n\t\tfinalDataType = dataTypes[ 0 ];\n\t} else {\n\n\t\t// Try convertible dataTypes\n\t\tfor ( type in responses ) {\n\t\t\tif ( !dataTypes[ 0 ] || s.converters[ type + \" \" + dataTypes[ 0 ] ] ) {\n\t\t\t\tfinalDataType = type;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( !firstDataType ) {\n\t\t\t\tfirstDataType = type;\n\t\t\t}\n\t\t}\n\n\t\t// Or just use first one\n\t\tfinalDataType = finalDataType || firstDataType;\n\t}\n\n\t// If we found a dataType\n\t// We add the dataType to the list if needed\n\t// and return the corresponding response\n\tif ( finalDataType ) {\n\t\tif ( finalDataType !== dataTypes[ 0 ] ) {\n\t\t\tdataTypes.unshift( finalDataType );\n\t\t}\n\t\treturn responses[ finalDataType ];\n\t}\n}\n\n/* Chain conversions given the request and the original response\n * Also sets the responseXXX fields on the jqXHR instance\n */\nfunction ajaxConvert( s, response, jqXHR, isSuccess ) {\n\tvar conv2, current, conv, tmp, prev,\n\t\tconverters = {},\n\n\t\t// Work with a copy of dataTypes in case we need to modify it for conversion\n\t\tdataTypes = s.dataTypes.slice();\n\n\t// Create converters map with lowercased keys\n\tif ( dataTypes[ 1 ] ) {\n\t\tfor ( conv in s.converters ) {\n\t\t\tconverters[ conv.toLowerCase() ] = s.converters[ conv ];\n\t\t}\n\t}\n\n\tcurrent = dataTypes.shift();\n\n\t// Convert to each sequential dataType\n\twhile ( current ) {\n\n\t\tif ( s.responseFields[ current ] ) {\n\t\t\tjqXHR[ s.responseFields[ current ] ] = response;\n\t\t}\n\n\t\t// Apply the dataFilter if provided\n\t\tif ( !prev && isSuccess && s.dataFilter ) {\n\t\t\tresponse = s.dataFilter( response, s.dataType );\n\t\t}\n\n\t\tprev = current;\n\t\tcurrent = dataTypes.shift();\n\n\t\tif ( current ) {\n\n\t\t\t// There's only work to do if current dataType is non-auto\n\t\t\tif ( current === \"*\" ) {\n\n\t\t\t\tcurrent = prev;\n\n\t\t\t// Convert response if prev dataType is non-auto and differs from current\n\t\t\t} else if ( prev !== \"*\" && prev !== current ) {\n\n\t\t\t\t// Seek a direct converter\n\t\t\t\tconv = converters[ prev + \" \" + current ] || converters[ \"* \" + current ];\n\n\t\t\t\t// If none found, seek a pair\n\t\t\t\tif ( !conv ) {\n\t\t\t\t\tfor ( conv2 in converters ) {\n\n\t\t\t\t\t\t// If conv2 outputs current\n\t\t\t\t\t\ttmp = conv2.split( \" \" );\n\t\t\t\t\t\tif ( tmp[ 1 ] === current ) {\n\n\t\t\t\t\t\t\t// If prev can be converted to accepted input\n\t\t\t\t\t\t\tconv = converters[ prev + \" \" + tmp[ 0 ] ] ||\n\t\t\t\t\t\t\t\tconverters[ \"* \" + tmp[ 0 ] ];\n\t\t\t\t\t\t\tif ( conv ) {\n\n\t\t\t\t\t\t\t\t// Condense equivalence converters\n\t\t\t\t\t\t\t\tif ( conv === true ) {\n\t\t\t\t\t\t\t\t\tconv = converters[ conv2 ];\n\n\t\t\t\t\t\t\t\t// Otherwise, insert the intermediate dataType\n\t\t\t\t\t\t\t\t} else if ( converters[ conv2 ] !== true ) {\n\t\t\t\t\t\t\t\t\tcurrent = tmp[ 0 ];\n\t\t\t\t\t\t\t\t\tdataTypes.unshift( tmp[ 1 ] );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Apply converter (if not an equivalence)\n\t\t\t\tif ( conv !== true ) {\n\n\t\t\t\t\t// Unless errors are allowed to bubble, catch and return them\n\t\t\t\t\tif ( conv && s.throws ) {\n\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t\t} catch ( e ) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tstate: \"parsererror\",\n\t\t\t\t\t\t\t\terror: conv ? e : \"No conversion from \" + prev + \" to \" + current\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn { state: \"success\", data: response };\n}\n\njQuery.extend( {\n\n\t// Counter for holding the number of active queries\n\tactive: 0,\n\n\t// Last-Modified header cache for next request\n\tlastModified: {},\n\tetag: {},\n\n\tajaxSettings: {\n\t\turl: location.href,\n\t\ttype: \"GET\",\n\t\tisLocal: rlocalProtocol.test( location.protocol ),\n\t\tglobal: true,\n\t\tprocessData: true,\n\t\tasync: true,\n\t\tcontentType: \"application/x-www-form-urlencoded; charset=UTF-8\",\n\n\t\t/*\n\t\ttimeout: 0,\n\t\tdata: null,\n\t\tdataType: null,\n\t\tusername: null,\n\t\tpassword: null,\n\t\tcache: null,\n\t\tthrows: false,\n\t\ttraditional: false,\n\t\theaders: {},\n\t\t*/\n\n\t\taccepts: {\n\t\t\t\"*\": allTypes,\n\t\t\ttext: \"text/plain\",\n\t\t\thtml: \"text/html\",\n\t\t\txml: \"application/xml, text/xml\",\n\t\t\tjson: \"application/json, text/javascript\"\n\t\t},\n\n\t\tcontents: {\n\t\t\txml: /\\bxml\\b/,\n\t\t\thtml: /\\bhtml/,\n\t\t\tjson: /\\bjson\\b/\n\t\t},\n\n\t\tresponseFields: {\n\t\t\txml: \"responseXML\",\n\t\t\ttext: \"responseText\",\n\t\t\tjson: \"responseJSON\"\n\t\t},\n\n\t\t// Data converters\n\t\t// Keys separate source (or catchall \"*\") and destination types with a single space\n\t\tconverters: {\n\n\t\t\t// Convert anything to text\n\t\t\t\"* text\": String,\n\n\t\t\t// Text to html (true = no transformation)\n\t\t\t\"text html\": true,\n\n\t\t\t// Evaluate text as a json expression\n\t\t\t\"text json\": JSON.parse,\n\n\t\t\t// Parse text as xml\n\t\t\t\"text xml\": jQuery.parseXML\n\t\t},\n\n\t\t// For options that shouldn't be deep extended:\n\t\t// you can add your own custom options here if\n\t\t// and when you create one that shouldn't be\n\t\t// deep extended (see ajaxExtend)\n\t\tflatOptions: {\n\t\t\turl: true,\n\t\t\tcontext: true\n\t\t}\n\t},\n\n\t// Creates a full fledged settings object into target\n\t// with both ajaxSettings and settings fields.\n\t// If target is omitted, writes into ajaxSettings.\n\tajaxSetup: function( target, settings ) {\n\t\treturn settings ?\n\n\t\t\t// Building a settings object\n\t\t\tajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :\n\n\t\t\t// Extending ajaxSettings\n\t\t\tajaxExtend( jQuery.ajaxSettings, target );\n\t},\n\n\tajaxPrefilter: addToPrefiltersOrTransports( prefilters ),\n\tajaxTransport: addToPrefiltersOrTransports( transports ),\n\n\t// Main method\n\tajax: function( url, options ) {\n\n\t\t// If url is an object, simulate pre-1.5 signature\n\t\tif ( typeof url === \"object\" ) {\n\t\t\toptions = url;\n\t\t\turl = undefined;\n\t\t}\n\n\t\t// Force options to be an object\n\t\toptions = options || {};\n\n\t\tvar transport,\n\n\t\t\t// URL without anti-cache param\n\t\t\tcacheURL,\n\n\t\t\t// Response headers\n\t\t\tresponseHeadersString,\n\t\t\tresponseHeaders,\n\n\t\t\t// timeout handle\n\t\t\ttimeoutTimer,\n\n\t\t\t// Url cleanup var\n\t\t\turlAnchor,\n\n\t\t\t// Request state (becomes false upon send and true upon completion)\n\t\t\tcompleted,\n\n\t\t\t// To know if global events are to be dispatched\n\t\t\tfireGlobals,\n\n\t\t\t// Loop variable\n\t\t\ti,\n\n\t\t\t// uncached part of the url\n\t\t\tuncached,\n\n\t\t\t// Create the final options object\n\t\t\ts = jQuery.ajaxSetup( {}, options ),\n\n\t\t\t// Callbacks context\n\t\t\tcallbackContext = s.context || s,\n\n\t\t\t// Context for global events is callbackContext if it is a DOM node or jQuery collection\n\t\t\tglobalEventContext = s.context &&\n\t\t\t\t( callbackContext.nodeType || callbackContext.jquery ) ?\n\t\t\t\tjQuery( callbackContext ) :\n\t\t\t\tjQuery.event,\n\n\t\t\t// Deferreds\n\t\t\tdeferred = jQuery.Deferred(),\n\t\t\tcompleteDeferred = jQuery.Callbacks( \"once memory\" ),\n\n\t\t\t// Status-dependent callbacks\n\t\t\tstatusCode = s.statusCode || {},\n\n\t\t\t// Headers (they are sent all at once)\n\t\t\trequestHeaders = {},\n\t\t\trequestHeadersNames = {},\n\n\t\t\t// Default abort message\n\t\t\tstrAbort = \"canceled\",\n\n\t\t\t// Fake xhr\n\t\t\tjqXHR = {\n\t\t\t\treadyState: 0,\n\n\t\t\t\t// Builds headers hashtable if needed\n\t\t\t\tgetResponseHeader: function( key ) {\n\t\t\t\t\tvar match;\n\t\t\t\t\tif ( completed ) {\n\t\t\t\t\t\tif ( !responseHeaders ) {\n\t\t\t\t\t\t\tresponseHeaders = {};\n\t\t\t\t\t\t\twhile ( ( match = rheaders.exec( responseHeadersString ) ) ) {\n\t\t\t\t\t\t\t\tresponseHeaders[ match[ 1 ].toLowerCase() + \" \" ] =\n\t\t\t\t\t\t\t\t\t( responseHeaders[ match[ 1 ].toLowerCase() + \" \" ] || [] )\n\t\t\t\t\t\t\t\t\t\t.concat( match[ 2 ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmatch = responseHeaders[ key.toLowerCase() + \" \" ];\n\t\t\t\t\t}\n\t\t\t\t\treturn match == null ? null : match.join( \", \" );\n\t\t\t\t},\n\n\t\t\t\t// Raw string\n\t\t\t\tgetAllResponseHeaders: function() {\n\t\t\t\t\treturn completed ? responseHeadersString : null;\n\t\t\t\t},\n\n\t\t\t\t// Caches the header\n\t\t\t\tsetRequestHeader: function( name, value ) {\n\t\t\t\t\tif ( completed == null ) {\n\t\t\t\t\t\tname = requestHeadersNames[ name.toLowerCase() ] =\n\t\t\t\t\t\t\trequestHeadersNames[ name.toLowerCase() ] || name;\n\t\t\t\t\t\trequestHeaders[ name ] = value;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Overrides response content-type header\n\t\t\t\toverrideMimeType: function( type ) {\n\t\t\t\t\tif ( completed == null ) {\n\t\t\t\t\t\ts.mimeType = type;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Status-dependent callbacks\n\t\t\t\tstatusCode: function( map ) {\n\t\t\t\t\tvar code;\n\t\t\t\t\tif ( map ) {\n\t\t\t\t\t\tif ( completed ) {\n\n\t\t\t\t\t\t\t// Execute the appropriate callbacks\n\t\t\t\t\t\t\tjqXHR.always( map[ jqXHR.status ] );\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Lazy-add the new callbacks in a way that preserves old ones\n\t\t\t\t\t\t\tfor ( code in map ) {\n\t\t\t\t\t\t\t\tstatusCode[ code ] = [ statusCode[ code ], map[ code ] ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Cancel the request\n\t\t\t\tabort: function( statusText ) {\n\t\t\t\t\tvar finalText = statusText || strAbort;\n\t\t\t\t\tif ( transport ) {\n\t\t\t\t\t\ttransport.abort( finalText );\n\t\t\t\t\t}\n\t\t\t\t\tdone( 0, finalText );\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t};\n\n\t\t// Attach deferreds\n\t\tdeferred.promise( jqXHR );\n\n\t\t// Add protocol if not provided (prefilters might expect it)\n\t\t// Handle falsy url in the settings object (trac-10093: consistency with old signature)\n\t\t// We also use the url parameter if available\n\t\ts.url = ( ( url || s.url || location.href ) + \"\" )\n\t\t\t.replace( rprotocol, location.protocol + \"//\" );\n\n\t\t// Alias method option to type as per ticket trac-12004\n\t\ts.type = options.method || options.type || s.method || s.type;\n\n\t\t// Extract dataTypes list\n\t\ts.dataTypes = ( s.dataType || \"*\" ).toLowerCase().match( rnothtmlwhite ) || [ \"\" ];\n\n\t\t// A cross-domain request is in order when the origin doesn't match the current origin.\n\t\tif ( s.crossDomain == null ) {\n\t\t\turlAnchor = document.createElement( \"a\" );\n\n\t\t\t// Support: IE <=8 - 11, Edge 12 - 15\n\t\t\t// IE throws exception on accessing the href property if url is malformed,\n\t\t\t// e.g. http://example.com:80x/\n\t\t\ttry {\n\t\t\t\turlAnchor.href = s.url;\n\n\t\t\t\t// Support: IE <=8 - 11 only\n\t\t\t\t// Anchor's host property isn't correctly set when s.url is relative\n\t\t\t\turlAnchor.href = urlAnchor.href;\n\t\t\t\ts.crossDomain = originAnchor.protocol + \"//\" + originAnchor.host !==\n\t\t\t\t\turlAnchor.protocol + \"//\" + urlAnchor.host;\n\t\t\t} catch ( e ) {\n\n\t\t\t\t// If there is an error parsing the URL, assume it is crossDomain,\n\t\t\t\t// it can be rejected by the transport if it is invalid\n\t\t\t\ts.crossDomain = true;\n\t\t\t}\n\t\t}\n\n\t\t// Convert data if not already a string\n\t\tif ( s.data && s.processData && typeof s.data !== \"string\" ) {\n\t\t\ts.data = jQuery.param( s.data, s.traditional );\n\t\t}\n\n\t\t// Apply prefilters\n\t\tinspectPrefiltersOrTransports( prefilters, s, options, jqXHR );\n\n\t\t// If request was aborted inside a prefilter, stop there\n\t\tif ( completed ) {\n\t\t\treturn jqXHR;\n\t\t}\n\n\t\t// We can fire global events as of now if asked to\n\t\t// Don't fire events if jQuery.event is undefined in an AMD-usage scenario (trac-15118)\n\t\tfireGlobals = jQuery.event && s.global;\n\n\t\t// Watch for a new set of requests\n\t\tif ( fireGlobals && jQuery.active++ === 0 ) {\n\t\t\tjQuery.event.trigger( \"ajaxStart\" );\n\t\t}\n\n\t\t// Uppercase the type\n\t\ts.type = s.type.toUpperCase();\n\n\t\t// Determine if request has content\n\t\ts.hasContent = !rnoContent.test( s.type );\n\n\t\t// Save the URL in case we're toying with the If-Modified-Since\n\t\t// and/or If-None-Match header later on\n\t\t// Remove hash to simplify url manipulation\n\t\tcacheURL = s.url.replace( rhash, \"\" );\n\n\t\t// More options handling for requests with no content\n\t\tif ( !s.hasContent ) {\n\n\t\t\t// Remember the hash so we can put it back\n\t\t\tuncached = s.url.slice( cacheURL.length );\n\n\t\t\t// If data is available and should be processed, append data to url\n\t\t\tif ( s.data && ( s.processData || typeof s.data === \"string\" ) ) {\n\t\t\t\tcacheURL += ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + s.data;\n\n\t\t\t\t// trac-9682: remove data so that it's not used in an eventual retry\n\t\t\t\tdelete s.data;\n\t\t\t}\n\n\t\t\t// Add or update anti-cache param if needed\n\t\t\tif ( s.cache === false ) {\n\t\t\t\tcacheURL = cacheURL.replace( rantiCache, \"$1\" );\n\t\t\t\tuncached = ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + \"_=\" + ( nonce.guid++ ) +\n\t\t\t\t\tuncached;\n\t\t\t}\n\n\t\t\t// Put hash and anti-cache on the URL that will be requested (gh-1732)\n\t\t\ts.url = cacheURL + uncached;\n\n\t\t// Change '%20' to '+' if this is encoded form body content (gh-2658)\n\t\t} else if ( s.data && s.processData &&\n\t\t\t( s.contentType || \"\" ).indexOf( \"application/x-www-form-urlencoded\" ) === 0 ) {\n\t\t\ts.data = s.data.replace( r20, \"+\" );\n\t\t}\n\n\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\tif ( s.ifModified ) {\n\t\t\tif ( jQuery.lastModified[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-Modified-Since\", jQuery.lastModified[ cacheURL ] );\n\t\t\t}\n\t\t\tif ( jQuery.etag[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-None-Match\", jQuery.etag[ cacheURL ] );\n\t\t\t}\n\t\t}\n\n\t\t// Set the correct header, if data is being sent\n\t\tif ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {\n\t\t\tjqXHR.setRequestHeader( \"Content-Type\", s.contentType );\n\t\t}\n\n\t\t// Set the Accepts header for the server, depending on the dataType\n\t\tjqXHR.setRequestHeader(\n\t\t\t\"Accept\",\n\t\t\ts.dataTypes[ 0 ] && s.accepts[ s.dataTypes[ 0 ] ] ?\n\t\t\t\ts.accepts[ s.dataTypes[ 0 ] ] +\n\t\t\t\t\t( s.dataTypes[ 0 ] !== \"*\" ? \", \" + allTypes + \"; q=0.01\" : \"\" ) :\n\t\t\t\ts.accepts[ \"*\" ]\n\t\t);\n\n\t\t// Check for headers option\n\t\tfor ( i in s.headers ) {\n\t\t\tjqXHR.setRequestHeader( i, s.headers[ i ] );\n\t\t}\n\n\t\t// Allow custom headers/mimetypes and early abort\n\t\tif ( s.beforeSend &&\n\t\t\t( s.beforeSend.call( callbackContext, jqXHR, s ) === false || completed ) ) {\n\n\t\t\t// Abort if not done already and return\n\t\t\treturn jqXHR.abort();\n\t\t}\n\n\t\t// Aborting is no longer a cancellation\n\t\tstrAbort = \"abort\";\n\n\t\t// Install callbacks on deferreds\n\t\tcompleteDeferred.add( s.complete );\n\t\tjqXHR.done( s.success );\n\t\tjqXHR.fail( s.error );\n\n\t\t// Get transport\n\t\ttransport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );\n\n\t\t// If no transport, we auto-abort\n\t\tif ( !transport ) {\n\t\t\tdone( -1, \"No Transport\" );\n\t\t} else {\n\t\t\tjqXHR.readyState = 1;\n\n\t\t\t// Send global event\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxSend\", [ jqXHR, s ] );\n\t\t\t}\n\n\t\t\t// If request was aborted inside ajaxSend, stop there\n\t\t\tif ( completed ) {\n\t\t\t\treturn jqXHR;\n\t\t\t}\n\n\t\t\t// Timeout\n\t\t\tif ( s.async && s.timeout > 0 ) {\n\t\t\t\ttimeoutTimer = window.setTimeout( function() {\n\t\t\t\t\tjqXHR.abort( \"timeout\" );\n\t\t\t\t}, s.timeout );\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tcompleted = false;\n\t\t\t\ttransport.send( requestHeaders, done );\n\t\t\t} catch ( e ) {\n\n\t\t\t\t// Rethrow post-completion exceptions\n\t\t\t\tif ( completed ) {\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\n\t\t\t\t// Propagate others as results\n\t\t\t\tdone( -1, e );\n\t\t\t}\n\t\t}\n\n\t\t// Callback for when everything is done\n\t\tfunction done( status, nativeStatusText, responses, headers ) {\n\t\t\tvar isSuccess, success, error, response, modified,\n\t\t\t\tstatusText = nativeStatusText;\n\n\t\t\t// Ignore repeat invocations\n\t\t\tif ( completed ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcompleted = true;\n\n\t\t\t// Clear timeout if it exists\n\t\t\tif ( timeoutTimer ) {\n\t\t\t\twindow.clearTimeout( timeoutTimer );\n\t\t\t}\n\n\t\t\t// Dereference transport for early garbage collection\n\t\t\t// (no matter how long the jqXHR object will be used)\n\t\t\ttransport = undefined;\n\n\t\t\t// Cache response headers\n\t\t\tresponseHeadersString = headers || \"\";\n\n\t\t\t// Set readyState\n\t\t\tjqXHR.readyState = status > 0 ? 4 : 0;\n\n\t\t\t// Determine if successful\n\t\t\tisSuccess = status >= 200 && status < 300 || status === 304;\n\n\t\t\t// Get response data\n\t\t\tif ( responses ) {\n\t\t\t\tresponse = ajaxHandleResponses( s, jqXHR, responses );\n\t\t\t}\n\n\t\t\t// Use a noop converter for missing script but not if jsonp\n\t\t\tif ( !isSuccess &&\n\t\t\t\tjQuery.inArray( \"script\", s.dataTypes ) > -1 &&\n\t\t\t\tjQuery.inArray( \"json\", s.dataTypes ) < 0 ) {\n\t\t\t\ts.converters[ \"text script\" ] = function() {};\n\t\t\t}\n\n\t\t\t// Convert no matter what (that way responseXXX fields are always set)\n\t\t\tresponse = ajaxConvert( s, response, jqXHR, isSuccess );\n\n\t\t\t// If successful, handle type chaining\n\t\t\tif ( isSuccess ) {\n\n\t\t\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\t\t\tif ( s.ifModified ) {\n\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"Last-Modified\" );\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.lastModified[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"etag\" );\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.etag[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// if no content\n\t\t\t\tif ( status === 204 || s.type === \"HEAD\" ) {\n\t\t\t\t\tstatusText = \"nocontent\";\n\n\t\t\t\t// if not modified\n\t\t\t\t} else if ( status === 304 ) {\n\t\t\t\t\tstatusText = \"notmodified\";\n\n\t\t\t\t// If we have data, let's convert it\n\t\t\t\t} else {\n\t\t\t\t\tstatusText = response.state;\n\t\t\t\t\tsuccess = response.data;\n\t\t\t\t\terror = response.error;\n\t\t\t\t\tisSuccess = !error;\n\t\t\t\t}\n\t\t\t} else {\n\n\t\t\t\t// Extract error from statusText and normalize for non-aborts\n\t\t\t\terror = statusText;\n\t\t\t\tif ( status || !statusText ) {\n\t\t\t\t\tstatusText = \"error\";\n\t\t\t\t\tif ( status < 0 ) {\n\t\t\t\t\t\tstatus = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Set data for the fake xhr object\n\t\t\tjqXHR.status = status;\n\t\t\tjqXHR.statusText = ( nativeStatusText || statusText ) + \"\";\n\n\t\t\t// Success/Error\n\t\t\tif ( isSuccess ) {\n\t\t\t\tdeferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );\n\t\t\t} else {\n\t\t\t\tdeferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );\n\t\t\t}\n\n\t\t\t// Status-dependent callbacks\n\t\t\tjqXHR.statusCode( statusCode );\n\t\t\tstatusCode = undefined;\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( isSuccess ? \"ajaxSuccess\" : \"ajaxError\",\n\t\t\t\t\t[ jqXHR, s, isSuccess ? success : error ] );\n\t\t\t}\n\n\t\t\t// Complete\n\t\t\tcompleteDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxComplete\", [ jqXHR, s ] );\n\n\t\t\t\t// Handle the global AJAX counter\n\t\t\t\tif ( !( --jQuery.active ) ) {\n\t\t\t\t\tjQuery.event.trigger( \"ajaxStop\" );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn jqXHR;\n\t},\n\n\tgetJSON: function( url, data, callback ) {\n\t\treturn jQuery.get( url, data, callback, \"json\" );\n\t},\n\n\tgetScript: function( url, callback ) {\n\t\treturn jQuery.get( url, undefined, callback, \"script\" );\n\t}\n} );\n\njQuery.each( [ \"get\", \"post\" ], function( _i, method ) {\n\tjQuery[ method ] = function( url, data, callback, type ) {\n\n\t\t// Shift arguments if data argument was omitted\n\t\tif ( isFunction( data ) ) {\n\t\t\ttype = type || callback;\n\t\t\tcallback = data;\n\t\t\tdata = undefined;\n\t\t}\n\n\t\t// The url can be an options object (which then must have .url)\n\t\treturn jQuery.ajax( jQuery.extend( {\n\t\t\turl: url,\n\t\t\ttype: method,\n\t\t\tdataType: type,\n\t\t\tdata: data,\n\t\t\tsuccess: callback\n\t\t}, jQuery.isPlainObject( url ) && url ) );\n\t};\n} );\n\njQuery.ajaxPrefilter( function( s ) {\n\tvar i;\n\tfor ( i in s.headers ) {\n\t\tif ( i.toLowerCase() === \"content-type\" ) {\n\t\t\ts.contentType = s.headers[ i ] || \"\";\n\t\t}\n\t}\n} );\n\n\njQuery._evalUrl = function( url, options, doc ) {\n\treturn jQuery.ajax( {\n\t\turl: url,\n\n\t\t// Make this explicit, since user can override this through ajaxSetup (trac-11264)\n\t\ttype: \"GET\",\n\t\tdataType: \"script\",\n\t\tcache: true,\n\t\tasync: false,\n\t\tglobal: false,\n\n\t\t// Only evaluate the response if it is successful (gh-4126)\n\t\t// dataFilter is not invoked for failure responses, so using it instead\n\t\t// of the default converter is kludgy but it works.\n\t\tconverters: {\n\t\t\t\"text script\": function() {}\n\t\t},\n\t\tdataFilter: function( response ) {\n\t\t\tjQuery.globalEval( response, options, doc );\n\t\t}\n\t} );\n};\n\n\njQuery.fn.extend( {\n\twrapAll: function( html ) {\n\t\tvar wrap;\n\n\t\tif ( this[ 0 ] ) {\n\t\t\tif ( isFunction( html ) ) {\n\t\t\t\thtml = html.call( this[ 0 ] );\n\t\t\t}\n\n\t\t\t// The elements to wrap the target around\n\t\t\twrap = jQuery( html, this[ 0 ].ownerDocument ).eq( 0 ).clone( true );\n\n\t\t\tif ( this[ 0 ].parentNode ) {\n\t\t\t\twrap.insertBefore( this[ 0 ] );\n\t\t\t}\n\n\t\t\twrap.map( function() {\n\t\t\t\tvar elem = this;\n\n\t\t\t\twhile ( elem.firstElementChild ) {\n\t\t\t\t\telem = elem.firstElementChild;\n\t\t\t\t}\n\n\t\t\t\treturn elem;\n\t\t\t} ).append( this );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\twrapInner: function( html ) {\n\t\tif ( isFunction( html ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).wrapInner( html.call( this, i ) );\n\t\t\t} );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar self = jQuery( this ),\n\t\t\t\tcontents = self.contents();\n\n\t\t\tif ( contents.length ) {\n\t\t\t\tcontents.wrapAll( html );\n\n\t\t\t} else {\n\t\t\t\tself.append( html );\n\t\t\t}\n\t\t} );\n\t},\n\n\twrap: function( html ) {\n\t\tvar htmlIsFunction = isFunction( html );\n\n\t\treturn this.each( function( i ) {\n\t\t\tjQuery( this ).wrapAll( htmlIsFunction ? html.call( this, i ) : html );\n\t\t} );\n\t},\n\n\tunwrap: function( selector ) {\n\t\tthis.parent( selector ).not( \"body\" ).each( function() {\n\t\t\tjQuery( this ).replaceWith( this.childNodes );\n\t\t} );\n\t\treturn this;\n\t}\n} );\n\n\njQuery.expr.pseudos.hidden = function( elem ) {\n\treturn !jQuery.expr.pseudos.visible( elem );\n};\njQuery.expr.pseudos.visible = function( elem ) {\n\treturn !!( elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length );\n};\n\n\n\n\njQuery.ajaxSettings.xhr = function() {\n\ttry {\n\t\treturn new window.XMLHttpRequest();\n\t} catch ( e ) {}\n};\n\nvar xhrSuccessStatus = {\n\n\t\t// File protocol always yields status code 0, assume 200\n\t\t0: 200,\n\n\t\t// Support: IE <=9 only\n\t\t// trac-1450: sometimes IE returns 1223 when it should be 204\n\t\t1223: 204\n\t},\n\txhrSupported = jQuery.ajaxSettings.xhr();\n\nsupport.cors = !!xhrSupported && ( \"withCredentials\" in xhrSupported );\nsupport.ajax = xhrSupported = !!xhrSupported;\n\njQuery.ajaxTransport( function( options ) {\n\tvar callback, errorCallback;\n\n\t// Cross domain only allowed if supported through XMLHttpRequest\n\tif ( support.cors || xhrSupported && !options.crossDomain ) {\n\t\treturn {\n\t\t\tsend: function( headers, complete ) {\n\t\t\t\tvar i,\n\t\t\t\t\txhr = options.xhr();\n\n\t\t\t\txhr.open(\n\t\t\t\t\toptions.type,\n\t\t\t\t\toptions.url,\n\t\t\t\t\toptions.async,\n\t\t\t\t\toptions.username,\n\t\t\t\t\toptions.password\n\t\t\t\t);\n\n\t\t\t\t// Apply custom fields if provided\n\t\t\t\tif ( options.xhrFields ) {\n\t\t\t\t\tfor ( i in options.xhrFields ) {\n\t\t\t\t\t\txhr[ i ] = options.xhrFields[ i ];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Override mime type if needed\n\t\t\t\tif ( options.mimeType && xhr.overrideMimeType ) {\n\t\t\t\t\txhr.overrideMimeType( options.mimeType );\n\t\t\t\t}\n\n\t\t\t\t// X-Requested-With header\n\t\t\t\t// For cross-domain requests, seeing as conditions for a preflight are\n\t\t\t\t// akin to a jigsaw puzzle, we simply never set it to be sure.\n\t\t\t\t// (it can always be set on a per-request basis or even using ajaxSetup)\n\t\t\t\t// For same-domain requests, won't change header if already provided.\n\t\t\t\tif ( !options.crossDomain && !headers[ \"X-Requested-With\" ] ) {\n\t\t\t\t\theaders[ \"X-Requested-With\" ] = \"XMLHttpRequest\";\n\t\t\t\t}\n\n\t\t\t\t// Set headers\n\t\t\t\tfor ( i in headers ) {\n\t\t\t\t\txhr.setRequestHeader( i, headers[ i ] );\n\t\t\t\t}\n\n\t\t\t\t// Callback\n\t\t\t\tcallback = function( type ) {\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\tcallback = errorCallback = xhr.onload =\n\t\t\t\t\t\t\t\txhr.onerror = xhr.onabort = xhr.ontimeout =\n\t\t\t\t\t\t\t\t\txhr.onreadystatechange = null;\n\n\t\t\t\t\t\t\tif ( type === \"abort\" ) {\n\t\t\t\t\t\t\t\txhr.abort();\n\t\t\t\t\t\t\t} else if ( type === \"error\" ) {\n\n\t\t\t\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t\t\t\t// On a manual native abort, IE9 throws\n\t\t\t\t\t\t\t\t// errors on any property access that is not readyState\n\t\t\t\t\t\t\t\tif ( typeof xhr.status !== \"number\" ) {\n\t\t\t\t\t\t\t\t\tcomplete( 0, \"error\" );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tcomplete(\n\n\t\t\t\t\t\t\t\t\t\t// File: protocol always yields status 0; see trac-8605, trac-14207\n\t\t\t\t\t\t\t\t\t\txhr.status,\n\t\t\t\t\t\t\t\t\t\txhr.statusText\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcomplete(\n\t\t\t\t\t\t\t\t\txhrSuccessStatus[ xhr.status ] || xhr.status,\n\t\t\t\t\t\t\t\t\txhr.statusText,\n\n\t\t\t\t\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t\t\t\t\t// IE9 has no XHR2 but throws on binary (trac-11426)\n\t\t\t\t\t\t\t\t\t// For XHR2 non-text, let the caller handle it (gh-2498)\n\t\t\t\t\t\t\t\t\t( xhr.responseType || \"text\" ) !== \"text\"  ||\n\t\t\t\t\t\t\t\t\ttypeof xhr.responseText !== \"string\" ?\n\t\t\t\t\t\t\t\t\t\t{ binary: xhr.response } :\n\t\t\t\t\t\t\t\t\t\t{ text: xhr.responseText },\n\t\t\t\t\t\t\t\t\txhr.getAllResponseHeaders()\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t};\n\n\t\t\t\t// Listen to events\n\t\t\t\txhr.onload = callback();\n\t\t\t\terrorCallback = xhr.onerror = xhr.ontimeout = callback( \"error\" );\n\n\t\t\t\t// Support: IE 9 only\n\t\t\t\t// Use onreadystatechange to replace onabort\n\t\t\t\t// to handle uncaught aborts\n\t\t\t\tif ( xhr.onabort !== undefined ) {\n\t\t\t\t\txhr.onabort = errorCallback;\n\t\t\t\t} else {\n\t\t\t\t\txhr.onreadystatechange = function() {\n\n\t\t\t\t\t\t// Check readyState before timeout as it changes\n\t\t\t\t\t\tif ( xhr.readyState === 4 ) {\n\n\t\t\t\t\t\t\t// Allow onerror to be called first,\n\t\t\t\t\t\t\t// but that will not handle a native abort\n\t\t\t\t\t\t\t// Also, save errorCallback to a variable\n\t\t\t\t\t\t\t// as xhr.onerror cannot be accessed\n\t\t\t\t\t\t\twindow.setTimeout( function() {\n\t\t\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\t\t\terrorCallback();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\t// Create the abort callback\n\t\t\t\tcallback = callback( \"abort\" );\n\n\t\t\t\ttry {\n\n\t\t\t\t\t// Do send the request (this may raise an exception)\n\t\t\t\t\txhr.send( options.hasContent && options.data || null );\n\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t// trac-14683: Only rethrow if this hasn't been notified as an error yet\n\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\tthrow e;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n} );\n\n\n\n\n// Prevent auto-execution of scripts when no explicit dataType was provided (See gh-2432)\njQuery.ajaxPrefilter( function( s ) {\n\tif ( s.crossDomain ) {\n\t\ts.contents.script = false;\n\t}\n} );\n\n// Install script dataType\njQuery.ajaxSetup( {\n\taccepts: {\n\t\tscript: \"text/javascript, application/javascript, \" +\n\t\t\t\"application/ecmascript, application/x-ecmascript\"\n\t},\n\tcontents: {\n\t\tscript: /\\b(?:java|ecma)script\\b/\n\t},\n\tconverters: {\n\t\t\"text script\": function( text ) {\n\t\t\tjQuery.globalEval( text );\n\t\t\treturn text;\n\t\t}\n\t}\n} );\n\n// Handle cache's special case and crossDomain\njQuery.ajaxPrefilter( \"script\", function( s ) {\n\tif ( s.cache === undefined ) {\n\t\ts.cache = false;\n\t}\n\tif ( s.crossDomain ) {\n\t\ts.type = \"GET\";\n\t}\n} );\n\n// Bind script tag hack transport\njQuery.ajaxTransport( \"script\", function( s ) {\n\n\t// This transport only deals with cross domain or forced-by-attrs requests\n\tif ( s.crossDomain || s.scriptAttrs ) {\n\t\tvar script, callback;\n\t\treturn {\n\t\t\tsend: function( _, complete ) {\n\t\t\t\tscript = jQuery( \"<script>\" )\n\t\t\t\t\t.attr( s.scriptAttrs || {} )\n\t\t\t\t\t.prop( { charset: s.scriptCharset, src: s.url } )\n\t\t\t\t\t.on( \"load error\", callback = function( evt ) {\n\t\t\t\t\t\tscript.remove();\n\t\t\t\t\t\tcallback = null;\n\t\t\t\t\t\tif ( evt ) {\n\t\t\t\t\t\t\tcomplete( evt.type === \"error\" ? 404 : 200, evt.type );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\n\t\t\t\t// Use native DOM manipulation to avoid our domManip AJAX trickery\n\t\t\t\tdocument.head.appendChild( script[ 0 ] );\n\t\t\t},\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n} );\n\n\n\n\nvar oldCallbacks = [],\n\trjsonp = /(=)\\?(?=&|$)|\\?\\?/;\n\n// Default jsonp settings\njQuery.ajaxSetup( {\n\tjsonp: \"callback\",\n\tjsonpCallback: function() {\n\t\tvar callback = oldCallbacks.pop() || ( jQuery.expando + \"_\" + ( nonce.guid++ ) );\n\t\tthis[ callback ] = true;\n\t\treturn callback;\n\t}\n} );\n\n// Detect, normalize options and install callbacks for jsonp requests\njQuery.ajaxPrefilter( \"json jsonp\", function( s, originalSettings, jqXHR ) {\n\n\tvar callbackName, overwritten, responseContainer,\n\t\tjsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?\n\t\t\t\"url\" :\n\t\t\ttypeof s.data === \"string\" &&\n\t\t\t\t( s.contentType || \"\" )\n\t\t\t\t\t.indexOf( \"application/x-www-form-urlencoded\" ) === 0 &&\n\t\t\t\trjsonp.test( s.data ) && \"data\"\n\t\t);\n\n\t// Handle iff the expected data type is \"jsonp\" or we have a parameter to set\n\tif ( jsonProp || s.dataTypes[ 0 ] === \"jsonp\" ) {\n\n\t\t// Get callback name, remembering preexisting value associated with it\n\t\tcallbackName = s.jsonpCallback = isFunction( s.jsonpCallback ) ?\n\t\t\ts.jsonpCallback() :\n\t\t\ts.jsonpCallback;\n\n\t\t// Insert callback into url or form data\n\t\tif ( jsonProp ) {\n\t\t\ts[ jsonProp ] = s[ jsonProp ].replace( rjsonp, \"$1\" + callbackName );\n\t\t} else if ( s.jsonp !== false ) {\n\t\t\ts.url += ( rquery.test( s.url ) ? \"&\" : \"?\" ) + s.jsonp + \"=\" + callbackName;\n\t\t}\n\n\t\t// Use data converter to retrieve json after script execution\n\t\ts.converters[ \"script json\" ] = function() {\n\t\t\tif ( !responseContainer ) {\n\t\t\t\tjQuery.error( callbackName + \" was not called\" );\n\t\t\t}\n\t\t\treturn responseContainer[ 0 ];\n\t\t};\n\n\t\t// Force json dataType\n\t\ts.dataTypes[ 0 ] = \"json\";\n\n\t\t// Install callback\n\t\toverwritten = window[ callbackName ];\n\t\twindow[ callbackName ] = function() {\n\t\t\tresponseContainer = arguments;\n\t\t};\n\n\t\t// Clean-up function (fires after converters)\n\t\tjqXHR.always( function() {\n\n\t\t\t// If previous value didn't exist - remove it\n\t\t\tif ( overwritten === undefined ) {\n\t\t\t\tjQuery( window ).removeProp( callbackName );\n\n\t\t\t// Otherwise restore preexisting value\n\t\t\t} else {\n\t\t\t\twindow[ callbackName ] = overwritten;\n\t\t\t}\n\n\t\t\t// Save back as free\n\t\t\tif ( s[ callbackName ] ) {\n\n\t\t\t\t// Make sure that re-using the options doesn't screw things around\n\t\t\t\ts.jsonpCallback = originalSettings.jsonpCallback;\n\n\t\t\t\t// Save the callback name for future use\n\t\t\t\toldCallbacks.push( callbackName );\n\t\t\t}\n\n\t\t\t// Call if it was a function and we have a response\n\t\t\tif ( responseContainer && isFunction( overwritten ) ) {\n\t\t\t\toverwritten( responseContainer[ 0 ] );\n\t\t\t}\n\n\t\t\tresponseContainer = overwritten = undefined;\n\t\t} );\n\n\t\t// Delegate to script\n\t\treturn \"script\";\n\t}\n} );\n\n\n\n\n// Support: Safari 8 only\n// In Safari 8 documents created via document.implementation.createHTMLDocument\n// collapse sibling forms: the second one becomes a child of the first one.\n// Because of that, this security measure has to be disabled in Safari 8.\n// https://bugs.webkit.org/show_bug.cgi?id=137337\nsupport.createHTMLDocument = ( function() {\n\tvar body = document.implementation.createHTMLDocument( \"\" ).body;\n\tbody.innerHTML = \"<form></form><form></form>\";\n\treturn body.childNodes.length === 2;\n} )();\n\n\n// Argument \"data\" should be string of html\n// context (optional): If specified, the fragment will be created in this context,\n// defaults to document\n// keepScripts (optional): If true, will include scripts passed in the html string\njQuery.parseHTML = function( data, context, keepScripts ) {\n\tif ( typeof data !== \"string\" ) {\n\t\treturn [];\n\t}\n\tif ( typeof context === \"boolean\" ) {\n\t\tkeepScripts = context;\n\t\tcontext = false;\n\t}\n\n\tvar base, parsed, scripts;\n\n\tif ( !context ) {\n\n\t\t// Stop scripts or inline event handlers from being executed immediately\n\t\t// by using document.implementation\n\t\tif ( support.createHTMLDocument ) {\n\t\t\tcontext = document.implementation.createHTMLDocument( \"\" );\n\n\t\t\t// Set the base href for the created document\n\t\t\t// so any parsed elements with URLs\n\t\t\t// are based on the document's URL (gh-2965)\n\t\t\tbase = context.createElement( \"base\" );\n\t\t\tbase.href = document.location.href;\n\t\t\tcontext.head.appendChild( base );\n\t\t} else {\n\t\t\tcontext = document;\n\t\t}\n\t}\n\n\tparsed = rsingleTag.exec( data );\n\tscripts = !keepScripts && [];\n\n\t// Single tag\n\tif ( parsed ) {\n\t\treturn [ context.createElement( parsed[ 1 ] ) ];\n\t}\n\n\tparsed = buildFragment( [ data ], context, scripts );\n\n\tif ( scripts && scripts.length ) {\n\t\tjQuery( scripts ).remove();\n\t}\n\n\treturn jQuery.merge( [], parsed.childNodes );\n};\n\n\n/**\n * Load a url into a page\n */\njQuery.fn.load = function( url, params, callback ) {\n\tvar selector, type, response,\n\t\tself = this,\n\t\toff = url.indexOf( \" \" );\n\n\tif ( off > -1 ) {\n\t\tselector = stripAndCollapse( url.slice( off ) );\n\t\turl = url.slice( 0, off );\n\t}\n\n\t// If it's a function\n\tif ( isFunction( params ) ) {\n\n\t\t// We assume that it's the callback\n\t\tcallback = params;\n\t\tparams = undefined;\n\n\t// Otherwise, build a param string\n\t} else if ( params && typeof params === \"object\" ) {\n\t\ttype = \"POST\";\n\t}\n\n\t// If we have elements to modify, make the request\n\tif ( self.length > 0 ) {\n\t\tjQuery.ajax( {\n\t\t\turl: url,\n\n\t\t\t// If \"type\" variable is undefined, then \"GET\" method will be used.\n\t\t\t// Make value of this field explicit since\n\t\t\t// user can override it through ajaxSetup method\n\t\t\ttype: type || \"GET\",\n\t\t\tdataType: \"html\",\n\t\t\tdata: params\n\t\t} ).done( function( responseText ) {\n\n\t\t\t// Save response for use in complete callback\n\t\t\tresponse = arguments;\n\n\t\t\tself.html( selector ?\n\n\t\t\t\t// If a selector was specified, locate the right elements in a dummy div\n\t\t\t\t// Exclude scripts to avoid IE 'Permission Denied' errors\n\t\t\t\tjQuery( \"<div>\" ).append( jQuery.parseHTML( responseText ) ).find( selector ) :\n\n\t\t\t\t// Otherwise use the full result\n\t\t\t\tresponseText );\n\n\t\t// If the request succeeds, this function gets \"data\", \"status\", \"jqXHR\"\n\t\t// but they are ignored because response was set above.\n\t\t// If it fails, this function gets \"jqXHR\", \"status\", \"error\"\n\t\t} ).always( callback && function( jqXHR, status ) {\n\t\t\tself.each( function() {\n\t\t\t\tcallback.apply( this, response || [ jqXHR.responseText, status, jqXHR ] );\n\t\t\t} );\n\t\t} );\n\t}\n\n\treturn this;\n};\n\n\n\n\njQuery.expr.pseudos.animated = function( elem ) {\n\treturn jQuery.grep( jQuery.timers, function( fn ) {\n\t\treturn elem === fn.elem;\n\t} ).length;\n};\n\n\n\n\njQuery.offset = {\n\tsetOffset: function( elem, options, i ) {\n\t\tvar curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,\n\t\t\tposition = jQuery.css( elem, \"position\" ),\n\t\t\tcurElem = jQuery( elem ),\n\t\t\tprops = {};\n\n\t\t// Set position first, in-case top/left are set even on static elem\n\t\tif ( position === \"static\" ) {\n\t\t\telem.style.position = \"relative\";\n\t\t}\n\n\t\tcurOffset = curElem.offset();\n\t\tcurCSSTop = jQuery.css( elem, \"top\" );\n\t\tcurCSSLeft = jQuery.css( elem, \"left\" );\n\t\tcalculatePosition = ( position === \"absolute\" || position === \"fixed\" ) &&\n\t\t\t( curCSSTop + curCSSLeft ).indexOf( \"auto\" ) > -1;\n\n\t\t// Need to be able to calculate position if either\n\t\t// top or left is auto and position is either absolute or fixed\n\t\tif ( calculatePosition ) {\n\t\t\tcurPosition = curElem.position();\n\t\t\tcurTop = curPosition.top;\n\t\t\tcurLeft = curPosition.left;\n\n\t\t} else {\n\t\t\tcurTop = parseFloat( curCSSTop ) || 0;\n\t\t\tcurLeft = parseFloat( curCSSLeft ) || 0;\n\t\t}\n\n\t\tif ( isFunction( options ) ) {\n\n\t\t\t// Use jQuery.extend here to allow modification of coordinates argument (gh-1848)\n\t\t\toptions = options.call( elem, i, jQuery.extend( {}, curOffset ) );\n\t\t}\n\n\t\tif ( options.top != null ) {\n\t\t\tprops.top = ( options.top - curOffset.top ) + curTop;\n\t\t}\n\t\tif ( options.left != null ) {\n\t\t\tprops.left = ( options.left - curOffset.left ) + curLeft;\n\t\t}\n\n\t\tif ( \"using\" in options ) {\n\t\t\toptions.using.call( elem, props );\n\n\t\t} else {\n\t\t\tcurElem.css( props );\n\t\t}\n\t}\n};\n\njQuery.fn.extend( {\n\n\t// offset() relates an element's border box to the document origin\n\toffset: function( options ) {\n\n\t\t// Preserve chaining for setter\n\t\tif ( arguments.length ) {\n\t\t\treturn options === undefined ?\n\t\t\t\tthis :\n\t\t\t\tthis.each( function( i ) {\n\t\t\t\t\tjQuery.offset.setOffset( this, options, i );\n\t\t\t\t} );\n\t\t}\n\n\t\tvar rect, win,\n\t\t\telem = this[ 0 ];\n\n\t\tif ( !elem ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Return zeros for disconnected and hidden (display: none) elements (gh-2310)\n\t\t// Support: IE <=11 only\n\t\t// Running getBoundingClientRect on a\n\t\t// disconnected node in IE throws an error\n\t\tif ( !elem.getClientRects().length ) {\n\t\t\treturn { top: 0, left: 0 };\n\t\t}\n\n\t\t// Get document-relative position by adding viewport scroll to viewport-relative gBCR\n\t\trect = elem.getBoundingClientRect();\n\t\twin = elem.ownerDocument.defaultView;\n\t\treturn {\n\t\t\ttop: rect.top + win.pageYOffset,\n\t\t\tleft: rect.left + win.pageXOffset\n\t\t};\n\t},\n\n\t// position() relates an element's margin box to its offset parent's padding box\n\t// This corresponds to the behavior of CSS absolute positioning\n\tposition: function() {\n\t\tif ( !this[ 0 ] ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar offsetParent, offset, doc,\n\t\t\telem = this[ 0 ],\n\t\t\tparentOffset = { top: 0, left: 0 };\n\n\t\t// position:fixed elements are offset from the viewport, which itself always has zero offset\n\t\tif ( jQuery.css( elem, \"position\" ) === \"fixed\" ) {\n\n\t\t\t// Assume position:fixed implies availability of getBoundingClientRect\n\t\t\toffset = elem.getBoundingClientRect();\n\n\t\t} else {\n\t\t\toffset = this.offset();\n\n\t\t\t// Account for the *real* offset parent, which can be the document or its root element\n\t\t\t// when a statically positioned element is identified\n\t\t\tdoc = elem.ownerDocument;\n\t\t\toffsetParent = elem.offsetParent || doc.documentElement;\n\t\t\twhile ( offsetParent &&\n\t\t\t\t( offsetParent === doc.body || offsetParent === doc.documentElement ) &&\n\t\t\t\tjQuery.css( offsetParent, \"position\" ) === \"static\" ) {\n\n\t\t\t\toffsetParent = offsetParent.parentNode;\n\t\t\t}\n\t\t\tif ( offsetParent && offsetParent !== elem && offsetParent.nodeType === 1 ) {\n\n\t\t\t\t// Incorporate borders into its offset, since they are outside its content origin\n\t\t\t\tparentOffset = jQuery( offsetParent ).offset();\n\t\t\t\tparentOffset.top += jQuery.css( offsetParent, \"borderTopWidth\", true );\n\t\t\t\tparentOffset.left += jQuery.css( offsetParent, \"borderLeftWidth\", true );\n\t\t\t}\n\t\t}\n\n\t\t// Subtract parent offsets and element margins\n\t\treturn {\n\t\t\ttop: offset.top - parentOffset.top - jQuery.css( elem, \"marginTop\", true ),\n\t\t\tleft: offset.left - parentOffset.left - jQuery.css( elem, \"marginLeft\", true )\n\t\t};\n\t},\n\n\t// This method will return documentElement in the following cases:\n\t// 1) For the element inside the iframe without offsetParent, this method will return\n\t//    documentElement of the parent window\n\t// 2) For the hidden or detached element\n\t// 3) For body or html element, i.e. in case of the html node - it will return itself\n\t//\n\t// but those exceptions were never presented as a real life use-cases\n\t// and might be considered as more preferable results.\n\t//\n\t// This logic, however, is not guaranteed and can change at any point in the future\n\toffsetParent: function() {\n\t\treturn this.map( function() {\n\t\t\tvar offsetParent = this.offsetParent;\n\n\t\t\twhile ( offsetParent && jQuery.css( offsetParent, \"position\" ) === \"static\" ) {\n\t\t\t\toffsetParent = offsetParent.offsetParent;\n\t\t\t}\n\n\t\t\treturn offsetParent || documentElement;\n\t\t} );\n\t}\n} );\n\n// Create scrollLeft and scrollTop methods\njQuery.each( { scrollLeft: \"pageXOffset\", scrollTop: \"pageYOffset\" }, function( method, prop ) {\n\tvar top = \"pageYOffset\" === prop;\n\n\tjQuery.fn[ method ] = function( val ) {\n\t\treturn access( this, function( elem, method, val ) {\n\n\t\t\t// Coalesce documents and windows\n\t\t\tvar win;\n\t\t\tif ( isWindow( elem ) ) {\n\t\t\t\twin = elem;\n\t\t\t} else if ( elem.nodeType === 9 ) {\n\t\t\t\twin = elem.defaultView;\n\t\t\t}\n\n\t\t\tif ( val === undefined ) {\n\t\t\t\treturn win ? win[ prop ] : elem[ method ];\n\t\t\t}\n\n\t\t\tif ( win ) {\n\t\t\t\twin.scrollTo(\n\t\t\t\t\t!top ? val : win.pageXOffset,\n\t\t\t\t\ttop ? val : win.pageYOffset\n\t\t\t\t);\n\n\t\t\t} else {\n\t\t\t\telem[ method ] = val;\n\t\t\t}\n\t\t}, method, val, arguments.length );\n\t};\n} );\n\n// Support: Safari <=7 - 9.1, Chrome <=37 - 49\n// Add the top/left cssHooks using jQuery.fn.position\n// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084\n// Blink bug: https://bugs.chromium.org/p/chromium/issues/detail?id=589347\n// getComputedStyle returns percent when specified for top/left/bottom/right;\n// rather than make the css module depend on the offset module, just check for it here\njQuery.each( [ \"top\", \"left\" ], function( _i, prop ) {\n\tjQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,\n\t\tfunction( elem, computed ) {\n\t\t\tif ( computed ) {\n\t\t\t\tcomputed = curCSS( elem, prop );\n\n\t\t\t\t// If curCSS returns percentage, fallback to offset\n\t\t\t\treturn rnumnonpx.test( computed ) ?\n\t\t\t\t\tjQuery( elem ).position()[ prop ] + \"px\" :\n\t\t\t\t\tcomputed;\n\t\t\t}\n\t\t}\n\t);\n} );\n\n\n// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods\njQuery.each( { Height: \"height\", Width: \"width\" }, function( name, type ) {\n\tjQuery.each( {\n\t\tpadding: \"inner\" + name,\n\t\tcontent: type,\n\t\t\"\": \"outer\" + name\n\t}, function( defaultExtra, funcName ) {\n\n\t\t// Margin is only for outerHeight, outerWidth\n\t\tjQuery.fn[ funcName ] = function( margin, value ) {\n\t\t\tvar chainable = arguments.length && ( defaultExtra || typeof margin !== \"boolean\" ),\n\t\t\t\textra = defaultExtra || ( margin === true || value === true ? \"margin\" : \"border\" );\n\n\t\t\treturn access( this, function( elem, type, value ) {\n\t\t\t\tvar doc;\n\n\t\t\t\tif ( isWindow( elem ) ) {\n\n\t\t\t\t\t// $( window ).outerWidth/Height return w/h including scrollbars (gh-1729)\n\t\t\t\t\treturn funcName.indexOf( \"outer\" ) === 0 ?\n\t\t\t\t\t\telem[ \"inner\" + name ] :\n\t\t\t\t\t\telem.document.documentElement[ \"client\" + name ];\n\t\t\t\t}\n\n\t\t\t\t// Get document width or height\n\t\t\t\tif ( elem.nodeType === 9 ) {\n\t\t\t\t\tdoc = elem.documentElement;\n\n\t\t\t\t\t// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],\n\t\t\t\t\t// whichever is greatest\n\t\t\t\t\treturn Math.max(\n\t\t\t\t\t\telem.body[ \"scroll\" + name ], doc[ \"scroll\" + name ],\n\t\t\t\t\t\telem.body[ \"offset\" + name ], doc[ \"offset\" + name ],\n\t\t\t\t\t\tdoc[ \"client\" + name ]\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn value === undefined ?\n\n\t\t\t\t\t// Get width or height on the element, requesting but not forcing parseFloat\n\t\t\t\t\tjQuery.css( elem, type, extra ) :\n\n\t\t\t\t\t// Set width or height on the element\n\t\t\t\t\tjQuery.style( elem, type, value, extra );\n\t\t\t}, type, chainable ? margin : undefined, chainable );\n\t\t};\n\t} );\n} );\n\n\njQuery.each( [\n\t\"ajaxStart\",\n\t\"ajaxStop\",\n\t\"ajaxComplete\",\n\t\"ajaxError\",\n\t\"ajaxSuccess\",\n\t\"ajaxSend\"\n], function( _i, type ) {\n\tjQuery.fn[ type ] = function( fn ) {\n\t\treturn this.on( type, fn );\n\t};\n} );\n\n\n\n\njQuery.fn.extend( {\n\n\tbind: function( types, data, fn ) {\n\t\treturn this.on( types, null, data, fn );\n\t},\n\tunbind: function( types, fn ) {\n\t\treturn this.off( types, null, fn );\n\t},\n\n\tdelegate: function( selector, types, data, fn ) {\n\t\treturn this.on( types, selector, data, fn );\n\t},\n\tundelegate: function( selector, types, fn ) {\n\n\t\t// ( namespace ) or ( selector, types [, fn] )\n\t\treturn arguments.length === 1 ?\n\t\t\tthis.off( selector, \"**\" ) :\n\t\t\tthis.off( types, selector || \"**\", fn );\n\t},\n\n\thover: function( fnOver, fnOut ) {\n\t\treturn this\n\t\t\t.on( \"mouseenter\", fnOver )\n\t\t\t.on( \"mouseleave\", fnOut || fnOver );\n\t}\n} );\n\njQuery.each(\n\t( \"blur focus focusin focusout resize scroll click dblclick \" +\n\t\"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave \" +\n\t\"change select submit keydown keypress keyup contextmenu\" ).split( \" \" ),\n\tfunction( _i, name ) {\n\n\t\t// Handle event binding\n\t\tjQuery.fn[ name ] = function( data, fn ) {\n\t\t\treturn arguments.length > 0 ?\n\t\t\t\tthis.on( name, null, data, fn ) :\n\t\t\t\tthis.trigger( name );\n\t\t};\n\t}\n);\n\n\n\n\n// Support: Android <=4.0 only\n// Make sure we trim BOM and NBSP\n// Require that the \"whitespace run\" starts from a non-whitespace\n// to avoid O(N^2) behavior when the engine would try matching \"\\s+$\" at each space position.\nvar rtrim = /^[\\s\\uFEFF\\xA0]+|([^\\s\\uFEFF\\xA0])[\\s\\uFEFF\\xA0]+$/g;\n\n// Bind a function to a context, optionally partially applying any\n// arguments.\n// jQuery.proxy is deprecated to promote standards (specifically Function#bind)\n// However, it is not slated for removal any time soon\njQuery.proxy = function( fn, context ) {\n\tvar tmp, args, proxy;\n\n\tif ( typeof context === \"string\" ) {\n\t\ttmp = fn[ context ];\n\t\tcontext = fn;\n\t\tfn = tmp;\n\t}\n\n\t// Quick check to determine if target is callable, in the spec\n\t// this throws a TypeError, but we will just return undefined.\n\tif ( !isFunction( fn ) ) {\n\t\treturn undefined;\n\t}\n\n\t// Simulated bind\n\targs = slice.call( arguments, 2 );\n\tproxy = function() {\n\t\treturn fn.apply( context || this, args.concat( slice.call( arguments ) ) );\n\t};\n\n\t// Set the guid of unique handler to the same of original handler, so it can be removed\n\tproxy.guid = fn.guid = fn.guid || jQuery.guid++;\n\n\treturn proxy;\n};\n\njQuery.holdReady = function( hold ) {\n\tif ( hold ) {\n\t\tjQuery.readyWait++;\n\t} else {\n\t\tjQuery.ready( true );\n\t}\n};\njQuery.isArray = Array.isArray;\njQuery.parseJSON = JSON.parse;\njQuery.nodeName = nodeName;\njQuery.isFunction = isFunction;\njQuery.isWindow = isWindow;\njQuery.camelCase = camelCase;\njQuery.type = toType;\n\njQuery.now = Date.now;\n\njQuery.isNumeric = function( obj ) {\n\n\t// As of jQuery 3.0, isNumeric is limited to\n\t// strings and numbers (primitives or objects)\n\t// that can be coerced to finite numbers (gh-2662)\n\tvar type = jQuery.type( obj );\n\treturn ( type === \"number\" || type === \"string\" ) &&\n\n\t\t// parseFloat NaNs numeric-cast false positives (\"\")\n\t\t// ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n\t\t// subtraction forces infinities to NaN\n\t\t!isNaN( obj - parseFloat( obj ) );\n};\n\njQuery.trim = function( text ) {\n\treturn text == null ?\n\t\t\"\" :\n\t\t( text + \"\" ).replace( rtrim, \"$1\" );\n};\n\n\n\n// Register as a named AMD module, since jQuery can be concatenated with other\n// files that may use define, but not via a proper concatenation script that\n// understands anonymous AMD modules. A named AMD is safest and most robust\n// way to register. Lowercase jquery is used because AMD module names are\n// derived from file names, and jQuery is normally delivered in a lowercase\n// file name. Do this after creating the global so that if an AMD module wants\n// to call noConflict to hide this version of jQuery, it will work.\n\n// Note that for maximum portability, libraries that are not jQuery should\n// declare themselves as anonymous modules, and avoid setting a global if an\n// AMD loader is present. jQuery is a special case. For more information, see\n// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon\n\nif ( true ) {\n\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function() {\n\t\treturn jQuery;\n\t}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n}\n\n\n\n\nvar\n\n\t// Map over jQuery in case of overwrite\n\t_jQuery = window.jQuery,\n\n\t// Map over the $ in case of overwrite\n\t_$ = window.$;\n\njQuery.noConflict = function( deep ) {\n\tif ( window.$ === jQuery ) {\n\t\twindow.$ = _$;\n\t}\n\n\tif ( deep && window.jQuery === jQuery ) {\n\t\twindow.jQuery = _jQuery;\n\t}\n\n\treturn jQuery;\n};\n\n// Expose jQuery and $ identifiers, even in AMD\n// (trac-7102#comment:10, https://github.com/jquery/jquery/pull/557)\n// and CommonJS for browser emulators (trac-13566)\nif ( typeof noGlobal === \"undefined\" ) {\n\twindow.jQuery = window.$ = jQuery;\n}\n\n\n\n\nreturn jQuery;\n} );\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvanF1ZXJ5L2Rpc3QvanF1ZXJ5LmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsTUFBTSxLQUEwQjs7QUFFaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBOzs7QUFHQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOzs7QUFHQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTLFlBQVk7O0FBRXJCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRixvQkFBb0I7O0FBRXBCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGLDhDQUE4QztBQUM5QztBQUNBO0FBQ0EsbUJBQW1CLGlDQUFpQztBQUNwRCxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsWUFBWTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOzs7QUFHRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxVQUFVLFNBQVM7QUFDbkI7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVLFlBQVk7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFlBQVk7QUFDdkI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTs7QUFFQTtBQUNBOzs7QUFHQTs7O0FBR0E7OztBQUdBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBOztBQUVBO0FBQ0Esa0NBQWtDLElBQUk7QUFDdEM7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLDJCQUEyQjtBQUMzQjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLDBDQUEwQyxJQUFJO0FBQzlDO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QztBQUN4QztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLDBCQUEwQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxTQUFTLDZCQUE2QjtBQUNqRDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQSxXQUFXLGlCQUFpQjtBQUM1QixhQUFhLHdCQUF3QjtBQUNyQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxnQkFBZ0I7QUFDM0IsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QztBQUNBOztBQUVBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxXQUFXO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLGVBQWU7O0FBRWYsU0FBUzs7QUFFVDtBQUNBLFNBQVMsZ0NBQWdDO0FBQ3pDLFNBQVMsbUJBQW1CO0FBQzVCLFNBQVMscUNBQXFDO0FBQzlDLFNBQVM7QUFDVCxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTixHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxrRUFBa0U7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsUUFBUTs7QUFFUjtBQUNBO0FBQ0EsK0RBQStEO0FBQy9EO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQSxrRUFBa0UsVUFBVTtBQUM1RSx1Q0FBdUMsMkJBQTJCO0FBQ2xFO0FBQ0EsaUNBQWlDLE1BQU07QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQSxXQUFXLFlBQVk7QUFDdkI7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUEsV0FBVyxVQUFVO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBLFdBQVcsY0FBYztBQUN6QjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLGFBQWEsdUVBQXVFO0FBQ3BGO0FBQ0E7QUFDQSxhQUFhLDRCQUE0QjtBQUN6QztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLFNBQVM7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsNkRBQTZEOztBQUU3RDtBQUNBO0FBQ0EsUUFBUTtBQUNSOztBQUVBO0FBQ0E7QUFDQSxRQUFROztBQUVSO0FBQ0E7O0FBRUEsb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUyxTQUFTO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTLFNBQVM7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKLFNBQVMsU0FBUztBQUNsQjtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVksU0FBUztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esa0JBQWtCLGlEQUFpRDtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrREFBa0Q7QUFDbEQ7QUFDQSxXQUFXLDRDQUE0QztBQUN2RDtBQUNBOztBQUVBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxpQkFBaUI7QUFDNUI7QUFDQSxXQUFXLFNBQVM7QUFDcEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUY7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsRUFBRTs7O0FBR0Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBLFNBQVMsR0FBRztBQUNaO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBOztBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLFNBQVM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7O0FBRUEsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7O0FBRUE7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7O0FBR0Y7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLE1BQU07QUFDTjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsMkJBQTJCLHdCQUF3Qjs7QUFFbkQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0EsMkNBQTJDO0FBQzNDLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7O0FBRW5CO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsY0FBYztBQUN6QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBLHlDQUF5QyxxQ0FBcUM7QUFDOUUscUNBQXFDLHNDQUFzQztBQUMzRSxxQ0FBcUMscUNBQXFDO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUTtBQUNSO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxZQUFZOztBQUVaO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVc7O0FBRVg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZOztBQUVaO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw0REFBNEQ7QUFDNUQ7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07O0FBRU47QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHFDQUFxQztBQUNyQyxzQ0FBc0M7QUFDdEMscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7O0FBR0Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7Ozs7QUFLQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHdCQUF3QixhQUFhO0FBQ3JDLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsb0JBQW9CLFNBQVM7QUFDN0I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxFQUFFOzs7QUFHRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7OztBQUdBOztBQUVBOzs7O0FBSUE7QUFDQTtBQUNBLEdBQUc7QUFDSCxlQUFlOztBQUVmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxTQUFTLGdCQUFnQjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IsZ0JBQWdCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7O0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7OztBQUdGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7O0FBRUEsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFNBQVMsT0FBTztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0Esc0JBQXNCOztBQUV0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsU0FBUyxPQUFPO0FBQ2hCOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxXQUFXOztBQUVYOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsNENBQTRDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGVBQWUsc0JBQXNCO0FBQ3JDO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGdFQUFnRTtBQUNoRTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFdBQVcsY0FBYzs7QUFFekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixtQkFBbUI7QUFDckM7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix1Q0FBdUM7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHVEQUF1RDtBQUMvRTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsSUFBSTtBQUNKLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSwrQ0FBK0M7QUFDckQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx1Q0FBdUM7QUFDdkM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQsZUFBZSxvQ0FBb0M7O0FBRW5EO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHlEQUF5RDtBQUN6RDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGOztBQUVBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLEVBQUU7OztBQUdGOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSw0Q0FBNEMsT0FBTztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qjs7QUFFOUI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsaUJBQWlCLGdCQUFnQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFFBQVE7O0FBRVI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsU0FBUywrQkFBK0I7QUFDeEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsd0NBQXdDLE9BQU87QUFDL0M7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEseUNBQXlDLE9BQU87QUFDaEQ7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxVQUFVLHFDQUFxQztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBLFVBQVUsOEJBQThCO0FBQ3hDOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLEVBQUU7O0FBRUY7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxhQUFhLE9BQU87QUFDcEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsTUFBTTtBQUNOOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxVQUFVLFdBQVc7QUFDckI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTs7OztBQUlBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwrQ0FBK0MsY0FBYyxXQUFXO0FBQ3hFLG1CQUFtQixVQUFVO0FBQzdCO0FBQ0Esc0JBQXNCLGNBQWMsc0JBQXNCLGdCQUFnQjtBQUMxRSxnQkFBZ0IsV0FBVyxZQUFZO0FBQ3ZDLGNBQWM7QUFDZDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDZDQUE2QyxjQUFjO0FBQzNELCtDQUErQzs7QUFFL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOzs7QUFHRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHVEQUF1RDtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDhEQUE4RDtBQUMzRTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFNBQVMsT0FBTzs7QUFFaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxhQUFhOztBQUViO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBLElBQUk7O0FBRUo7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7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LElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGtEQUFrRCwwQkFBMEI7QUFDNUU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FB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RUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxTQUFTLG1CQUFtQjtBQUM1Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7O0FBR0Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7Ozs7QUFLRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7Ozs7O0FBS0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IsdUJBQXVCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IsdUJBQXVCO0FBQ3pDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxpQkFBaUIsdUJBQXVCO0FBQ3hDOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOzs7OztBQUtGOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUEsa0NBQWtDO0FBQ2xDO0FBQ0E7O0FBRUEsS0FBSztBQUNMOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsTUFBTTtBQUNOOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBLFlBQVksU0FBUztBQUNyQjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7Ozs7QUFLRjtBQUNBOztBQUVBLGNBQWM7O0FBRWQ7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx1Q0FBdUM7QUFDdkM7QUFDQTtBQUNBOztBQUVBOztBQUVBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLCtDQUErQztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRDQUE0QztBQUM1Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsS0FBSztBQUNoQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxFQUFFOztBQUVGOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7O0FBR0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUosR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSixHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYztBQUNkLE1BQU07QUFDTjs7QUFFQSxZQUFZO0FBQ1osSUFBSTtBQUNKO0FBQ0EsRUFBRTs7O0FBR0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7O0FBRWhCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7O0FBRWhCLHFEQUFxRDtBQUNyRDs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxtQkFBbUI7QUFDbkI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EseURBQXlEO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjs7QUFFakI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxVQUFVO0FBQ1Y7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGlCQUFpQjtBQUNqQixTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1EOztBQUVuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLDJCQUEyQjs7QUFFM0I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtDQUFrQzs7QUFFbEM7QUFDQSxzQkFBc0I7QUFDdEIsMkJBQTJCOztBQUUzQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxRQUFROztBQUVSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RDtBQUN2RDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsTUFBTTtBQUNOOztBQUVBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7O0FBR0Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLElBQUk7QUFDSixFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSixFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsRUFBRTs7O0FBR0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7O0FBRUEsb0RBQW9EO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSx1QkFBdUI7QUFDbkMsWUFBWSx3QkFBd0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7Ozs7O0FBS0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEMsY0FBYyx1Q0FBdUM7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7Ozs7QUFLRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBLEVBQUU7Ozs7O0FBS0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7O0FBR0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKOztBQUVBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EscURBQXFEO0FBQ3JEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9CQUFvQjs7QUFFcEI7QUFDQTs7QUFFQTtBQUNBOztBQUVBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUk7QUFDSjtBQUNBLEVBQUU7O0FBRUY7QUFDQSxlQUFlLHFEQUFxRDtBQUNwRTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOzs7QUFHRjtBQUNBLGVBQWUsa0NBQWtDO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsR0FBRztBQUNILEVBQUU7OztBQUdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOzs7OztBQUtGOztBQUVBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLLElBQTBDO0FBQy9DLENBQUMsaUNBQWtCLEVBQUUsbUNBQUU7QUFDdkI7QUFDQSxFQUFFO0FBQUEsa0dBQUU7QUFDSjs7Ozs7QUFLQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0EsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9qcXVlcnkvZGlzdC9qcXVlcnkuanM/ODI2MiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIGpRdWVyeSBKYXZhU2NyaXB0IExpYnJhcnkgdjMuNy4xXG4gKiBodHRwczovL2pxdWVyeS5jb20vXG4gKlxuICogQ29weXJpZ2h0IE9wZW5KUyBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICogaHR0cHM6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqXG4gKiBEYXRlOiAyMDIzLTA4LTI4VDEzOjM3WlxuICovXG4oIGZ1bmN0aW9uKCBnbG9iYWwsIGZhY3RvcnkgKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0aWYgKCB0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBtb2R1bGUuZXhwb3J0cyA9PT0gXCJvYmplY3RcIiApIHtcblxuXHRcdC8vIEZvciBDb21tb25KUyBhbmQgQ29tbW9uSlMtbGlrZSBlbnZpcm9ubWVudHMgd2hlcmUgYSBwcm9wZXIgYHdpbmRvd2Bcblx0XHQvLyBpcyBwcmVzZW50LCBleGVjdXRlIHRoZSBmYWN0b3J5IGFuZCBnZXQgalF1ZXJ5LlxuXHRcdC8vIEZvciBlbnZpcm9ubWVudHMgdGhhdCBkbyBub3QgaGF2ZSBhIGB3aW5kb3dgIHdpdGggYSBgZG9jdW1lbnRgXG5cdFx0Ly8gKHN1Y2ggYXMgTm9kZS5qcyksIGV4cG9zZSBhIGZhY3RvcnkgYXMgbW9kdWxlLmV4cG9ydHMuXG5cdFx0Ly8gVGhpcyBhY2NlbnR1YXRlcyB0aGUgbmVlZCBmb3IgdGhlIGNyZWF0aW9uIG9mIGEgcmVhbCBgd2luZG93YC5cblx0XHQvLyBlLmcuIHZhciBqUXVlcnkgPSByZXF1aXJlKFwianF1ZXJ5XCIpKHdpbmRvdyk7XG5cdFx0Ly8gU2VlIHRpY2tldCB0cmFjLTE0NTQ5IGZvciBtb3JlIGluZm8uXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBnbG9iYWwuZG9jdW1lbnQgP1xuXHRcdFx0ZmFjdG9yeSggZ2xvYmFsLCB0cnVlICkgOlxuXHRcdFx0ZnVuY3Rpb24oIHcgKSB7XG5cdFx0XHRcdGlmICggIXcuZG9jdW1lbnQgKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCBcImpRdWVyeSByZXF1aXJlcyBhIHdpbmRvdyB3aXRoIGEgZG9jdW1lbnRcIiApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBmYWN0b3J5KCB3ICk7XG5cdFx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdGZhY3RvcnkoIGdsb2JhbCApO1xuXHR9XG5cbi8vIFBhc3MgdGhpcyBpZiB3aW5kb3cgaXMgbm90IGRlZmluZWQgeWV0XG59ICkoIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB0aGlzLCBmdW5jdGlvbiggd2luZG93LCBub0dsb2JhbCApIHtcblxuLy8gRWRnZSA8PSAxMiAtIDEzKywgRmlyZWZveCA8PTE4IC0gNDUrLCBJRSAxMCAtIDExLCBTYWZhcmkgNS4xIC0gOSssIGlPUyA2IC0gOS4xXG4vLyB0aHJvdyBleGNlcHRpb25zIHdoZW4gbm9uLXN0cmljdCBjb2RlIChlLmcuLCBBU1AuTkVUIDQuNSkgYWNjZXNzZXMgc3RyaWN0IG1vZGVcbi8vIGFyZ3VtZW50cy5jYWxsZWUuY2FsbGVyICh0cmFjLTEzMzM1KS4gQnV0IGFzIG9mIGpRdWVyeSAzLjAgKDIwMTYpLCBzdHJpY3QgbW9kZSBzaG91bGQgYmUgY29tbW9uXG4vLyBlbm91Z2ggdGhhdCBhbGwgc3VjaCBhdHRlbXB0cyBhcmUgZ3VhcmRlZCBpbiBhIHRyeSBibG9jay5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgYXJyID0gW107XG5cbnZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcblxudmFyIHNsaWNlID0gYXJyLnNsaWNlO1xuXG52YXIgZmxhdCA9IGFyci5mbGF0ID8gZnVuY3Rpb24oIGFycmF5ICkge1xuXHRyZXR1cm4gYXJyLmZsYXQuY2FsbCggYXJyYXkgKTtcbn0gOiBmdW5jdGlvbiggYXJyYXkgKSB7XG5cdHJldHVybiBhcnIuY29uY2F0LmFwcGx5KCBbXSwgYXJyYXkgKTtcbn07XG5cblxudmFyIHB1c2ggPSBhcnIucHVzaDtcblxudmFyIGluZGV4T2YgPSBhcnIuaW5kZXhPZjtcblxudmFyIGNsYXNzMnR5cGUgPSB7fTtcblxudmFyIHRvU3RyaW5nID0gY2xhc3MydHlwZS50b1N0cmluZztcblxudmFyIGhhc093biA9IGNsYXNzMnR5cGUuaGFzT3duUHJvcGVydHk7XG5cbnZhciBmblRvU3RyaW5nID0gaGFzT3duLnRvU3RyaW5nO1xuXG52YXIgT2JqZWN0RnVuY3Rpb25TdHJpbmcgPSBmblRvU3RyaW5nLmNhbGwoIE9iamVjdCApO1xuXG52YXIgc3VwcG9ydCA9IHt9O1xuXG52YXIgaXNGdW5jdGlvbiA9IGZ1bmN0aW9uIGlzRnVuY3Rpb24oIG9iaiApIHtcblxuXHRcdC8vIFN1cHBvcnQ6IENocm9tZSA8PTU3LCBGaXJlZm94IDw9NTJcblx0XHQvLyBJbiBzb21lIGJyb3dzZXJzLCB0eXBlb2YgcmV0dXJucyBcImZ1bmN0aW9uXCIgZm9yIEhUTUwgPG9iamVjdD4gZWxlbWVudHNcblx0XHQvLyAoaS5lLiwgYHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcIm9iamVjdFwiICkgPT09IFwiZnVuY3Rpb25cImApLlxuXHRcdC8vIFdlIGRvbid0IHdhbnQgdG8gY2xhc3NpZnkgKmFueSogRE9NIG5vZGUgYXMgYSBmdW5jdGlvbi5cblx0XHQvLyBTdXBwb3J0OiBRdFdlYiA8PTMuOC41LCBXZWJLaXQgPD01MzQuMzQsIHdraHRtbHRvcGRmIHRvb2wgPD0wLjEyLjVcblx0XHQvLyBQbHVzIGZvciBvbGQgV2ViS2l0LCB0eXBlb2YgcmV0dXJucyBcImZ1bmN0aW9uXCIgZm9yIEhUTUwgY29sbGVjdGlvbnNcblx0XHQvLyAoZS5nLiwgYHR5cGVvZiBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImRpdlwiKSA9PT0gXCJmdW5jdGlvblwiYCkuIChnaC00NzU2KVxuXHRcdHJldHVybiB0eXBlb2Ygb2JqID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIG9iai5ub2RlVHlwZSAhPT0gXCJudW1iZXJcIiAmJlxuXHRcdFx0dHlwZW9mIG9iai5pdGVtICE9PSBcImZ1bmN0aW9uXCI7XG5cdH07XG5cblxudmFyIGlzV2luZG93ID0gZnVuY3Rpb24gaXNXaW5kb3coIG9iaiApIHtcblx0XHRyZXR1cm4gb2JqICE9IG51bGwgJiYgb2JqID09PSBvYmoud2luZG93O1xuXHR9O1xuXG5cbnZhciBkb2N1bWVudCA9IHdpbmRvdy5kb2N1bWVudDtcblxuXG5cblx0dmFyIHByZXNlcnZlZFNjcmlwdEF0dHJpYnV0ZXMgPSB7XG5cdFx0dHlwZTogdHJ1ZSxcblx0XHRzcmM6IHRydWUsXG5cdFx0bm9uY2U6IHRydWUsXG5cdFx0bm9Nb2R1bGU6IHRydWVcblx0fTtcblxuXHRmdW5jdGlvbiBET01FdmFsKCBjb2RlLCBub2RlLCBkb2MgKSB7XG5cdFx0ZG9jID0gZG9jIHx8IGRvY3VtZW50O1xuXG5cdFx0dmFyIGksIHZhbCxcblx0XHRcdHNjcmlwdCA9IGRvYy5jcmVhdGVFbGVtZW50KCBcInNjcmlwdFwiICk7XG5cblx0XHRzY3JpcHQudGV4dCA9IGNvZGU7XG5cdFx0aWYgKCBub2RlICkge1xuXHRcdFx0Zm9yICggaSBpbiBwcmVzZXJ2ZWRTY3JpcHRBdHRyaWJ1dGVzICkge1xuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3ggNjQrLCBFZGdlIDE4K1xuXHRcdFx0XHQvLyBTb21lIGJyb3dzZXJzIGRvbid0IHN1cHBvcnQgdGhlIFwibm9uY2VcIiBwcm9wZXJ0eSBvbiBzY3JpcHRzLlxuXHRcdFx0XHQvLyBPbiB0aGUgb3RoZXIgaGFuZCwganVzdCB1c2luZyBgZ2V0QXR0cmlidXRlYCBpcyBub3QgZW5vdWdoIGFzXG5cdFx0XHRcdC8vIHRoZSBgbm9uY2VgIGF0dHJpYnV0ZSBpcyByZXNldCB0byBhbiBlbXB0eSBzdHJpbmcgd2hlbmV2ZXIgaXRcblx0XHRcdFx0Ly8gYmVjb21lcyBicm93c2luZy1jb250ZXh0IGNvbm5lY3RlZC5cblx0XHRcdFx0Ly8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93aGF0d2cvaHRtbC9pc3N1ZXMvMjM2OVxuXHRcdFx0XHQvLyBTZWUgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy8jbm9uY2UtYXR0cmlidXRlc1xuXHRcdFx0XHQvLyBUaGUgYG5vZGUuZ2V0QXR0cmlidXRlYCBjaGVjayB3YXMgYWRkZWQgZm9yIHRoZSBzYWtlIG9mXG5cdFx0XHRcdC8vIGBqUXVlcnkuZ2xvYmFsRXZhbGAgc28gdGhhdCBpdCBjYW4gZmFrZSBhIG5vbmNlLWNvbnRhaW5pbmcgbm9kZVxuXHRcdFx0XHQvLyB2aWEgYW4gb2JqZWN0LlxuXHRcdFx0XHR2YWwgPSBub2RlWyBpIF0gfHwgbm9kZS5nZXRBdHRyaWJ1dGUgJiYgbm9kZS5nZXRBdHRyaWJ1dGUoIGkgKTtcblx0XHRcdFx0aWYgKCB2YWwgKSB7XG5cdFx0XHRcdFx0c2NyaXB0LnNldEF0dHJpYnV0ZSggaSwgdmFsICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0ZG9jLmhlYWQuYXBwZW5kQ2hpbGQoIHNjcmlwdCApLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIHNjcmlwdCApO1xuXHR9XG5cblxuZnVuY3Rpb24gdG9UeXBlKCBvYmogKSB7XG5cdGlmICggb2JqID09IG51bGwgKSB7XG5cdFx0cmV0dXJuIG9iaiArIFwiXCI7XG5cdH1cblxuXHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9Mi4zIG9ubHkgKGZ1bmN0aW9uaXNoIFJlZ0V4cClcblx0cmV0dXJuIHR5cGVvZiBvYmogPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIG9iaiA9PT0gXCJmdW5jdGlvblwiID9cblx0XHRjbGFzczJ0eXBlWyB0b1N0cmluZy5jYWxsKCBvYmogKSBdIHx8IFwib2JqZWN0XCIgOlxuXHRcdHR5cGVvZiBvYmo7XG59XG4vKiBnbG9iYWwgU3ltYm9sICovXG4vLyBEZWZpbmluZyB0aGlzIGdsb2JhbCBpbiAuZXNsaW50cmMuanNvbiB3b3VsZCBjcmVhdGUgYSBkYW5nZXIgb2YgdXNpbmcgdGhlIGdsb2JhbFxuLy8gdW5ndWFyZGVkIGluIGFub3RoZXIgcGxhY2UsIGl0IHNlZW1zIHNhZmVyIHRvIGRlZmluZSBnbG9iYWwgb25seSBmb3IgdGhpcyBtb2R1bGVcblxuXG5cbnZhciB2ZXJzaW9uID0gXCIzLjcuMVwiLFxuXG5cdHJodG1sU3VmZml4ID0gL0hUTUwkL2ksXG5cblx0Ly8gRGVmaW5lIGEgbG9jYWwgY29weSBvZiBqUXVlcnlcblx0alF1ZXJ5ID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBjb250ZXh0ICkge1xuXG5cdFx0Ly8gVGhlIGpRdWVyeSBvYmplY3QgaXMgYWN0dWFsbHkganVzdCB0aGUgaW5pdCBjb25zdHJ1Y3RvciAnZW5oYW5jZWQnXG5cdFx0Ly8gTmVlZCBpbml0IGlmIGpRdWVyeSBpcyBjYWxsZWQgKGp1c3QgYWxsb3cgZXJyb3IgdG8gYmUgdGhyb3duIGlmIG5vdCBpbmNsdWRlZClcblx0XHRyZXR1cm4gbmV3IGpRdWVyeS5mbi5pbml0KCBzZWxlY3RvciwgY29udGV4dCApO1xuXHR9O1xuXG5qUXVlcnkuZm4gPSBqUXVlcnkucHJvdG90eXBlID0ge1xuXG5cdC8vIFRoZSBjdXJyZW50IHZlcnNpb24gb2YgalF1ZXJ5IGJlaW5nIHVzZWRcblx0anF1ZXJ5OiB2ZXJzaW9uLFxuXG5cdGNvbnN0cnVjdG9yOiBqUXVlcnksXG5cblx0Ly8gVGhlIGRlZmF1bHQgbGVuZ3RoIG9mIGEgalF1ZXJ5IG9iamVjdCBpcyAwXG5cdGxlbmd0aDogMCxcblxuXHR0b0FycmF5OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gc2xpY2UuY2FsbCggdGhpcyApO1xuXHR9LFxuXG5cdC8vIEdldCB0aGUgTnRoIGVsZW1lbnQgaW4gdGhlIG1hdGNoZWQgZWxlbWVudCBzZXQgT1Jcblx0Ly8gR2V0IHRoZSB3aG9sZSBtYXRjaGVkIGVsZW1lbnQgc2V0IGFzIGEgY2xlYW4gYXJyYXlcblx0Z2V0OiBmdW5jdGlvbiggbnVtICkge1xuXG5cdFx0Ly8gUmV0dXJuIGFsbCB0aGUgZWxlbWVudHMgaW4gYSBjbGVhbiBhcnJheVxuXHRcdGlmICggbnVtID09IG51bGwgKSB7XG5cdFx0XHRyZXR1cm4gc2xpY2UuY2FsbCggdGhpcyApO1xuXHRcdH1cblxuXHRcdC8vIFJldHVybiBqdXN0IHRoZSBvbmUgZWxlbWVudCBmcm9tIHRoZSBzZXRcblx0XHRyZXR1cm4gbnVtIDwgMCA/IHRoaXNbIG51bSArIHRoaXMubGVuZ3RoIF0gOiB0aGlzWyBudW0gXTtcblx0fSxcblxuXHQvLyBUYWtlIGFuIGFycmF5IG9mIGVsZW1lbnRzIGFuZCBwdXNoIGl0IG9udG8gdGhlIHN0YWNrXG5cdC8vIChyZXR1cm5pbmcgdGhlIG5ldyBtYXRjaGVkIGVsZW1lbnQgc2V0KVxuXHRwdXNoU3RhY2s6IGZ1bmN0aW9uKCBlbGVtcyApIHtcblxuXHRcdC8vIEJ1aWxkIGEgbmV3IGpRdWVyeSBtYXRjaGVkIGVsZW1lbnQgc2V0XG5cdFx0dmFyIHJldCA9IGpRdWVyeS5tZXJnZSggdGhpcy5jb25zdHJ1Y3RvcigpLCBlbGVtcyApO1xuXG5cdFx0Ly8gQWRkIHRoZSBvbGQgb2JqZWN0IG9udG8gdGhlIHN0YWNrIChhcyBhIHJlZmVyZW5jZSlcblx0XHRyZXQucHJldk9iamVjdCA9IHRoaXM7XG5cblx0XHQvLyBSZXR1cm4gdGhlIG5ld2x5LWZvcm1lZCBlbGVtZW50IHNldFxuXHRcdHJldHVybiByZXQ7XG5cdH0sXG5cblx0Ly8gRXhlY3V0ZSBhIGNhbGxiYWNrIGZvciBldmVyeSBlbGVtZW50IGluIHRoZSBtYXRjaGVkIHNldC5cblx0ZWFjaDogZnVuY3Rpb24oIGNhbGxiYWNrICkge1xuXHRcdHJldHVybiBqUXVlcnkuZWFjaCggdGhpcywgY2FsbGJhY2sgKTtcblx0fSxcblxuXHRtYXA6IGZ1bmN0aW9uKCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIGpRdWVyeS5tYXAoIHRoaXMsIGZ1bmN0aW9uKCBlbGVtLCBpICkge1xuXHRcdFx0cmV0dXJuIGNhbGxiYWNrLmNhbGwoIGVsZW0sIGksIGVsZW0gKTtcblx0XHR9ICkgKTtcblx0fSxcblxuXHRzbGljZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBzbGljZS5hcHBseSggdGhpcywgYXJndW1lbnRzICkgKTtcblx0fSxcblxuXHRmaXJzdDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuZXEoIDAgKTtcblx0fSxcblxuXHRsYXN0OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5lcSggLTEgKTtcblx0fSxcblxuXHRldmVuOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIGpRdWVyeS5ncmVwKCB0aGlzLCBmdW5jdGlvbiggX2VsZW0sIGkgKSB7XG5cdFx0XHRyZXR1cm4gKCBpICsgMSApICUgMjtcblx0XHR9ICkgKTtcblx0fSxcblxuXHRvZGQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggalF1ZXJ5LmdyZXAoIHRoaXMsIGZ1bmN0aW9uKCBfZWxlbSwgaSApIHtcblx0XHRcdHJldHVybiBpICUgMjtcblx0XHR9ICkgKTtcblx0fSxcblxuXHRlcTogZnVuY3Rpb24oIGkgKSB7XG5cdFx0dmFyIGxlbiA9IHRoaXMubGVuZ3RoLFxuXHRcdFx0aiA9ICtpICsgKCBpIDwgMCA/IGxlbiA6IDAgKTtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIGogPj0gMCAmJiBqIDwgbGVuID8gWyB0aGlzWyBqIF0gXSA6IFtdICk7XG5cdH0sXG5cblx0ZW5kOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5wcmV2T2JqZWN0IHx8IHRoaXMuY29uc3RydWN0b3IoKTtcblx0fSxcblxuXHQvLyBGb3IgaW50ZXJuYWwgdXNlIG9ubHkuXG5cdC8vIEJlaGF2ZXMgbGlrZSBhbiBBcnJheSdzIG1ldGhvZCwgbm90IGxpa2UgYSBqUXVlcnkgbWV0aG9kLlxuXHRwdXNoOiBwdXNoLFxuXHRzb3J0OiBhcnIuc29ydCxcblx0c3BsaWNlOiBhcnIuc3BsaWNlXG59O1xuXG5qUXVlcnkuZXh0ZW5kID0galF1ZXJ5LmZuLmV4dGVuZCA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgb3B0aW9ucywgbmFtZSwgc3JjLCBjb3B5LCBjb3B5SXNBcnJheSwgY2xvbmUsXG5cdFx0dGFyZ2V0ID0gYXJndW1lbnRzWyAwIF0gfHwge30sXG5cdFx0aSA9IDEsXG5cdFx0bGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcblx0XHRkZWVwID0gZmFsc2U7XG5cblx0Ly8gSGFuZGxlIGEgZGVlcCBjb3B5IHNpdHVhdGlvblxuXHRpZiAoIHR5cGVvZiB0YXJnZXQgPT09IFwiYm9vbGVhblwiICkge1xuXHRcdGRlZXAgPSB0YXJnZXQ7XG5cblx0XHQvLyBTa2lwIHRoZSBib29sZWFuIGFuZCB0aGUgdGFyZ2V0XG5cdFx0dGFyZ2V0ID0gYXJndW1lbnRzWyBpIF0gfHwge307XG5cdFx0aSsrO1xuXHR9XG5cblx0Ly8gSGFuZGxlIGNhc2Ugd2hlbiB0YXJnZXQgaXMgYSBzdHJpbmcgb3Igc29tZXRoaW5nIChwb3NzaWJsZSBpbiBkZWVwIGNvcHkpXG5cdGlmICggdHlwZW9mIHRhcmdldCAhPT0gXCJvYmplY3RcIiAmJiAhaXNGdW5jdGlvbiggdGFyZ2V0ICkgKSB7XG5cdFx0dGFyZ2V0ID0ge307XG5cdH1cblxuXHQvLyBFeHRlbmQgalF1ZXJ5IGl0c2VsZiBpZiBvbmx5IG9uZSBhcmd1bWVudCBpcyBwYXNzZWRcblx0aWYgKCBpID09PSBsZW5ndGggKSB7XG5cdFx0dGFyZ2V0ID0gdGhpcztcblx0XHRpLS07XG5cdH1cblxuXHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcblxuXHRcdC8vIE9ubHkgZGVhbCB3aXRoIG5vbi1udWxsL3VuZGVmaW5lZCB2YWx1ZXNcblx0XHRpZiAoICggb3B0aW9ucyA9IGFyZ3VtZW50c1sgaSBdICkgIT0gbnVsbCApIHtcblxuXHRcdFx0Ly8gRXh0ZW5kIHRoZSBiYXNlIG9iamVjdFxuXHRcdFx0Zm9yICggbmFtZSBpbiBvcHRpb25zICkge1xuXHRcdFx0XHRjb3B5ID0gb3B0aW9uc1sgbmFtZSBdO1xuXG5cdFx0XHRcdC8vIFByZXZlbnQgT2JqZWN0LnByb3RvdHlwZSBwb2xsdXRpb25cblx0XHRcdFx0Ly8gUHJldmVudCBuZXZlci1lbmRpbmcgbG9vcFxuXHRcdFx0XHRpZiAoIG5hbWUgPT09IFwiX19wcm90b19fXCIgfHwgdGFyZ2V0ID09PSBjb3B5ICkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gUmVjdXJzZSBpZiB3ZSdyZSBtZXJnaW5nIHBsYWluIG9iamVjdHMgb3IgYXJyYXlzXG5cdFx0XHRcdGlmICggZGVlcCAmJiBjb3B5ICYmICggalF1ZXJ5LmlzUGxhaW5PYmplY3QoIGNvcHkgKSB8fFxuXHRcdFx0XHRcdCggY29weUlzQXJyYXkgPSBBcnJheS5pc0FycmF5KCBjb3B5ICkgKSApICkge1xuXHRcdFx0XHRcdHNyYyA9IHRhcmdldFsgbmFtZSBdO1xuXG5cdFx0XHRcdFx0Ly8gRW5zdXJlIHByb3BlciB0eXBlIGZvciB0aGUgc291cmNlIHZhbHVlXG5cdFx0XHRcdFx0aWYgKCBjb3B5SXNBcnJheSAmJiAhQXJyYXkuaXNBcnJheSggc3JjICkgKSB7XG5cdFx0XHRcdFx0XHRjbG9uZSA9IFtdO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoICFjb3B5SXNBcnJheSAmJiAhalF1ZXJ5LmlzUGxhaW5PYmplY3QoIHNyYyApICkge1xuXHRcdFx0XHRcdFx0Y2xvbmUgPSB7fTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Y2xvbmUgPSBzcmM7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNvcHlJc0FycmF5ID0gZmFsc2U7XG5cblx0XHRcdFx0XHQvLyBOZXZlciBtb3ZlIG9yaWdpbmFsIG9iamVjdHMsIGNsb25lIHRoZW1cblx0XHRcdFx0XHR0YXJnZXRbIG5hbWUgXSA9IGpRdWVyeS5leHRlbmQoIGRlZXAsIGNsb25lLCBjb3B5ICk7XG5cblx0XHRcdFx0Ly8gRG9uJ3QgYnJpbmcgaW4gdW5kZWZpbmVkIHZhbHVlc1xuXHRcdFx0XHR9IGVsc2UgaWYgKCBjb3B5ICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0dGFyZ2V0WyBuYW1lIF0gPSBjb3B5O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gUmV0dXJuIHRoZSBtb2RpZmllZCBvYmplY3Rcblx0cmV0dXJuIHRhcmdldDtcbn07XG5cbmpRdWVyeS5leHRlbmQoIHtcblxuXHQvLyBVbmlxdWUgZm9yIGVhY2ggY29weSBvZiBqUXVlcnkgb24gdGhlIHBhZ2Vcblx0ZXhwYW5kbzogXCJqUXVlcnlcIiArICggdmVyc2lvbiArIE1hdGgucmFuZG9tKCkgKS5yZXBsYWNlKCAvXFxEL2csIFwiXCIgKSxcblxuXHQvLyBBc3N1bWUgalF1ZXJ5IGlzIHJlYWR5IHdpdGhvdXQgdGhlIHJlYWR5IG1vZHVsZVxuXHRpc1JlYWR5OiB0cnVlLFxuXG5cdGVycm9yOiBmdW5jdGlvbiggbXNnICkge1xuXHRcdHRocm93IG5ldyBFcnJvciggbXNnICk7XG5cdH0sXG5cblx0bm9vcDogZnVuY3Rpb24oKSB7fSxcblxuXHRpc1BsYWluT2JqZWN0OiBmdW5jdGlvbiggb2JqICkge1xuXHRcdHZhciBwcm90bywgQ3RvcjtcblxuXHRcdC8vIERldGVjdCBvYnZpb3VzIG5lZ2F0aXZlc1xuXHRcdC8vIFVzZSB0b1N0cmluZyBpbnN0ZWFkIG9mIGpRdWVyeS50eXBlIHRvIGNhdGNoIGhvc3Qgb2JqZWN0c1xuXHRcdGlmICggIW9iaiB8fCB0b1N0cmluZy5jYWxsKCBvYmogKSAhPT0gXCJbb2JqZWN0IE9iamVjdF1cIiApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRwcm90byA9IGdldFByb3RvKCBvYmogKTtcblxuXHRcdC8vIE9iamVjdHMgd2l0aCBubyBwcm90b3R5cGUgKGUuZy4sIGBPYmplY3QuY3JlYXRlKCBudWxsIClgKSBhcmUgcGxhaW5cblx0XHRpZiAoICFwcm90byApIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdC8vIE9iamVjdHMgd2l0aCBwcm90b3R5cGUgYXJlIHBsYWluIGlmZiB0aGV5IHdlcmUgY29uc3RydWN0ZWQgYnkgYSBnbG9iYWwgT2JqZWN0IGZ1bmN0aW9uXG5cdFx0Q3RvciA9IGhhc093bi5jYWxsKCBwcm90bywgXCJjb25zdHJ1Y3RvclwiICkgJiYgcHJvdG8uY29uc3RydWN0b3I7XG5cdFx0cmV0dXJuIHR5cGVvZiBDdG9yID09PSBcImZ1bmN0aW9uXCIgJiYgZm5Ub1N0cmluZy5jYWxsKCBDdG9yICkgPT09IE9iamVjdEZ1bmN0aW9uU3RyaW5nO1xuXHR9LFxuXG5cdGlzRW1wdHlPYmplY3Q6IGZ1bmN0aW9uKCBvYmogKSB7XG5cdFx0dmFyIG5hbWU7XG5cblx0XHRmb3IgKCBuYW1lIGluIG9iaiApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cblx0Ly8gRXZhbHVhdGVzIGEgc2NyaXB0IGluIGEgcHJvdmlkZWQgY29udGV4dDsgZmFsbHMgYmFjayB0byB0aGUgZ2xvYmFsIG9uZVxuXHQvLyBpZiBub3Qgc3BlY2lmaWVkLlxuXHRnbG9iYWxFdmFsOiBmdW5jdGlvbiggY29kZSwgb3B0aW9ucywgZG9jICkge1xuXHRcdERPTUV2YWwoIGNvZGUsIHsgbm9uY2U6IG9wdGlvbnMgJiYgb3B0aW9ucy5ub25jZSB9LCBkb2MgKTtcblx0fSxcblxuXHRlYWNoOiBmdW5jdGlvbiggb2JqLCBjYWxsYmFjayApIHtcblx0XHR2YXIgbGVuZ3RoLCBpID0gMDtcblxuXHRcdGlmICggaXNBcnJheUxpa2UoIG9iaiApICkge1xuXHRcdFx0bGVuZ3RoID0gb2JqLmxlbmd0aDtcblx0XHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xuXHRcdFx0XHRpZiAoIGNhbGxiYWNrLmNhbGwoIG9ialsgaSBdLCBpLCBvYmpbIGkgXSApID09PSBmYWxzZSApIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRmb3IgKCBpIGluIG9iaiApIHtcblx0XHRcdFx0aWYgKCBjYWxsYmFjay5jYWxsKCBvYmpbIGkgXSwgaSwgb2JqWyBpIF0gKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gb2JqO1xuXHR9LFxuXG5cblx0Ly8gUmV0cmlldmUgdGhlIHRleHQgdmFsdWUgb2YgYW4gYXJyYXkgb2YgRE9NIG5vZGVzXG5cdHRleHQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHZhciBub2RlLFxuXHRcdFx0cmV0ID0gXCJcIixcblx0XHRcdGkgPSAwLFxuXHRcdFx0bm9kZVR5cGUgPSBlbGVtLm5vZGVUeXBlO1xuXG5cdFx0aWYgKCAhbm9kZVR5cGUgKSB7XG5cblx0XHRcdC8vIElmIG5vIG5vZGVUeXBlLCB0aGlzIGlzIGV4cGVjdGVkIHRvIGJlIGFuIGFycmF5XG5cdFx0XHR3aGlsZSAoICggbm9kZSA9IGVsZW1bIGkrKyBdICkgKSB7XG5cblx0XHRcdFx0Ly8gRG8gbm90IHRyYXZlcnNlIGNvbW1lbnQgbm9kZXNcblx0XHRcdFx0cmV0ICs9IGpRdWVyeS50ZXh0KCBub2RlICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmICggbm9kZVR5cGUgPT09IDEgfHwgbm9kZVR5cGUgPT09IDExICkge1xuXHRcdFx0cmV0dXJuIGVsZW0udGV4dENvbnRlbnQ7XG5cdFx0fVxuXHRcdGlmICggbm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5kb2N1bWVudEVsZW1lbnQudGV4dENvbnRlbnQ7XG5cdFx0fVxuXHRcdGlmICggbm9kZVR5cGUgPT09IDMgfHwgbm9kZVR5cGUgPT09IDQgKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5ub2RlVmFsdWU7XG5cdFx0fVxuXG5cdFx0Ly8gRG8gbm90IGluY2x1ZGUgY29tbWVudCBvciBwcm9jZXNzaW5nIGluc3RydWN0aW9uIG5vZGVzXG5cblx0XHRyZXR1cm4gcmV0O1xuXHR9LFxuXG5cdC8vIHJlc3VsdHMgaXMgZm9yIGludGVybmFsIHVzYWdlIG9ubHlcblx0bWFrZUFycmF5OiBmdW5jdGlvbiggYXJyLCByZXN1bHRzICkge1xuXHRcdHZhciByZXQgPSByZXN1bHRzIHx8IFtdO1xuXG5cdFx0aWYgKCBhcnIgIT0gbnVsbCApIHtcblx0XHRcdGlmICggaXNBcnJheUxpa2UoIE9iamVjdCggYXJyICkgKSApIHtcblx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCByZXQsXG5cdFx0XHRcdFx0dHlwZW9mIGFyciA9PT0gXCJzdHJpbmdcIiA/XG5cdFx0XHRcdFx0XHRbIGFyciBdIDogYXJyXG5cdFx0XHRcdCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRwdXNoLmNhbGwoIHJldCwgYXJyICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJldDtcblx0fSxcblxuXHRpbkFycmF5OiBmdW5jdGlvbiggZWxlbSwgYXJyLCBpICkge1xuXHRcdHJldHVybiBhcnIgPT0gbnVsbCA/IC0xIDogaW5kZXhPZi5jYWxsKCBhcnIsIGVsZW0sIGkgKTtcblx0fSxcblxuXHRpc1hNTERvYzogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0dmFyIG5hbWVzcGFjZSA9IGVsZW0gJiYgZWxlbS5uYW1lc3BhY2VVUkksXG5cdFx0XHRkb2NFbGVtID0gZWxlbSAmJiAoIGVsZW0ub3duZXJEb2N1bWVudCB8fCBlbGVtICkuZG9jdW1lbnRFbGVtZW50O1xuXG5cdFx0Ly8gQXNzdW1lIEhUTUwgd2hlbiBkb2N1bWVudEVsZW1lbnQgZG9lc24ndCB5ZXQgZXhpc3QsIHN1Y2ggYXMgaW5zaWRlXG5cdFx0Ly8gZG9jdW1lbnQgZnJhZ21lbnRzLlxuXHRcdHJldHVybiAhcmh0bWxTdWZmaXgudGVzdCggbmFtZXNwYWNlIHx8IGRvY0VsZW0gJiYgZG9jRWxlbS5ub2RlTmFtZSB8fCBcIkhUTUxcIiApO1xuXHR9LFxuXG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seVxuXHQvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XG5cdG1lcmdlOiBmdW5jdGlvbiggZmlyc3QsIHNlY29uZCApIHtcblx0XHR2YXIgbGVuID0gK3NlY29uZC5sZW5ndGgsXG5cdFx0XHRqID0gMCxcblx0XHRcdGkgPSBmaXJzdC5sZW5ndGg7XG5cblx0XHRmb3IgKCA7IGogPCBsZW47IGorKyApIHtcblx0XHRcdGZpcnN0WyBpKysgXSA9IHNlY29uZFsgaiBdO1xuXHRcdH1cblxuXHRcdGZpcnN0Lmxlbmd0aCA9IGk7XG5cblx0XHRyZXR1cm4gZmlyc3Q7XG5cdH0sXG5cblx0Z3JlcDogZnVuY3Rpb24oIGVsZW1zLCBjYWxsYmFjaywgaW52ZXJ0ICkge1xuXHRcdHZhciBjYWxsYmFja0ludmVyc2UsXG5cdFx0XHRtYXRjaGVzID0gW10sXG5cdFx0XHRpID0gMCxcblx0XHRcdGxlbmd0aCA9IGVsZW1zLmxlbmd0aCxcblx0XHRcdGNhbGxiYWNrRXhwZWN0ID0gIWludmVydDtcblxuXHRcdC8vIEdvIHRocm91Z2ggdGhlIGFycmF5LCBvbmx5IHNhdmluZyB0aGUgaXRlbXNcblx0XHQvLyB0aGF0IHBhc3MgdGhlIHZhbGlkYXRvciBmdW5jdGlvblxuXHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xuXHRcdFx0Y2FsbGJhY2tJbnZlcnNlID0gIWNhbGxiYWNrKCBlbGVtc1sgaSBdLCBpICk7XG5cdFx0XHRpZiAoIGNhbGxiYWNrSW52ZXJzZSAhPT0gY2FsbGJhY2tFeHBlY3QgKSB7XG5cdFx0XHRcdG1hdGNoZXMucHVzaCggZWxlbXNbIGkgXSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBtYXRjaGVzO1xuXHR9LFxuXG5cdC8vIGFyZyBpcyBmb3IgaW50ZXJuYWwgdXNhZ2Ugb25seVxuXHRtYXA6IGZ1bmN0aW9uKCBlbGVtcywgY2FsbGJhY2ssIGFyZyApIHtcblx0XHR2YXIgbGVuZ3RoLCB2YWx1ZSxcblx0XHRcdGkgPSAwLFxuXHRcdFx0cmV0ID0gW107XG5cblx0XHQvLyBHbyB0aHJvdWdoIHRoZSBhcnJheSwgdHJhbnNsYXRpbmcgZWFjaCBvZiB0aGUgaXRlbXMgdG8gdGhlaXIgbmV3IHZhbHVlc1xuXHRcdGlmICggaXNBcnJheUxpa2UoIGVsZW1zICkgKSB7XG5cdFx0XHRsZW5ndGggPSBlbGVtcy5sZW5ndGg7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcblx0XHRcdFx0dmFsdWUgPSBjYWxsYmFjayggZWxlbXNbIGkgXSwgaSwgYXJnICk7XG5cblx0XHRcdFx0aWYgKCB2YWx1ZSAhPSBudWxsICkge1xuXHRcdFx0XHRcdHJldC5wdXNoKCB2YWx1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHQvLyBHbyB0aHJvdWdoIGV2ZXJ5IGtleSBvbiB0aGUgb2JqZWN0LFxuXHRcdH0gZWxzZSB7XG5cdFx0XHRmb3IgKCBpIGluIGVsZW1zICkge1xuXHRcdFx0XHR2YWx1ZSA9IGNhbGxiYWNrKCBlbGVtc1sgaSBdLCBpLCBhcmcgKTtcblxuXHRcdFx0XHRpZiAoIHZhbHVlICE9IG51bGwgKSB7XG5cdFx0XHRcdFx0cmV0LnB1c2goIHZhbHVlICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBGbGF0dGVuIGFueSBuZXN0ZWQgYXJyYXlzXG5cdFx0cmV0dXJuIGZsYXQoIHJldCApO1xuXHR9LFxuXG5cdC8vIEEgZ2xvYmFsIEdVSUQgY291bnRlciBmb3Igb2JqZWN0c1xuXHRndWlkOiAxLFxuXG5cdC8vIGpRdWVyeS5zdXBwb3J0IGlzIG5vdCB1c2VkIGluIENvcmUgYnV0IG90aGVyIHByb2plY3RzIGF0dGFjaCB0aGVpclxuXHQvLyBwcm9wZXJ0aWVzIHRvIGl0IHNvIGl0IG5lZWRzIHRvIGV4aXN0LlxuXHRzdXBwb3J0OiBzdXBwb3J0XG59ICk7XG5cbmlmICggdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICkge1xuXHRqUXVlcnkuZm5bIFN5bWJvbC5pdGVyYXRvciBdID0gYXJyWyBTeW1ib2wuaXRlcmF0b3IgXTtcbn1cblxuLy8gUG9wdWxhdGUgdGhlIGNsYXNzMnR5cGUgbWFwXG5qUXVlcnkuZWFjaCggXCJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgT2JqZWN0IEVycm9yIFN5bWJvbFwiLnNwbGl0KCBcIiBcIiApLFxuXHRmdW5jdGlvbiggX2ksIG5hbWUgKSB7XG5cdFx0Y2xhc3MydHlwZVsgXCJbb2JqZWN0IFwiICsgbmFtZSArIFwiXVwiIF0gPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG5cdH0gKTtcblxuZnVuY3Rpb24gaXNBcnJheUxpa2UoIG9iaiApIHtcblxuXHQvLyBTdXBwb3J0OiByZWFsIGlPUyA4LjIgb25seSAobm90IHJlcHJvZHVjaWJsZSBpbiBzaW11bGF0b3IpXG5cdC8vIGBpbmAgY2hlY2sgdXNlZCB0byBwcmV2ZW50IEpJVCBlcnJvciAoZ2gtMjE0NSlcblx0Ly8gaGFzT3duIGlzbid0IHVzZWQgaGVyZSBkdWUgdG8gZmFsc2UgbmVnYXRpdmVzXG5cdC8vIHJlZ2FyZGluZyBOb2RlbGlzdCBsZW5ndGggaW4gSUVcblx0dmFyIGxlbmd0aCA9ICEhb2JqICYmIFwibGVuZ3RoXCIgaW4gb2JqICYmIG9iai5sZW5ndGgsXG5cdFx0dHlwZSA9IHRvVHlwZSggb2JqICk7XG5cblx0aWYgKCBpc0Z1bmN0aW9uKCBvYmogKSB8fCBpc1dpbmRvdyggb2JqICkgKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0cmV0dXJuIHR5cGUgPT09IFwiYXJyYXlcIiB8fCBsZW5ndGggPT09IDAgfHxcblx0XHR0eXBlb2YgbGVuZ3RoID09PSBcIm51bWJlclwiICYmIGxlbmd0aCA+IDAgJiYgKCBsZW5ndGggLSAxICkgaW4gb2JqO1xufVxuXG5cbmZ1bmN0aW9uIG5vZGVOYW1lKCBlbGVtLCBuYW1lICkge1xuXG5cdHJldHVybiBlbGVtLm5vZGVOYW1lICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuXG59XG52YXIgcG9wID0gYXJyLnBvcDtcblxuXG52YXIgc29ydCA9IGFyci5zb3J0O1xuXG5cbnZhciBzcGxpY2UgPSBhcnIuc3BsaWNlO1xuXG5cbnZhciB3aGl0ZXNwYWNlID0gXCJbXFxcXHgyMFxcXFx0XFxcXHJcXFxcblxcXFxmXVwiO1xuXG5cbnZhciBydHJpbUNTUyA9IG5ldyBSZWdFeHAoXG5cdFwiXlwiICsgd2hpdGVzcGFjZSArIFwiK3woKD86XnxbXlxcXFxcXFxcXSkoPzpcXFxcXFxcXC4pKilcIiArIHdoaXRlc3BhY2UgKyBcIiskXCIsXG5cdFwiZ1wiXG4pO1xuXG5cblxuXG4vLyBOb3RlOiBhbiBlbGVtZW50IGRvZXMgbm90IGNvbnRhaW4gaXRzZWxmXG5qUXVlcnkuY29udGFpbnMgPSBmdW5jdGlvbiggYSwgYiApIHtcblx0dmFyIGJ1cCA9IGIgJiYgYi5wYXJlbnROb2RlO1xuXG5cdHJldHVybiBhID09PSBidXAgfHwgISEoIGJ1cCAmJiBidXAubm9kZVR5cGUgPT09IDEgJiYgKFxuXG5cdFx0Ly8gU3VwcG9ydDogSUUgOSAtIDExK1xuXHRcdC8vIElFIGRvZXNuJ3QgaGF2ZSBgY29udGFpbnNgIG9uIFNWRy5cblx0XHRhLmNvbnRhaW5zID9cblx0XHRcdGEuY29udGFpbnMoIGJ1cCApIDpcblx0XHRcdGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24gJiYgYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiggYnVwICkgJiAxNlxuXHQpICk7XG59O1xuXG5cblxuXG4vLyBDU1Mgc3RyaW5nL2lkZW50aWZpZXIgc2VyaWFsaXphdGlvblxuLy8gaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL2Nzc29tLyNjb21tb24tc2VyaWFsaXppbmctaWRpb21zXG52YXIgcmNzc2VzY2FwZSA9IC8oW1xcMC1cXHgxZlxceDdmXXxeLT9cXGQpfF4tJHxbXlxceDgwLVxcdUZGRkZcXHctXS9nO1xuXG5mdW5jdGlvbiBmY3NzZXNjYXBlKCBjaCwgYXNDb2RlUG9pbnQgKSB7XG5cdGlmICggYXNDb2RlUG9pbnQgKSB7XG5cblx0XHQvLyBVKzAwMDAgTlVMTCBiZWNvbWVzIFUrRkZGRCBSRVBMQUNFTUVOVCBDSEFSQUNURVJcblx0XHRpZiAoIGNoID09PSBcIlxcMFwiICkge1xuXHRcdFx0cmV0dXJuIFwiXFx1RkZGRFwiO1xuXHRcdH1cblxuXHRcdC8vIENvbnRyb2wgY2hhcmFjdGVycyBhbmQgKGRlcGVuZGVudCB1cG9uIHBvc2l0aW9uKSBudW1iZXJzIGdldCBlc2NhcGVkIGFzIGNvZGUgcG9pbnRzXG5cdFx0cmV0dXJuIGNoLnNsaWNlKCAwLCAtMSApICsgXCJcXFxcXCIgKyBjaC5jaGFyQ29kZUF0KCBjaC5sZW5ndGggLSAxICkudG9TdHJpbmcoIDE2ICkgKyBcIiBcIjtcblx0fVxuXG5cdC8vIE90aGVyIHBvdGVudGlhbGx5LXNwZWNpYWwgQVNDSUkgY2hhcmFjdGVycyBnZXQgYmFja3NsYXNoLWVzY2FwZWRcblx0cmV0dXJuIFwiXFxcXFwiICsgY2g7XG59XG5cbmpRdWVyeS5lc2NhcGVTZWxlY3RvciA9IGZ1bmN0aW9uKCBzZWwgKSB7XG5cdHJldHVybiAoIHNlbCArIFwiXCIgKS5yZXBsYWNlKCByY3NzZXNjYXBlLCBmY3NzZXNjYXBlICk7XG59O1xuXG5cblxuXG52YXIgcHJlZmVycmVkRG9jID0gZG9jdW1lbnQsXG5cdHB1c2hOYXRpdmUgPSBwdXNoO1xuXG4oIGZ1bmN0aW9uKCkge1xuXG52YXIgaSxcblx0RXhwcixcblx0b3V0ZXJtb3N0Q29udGV4dCxcblx0c29ydElucHV0LFxuXHRoYXNEdXBsaWNhdGUsXG5cdHB1c2ggPSBwdXNoTmF0aXZlLFxuXG5cdC8vIExvY2FsIGRvY3VtZW50IHZhcnNcblx0ZG9jdW1lbnQsXG5cdGRvY3VtZW50RWxlbWVudCxcblx0ZG9jdW1lbnRJc0hUTUwsXG5cdHJidWdneVFTQSxcblx0bWF0Y2hlcyxcblxuXHQvLyBJbnN0YW5jZS1zcGVjaWZpYyBkYXRhXG5cdGV4cGFuZG8gPSBqUXVlcnkuZXhwYW5kbyxcblx0ZGlycnVucyA9IDAsXG5cdGRvbmUgPSAwLFxuXHRjbGFzc0NhY2hlID0gY3JlYXRlQ2FjaGUoKSxcblx0dG9rZW5DYWNoZSA9IGNyZWF0ZUNhY2hlKCksXG5cdGNvbXBpbGVyQ2FjaGUgPSBjcmVhdGVDYWNoZSgpLFxuXHRub25uYXRpdmVTZWxlY3RvckNhY2hlID0gY3JlYXRlQ2FjaGUoKSxcblx0c29ydE9yZGVyID0gZnVuY3Rpb24oIGEsIGIgKSB7XG5cdFx0aWYgKCBhID09PSBiICkge1xuXHRcdFx0aGFzRHVwbGljYXRlID0gdHJ1ZTtcblx0XHR9XG5cdFx0cmV0dXJuIDA7XG5cdH0sXG5cblx0Ym9vbGVhbnMgPSBcImNoZWNrZWR8c2VsZWN0ZWR8YXN5bmN8YXV0b2ZvY3VzfGF1dG9wbGF5fGNvbnRyb2xzfGRlZmVyfGRpc2FibGVkfGhpZGRlbnxpc21hcHxcIiArXG5cdFx0XCJsb29wfG11bHRpcGxlfG9wZW58cmVhZG9ubHl8cmVxdWlyZWR8c2NvcGVkXCIsXG5cblx0Ly8gUmVndWxhciBleHByZXNzaW9uc1xuXG5cdC8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9jc3Mtc3ludGF4LTMvI2lkZW50LXRva2VuLWRpYWdyYW1cblx0aWRlbnRpZmllciA9IFwiKD86XFxcXFxcXFxbXFxcXGRhLWZBLUZdezEsNn1cIiArIHdoaXRlc3BhY2UgK1xuXHRcdFwiP3xcXFxcXFxcXFteXFxcXHJcXFxcblxcXFxmXXxbXFxcXHctXXxbXlxcMC1cXFxceDdmXSkrXCIsXG5cblx0Ly8gQXR0cmlidXRlIHNlbGVjdG9yczogaHR0cHM6Ly93d3cudzMub3JnL1RSL3NlbGVjdG9ycy8jYXR0cmlidXRlLXNlbGVjdG9yc1xuXHRhdHRyaWJ1dGVzID0gXCJcXFxcW1wiICsgd2hpdGVzcGFjZSArIFwiKihcIiArIGlkZW50aWZpZXIgKyBcIikoPzpcIiArIHdoaXRlc3BhY2UgK1xuXG5cdFx0Ly8gT3BlcmF0b3IgKGNhcHR1cmUgMilcblx0XHRcIiooWypeJHwhfl0/PSlcIiArIHdoaXRlc3BhY2UgK1xuXG5cdFx0Ly8gXCJBdHRyaWJ1dGUgdmFsdWVzIG11c3QgYmUgQ1NTIGlkZW50aWZpZXJzIFtjYXB0dXJlIDVdIG9yIHN0cmluZ3MgW2NhcHR1cmUgMyBvciBjYXB0dXJlIDRdXCJcblx0XHRcIiooPzonKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcJ10pKiknfFxcXCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFxcXFwiXSkqKVxcXCJ8KFwiICsgaWRlbnRpZmllciArIFwiKSl8KVwiICtcblx0XHR3aGl0ZXNwYWNlICsgXCIqXFxcXF1cIixcblxuXHRwc2V1ZG9zID0gXCI6KFwiICsgaWRlbnRpZmllciArIFwiKSg/OlxcXFwoKFwiICtcblxuXHRcdC8vIFRvIHJlZHVjZSB0aGUgbnVtYmVyIG9mIHNlbGVjdG9ycyBuZWVkaW5nIHRva2VuaXplIGluIHRoZSBwcmVGaWx0ZXIsIHByZWZlciBhcmd1bWVudHM6XG5cdFx0Ly8gMS4gcXVvdGVkIChjYXB0dXJlIDM7IGNhcHR1cmUgNCBvciBjYXB0dXJlIDUpXG5cdFx0XCIoJygoPzpcXFxcXFxcXC58W15cXFxcXFxcXCddKSopJ3xcXFwiKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcXFxcIl0pKilcXFwiKXxcIiArXG5cblx0XHQvLyAyLiBzaW1wbGUgKGNhcHR1cmUgNilcblx0XHRcIigoPzpcXFxcXFxcXC58W15cXFxcXFxcXCgpW1xcXFxdXXxcIiArIGF0dHJpYnV0ZXMgKyBcIikqKXxcIiArXG5cblx0XHQvLyAzLiBhbnl0aGluZyBlbHNlIChjYXB0dXJlIDIpXG5cdFx0XCIuKlwiICtcblx0XHRcIilcXFxcKXwpXCIsXG5cblx0Ly8gTGVhZGluZyBhbmQgbm9uLWVzY2FwZWQgdHJhaWxpbmcgd2hpdGVzcGFjZSwgY2FwdHVyaW5nIHNvbWUgbm9uLXdoaXRlc3BhY2UgY2hhcmFjdGVycyBwcmVjZWRpbmcgdGhlIGxhdHRlclxuXHRyd2hpdGVzcGFjZSA9IG5ldyBSZWdFeHAoIHdoaXRlc3BhY2UgKyBcIitcIiwgXCJnXCIgKSxcblxuXHRyY29tbWEgPSBuZXcgUmVnRXhwKCBcIl5cIiArIHdoaXRlc3BhY2UgKyBcIiosXCIgKyB3aGl0ZXNwYWNlICsgXCIqXCIgKSxcblx0cmxlYWRpbmdDb21iaW5hdG9yID0gbmV3IFJlZ0V4cCggXCJeXCIgKyB3aGl0ZXNwYWNlICsgXCIqKFs+K35dfFwiICsgd2hpdGVzcGFjZSArIFwiKVwiICtcblx0XHR3aGl0ZXNwYWNlICsgXCIqXCIgKSxcblx0cmRlc2NlbmQgPSBuZXcgUmVnRXhwKCB3aGl0ZXNwYWNlICsgXCJ8PlwiICksXG5cblx0cnBzZXVkbyA9IG5ldyBSZWdFeHAoIHBzZXVkb3MgKSxcblx0cmlkZW50aWZpZXIgPSBuZXcgUmVnRXhwKCBcIl5cIiArIGlkZW50aWZpZXIgKyBcIiRcIiApLFxuXG5cdG1hdGNoRXhwciA9IHtcblx0XHRJRDogbmV3IFJlZ0V4cCggXCJeIyhcIiArIGlkZW50aWZpZXIgKyBcIilcIiApLFxuXHRcdENMQVNTOiBuZXcgUmVnRXhwKCBcIl5cXFxcLihcIiArIGlkZW50aWZpZXIgKyBcIilcIiApLFxuXHRcdFRBRzogbmV3IFJlZ0V4cCggXCJeKFwiICsgaWRlbnRpZmllciArIFwifFsqXSlcIiApLFxuXHRcdEFUVFI6IG5ldyBSZWdFeHAoIFwiXlwiICsgYXR0cmlidXRlcyApLFxuXHRcdFBTRVVETzogbmV3IFJlZ0V4cCggXCJeXCIgKyBwc2V1ZG9zICksXG5cdFx0Q0hJTEQ6IG5ldyBSZWdFeHAoXG5cdFx0XHRcIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcXFwoXCIgK1xuXHRcdFx0XHR3aGl0ZXNwYWNlICsgXCIqKGV2ZW58b2RkfCgoWystXXwpKFxcXFxkKilufClcIiArIHdoaXRlc3BhY2UgKyBcIiooPzooWystXXwpXCIgK1xuXHRcdFx0XHR3aGl0ZXNwYWNlICsgXCIqKFxcXFxkKyl8KSlcIiArIHdoaXRlc3BhY2UgKyBcIipcXFxcKXwpXCIsIFwiaVwiICksXG5cdFx0Ym9vbDogbmV3IFJlZ0V4cCggXCJeKD86XCIgKyBib29sZWFucyArIFwiKSRcIiwgXCJpXCIgKSxcblxuXHRcdC8vIEZvciB1c2UgaW4gbGlicmFyaWVzIGltcGxlbWVudGluZyAuaXMoKVxuXHRcdC8vIFdlIHVzZSB0aGlzIGZvciBQT1MgbWF0Y2hpbmcgaW4gYHNlbGVjdGBcblx0XHRuZWVkc0NvbnRleHQ6IG5ldyBSZWdFeHAoIFwiXlwiICsgd2hpdGVzcGFjZSArXG5cdFx0XHRcIipbPit+XXw6KGV2ZW58b2RkfGVxfGd0fGx0fG50aHxmaXJzdHxsYXN0KSg/OlxcXFwoXCIgKyB3aGl0ZXNwYWNlICtcblx0XHRcdFwiKigoPzotXFxcXGQpP1xcXFxkKilcIiArIHdoaXRlc3BhY2UgKyBcIipcXFxcKXwpKD89W14tXXwkKVwiLCBcImlcIiApXG5cdH0sXG5cblx0cmlucHV0cyA9IC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksXG5cdHJoZWFkZXIgPSAvXmhcXGQkL2ksXG5cblx0Ly8gRWFzaWx5LXBhcnNlYWJsZS9yZXRyaWV2YWJsZSBJRCBvciBUQUcgb3IgQ0xBU1Mgc2VsZWN0b3JzXG5cdHJxdWlja0V4cHIgPSAvXig/OiMoW1xcdy1dKyl8KFxcdyspfFxcLihbXFx3LV0rKSkkLyxcblxuXHRyc2libGluZyA9IC9bK35dLyxcblxuXHQvLyBDU1MgZXNjYXBlc1xuXHQvLyBodHRwczovL3d3dy53My5vcmcvVFIvQ1NTMjEvc3luZGF0YS5odG1sI2VzY2FwZWQtY2hhcmFjdGVyc1xuXHRydW5lc2NhcGUgPSBuZXcgUmVnRXhwKCBcIlxcXFxcXFxcW1xcXFxkYS1mQS1GXXsxLDZ9XCIgKyB3aGl0ZXNwYWNlICtcblx0XHRcIj98XFxcXFxcXFwoW15cXFxcclxcXFxuXFxcXGZdKVwiLCBcImdcIiApLFxuXHRmdW5lc2NhcGUgPSBmdW5jdGlvbiggZXNjYXBlLCBub25IZXggKSB7XG5cdFx0dmFyIGhpZ2ggPSBcIjB4XCIgKyBlc2NhcGUuc2xpY2UoIDEgKSAtIDB4MTAwMDA7XG5cblx0XHRpZiAoIG5vbkhleCApIHtcblxuXHRcdFx0Ly8gU3RyaXAgdGhlIGJhY2tzbGFzaCBwcmVmaXggZnJvbSBhIG5vbi1oZXggZXNjYXBlIHNlcXVlbmNlXG5cdFx0XHRyZXR1cm4gbm9uSGV4O1xuXHRcdH1cblxuXHRcdC8vIFJlcGxhY2UgYSBoZXhhZGVjaW1hbCBlc2NhcGUgc2VxdWVuY2Ugd2l0aCB0aGUgZW5jb2RlZCBVbmljb2RlIGNvZGUgcG9pbnRcblx0XHQvLyBTdXBwb3J0OiBJRSA8PTExK1xuXHRcdC8vIEZvciB2YWx1ZXMgb3V0c2lkZSB0aGUgQmFzaWMgTXVsdGlsaW5ndWFsIFBsYW5lIChCTVApLCBtYW51YWxseSBjb25zdHJ1Y3QgYVxuXHRcdC8vIHN1cnJvZ2F0ZSBwYWlyXG5cdFx0cmV0dXJuIGhpZ2ggPCAwID9cblx0XHRcdFN0cmluZy5mcm9tQ2hhckNvZGUoIGhpZ2ggKyAweDEwMDAwICkgOlxuXHRcdFx0U3RyaW5nLmZyb21DaGFyQ29kZSggaGlnaCA+PiAxMCB8IDB4RDgwMCwgaGlnaCAmIDB4M0ZGIHwgMHhEQzAwICk7XG5cdH0sXG5cblx0Ly8gVXNlZCBmb3IgaWZyYW1lczsgc2VlIGBzZXREb2N1bWVudGAuXG5cdC8vIFN1cHBvcnQ6IElFIDkgLSAxMSssIEVkZ2UgMTIgLSAxOCtcblx0Ly8gUmVtb3ZpbmcgdGhlIGZ1bmN0aW9uIHdyYXBwZXIgY2F1c2VzIGEgXCJQZXJtaXNzaW9uIERlbmllZFwiXG5cdC8vIGVycm9yIGluIElFL0VkZ2UuXG5cdHVubG9hZEhhbmRsZXIgPSBmdW5jdGlvbigpIHtcblx0XHRzZXREb2N1bWVudCgpO1xuXHR9LFxuXG5cdGluRGlzYWJsZWRGaWVsZHNldCA9IGFkZENvbWJpbmF0b3IoXG5cdFx0ZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5kaXNhYmxlZCA9PT0gdHJ1ZSAmJiBub2RlTmFtZSggZWxlbSwgXCJmaWVsZHNldFwiICk7XG5cdFx0fSxcblx0XHR7IGRpcjogXCJwYXJlbnROb2RlXCIsIG5leHQ6IFwibGVnZW5kXCIgfVxuXHQpO1xuXG4vLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuLy8gQWNjZXNzaW5nIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgY2FuIHRocm93IHVuZXhwZWN0ZWRseVxuLy8gaHR0cHM6Ly9idWdzLmpxdWVyeS5jb20vdGlja2V0LzEzMzkzXG5mdW5jdGlvbiBzYWZlQWN0aXZlRWxlbWVudCgpIHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcblx0fSBjYXRjaCAoIGVyciApIHsgfVxufVxuXG4vLyBPcHRpbWl6ZSBmb3IgcHVzaC5hcHBseSggXywgTm9kZUxpc3QgKVxudHJ5IHtcblx0cHVzaC5hcHBseShcblx0XHQoIGFyciA9IHNsaWNlLmNhbGwoIHByZWZlcnJlZERvYy5jaGlsZE5vZGVzICkgKSxcblx0XHRwcmVmZXJyZWREb2MuY2hpbGROb2Rlc1xuXHQpO1xuXG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjBcblx0Ly8gRGV0ZWN0IHNpbGVudGx5IGZhaWxpbmcgcHVzaC5hcHBseVxuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLWV4cHJlc3Npb25zXG5cdGFyclsgcHJlZmVycmVkRG9jLmNoaWxkTm9kZXMubGVuZ3RoIF0ubm9kZVR5cGU7XG59IGNhdGNoICggZSApIHtcblx0cHVzaCA9IHtcblx0XHRhcHBseTogZnVuY3Rpb24oIHRhcmdldCwgZWxzICkge1xuXHRcdFx0cHVzaE5hdGl2ZS5hcHBseSggdGFyZ2V0LCBzbGljZS5jYWxsKCBlbHMgKSApO1xuXHRcdH0sXG5cdFx0Y2FsbDogZnVuY3Rpb24oIHRhcmdldCApIHtcblx0XHRcdHB1c2hOYXRpdmUuYXBwbHkoIHRhcmdldCwgc2xpY2UuY2FsbCggYXJndW1lbnRzLCAxICkgKTtcblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIGZpbmQoIHNlbGVjdG9yLCBjb250ZXh0LCByZXN1bHRzLCBzZWVkICkge1xuXHR2YXIgbSwgaSwgZWxlbSwgbmlkLCBtYXRjaCwgZ3JvdXBzLCBuZXdTZWxlY3Rvcixcblx0XHRuZXdDb250ZXh0ID0gY29udGV4dCAmJiBjb250ZXh0Lm93bmVyRG9jdW1lbnQsXG5cblx0XHQvLyBub2RlVHlwZSBkZWZhdWx0cyB0byA5LCBzaW5jZSBjb250ZXh0IGRlZmF1bHRzIHRvIGRvY3VtZW50XG5cdFx0bm9kZVR5cGUgPSBjb250ZXh0ID8gY29udGV4dC5ub2RlVHlwZSA6IDk7XG5cblx0cmVzdWx0cyA9IHJlc3VsdHMgfHwgW107XG5cblx0Ly8gUmV0dXJuIGVhcmx5IGZyb20gY2FsbHMgd2l0aCBpbnZhbGlkIHNlbGVjdG9yIG9yIGNvbnRleHRcblx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgIT09IFwic3RyaW5nXCIgfHwgIXNlbGVjdG9yIHx8XG5cdFx0bm9kZVR5cGUgIT09IDEgJiYgbm9kZVR5cGUgIT09IDkgJiYgbm9kZVR5cGUgIT09IDExICkge1xuXG5cdFx0cmV0dXJuIHJlc3VsdHM7XG5cdH1cblxuXHQvLyBUcnkgdG8gc2hvcnRjdXQgZmluZCBvcGVyYXRpb25zIChhcyBvcHBvc2VkIHRvIGZpbHRlcnMpIGluIEhUTUwgZG9jdW1lbnRzXG5cdGlmICggIXNlZWQgKSB7XG5cdFx0c2V0RG9jdW1lbnQoIGNvbnRleHQgKTtcblx0XHRjb250ZXh0ID0gY29udGV4dCB8fCBkb2N1bWVudDtcblxuXHRcdGlmICggZG9jdW1lbnRJc0hUTUwgKSB7XG5cblx0XHRcdC8vIElmIHRoZSBzZWxlY3RvciBpcyBzdWZmaWNpZW50bHkgc2ltcGxlLCB0cnkgdXNpbmcgYSBcImdldCpCeSpcIiBET00gbWV0aG9kXG5cdFx0XHQvLyAoZXhjZXB0aW5nIERvY3VtZW50RnJhZ21lbnQgY29udGV4dCwgd2hlcmUgdGhlIG1ldGhvZHMgZG9uJ3QgZXhpc3QpXG5cdFx0XHRpZiAoIG5vZGVUeXBlICE9PSAxMSAmJiAoIG1hdGNoID0gcnF1aWNrRXhwci5leGVjKCBzZWxlY3RvciApICkgKSB7XG5cblx0XHRcdFx0Ly8gSUQgc2VsZWN0b3Jcblx0XHRcdFx0aWYgKCAoIG0gPSBtYXRjaFsgMSBdICkgKSB7XG5cblx0XHRcdFx0XHQvLyBEb2N1bWVudCBjb250ZXh0XG5cdFx0XHRcdFx0aWYgKCBub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0XHRcdGlmICggKCBlbGVtID0gY29udGV4dC5nZXRFbGVtZW50QnlJZCggbSApICkgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgOSBvbmx5XG5cdFx0XHRcdFx0XHRcdC8vIGdldEVsZW1lbnRCeUlkIGNhbiBtYXRjaCBlbGVtZW50cyBieSBuYW1lIGluc3RlYWQgb2YgSURcblx0XHRcdFx0XHRcdFx0aWYgKCBlbGVtLmlkID09PSBtICkge1xuXHRcdFx0XHRcdFx0XHRcdHB1c2guY2FsbCggcmVzdWx0cywgZWxlbSApO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIEVsZW1lbnQgY29udGV4dFxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDkgb25seVxuXHRcdFx0XHRcdFx0Ly8gZ2V0RWxlbWVudEJ5SWQgY2FuIG1hdGNoIGVsZW1lbnRzIGJ5IG5hbWUgaW5zdGVhZCBvZiBJRFxuXHRcdFx0XHRcdFx0aWYgKCBuZXdDb250ZXh0ICYmICggZWxlbSA9IG5ld0NvbnRleHQuZ2V0RWxlbWVudEJ5SWQoIG0gKSApICYmXG5cdFx0XHRcdFx0XHRcdGZpbmQuY29udGFpbnMoIGNvbnRleHQsIGVsZW0gKSAmJlxuXHRcdFx0XHRcdFx0XHRlbGVtLmlkID09PSBtICkge1xuXG5cdFx0XHRcdFx0XHRcdHB1c2guY2FsbCggcmVzdWx0cywgZWxlbSApO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gVHlwZSBzZWxlY3RvclxuXHRcdFx0XHR9IGVsc2UgaWYgKCBtYXRjaFsgMiBdICkge1xuXHRcdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHNlbGVjdG9yICkgKTtcblx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblxuXHRcdFx0XHQvLyBDbGFzcyBzZWxlY3RvclxuXHRcdFx0XHR9IGVsc2UgaWYgKCAoIG0gPSBtYXRjaFsgMyBdICkgJiYgY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICkge1xuXHRcdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsIGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSggbSApICk7XG5cdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gVGFrZSBhZHZhbnRhZ2Ugb2YgcXVlcnlTZWxlY3RvckFsbFxuXHRcdFx0aWYgKCAhbm9ubmF0aXZlU2VsZWN0b3JDYWNoZVsgc2VsZWN0b3IgKyBcIiBcIiBdICYmXG5cdFx0XHRcdCggIXJidWdneVFTQSB8fCAhcmJ1Z2d5UVNBLnRlc3QoIHNlbGVjdG9yICkgKSApIHtcblxuXHRcdFx0XHRuZXdTZWxlY3RvciA9IHNlbGVjdG9yO1xuXHRcdFx0XHRuZXdDb250ZXh0ID0gY29udGV4dDtcblxuXHRcdFx0XHQvLyBxU0EgY29uc2lkZXJzIGVsZW1lbnRzIG91dHNpZGUgYSBzY29waW5nIHJvb3Qgd2hlbiBldmFsdWF0aW5nIGNoaWxkIG9yXG5cdFx0XHRcdC8vIGRlc2NlbmRhbnQgY29tYmluYXRvcnMsIHdoaWNoIGlzIG5vdCB3aGF0IHdlIHdhbnQuXG5cdFx0XHRcdC8vIEluIHN1Y2ggY2FzZXMsIHdlIHdvcmsgYXJvdW5kIHRoZSBiZWhhdmlvciBieSBwcmVmaXhpbmcgZXZlcnkgc2VsZWN0b3IgaW4gdGhlXG5cdFx0XHRcdC8vIGxpc3Qgd2l0aCBhbiBJRCBzZWxlY3RvciByZWZlcmVuY2luZyB0aGUgc2NvcGUgY29udGV4dC5cblx0XHRcdFx0Ly8gVGhlIHRlY2huaXF1ZSBoYXMgdG8gYmUgdXNlZCBhcyB3ZWxsIHdoZW4gYSBsZWFkaW5nIGNvbWJpbmF0b3IgaXMgdXNlZFxuXHRcdFx0XHQvLyBhcyBzdWNoIHNlbGVjdG9ycyBhcmUgbm90IHJlY29nbml6ZWQgYnkgcXVlcnlTZWxlY3RvckFsbC5cblx0XHRcdFx0Ly8gVGhhbmtzIHRvIEFuZHJldyBEdXBvbnQgZm9yIHRoaXMgdGVjaG5pcXVlLlxuXHRcdFx0XHRpZiAoIG5vZGVUeXBlID09PSAxICYmXG5cdFx0XHRcdFx0KCByZGVzY2VuZC50ZXN0KCBzZWxlY3RvciApIHx8IHJsZWFkaW5nQ29tYmluYXRvci50ZXN0KCBzZWxlY3RvciApICkgKSB7XG5cblx0XHRcdFx0XHQvLyBFeHBhbmQgY29udGV4dCBmb3Igc2libGluZyBzZWxlY3RvcnNcblx0XHRcdFx0XHRuZXdDb250ZXh0ID0gcnNpYmxpbmcudGVzdCggc2VsZWN0b3IgKSAmJiB0ZXN0Q29udGV4dCggY29udGV4dC5wYXJlbnROb2RlICkgfHxcblx0XHRcdFx0XHRcdGNvbnRleHQ7XG5cblx0XHRcdFx0XHQvLyBXZSBjYW4gdXNlIDpzY29wZSBpbnN0ZWFkIG9mIHRoZSBJRCBoYWNrIGlmIHRoZSBicm93c2VyXG5cdFx0XHRcdFx0Ly8gc3VwcG9ydHMgaXQgJiBpZiB3ZSdyZSBub3QgY2hhbmdpbmcgdGhlIGNvbnRleHQuXG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrXG5cdFx0XHRcdFx0Ly8gSUUvRWRnZSBzb21ldGltZXMgdGhyb3cgYSBcIlBlcm1pc3Npb24gZGVuaWVkXCIgZXJyb3Igd2hlblxuXHRcdFx0XHRcdC8vIHN0cmljdC1jb21wYXJpbmcgdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLlxuXHRcdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcblx0XHRcdFx0XHRpZiAoIG5ld0NvbnRleHQgIT0gY29udGV4dCB8fCAhc3VwcG9ydC5zY29wZSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gQ2FwdHVyZSB0aGUgY29udGV4dCBJRCwgc2V0dGluZyBpdCBmaXJzdCBpZiBuZWNlc3Nhcnlcblx0XHRcdFx0XHRcdGlmICggKCBuaWQgPSBjb250ZXh0LmdldEF0dHJpYnV0ZSggXCJpZFwiICkgKSApIHtcblx0XHRcdFx0XHRcdFx0bmlkID0galF1ZXJ5LmVzY2FwZVNlbGVjdG9yKCBuaWQgKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGNvbnRleHQuc2V0QXR0cmlidXRlKCBcImlkXCIsICggbmlkID0gZXhwYW5kbyApICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gUHJlZml4IGV2ZXJ5IHNlbGVjdG9yIGluIHRoZSBsaXN0XG5cdFx0XHRcdFx0Z3JvdXBzID0gdG9rZW5pemUoIHNlbGVjdG9yICk7XG5cdFx0XHRcdFx0aSA9IGdyb3Vwcy5sZW5ndGg7XG5cdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHRncm91cHNbIGkgXSA9ICggbmlkID8gXCIjXCIgKyBuaWQgOiBcIjpzY29wZVwiICkgKyBcIiBcIiArXG5cdFx0XHRcdFx0XHRcdHRvU2VsZWN0b3IoIGdyb3Vwc1sgaSBdICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdG5ld1NlbGVjdG9yID0gZ3JvdXBzLmpvaW4oIFwiLFwiICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsXG5cdFx0XHRcdFx0XHRuZXdDb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoIG5ld1NlbGVjdG9yIClcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHR9IGNhdGNoICggcXNhRXJyb3IgKSB7XG5cdFx0XHRcdFx0bm9ubmF0aXZlU2VsZWN0b3JDYWNoZSggc2VsZWN0b3IsIHRydWUgKTtcblx0XHRcdFx0fSBmaW5hbGx5IHtcblx0XHRcdFx0XHRpZiAoIG5pZCA9PT0gZXhwYW5kbyApIHtcblx0XHRcdFx0XHRcdGNvbnRleHQucmVtb3ZlQXR0cmlidXRlKCBcImlkXCIgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBBbGwgb3RoZXJzXG5cdHJldHVybiBzZWxlY3QoIHNlbGVjdG9yLnJlcGxhY2UoIHJ0cmltQ1NTLCBcIiQxXCIgKSwgY29udGV4dCwgcmVzdWx0cywgc2VlZCApO1xufVxuXG4vKipcbiAqIENyZWF0ZSBrZXktdmFsdWUgY2FjaGVzIG9mIGxpbWl0ZWQgc2l6ZVxuICogQHJldHVybnMge2Z1bmN0aW9uKHN0cmluZywgb2JqZWN0KX0gUmV0dXJucyB0aGUgT2JqZWN0IGRhdGEgYWZ0ZXIgc3RvcmluZyBpdCBvbiBpdHNlbGYgd2l0aFxuICpcdHByb3BlcnR5IG5hbWUgdGhlIChzcGFjZS1zdWZmaXhlZCkgc3RyaW5nIGFuZCAoaWYgdGhlIGNhY2hlIGlzIGxhcmdlciB0aGFuIEV4cHIuY2FjaGVMZW5ndGgpXG4gKlx0ZGVsZXRpbmcgdGhlIG9sZGVzdCBlbnRyeVxuICovXG5mdW5jdGlvbiBjcmVhdGVDYWNoZSgpIHtcblx0dmFyIGtleXMgPSBbXTtcblxuXHRmdW5jdGlvbiBjYWNoZSgga2V5LCB2YWx1ZSApIHtcblxuXHRcdC8vIFVzZSAoa2V5ICsgXCIgXCIpIHRvIGF2b2lkIGNvbGxpc2lvbiB3aXRoIG5hdGl2ZSBwcm90b3R5cGUgcHJvcGVydGllc1xuXHRcdC8vIChzZWUgaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9zaXp6bGUvaXNzdWVzLzE1Nylcblx0XHRpZiAoIGtleXMucHVzaCgga2V5ICsgXCIgXCIgKSA+IEV4cHIuY2FjaGVMZW5ndGggKSB7XG5cblx0XHRcdC8vIE9ubHkga2VlcCB0aGUgbW9zdCByZWNlbnQgZW50cmllc1xuXHRcdFx0ZGVsZXRlIGNhY2hlWyBrZXlzLnNoaWZ0KCkgXTtcblx0XHR9XG5cdFx0cmV0dXJuICggY2FjaGVbIGtleSArIFwiIFwiIF0gPSB2YWx1ZSApO1xuXHR9XG5cdHJldHVybiBjYWNoZTtcbn1cblxuLyoqXG4gKiBNYXJrIGEgZnVuY3Rpb24gZm9yIHNwZWNpYWwgdXNlIGJ5IGpRdWVyeSBzZWxlY3RvciBtb2R1bGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB0byBtYXJrXG4gKi9cbmZ1bmN0aW9uIG1hcmtGdW5jdGlvbiggZm4gKSB7XG5cdGZuWyBleHBhbmRvIF0gPSB0cnVlO1xuXHRyZXR1cm4gZm47XG59XG5cbi8qKlxuICogU3VwcG9ydCB0ZXN0aW5nIHVzaW5nIGFuIGVsZW1lbnRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFBhc3NlZCB0aGUgY3JlYXRlZCBlbGVtZW50IGFuZCByZXR1cm5zIGEgYm9vbGVhbiByZXN1bHRcbiAqL1xuZnVuY3Rpb24gYXNzZXJ0KCBmbiApIHtcblx0dmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJmaWVsZHNldFwiICk7XG5cblx0dHJ5IHtcblx0XHRyZXR1cm4gISFmbiggZWwgKTtcblx0fSBjYXRjaCAoIGUgKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9IGZpbmFsbHkge1xuXG5cdFx0Ly8gUmVtb3ZlIGZyb20gaXRzIHBhcmVudCBieSBkZWZhdWx0XG5cdFx0aWYgKCBlbC5wYXJlbnROb2RlICkge1xuXHRcdFx0ZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggZWwgKTtcblx0XHR9XG5cblx0XHQvLyByZWxlYXNlIG1lbW9yeSBpbiBJRVxuXHRcdGVsID0gbnVsbDtcblx0fVxufVxuXG4vKipcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB0byB1c2UgaW4gcHNldWRvcyBmb3IgaW5wdXQgdHlwZXNcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUlucHV0UHNldWRvKCB0eXBlICkge1xuXHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIG5vZGVOYW1lKCBlbGVtLCBcImlucHV0XCIgKSAmJiBlbGVtLnR5cGUgPT09IHR5cGU7XG5cdH07XG59XG5cbi8qKlxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciBidXR0b25zXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICovXG5mdW5jdGlvbiBjcmVhdGVCdXR0b25Qc2V1ZG8oIHR5cGUgKSB7XG5cdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gKCBub2RlTmFtZSggZWxlbSwgXCJpbnB1dFwiICkgfHwgbm9kZU5hbWUoIGVsZW0sIFwiYnV0dG9uXCIgKSApICYmXG5cdFx0XHRlbGVtLnR5cGUgPT09IHR5cGU7XG5cdH07XG59XG5cbi8qKlxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciA6ZW5hYmxlZC86ZGlzYWJsZWRcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gZGlzYWJsZWQgdHJ1ZSBmb3IgOmRpc2FibGVkOyBmYWxzZSBmb3IgOmVuYWJsZWRcbiAqL1xuZnVuY3Rpb24gY3JlYXRlRGlzYWJsZWRQc2V1ZG8oIGRpc2FibGVkICkge1xuXG5cdC8vIEtub3duIDpkaXNhYmxlZCBmYWxzZSBwb3NpdGl2ZXM6IGZpZWxkc2V0W2Rpc2FibGVkXSA+IGxlZ2VuZDpudGgtb2YtdHlwZShuKzIpIDpjYW4tZGlzYWJsZVxuXHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHQvLyBPbmx5IGNlcnRhaW4gZWxlbWVudHMgY2FuIG1hdGNoIDplbmFibGVkIG9yIDpkaXNhYmxlZFxuXHRcdC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3NjcmlwdGluZy5odG1sI3NlbGVjdG9yLWVuYWJsZWRcblx0XHQvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zY3JpcHRpbmcuaHRtbCNzZWxlY3Rvci1kaXNhYmxlZFxuXHRcdGlmICggXCJmb3JtXCIgaW4gZWxlbSApIHtcblxuXHRcdFx0Ly8gQ2hlY2sgZm9yIGluaGVyaXRlZCBkaXNhYmxlZG5lc3Mgb24gcmVsZXZhbnQgbm9uLWRpc2FibGVkIGVsZW1lbnRzOlxuXHRcdFx0Ly8gKiBsaXN0ZWQgZm9ybS1hc3NvY2lhdGVkIGVsZW1lbnRzIGluIGEgZGlzYWJsZWQgZmllbGRzZXRcblx0XHRcdC8vICAgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZm9ybXMuaHRtbCNjYXRlZ29yeS1saXN0ZWRcblx0XHRcdC8vICAgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZm9ybXMuaHRtbCNjb25jZXB0LWZlLWRpc2FibGVkXG5cdFx0XHQvLyAqIG9wdGlvbiBlbGVtZW50cyBpbiBhIGRpc2FibGVkIG9wdGdyb3VwXG5cdFx0XHQvLyAgIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2Zvcm1zLmh0bWwjY29uY2VwdC1vcHRpb24tZGlzYWJsZWRcblx0XHRcdC8vIEFsbCBzdWNoIGVsZW1lbnRzIGhhdmUgYSBcImZvcm1cIiBwcm9wZXJ0eS5cblx0XHRcdGlmICggZWxlbS5wYXJlbnROb2RlICYmIGVsZW0uZGlzYWJsZWQgPT09IGZhbHNlICkge1xuXG5cdFx0XHRcdC8vIE9wdGlvbiBlbGVtZW50cyBkZWZlciB0byBhIHBhcmVudCBvcHRncm91cCBpZiBwcmVzZW50XG5cdFx0XHRcdGlmICggXCJsYWJlbFwiIGluIGVsZW0gKSB7XG5cdFx0XHRcdFx0aWYgKCBcImxhYmVsXCIgaW4gZWxlbS5wYXJlbnROb2RlICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGVsZW0ucGFyZW50Tm9kZS5kaXNhYmxlZCA9PT0gZGlzYWJsZWQ7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHJldHVybiBlbGVtLmRpc2FibGVkID09PSBkaXNhYmxlZDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA2IC0gMTErXG5cdFx0XHRcdC8vIFVzZSB0aGUgaXNEaXNhYmxlZCBzaG9ydGN1dCBwcm9wZXJ0eSB0byBjaGVjayBmb3IgZGlzYWJsZWQgZmllbGRzZXQgYW5jZXN0b3JzXG5cdFx0XHRcdHJldHVybiBlbGVtLmlzRGlzYWJsZWQgPT09IGRpc2FibGVkIHx8XG5cblx0XHRcdFx0XHQvLyBXaGVyZSB0aGVyZSBpcyBubyBpc0Rpc2FibGVkLCBjaGVjayBtYW51YWxseVxuXHRcdFx0XHRcdGVsZW0uaXNEaXNhYmxlZCAhPT0gIWRpc2FibGVkICYmXG5cdFx0XHRcdFx0XHRpbkRpc2FibGVkRmllbGRzZXQoIGVsZW0gKSA9PT0gZGlzYWJsZWQ7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBlbGVtLmRpc2FibGVkID09PSBkaXNhYmxlZDtcblxuXHRcdC8vIFRyeSB0byB3aW5ub3cgb3V0IGVsZW1lbnRzIHRoYXQgY2FuJ3QgYmUgZGlzYWJsZWQgYmVmb3JlIHRydXN0aW5nIHRoZSBkaXNhYmxlZCBwcm9wZXJ0eS5cblx0XHQvLyBTb21lIHZpY3RpbXMgZ2V0IGNhdWdodCBpbiBvdXIgbmV0IChsYWJlbCwgbGVnZW5kLCBtZW51LCB0cmFjayksIGJ1dCBpdCBzaG91bGRuJ3Rcblx0XHQvLyBldmVuIGV4aXN0IG9uIHRoZW0sIGxldCBhbG9uZSBoYXZlIGEgYm9vbGVhbiB2YWx1ZS5cblx0XHR9IGVsc2UgaWYgKCBcImxhYmVsXCIgaW4gZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtLmRpc2FibGVkID09PSBkaXNhYmxlZDtcblx0XHR9XG5cblx0XHQvLyBSZW1haW5pbmcgZWxlbWVudHMgYXJlIG5laXRoZXIgOmVuYWJsZWQgbm9yIDpkaXNhYmxlZFxuXHRcdHJldHVybiBmYWxzZTtcblx0fTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIHBvc2l0aW9uYWxzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICovXG5mdW5jdGlvbiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKCBmbiApIHtcblx0cmV0dXJuIG1hcmtGdW5jdGlvbiggZnVuY3Rpb24oIGFyZ3VtZW50ICkge1xuXHRcdGFyZ3VtZW50ID0gK2FyZ3VtZW50O1xuXHRcdHJldHVybiBtYXJrRnVuY3Rpb24oIGZ1bmN0aW9uKCBzZWVkLCBtYXRjaGVzICkge1xuXHRcdFx0dmFyIGosXG5cdFx0XHRcdG1hdGNoSW5kZXhlcyA9IGZuKCBbXSwgc2VlZC5sZW5ndGgsIGFyZ3VtZW50ICksXG5cdFx0XHRcdGkgPSBtYXRjaEluZGV4ZXMubGVuZ3RoO1xuXG5cdFx0XHQvLyBNYXRjaCBlbGVtZW50cyBmb3VuZCBhdCB0aGUgc3BlY2lmaWVkIGluZGV4ZXNcblx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRpZiAoIHNlZWRbICggaiA9IG1hdGNoSW5kZXhlc1sgaSBdICkgXSApIHtcblx0XHRcdFx0XHRzZWVkWyBqIF0gPSAhKCBtYXRjaGVzWyBqIF0gPSBzZWVkWyBqIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSApO1xufVxuXG4vKipcbiAqIENoZWNrcyBhIG5vZGUgZm9yIHZhbGlkaXR5IGFzIGEgalF1ZXJ5IHNlbGVjdG9yIGNvbnRleHRcbiAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3Q9fSBjb250ZXh0XG4gKiBAcmV0dXJucyB7RWxlbWVudHxPYmplY3R8Qm9vbGVhbn0gVGhlIGlucHV0IG5vZGUgaWYgYWNjZXB0YWJsZSwgb3RoZXJ3aXNlIGEgZmFsc3kgdmFsdWVcbiAqL1xuZnVuY3Rpb24gdGVzdENvbnRleHQoIGNvbnRleHQgKSB7XG5cdHJldHVybiBjb250ZXh0ICYmIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lICE9PSBcInVuZGVmaW5lZFwiICYmIGNvbnRleHQ7XG59XG5cbi8qKlxuICogU2V0cyBkb2N1bWVudC1yZWxhdGVkIHZhcmlhYmxlcyBvbmNlIGJhc2VkIG9uIHRoZSBjdXJyZW50IGRvY3VtZW50XG4gKiBAcGFyYW0ge0VsZW1lbnR8T2JqZWN0fSBbbm9kZV0gQW4gZWxlbWVudCBvciBkb2N1bWVudCBvYmplY3QgdG8gdXNlIHRvIHNldCB0aGUgZG9jdW1lbnRcbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGN1cnJlbnQgZG9jdW1lbnRcbiAqL1xuZnVuY3Rpb24gc2V0RG9jdW1lbnQoIG5vZGUgKSB7XG5cdHZhciBzdWJXaW5kb3csXG5cdFx0ZG9jID0gbm9kZSA/IG5vZGUub3duZXJEb2N1bWVudCB8fCBub2RlIDogcHJlZmVycmVkRG9jO1xuXG5cdC8vIFJldHVybiBlYXJseSBpZiBkb2MgaXMgaW52YWxpZCBvciBhbHJlYWR5IHNlbGVjdGVkXG5cdC8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4K1xuXHQvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhIFwiUGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmdcblx0Ly8gdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLlxuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG5cdGlmICggZG9jID09IGRvY3VtZW50IHx8IGRvYy5ub2RlVHlwZSAhPT0gOSB8fCAhZG9jLmRvY3VtZW50RWxlbWVudCApIHtcblx0XHRyZXR1cm4gZG9jdW1lbnQ7XG5cdH1cblxuXHQvLyBVcGRhdGUgZ2xvYmFsIHZhcmlhYmxlc1xuXHRkb2N1bWVudCA9IGRvYztcblx0ZG9jdW1lbnRFbGVtZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXHRkb2N1bWVudElzSFRNTCA9ICFqUXVlcnkuaXNYTUxEb2MoIGRvY3VtZW50ICk7XG5cblx0Ly8gU3VwcG9ydDogaU9TIDcgb25seSwgSUUgOSAtIDExK1xuXHQvLyBPbGRlciBicm93c2VycyBkaWRuJ3Qgc3VwcG9ydCB1bnByZWZpeGVkIGBtYXRjaGVzYC5cblx0bWF0Y2hlcyA9IGRvY3VtZW50RWxlbWVudC5tYXRjaGVzIHx8XG5cdFx0ZG9jdW1lbnRFbGVtZW50LndlYmtpdE1hdGNoZXNTZWxlY3RvciB8fFxuXHRcdGRvY3VtZW50RWxlbWVudC5tc01hdGNoZXNTZWxlY3RvcjtcblxuXHQvLyBTdXBwb3J0OiBJRSA5IC0gMTErLCBFZGdlIDEyIC0gMTgrXG5cdC8vIEFjY2Vzc2luZyBpZnJhbWUgZG9jdW1lbnRzIGFmdGVyIHVubG9hZCB0aHJvd3MgXCJwZXJtaXNzaW9uIGRlbmllZFwiIGVycm9yc1xuXHQvLyAoc2VlIHRyYWMtMTM5MzYpLlxuXHQvLyBMaW1pdCB0aGUgZml4IHRvIElFICYgRWRnZSBMZWdhY3k7IGRlc3BpdGUgRWRnZSAxNSsgaW1wbGVtZW50aW5nIGBtYXRjaGVzYCxcblx0Ly8gYWxsIElFIDkrIGFuZCBFZGdlIExlZ2FjeSB2ZXJzaW9ucyBpbXBsZW1lbnQgYG1zTWF0Y2hlc1NlbGVjdG9yYCBhcyB3ZWxsLlxuXHRpZiAoIGRvY3VtZW50RWxlbWVudC5tc01hdGNoZXNTZWxlY3RvciAmJlxuXG5cdFx0Ly8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrXG5cdFx0Ly8gSUUvRWRnZSBzb21ldGltZXMgdGhyb3cgYSBcIlBlcm1pc3Npb24gZGVuaWVkXCIgZXJyb3Igd2hlbiBzdHJpY3QtY29tcGFyaW5nXG5cdFx0Ly8gdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLlxuXHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcblx0XHRwcmVmZXJyZWREb2MgIT0gZG9jdW1lbnQgJiZcblx0XHQoIHN1YldpbmRvdyA9IGRvY3VtZW50LmRlZmF1bHRWaWV3ICkgJiYgc3ViV2luZG93LnRvcCAhPT0gc3ViV2luZG93ICkge1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgOSAtIDExKywgRWRnZSAxMiAtIDE4K1xuXHRcdHN1YldpbmRvdy5hZGRFdmVudExpc3RlbmVyKCBcInVubG9hZFwiLCB1bmxvYWRIYW5kbGVyICk7XG5cdH1cblxuXHQvLyBTdXBwb3J0OiBJRSA8MTBcblx0Ly8gQ2hlY2sgaWYgZ2V0RWxlbWVudEJ5SWQgcmV0dXJucyBlbGVtZW50cyBieSBuYW1lXG5cdC8vIFRoZSBicm9rZW4gZ2V0RWxlbWVudEJ5SWQgbWV0aG9kcyBkb24ndCBwaWNrIHVwIHByb2dyYW1tYXRpY2FsbHktc2V0IG5hbWVzLFxuXHQvLyBzbyB1c2UgYSByb3VuZGFib3V0IGdldEVsZW1lbnRzQnlOYW1lIHRlc3Rcblx0c3VwcG9ydC5nZXRCeUlkID0gYXNzZXJ0KCBmdW5jdGlvbiggZWwgKSB7XG5cdFx0ZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKCBlbCApLmlkID0galF1ZXJ5LmV4cGFuZG87XG5cdFx0cmV0dXJuICFkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSB8fFxuXHRcdFx0IWRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCBqUXVlcnkuZXhwYW5kbyApLmxlbmd0aDtcblx0fSApO1xuXG5cdC8vIFN1cHBvcnQ6IElFIDkgb25seVxuXHQvLyBDaGVjayB0byBzZWUgaWYgaXQncyBwb3NzaWJsZSB0byBkbyBtYXRjaGVzU2VsZWN0b3Jcblx0Ly8gb24gYSBkaXNjb25uZWN0ZWQgbm9kZS5cblx0c3VwcG9ydC5kaXNjb25uZWN0ZWRNYXRjaCA9IGFzc2VydCggZnVuY3Rpb24oIGVsICkge1xuXHRcdHJldHVybiBtYXRjaGVzLmNhbGwoIGVsLCBcIipcIiApO1xuXHR9ICk7XG5cblx0Ly8gU3VwcG9ydDogSUUgOSAtIDExKywgRWRnZSAxMiAtIDE4K1xuXHQvLyBJRS9FZGdlIGRvbid0IHN1cHBvcnQgdGhlIDpzY29wZSBwc2V1ZG8tY2xhc3MuXG5cdHN1cHBvcnQuc2NvcGUgPSBhc3NlcnQoIGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCBcIjpzY29wZVwiICk7XG5cdH0gKTtcblxuXHQvLyBTdXBwb3J0OiBDaHJvbWUgMTA1IC0gMTExIG9ubHksIFNhZmFyaSAxNS40IC0gMTYuMyBvbmx5XG5cdC8vIE1ha2Ugc3VyZSB0aGUgYDpoYXMoKWAgYXJndW1lbnQgaXMgcGFyc2VkIHVuZm9yZ2l2aW5nbHkuXG5cdC8vIFdlIGluY2x1ZGUgYCpgIGluIHRoZSB0ZXN0IHRvIGRldGVjdCBidWdneSBpbXBsZW1lbnRhdGlvbnMgdGhhdCBhcmVcblx0Ly8gX3NlbGVjdGl2ZWx5XyBmb3JnaXZpbmcgKHNwZWNpZmljYWxseSB3aGVuIHRoZSBsaXN0IGluY2x1ZGVzIGF0IGxlYXN0XG5cdC8vIG9uZSB2YWxpZCBzZWxlY3RvcikuXG5cdC8vIE5vdGUgdGhhdCB3ZSB0cmVhdCBjb21wbGV0ZSBsYWNrIG9mIHN1cHBvcnQgZm9yIGA6aGFzKClgIGFzIGlmIGl0IHdlcmVcblx0Ly8gc3BlYy1jb21wbGlhbnQgc3VwcG9ydCwgd2hpY2ggaXMgZmluZSBiZWNhdXNlIHVzZSBvZiBgOmhhcygpYCBpbiBzdWNoXG5cdC8vIGVudmlyb25tZW50cyB3aWxsIGZhaWwgaW4gdGhlIHFTQSBwYXRoIGFuZCBmYWxsIGJhY2sgdG8galF1ZXJ5IHRyYXZlcnNhbFxuXHQvLyBhbnl3YXkuXG5cdHN1cHBvcnQuY3NzSGFzID0gYXNzZXJ0KCBmdW5jdGlvbigpIHtcblx0XHR0cnkge1xuXHRcdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvciggXCI6aGFzKCosOmpxZmFrZSlcIiApO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0gY2F0Y2ggKCBlICkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHR9ICk7XG5cblx0Ly8gSUQgZmlsdGVyIGFuZCBmaW5kXG5cdGlmICggc3VwcG9ydC5nZXRCeUlkICkge1xuXHRcdEV4cHIuZmlsdGVyLklEID0gZnVuY3Rpb24oIGlkICkge1xuXHRcdFx0dmFyIGF0dHJJZCA9IGlkLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZSggXCJpZFwiICkgPT09IGF0dHJJZDtcblx0XHRcdH07XG5cdFx0fTtcblx0XHRFeHByLmZpbmQuSUQgPSBmdW5jdGlvbiggaWQsIGNvbnRleHQgKSB7XG5cdFx0XHRpZiAoIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRCeUlkICE9PSBcInVuZGVmaW5lZFwiICYmIGRvY3VtZW50SXNIVE1MICkge1xuXHRcdFx0XHR2YXIgZWxlbSA9IGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQoIGlkICk7XG5cdFx0XHRcdHJldHVybiBlbGVtID8gWyBlbGVtIF0gOiBbXTtcblx0XHRcdH1cblx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdEV4cHIuZmlsdGVyLklEID0gIGZ1bmN0aW9uKCBpZCApIHtcblx0XHRcdHZhciBhdHRySWQgPSBpZC5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHR2YXIgbm9kZSA9IHR5cGVvZiBlbGVtLmdldEF0dHJpYnV0ZU5vZGUgIT09IFwidW5kZWZpbmVkXCIgJiZcblx0XHRcdFx0XHRlbGVtLmdldEF0dHJpYnV0ZU5vZGUoIFwiaWRcIiApO1xuXHRcdFx0XHRyZXR1cm4gbm9kZSAmJiBub2RlLnZhbHVlID09PSBhdHRySWQ7XG5cdFx0XHR9O1xuXHRcdH07XG5cblx0XHQvLyBTdXBwb3J0OiBJRSA2IC0gNyBvbmx5XG5cdFx0Ly8gZ2V0RWxlbWVudEJ5SWQgaXMgbm90IHJlbGlhYmxlIGFzIGEgZmluZCBzaG9ydGN1dFxuXHRcdEV4cHIuZmluZC5JRCA9IGZ1bmN0aW9uKCBpZCwgY29udGV4dCApIHtcblx0XHRcdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQgIT09IFwidW5kZWZpbmVkXCIgJiYgZG9jdW1lbnRJc0hUTUwgKSB7XG5cdFx0XHRcdHZhciBub2RlLCBpLCBlbGVtcyxcblx0XHRcdFx0XHRlbGVtID0gY29udGV4dC5nZXRFbGVtZW50QnlJZCggaWQgKTtcblxuXHRcdFx0XHRpZiAoIGVsZW0gKSB7XG5cblx0XHRcdFx0XHQvLyBWZXJpZnkgdGhlIGlkIGF0dHJpYnV0ZVxuXHRcdFx0XHRcdG5vZGUgPSBlbGVtLmdldEF0dHJpYnV0ZU5vZGUoIFwiaWRcIiApO1xuXHRcdFx0XHRcdGlmICggbm9kZSAmJiBub2RlLnZhbHVlID09PSBpZCApIHtcblx0XHRcdFx0XHRcdHJldHVybiBbIGVsZW0gXTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBGYWxsIGJhY2sgb24gZ2V0RWxlbWVudHNCeU5hbWVcblx0XHRcdFx0XHRlbGVtcyA9IGNvbnRleHQuZ2V0RWxlbWVudHNCeU5hbWUoIGlkICk7XG5cdFx0XHRcdFx0aSA9IDA7XG5cdFx0XHRcdFx0d2hpbGUgKCAoIGVsZW0gPSBlbGVtc1sgaSsrIF0gKSApIHtcblx0XHRcdFx0XHRcdG5vZGUgPSBlbGVtLmdldEF0dHJpYnV0ZU5vZGUoIFwiaWRcIiApO1xuXHRcdFx0XHRcdFx0aWYgKCBub2RlICYmIG5vZGUudmFsdWUgPT09IGlkICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gWyBlbGVtIF07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIFtdO1xuXHRcdFx0fVxuXHRcdH07XG5cdH1cblxuXHQvLyBUYWdcblx0RXhwci5maW5kLlRBRyA9IGZ1bmN0aW9uKCB0YWcsIGNvbnRleHQgKSB7XG5cdFx0aWYgKCB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSAhPT0gXCJ1bmRlZmluZWRcIiApIHtcblx0XHRcdHJldHVybiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCB0YWcgKTtcblxuXHRcdC8vIERvY3VtZW50RnJhZ21lbnQgbm9kZXMgZG9uJ3QgaGF2ZSBnRUJUTlxuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCB0YWcgKTtcblx0XHR9XG5cdH07XG5cblx0Ly8gQ2xhc3Ncblx0RXhwci5maW5kLkNMQVNTID0gZnVuY3Rpb24oIGNsYXNzTmFtZSwgY29udGV4dCApIHtcblx0XHRpZiAoIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgIT09IFwidW5kZWZpbmVkXCIgJiYgZG9jdW1lbnRJc0hUTUwgKSB7XG5cdFx0XHRyZXR1cm4gY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCBjbGFzc05hbWUgKTtcblx0XHR9XG5cdH07XG5cblx0LyogUVNBL21hdGNoZXNTZWxlY3RvclxuXHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cblx0Ly8gUVNBIGFuZCBtYXRjaGVzU2VsZWN0b3Igc3VwcG9ydFxuXG5cdHJidWdneVFTQSA9IFtdO1xuXG5cdC8vIEJ1aWxkIFFTQSByZWdleFxuXHQvLyBSZWdleCBzdHJhdGVneSBhZG9wdGVkIGZyb20gRGllZ28gUGVyaW5pXG5cdGFzc2VydCggZnVuY3Rpb24oIGVsICkge1xuXG5cdFx0dmFyIGlucHV0O1xuXG5cdFx0ZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKCBlbCApLmlubmVySFRNTCA9XG5cdFx0XHRcIjxhIGlkPSdcIiArIGV4cGFuZG8gKyBcIicgaHJlZj0nJyBkaXNhYmxlZD0nZGlzYWJsZWQnPjwvYT5cIiArXG5cdFx0XHRcIjxzZWxlY3QgaWQ9J1wiICsgZXhwYW5kbyArIFwiLVxcclxcXFwnIGRpc2FibGVkPSdkaXNhYmxlZCc+XCIgK1xuXHRcdFx0XCI8b3B0aW9uIHNlbGVjdGVkPScnPjwvb3B0aW9uPjwvc2VsZWN0PlwiO1xuXG5cdFx0Ly8gU3VwcG9ydDogaU9TIDw9NyAtIDggb25seVxuXHRcdC8vIEJvb2xlYW4gYXR0cmlidXRlcyBhbmQgXCJ2YWx1ZVwiIGFyZSBub3QgdHJlYXRlZCBjb3JyZWN0bHkgaW4gc29tZSBYTUwgZG9jdW1lbnRzXG5cdFx0aWYgKCAhZWwucXVlcnlTZWxlY3RvckFsbCggXCJbc2VsZWN0ZWRdXCIgKS5sZW5ndGggKSB7XG5cdFx0XHRyYnVnZ3lRU0EucHVzaCggXCJcXFxcW1wiICsgd2hpdGVzcGFjZSArIFwiKig/OnZhbHVlfFwiICsgYm9vbGVhbnMgKyBcIilcIiApO1xuXHRcdH1cblxuXHRcdC8vIFN1cHBvcnQ6IGlPUyA8PTcgLSA4IG9ubHlcblx0XHRpZiAoICFlbC5xdWVyeVNlbGVjdG9yQWxsKCBcIltpZH49XCIgKyBleHBhbmRvICsgXCItXVwiICkubGVuZ3RoICkge1xuXHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwifj1cIiApO1xuXHRcdH1cblxuXHRcdC8vIFN1cHBvcnQ6IGlPUyA4IG9ubHlcblx0XHQvLyBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTM2ODUxXG5cdFx0Ly8gSW4tcGFnZSBgc2VsZWN0b3IjaWQgc2libGluZy1jb21iaW5hdG9yIHNlbGVjdG9yYCBmYWlsc1xuXHRcdGlmICggIWVsLnF1ZXJ5U2VsZWN0b3JBbGwoIFwiYSNcIiArIGV4cGFuZG8gKyBcIisqXCIgKS5sZW5ndGggKSB7XG5cdFx0XHRyYnVnZ3lRU0EucHVzaCggXCIuIy4rWyt+XVwiICk7XG5cdFx0fVxuXG5cdFx0Ly8gU3VwcG9ydDogQ2hyb21lIDw9MTA1KywgRmlyZWZveCA8PTEwNCssIFNhZmFyaSA8PTE1LjQrXG5cdFx0Ly8gSW4gc29tZSBvZiB0aGUgZG9jdW1lbnQga2luZHMsIHRoZXNlIHNlbGVjdG9ycyB3b3VsZG4ndCB3b3JrIG5hdGl2ZWx5LlxuXHRcdC8vIFRoaXMgaXMgcHJvYmFibHkgT0sgYnV0IGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSB3ZSB3YW50IHRvIG1haW50YWluXG5cdFx0Ly8gaGFuZGxpbmcgdGhlbSB0aHJvdWdoIGpRdWVyeSB0cmF2ZXJzYWwgaW4galF1ZXJ5IDMueC5cblx0XHRpZiAoICFlbC5xdWVyeVNlbGVjdG9yQWxsKCBcIjpjaGVja2VkXCIgKS5sZW5ndGggKSB7XG5cdFx0XHRyYnVnZ3lRU0EucHVzaCggXCI6Y2hlY2tlZFwiICk7XG5cdFx0fVxuXG5cdFx0Ly8gU3VwcG9ydDogV2luZG93cyA4IE5hdGl2ZSBBcHBzXG5cdFx0Ly8gVGhlIHR5cGUgYW5kIG5hbWUgYXR0cmlidXRlcyBhcmUgcmVzdHJpY3RlZCBkdXJpbmcgLmlubmVySFRNTCBhc3NpZ25tZW50XG5cdFx0aW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImlucHV0XCIgKTtcblx0XHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFwidHlwZVwiLCBcImhpZGRlblwiICk7XG5cdFx0ZWwuYXBwZW5kQ2hpbGQoIGlucHV0ICkuc2V0QXR0cmlidXRlKCBcIm5hbWVcIiwgXCJEXCIgKTtcblxuXHRcdC8vIFN1cHBvcnQ6IElFIDkgLSAxMStcblx0XHQvLyBJRSdzIDpkaXNhYmxlZCBzZWxlY3RvciBkb2VzIG5vdCBwaWNrIHVwIHRoZSBjaGlsZHJlbiBvZiBkaXNhYmxlZCBmaWVsZHNldHNcblx0XHQvLyBTdXBwb3J0OiBDaHJvbWUgPD0xMDUrLCBGaXJlZm94IDw9MTA0KywgU2FmYXJpIDw9MTUuNCtcblx0XHQvLyBJbiBzb21lIG9mIHRoZSBkb2N1bWVudCBraW5kcywgdGhlc2Ugc2VsZWN0b3JzIHdvdWxkbid0IHdvcmsgbmF0aXZlbHkuXG5cdFx0Ly8gVGhpcyBpcyBwcm9iYWJseSBPSyBidXQgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHdlIHdhbnQgdG8gbWFpbnRhaW5cblx0XHQvLyBoYW5kbGluZyB0aGVtIHRocm91Z2ggalF1ZXJ5IHRyYXZlcnNhbCBpbiBqUXVlcnkgMy54LlxuXHRcdGRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZCggZWwgKS5kaXNhYmxlZCA9IHRydWU7XG5cdFx0aWYgKCBlbC5xdWVyeVNlbGVjdG9yQWxsKCBcIjpkaXNhYmxlZFwiICkubGVuZ3RoICE9PSAyICkge1xuXHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwiOmVuYWJsZWRcIiwgXCI6ZGlzYWJsZWRcIiApO1xuXHRcdH1cblxuXHRcdC8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNSAtIDE4K1xuXHRcdC8vIElFIDExL0VkZ2UgZG9uJ3QgZmluZCBlbGVtZW50cyBvbiBhIGBbbmFtZT0nJ11gIHF1ZXJ5IGluIHNvbWUgY2FzZXMuXG5cdFx0Ly8gQWRkaW5nIGEgdGVtcG9yYXJ5IGF0dHJpYnV0ZSB0byB0aGUgZG9jdW1lbnQgYmVmb3JlIHRoZSBzZWxlY3Rpb24gd29ya3Ncblx0XHQvLyBhcm91bmQgdGhlIGlzc3VlLlxuXHRcdC8vIEludGVyZXN0aW5nbHksIElFIDEwICYgb2xkZXIgZG9uJ3Qgc2VlbSB0byBoYXZlIHRoZSBpc3N1ZS5cblx0XHRpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiaW5wdXRcIiApO1xuXHRcdGlucHV0LnNldEF0dHJpYnV0ZSggXCJuYW1lXCIsIFwiXCIgKTtcblx0XHRlbC5hcHBlbmRDaGlsZCggaW5wdXQgKTtcblx0XHRpZiAoICFlbC5xdWVyeVNlbGVjdG9yQWxsKCBcIltuYW1lPScnXVwiICkubGVuZ3RoICkge1xuXHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwiXFxcXFtcIiArIHdoaXRlc3BhY2UgKyBcIipuYW1lXCIgKyB3aGl0ZXNwYWNlICsgXCIqPVwiICtcblx0XHRcdFx0d2hpdGVzcGFjZSArIFwiKig/OicnfFxcXCJcXFwiKVwiICk7XG5cdFx0fVxuXHR9ICk7XG5cblx0aWYgKCAhc3VwcG9ydC5jc3NIYXMgKSB7XG5cblx0XHQvLyBTdXBwb3J0OiBDaHJvbWUgMTA1IC0gMTEwKywgU2FmYXJpIDE1LjQgLSAxNi4zK1xuXHRcdC8vIE91ciByZWd1bGFyIGB0cnktY2F0Y2hgIG1lY2hhbmlzbSBmYWlscyB0byBkZXRlY3QgbmF0aXZlbHktdW5zdXBwb3J0ZWRcblx0XHQvLyBwc2V1ZG8tY2xhc3NlcyBpbnNpZGUgYDpoYXMoKWAgKHN1Y2ggYXMgYDpoYXMoOmNvbnRhaW5zKFwiRm9vXCIpKWApXG5cdFx0Ly8gaW4gYnJvd3NlcnMgdGhhdCBwYXJzZSB0aGUgYDpoYXMoKWAgYXJndW1lbnQgYXMgYSBmb3JnaXZpbmcgc2VsZWN0b3IgbGlzdC5cblx0XHQvLyBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvc2VsZWN0b3JzLyNyZWxhdGlvbmFsIG5vdyByZXF1aXJlcyB0aGUgYXJndW1lbnRcblx0XHQvLyB0byBiZSBwYXJzZWQgdW5mb3JnaXZpbmdseSwgYnV0IGJyb3dzZXJzIGhhdmUgbm90IHlldCBmdWxseSBhZGp1c3RlZC5cblx0XHRyYnVnZ3lRU0EucHVzaCggXCI6aGFzXCIgKTtcblx0fVxuXG5cdHJidWdneVFTQSA9IHJidWdneVFTQS5sZW5ndGggJiYgbmV3IFJlZ0V4cCggcmJ1Z2d5UVNBLmpvaW4oIFwifFwiICkgKTtcblxuXHQvKiBTb3J0aW5nXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuXHQvLyBEb2N1bWVudCBvcmRlciBzb3J0aW5nXG5cdHNvcnRPcmRlciA9IGZ1bmN0aW9uKCBhLCBiICkge1xuXG5cdFx0Ly8gRmxhZyBmb3IgZHVwbGljYXRlIHJlbW92YWxcblx0XHRpZiAoIGEgPT09IGIgKSB7XG5cdFx0XHRoYXNEdXBsaWNhdGUgPSB0cnVlO1xuXHRcdFx0cmV0dXJuIDA7XG5cdFx0fVxuXG5cdFx0Ly8gU29ydCBvbiBtZXRob2QgZXhpc3RlbmNlIGlmIG9ubHkgb25lIGlucHV0IGhhcyBjb21wYXJlRG9jdW1lbnRQb3NpdGlvblxuXHRcdHZhciBjb21wYXJlID0gIWEuY29tcGFyZURvY3VtZW50UG9zaXRpb24gLSAhYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtcblx0XHRpZiAoIGNvbXBhcmUgKSB7XG5cdFx0XHRyZXR1cm4gY29tcGFyZTtcblx0XHR9XG5cblx0XHQvLyBDYWxjdWxhdGUgcG9zaXRpb24gaWYgYm90aCBpbnB1dHMgYmVsb25nIHRvIHRoZSBzYW1lIGRvY3VtZW50XG5cdFx0Ly8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrXG5cdFx0Ly8gSUUvRWRnZSBzb21ldGltZXMgdGhyb3cgYSBcIlBlcm1pc3Npb24gZGVuaWVkXCIgZXJyb3Igd2hlbiBzdHJpY3QtY29tcGFyaW5nXG5cdFx0Ly8gdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLlxuXHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcblx0XHRjb21wYXJlID0gKCBhLm93bmVyRG9jdW1lbnQgfHwgYSApID09ICggYi5vd25lckRvY3VtZW50IHx8IGIgKSA/XG5cdFx0XHRhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBiICkgOlxuXG5cdFx0XHQvLyBPdGhlcndpc2Ugd2Uga25vdyB0aGV5IGFyZSBkaXNjb25uZWN0ZWRcblx0XHRcdDE7XG5cblx0XHQvLyBEaXNjb25uZWN0ZWQgbm9kZXNcblx0XHRpZiAoIGNvbXBhcmUgJiAxIHx8XG5cdFx0XHQoICFzdXBwb3J0LnNvcnREZXRhY2hlZCAmJiBiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBhICkgPT09IGNvbXBhcmUgKSApIHtcblxuXHRcdFx0Ly8gQ2hvb3NlIHRoZSBmaXJzdCBlbGVtZW50IHRoYXQgaXMgcmVsYXRlZCB0byBvdXIgcHJlZmVycmVkIGRvY3VtZW50XG5cdFx0XHQvLyBTdXBwb3J0OiBJRSAxMSssIEVkZ2UgMTcgLSAxOCtcblx0XHRcdC8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgXCJQZXJtaXNzaW9uIGRlbmllZFwiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZ1xuXHRcdFx0Ly8gdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLlxuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuXHRcdFx0aWYgKCBhID09PSBkb2N1bWVudCB8fCBhLm93bmVyRG9jdW1lbnQgPT0gcHJlZmVycmVkRG9jICYmXG5cdFx0XHRcdGZpbmQuY29udGFpbnMoIHByZWZlcnJlZERvYywgYSApICkge1xuXHRcdFx0XHRyZXR1cm4gLTE7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4K1xuXHRcdFx0Ly8gSUUvRWRnZSBzb21ldGltZXMgdGhyb3cgYSBcIlBlcm1pc3Npb24gZGVuaWVkXCIgZXJyb3Igd2hlbiBzdHJpY3QtY29tcGFyaW5nXG5cdFx0XHQvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuXG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG5cdFx0XHRpZiAoIGIgPT09IGRvY3VtZW50IHx8IGIub3duZXJEb2N1bWVudCA9PSBwcmVmZXJyZWREb2MgJiZcblx0XHRcdFx0ZmluZC5jb250YWlucyggcHJlZmVycmVkRG9jLCBiICkgKSB7XG5cdFx0XHRcdHJldHVybiAxO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBNYWludGFpbiBvcmlnaW5hbCBvcmRlclxuXHRcdFx0cmV0dXJuIHNvcnRJbnB1dCA/XG5cdFx0XHRcdCggaW5kZXhPZi5jYWxsKCBzb3J0SW5wdXQsIGEgKSAtIGluZGV4T2YuY2FsbCggc29ydElucHV0LCBiICkgKSA6XG5cdFx0XHRcdDA7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNvbXBhcmUgJiA0ID8gLTEgOiAxO1xuXHR9O1xuXG5cdHJldHVybiBkb2N1bWVudDtcbn1cblxuZmluZC5tYXRjaGVzID0gZnVuY3Rpb24oIGV4cHIsIGVsZW1lbnRzICkge1xuXHRyZXR1cm4gZmluZCggZXhwciwgbnVsbCwgbnVsbCwgZWxlbWVudHMgKTtcbn07XG5cbmZpbmQubWF0Y2hlc1NlbGVjdG9yID0gZnVuY3Rpb24oIGVsZW0sIGV4cHIgKSB7XG5cdHNldERvY3VtZW50KCBlbGVtICk7XG5cblx0aWYgKCBkb2N1bWVudElzSFRNTCAmJlxuXHRcdCFub25uYXRpdmVTZWxlY3RvckNhY2hlWyBleHByICsgXCIgXCIgXSAmJlxuXHRcdCggIXJidWdneVFTQSB8fCAhcmJ1Z2d5UVNBLnRlc3QoIGV4cHIgKSApICkge1xuXG5cdFx0dHJ5IHtcblx0XHRcdHZhciByZXQgPSBtYXRjaGVzLmNhbGwoIGVsZW0sIGV4cHIgKTtcblxuXHRcdFx0Ly8gSUUgOSdzIG1hdGNoZXNTZWxlY3RvciByZXR1cm5zIGZhbHNlIG9uIGRpc2Nvbm5lY3RlZCBub2Rlc1xuXHRcdFx0aWYgKCByZXQgfHwgc3VwcG9ydC5kaXNjb25uZWN0ZWRNYXRjaCB8fFxuXG5cdFx0XHRcdFx0Ly8gQXMgd2VsbCwgZGlzY29ubmVjdGVkIG5vZGVzIGFyZSBzYWlkIHRvIGJlIGluIGEgZG9jdW1lbnRcblx0XHRcdFx0XHQvLyBmcmFnbWVudCBpbiBJRSA5XG5cdFx0XHRcdFx0ZWxlbS5kb2N1bWVudCAmJiBlbGVtLmRvY3VtZW50Lm5vZGVUeXBlICE9PSAxMSApIHtcblx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdH1cblx0XHR9IGNhdGNoICggZSApIHtcblx0XHRcdG5vbm5hdGl2ZVNlbGVjdG9yQ2FjaGUoIGV4cHIsIHRydWUgKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZmluZCggZXhwciwgZG9jdW1lbnQsIG51bGwsIFsgZWxlbSBdICkubGVuZ3RoID4gMDtcbn07XG5cbmZpbmQuY29udGFpbnMgPSBmdW5jdGlvbiggY29udGV4dCwgZWxlbSApIHtcblxuXHQvLyBTZXQgZG9jdW1lbnQgdmFycyBpZiBuZWVkZWRcblx0Ly8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrXG5cdC8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgXCJQZXJtaXNzaW9uIGRlbmllZFwiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZ1xuXHQvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuXG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcblx0aWYgKCAoIGNvbnRleHQub3duZXJEb2N1bWVudCB8fCBjb250ZXh0ICkgIT0gZG9jdW1lbnQgKSB7XG5cdFx0c2V0RG9jdW1lbnQoIGNvbnRleHQgKTtcblx0fVxuXHRyZXR1cm4galF1ZXJ5LmNvbnRhaW5zKCBjb250ZXh0LCBlbGVtICk7XG59O1xuXG5cbmZpbmQuYXR0ciA9IGZ1bmN0aW9uKCBlbGVtLCBuYW1lICkge1xuXG5cdC8vIFNldCBkb2N1bWVudCB2YXJzIGlmIG5lZWRlZFxuXHQvLyBTdXBwb3J0OiBJRSAxMSssIEVkZ2UgMTcgLSAxOCtcblx0Ly8gSUUvRWRnZSBzb21ldGltZXMgdGhyb3cgYSBcIlBlcm1pc3Npb24gZGVuaWVkXCIgZXJyb3Igd2hlbiBzdHJpY3QtY29tcGFyaW5nXG5cdC8vIHR3byBkb2N1bWVudHM7IHNoYWxsb3cgY29tcGFyaXNvbnMgd29yay5cblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuXHRpZiAoICggZWxlbS5vd25lckRvY3VtZW50IHx8IGVsZW0gKSAhPSBkb2N1bWVudCApIHtcblx0XHRzZXREb2N1bWVudCggZWxlbSApO1xuXHR9XG5cblx0dmFyIGZuID0gRXhwci5hdHRySGFuZGxlWyBuYW1lLnRvTG93ZXJDYXNlKCkgXSxcblxuXHRcdC8vIERvbid0IGdldCBmb29sZWQgYnkgT2JqZWN0LnByb3RvdHlwZSBwcm9wZXJ0aWVzIChzZWUgdHJhYy0xMzgwNylcblx0XHR2YWwgPSBmbiAmJiBoYXNPd24uY2FsbCggRXhwci5hdHRySGFuZGxlLCBuYW1lLnRvTG93ZXJDYXNlKCkgKSA/XG5cdFx0XHRmbiggZWxlbSwgbmFtZSwgIWRvY3VtZW50SXNIVE1MICkgOlxuXHRcdFx0dW5kZWZpbmVkO1xuXG5cdGlmICggdmFsICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0cmV0dXJuIHZhbDtcblx0fVxuXG5cdHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZSggbmFtZSApO1xufTtcblxuZmluZC5lcnJvciA9IGZ1bmN0aW9uKCBtc2cgKSB7XG5cdHRocm93IG5ldyBFcnJvciggXCJTeW50YXggZXJyb3IsIHVucmVjb2duaXplZCBleHByZXNzaW9uOiBcIiArIG1zZyApO1xufTtcblxuLyoqXG4gKiBEb2N1bWVudCBzb3J0aW5nIGFuZCByZW1vdmluZyBkdXBsaWNhdGVzXG4gKiBAcGFyYW0ge0FycmF5TGlrZX0gcmVzdWx0c1xuICovXG5qUXVlcnkudW5pcXVlU29ydCA9IGZ1bmN0aW9uKCByZXN1bHRzICkge1xuXHR2YXIgZWxlbSxcblx0XHRkdXBsaWNhdGVzID0gW10sXG5cdFx0aiA9IDAsXG5cdFx0aSA9IDA7XG5cblx0Ly8gVW5sZXNzIHdlICprbm93KiB3ZSBjYW4gZGV0ZWN0IGR1cGxpY2F0ZXMsIGFzc3VtZSB0aGVpciBwcmVzZW5jZVxuXHQvL1xuXHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wK1xuXHQvLyBUZXN0aW5nIGZvciBkZXRlY3RpbmcgZHVwbGljYXRlcyBpcyB1bnByZWRpY3RhYmxlIHNvIGluc3RlYWQgYXNzdW1lIHdlIGNhbid0XG5cdC8vIGRlcGVuZCBvbiBkdXBsaWNhdGUgZGV0ZWN0aW9uIGluIGFsbCBicm93c2VycyB3aXRob3V0IGEgc3RhYmxlIHNvcnQuXG5cdGhhc0R1cGxpY2F0ZSA9ICFzdXBwb3J0LnNvcnRTdGFibGU7XG5cdHNvcnRJbnB1dCA9ICFzdXBwb3J0LnNvcnRTdGFibGUgJiYgc2xpY2UuY2FsbCggcmVzdWx0cywgMCApO1xuXHRzb3J0LmNhbGwoIHJlc3VsdHMsIHNvcnRPcmRlciApO1xuXG5cdGlmICggaGFzRHVwbGljYXRlICkge1xuXHRcdHdoaWxlICggKCBlbGVtID0gcmVzdWx0c1sgaSsrIF0gKSApIHtcblx0XHRcdGlmICggZWxlbSA9PT0gcmVzdWx0c1sgaSBdICkge1xuXHRcdFx0XHRqID0gZHVwbGljYXRlcy5wdXNoKCBpICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHdoaWxlICggai0tICkge1xuXHRcdFx0c3BsaWNlLmNhbGwoIHJlc3VsdHMsIGR1cGxpY2F0ZXNbIGogXSwgMSApO1xuXHRcdH1cblx0fVxuXG5cdC8vIENsZWFyIGlucHV0IGFmdGVyIHNvcnRpbmcgdG8gcmVsZWFzZSBvYmplY3RzXG5cdC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L3NpenpsZS9wdWxsLzIyNVxuXHRzb3J0SW5wdXQgPSBudWxsO1xuXG5cdHJldHVybiByZXN1bHRzO1xufTtcblxualF1ZXJ5LmZuLnVuaXF1ZVNvcnQgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBqUXVlcnkudW5pcXVlU29ydCggc2xpY2UuYXBwbHkoIHRoaXMgKSApICk7XG59O1xuXG5FeHByID0galF1ZXJ5LmV4cHIgPSB7XG5cblx0Ly8gQ2FuIGJlIGFkanVzdGVkIGJ5IHRoZSB1c2VyXG5cdGNhY2hlTGVuZ3RoOiA1MCxcblxuXHRjcmVhdGVQc2V1ZG86IG1hcmtGdW5jdGlvbixcblxuXHRtYXRjaDogbWF0Y2hFeHByLFxuXG5cdGF0dHJIYW5kbGU6IHt9LFxuXG5cdGZpbmQ6IHt9LFxuXG5cdHJlbGF0aXZlOiB7XG5cdFx0XCI+XCI6IHsgZGlyOiBcInBhcmVudE5vZGVcIiwgZmlyc3Q6IHRydWUgfSxcblx0XHRcIiBcIjogeyBkaXI6IFwicGFyZW50Tm9kZVwiIH0sXG5cdFx0XCIrXCI6IHsgZGlyOiBcInByZXZpb3VzU2libGluZ1wiLCBmaXJzdDogdHJ1ZSB9LFxuXHRcdFwiflwiOiB7IGRpcjogXCJwcmV2aW91c1NpYmxpbmdcIiB9XG5cdH0sXG5cblx0cHJlRmlsdGVyOiB7XG5cdFx0QVRUUjogZnVuY3Rpb24oIG1hdGNoICkge1xuXHRcdFx0bWF0Y2hbIDEgXSA9IG1hdGNoWyAxIF0ucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTtcblxuXHRcdFx0Ly8gTW92ZSB0aGUgZ2l2ZW4gdmFsdWUgdG8gbWF0Y2hbM10gd2hldGhlciBxdW90ZWQgb3IgdW5xdW90ZWRcblx0XHRcdG1hdGNoWyAzIF0gPSAoIG1hdGNoWyAzIF0gfHwgbWF0Y2hbIDQgXSB8fCBtYXRjaFsgNSBdIHx8IFwiXCIgKVxuXHRcdFx0XHQucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTtcblxuXHRcdFx0aWYgKCBtYXRjaFsgMiBdID09PSBcIn49XCIgKSB7XG5cdFx0XHRcdG1hdGNoWyAzIF0gPSBcIiBcIiArIG1hdGNoWyAzIF0gKyBcIiBcIjtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG1hdGNoLnNsaWNlKCAwLCA0ICk7XG5cdFx0fSxcblxuXHRcdENISUxEOiBmdW5jdGlvbiggbWF0Y2ggKSB7XG5cblx0XHRcdC8qIG1hdGNoZXMgZnJvbSBtYXRjaEV4cHJbXCJDSElMRFwiXVxuXHRcdFx0XHQxIHR5cGUgKG9ubHl8bnRofC4uLilcblx0XHRcdFx0MiB3aGF0IChjaGlsZHxvZi10eXBlKVxuXHRcdFx0XHQzIGFyZ3VtZW50IChldmVufG9kZHxcXGQqfFxcZCpuKFsrLV1cXGQrKT98Li4uKVxuXHRcdFx0XHQ0IHhuLWNvbXBvbmVudCBvZiB4bit5IGFyZ3VtZW50IChbKy1dP1xcZCpufClcblx0XHRcdFx0NSBzaWduIG9mIHhuLWNvbXBvbmVudFxuXHRcdFx0XHQ2IHggb2YgeG4tY29tcG9uZW50XG5cdFx0XHRcdDcgc2lnbiBvZiB5LWNvbXBvbmVudFxuXHRcdFx0XHQ4IHkgb2YgeS1jb21wb25lbnRcblx0XHRcdCovXG5cdFx0XHRtYXRjaFsgMSBdID0gbWF0Y2hbIDEgXS50b0xvd2VyQ2FzZSgpO1xuXG5cdFx0XHRpZiAoIG1hdGNoWyAxIF0uc2xpY2UoIDAsIDMgKSA9PT0gXCJudGhcIiApIHtcblxuXHRcdFx0XHQvLyBudGgtKiByZXF1aXJlcyBhcmd1bWVudFxuXHRcdFx0XHRpZiAoICFtYXRjaFsgMyBdICkge1xuXHRcdFx0XHRcdGZpbmQuZXJyb3IoIG1hdGNoWyAwIF0gKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIG51bWVyaWMgeCBhbmQgeSBwYXJhbWV0ZXJzIGZvciBFeHByLmZpbHRlci5DSElMRFxuXHRcdFx0XHQvLyByZW1lbWJlciB0aGF0IGZhbHNlL3RydWUgY2FzdCByZXNwZWN0aXZlbHkgdG8gMC8xXG5cdFx0XHRcdG1hdGNoWyA0IF0gPSArKCBtYXRjaFsgNCBdID9cblx0XHRcdFx0XHRtYXRjaFsgNSBdICsgKCBtYXRjaFsgNiBdIHx8IDEgKSA6XG5cdFx0XHRcdFx0MiAqICggbWF0Y2hbIDMgXSA9PT0gXCJldmVuXCIgfHwgbWF0Y2hbIDMgXSA9PT0gXCJvZGRcIiApXG5cdFx0XHRcdCk7XG5cdFx0XHRcdG1hdGNoWyA1IF0gPSArKCAoIG1hdGNoWyA3IF0gKyBtYXRjaFsgOCBdICkgfHwgbWF0Y2hbIDMgXSA9PT0gXCJvZGRcIiApO1xuXG5cdFx0XHQvLyBvdGhlciB0eXBlcyBwcm9oaWJpdCBhcmd1bWVudHNcblx0XHRcdH0gZWxzZSBpZiAoIG1hdGNoWyAzIF0gKSB7XG5cdFx0XHRcdGZpbmQuZXJyb3IoIG1hdGNoWyAwIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG1hdGNoO1xuXHRcdH0sXG5cblx0XHRQU0VVRE86IGZ1bmN0aW9uKCBtYXRjaCApIHtcblx0XHRcdHZhciBleGNlc3MsXG5cdFx0XHRcdHVucXVvdGVkID0gIW1hdGNoWyA2IF0gJiYgbWF0Y2hbIDIgXTtcblxuXHRcdFx0aWYgKCBtYXRjaEV4cHIuQ0hJTEQudGVzdCggbWF0Y2hbIDAgXSApICkge1xuXHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQWNjZXB0IHF1b3RlZCBhcmd1bWVudHMgYXMtaXNcblx0XHRcdGlmICggbWF0Y2hbIDMgXSApIHtcblx0XHRcdFx0bWF0Y2hbIDIgXSA9IG1hdGNoWyA0IF0gfHwgbWF0Y2hbIDUgXSB8fCBcIlwiO1xuXG5cdFx0XHQvLyBTdHJpcCBleGNlc3MgY2hhcmFjdGVycyBmcm9tIHVucXVvdGVkIGFyZ3VtZW50c1xuXHRcdFx0fSBlbHNlIGlmICggdW5xdW90ZWQgJiYgcnBzZXVkby50ZXN0KCB1bnF1b3RlZCApICYmXG5cblx0XHRcdFx0Ly8gR2V0IGV4Y2VzcyBmcm9tIHRva2VuaXplIChyZWN1cnNpdmVseSlcblx0XHRcdFx0KCBleGNlc3MgPSB0b2tlbml6ZSggdW5xdW90ZWQsIHRydWUgKSApICYmXG5cblx0XHRcdFx0Ly8gYWR2YW5jZSB0byB0aGUgbmV4dCBjbG9zaW5nIHBhcmVudGhlc2lzXG5cdFx0XHRcdCggZXhjZXNzID0gdW5xdW90ZWQuaW5kZXhPZiggXCIpXCIsIHVucXVvdGVkLmxlbmd0aCAtIGV4Y2VzcyApIC0gdW5xdW90ZWQubGVuZ3RoICkgKSB7XG5cblx0XHRcdFx0Ly8gZXhjZXNzIGlzIGEgbmVnYXRpdmUgaW5kZXhcblx0XHRcdFx0bWF0Y2hbIDAgXSA9IG1hdGNoWyAwIF0uc2xpY2UoIDAsIGV4Y2VzcyApO1xuXHRcdFx0XHRtYXRjaFsgMiBdID0gdW5xdW90ZWQuc2xpY2UoIDAsIGV4Y2VzcyApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBSZXR1cm4gb25seSBjYXB0dXJlcyBuZWVkZWQgYnkgdGhlIHBzZXVkbyBmaWx0ZXIgbWV0aG9kICh0eXBlIGFuZCBhcmd1bWVudClcblx0XHRcdHJldHVybiBtYXRjaC5zbGljZSggMCwgMyApO1xuXHRcdH1cblx0fSxcblxuXHRmaWx0ZXI6IHtcblxuXHRcdFRBRzogZnVuY3Rpb24oIG5vZGVOYW1lU2VsZWN0b3IgKSB7XG5cdFx0XHR2YXIgZXhwZWN0ZWROb2RlTmFtZSA9IG5vZGVOYW1lU2VsZWN0b3IucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0cmV0dXJuIG5vZGVOYW1lU2VsZWN0b3IgPT09IFwiKlwiID9cblx0XHRcdFx0ZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH0gOlxuXHRcdFx0XHRmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0XHRyZXR1cm4gbm9kZU5hbWUoIGVsZW0sIGV4cGVjdGVkTm9kZU5hbWUgKTtcblx0XHRcdFx0fTtcblx0XHR9LFxuXG5cdFx0Q0xBU1M6IGZ1bmN0aW9uKCBjbGFzc05hbWUgKSB7XG5cdFx0XHR2YXIgcGF0dGVybiA9IGNsYXNzQ2FjaGVbIGNsYXNzTmFtZSArIFwiIFwiIF07XG5cblx0XHRcdHJldHVybiBwYXR0ZXJuIHx8XG5cdFx0XHRcdCggcGF0dGVybiA9IG5ldyBSZWdFeHAoIFwiKF58XCIgKyB3aGl0ZXNwYWNlICsgXCIpXCIgKyBjbGFzc05hbWUgK1xuXHRcdFx0XHRcdFwiKFwiICsgd2hpdGVzcGFjZSArIFwifCQpXCIgKSApICYmXG5cdFx0XHRcdGNsYXNzQ2FjaGUoIGNsYXNzTmFtZSwgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHBhdHRlcm4udGVzdChcblx0XHRcdFx0XHRcdHR5cGVvZiBlbGVtLmNsYXNzTmFtZSA9PT0gXCJzdHJpbmdcIiAmJiBlbGVtLmNsYXNzTmFtZSB8fFxuXHRcdFx0XHRcdFx0XHR0eXBlb2YgZWxlbS5nZXRBdHRyaWJ1dGUgIT09IFwidW5kZWZpbmVkXCIgJiZcblx0XHRcdFx0XHRcdFx0XHRlbGVtLmdldEF0dHJpYnV0ZSggXCJjbGFzc1wiICkgfHxcblx0XHRcdFx0XHRcdFx0XCJcIlxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH0gKTtcblx0XHR9LFxuXG5cdFx0QVRUUjogZnVuY3Rpb24oIG5hbWUsIG9wZXJhdG9yLCBjaGVjayApIHtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0dmFyIHJlc3VsdCA9IGZpbmQuYXR0ciggZWxlbSwgbmFtZSApO1xuXG5cdFx0XHRcdGlmICggcmVzdWx0ID09IG51bGwgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG9wZXJhdG9yID09PSBcIiE9XCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCAhb3BlcmF0b3IgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXN1bHQgKz0gXCJcIjtcblxuXHRcdFx0XHRpZiAoIG9wZXJhdG9yID09PSBcIj1cIiApIHtcblx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0ID09PSBjaGVjaztcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIG9wZXJhdG9yID09PSBcIiE9XCIgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHJlc3VsdCAhPT0gY2hlY2s7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCBvcGVyYXRvciA9PT0gXCJePVwiICkge1xuXHRcdFx0XHRcdHJldHVybiBjaGVjayAmJiByZXN1bHQuaW5kZXhPZiggY2hlY2sgKSA9PT0gMDtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIG9wZXJhdG9yID09PSBcIio9XCIgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGNoZWNrICYmIHJlc3VsdC5pbmRleE9mKCBjaGVjayApID4gLTE7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCBvcGVyYXRvciA9PT0gXCIkPVwiICkge1xuXHRcdFx0XHRcdHJldHVybiBjaGVjayAmJiByZXN1bHQuc2xpY2UoIC1jaGVjay5sZW5ndGggKSA9PT0gY2hlY2s7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCBvcGVyYXRvciA9PT0gXCJ+PVwiICkge1xuXHRcdFx0XHRcdHJldHVybiAoIFwiIFwiICsgcmVzdWx0LnJlcGxhY2UoIHJ3aGl0ZXNwYWNlLCBcIiBcIiApICsgXCIgXCIgKVxuXHRcdFx0XHRcdFx0LmluZGV4T2YoIGNoZWNrICkgPiAtMTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIG9wZXJhdG9yID09PSBcInw9XCIgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHJlc3VsdCA9PT0gY2hlY2sgfHwgcmVzdWx0LnNsaWNlKCAwLCBjaGVjay5sZW5ndGggKyAxICkgPT09IGNoZWNrICsgXCItXCI7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9O1xuXHRcdH0sXG5cblx0XHRDSElMRDogZnVuY3Rpb24oIHR5cGUsIHdoYXQsIF9hcmd1bWVudCwgZmlyc3QsIGxhc3QgKSB7XG5cdFx0XHR2YXIgc2ltcGxlID0gdHlwZS5zbGljZSggMCwgMyApICE9PSBcIm50aFwiLFxuXHRcdFx0XHRmb3J3YXJkID0gdHlwZS5zbGljZSggLTQgKSAhPT0gXCJsYXN0XCIsXG5cdFx0XHRcdG9mVHlwZSA9IHdoYXQgPT09IFwib2YtdHlwZVwiO1xuXG5cdFx0XHRyZXR1cm4gZmlyc3QgPT09IDEgJiYgbGFzdCA9PT0gMCA/XG5cblx0XHRcdFx0Ly8gU2hvcnRjdXQgZm9yIDpudGgtKihuKVxuXHRcdFx0XHRmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0XHRyZXR1cm4gISFlbGVtLnBhcmVudE5vZGU7XG5cdFx0XHRcdH0gOlxuXG5cdFx0XHRcdGZ1bmN0aW9uKCBlbGVtLCBfY29udGV4dCwgeG1sICkge1xuXHRcdFx0XHRcdHZhciBjYWNoZSwgb3V0ZXJDYWNoZSwgbm9kZSwgbm9kZUluZGV4LCBzdGFydCxcblx0XHRcdFx0XHRcdGRpciA9IHNpbXBsZSAhPT0gZm9yd2FyZCA/IFwibmV4dFNpYmxpbmdcIiA6IFwicHJldmlvdXNTaWJsaW5nXCIsXG5cdFx0XHRcdFx0XHRwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGUsXG5cdFx0XHRcdFx0XHRuYW1lID0gb2ZUeXBlICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxcblx0XHRcdFx0XHRcdHVzZUNhY2hlID0gIXhtbCAmJiAhb2ZUeXBlLFxuXHRcdFx0XHRcdFx0ZGlmZiA9IGZhbHNlO1xuXG5cdFx0XHRcdFx0aWYgKCBwYXJlbnQgKSB7XG5cblx0XHRcdFx0XHRcdC8vIDooZmlyc3R8bGFzdHxvbmx5KS0oY2hpbGR8b2YtdHlwZSlcblx0XHRcdFx0XHRcdGlmICggc2ltcGxlICkge1xuXHRcdFx0XHRcdFx0XHR3aGlsZSAoIGRpciApIHtcblx0XHRcdFx0XHRcdFx0XHRub2RlID0gZWxlbTtcblx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoICggbm9kZSA9IG5vZGVbIGRpciBdICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIG9mVHlwZSA/XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG5vZGVOYW1lKCBub2RlLCBuYW1lICkgOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRub2RlLm5vZGVUeXBlID09PSAxICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBSZXZlcnNlIGRpcmVjdGlvbiBmb3IgOm9ubHktKiAoaWYgd2UgaGF2ZW4ndCB5ZXQgZG9uZSBzbylcblx0XHRcdFx0XHRcdFx0XHRzdGFydCA9IGRpciA9IHR5cGUgPT09IFwib25seVwiICYmICFzdGFydCAmJiBcIm5leHRTaWJsaW5nXCI7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHN0YXJ0ID0gWyBmb3J3YXJkID8gcGFyZW50LmZpcnN0Q2hpbGQgOiBwYXJlbnQubGFzdENoaWxkIF07XG5cblx0XHRcdFx0XHRcdC8vIG5vbi14bWwgOm50aC1jaGlsZCguLi4pIHN0b3JlcyBjYWNoZSBkYXRhIG9uIGBwYXJlbnRgXG5cdFx0XHRcdFx0XHRpZiAoIGZvcndhcmQgJiYgdXNlQ2FjaGUgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gU2VlayBgZWxlbWAgZnJvbSBhIHByZXZpb3VzbHktY2FjaGVkIGluZGV4XG5cdFx0XHRcdFx0XHRcdG91dGVyQ2FjaGUgPSBwYXJlbnRbIGV4cGFuZG8gXSB8fCAoIHBhcmVudFsgZXhwYW5kbyBdID0ge30gKTtcblx0XHRcdFx0XHRcdFx0Y2FjaGUgPSBvdXRlckNhY2hlWyB0eXBlIF0gfHwgW107XG5cdFx0XHRcdFx0XHRcdG5vZGVJbmRleCA9IGNhY2hlWyAwIF0gPT09IGRpcnJ1bnMgJiYgY2FjaGVbIDEgXTtcblx0XHRcdFx0XHRcdFx0ZGlmZiA9IG5vZGVJbmRleCAmJiBjYWNoZVsgMiBdO1xuXHRcdFx0XHRcdFx0XHRub2RlID0gbm9kZUluZGV4ICYmIHBhcmVudC5jaGlsZE5vZGVzWyBub2RlSW5kZXggXTtcblxuXHRcdFx0XHRcdFx0XHR3aGlsZSAoICggbm9kZSA9ICsrbm9kZUluZGV4ICYmIG5vZGUgJiYgbm9kZVsgZGlyIF0gfHxcblxuXHRcdFx0XHRcdFx0XHRcdC8vIEZhbGxiYWNrIHRvIHNlZWtpbmcgYGVsZW1gIGZyb20gdGhlIHN0YXJ0XG5cdFx0XHRcdFx0XHRcdFx0KCBkaWZmID0gbm9kZUluZGV4ID0gMCApIHx8IHN0YXJ0LnBvcCgpICkgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBXaGVuIGZvdW5kLCBjYWNoZSBpbmRleGVzIG9uIGBwYXJlbnRgIGFuZCBicmVha1xuXHRcdFx0XHRcdFx0XHRcdGlmICggbm9kZS5ub2RlVHlwZSA9PT0gMSAmJiArK2RpZmYgJiYgbm9kZSA9PT0gZWxlbSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdG91dGVyQ2FjaGVbIHR5cGUgXSA9IFsgZGlycnVucywgbm9kZUluZGV4LCBkaWZmIF07XG5cdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBVc2UgcHJldmlvdXNseS1jYWNoZWQgZWxlbWVudCBpbmRleCBpZiBhdmFpbGFibGVcblx0XHRcdFx0XHRcdFx0aWYgKCB1c2VDYWNoZSApIHtcblx0XHRcdFx0XHRcdFx0XHRvdXRlckNhY2hlID0gZWxlbVsgZXhwYW5kbyBdIHx8ICggZWxlbVsgZXhwYW5kbyBdID0ge30gKTtcblx0XHRcdFx0XHRcdFx0XHRjYWNoZSA9IG91dGVyQ2FjaGVbIHR5cGUgXSB8fCBbXTtcblx0XHRcdFx0XHRcdFx0XHRub2RlSW5kZXggPSBjYWNoZVsgMCBdID09PSBkaXJydW5zICYmIGNhY2hlWyAxIF07XG5cdFx0XHRcdFx0XHRcdFx0ZGlmZiA9IG5vZGVJbmRleDtcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdC8vIHhtbCA6bnRoLWNoaWxkKC4uLilcblx0XHRcdFx0XHRcdFx0Ly8gb3IgOm50aC1sYXN0LWNoaWxkKC4uLikgb3IgOm50aCgtbGFzdCk/LW9mLXR5cGUoLi4uKVxuXHRcdFx0XHRcdFx0XHRpZiAoIGRpZmYgPT09IGZhbHNlICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gVXNlIHRoZSBzYW1lIGxvb3AgYXMgYWJvdmUgdG8gc2VlayBgZWxlbWAgZnJvbSB0aGUgc3RhcnRcblx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoICggbm9kZSA9ICsrbm9kZUluZGV4ICYmIG5vZGUgJiYgbm9kZVsgZGlyIF0gfHxcblx0XHRcdFx0XHRcdFx0XHRcdCggZGlmZiA9IG5vZGVJbmRleCA9IDAgKSB8fCBzdGFydC5wb3AoKSApICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoICggb2ZUeXBlID9cblx0XHRcdFx0XHRcdFx0XHRcdFx0bm9kZU5hbWUoIG5vZGUsIG5hbWUgKSA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG5vZGUubm9kZVR5cGUgPT09IDEgKSAmJlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQrK2RpZmYgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gQ2FjaGUgdGhlIGluZGV4IG9mIGVhY2ggZW5jb3VudGVyZWQgZWxlbWVudFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIHVzZUNhY2hlICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG91dGVyQ2FjaGUgPSBub2RlWyBleHBhbmRvIF0gfHxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCggbm9kZVsgZXhwYW5kbyBdID0ge30gKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvdXRlckNhY2hlWyB0eXBlIF0gPSBbIGRpcnJ1bnMsIGRpZmYgXTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggbm9kZSA9PT0gZWxlbSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvLyBJbmNvcnBvcmF0ZSB0aGUgb2Zmc2V0LCB0aGVuIGNoZWNrIGFnYWluc3QgY3ljbGUgc2l6ZVxuXHRcdFx0XHRcdFx0ZGlmZiAtPSBsYXN0O1xuXHRcdFx0XHRcdFx0cmV0dXJuIGRpZmYgPT09IGZpcnN0IHx8ICggZGlmZiAlIGZpcnN0ID09PSAwICYmIGRpZmYgLyBmaXJzdCA+PSAwICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdH0sXG5cblx0XHRQU0VVRE86IGZ1bmN0aW9uKCBwc2V1ZG8sIGFyZ3VtZW50ICkge1xuXG5cdFx0XHQvLyBwc2V1ZG8tY2xhc3MgbmFtZXMgYXJlIGNhc2UtaW5zZW5zaXRpdmVcblx0XHRcdC8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI3BzZXVkby1jbGFzc2VzXG5cdFx0XHQvLyBQcmlvcml0aXplIGJ5IGNhc2Ugc2Vuc2l0aXZpdHkgaW4gY2FzZSBjdXN0b20gcHNldWRvcyBhcmUgYWRkZWQgd2l0aCB1cHBlcmNhc2UgbGV0dGVyc1xuXHRcdFx0Ly8gUmVtZW1iZXIgdGhhdCBzZXRGaWx0ZXJzIGluaGVyaXRzIGZyb20gcHNldWRvc1xuXHRcdFx0dmFyIGFyZ3MsXG5cdFx0XHRcdGZuID0gRXhwci5wc2V1ZG9zWyBwc2V1ZG8gXSB8fCBFeHByLnNldEZpbHRlcnNbIHBzZXVkby50b0xvd2VyQ2FzZSgpIF0gfHxcblx0XHRcdFx0XHRmaW5kLmVycm9yKCBcInVuc3VwcG9ydGVkIHBzZXVkbzogXCIgKyBwc2V1ZG8gKTtcblxuXHRcdFx0Ly8gVGhlIHVzZXIgbWF5IHVzZSBjcmVhdGVQc2V1ZG8gdG8gaW5kaWNhdGUgdGhhdFxuXHRcdFx0Ly8gYXJndW1lbnRzIGFyZSBuZWVkZWQgdG8gY3JlYXRlIHRoZSBmaWx0ZXIgZnVuY3Rpb25cblx0XHRcdC8vIGp1c3QgYXMgalF1ZXJ5IGRvZXNcblx0XHRcdGlmICggZm5bIGV4cGFuZG8gXSApIHtcblx0XHRcdFx0cmV0dXJuIGZuKCBhcmd1bWVudCApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBCdXQgbWFpbnRhaW4gc3VwcG9ydCBmb3Igb2xkIHNpZ25hdHVyZXNcblx0XHRcdGlmICggZm4ubGVuZ3RoID4gMSApIHtcblx0XHRcdFx0YXJncyA9IFsgcHNldWRvLCBwc2V1ZG8sIFwiXCIsIGFyZ3VtZW50IF07XG5cdFx0XHRcdHJldHVybiBFeHByLnNldEZpbHRlcnMuaGFzT3duUHJvcGVydHkoIHBzZXVkby50b0xvd2VyQ2FzZSgpICkgP1xuXHRcdFx0XHRcdG1hcmtGdW5jdGlvbiggZnVuY3Rpb24oIHNlZWQsIG1hdGNoZXMgKSB7XG5cdFx0XHRcdFx0XHR2YXIgaWR4LFxuXHRcdFx0XHRcdFx0XHRtYXRjaGVkID0gZm4oIHNlZWQsIGFyZ3VtZW50ICksXG5cdFx0XHRcdFx0XHRcdGkgPSBtYXRjaGVkLmxlbmd0aDtcblx0XHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdFx0XHRpZHggPSBpbmRleE9mLmNhbGwoIHNlZWQsIG1hdGNoZWRbIGkgXSApO1xuXHRcdFx0XHRcdFx0XHRzZWVkWyBpZHggXSA9ICEoIG1hdGNoZXNbIGlkeCBdID0gbWF0Y2hlZFsgaSBdICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSApIDpcblx0XHRcdFx0XHRmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0XHRcdHJldHVybiBmbiggZWxlbSwgMCwgYXJncyApO1xuXHRcdFx0XHRcdH07XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBmbjtcblx0XHR9XG5cdH0sXG5cblx0cHNldWRvczoge1xuXG5cdFx0Ly8gUG90ZW50aWFsbHkgY29tcGxleCBwc2V1ZG9zXG5cdFx0bm90OiBtYXJrRnVuY3Rpb24oIGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblxuXHRcdFx0Ly8gVHJpbSB0aGUgc2VsZWN0b3IgcGFzc2VkIHRvIGNvbXBpbGVcblx0XHRcdC8vIHRvIGF2b2lkIHRyZWF0aW5nIGxlYWRpbmcgYW5kIHRyYWlsaW5nXG5cdFx0XHQvLyBzcGFjZXMgYXMgY29tYmluYXRvcnNcblx0XHRcdHZhciBpbnB1dCA9IFtdLFxuXHRcdFx0XHRyZXN1bHRzID0gW10sXG5cdFx0XHRcdG1hdGNoZXIgPSBjb21waWxlKCBzZWxlY3Rvci5yZXBsYWNlKCBydHJpbUNTUywgXCIkMVwiICkgKTtcblxuXHRcdFx0cmV0dXJuIG1hdGNoZXJbIGV4cGFuZG8gXSA/XG5cdFx0XHRcdG1hcmtGdW5jdGlvbiggZnVuY3Rpb24oIHNlZWQsIG1hdGNoZXMsIF9jb250ZXh0LCB4bWwgKSB7XG5cdFx0XHRcdFx0dmFyIGVsZW0sXG5cdFx0XHRcdFx0XHR1bm1hdGNoZWQgPSBtYXRjaGVyKCBzZWVkLCBudWxsLCB4bWwsIFtdICksXG5cdFx0XHRcdFx0XHRpID0gc2VlZC5sZW5ndGg7XG5cblx0XHRcdFx0XHQvLyBNYXRjaCBlbGVtZW50cyB1bm1hdGNoZWQgYnkgYG1hdGNoZXJgXG5cdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHRpZiAoICggZWxlbSA9IHVubWF0Y2hlZFsgaSBdICkgKSB7XG5cdFx0XHRcdFx0XHRcdHNlZWRbIGkgXSA9ICEoIG1hdGNoZXNbIGkgXSA9IGVsZW0gKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gKSA6XG5cdFx0XHRcdGZ1bmN0aW9uKCBlbGVtLCBfY29udGV4dCwgeG1sICkge1xuXHRcdFx0XHRcdGlucHV0WyAwIF0gPSBlbGVtO1xuXHRcdFx0XHRcdG1hdGNoZXIoIGlucHV0LCBudWxsLCB4bWwsIHJlc3VsdHMgKTtcblxuXHRcdFx0XHRcdC8vIERvbid0IGtlZXAgdGhlIGVsZW1lbnRcblx0XHRcdFx0XHQvLyAoc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qcXVlcnkvc2l6emxlL2lzc3Vlcy8yOTkpXG5cdFx0XHRcdFx0aW5wdXRbIDAgXSA9IG51bGw7XG5cdFx0XHRcdFx0cmV0dXJuICFyZXN1bHRzLnBvcCgpO1xuXHRcdFx0XHR9O1xuXHRcdH0gKSxcblxuXHRcdGhhczogbWFya0Z1bmN0aW9uKCBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiBmaW5kKCBzZWxlY3RvciwgZWxlbSApLmxlbmd0aCA+IDA7XG5cdFx0XHR9O1xuXHRcdH0gKSxcblxuXHRcdGNvbnRhaW5zOiBtYXJrRnVuY3Rpb24oIGZ1bmN0aW9uKCB0ZXh0ICkge1xuXHRcdFx0dGV4dCA9IHRleHQucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuICggZWxlbS50ZXh0Q29udGVudCB8fCBqUXVlcnkudGV4dCggZWxlbSApICkuaW5kZXhPZiggdGV4dCApID4gLTE7XG5cdFx0XHR9O1xuXHRcdH0gKSxcblxuXHRcdC8vIFwiV2hldGhlciBhbiBlbGVtZW50IGlzIHJlcHJlc2VudGVkIGJ5IGEgOmxhbmcoKSBzZWxlY3RvclxuXHRcdC8vIGlzIGJhc2VkIHNvbGVseSBvbiB0aGUgZWxlbWVudCdzIGxhbmd1YWdlIHZhbHVlXG5cdFx0Ly8gYmVpbmcgZXF1YWwgdG8gdGhlIGlkZW50aWZpZXIgQyxcblx0XHQvLyBvciBiZWdpbm5pbmcgd2l0aCB0aGUgaWRlbnRpZmllciBDIGltbWVkaWF0ZWx5IGZvbGxvd2VkIGJ5IFwiLVwiLlxuXHRcdC8vIFRoZSBtYXRjaGluZyBvZiBDIGFnYWluc3QgdGhlIGVsZW1lbnQncyBsYW5ndWFnZSB2YWx1ZSBpcyBwZXJmb3JtZWQgY2FzZS1pbnNlbnNpdGl2ZWx5LlxuXHRcdC8vIFRoZSBpZGVudGlmaWVyIEMgZG9lcyBub3QgaGF2ZSB0byBiZSBhIHZhbGlkIGxhbmd1YWdlIG5hbWUuXCJcblx0XHQvLyBodHRwczovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNsYW5nLXBzZXVkb1xuXHRcdGxhbmc6IG1hcmtGdW5jdGlvbiggZnVuY3Rpb24oIGxhbmcgKSB7XG5cblx0XHRcdC8vIGxhbmcgdmFsdWUgbXVzdCBiZSBhIHZhbGlkIGlkZW50aWZpZXJcblx0XHRcdGlmICggIXJpZGVudGlmaWVyLnRlc3QoIGxhbmcgfHwgXCJcIiApICkge1xuXHRcdFx0XHRmaW5kLmVycm9yKCBcInVuc3VwcG9ydGVkIGxhbmc6IFwiICsgbGFuZyApO1xuXHRcdFx0fVxuXHRcdFx0bGFuZyA9IGxhbmcucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHR2YXIgZWxlbUxhbmc7XG5cdFx0XHRcdGRvIHtcblx0XHRcdFx0XHRpZiAoICggZWxlbUxhbmcgPSBkb2N1bWVudElzSFRNTCA/XG5cdFx0XHRcdFx0XHRlbGVtLmxhbmcgOlxuXHRcdFx0XHRcdFx0ZWxlbS5nZXRBdHRyaWJ1dGUoIFwieG1sOmxhbmdcIiApIHx8IGVsZW0uZ2V0QXR0cmlidXRlKCBcImxhbmdcIiApICkgKSB7XG5cblx0XHRcdFx0XHRcdGVsZW1MYW5nID0gZWxlbUxhbmcudG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0XHRcdHJldHVybiBlbGVtTGFuZyA9PT0gbGFuZyB8fCBlbGVtTGFuZy5pbmRleE9mKCBsYW5nICsgXCItXCIgKSA9PT0gMDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gd2hpbGUgKCAoIGVsZW0gPSBlbGVtLnBhcmVudE5vZGUgKSAmJiBlbGVtLm5vZGVUeXBlID09PSAxICk7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH07XG5cdFx0fSApLFxuXG5cdFx0Ly8gTWlzY2VsbGFuZW91c1xuXHRcdHRhcmdldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHR2YXIgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbiAmJiB3aW5kb3cubG9jYXRpb24uaGFzaDtcblx0XHRcdHJldHVybiBoYXNoICYmIGhhc2guc2xpY2UoIDEgKSA9PT0gZWxlbS5pZDtcblx0XHR9LFxuXG5cdFx0cm9vdDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gZWxlbSA9PT0gZG9jdW1lbnRFbGVtZW50O1xuXHRcdH0sXG5cblx0XHRmb2N1czogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gZWxlbSA9PT0gc2FmZUFjdGl2ZUVsZW1lbnQoKSAmJlxuXHRcdFx0XHRkb2N1bWVudC5oYXNGb2N1cygpICYmXG5cdFx0XHRcdCEhKCBlbGVtLnR5cGUgfHwgZWxlbS5ocmVmIHx8IH5lbGVtLnRhYkluZGV4ICk7XG5cdFx0fSxcblxuXHRcdC8vIEJvb2xlYW4gcHJvcGVydGllc1xuXHRcdGVuYWJsZWQ6IGNyZWF0ZURpc2FibGVkUHNldWRvKCBmYWxzZSApLFxuXHRcdGRpc2FibGVkOiBjcmVhdGVEaXNhYmxlZFBzZXVkbyggdHJ1ZSApLFxuXG5cdFx0Y2hlY2tlZDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHRcdC8vIEluIENTUzMsIDpjaGVja2VkIHNob3VsZCByZXR1cm4gYm90aCBjaGVja2VkIGFuZCBzZWxlY3RlZCBlbGVtZW50c1xuXHRcdFx0Ly8gaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMTEvUkVDLWNzczMtc2VsZWN0b3JzLTIwMTEwOTI5LyNjaGVja2VkXG5cdFx0XHRyZXR1cm4gKCBub2RlTmFtZSggZWxlbSwgXCJpbnB1dFwiICkgJiYgISFlbGVtLmNoZWNrZWQgKSB8fFxuXHRcdFx0XHQoIG5vZGVOYW1lKCBlbGVtLCBcIm9wdGlvblwiICkgJiYgISFlbGVtLnNlbGVjdGVkICk7XG5cdFx0fSxcblxuXHRcdHNlbGVjdGVkOiBmdW5jdGlvbiggZWxlbSApIHtcblxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgPD0xMStcblx0XHRcdC8vIEFjY2Vzc2luZyB0aGUgc2VsZWN0ZWRJbmRleCBwcm9wZXJ0eVxuXHRcdFx0Ly8gZm9yY2VzIHRoZSBicm93c2VyIHRvIHRyZWF0IHRoZSBkZWZhdWx0IG9wdGlvbiBhc1xuXHRcdFx0Ly8gc2VsZWN0ZWQgd2hlbiBpbiBhbiBvcHRncm91cC5cblx0XHRcdGlmICggZWxlbS5wYXJlbnROb2RlICkge1xuXHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLWV4cHJlc3Npb25zXG5cdFx0XHRcdGVsZW0ucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZWxlbS5zZWxlY3RlZCA9PT0gdHJ1ZTtcblx0XHR9LFxuXG5cdFx0Ly8gQ29udGVudHNcblx0XHRlbXB0eTogZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHRcdC8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI2VtcHR5LXBzZXVkb1xuXHRcdFx0Ly8gOmVtcHR5IGlzIG5lZ2F0ZWQgYnkgZWxlbWVudCAoMSkgb3IgY29udGVudCBub2RlcyAodGV4dDogMzsgY2RhdGE6IDQ7IGVudGl0eSByZWY6IDUpLFxuXHRcdFx0Ly8gICBidXQgbm90IGJ5IG90aGVycyAoY29tbWVudDogODsgcHJvY2Vzc2luZyBpbnN0cnVjdGlvbjogNzsgZXRjLilcblx0XHRcdC8vIG5vZGVUeXBlIDwgNiB3b3JrcyBiZWNhdXNlIGF0dHJpYnV0ZXMgKDIpIGRvIG5vdCBhcHBlYXIgYXMgY2hpbGRyZW5cblx0XHRcdGZvciAoIGVsZW0gPSBlbGVtLmZpcnN0Q2hpbGQ7IGVsZW07IGVsZW0gPSBlbGVtLm5leHRTaWJsaW5nICkge1xuXHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPCA2ICkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSxcblxuXHRcdHBhcmVudDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gIUV4cHIucHNldWRvcy5lbXB0eSggZWxlbSApO1xuXHRcdH0sXG5cblx0XHQvLyBFbGVtZW50L2lucHV0IHR5cGVzXG5cdFx0aGVhZGVyOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiByaGVhZGVyLnRlc3QoIGVsZW0ubm9kZU5hbWUgKTtcblx0XHR9LFxuXG5cdFx0aW5wdXQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIHJpbnB1dHMudGVzdCggZWxlbS5ub2RlTmFtZSApO1xuXHRcdH0sXG5cblx0XHRidXR0b246IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIG5vZGVOYW1lKCBlbGVtLCBcImlucHV0XCIgKSAmJiBlbGVtLnR5cGUgPT09IFwiYnV0dG9uXCIgfHxcblx0XHRcdFx0bm9kZU5hbWUoIGVsZW0sIFwiYnV0dG9uXCIgKTtcblx0XHR9LFxuXG5cdFx0dGV4dDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHR2YXIgYXR0cjtcblx0XHRcdHJldHVybiBub2RlTmFtZSggZWxlbSwgXCJpbnB1dFwiICkgJiYgZWxlbS50eXBlID09PSBcInRleHRcIiAmJlxuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDwxMCBvbmx5XG5cdFx0XHRcdC8vIE5ldyBIVE1MNSBhdHRyaWJ1dGUgdmFsdWVzIChlLmcuLCBcInNlYXJjaFwiKSBhcHBlYXJcblx0XHRcdFx0Ly8gd2l0aCBlbGVtLnR5cGUgPT09IFwidGV4dFwiXG5cdFx0XHRcdCggKCBhdHRyID0gZWxlbS5nZXRBdHRyaWJ1dGUoIFwidHlwZVwiICkgKSA9PSBudWxsIHx8XG5cdFx0XHRcdFx0YXR0ci50b0xvd2VyQ2FzZSgpID09PSBcInRleHRcIiApO1xuXHRcdH0sXG5cblx0XHQvLyBQb3NpdGlvbi1pbi1jb2xsZWN0aW9uXG5cdFx0Zmlyc3Q6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oIGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIFsgMCBdO1xuXHRcdH0gKSxcblxuXHRcdGxhc3Q6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oIGZ1bmN0aW9uKCBfbWF0Y2hJbmRleGVzLCBsZW5ndGggKSB7XG5cdFx0XHRyZXR1cm4gWyBsZW5ndGggLSAxIF07XG5cdFx0fSApLFxuXG5cdFx0ZXE6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oIGZ1bmN0aW9uKCBfbWF0Y2hJbmRleGVzLCBsZW5ndGgsIGFyZ3VtZW50ICkge1xuXHRcdFx0cmV0dXJuIFsgYXJndW1lbnQgPCAwID8gYXJndW1lbnQgKyBsZW5ndGggOiBhcmd1bWVudCBdO1xuXHRcdH0gKSxcblxuXHRcdGV2ZW46IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oIGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCApIHtcblx0XHRcdHZhciBpID0gMDtcblx0XHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSArPSAyICkge1xuXHRcdFx0XHRtYXRjaEluZGV4ZXMucHVzaCggaSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG1hdGNoSW5kZXhlcztcblx0XHR9ICksXG5cblx0XHRvZGQ6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oIGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCApIHtcblx0XHRcdHZhciBpID0gMTtcblx0XHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSArPSAyICkge1xuXHRcdFx0XHRtYXRjaEluZGV4ZXMucHVzaCggaSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG1hdGNoSW5kZXhlcztcblx0XHR9ICksXG5cblx0XHRsdDogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyggZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoLCBhcmd1bWVudCApIHtcblx0XHRcdHZhciBpO1xuXG5cdFx0XHRpZiAoIGFyZ3VtZW50IDwgMCApIHtcblx0XHRcdFx0aSA9IGFyZ3VtZW50ICsgbGVuZ3RoO1xuXHRcdFx0fSBlbHNlIGlmICggYXJndW1lbnQgPiBsZW5ndGggKSB7XG5cdFx0XHRcdGkgPSBsZW5ndGg7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpID0gYXJndW1lbnQ7XG5cdFx0XHR9XG5cblx0XHRcdGZvciAoIDsgLS1pID49IDA7ICkge1xuXHRcdFx0XHRtYXRjaEluZGV4ZXMucHVzaCggaSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG1hdGNoSW5kZXhlcztcblx0XHR9ICksXG5cblx0XHRndDogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyggZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoLCBhcmd1bWVudCApIHtcblx0XHRcdHZhciBpID0gYXJndW1lbnQgPCAwID8gYXJndW1lbnQgKyBsZW5ndGggOiBhcmd1bWVudDtcblx0XHRcdGZvciAoIDsgKytpIDwgbGVuZ3RoOyApIHtcblx0XHRcdFx0bWF0Y2hJbmRleGVzLnB1c2goIGkgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBtYXRjaEluZGV4ZXM7XG5cdFx0fSApXG5cdH1cbn07XG5cbkV4cHIucHNldWRvcy5udGggPSBFeHByLnBzZXVkb3MuZXE7XG5cbi8vIEFkZCBidXR0b24vaW5wdXQgdHlwZSBwc2V1ZG9zXG5mb3IgKCBpIGluIHsgcmFkaW86IHRydWUsIGNoZWNrYm94OiB0cnVlLCBmaWxlOiB0cnVlLCBwYXNzd29yZDogdHJ1ZSwgaW1hZ2U6IHRydWUgfSApIHtcblx0RXhwci5wc2V1ZG9zWyBpIF0gPSBjcmVhdGVJbnB1dFBzZXVkbyggaSApO1xufVxuZm9yICggaSBpbiB7IHN1Ym1pdDogdHJ1ZSwgcmVzZXQ6IHRydWUgfSApIHtcblx0RXhwci5wc2V1ZG9zWyBpIF0gPSBjcmVhdGVCdXR0b25Qc2V1ZG8oIGkgKTtcbn1cblxuLy8gRWFzeSBBUEkgZm9yIGNyZWF0aW5nIG5ldyBzZXRGaWx0ZXJzXG5mdW5jdGlvbiBzZXRGaWx0ZXJzKCkge31cbnNldEZpbHRlcnMucHJvdG90eXBlID0gRXhwci5maWx0ZXJzID0gRXhwci5wc2V1ZG9zO1xuRXhwci5zZXRGaWx0ZXJzID0gbmV3IHNldEZpbHRlcnMoKTtcblxuZnVuY3Rpb24gdG9rZW5pemUoIHNlbGVjdG9yLCBwYXJzZU9ubHkgKSB7XG5cdHZhciBtYXRjaGVkLCBtYXRjaCwgdG9rZW5zLCB0eXBlLFxuXHRcdHNvRmFyLCBncm91cHMsIHByZUZpbHRlcnMsXG5cdFx0Y2FjaGVkID0gdG9rZW5DYWNoZVsgc2VsZWN0b3IgKyBcIiBcIiBdO1xuXG5cdGlmICggY2FjaGVkICkge1xuXHRcdHJldHVybiBwYXJzZU9ubHkgPyAwIDogY2FjaGVkLnNsaWNlKCAwICk7XG5cdH1cblxuXHRzb0ZhciA9IHNlbGVjdG9yO1xuXHRncm91cHMgPSBbXTtcblx0cHJlRmlsdGVycyA9IEV4cHIucHJlRmlsdGVyO1xuXG5cdHdoaWxlICggc29GYXIgKSB7XG5cblx0XHQvLyBDb21tYSBhbmQgZmlyc3QgcnVuXG5cdFx0aWYgKCAhbWF0Y2hlZCB8fCAoIG1hdGNoID0gcmNvbW1hLmV4ZWMoIHNvRmFyICkgKSApIHtcblx0XHRcdGlmICggbWF0Y2ggKSB7XG5cblx0XHRcdFx0Ly8gRG9uJ3QgY29uc3VtZSB0cmFpbGluZyBjb21tYXMgYXMgdmFsaWRcblx0XHRcdFx0c29GYXIgPSBzb0Zhci5zbGljZSggbWF0Y2hbIDAgXS5sZW5ndGggKSB8fCBzb0Zhcjtcblx0XHRcdH1cblx0XHRcdGdyb3Vwcy5wdXNoKCAoIHRva2VucyA9IFtdICkgKTtcblx0XHR9XG5cblx0XHRtYXRjaGVkID0gZmFsc2U7XG5cblx0XHQvLyBDb21iaW5hdG9yc1xuXHRcdGlmICggKCBtYXRjaCA9IHJsZWFkaW5nQ29tYmluYXRvci5leGVjKCBzb0ZhciApICkgKSB7XG5cdFx0XHRtYXRjaGVkID0gbWF0Y2guc2hpZnQoKTtcblx0XHRcdHRva2Vucy5wdXNoKCB7XG5cdFx0XHRcdHZhbHVlOiBtYXRjaGVkLFxuXG5cdFx0XHRcdC8vIENhc3QgZGVzY2VuZGFudCBjb21iaW5hdG9ycyB0byBzcGFjZVxuXHRcdFx0XHR0eXBlOiBtYXRjaFsgMCBdLnJlcGxhY2UoIHJ0cmltQ1NTLCBcIiBcIiApXG5cdFx0XHR9ICk7XG5cdFx0XHRzb0ZhciA9IHNvRmFyLnNsaWNlKCBtYXRjaGVkLmxlbmd0aCApO1xuXHRcdH1cblxuXHRcdC8vIEZpbHRlcnNcblx0XHRmb3IgKCB0eXBlIGluIEV4cHIuZmlsdGVyICkge1xuXHRcdFx0aWYgKCAoIG1hdGNoID0gbWF0Y2hFeHByWyB0eXBlIF0uZXhlYyggc29GYXIgKSApICYmICggIXByZUZpbHRlcnNbIHR5cGUgXSB8fFxuXHRcdFx0XHQoIG1hdGNoID0gcHJlRmlsdGVyc1sgdHlwZSBdKCBtYXRjaCApICkgKSApIHtcblx0XHRcdFx0bWF0Y2hlZCA9IG1hdGNoLnNoaWZ0KCk7XG5cdFx0XHRcdHRva2Vucy5wdXNoKCB7XG5cdFx0XHRcdFx0dmFsdWU6IG1hdGNoZWQsXG5cdFx0XHRcdFx0dHlwZTogdHlwZSxcblx0XHRcdFx0XHRtYXRjaGVzOiBtYXRjaFxuXHRcdFx0XHR9ICk7XG5cdFx0XHRcdHNvRmFyID0gc29GYXIuc2xpY2UoIG1hdGNoZWQubGVuZ3RoICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKCAhbWF0Y2hlZCApIHtcblx0XHRcdGJyZWFrO1xuXHRcdH1cblx0fVxuXG5cdC8vIFJldHVybiB0aGUgbGVuZ3RoIG9mIHRoZSBpbnZhbGlkIGV4Y2Vzc1xuXHQvLyBpZiB3ZSdyZSBqdXN0IHBhcnNpbmdcblx0Ly8gT3RoZXJ3aXNlLCB0aHJvdyBhbiBlcnJvciBvciByZXR1cm4gdG9rZW5zXG5cdGlmICggcGFyc2VPbmx5ICkge1xuXHRcdHJldHVybiBzb0Zhci5sZW5ndGg7XG5cdH1cblxuXHRyZXR1cm4gc29GYXIgP1xuXHRcdGZpbmQuZXJyb3IoIHNlbGVjdG9yICkgOlxuXG5cdFx0Ly8gQ2FjaGUgdGhlIHRva2Vuc1xuXHRcdHRva2VuQ2FjaGUoIHNlbGVjdG9yLCBncm91cHMgKS5zbGljZSggMCApO1xufVxuXG5mdW5jdGlvbiB0b1NlbGVjdG9yKCB0b2tlbnMgKSB7XG5cdHZhciBpID0gMCxcblx0XHRsZW4gPSB0b2tlbnMubGVuZ3RoLFxuXHRcdHNlbGVjdG9yID0gXCJcIjtcblx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0c2VsZWN0b3IgKz0gdG9rZW5zWyBpIF0udmFsdWU7XG5cdH1cblx0cmV0dXJuIHNlbGVjdG9yO1xufVxuXG5mdW5jdGlvbiBhZGRDb21iaW5hdG9yKCBtYXRjaGVyLCBjb21iaW5hdG9yLCBiYXNlICkge1xuXHR2YXIgZGlyID0gY29tYmluYXRvci5kaXIsXG5cdFx0c2tpcCA9IGNvbWJpbmF0b3IubmV4dCxcblx0XHRrZXkgPSBza2lwIHx8IGRpcixcblx0XHRjaGVja05vbkVsZW1lbnRzID0gYmFzZSAmJiBrZXkgPT09IFwicGFyZW50Tm9kZVwiLFxuXHRcdGRvbmVOYW1lID0gZG9uZSsrO1xuXG5cdHJldHVybiBjb21iaW5hdG9yLmZpcnN0ID9cblxuXHRcdC8vIENoZWNrIGFnYWluc3QgY2xvc2VzdCBhbmNlc3Rvci9wcmVjZWRpbmcgZWxlbWVudFxuXHRcdGZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0XHR3aGlsZSAoICggZWxlbSA9IGVsZW1bIGRpciBdICkgKSB7XG5cdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSB8fCBjaGVja05vbkVsZW1lbnRzICkge1xuXHRcdFx0XHRcdHJldHVybiBtYXRjaGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0gOlxuXG5cdFx0Ly8gQ2hlY2sgYWdhaW5zdCBhbGwgYW5jZXN0b3IvcHJlY2VkaW5nIGVsZW1lbnRzXG5cdFx0ZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcblx0XHRcdHZhciBvbGRDYWNoZSwgb3V0ZXJDYWNoZSxcblx0XHRcdFx0bmV3Q2FjaGUgPSBbIGRpcnJ1bnMsIGRvbmVOYW1lIF07XG5cblx0XHRcdC8vIFdlIGNhbid0IHNldCBhcmJpdHJhcnkgZGF0YSBvbiBYTUwgbm9kZXMsIHNvIHRoZXkgZG9uJ3QgYmVuZWZpdCBmcm9tIGNvbWJpbmF0b3IgY2FjaGluZ1xuXHRcdFx0aWYgKCB4bWwgKSB7XG5cdFx0XHRcdHdoaWxlICggKCBlbGVtID0gZWxlbVsgZGlyIF0gKSApIHtcblx0XHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgY2hlY2tOb25FbGVtZW50cyApIHtcblx0XHRcdFx0XHRcdGlmICggbWF0Y2hlciggZWxlbSwgY29udGV4dCwgeG1sICkgKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0d2hpbGUgKCAoIGVsZW0gPSBlbGVtWyBkaXIgXSApICkge1xuXHRcdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSB8fCBjaGVja05vbkVsZW1lbnRzICkge1xuXHRcdFx0XHRcdFx0b3V0ZXJDYWNoZSA9IGVsZW1bIGV4cGFuZG8gXSB8fCAoIGVsZW1bIGV4cGFuZG8gXSA9IHt9ICk7XG5cblx0XHRcdFx0XHRcdGlmICggc2tpcCAmJiBub2RlTmFtZSggZWxlbSwgc2tpcCApICkge1xuXHRcdFx0XHRcdFx0XHRlbGVtID0gZWxlbVsgZGlyIF0gfHwgZWxlbTtcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoICggb2xkQ2FjaGUgPSBvdXRlckNhY2hlWyBrZXkgXSApICYmXG5cdFx0XHRcdFx0XHRcdG9sZENhY2hlWyAwIF0gPT09IGRpcnJ1bnMgJiYgb2xkQ2FjaGVbIDEgXSA9PT0gZG9uZU5hbWUgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gQXNzaWduIHRvIG5ld0NhY2hlIHNvIHJlc3VsdHMgYmFjay1wcm9wYWdhdGUgdG8gcHJldmlvdXMgZWxlbWVudHNcblx0XHRcdFx0XHRcdFx0cmV0dXJuICggbmV3Q2FjaGVbIDIgXSA9IG9sZENhY2hlWyAyIF0gKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gUmV1c2UgbmV3Y2FjaGUgc28gcmVzdWx0cyBiYWNrLXByb3BhZ2F0ZSB0byBwcmV2aW91cyBlbGVtZW50c1xuXHRcdFx0XHRcdFx0XHRvdXRlckNhY2hlWyBrZXkgXSA9IG5ld0NhY2hlO1xuXG5cdFx0XHRcdFx0XHRcdC8vIEEgbWF0Y2ggbWVhbnMgd2UncmUgZG9uZTsgYSBmYWlsIG1lYW5zIHdlIGhhdmUgdG8ga2VlcCBjaGVja2luZ1xuXHRcdFx0XHRcdFx0XHRpZiAoICggbmV3Q2FjaGVbIDIgXSA9IG1hdGNoZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9O1xufVxuXG5mdW5jdGlvbiBlbGVtZW50TWF0Y2hlciggbWF0Y2hlcnMgKSB7XG5cdHJldHVybiBtYXRjaGVycy5sZW5ndGggPiAxID9cblx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0dmFyIGkgPSBtYXRjaGVycy5sZW5ndGg7XG5cdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0aWYgKCAhbWF0Y2hlcnNbIGkgXSggZWxlbSwgY29udGV4dCwgeG1sICkgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9IDpcblx0XHRtYXRjaGVyc1sgMCBdO1xufVxuXG5mdW5jdGlvbiBtdWx0aXBsZUNvbnRleHRzKCBzZWxlY3RvciwgY29udGV4dHMsIHJlc3VsdHMgKSB7XG5cdHZhciBpID0gMCxcblx0XHRsZW4gPSBjb250ZXh0cy5sZW5ndGg7XG5cdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdGZpbmQoIHNlbGVjdG9yLCBjb250ZXh0c1sgaSBdLCByZXN1bHRzICk7XG5cdH1cblx0cmV0dXJuIHJlc3VsdHM7XG59XG5cbmZ1bmN0aW9uIGNvbmRlbnNlKCB1bm1hdGNoZWQsIG1hcCwgZmlsdGVyLCBjb250ZXh0LCB4bWwgKSB7XG5cdHZhciBlbGVtLFxuXHRcdG5ld1VubWF0Y2hlZCA9IFtdLFxuXHRcdGkgPSAwLFxuXHRcdGxlbiA9IHVubWF0Y2hlZC5sZW5ndGgsXG5cdFx0bWFwcGVkID0gbWFwICE9IG51bGw7XG5cblx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0aWYgKCAoIGVsZW0gPSB1bm1hdGNoZWRbIGkgXSApICkge1xuXHRcdFx0aWYgKCAhZmlsdGVyIHx8IGZpbHRlciggZWxlbSwgY29udGV4dCwgeG1sICkgKSB7XG5cdFx0XHRcdG5ld1VubWF0Y2hlZC5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdGlmICggbWFwcGVkICkge1xuXHRcdFx0XHRcdG1hcC5wdXNoKCBpICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gbmV3VW5tYXRjaGVkO1xufVxuXG5mdW5jdGlvbiBzZXRNYXRjaGVyKCBwcmVGaWx0ZXIsIHNlbGVjdG9yLCBtYXRjaGVyLCBwb3N0RmlsdGVyLCBwb3N0RmluZGVyLCBwb3N0U2VsZWN0b3IgKSB7XG5cdGlmICggcG9zdEZpbHRlciAmJiAhcG9zdEZpbHRlclsgZXhwYW5kbyBdICkge1xuXHRcdHBvc3RGaWx0ZXIgPSBzZXRNYXRjaGVyKCBwb3N0RmlsdGVyICk7XG5cdH1cblx0aWYgKCBwb3N0RmluZGVyICYmICFwb3N0RmluZGVyWyBleHBhbmRvIF0gKSB7XG5cdFx0cG9zdEZpbmRlciA9IHNldE1hdGNoZXIoIHBvc3RGaW5kZXIsIHBvc3RTZWxlY3RvciApO1xuXHR9XG5cdHJldHVybiBtYXJrRnVuY3Rpb24oIGZ1bmN0aW9uKCBzZWVkLCByZXN1bHRzLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0dmFyIHRlbXAsIGksIGVsZW0sIG1hdGNoZXJPdXQsXG5cdFx0XHRwcmVNYXAgPSBbXSxcblx0XHRcdHBvc3RNYXAgPSBbXSxcblx0XHRcdHByZWV4aXN0aW5nID0gcmVzdWx0cy5sZW5ndGgsXG5cblx0XHRcdC8vIEdldCBpbml0aWFsIGVsZW1lbnRzIGZyb20gc2VlZCBvciBjb250ZXh0XG5cdFx0XHRlbGVtcyA9IHNlZWQgfHxcblx0XHRcdFx0bXVsdGlwbGVDb250ZXh0cyggc2VsZWN0b3IgfHwgXCIqXCIsXG5cdFx0XHRcdFx0Y29udGV4dC5ub2RlVHlwZSA/IFsgY29udGV4dCBdIDogY29udGV4dCwgW10gKSxcblxuXHRcdFx0Ly8gUHJlZmlsdGVyIHRvIGdldCBtYXRjaGVyIGlucHV0LCBwcmVzZXJ2aW5nIGEgbWFwIGZvciBzZWVkLXJlc3VsdHMgc3luY2hyb25pemF0aW9uXG5cdFx0XHRtYXRjaGVySW4gPSBwcmVGaWx0ZXIgJiYgKCBzZWVkIHx8ICFzZWxlY3RvciApID9cblx0XHRcdFx0Y29uZGVuc2UoIGVsZW1zLCBwcmVNYXAsIHByZUZpbHRlciwgY29udGV4dCwgeG1sICkgOlxuXHRcdFx0XHRlbGVtcztcblxuXHRcdGlmICggbWF0Y2hlciApIHtcblxuXHRcdFx0Ly8gSWYgd2UgaGF2ZSBhIHBvc3RGaW5kZXIsIG9yIGZpbHRlcmVkIHNlZWQsIG9yIG5vbi1zZWVkIHBvc3RGaWx0ZXJcblx0XHRcdC8vIG9yIHByZWV4aXN0aW5nIHJlc3VsdHMsXG5cdFx0XHRtYXRjaGVyT3V0ID0gcG9zdEZpbmRlciB8fCAoIHNlZWQgPyBwcmVGaWx0ZXIgOiBwcmVleGlzdGluZyB8fCBwb3N0RmlsdGVyICkgP1xuXG5cdFx0XHRcdC8vIC4uLmludGVybWVkaWF0ZSBwcm9jZXNzaW5nIGlzIG5lY2Vzc2FyeVxuXHRcdFx0XHRbXSA6XG5cblx0XHRcdFx0Ly8gLi4ub3RoZXJ3aXNlIHVzZSByZXN1bHRzIGRpcmVjdGx5XG5cdFx0XHRcdHJlc3VsdHM7XG5cblx0XHRcdC8vIEZpbmQgcHJpbWFyeSBtYXRjaGVzXG5cdFx0XHRtYXRjaGVyKCBtYXRjaGVySW4sIG1hdGNoZXJPdXQsIGNvbnRleHQsIHhtbCApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRtYXRjaGVyT3V0ID0gbWF0Y2hlckluO1xuXHRcdH1cblxuXHRcdC8vIEFwcGx5IHBvc3RGaWx0ZXJcblx0XHRpZiAoIHBvc3RGaWx0ZXIgKSB7XG5cdFx0XHR0ZW1wID0gY29uZGVuc2UoIG1hdGNoZXJPdXQsIHBvc3RNYXAgKTtcblx0XHRcdHBvc3RGaWx0ZXIoIHRlbXAsIFtdLCBjb250ZXh0LCB4bWwgKTtcblxuXHRcdFx0Ly8gVW4tbWF0Y2ggZmFpbGluZyBlbGVtZW50cyBieSBtb3ZpbmcgdGhlbSBiYWNrIHRvIG1hdGNoZXJJblxuXHRcdFx0aSA9IHRlbXAubGVuZ3RoO1xuXHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdGlmICggKCBlbGVtID0gdGVtcFsgaSBdICkgKSB7XG5cdFx0XHRcdFx0bWF0Y2hlck91dFsgcG9zdE1hcFsgaSBdIF0gPSAhKCBtYXRjaGVySW5bIHBvc3RNYXBbIGkgXSBdID0gZWxlbSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKCBzZWVkICkge1xuXHRcdFx0aWYgKCBwb3N0RmluZGVyIHx8IHByZUZpbHRlciApIHtcblx0XHRcdFx0aWYgKCBwb3N0RmluZGVyICkge1xuXG5cdFx0XHRcdFx0Ly8gR2V0IHRoZSBmaW5hbCBtYXRjaGVyT3V0IGJ5IGNvbmRlbnNpbmcgdGhpcyBpbnRlcm1lZGlhdGUgaW50byBwb3N0RmluZGVyIGNvbnRleHRzXG5cdFx0XHRcdFx0dGVtcCA9IFtdO1xuXHRcdFx0XHRcdGkgPSBtYXRjaGVyT3V0Lmxlbmd0aDtcblx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRcdGlmICggKCBlbGVtID0gbWF0Y2hlck91dFsgaSBdICkgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gUmVzdG9yZSBtYXRjaGVySW4gc2luY2UgZWxlbSBpcyBub3QgeWV0IGEgZmluYWwgbWF0Y2hcblx0XHRcdFx0XHRcdFx0dGVtcC5wdXNoKCAoIG1hdGNoZXJJblsgaSBdID0gZWxlbSApICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHBvc3RGaW5kZXIoIG51bGwsICggbWF0Y2hlck91dCA9IFtdICksIHRlbXAsIHhtbCApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gTW92ZSBtYXRjaGVkIGVsZW1lbnRzIGZyb20gc2VlZCB0byByZXN1bHRzIHRvIGtlZXAgdGhlbSBzeW5jaHJvbml6ZWRcblx0XHRcdFx0aSA9IG1hdGNoZXJPdXQubGVuZ3RoO1xuXHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRpZiAoICggZWxlbSA9IG1hdGNoZXJPdXRbIGkgXSApICYmXG5cdFx0XHRcdFx0XHQoIHRlbXAgPSBwb3N0RmluZGVyID8gaW5kZXhPZi5jYWxsKCBzZWVkLCBlbGVtICkgOiBwcmVNYXBbIGkgXSApID4gLTEgKSB7XG5cblx0XHRcdFx0XHRcdHNlZWRbIHRlbXAgXSA9ICEoIHJlc3VsdHNbIHRlbXAgXSA9IGVsZW0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdC8vIEFkZCBlbGVtZW50cyB0byByZXN1bHRzLCB0aHJvdWdoIHBvc3RGaW5kZXIgaWYgZGVmaW5lZFxuXHRcdH0gZWxzZSB7XG5cdFx0XHRtYXRjaGVyT3V0ID0gY29uZGVuc2UoXG5cdFx0XHRcdG1hdGNoZXJPdXQgPT09IHJlc3VsdHMgP1xuXHRcdFx0XHRcdG1hdGNoZXJPdXQuc3BsaWNlKCBwcmVleGlzdGluZywgbWF0Y2hlck91dC5sZW5ndGggKSA6XG5cdFx0XHRcdFx0bWF0Y2hlck91dFxuXHRcdFx0KTtcblx0XHRcdGlmICggcG9zdEZpbmRlciApIHtcblx0XHRcdFx0cG9zdEZpbmRlciggbnVsbCwgcmVzdWx0cywgbWF0Y2hlck91dCwgeG1sICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLCBtYXRjaGVyT3V0ICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9ICk7XG59XG5cbmZ1bmN0aW9uIG1hdGNoZXJGcm9tVG9rZW5zKCB0b2tlbnMgKSB7XG5cdHZhciBjaGVja0NvbnRleHQsIG1hdGNoZXIsIGosXG5cdFx0bGVuID0gdG9rZW5zLmxlbmd0aCxcblx0XHRsZWFkaW5nUmVsYXRpdmUgPSBFeHByLnJlbGF0aXZlWyB0b2tlbnNbIDAgXS50eXBlIF0sXG5cdFx0aW1wbGljaXRSZWxhdGl2ZSA9IGxlYWRpbmdSZWxhdGl2ZSB8fCBFeHByLnJlbGF0aXZlWyBcIiBcIiBdLFxuXHRcdGkgPSBsZWFkaW5nUmVsYXRpdmUgPyAxIDogMCxcblxuXHRcdC8vIFRoZSBmb3VuZGF0aW9uYWwgbWF0Y2hlciBlbnN1cmVzIHRoYXQgZWxlbWVudHMgYXJlIHJlYWNoYWJsZSBmcm9tIHRvcC1sZXZlbCBjb250ZXh0KHMpXG5cdFx0bWF0Y2hDb250ZXh0ID0gYWRkQ29tYmluYXRvciggZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gZWxlbSA9PT0gY2hlY2tDb250ZXh0O1xuXHRcdH0sIGltcGxpY2l0UmVsYXRpdmUsIHRydWUgKSxcblx0XHRtYXRjaEFueUNvbnRleHQgPSBhZGRDb21iaW5hdG9yKCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBpbmRleE9mLmNhbGwoIGNoZWNrQ29udGV4dCwgZWxlbSApID4gLTE7XG5cdFx0fSwgaW1wbGljaXRSZWxhdGl2ZSwgdHJ1ZSApLFxuXHRcdG1hdGNoZXJzID0gWyBmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRSAxMSssIEVkZ2UgMTcgLSAxOCtcblx0XHRcdC8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgXCJQZXJtaXNzaW9uIGRlbmllZFwiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZ1xuXHRcdFx0Ly8gdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLlxuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuXHRcdFx0dmFyIHJldCA9ICggIWxlYWRpbmdSZWxhdGl2ZSAmJiAoIHhtbCB8fCBjb250ZXh0ICE9IG91dGVybW9zdENvbnRleHQgKSApIHx8IChcblx0XHRcdFx0KCBjaGVja0NvbnRleHQgPSBjb250ZXh0ICkubm9kZVR5cGUgP1xuXHRcdFx0XHRcdG1hdGNoQ29udGV4dCggZWxlbSwgY29udGV4dCwgeG1sICkgOlxuXHRcdFx0XHRcdG1hdGNoQW55Q29udGV4dCggZWxlbSwgY29udGV4dCwgeG1sICkgKTtcblxuXHRcdFx0Ly8gQXZvaWQgaGFuZ2luZyBvbnRvIGVsZW1lbnRcblx0XHRcdC8vIChzZWUgaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9zaXp6bGUvaXNzdWVzLzI5OSlcblx0XHRcdGNoZWNrQ29udGV4dCA9IG51bGw7XG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH0gXTtcblxuXHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRpZiAoICggbWF0Y2hlciA9IEV4cHIucmVsYXRpdmVbIHRva2Vuc1sgaSBdLnR5cGUgXSApICkge1xuXHRcdFx0bWF0Y2hlcnMgPSBbIGFkZENvbWJpbmF0b3IoIGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApLCBtYXRjaGVyICkgXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bWF0Y2hlciA9IEV4cHIuZmlsdGVyWyB0b2tlbnNbIGkgXS50eXBlIF0uYXBwbHkoIG51bGwsIHRva2Vuc1sgaSBdLm1hdGNoZXMgKTtcblxuXHRcdFx0Ly8gUmV0dXJuIHNwZWNpYWwgdXBvbiBzZWVpbmcgYSBwb3NpdGlvbmFsIG1hdGNoZXJcblx0XHRcdGlmICggbWF0Y2hlclsgZXhwYW5kbyBdICkge1xuXG5cdFx0XHRcdC8vIEZpbmQgdGhlIG5leHQgcmVsYXRpdmUgb3BlcmF0b3IgKGlmIGFueSkgZm9yIHByb3BlciBoYW5kbGluZ1xuXHRcdFx0XHRqID0gKytpO1xuXHRcdFx0XHRmb3IgKCA7IGogPCBsZW47IGorKyApIHtcblx0XHRcdFx0XHRpZiAoIEV4cHIucmVsYXRpdmVbIHRva2Vuc1sgaiBdLnR5cGUgXSApIHtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gc2V0TWF0Y2hlcihcblx0XHRcdFx0XHRpID4gMSAmJiBlbGVtZW50TWF0Y2hlciggbWF0Y2hlcnMgKSxcblx0XHRcdFx0XHRpID4gMSAmJiB0b1NlbGVjdG9yKFxuXG5cdFx0XHRcdFx0XHQvLyBJZiB0aGUgcHJlY2VkaW5nIHRva2VuIHdhcyBhIGRlc2NlbmRhbnQgY29tYmluYXRvciwgaW5zZXJ0IGFuIGltcGxpY2l0IGFueS1lbGVtZW50IGAqYFxuXHRcdFx0XHRcdFx0dG9rZW5zLnNsaWNlKCAwLCBpIC0gMSApXG5cdFx0XHRcdFx0XHRcdC5jb25jYXQoIHsgdmFsdWU6IHRva2Vuc1sgaSAtIDIgXS50eXBlID09PSBcIiBcIiA/IFwiKlwiIDogXCJcIiB9IClcblx0XHRcdFx0XHQpLnJlcGxhY2UoIHJ0cmltQ1NTLCBcIiQxXCIgKSxcblx0XHRcdFx0XHRtYXRjaGVyLFxuXHRcdFx0XHRcdGkgPCBqICYmIG1hdGNoZXJGcm9tVG9rZW5zKCB0b2tlbnMuc2xpY2UoIGksIGogKSApLFxuXHRcdFx0XHRcdGogPCBsZW4gJiYgbWF0Y2hlckZyb21Ub2tlbnMoICggdG9rZW5zID0gdG9rZW5zLnNsaWNlKCBqICkgKSApLFxuXHRcdFx0XHRcdGogPCBsZW4gJiYgdG9TZWxlY3RvciggdG9rZW5zIClcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdG1hdGNoZXJzLnB1c2goIG1hdGNoZXIgKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICk7XG59XG5cbmZ1bmN0aW9uIG1hdGNoZXJGcm9tR3JvdXBNYXRjaGVycyggZWxlbWVudE1hdGNoZXJzLCBzZXRNYXRjaGVycyApIHtcblx0dmFyIGJ5U2V0ID0gc2V0TWF0Y2hlcnMubGVuZ3RoID4gMCxcblx0XHRieUVsZW1lbnQgPSBlbGVtZW50TWF0Y2hlcnMubGVuZ3RoID4gMCxcblx0XHRzdXBlck1hdGNoZXIgPSBmdW5jdGlvbiggc2VlZCwgY29udGV4dCwgeG1sLCByZXN1bHRzLCBvdXRlcm1vc3QgKSB7XG5cdFx0XHR2YXIgZWxlbSwgaiwgbWF0Y2hlcixcblx0XHRcdFx0bWF0Y2hlZENvdW50ID0gMCxcblx0XHRcdFx0aSA9IFwiMFwiLFxuXHRcdFx0XHR1bm1hdGNoZWQgPSBzZWVkICYmIFtdLFxuXHRcdFx0XHRzZXRNYXRjaGVkID0gW10sXG5cdFx0XHRcdGNvbnRleHRCYWNrdXAgPSBvdXRlcm1vc3RDb250ZXh0LFxuXG5cdFx0XHRcdC8vIFdlIG11c3QgYWx3YXlzIGhhdmUgZWl0aGVyIHNlZWQgZWxlbWVudHMgb3Igb3V0ZXJtb3N0IGNvbnRleHRcblx0XHRcdFx0ZWxlbXMgPSBzZWVkIHx8IGJ5RWxlbWVudCAmJiBFeHByLmZpbmQuVEFHKCBcIipcIiwgb3V0ZXJtb3N0ICksXG5cblx0XHRcdFx0Ly8gVXNlIGludGVnZXIgZGlycnVucyBpZmYgdGhpcyBpcyB0aGUgb3V0ZXJtb3N0IG1hdGNoZXJcblx0XHRcdFx0ZGlycnVuc1VuaXF1ZSA9ICggZGlycnVucyArPSBjb250ZXh0QmFja3VwID09IG51bGwgPyAxIDogTWF0aC5yYW5kb20oKSB8fCAwLjEgKSxcblx0XHRcdFx0bGVuID0gZWxlbXMubGVuZ3RoO1xuXG5cdFx0XHRpZiAoIG91dGVybW9zdCApIHtcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRSAxMSssIEVkZ2UgMTcgLSAxOCtcblx0XHRcdFx0Ly8gSUUvRWRnZSBzb21ldGltZXMgdGhyb3cgYSBcIlBlcm1pc3Npb24gZGVuaWVkXCIgZXJyb3Igd2hlbiBzdHJpY3QtY29tcGFyaW5nXG5cdFx0XHRcdC8vIHR3byBkb2N1bWVudHM7IHNoYWxsb3cgY29tcGFyaXNvbnMgd29yay5cblx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuXHRcdFx0XHRvdXRlcm1vc3RDb250ZXh0ID0gY29udGV4dCA9PSBkb2N1bWVudCB8fCBjb250ZXh0IHx8IG91dGVybW9zdDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQWRkIGVsZW1lbnRzIHBhc3NpbmcgZWxlbWVudE1hdGNoZXJzIGRpcmVjdGx5IHRvIHJlc3VsdHNcblx0XHRcdC8vIFN1cHBvcnQ6IGlPUyA8PTcgLSA5IG9ubHlcblx0XHRcdC8vIFRvbGVyYXRlIE5vZGVMaXN0IHByb3BlcnRpZXMgKElFOiBcImxlbmd0aFwiOyBTYWZhcmk6IDxudW1iZXI+KSBtYXRjaGluZ1xuXHRcdFx0Ly8gZWxlbWVudHMgYnkgaWQuIChzZWUgdHJhYy0xNDE0Milcblx0XHRcdGZvciAoIDsgaSAhPT0gbGVuICYmICggZWxlbSA9IGVsZW1zWyBpIF0gKSAhPSBudWxsOyBpKysgKSB7XG5cdFx0XHRcdGlmICggYnlFbGVtZW50ICYmIGVsZW0gKSB7XG5cdFx0XHRcdFx0aiA9IDA7XG5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSAxMSssIEVkZ2UgMTcgLSAxOCtcblx0XHRcdFx0XHQvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhIFwiUGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmdcblx0XHRcdFx0XHQvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuXG5cdFx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuXHRcdFx0XHRcdGlmICggIWNvbnRleHQgJiYgZWxlbS5vd25lckRvY3VtZW50ICE9IGRvY3VtZW50ICkge1xuXHRcdFx0XHRcdFx0c2V0RG9jdW1lbnQoIGVsZW0gKTtcblx0XHRcdFx0XHRcdHhtbCA9ICFkb2N1bWVudElzSFRNTDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0d2hpbGUgKCAoIG1hdGNoZXIgPSBlbGVtZW50TWF0Y2hlcnNbIGorKyBdICkgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIG1hdGNoZXIoIGVsZW0sIGNvbnRleHQgfHwgZG9jdW1lbnQsIHhtbCApICkge1xuXHRcdFx0XHRcdFx0XHRwdXNoLmNhbGwoIHJlc3VsdHMsIGVsZW0gKTtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICggb3V0ZXJtb3N0ICkge1xuXHRcdFx0XHRcdFx0ZGlycnVucyA9IGRpcnJ1bnNVbmlxdWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gVHJhY2sgdW5tYXRjaGVkIGVsZW1lbnRzIGZvciBzZXQgZmlsdGVyc1xuXHRcdFx0XHRpZiAoIGJ5U2V0ICkge1xuXG5cdFx0XHRcdFx0Ly8gVGhleSB3aWxsIGhhdmUgZ29uZSB0aHJvdWdoIGFsbCBwb3NzaWJsZSBtYXRjaGVyc1xuXHRcdFx0XHRcdGlmICggKCBlbGVtID0gIW1hdGNoZXIgJiYgZWxlbSApICkge1xuXHRcdFx0XHRcdFx0bWF0Y2hlZENvdW50LS07XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gTGVuZ3RoZW4gdGhlIGFycmF5IGZvciBldmVyeSBlbGVtZW50LCBtYXRjaGVkIG9yIG5vdFxuXHRcdFx0XHRcdGlmICggc2VlZCApIHtcblx0XHRcdFx0XHRcdHVubWF0Y2hlZC5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIGBpYCBpcyBub3cgdGhlIGNvdW50IG9mIGVsZW1lbnRzIHZpc2l0ZWQgYWJvdmUsIGFuZCBhZGRpbmcgaXQgdG8gYG1hdGNoZWRDb3VudGBcblx0XHRcdC8vIG1ha2VzIHRoZSBsYXR0ZXIgbm9ubmVnYXRpdmUuXG5cdFx0XHRtYXRjaGVkQ291bnQgKz0gaTtcblxuXHRcdFx0Ly8gQXBwbHkgc2V0IGZpbHRlcnMgdG8gdW5tYXRjaGVkIGVsZW1lbnRzXG5cdFx0XHQvLyBOT1RFOiBUaGlzIGNhbiBiZSBza2lwcGVkIGlmIHRoZXJlIGFyZSBubyB1bm1hdGNoZWQgZWxlbWVudHMgKGkuZS4sIGBtYXRjaGVkQ291bnRgXG5cdFx0XHQvLyBlcXVhbHMgYGlgKSwgdW5sZXNzIHdlIGRpZG4ndCB2aXNpdCBfYW55XyBlbGVtZW50cyBpbiB0aGUgYWJvdmUgbG9vcCBiZWNhdXNlIHdlIGhhdmVcblx0XHRcdC8vIG5vIGVsZW1lbnQgbWF0Y2hlcnMgYW5kIG5vIHNlZWQuXG5cdFx0XHQvLyBJbmNyZW1lbnRpbmcgYW4gaW5pdGlhbGx5LXN0cmluZyBcIjBcIiBgaWAgYWxsb3dzIGBpYCB0byByZW1haW4gYSBzdHJpbmcgb25seSBpbiB0aGF0XG5cdFx0XHQvLyBjYXNlLCB3aGljaCB3aWxsIHJlc3VsdCBpbiBhIFwiMDBcIiBgbWF0Y2hlZENvdW50YCB0aGF0IGRpZmZlcnMgZnJvbSBgaWAgYnV0IGlzIGFsc29cblx0XHRcdC8vIG51bWVyaWNhbGx5IHplcm8uXG5cdFx0XHRpZiAoIGJ5U2V0ICYmIGkgIT09IG1hdGNoZWRDb3VudCApIHtcblx0XHRcdFx0aiA9IDA7XG5cdFx0XHRcdHdoaWxlICggKCBtYXRjaGVyID0gc2V0TWF0Y2hlcnNbIGorKyBdICkgKSB7XG5cdFx0XHRcdFx0bWF0Y2hlciggdW5tYXRjaGVkLCBzZXRNYXRjaGVkLCBjb250ZXh0LCB4bWwgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICggc2VlZCApIHtcblxuXHRcdFx0XHRcdC8vIFJlaW50ZWdyYXRlIGVsZW1lbnQgbWF0Y2hlcyB0byBlbGltaW5hdGUgdGhlIG5lZWQgZm9yIHNvcnRpbmdcblx0XHRcdFx0XHRpZiAoIG1hdGNoZWRDb3VudCA+IDAgKSB7XG5cdFx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRcdFx0aWYgKCAhKCB1bm1hdGNoZWRbIGkgXSB8fCBzZXRNYXRjaGVkWyBpIF0gKSApIHtcblx0XHRcdFx0XHRcdFx0XHRzZXRNYXRjaGVkWyBpIF0gPSBwb3AuY2FsbCggcmVzdWx0cyApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gRGlzY2FyZCBpbmRleCBwbGFjZWhvbGRlciB2YWx1ZXMgdG8gZ2V0IG9ubHkgYWN0dWFsIG1hdGNoZXNcblx0XHRcdFx0XHRzZXRNYXRjaGVkID0gY29uZGVuc2UoIHNldE1hdGNoZWQgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEFkZCBtYXRjaGVzIHRvIHJlc3VsdHNcblx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgc2V0TWF0Y2hlZCApO1xuXG5cdFx0XHRcdC8vIFNlZWRsZXNzIHNldCBtYXRjaGVzIHN1Y2NlZWRpbmcgbXVsdGlwbGUgc3VjY2Vzc2Z1bCBtYXRjaGVycyBzdGlwdWxhdGUgc29ydGluZ1xuXHRcdFx0XHRpZiAoIG91dGVybW9zdCAmJiAhc2VlZCAmJiBzZXRNYXRjaGVkLmxlbmd0aCA+IDAgJiZcblx0XHRcdFx0XHQoIG1hdGNoZWRDb3VudCArIHNldE1hdGNoZXJzLmxlbmd0aCApID4gMSApIHtcblxuXHRcdFx0XHRcdGpRdWVyeS51bmlxdWVTb3J0KCByZXN1bHRzICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gT3ZlcnJpZGUgbWFuaXB1bGF0aW9uIG9mIGdsb2JhbHMgYnkgbmVzdGVkIG1hdGNoZXJzXG5cdFx0XHRpZiAoIG91dGVybW9zdCApIHtcblx0XHRcdFx0ZGlycnVucyA9IGRpcnJ1bnNVbmlxdWU7XG5cdFx0XHRcdG91dGVybW9zdENvbnRleHQgPSBjb250ZXh0QmFja3VwO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdW5tYXRjaGVkO1xuXHRcdH07XG5cblx0cmV0dXJuIGJ5U2V0ID9cblx0XHRtYXJrRnVuY3Rpb24oIHN1cGVyTWF0Y2hlciApIDpcblx0XHRzdXBlck1hdGNoZXI7XG59XG5cbmZ1bmN0aW9uIGNvbXBpbGUoIHNlbGVjdG9yLCBtYXRjaCAvKiBJbnRlcm5hbCBVc2UgT25seSAqLyApIHtcblx0dmFyIGksXG5cdFx0c2V0TWF0Y2hlcnMgPSBbXSxcblx0XHRlbGVtZW50TWF0Y2hlcnMgPSBbXSxcblx0XHRjYWNoZWQgPSBjb21waWxlckNhY2hlWyBzZWxlY3RvciArIFwiIFwiIF07XG5cblx0aWYgKCAhY2FjaGVkICkge1xuXG5cdFx0Ly8gR2VuZXJhdGUgYSBmdW5jdGlvbiBvZiByZWN1cnNpdmUgZnVuY3Rpb25zIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2hlY2sgZWFjaCBlbGVtZW50XG5cdFx0aWYgKCAhbWF0Y2ggKSB7XG5cdFx0XHRtYXRjaCA9IHRva2VuaXplKCBzZWxlY3RvciApO1xuXHRcdH1cblx0XHRpID0gbWF0Y2gubGVuZ3RoO1xuXHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0Y2FjaGVkID0gbWF0Y2hlckZyb21Ub2tlbnMoIG1hdGNoWyBpIF0gKTtcblx0XHRcdGlmICggY2FjaGVkWyBleHBhbmRvIF0gKSB7XG5cdFx0XHRcdHNldE1hdGNoZXJzLnB1c2goIGNhY2hlZCApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZWxlbWVudE1hdGNoZXJzLnB1c2goIGNhY2hlZCApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENhY2hlIHRoZSBjb21waWxlZCBmdW5jdGlvblxuXHRcdGNhY2hlZCA9IGNvbXBpbGVyQ2FjaGUoIHNlbGVjdG9yLFxuXHRcdFx0bWF0Y2hlckZyb21Hcm91cE1hdGNoZXJzKCBlbGVtZW50TWF0Y2hlcnMsIHNldE1hdGNoZXJzICkgKTtcblxuXHRcdC8vIFNhdmUgc2VsZWN0b3IgYW5kIHRva2VuaXphdGlvblxuXHRcdGNhY2hlZC5zZWxlY3RvciA9IHNlbGVjdG9yO1xuXHR9XG5cdHJldHVybiBjYWNoZWQ7XG59XG5cbi8qKlxuICogQSBsb3ctbGV2ZWwgc2VsZWN0aW9uIGZ1bmN0aW9uIHRoYXQgd29ya3Mgd2l0aCBqUXVlcnkncyBjb21waWxlZFxuICogIHNlbGVjdG9yIGZ1bmN0aW9uc1xuICogQHBhcmFtIHtTdHJpbmd8RnVuY3Rpb259IHNlbGVjdG9yIEEgc2VsZWN0b3Igb3IgYSBwcmUtY29tcGlsZWRcbiAqICBzZWxlY3RvciBmdW5jdGlvbiBidWlsdCB3aXRoIGpRdWVyeSBzZWxlY3RvciBjb21waWxlXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGNvbnRleHRcbiAqIEBwYXJhbSB7QXJyYXl9IFtyZXN1bHRzXVxuICogQHBhcmFtIHtBcnJheX0gW3NlZWRdIEEgc2V0IG9mIGVsZW1lbnRzIHRvIG1hdGNoIGFnYWluc3RcbiAqL1xuZnVuY3Rpb24gc2VsZWN0KCBzZWxlY3RvciwgY29udGV4dCwgcmVzdWx0cywgc2VlZCApIHtcblx0dmFyIGksIHRva2VucywgdG9rZW4sIHR5cGUsIGZpbmQsXG5cdFx0Y29tcGlsZWQgPSB0eXBlb2Ygc2VsZWN0b3IgPT09IFwiZnVuY3Rpb25cIiAmJiBzZWxlY3Rvcixcblx0XHRtYXRjaCA9ICFzZWVkICYmIHRva2VuaXplKCAoIHNlbGVjdG9yID0gY29tcGlsZWQuc2VsZWN0b3IgfHwgc2VsZWN0b3IgKSApO1xuXG5cdHJlc3VsdHMgPSByZXN1bHRzIHx8IFtdO1xuXG5cdC8vIFRyeSB0byBtaW5pbWl6ZSBvcGVyYXRpb25zIGlmIHRoZXJlIGlzIG9ubHkgb25lIHNlbGVjdG9yIGluIHRoZSBsaXN0IGFuZCBubyBzZWVkXG5cdC8vICh0aGUgbGF0dGVyIG9mIHdoaWNoIGd1YXJhbnRlZXMgdXMgY29udGV4dClcblx0aWYgKCBtYXRjaC5sZW5ndGggPT09IDEgKSB7XG5cblx0XHQvLyBSZWR1Y2UgY29udGV4dCBpZiB0aGUgbGVhZGluZyBjb21wb3VuZCBzZWxlY3RvciBpcyBhbiBJRFxuXHRcdHRva2VucyA9IG1hdGNoWyAwIF0gPSBtYXRjaFsgMCBdLnNsaWNlKCAwICk7XG5cdFx0aWYgKCB0b2tlbnMubGVuZ3RoID4gMiAmJiAoIHRva2VuID0gdG9rZW5zWyAwIF0gKS50eXBlID09PSBcIklEXCIgJiZcblx0XHRcdFx0Y29udGV4dC5ub2RlVHlwZSA9PT0gOSAmJiBkb2N1bWVudElzSFRNTCAmJiBFeHByLnJlbGF0aXZlWyB0b2tlbnNbIDEgXS50eXBlIF0gKSB7XG5cblx0XHRcdGNvbnRleHQgPSAoIEV4cHIuZmluZC5JRChcblx0XHRcdFx0dG9rZW4ubWF0Y2hlc1sgMCBdLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICksXG5cdFx0XHRcdGNvbnRleHRcblx0XHRcdCkgfHwgW10gKVsgMCBdO1xuXHRcdFx0aWYgKCAhY29udGV4dCApIHtcblx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cblx0XHRcdC8vIFByZWNvbXBpbGVkIG1hdGNoZXJzIHdpbGwgc3RpbGwgdmVyaWZ5IGFuY2VzdHJ5LCBzbyBzdGVwIHVwIGEgbGV2ZWxcblx0XHRcdH0gZWxzZSBpZiAoIGNvbXBpbGVkICkge1xuXHRcdFx0XHRjb250ZXh0ID0gY29udGV4dC5wYXJlbnROb2RlO1xuXHRcdFx0fVxuXG5cdFx0XHRzZWxlY3RvciA9IHNlbGVjdG9yLnNsaWNlKCB0b2tlbnMuc2hpZnQoKS52YWx1ZS5sZW5ndGggKTtcblx0XHR9XG5cblx0XHQvLyBGZXRjaCBhIHNlZWQgc2V0IGZvciByaWdodC10by1sZWZ0IG1hdGNoaW5nXG5cdFx0aSA9IG1hdGNoRXhwci5uZWVkc0NvbnRleHQudGVzdCggc2VsZWN0b3IgKSA/IDAgOiB0b2tlbnMubGVuZ3RoO1xuXHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0dG9rZW4gPSB0b2tlbnNbIGkgXTtcblxuXHRcdFx0Ly8gQWJvcnQgaWYgd2UgaGl0IGEgY29tYmluYXRvclxuXHRcdFx0aWYgKCBFeHByLnJlbGF0aXZlWyAoIHR5cGUgPSB0b2tlbi50eXBlICkgXSApIHtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRpZiAoICggZmluZCA9IEV4cHIuZmluZFsgdHlwZSBdICkgKSB7XG5cblx0XHRcdFx0Ly8gU2VhcmNoLCBleHBhbmRpbmcgY29udGV4dCBmb3IgbGVhZGluZyBzaWJsaW5nIGNvbWJpbmF0b3JzXG5cdFx0XHRcdGlmICggKCBzZWVkID0gZmluZChcblx0XHRcdFx0XHR0b2tlbi5tYXRjaGVzWyAwIF0ucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKSxcblx0XHRcdFx0XHRyc2libGluZy50ZXN0KCB0b2tlbnNbIDAgXS50eXBlICkgJiZcblx0XHRcdFx0XHRcdHRlc3RDb250ZXh0KCBjb250ZXh0LnBhcmVudE5vZGUgKSB8fCBjb250ZXh0XG5cdFx0XHRcdCkgKSApIHtcblxuXHRcdFx0XHRcdC8vIElmIHNlZWQgaXMgZW1wdHkgb3Igbm8gdG9rZW5zIHJlbWFpbiwgd2UgY2FuIHJldHVybiBlYXJseVxuXHRcdFx0XHRcdHRva2Vucy5zcGxpY2UoIGksIDEgKTtcblx0XHRcdFx0XHRzZWxlY3RvciA9IHNlZWQubGVuZ3RoICYmIHRvU2VsZWN0b3IoIHRva2VucyApO1xuXHRcdFx0XHRcdGlmICggIXNlbGVjdG9yICkge1xuXHRcdFx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgc2VlZCApO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBDb21waWxlIGFuZCBleGVjdXRlIGEgZmlsdGVyaW5nIGZ1bmN0aW9uIGlmIG9uZSBpcyBub3QgcHJvdmlkZWRcblx0Ly8gUHJvdmlkZSBgbWF0Y2hgIHRvIGF2b2lkIHJldG9rZW5pemF0aW9uIGlmIHdlIG1vZGlmaWVkIHRoZSBzZWxlY3RvciBhYm92ZVxuXHQoIGNvbXBpbGVkIHx8IGNvbXBpbGUoIHNlbGVjdG9yLCBtYXRjaCApICkoXG5cdFx0c2VlZCxcblx0XHRjb250ZXh0LFxuXHRcdCFkb2N1bWVudElzSFRNTCxcblx0XHRyZXN1bHRzLFxuXHRcdCFjb250ZXh0IHx8IHJzaWJsaW5nLnRlc3QoIHNlbGVjdG9yICkgJiYgdGVzdENvbnRleHQoIGNvbnRleHQucGFyZW50Tm9kZSApIHx8IGNvbnRleHRcblx0KTtcblx0cmV0dXJuIHJlc3VsdHM7XG59XG5cbi8vIE9uZS10aW1lIGFzc2lnbm1lbnRzXG5cbi8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgLSA0LjErXG4vLyBTb3J0IHN0YWJpbGl0eVxuc3VwcG9ydC5zb3J0U3RhYmxlID0gZXhwYW5kby5zcGxpdCggXCJcIiApLnNvcnQoIHNvcnRPcmRlciApLmpvaW4oIFwiXCIgKSA9PT0gZXhwYW5kbztcblxuLy8gSW5pdGlhbGl6ZSBhZ2FpbnN0IHRoZSBkZWZhdWx0IGRvY3VtZW50XG5zZXREb2N1bWVudCgpO1xuXG4vLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIC0gNC4xK1xuLy8gRGV0YWNoZWQgbm9kZXMgY29uZm91bmRpbmdseSBmb2xsb3cgKmVhY2ggb3RoZXIqXG5zdXBwb3J0LnNvcnREZXRhY2hlZCA9IGFzc2VydCggZnVuY3Rpb24oIGVsICkge1xuXG5cdC8vIFNob3VsZCByZXR1cm4gMSwgYnV0IHJldHVybnMgNCAoZm9sbG93aW5nKVxuXHRyZXR1cm4gZWwuY29tcGFyZURvY3VtZW50UG9zaXRpb24oIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZmllbGRzZXRcIiApICkgJiAxO1xufSApO1xuXG5qUXVlcnkuZmluZCA9IGZpbmQ7XG5cbi8vIERlcHJlY2F0ZWRcbmpRdWVyeS5leHByWyBcIjpcIiBdID0galF1ZXJ5LmV4cHIucHNldWRvcztcbmpRdWVyeS51bmlxdWUgPSBqUXVlcnkudW5pcXVlU29ydDtcblxuLy8gVGhlc2UgaGF2ZSBhbHdheXMgYmVlbiBwcml2YXRlLCBidXQgdGhleSB1c2VkIHRvIGJlIGRvY3VtZW50ZWQgYXMgcGFydCBvZlxuLy8gU2l6emxlIHNvIGxldCdzIG1haW50YWluIHRoZW0gZm9yIG5vdyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgcHVycG9zZXMuXG5maW5kLmNvbXBpbGUgPSBjb21waWxlO1xuZmluZC5zZWxlY3QgPSBzZWxlY3Q7XG5maW5kLnNldERvY3VtZW50ID0gc2V0RG9jdW1lbnQ7XG5maW5kLnRva2VuaXplID0gdG9rZW5pemU7XG5cbmZpbmQuZXNjYXBlID0galF1ZXJ5LmVzY2FwZVNlbGVjdG9yO1xuZmluZC5nZXRUZXh0ID0galF1ZXJ5LnRleHQ7XG5maW5kLmlzWE1MID0galF1ZXJ5LmlzWE1MRG9jO1xuZmluZC5zZWxlY3RvcnMgPSBqUXVlcnkuZXhwcjtcbmZpbmQuc3VwcG9ydCA9IGpRdWVyeS5zdXBwb3J0O1xuZmluZC51bmlxdWVTb3J0ID0galF1ZXJ5LnVuaXF1ZVNvcnQ7XG5cblx0LyogZXNsaW50LWVuYWJsZSAqL1xuXG59ICkoKTtcblxuXG52YXIgZGlyID0gZnVuY3Rpb24oIGVsZW0sIGRpciwgdW50aWwgKSB7XG5cdHZhciBtYXRjaGVkID0gW10sXG5cdFx0dHJ1bmNhdGUgPSB1bnRpbCAhPT0gdW5kZWZpbmVkO1xuXG5cdHdoaWxlICggKCBlbGVtID0gZWxlbVsgZGlyIF0gKSAmJiBlbGVtLm5vZGVUeXBlICE9PSA5ICkge1xuXHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdGlmICggdHJ1bmNhdGUgJiYgalF1ZXJ5KCBlbGVtICkuaXMoIHVudGlsICkgKSB7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0bWF0Y2hlZC5wdXNoKCBlbGVtICk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBtYXRjaGVkO1xufTtcblxuXG52YXIgc2libGluZ3MgPSBmdW5jdGlvbiggbiwgZWxlbSApIHtcblx0dmFyIG1hdGNoZWQgPSBbXTtcblxuXHRmb3IgKCA7IG47IG4gPSBuLm5leHRTaWJsaW5nICkge1xuXHRcdGlmICggbi5ub2RlVHlwZSA9PT0gMSAmJiBuICE9PSBlbGVtICkge1xuXHRcdFx0bWF0Y2hlZC5wdXNoKCBuICk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIG1hdGNoZWQ7XG59O1xuXG5cbnZhciBybmVlZHNDb250ZXh0ID0galF1ZXJ5LmV4cHIubWF0Y2gubmVlZHNDb250ZXh0O1xuXG52YXIgcnNpbmdsZVRhZyA9ICggL148KFthLXpdW15cXC9cXDA+OlxceDIwXFx0XFxyXFxuXFxmXSopW1xceDIwXFx0XFxyXFxuXFxmXSpcXC8/Pig/OjxcXC9cXDE+fCkkL2kgKTtcblxuXG5cbi8vIEltcGxlbWVudCB0aGUgaWRlbnRpY2FsIGZ1bmN0aW9uYWxpdHkgZm9yIGZpbHRlciBhbmQgbm90XG5mdW5jdGlvbiB3aW5ub3coIGVsZW1lbnRzLCBxdWFsaWZpZXIsIG5vdCApIHtcblx0aWYgKCBpc0Z1bmN0aW9uKCBxdWFsaWZpZXIgKSApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmdyZXAoIGVsZW1lbnRzLCBmdW5jdGlvbiggZWxlbSwgaSApIHtcblx0XHRcdHJldHVybiAhIXF1YWxpZmllci5jYWxsKCBlbGVtLCBpLCBlbGVtICkgIT09IG5vdDtcblx0XHR9ICk7XG5cdH1cblxuXHQvLyBTaW5nbGUgZWxlbWVudFxuXHRpZiAoIHF1YWxpZmllci5ub2RlVHlwZSApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmdyZXAoIGVsZW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiAoIGVsZW0gPT09IHF1YWxpZmllciApICE9PSBub3Q7XG5cdFx0fSApO1xuXHR9XG5cblx0Ly8gQXJyYXlsaWtlIG9mIGVsZW1lbnRzIChqUXVlcnksIGFyZ3VtZW50cywgQXJyYXkpXG5cdGlmICggdHlwZW9mIHF1YWxpZmllciAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmdyZXAoIGVsZW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiAoIGluZGV4T2YuY2FsbCggcXVhbGlmaWVyLCBlbGVtICkgPiAtMSApICE9PSBub3Q7XG5cdFx0fSApO1xuXHR9XG5cblx0Ly8gRmlsdGVyZWQgZGlyZWN0bHkgZm9yIGJvdGggc2ltcGxlIGFuZCBjb21wbGV4IHNlbGVjdG9yc1xuXHRyZXR1cm4galF1ZXJ5LmZpbHRlciggcXVhbGlmaWVyLCBlbGVtZW50cywgbm90ICk7XG59XG5cbmpRdWVyeS5maWx0ZXIgPSBmdW5jdGlvbiggZXhwciwgZWxlbXMsIG5vdCApIHtcblx0dmFyIGVsZW0gPSBlbGVtc1sgMCBdO1xuXG5cdGlmICggbm90ICkge1xuXHRcdGV4cHIgPSBcIjpub3QoXCIgKyBleHByICsgXCIpXCI7XG5cdH1cblxuXHRpZiAoIGVsZW1zLmxlbmd0aCA9PT0gMSAmJiBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdHJldHVybiBqUXVlcnkuZmluZC5tYXRjaGVzU2VsZWN0b3IoIGVsZW0sIGV4cHIgKSA/IFsgZWxlbSBdIDogW107XG5cdH1cblxuXHRyZXR1cm4galF1ZXJ5LmZpbmQubWF0Y2hlcyggZXhwciwgalF1ZXJ5LmdyZXAoIGVsZW1zLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gZWxlbS5ub2RlVHlwZSA9PT0gMTtcblx0fSApICk7XG59O1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGZpbmQ6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHR2YXIgaSwgcmV0LFxuXHRcdFx0bGVuID0gdGhpcy5sZW5ndGgsXG5cdFx0XHRzZWxmID0gdGhpcztcblxuXHRcdGlmICggdHlwZW9mIHNlbGVjdG9yICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBqUXVlcnkoIHNlbGVjdG9yICkuZmlsdGVyKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0Zm9yICggaSA9IDA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdFx0XHRpZiAoIGpRdWVyeS5jb250YWlucyggc2VsZlsgaSBdLCB0aGlzICkgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gKSApO1xuXHRcdH1cblxuXHRcdHJldCA9IHRoaXMucHVzaFN0YWNrKCBbXSApO1xuXG5cdFx0Zm9yICggaSA9IDA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdGpRdWVyeS5maW5kKCBzZWxlY3Rvciwgc2VsZlsgaSBdLCByZXQgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbGVuID4gMSA/IGpRdWVyeS51bmlxdWVTb3J0KCByZXQgKSA6IHJldDtcblx0fSxcblx0ZmlsdGVyOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCB3aW5ub3coIHRoaXMsIHNlbGVjdG9yIHx8IFtdLCBmYWxzZSApICk7XG5cdH0sXG5cdG5vdDogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggd2lubm93KCB0aGlzLCBzZWxlY3RvciB8fCBbXSwgdHJ1ZSApICk7XG5cdH0sXG5cdGlzOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuICEhd2lubm93KFxuXHRcdFx0dGhpcyxcblxuXHRcdFx0Ly8gSWYgdGhpcyBpcyBhIHBvc2l0aW9uYWwvcmVsYXRpdmUgc2VsZWN0b3IsIGNoZWNrIG1lbWJlcnNoaXAgaW4gdGhlIHJldHVybmVkIHNldFxuXHRcdFx0Ly8gc28gJChcInA6Zmlyc3RcIikuaXMoXCJwOmxhc3RcIikgd29uJ3QgcmV0dXJuIHRydWUgZm9yIGEgZG9jIHdpdGggdHdvIFwicFwiLlxuXHRcdFx0dHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiICYmIHJuZWVkc0NvbnRleHQudGVzdCggc2VsZWN0b3IgKSA/XG5cdFx0XHRcdGpRdWVyeSggc2VsZWN0b3IgKSA6XG5cdFx0XHRcdHNlbGVjdG9yIHx8IFtdLFxuXHRcdFx0ZmFsc2Vcblx0XHQpLmxlbmd0aDtcblx0fVxufSApO1xuXG5cbi8vIEluaXRpYWxpemUgYSBqUXVlcnkgb2JqZWN0XG5cblxuLy8gQSBjZW50cmFsIHJlZmVyZW5jZSB0byB0aGUgcm9vdCBqUXVlcnkoZG9jdW1lbnQpXG52YXIgcm9vdGpRdWVyeSxcblxuXHQvLyBBIHNpbXBsZSB3YXkgdG8gY2hlY2sgZm9yIEhUTUwgc3RyaW5nc1xuXHQvLyBQcmlvcml0aXplICNpZCBvdmVyIDx0YWc+IHRvIGF2b2lkIFhTUyB2aWEgbG9jYXRpb24uaGFzaCAodHJhYy05NTIxKVxuXHQvLyBTdHJpY3QgSFRNTCByZWNvZ25pdGlvbiAodHJhYy0xMTI5MDogbXVzdCBzdGFydCB3aXRoIDwpXG5cdC8vIFNob3J0Y3V0IHNpbXBsZSAjaWQgY2FzZSBmb3Igc3BlZWRcblx0cnF1aWNrRXhwciA9IC9eKD86XFxzKig8W1xcd1xcV10rPilbXj5dKnwjKFtcXHctXSspKSQvLFxuXG5cdGluaXQgPSBqUXVlcnkuZm4uaW5pdCA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCwgcm9vdCApIHtcblx0XHR2YXIgbWF0Y2gsIGVsZW07XG5cblx0XHQvLyBIQU5ETEU6ICQoXCJcIiksICQobnVsbCksICQodW5kZWZpbmVkKSwgJChmYWxzZSlcblx0XHRpZiAoICFzZWxlY3RvciApIHtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblxuXHRcdC8vIE1ldGhvZCBpbml0KCkgYWNjZXB0cyBhbiBhbHRlcm5hdGUgcm9vdGpRdWVyeVxuXHRcdC8vIHNvIG1pZ3JhdGUgY2FuIHN1cHBvcnQgalF1ZXJ5LnN1YiAoZ2gtMjEwMSlcblx0XHRyb290ID0gcm9vdCB8fCByb290alF1ZXJ5O1xuXG5cdFx0Ly8gSGFuZGxlIEhUTUwgc3RyaW5nc1xuXHRcdGlmICggdHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0aWYgKCBzZWxlY3RvclsgMCBdID09PSBcIjxcIiAmJlxuXHRcdFx0XHRzZWxlY3Rvclsgc2VsZWN0b3IubGVuZ3RoIC0gMSBdID09PSBcIj5cIiAmJlxuXHRcdFx0XHRzZWxlY3Rvci5sZW5ndGggPj0gMyApIHtcblxuXHRcdFx0XHQvLyBBc3N1bWUgdGhhdCBzdHJpbmdzIHRoYXQgc3RhcnQgYW5kIGVuZCB3aXRoIDw+IGFyZSBIVE1MIGFuZCBza2lwIHRoZSByZWdleCBjaGVja1xuXHRcdFx0XHRtYXRjaCA9IFsgbnVsbCwgc2VsZWN0b3IsIG51bGwgXTtcblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bWF0Y2ggPSBycXVpY2tFeHByLmV4ZWMoIHNlbGVjdG9yICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE1hdGNoIGh0bWwgb3IgbWFrZSBzdXJlIG5vIGNvbnRleHQgaXMgc3BlY2lmaWVkIGZvciAjaWRcblx0XHRcdGlmICggbWF0Y2ggJiYgKCBtYXRjaFsgMSBdIHx8ICFjb250ZXh0ICkgKSB7XG5cblx0XHRcdFx0Ly8gSEFORExFOiAkKGh0bWwpIC0+ICQoYXJyYXkpXG5cdFx0XHRcdGlmICggbWF0Y2hbIDEgXSApIHtcblx0XHRcdFx0XHRjb250ZXh0ID0gY29udGV4dCBpbnN0YW5jZW9mIGpRdWVyeSA/IGNvbnRleHRbIDAgXSA6IGNvbnRleHQ7XG5cblx0XHRcdFx0XHQvLyBPcHRpb24gdG8gcnVuIHNjcmlwdHMgaXMgdHJ1ZSBmb3IgYmFjay1jb21wYXRcblx0XHRcdFx0XHQvLyBJbnRlbnRpb25hbGx5IGxldCB0aGUgZXJyb3IgYmUgdGhyb3duIGlmIHBhcnNlSFRNTCBpcyBub3QgcHJlc2VudFxuXHRcdFx0XHRcdGpRdWVyeS5tZXJnZSggdGhpcywgalF1ZXJ5LnBhcnNlSFRNTChcblx0XHRcdFx0XHRcdG1hdGNoWyAxIF0sXG5cdFx0XHRcdFx0XHRjb250ZXh0ICYmIGNvbnRleHQubm9kZVR5cGUgPyBjb250ZXh0Lm93bmVyRG9jdW1lbnQgfHwgY29udGV4dCA6IGRvY3VtZW50LFxuXHRcdFx0XHRcdFx0dHJ1ZVxuXHRcdFx0XHRcdCkgKTtcblxuXHRcdFx0XHRcdC8vIEhBTkRMRTogJChodG1sLCBwcm9wcylcblx0XHRcdFx0XHRpZiAoIHJzaW5nbGVUYWcudGVzdCggbWF0Y2hbIDEgXSApICYmIGpRdWVyeS5pc1BsYWluT2JqZWN0KCBjb250ZXh0ICkgKSB7XG5cdFx0XHRcdFx0XHRmb3IgKCBtYXRjaCBpbiBjb250ZXh0ICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIFByb3BlcnRpZXMgb2YgY29udGV4dCBhcmUgY2FsbGVkIGFzIG1ldGhvZHMgaWYgcG9zc2libGVcblx0XHRcdFx0XHRcdFx0aWYgKCBpc0Z1bmN0aW9uKCB0aGlzWyBtYXRjaCBdICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpc1sgbWF0Y2ggXSggY29udGV4dFsgbWF0Y2ggXSApO1xuXG5cdFx0XHRcdFx0XHRcdC8vIC4uLmFuZCBvdGhlcndpc2Ugc2V0IGFzIGF0dHJpYnV0ZXNcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLmF0dHIoIG1hdGNoLCBjb250ZXh0WyBtYXRjaCBdICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblxuXHRcdFx0XHQvLyBIQU5ETEU6ICQoI2lkKVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggbWF0Y2hbIDIgXSApO1xuXG5cdFx0XHRcdFx0aWYgKCBlbGVtICkge1xuXG5cdFx0XHRcdFx0XHQvLyBJbmplY3QgdGhlIGVsZW1lbnQgZGlyZWN0bHkgaW50byB0aGUgalF1ZXJ5IG9iamVjdFxuXHRcdFx0XHRcdFx0dGhpc1sgMCBdID0gZWxlbTtcblx0XHRcdFx0XHRcdHRoaXMubGVuZ3RoID0gMTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH1cblxuXHRcdFx0Ly8gSEFORExFOiAkKGV4cHIsICQoLi4uKSlcblx0XHRcdH0gZWxzZSBpZiAoICFjb250ZXh0IHx8IGNvbnRleHQuanF1ZXJ5ICkge1xuXHRcdFx0XHRyZXR1cm4gKCBjb250ZXh0IHx8IHJvb3QgKS5maW5kKCBzZWxlY3RvciApO1xuXG5cdFx0XHQvLyBIQU5ETEU6ICQoZXhwciwgY29udGV4dClcblx0XHRcdC8vICh3aGljaCBpcyBqdXN0IGVxdWl2YWxlbnQgdG86ICQoY29udGV4dCkuZmluZChleHByKVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuY29uc3RydWN0b3IoIGNvbnRleHQgKS5maW5kKCBzZWxlY3RvciApO1xuXHRcdFx0fVxuXG5cdFx0Ly8gSEFORExFOiAkKERPTUVsZW1lbnQpXG5cdFx0fSBlbHNlIGlmICggc2VsZWN0b3Iubm9kZVR5cGUgKSB7XG5cdFx0XHR0aGlzWyAwIF0gPSBzZWxlY3Rvcjtcblx0XHRcdHRoaXMubGVuZ3RoID0gMTtcblx0XHRcdHJldHVybiB0aGlzO1xuXG5cdFx0Ly8gSEFORExFOiAkKGZ1bmN0aW9uKVxuXHRcdC8vIFNob3J0Y3V0IGZvciBkb2N1bWVudCByZWFkeVxuXHRcdH0gZWxzZSBpZiAoIGlzRnVuY3Rpb24oIHNlbGVjdG9yICkgKSB7XG5cdFx0XHRyZXR1cm4gcm9vdC5yZWFkeSAhPT0gdW5kZWZpbmVkID9cblx0XHRcdFx0cm9vdC5yZWFkeSggc2VsZWN0b3IgKSA6XG5cblx0XHRcdFx0Ly8gRXhlY3V0ZSBpbW1lZGlhdGVseSBpZiByZWFkeSBpcyBub3QgcHJlc2VudFxuXHRcdFx0XHRzZWxlY3RvciggalF1ZXJ5ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGpRdWVyeS5tYWtlQXJyYXkoIHNlbGVjdG9yLCB0aGlzICk7XG5cdH07XG5cbi8vIEdpdmUgdGhlIGluaXQgZnVuY3Rpb24gdGhlIGpRdWVyeSBwcm90b3R5cGUgZm9yIGxhdGVyIGluc3RhbnRpYXRpb25cbmluaXQucHJvdG90eXBlID0galF1ZXJ5LmZuO1xuXG4vLyBJbml0aWFsaXplIGNlbnRyYWwgcmVmZXJlbmNlXG5yb290alF1ZXJ5ID0galF1ZXJ5KCBkb2N1bWVudCApO1xuXG5cbnZhciBycGFyZW50c3ByZXYgPSAvXig/OnBhcmVudHN8cHJldig/OlVudGlsfEFsbCkpLyxcblxuXHQvLyBNZXRob2RzIGd1YXJhbnRlZWQgdG8gcHJvZHVjZSBhIHVuaXF1ZSBzZXQgd2hlbiBzdGFydGluZyBmcm9tIGEgdW5pcXVlIHNldFxuXHRndWFyYW50ZWVkVW5pcXVlID0ge1xuXHRcdGNoaWxkcmVuOiB0cnVlLFxuXHRcdGNvbnRlbnRzOiB0cnVlLFxuXHRcdG5leHQ6IHRydWUsXG5cdFx0cHJldjogdHJ1ZVxuXHR9O1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGhhczogZnVuY3Rpb24oIHRhcmdldCApIHtcblx0XHR2YXIgdGFyZ2V0cyA9IGpRdWVyeSggdGFyZ2V0LCB0aGlzICksXG5cdFx0XHRsID0gdGFyZ2V0cy5sZW5ndGg7XG5cblx0XHRyZXR1cm4gdGhpcy5maWx0ZXIoIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGkgPSAwO1xuXHRcdFx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRpZiAoIGpRdWVyeS5jb250YWlucyggdGhpcywgdGFyZ2V0c1sgaSBdICkgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0Y2xvc2VzdDogZnVuY3Rpb24oIHNlbGVjdG9ycywgY29udGV4dCApIHtcblx0XHR2YXIgY3VyLFxuXHRcdFx0aSA9IDAsXG5cdFx0XHRsID0gdGhpcy5sZW5ndGgsXG5cdFx0XHRtYXRjaGVkID0gW10sXG5cdFx0XHR0YXJnZXRzID0gdHlwZW9mIHNlbGVjdG9ycyAhPT0gXCJzdHJpbmdcIiAmJiBqUXVlcnkoIHNlbGVjdG9ycyApO1xuXG5cdFx0Ly8gUG9zaXRpb25hbCBzZWxlY3RvcnMgbmV2ZXIgbWF0Y2gsIHNpbmNlIHRoZXJlJ3Mgbm8gX3NlbGVjdGlvbl8gY29udGV4dFxuXHRcdGlmICggIXJuZWVkc0NvbnRleHQudGVzdCggc2VsZWN0b3JzICkgKSB7XG5cdFx0XHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdGZvciAoIGN1ciA9IHRoaXNbIGkgXTsgY3VyICYmIGN1ciAhPT0gY29udGV4dDsgY3VyID0gY3VyLnBhcmVudE5vZGUgKSB7XG5cblx0XHRcdFx0XHQvLyBBbHdheXMgc2tpcCBkb2N1bWVudCBmcmFnbWVudHNcblx0XHRcdFx0XHRpZiAoIGN1ci5ub2RlVHlwZSA8IDExICYmICggdGFyZ2V0cyA/XG5cdFx0XHRcdFx0XHR0YXJnZXRzLmluZGV4KCBjdXIgKSA+IC0xIDpcblxuXHRcdFx0XHRcdFx0Ly8gRG9uJ3QgcGFzcyBub24tZWxlbWVudHMgdG8galF1ZXJ5I2ZpbmRcblx0XHRcdFx0XHRcdGN1ci5ub2RlVHlwZSA9PT0gMSAmJlxuXHRcdFx0XHRcdFx0XHRqUXVlcnkuZmluZC5tYXRjaGVzU2VsZWN0b3IoIGN1ciwgc2VsZWN0b3JzICkgKSApIHtcblxuXHRcdFx0XHRcdFx0bWF0Y2hlZC5wdXNoKCBjdXIgKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggbWF0Y2hlZC5sZW5ndGggPiAxID8galF1ZXJ5LnVuaXF1ZVNvcnQoIG1hdGNoZWQgKSA6IG1hdGNoZWQgKTtcblx0fSxcblxuXHQvLyBEZXRlcm1pbmUgdGhlIHBvc2l0aW9uIG9mIGFuIGVsZW1lbnQgd2l0aGluIHRoZSBzZXRcblx0aW5kZXg6IGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdFx0Ly8gTm8gYXJndW1lbnQsIHJldHVybiBpbmRleCBpbiBwYXJlbnRcblx0XHRpZiAoICFlbGVtICkge1xuXHRcdFx0cmV0dXJuICggdGhpc1sgMCBdICYmIHRoaXNbIDAgXS5wYXJlbnROb2RlICkgPyB0aGlzLmZpcnN0KCkucHJldkFsbCgpLmxlbmd0aCA6IC0xO1xuXHRcdH1cblxuXHRcdC8vIEluZGV4IGluIHNlbGVjdG9yXG5cdFx0aWYgKCB0eXBlb2YgZWxlbSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHJldHVybiBpbmRleE9mLmNhbGwoIGpRdWVyeSggZWxlbSApLCB0aGlzWyAwIF0gKTtcblx0XHR9XG5cblx0XHQvLyBMb2NhdGUgdGhlIHBvc2l0aW9uIG9mIHRoZSBkZXNpcmVkIGVsZW1lbnRcblx0XHRyZXR1cm4gaW5kZXhPZi5jYWxsKCB0aGlzLFxuXG5cdFx0XHQvLyBJZiBpdCByZWNlaXZlcyBhIGpRdWVyeSBvYmplY3QsIHRoZSBmaXJzdCBlbGVtZW50IGlzIHVzZWRcblx0XHRcdGVsZW0uanF1ZXJ5ID8gZWxlbVsgMCBdIDogZWxlbVxuXHRcdCk7XG5cdH0sXG5cblx0YWRkOiBmdW5jdGlvbiggc2VsZWN0b3IsIGNvbnRleHQgKSB7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKFxuXHRcdFx0alF1ZXJ5LnVuaXF1ZVNvcnQoXG5cdFx0XHRcdGpRdWVyeS5tZXJnZSggdGhpcy5nZXQoKSwgalF1ZXJ5KCBzZWxlY3RvciwgY29udGV4dCApIClcblx0XHRcdClcblx0XHQpO1xuXHR9LFxuXG5cdGFkZEJhY2s6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRyZXR1cm4gdGhpcy5hZGQoIHNlbGVjdG9yID09IG51bGwgP1xuXHRcdFx0dGhpcy5wcmV2T2JqZWN0IDogdGhpcy5wcmV2T2JqZWN0LmZpbHRlciggc2VsZWN0b3IgKVxuXHRcdCk7XG5cdH1cbn0gKTtcblxuZnVuY3Rpb24gc2libGluZyggY3VyLCBkaXIgKSB7XG5cdHdoaWxlICggKCBjdXIgPSBjdXJbIGRpciBdICkgJiYgY3VyLm5vZGVUeXBlICE9PSAxICkge31cblx0cmV0dXJuIGN1cjtcbn1cblxualF1ZXJ5LmVhY2goIHtcblx0cGFyZW50OiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHR2YXIgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlO1xuXHRcdHJldHVybiBwYXJlbnQgJiYgcGFyZW50Lm5vZGVUeXBlICE9PSAxMSA/IHBhcmVudCA6IG51bGw7XG5cdH0sXG5cdHBhcmVudHM6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBkaXIoIGVsZW0sIFwicGFyZW50Tm9kZVwiICk7XG5cdH0sXG5cdHBhcmVudHNVbnRpbDogZnVuY3Rpb24oIGVsZW0sIF9pLCB1bnRpbCApIHtcblx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcInBhcmVudE5vZGVcIiwgdW50aWwgKTtcblx0fSxcblx0bmV4dDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIHNpYmxpbmcoIGVsZW0sIFwibmV4dFNpYmxpbmdcIiApO1xuXHR9LFxuXHRwcmV2OiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gc2libGluZyggZWxlbSwgXCJwcmV2aW91c1NpYmxpbmdcIiApO1xuXHR9LFxuXHRuZXh0QWxsOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcIm5leHRTaWJsaW5nXCIgKTtcblx0fSxcblx0cHJldkFsbDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJwcmV2aW91c1NpYmxpbmdcIiApO1xuXHR9LFxuXHRuZXh0VW50aWw6IGZ1bmN0aW9uKCBlbGVtLCBfaSwgdW50aWwgKSB7XG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJuZXh0U2libGluZ1wiLCB1bnRpbCApO1xuXHR9LFxuXHRwcmV2VW50aWw6IGZ1bmN0aW9uKCBlbGVtLCBfaSwgdW50aWwgKSB7XG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJwcmV2aW91c1NpYmxpbmdcIiwgdW50aWwgKTtcblx0fSxcblx0c2libGluZ3M6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBzaWJsaW5ncyggKCBlbGVtLnBhcmVudE5vZGUgfHwge30gKS5maXJzdENoaWxkLCBlbGVtICk7XG5cdH0sXG5cdGNoaWxkcmVuOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gc2libGluZ3MoIGVsZW0uZmlyc3RDaGlsZCApO1xuXHR9LFxuXHRjb250ZW50czogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0aWYgKCBlbGVtLmNvbnRlbnREb2N1bWVudCAhPSBudWxsICYmXG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFIDExK1xuXHRcdFx0Ly8gPG9iamVjdD4gZWxlbWVudHMgd2l0aCBubyBgZGF0YWAgYXR0cmlidXRlIGhhcyBhbiBvYmplY3Rcblx0XHRcdC8vIGBjb250ZW50RG9jdW1lbnRgIHdpdGggYSBgbnVsbGAgcHJvdG90eXBlLlxuXHRcdFx0Z2V0UHJvdG8oIGVsZW0uY29udGVudERvY3VtZW50ICkgKSB7XG5cblx0XHRcdHJldHVybiBlbGVtLmNvbnRlbnREb2N1bWVudDtcblx0XHR9XG5cblx0XHQvLyBTdXBwb3J0OiBJRSA5IC0gMTEgb25seSwgaU9TIDcgb25seSwgQW5kcm9pZCBCcm93c2VyIDw9NC4zIG9ubHlcblx0XHQvLyBUcmVhdCB0aGUgdGVtcGxhdGUgZWxlbWVudCBhcyBhIHJlZ3VsYXIgb25lIGluIGJyb3dzZXJzIHRoYXRcblx0XHQvLyBkb24ndCBzdXBwb3J0IGl0LlxuXHRcdGlmICggbm9kZU5hbWUoIGVsZW0sIFwidGVtcGxhdGVcIiApICkge1xuXHRcdFx0ZWxlbSA9IGVsZW0uY29udGVudCB8fCBlbGVtO1xuXHRcdH1cblxuXHRcdHJldHVybiBqUXVlcnkubWVyZ2UoIFtdLCBlbGVtLmNoaWxkTm9kZXMgKTtcblx0fVxufSwgZnVuY3Rpb24oIG5hbWUsIGZuICkge1xuXHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCB1bnRpbCwgc2VsZWN0b3IgKSB7XG5cdFx0dmFyIG1hdGNoZWQgPSBqUXVlcnkubWFwKCB0aGlzLCBmbiwgdW50aWwgKTtcblxuXHRcdGlmICggbmFtZS5zbGljZSggLTUgKSAhPT0gXCJVbnRpbFwiICkge1xuXHRcdFx0c2VsZWN0b3IgPSB1bnRpbDtcblx0XHR9XG5cblx0XHRpZiAoIHNlbGVjdG9yICYmIHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdG1hdGNoZWQgPSBqUXVlcnkuZmlsdGVyKCBzZWxlY3RvciwgbWF0Y2hlZCApO1xuXHRcdH1cblxuXHRcdGlmICggdGhpcy5sZW5ndGggPiAxICkge1xuXG5cdFx0XHQvLyBSZW1vdmUgZHVwbGljYXRlc1xuXHRcdFx0aWYgKCAhZ3VhcmFudGVlZFVuaXF1ZVsgbmFtZSBdICkge1xuXHRcdFx0XHRqUXVlcnkudW5pcXVlU29ydCggbWF0Y2hlZCApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBSZXZlcnNlIG9yZGVyIGZvciBwYXJlbnRzKiBhbmQgcHJldi1kZXJpdmF0aXZlc1xuXHRcdFx0aWYgKCBycGFyZW50c3ByZXYudGVzdCggbmFtZSApICkge1xuXHRcdFx0XHRtYXRjaGVkLnJldmVyc2UoKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIG1hdGNoZWQgKTtcblx0fTtcbn0gKTtcbnZhciBybm90aHRtbHdoaXRlID0gKCAvW15cXHgyMFxcdFxcclxcblxcZl0rL2cgKTtcblxuXG5cbi8vIENvbnZlcnQgU3RyaW5nLWZvcm1hdHRlZCBvcHRpb25zIGludG8gT2JqZWN0LWZvcm1hdHRlZCBvbmVzXG5mdW5jdGlvbiBjcmVhdGVPcHRpb25zKCBvcHRpb25zICkge1xuXHR2YXIgb2JqZWN0ID0ge307XG5cdGpRdWVyeS5lYWNoKCBvcHRpb25zLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgW10sIGZ1bmN0aW9uKCBfLCBmbGFnICkge1xuXHRcdG9iamVjdFsgZmxhZyBdID0gdHJ1ZTtcblx0fSApO1xuXHRyZXR1cm4gb2JqZWN0O1xufVxuXG4vKlxuICogQ3JlYXRlIGEgY2FsbGJhY2sgbGlzdCB1c2luZyB0aGUgZm9sbG93aW5nIHBhcmFtZXRlcnM6XG4gKlxuICpcdG9wdGlvbnM6IGFuIG9wdGlvbmFsIGxpc3Qgb2Ygc3BhY2Utc2VwYXJhdGVkIG9wdGlvbnMgdGhhdCB3aWxsIGNoYW5nZSBob3dcbiAqXHRcdFx0dGhlIGNhbGxiYWNrIGxpc3QgYmVoYXZlcyBvciBhIG1vcmUgdHJhZGl0aW9uYWwgb3B0aW9uIG9iamVjdFxuICpcbiAqIEJ5IGRlZmF1bHQgYSBjYWxsYmFjayBsaXN0IHdpbGwgYWN0IGxpa2UgYW4gZXZlbnQgY2FsbGJhY2sgbGlzdCBhbmQgY2FuIGJlXG4gKiBcImZpcmVkXCIgbXVsdGlwbGUgdGltZXMuXG4gKlxuICogUG9zc2libGUgb3B0aW9uczpcbiAqXG4gKlx0b25jZTpcdFx0XHR3aWxsIGVuc3VyZSB0aGUgY2FsbGJhY2sgbGlzdCBjYW4gb25seSBiZSBmaXJlZCBvbmNlIChsaWtlIGEgRGVmZXJyZWQpXG4gKlxuICpcdG1lbW9yeTpcdFx0XHR3aWxsIGtlZXAgdHJhY2sgb2YgcHJldmlvdXMgdmFsdWVzIGFuZCB3aWxsIGNhbGwgYW55IGNhbGxiYWNrIGFkZGVkXG4gKlx0XHRcdFx0XHRhZnRlciB0aGUgbGlzdCBoYXMgYmVlbiBmaXJlZCByaWdodCBhd2F5IHdpdGggdGhlIGxhdGVzdCBcIm1lbW9yaXplZFwiXG4gKlx0XHRcdFx0XHR2YWx1ZXMgKGxpa2UgYSBEZWZlcnJlZClcbiAqXG4gKlx0dW5pcXVlOlx0XHRcdHdpbGwgZW5zdXJlIGEgY2FsbGJhY2sgY2FuIG9ubHkgYmUgYWRkZWQgb25jZSAobm8gZHVwbGljYXRlIGluIHRoZSBsaXN0KVxuICpcbiAqXHRzdG9wT25GYWxzZTpcdGludGVycnVwdCBjYWxsaW5ncyB3aGVuIGEgY2FsbGJhY2sgcmV0dXJucyBmYWxzZVxuICpcbiAqL1xualF1ZXJ5LkNhbGxiYWNrcyA9IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXG5cdC8vIENvbnZlcnQgb3B0aW9ucyBmcm9tIFN0cmluZy1mb3JtYXR0ZWQgdG8gT2JqZWN0LWZvcm1hdHRlZCBpZiBuZWVkZWRcblx0Ly8gKHdlIGNoZWNrIGluIGNhY2hlIGZpcnN0KVxuXHRvcHRpb25zID0gdHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIgP1xuXHRcdGNyZWF0ZU9wdGlvbnMoIG9wdGlvbnMgKSA6XG5cdFx0alF1ZXJ5LmV4dGVuZCgge30sIG9wdGlvbnMgKTtcblxuXHR2YXIgLy8gRmxhZyB0byBrbm93IGlmIGxpc3QgaXMgY3VycmVudGx5IGZpcmluZ1xuXHRcdGZpcmluZyxcblxuXHRcdC8vIExhc3QgZmlyZSB2YWx1ZSBmb3Igbm9uLWZvcmdldHRhYmxlIGxpc3RzXG5cdFx0bWVtb3J5LFxuXG5cdFx0Ly8gRmxhZyB0byBrbm93IGlmIGxpc3Qgd2FzIGFscmVhZHkgZmlyZWRcblx0XHRmaXJlZCxcblxuXHRcdC8vIEZsYWcgdG8gcHJldmVudCBmaXJpbmdcblx0XHRsb2NrZWQsXG5cblx0XHQvLyBBY3R1YWwgY2FsbGJhY2sgbGlzdFxuXHRcdGxpc3QgPSBbXSxcblxuXHRcdC8vIFF1ZXVlIG9mIGV4ZWN1dGlvbiBkYXRhIGZvciByZXBlYXRhYmxlIGxpc3RzXG5cdFx0cXVldWUgPSBbXSxcblxuXHRcdC8vIEluZGV4IG9mIGN1cnJlbnRseSBmaXJpbmcgY2FsbGJhY2sgKG1vZGlmaWVkIGJ5IGFkZC9yZW1vdmUgYXMgbmVlZGVkKVxuXHRcdGZpcmluZ0luZGV4ID0gLTEsXG5cblx0XHQvLyBGaXJlIGNhbGxiYWNrc1xuXHRcdGZpcmUgPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gRW5mb3JjZSBzaW5nbGUtZmlyaW5nXG5cdFx0XHRsb2NrZWQgPSBsb2NrZWQgfHwgb3B0aW9ucy5vbmNlO1xuXG5cdFx0XHQvLyBFeGVjdXRlIGNhbGxiYWNrcyBmb3IgYWxsIHBlbmRpbmcgZXhlY3V0aW9ucyxcblx0XHRcdC8vIHJlc3BlY3RpbmcgZmlyaW5nSW5kZXggb3ZlcnJpZGVzIGFuZCBydW50aW1lIGNoYW5nZXNcblx0XHRcdGZpcmVkID0gZmlyaW5nID0gdHJ1ZTtcblx0XHRcdGZvciAoIDsgcXVldWUubGVuZ3RoOyBmaXJpbmdJbmRleCA9IC0xICkge1xuXHRcdFx0XHRtZW1vcnkgPSBxdWV1ZS5zaGlmdCgpO1xuXHRcdFx0XHR3aGlsZSAoICsrZmlyaW5nSW5kZXggPCBsaXN0Lmxlbmd0aCApIHtcblxuXHRcdFx0XHRcdC8vIFJ1biBjYWxsYmFjayBhbmQgY2hlY2sgZm9yIGVhcmx5IHRlcm1pbmF0aW9uXG5cdFx0XHRcdFx0aWYgKCBsaXN0WyBmaXJpbmdJbmRleCBdLmFwcGx5KCBtZW1vcnlbIDAgXSwgbWVtb3J5WyAxIF0gKSA9PT0gZmFsc2UgJiZcblx0XHRcdFx0XHRcdG9wdGlvbnMuc3RvcE9uRmFsc2UgKSB7XG5cblx0XHRcdFx0XHRcdC8vIEp1bXAgdG8gZW5kIGFuZCBmb3JnZXQgdGhlIGRhdGEgc28gLmFkZCBkb2Vzbid0IHJlLWZpcmVcblx0XHRcdFx0XHRcdGZpcmluZ0luZGV4ID0gbGlzdC5sZW5ndGg7XG5cdFx0XHRcdFx0XHRtZW1vcnkgPSBmYWxzZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gRm9yZ2V0IHRoZSBkYXRhIGlmIHdlJ3JlIGRvbmUgd2l0aCBpdFxuXHRcdFx0aWYgKCAhb3B0aW9ucy5tZW1vcnkgKSB7XG5cdFx0XHRcdG1lbW9yeSA9IGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRmaXJpbmcgPSBmYWxzZTtcblxuXHRcdFx0Ly8gQ2xlYW4gdXAgaWYgd2UncmUgZG9uZSBmaXJpbmcgZm9yIGdvb2Rcblx0XHRcdGlmICggbG9ja2VkICkge1xuXG5cdFx0XHRcdC8vIEtlZXAgYW4gZW1wdHkgbGlzdCBpZiB3ZSBoYXZlIGRhdGEgZm9yIGZ1dHVyZSBhZGQgY2FsbHNcblx0XHRcdFx0aWYgKCBtZW1vcnkgKSB7XG5cdFx0XHRcdFx0bGlzdCA9IFtdO1xuXG5cdFx0XHRcdC8vIE90aGVyd2lzZSwgdGhpcyBvYmplY3QgaXMgc3BlbnRcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRsaXN0ID0gXCJcIjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHQvLyBBY3R1YWwgQ2FsbGJhY2tzIG9iamVjdFxuXHRcdHNlbGYgPSB7XG5cblx0XHRcdC8vIEFkZCBhIGNhbGxiYWNrIG9yIGEgY29sbGVjdGlvbiBvZiBjYWxsYmFja3MgdG8gdGhlIGxpc3Rcblx0XHRcdGFkZDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggbGlzdCApIHtcblxuXHRcdFx0XHRcdC8vIElmIHdlIGhhdmUgbWVtb3J5IGZyb20gYSBwYXN0IHJ1biwgd2Ugc2hvdWxkIGZpcmUgYWZ0ZXIgYWRkaW5nXG5cdFx0XHRcdFx0aWYgKCBtZW1vcnkgJiYgIWZpcmluZyApIHtcblx0XHRcdFx0XHRcdGZpcmluZ0luZGV4ID0gbGlzdC5sZW5ndGggLSAxO1xuXHRcdFx0XHRcdFx0cXVldWUucHVzaCggbWVtb3J5ICk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0KCBmdW5jdGlvbiBhZGQoIGFyZ3MgKSB7XG5cdFx0XHRcdFx0XHRqUXVlcnkuZWFjaCggYXJncywgZnVuY3Rpb24oIF8sIGFyZyApIHtcblx0XHRcdFx0XHRcdFx0aWYgKCBpc0Z1bmN0aW9uKCBhcmcgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoICFvcHRpb25zLnVuaXF1ZSB8fCAhc2VsZi5oYXMoIGFyZyApICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0bGlzdC5wdXNoKCBhcmcgKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIGFyZyAmJiBhcmcubGVuZ3RoICYmIHRvVHlwZSggYXJnICkgIT09IFwic3RyaW5nXCIgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBJbnNwZWN0IHJlY3Vyc2l2ZWx5XG5cdFx0XHRcdFx0XHRcdFx0YWRkKCBhcmcgKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdH0gKSggYXJndW1lbnRzICk7XG5cblx0XHRcdFx0XHRpZiAoIG1lbW9yeSAmJiAhZmlyaW5nICkge1xuXHRcdFx0XHRcdFx0ZmlyZSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cblx0XHRcdC8vIFJlbW92ZSBhIGNhbGxiYWNrIGZyb20gdGhlIGxpc3Rcblx0XHRcdHJlbW92ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGpRdWVyeS5lYWNoKCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBfLCBhcmcgKSB7XG5cdFx0XHRcdFx0dmFyIGluZGV4O1xuXHRcdFx0XHRcdHdoaWxlICggKCBpbmRleCA9IGpRdWVyeS5pbkFycmF5KCBhcmcsIGxpc3QsIGluZGV4ICkgKSA+IC0xICkge1xuXHRcdFx0XHRcdFx0bGlzdC5zcGxpY2UoIGluZGV4LCAxICk7XG5cblx0XHRcdFx0XHRcdC8vIEhhbmRsZSBmaXJpbmcgaW5kZXhlc1xuXHRcdFx0XHRcdFx0aWYgKCBpbmRleCA8PSBmaXJpbmdJbmRleCApIHtcblx0XHRcdFx0XHRcdFx0ZmlyaW5nSW5kZXgtLTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gKTtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBDaGVjayBpZiBhIGdpdmVuIGNhbGxiYWNrIGlzIGluIHRoZSBsaXN0LlxuXHRcdFx0Ly8gSWYgbm8gYXJndW1lbnQgaXMgZ2l2ZW4sIHJldHVybiB3aGV0aGVyIG9yIG5vdCBsaXN0IGhhcyBjYWxsYmFja3MgYXR0YWNoZWQuXG5cdFx0XHRoYXM6IGZ1bmN0aW9uKCBmbiApIHtcblx0XHRcdFx0cmV0dXJuIGZuID9cblx0XHRcdFx0XHRqUXVlcnkuaW5BcnJheSggZm4sIGxpc3QgKSA+IC0xIDpcblx0XHRcdFx0XHRsaXN0Lmxlbmd0aCA+IDA7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBSZW1vdmUgYWxsIGNhbGxiYWNrcyBmcm9tIHRoZSBsaXN0XG5cdFx0XHRlbXB0eTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggbGlzdCApIHtcblx0XHRcdFx0XHRsaXN0ID0gW107XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBEaXNhYmxlIC5maXJlIGFuZCAuYWRkXG5cdFx0XHQvLyBBYm9ydCBhbnkgY3VycmVudC9wZW5kaW5nIGV4ZWN1dGlvbnNcblx0XHRcdC8vIENsZWFyIGFsbCBjYWxsYmFja3MgYW5kIHZhbHVlc1xuXHRcdFx0ZGlzYWJsZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGxvY2tlZCA9IHF1ZXVlID0gW107XG5cdFx0XHRcdGxpc3QgPSBtZW1vcnkgPSBcIlwiO1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cdFx0XHRkaXNhYmxlZDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiAhbGlzdDtcblx0XHRcdH0sXG5cblx0XHRcdC8vIERpc2FibGUgLmZpcmVcblx0XHRcdC8vIEFsc28gZGlzYWJsZSAuYWRkIHVubGVzcyB3ZSBoYXZlIG1lbW9yeSAoc2luY2UgaXQgd291bGQgaGF2ZSBubyBlZmZlY3QpXG5cdFx0XHQvLyBBYm9ydCBhbnkgcGVuZGluZyBleGVjdXRpb25zXG5cdFx0XHRsb2NrOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0bG9ja2VkID0gcXVldWUgPSBbXTtcblx0XHRcdFx0aWYgKCAhbWVtb3J5ICYmICFmaXJpbmcgKSB7XG5cdFx0XHRcdFx0bGlzdCA9IG1lbW9yeSA9IFwiXCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXHRcdFx0bG9ja2VkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuICEhbG9ja2VkO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gQ2FsbCBhbGwgY2FsbGJhY2tzIHdpdGggdGhlIGdpdmVuIGNvbnRleHQgYW5kIGFyZ3VtZW50c1xuXHRcdFx0ZmlyZVdpdGg6IGZ1bmN0aW9uKCBjb250ZXh0LCBhcmdzICkge1xuXHRcdFx0XHRpZiAoICFsb2NrZWQgKSB7XG5cdFx0XHRcdFx0YXJncyA9IGFyZ3MgfHwgW107XG5cdFx0XHRcdFx0YXJncyA9IFsgY29udGV4dCwgYXJncy5zbGljZSA/IGFyZ3Muc2xpY2UoKSA6IGFyZ3MgXTtcblx0XHRcdFx0XHRxdWV1ZS5wdXNoKCBhcmdzICk7XG5cdFx0XHRcdFx0aWYgKCAhZmlyaW5nICkge1xuXHRcdFx0XHRcdFx0ZmlyZSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cblx0XHRcdC8vIENhbGwgYWxsIHRoZSBjYWxsYmFja3Mgd2l0aCB0aGUgZ2l2ZW4gYXJndW1lbnRzXG5cdFx0XHRmaXJlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0c2VsZi5maXJlV2l0aCggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gVG8ga25vdyBpZiB0aGUgY2FsbGJhY2tzIGhhdmUgYWxyZWFkeSBiZWVuIGNhbGxlZCBhdCBsZWFzdCBvbmNlXG5cdFx0XHRmaXJlZDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiAhIWZpcmVkO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0cmV0dXJuIHNlbGY7XG59O1xuXG5cbmZ1bmN0aW9uIElkZW50aXR5KCB2ICkge1xuXHRyZXR1cm4gdjtcbn1cbmZ1bmN0aW9uIFRocm93ZXIoIGV4ICkge1xuXHR0aHJvdyBleDtcbn1cblxuZnVuY3Rpb24gYWRvcHRWYWx1ZSggdmFsdWUsIHJlc29sdmUsIHJlamVjdCwgbm9WYWx1ZSApIHtcblx0dmFyIG1ldGhvZDtcblxuXHR0cnkge1xuXG5cdFx0Ly8gQ2hlY2sgZm9yIHByb21pc2UgYXNwZWN0IGZpcnN0IHRvIHByaXZpbGVnZSBzeW5jaHJvbm91cyBiZWhhdmlvclxuXHRcdGlmICggdmFsdWUgJiYgaXNGdW5jdGlvbiggKCBtZXRob2QgPSB2YWx1ZS5wcm9taXNlICkgKSApIHtcblx0XHRcdG1ldGhvZC5jYWxsKCB2YWx1ZSApLmRvbmUoIHJlc29sdmUgKS5mYWlsKCByZWplY3QgKTtcblxuXHRcdC8vIE90aGVyIHRoZW5hYmxlc1xuXHRcdH0gZWxzZSBpZiAoIHZhbHVlICYmIGlzRnVuY3Rpb24oICggbWV0aG9kID0gdmFsdWUudGhlbiApICkgKSB7XG5cdFx0XHRtZXRob2QuY2FsbCggdmFsdWUsIHJlc29sdmUsIHJlamVjdCApO1xuXG5cdFx0Ly8gT3RoZXIgbm9uLXRoZW5hYmxlc1xuXHRcdH0gZWxzZSB7XG5cblx0XHRcdC8vIENvbnRyb2wgYHJlc29sdmVgIGFyZ3VtZW50cyBieSBsZXR0aW5nIEFycmF5I3NsaWNlIGNhc3QgYm9vbGVhbiBgbm9WYWx1ZWAgdG8gaW50ZWdlcjpcblx0XHRcdC8vICogZmFsc2U6IFsgdmFsdWUgXS5zbGljZSggMCApID0+IHJlc29sdmUoIHZhbHVlIClcblx0XHRcdC8vICogdHJ1ZTogWyB2YWx1ZSBdLnNsaWNlKCAxICkgPT4gcmVzb2x2ZSgpXG5cdFx0XHRyZXNvbHZlLmFwcGx5KCB1bmRlZmluZWQsIFsgdmFsdWUgXS5zbGljZSggbm9WYWx1ZSApICk7XG5cdFx0fVxuXG5cdC8vIEZvciBQcm9taXNlcy9BKywgY29udmVydCBleGNlcHRpb25zIGludG8gcmVqZWN0aW9uc1xuXHQvLyBTaW5jZSBqUXVlcnkud2hlbiBkb2Vzbid0IHVud3JhcCB0aGVuYWJsZXMsIHdlIGNhbiBza2lwIHRoZSBleHRyYSBjaGVja3MgYXBwZWFyaW5nIGluXG5cdC8vIERlZmVycmVkI3RoZW4gdG8gY29uZGl0aW9uYWxseSBzdXBwcmVzcyByZWplY3Rpb24uXG5cdH0gY2F0Y2ggKCB2YWx1ZSApIHtcblxuXHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgNC4wIG9ubHlcblx0XHQvLyBTdHJpY3QgbW9kZSBmdW5jdGlvbnMgaW52b2tlZCB3aXRob3V0IC5jYWxsLy5hcHBseSBnZXQgZ2xvYmFsLW9iamVjdCBjb250ZXh0XG5cdFx0cmVqZWN0LmFwcGx5KCB1bmRlZmluZWQsIFsgdmFsdWUgXSApO1xuXHR9XG59XG5cbmpRdWVyeS5leHRlbmQoIHtcblxuXHREZWZlcnJlZDogZnVuY3Rpb24oIGZ1bmMgKSB7XG5cdFx0dmFyIHR1cGxlcyA9IFtcblxuXHRcdFx0XHQvLyBhY3Rpb24sIGFkZCBsaXN0ZW5lciwgY2FsbGJhY2tzLFxuXHRcdFx0XHQvLyAuLi4gLnRoZW4gaGFuZGxlcnMsIGFyZ3VtZW50IGluZGV4LCBbZmluYWwgc3RhdGVdXG5cdFx0XHRcdFsgXCJub3RpZnlcIiwgXCJwcm9ncmVzc1wiLCBqUXVlcnkuQ2FsbGJhY2tzKCBcIm1lbW9yeVwiICksXG5cdFx0XHRcdFx0alF1ZXJ5LkNhbGxiYWNrcyggXCJtZW1vcnlcIiApLCAyIF0sXG5cdFx0XHRcdFsgXCJyZXNvbHZlXCIsIFwiZG9uZVwiLCBqUXVlcnkuQ2FsbGJhY2tzKCBcIm9uY2UgbWVtb3J5XCIgKSxcblx0XHRcdFx0XHRqUXVlcnkuQ2FsbGJhY2tzKCBcIm9uY2UgbWVtb3J5XCIgKSwgMCwgXCJyZXNvbHZlZFwiIF0sXG5cdFx0XHRcdFsgXCJyZWplY3RcIiwgXCJmYWlsXCIsIGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLFxuXHRcdFx0XHRcdGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLCAxLCBcInJlamVjdGVkXCIgXVxuXHRcdFx0XSxcblx0XHRcdHN0YXRlID0gXCJwZW5kaW5nXCIsXG5cdFx0XHRwcm9taXNlID0ge1xuXHRcdFx0XHRzdGF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHN0YXRlO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRhbHdheXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGRlZmVycmVkLmRvbmUoIGFyZ3VtZW50cyApLmZhaWwoIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRcImNhdGNoXCI6IGZ1bmN0aW9uKCBmbiApIHtcblx0XHRcdFx0XHRyZXR1cm4gcHJvbWlzZS50aGVuKCBudWxsLCBmbiApO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIEtlZXAgcGlwZSBmb3IgYmFjay1jb21wYXRcblx0XHRcdFx0cGlwZTogZnVuY3Rpb24oIC8qIGZuRG9uZSwgZm5GYWlsLCBmblByb2dyZXNzICovICkge1xuXHRcdFx0XHRcdHZhciBmbnMgPSBhcmd1bWVudHM7XG5cblx0XHRcdFx0XHRyZXR1cm4galF1ZXJ5LkRlZmVycmVkKCBmdW5jdGlvbiggbmV3RGVmZXIgKSB7XG5cdFx0XHRcdFx0XHRqUXVlcnkuZWFjaCggdHVwbGVzLCBmdW5jdGlvbiggX2ksIHR1cGxlICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIE1hcCB0dXBsZXMgKHByb2dyZXNzLCBkb25lLCBmYWlsKSB0byBhcmd1bWVudHMgKGRvbmUsIGZhaWwsIHByb2dyZXNzKVxuXHRcdFx0XHRcdFx0XHR2YXIgZm4gPSBpc0Z1bmN0aW9uKCBmbnNbIHR1cGxlWyA0IF0gXSApICYmIGZuc1sgdHVwbGVbIDQgXSBdO1xuXG5cdFx0XHRcdFx0XHRcdC8vIGRlZmVycmVkLnByb2dyZXNzKGZ1bmN0aW9uKCkgeyBiaW5kIHRvIG5ld0RlZmVyIG9yIG5ld0RlZmVyLm5vdGlmeSB9KVxuXHRcdFx0XHRcdFx0XHQvLyBkZWZlcnJlZC5kb25lKGZ1bmN0aW9uKCkgeyBiaW5kIHRvIG5ld0RlZmVyIG9yIG5ld0RlZmVyLnJlc29sdmUgfSlcblx0XHRcdFx0XHRcdFx0Ly8gZGVmZXJyZWQuZmFpbChmdW5jdGlvbigpIHsgYmluZCB0byBuZXdEZWZlciBvciBuZXdEZWZlci5yZWplY3QgfSlcblx0XHRcdFx0XHRcdFx0ZGVmZXJyZWRbIHR1cGxlWyAxIF0gXSggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHJldHVybmVkID0gZm4gJiYgZm4uYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRcdFx0XHRcdGlmICggcmV0dXJuZWQgJiYgaXNGdW5jdGlvbiggcmV0dXJuZWQucHJvbWlzZSApICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuZWQucHJvbWlzZSgpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC5wcm9ncmVzcyggbmV3RGVmZXIubm90aWZ5IClcblx0XHRcdFx0XHRcdFx0XHRcdFx0LmRvbmUoIG5ld0RlZmVyLnJlc29sdmUgKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQuZmFpbCggbmV3RGVmZXIucmVqZWN0ICk7XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdG5ld0RlZmVyWyB0dXBsZVsgMCBdICsgXCJXaXRoXCIgXShcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0Zm4gPyBbIHJldHVybmVkIF0gOiBhcmd1bWVudHNcblx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRmbnMgPSBudWxsO1xuXHRcdFx0XHRcdH0gKS5wcm9taXNlKCk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHRoZW46IGZ1bmN0aW9uKCBvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCwgb25Qcm9ncmVzcyApIHtcblx0XHRcdFx0XHR2YXIgbWF4RGVwdGggPSAwO1xuXHRcdFx0XHRcdGZ1bmN0aW9uIHJlc29sdmUoIGRlcHRoLCBkZWZlcnJlZCwgaGFuZGxlciwgc3BlY2lhbCApIHtcblx0XHRcdFx0XHRcdHJldHVybiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0dmFyIHRoYXQgPSB0aGlzLFxuXHRcdFx0XHRcdFx0XHRcdGFyZ3MgPSBhcmd1bWVudHMsXG5cdFx0XHRcdFx0XHRcdFx0bWlnaHRUaHJvdyA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIHJldHVybmVkLCB0aGVuO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy4zLjMuM1xuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNTlcblx0XHRcdFx0XHRcdFx0XHRcdC8vIElnbm9yZSBkb3VibGUtcmVzb2x1dGlvbiBhdHRlbXB0c1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBkZXB0aCA8IG1heERlcHRoICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybmVkID0gaGFuZGxlci5hcHBseSggdGhhdCwgYXJncyApO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy4xXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC00OFxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCByZXR1cm5lZCA9PT0gZGVmZXJyZWQucHJvbWlzZSgpICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCBcIlRoZW5hYmxlIHNlbGYtcmVzb2x1dGlvblwiICk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb25zIDIuMy4zLjEsIDMuNVxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNTRcblx0XHRcdFx0XHRcdFx0XHRcdC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTc1XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBSZXRyaWV2ZSBgdGhlbmAgb25seSBvbmNlXG5cdFx0XHRcdFx0XHRcdFx0XHR0aGVuID0gcmV0dXJuZWQgJiZcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy40XG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTY0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIE9ubHkgY2hlY2sgb2JqZWN0cyBhbmQgZnVuY3Rpb25zIGZvciB0aGVuYWJpbGl0eVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQoIHR5cGVvZiByZXR1cm5lZCA9PT0gXCJvYmplY3RcIiB8fFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHR5cGVvZiByZXR1cm5lZCA9PT0gXCJmdW5jdGlvblwiICkgJiZcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuZWQudGhlbjtcblxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gSGFuZGxlIGEgcmV0dXJuZWQgdGhlbmFibGVcblx0XHRcdFx0XHRcdFx0XHRcdGlmICggaXNGdW5jdGlvbiggdGhlbiApICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFNwZWNpYWwgcHJvY2Vzc29ycyAobm90aWZ5KSBqdXN0IHdhaXQgZm9yIHJlc29sdXRpb25cblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBzcGVjaWFsICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoZW4uY2FsbChcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybmVkLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZSggbWF4RGVwdGgsIGRlZmVycmVkLCBJZGVudGl0eSwgc3BlY2lhbCApLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZSggbWF4RGVwdGgsIGRlZmVycmVkLCBUaHJvd2VyLCBzcGVjaWFsIClcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIE5vcm1hbCBwcm9jZXNzb3JzIChyZXNvbHZlKSBhbHNvIGhvb2sgaW50byBwcm9ncmVzc1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gLi4uYW5kIGRpc3JlZ2FyZCBvbGRlciByZXNvbHV0aW9uIHZhbHVlc1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG1heERlcHRoKys7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGVuLmNhbGwoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm5lZCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoIG1heERlcHRoLCBkZWZlcnJlZCwgSWRlbnRpdHksIHNwZWNpYWwgKSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoIG1heERlcHRoLCBkZWZlcnJlZCwgVGhyb3dlciwgc3BlY2lhbCApLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZSggbWF4RGVwdGgsIGRlZmVycmVkLCBJZGVudGl0eSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGVmZXJyZWQubm90aWZ5V2l0aCApXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBIYW5kbGUgYWxsIG90aGVyIHJldHVybmVkIHZhbHVlc1xuXHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBPbmx5IHN1YnN0aXR1dGUgaGFuZGxlcnMgcGFzcyBvbiBjb250ZXh0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGFuZCBtdWx0aXBsZSB2YWx1ZXMgKG5vbi1zcGVjIGJlaGF2aW9yKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIGhhbmRsZXIgIT09IElkZW50aXR5ICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoYXQgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0YXJncyA9IFsgcmV0dXJuZWQgXTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFByb2Nlc3MgdGhlIHZhbHVlKHMpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIERlZmF1bHQgcHJvY2VzcyBpcyByZXNvbHZlXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCggc3BlY2lhbCB8fCBkZWZlcnJlZC5yZXNvbHZlV2l0aCApKCB0aGF0LCBhcmdzICk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fSxcblxuXHRcdFx0XHRcdFx0XHRcdC8vIE9ubHkgbm9ybWFsIHByb2Nlc3NvcnMgKHJlc29sdmUpIGNhdGNoIGFuZCByZWplY3QgZXhjZXB0aW9uc1xuXHRcdFx0XHRcdFx0XHRcdHByb2Nlc3MgPSBzcGVjaWFsID9cblx0XHRcdFx0XHRcdFx0XHRcdG1pZ2h0VGhyb3cgOlxuXHRcdFx0XHRcdFx0XHRcdFx0ZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0bWlnaHRUaHJvdygpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9IGNhdGNoICggZSApIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggalF1ZXJ5LkRlZmVycmVkLmV4Y2VwdGlvbkhvb2sgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkuRGVmZXJyZWQuZXhjZXB0aW9uSG9vayggZSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cHJvY2Vzcy5lcnJvciApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjMuMy40LjFcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC02MVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIElnbm9yZSBwb3N0LXJlc29sdXRpb24gZXhjZXB0aW9uc1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggZGVwdGggKyAxID49IG1heERlcHRoICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBPbmx5IHN1YnN0aXR1dGUgaGFuZGxlcnMgcGFzcyBvbiBjb250ZXh0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBhbmQgbXVsdGlwbGUgdmFsdWVzIChub24tc3BlYyBiZWhhdmlvcilcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggaGFuZGxlciAhPT0gVGhyb3dlciApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhhdCA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YXJncyA9IFsgZSBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3RXaXRoKCB0aGF0LCBhcmdzICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjMuMy4xXG5cdFx0XHRcdFx0XHRcdC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTU3XG5cdFx0XHRcdFx0XHRcdC8vIFJlLXJlc29sdmUgcHJvbWlzZXMgaW1tZWRpYXRlbHkgdG8gZG9kZ2UgZmFsc2UgcmVqZWN0aW9uIGZyb21cblx0XHRcdFx0XHRcdFx0Ly8gc3Vic2VxdWVudCBlcnJvcnNcblx0XHRcdFx0XHRcdFx0aWYgKCBkZXB0aCApIHtcblx0XHRcdFx0XHRcdFx0XHRwcm9jZXNzKCk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBDYWxsIGFuIG9wdGlvbmFsIGhvb2sgdG8gcmVjb3JkIHRoZSBlcnJvciwgaW4gY2FzZSBvZiBleGNlcHRpb25cblx0XHRcdFx0XHRcdFx0XHQvLyBzaW5jZSBpdCdzIG90aGVyd2lzZSBsb3N0IHdoZW4gZXhlY3V0aW9uIGdvZXMgYXN5bmNcblx0XHRcdFx0XHRcdFx0XHRpZiAoIGpRdWVyeS5EZWZlcnJlZC5nZXRFcnJvckhvb2sgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRwcm9jZXNzLmVycm9yID0galF1ZXJ5LkRlZmVycmVkLmdldEVycm9ySG9vaygpO1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gVGhlIGRlcHJlY2F0ZWQgYWxpYXMgb2YgdGhlIGFib3ZlLiBXaGlsZSB0aGUgbmFtZSBzdWdnZXN0c1xuXHRcdFx0XHRcdFx0XHRcdC8vIHJldHVybmluZyB0aGUgc3RhY2ssIG5vdCBhbiBlcnJvciBpbnN0YW5jZSwgalF1ZXJ5IGp1c3QgcGFzc2VzXG5cdFx0XHRcdFx0XHRcdFx0Ly8gaXQgZGlyZWN0bHkgdG8gYGNvbnNvbGUud2FybmAgc28gYm90aCB3aWxsIHdvcms7IGFuIGluc3RhbmNlXG5cdFx0XHRcdFx0XHRcdFx0Ly8ganVzdCBiZXR0ZXIgY29vcGVyYXRlcyB3aXRoIHNvdXJjZSBtYXBzLlxuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIGpRdWVyeS5EZWZlcnJlZC5nZXRTdGFja0hvb2sgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRwcm9jZXNzLmVycm9yID0galF1ZXJ5LkRlZmVycmVkLmdldFN0YWNrSG9vaygpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR3aW5kb3cuc2V0VGltZW91dCggcHJvY2VzcyApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBqUXVlcnkuRGVmZXJyZWQoIGZ1bmN0aW9uKCBuZXdEZWZlciApIHtcblxuXHRcdFx0XHRcdFx0Ly8gcHJvZ3Jlc3NfaGFuZGxlcnMuYWRkKCAuLi4gKVxuXHRcdFx0XHRcdFx0dHVwbGVzWyAwIF1bIDMgXS5hZGQoXG5cdFx0XHRcdFx0XHRcdHJlc29sdmUoXG5cdFx0XHRcdFx0XHRcdFx0MCxcblx0XHRcdFx0XHRcdFx0XHRuZXdEZWZlcixcblx0XHRcdFx0XHRcdFx0XHRpc0Z1bmN0aW9uKCBvblByb2dyZXNzICkgP1xuXHRcdFx0XHRcdFx0XHRcdFx0b25Qcm9ncmVzcyA6XG5cdFx0XHRcdFx0XHRcdFx0XHRJZGVudGl0eSxcblx0XHRcdFx0XHRcdFx0XHRuZXdEZWZlci5ub3RpZnlXaXRoXG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRcdC8vIGZ1bGZpbGxlZF9oYW5kbGVycy5hZGQoIC4uLiApXG5cdFx0XHRcdFx0XHR0dXBsZXNbIDEgXVsgMyBdLmFkZChcblx0XHRcdFx0XHRcdFx0cmVzb2x2ZShcblx0XHRcdFx0XHRcdFx0XHQwLFxuXHRcdFx0XHRcdFx0XHRcdG5ld0RlZmVyLFxuXHRcdFx0XHRcdFx0XHRcdGlzRnVuY3Rpb24oIG9uRnVsZmlsbGVkICkgP1xuXHRcdFx0XHRcdFx0XHRcdFx0b25GdWxmaWxsZWQgOlxuXHRcdFx0XHRcdFx0XHRcdFx0SWRlbnRpdHlcblx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdFx0Ly8gcmVqZWN0ZWRfaGFuZGxlcnMuYWRkKCAuLi4gKVxuXHRcdFx0XHRcdFx0dHVwbGVzWyAyIF1bIDMgXS5hZGQoXG5cdFx0XHRcdFx0XHRcdHJlc29sdmUoXG5cdFx0XHRcdFx0XHRcdFx0MCxcblx0XHRcdFx0XHRcdFx0XHRuZXdEZWZlcixcblx0XHRcdFx0XHRcdFx0XHRpc0Z1bmN0aW9uKCBvblJlamVjdGVkICkgP1xuXHRcdFx0XHRcdFx0XHRcdFx0b25SZWplY3RlZCA6XG5cdFx0XHRcdFx0XHRcdFx0XHRUaHJvd2VyXG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fSApLnByb21pc2UoKTtcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBHZXQgYSBwcm9taXNlIGZvciB0aGlzIGRlZmVycmVkXG5cdFx0XHRcdC8vIElmIG9iaiBpcyBwcm92aWRlZCwgdGhlIHByb21pc2UgYXNwZWN0IGlzIGFkZGVkIHRvIHRoZSBvYmplY3Rcblx0XHRcdFx0cHJvbWlzZTogZnVuY3Rpb24oIG9iaiApIHtcblx0XHRcdFx0XHRyZXR1cm4gb2JqICE9IG51bGwgPyBqUXVlcnkuZXh0ZW5kKCBvYmosIHByb21pc2UgKSA6IHByb21pc2U7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRkZWZlcnJlZCA9IHt9O1xuXG5cdFx0Ly8gQWRkIGxpc3Qtc3BlY2lmaWMgbWV0aG9kc1xuXHRcdGpRdWVyeS5lYWNoKCB0dXBsZXMsIGZ1bmN0aW9uKCBpLCB0dXBsZSApIHtcblx0XHRcdHZhciBsaXN0ID0gdHVwbGVbIDIgXSxcblx0XHRcdFx0c3RhdGVTdHJpbmcgPSB0dXBsZVsgNSBdO1xuXG5cdFx0XHQvLyBwcm9taXNlLnByb2dyZXNzID0gbGlzdC5hZGRcblx0XHRcdC8vIHByb21pc2UuZG9uZSA9IGxpc3QuYWRkXG5cdFx0XHQvLyBwcm9taXNlLmZhaWwgPSBsaXN0LmFkZFxuXHRcdFx0cHJvbWlzZVsgdHVwbGVbIDEgXSBdID0gbGlzdC5hZGQ7XG5cblx0XHRcdC8vIEhhbmRsZSBzdGF0ZVxuXHRcdFx0aWYgKCBzdGF0ZVN0cmluZyApIHtcblx0XHRcdFx0bGlzdC5hZGQoXG5cdFx0XHRcdFx0ZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0XHRcdC8vIHN0YXRlID0gXCJyZXNvbHZlZFwiIChpLmUuLCBmdWxmaWxsZWQpXG5cdFx0XHRcdFx0XHQvLyBzdGF0ZSA9IFwicmVqZWN0ZWRcIlxuXHRcdFx0XHRcdFx0c3RhdGUgPSBzdGF0ZVN0cmluZztcblx0XHRcdFx0XHR9LFxuXG5cdFx0XHRcdFx0Ly8gcmVqZWN0ZWRfY2FsbGJhY2tzLmRpc2FibGVcblx0XHRcdFx0XHQvLyBmdWxmaWxsZWRfY2FsbGJhY2tzLmRpc2FibGVcblx0XHRcdFx0XHR0dXBsZXNbIDMgLSBpIF1bIDIgXS5kaXNhYmxlLFxuXG5cdFx0XHRcdFx0Ly8gcmVqZWN0ZWRfaGFuZGxlcnMuZGlzYWJsZVxuXHRcdFx0XHRcdC8vIGZ1bGZpbGxlZF9oYW5kbGVycy5kaXNhYmxlXG5cdFx0XHRcdFx0dHVwbGVzWyAzIC0gaSBdWyAzIF0uZGlzYWJsZSxcblxuXHRcdFx0XHRcdC8vIHByb2dyZXNzX2NhbGxiYWNrcy5sb2NrXG5cdFx0XHRcdFx0dHVwbGVzWyAwIF1bIDIgXS5sb2NrLFxuXG5cdFx0XHRcdFx0Ly8gcHJvZ3Jlc3NfaGFuZGxlcnMubG9ja1xuXHRcdFx0XHRcdHR1cGxlc1sgMCBdWyAzIF0ubG9ja1xuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBwcm9ncmVzc19oYW5kbGVycy5maXJlXG5cdFx0XHQvLyBmdWxmaWxsZWRfaGFuZGxlcnMuZmlyZVxuXHRcdFx0Ly8gcmVqZWN0ZWRfaGFuZGxlcnMuZmlyZVxuXHRcdFx0bGlzdC5hZGQoIHR1cGxlWyAzIF0uZmlyZSApO1xuXG5cdFx0XHQvLyBkZWZlcnJlZC5ub3RpZnkgPSBmdW5jdGlvbigpIHsgZGVmZXJyZWQubm90aWZ5V2l0aCguLi4pIH1cblx0XHRcdC8vIGRlZmVycmVkLnJlc29sdmUgPSBmdW5jdGlvbigpIHsgZGVmZXJyZWQucmVzb2x2ZVdpdGgoLi4uKSB9XG5cdFx0XHQvLyBkZWZlcnJlZC5yZWplY3QgPSBmdW5jdGlvbigpIHsgZGVmZXJyZWQucmVqZWN0V2l0aCguLi4pIH1cblx0XHRcdGRlZmVycmVkWyB0dXBsZVsgMCBdIF0gPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0ZGVmZXJyZWRbIHR1cGxlWyAwIF0gKyBcIldpdGhcIiBdKCB0aGlzID09PSBkZWZlcnJlZCA/IHVuZGVmaW5lZCA6IHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH07XG5cblx0XHRcdC8vIGRlZmVycmVkLm5vdGlmeVdpdGggPSBsaXN0LmZpcmVXaXRoXG5cdFx0XHQvLyBkZWZlcnJlZC5yZXNvbHZlV2l0aCA9IGxpc3QuZmlyZVdpdGhcblx0XHRcdC8vIGRlZmVycmVkLnJlamVjdFdpdGggPSBsaXN0LmZpcmVXaXRoXG5cdFx0XHRkZWZlcnJlZFsgdHVwbGVbIDAgXSArIFwiV2l0aFwiIF0gPSBsaXN0LmZpcmVXaXRoO1xuXHRcdH0gKTtcblxuXHRcdC8vIE1ha2UgdGhlIGRlZmVycmVkIGEgcHJvbWlzZVxuXHRcdHByb21pc2UucHJvbWlzZSggZGVmZXJyZWQgKTtcblxuXHRcdC8vIENhbGwgZ2l2ZW4gZnVuYyBpZiBhbnlcblx0XHRpZiAoIGZ1bmMgKSB7XG5cdFx0XHRmdW5jLmNhbGwoIGRlZmVycmVkLCBkZWZlcnJlZCApO1xuXHRcdH1cblxuXHRcdC8vIEFsbCBkb25lIVxuXHRcdHJldHVybiBkZWZlcnJlZDtcblx0fSxcblxuXHQvLyBEZWZlcnJlZCBoZWxwZXJcblx0d2hlbjogZnVuY3Rpb24oIHNpbmdsZVZhbHVlICkge1xuXHRcdHZhclxuXG5cdFx0XHQvLyBjb3VudCBvZiB1bmNvbXBsZXRlZCBzdWJvcmRpbmF0ZXNcblx0XHRcdHJlbWFpbmluZyA9IGFyZ3VtZW50cy5sZW5ndGgsXG5cblx0XHRcdC8vIGNvdW50IG9mIHVucHJvY2Vzc2VkIGFyZ3VtZW50c1xuXHRcdFx0aSA9IHJlbWFpbmluZyxcblxuXHRcdFx0Ly8gc3Vib3JkaW5hdGUgZnVsZmlsbG1lbnQgZGF0YVxuXHRcdFx0cmVzb2x2ZUNvbnRleHRzID0gQXJyYXkoIGkgKSxcblx0XHRcdHJlc29sdmVWYWx1ZXMgPSBzbGljZS5jYWxsKCBhcmd1bWVudHMgKSxcblxuXHRcdFx0Ly8gdGhlIHByaW1hcnkgRGVmZXJyZWRcblx0XHRcdHByaW1hcnkgPSBqUXVlcnkuRGVmZXJyZWQoKSxcblxuXHRcdFx0Ly8gc3Vib3JkaW5hdGUgY2FsbGJhY2sgZmFjdG9yeVxuXHRcdFx0dXBkYXRlRnVuYyA9IGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0XHRcdHJlc29sdmVDb250ZXh0c1sgaSBdID0gdGhpcztcblx0XHRcdFx0XHRyZXNvbHZlVmFsdWVzWyBpIF0gPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IHNsaWNlLmNhbGwoIGFyZ3VtZW50cyApIDogdmFsdWU7XG5cdFx0XHRcdFx0aWYgKCAhKCAtLXJlbWFpbmluZyApICkge1xuXHRcdFx0XHRcdFx0cHJpbWFyeS5yZXNvbHZlV2l0aCggcmVzb2x2ZUNvbnRleHRzLCByZXNvbHZlVmFsdWVzICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdFx0fTtcblxuXHRcdC8vIFNpbmdsZS0gYW5kIGVtcHR5IGFyZ3VtZW50cyBhcmUgYWRvcHRlZCBsaWtlIFByb21pc2UucmVzb2x2ZVxuXHRcdGlmICggcmVtYWluaW5nIDw9IDEgKSB7XG5cdFx0XHRhZG9wdFZhbHVlKCBzaW5nbGVWYWx1ZSwgcHJpbWFyeS5kb25lKCB1cGRhdGVGdW5jKCBpICkgKS5yZXNvbHZlLCBwcmltYXJ5LnJlamVjdCxcblx0XHRcdFx0IXJlbWFpbmluZyApO1xuXG5cdFx0XHQvLyBVc2UgLnRoZW4oKSB0byB1bndyYXAgc2Vjb25kYXJ5IHRoZW5hYmxlcyAoY2YuIGdoLTMwMDApXG5cdFx0XHRpZiAoIHByaW1hcnkuc3RhdGUoKSA9PT0gXCJwZW5kaW5nXCIgfHxcblx0XHRcdFx0aXNGdW5jdGlvbiggcmVzb2x2ZVZhbHVlc1sgaSBdICYmIHJlc29sdmVWYWx1ZXNbIGkgXS50aGVuICkgKSB7XG5cblx0XHRcdFx0cmV0dXJuIHByaW1hcnkudGhlbigpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIE11bHRpcGxlIGFyZ3VtZW50cyBhcmUgYWdncmVnYXRlZCBsaWtlIFByb21pc2UuYWxsIGFycmF5IGVsZW1lbnRzXG5cdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRhZG9wdFZhbHVlKCByZXNvbHZlVmFsdWVzWyBpIF0sIHVwZGF0ZUZ1bmMoIGkgKSwgcHJpbWFyeS5yZWplY3QgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcHJpbWFyeS5wcm9taXNlKCk7XG5cdH1cbn0gKTtcblxuXG4vLyBUaGVzZSB1c3VhbGx5IGluZGljYXRlIGEgcHJvZ3JhbW1lciBtaXN0YWtlIGR1cmluZyBkZXZlbG9wbWVudCxcbi8vIHdhcm4gYWJvdXQgdGhlbSBBU0FQIHJhdGhlciB0aGFuIHN3YWxsb3dpbmcgdGhlbSBieSBkZWZhdWx0LlxudmFyIHJlcnJvck5hbWVzID0gL14oRXZhbHxJbnRlcm5hbHxSYW5nZXxSZWZlcmVuY2V8U3ludGF4fFR5cGV8VVJJKUVycm9yJC87XG5cbi8vIElmIGBqUXVlcnkuRGVmZXJyZWQuZ2V0RXJyb3JIb29rYCBpcyBkZWZpbmVkLCBgYXN5bmNFcnJvcmAgaXMgYW4gZXJyb3Jcbi8vIGNhcHR1cmVkIGJlZm9yZSB0aGUgYXN5bmMgYmFycmllciB0byBnZXQgdGhlIG9yaWdpbmFsIGVycm9yIGNhdXNlXG4vLyB3aGljaCBtYXkgb3RoZXJ3aXNlIGJlIGhpZGRlbi5cbmpRdWVyeS5EZWZlcnJlZC5leGNlcHRpb25Ib29rID0gZnVuY3Rpb24oIGVycm9yLCBhc3luY0Vycm9yICkge1xuXG5cdC8vIFN1cHBvcnQ6IElFIDggLSA5IG9ubHlcblx0Ly8gQ29uc29sZSBleGlzdHMgd2hlbiBkZXYgdG9vbHMgYXJlIG9wZW4sIHdoaWNoIGNhbiBoYXBwZW4gYXQgYW55IHRpbWVcblx0aWYgKCB3aW5kb3cuY29uc29sZSAmJiB3aW5kb3cuY29uc29sZS53YXJuICYmIGVycm9yICYmIHJlcnJvck5hbWVzLnRlc3QoIGVycm9yLm5hbWUgKSApIHtcblx0XHR3aW5kb3cuY29uc29sZS53YXJuKCBcImpRdWVyeS5EZWZlcnJlZCBleGNlcHRpb246IFwiICsgZXJyb3IubWVzc2FnZSxcblx0XHRcdGVycm9yLnN0YWNrLCBhc3luY0Vycm9yICk7XG5cdH1cbn07XG5cblxuXG5cbmpRdWVyeS5yZWFkeUV4Y2VwdGlvbiA9IGZ1bmN0aW9uKCBlcnJvciApIHtcblx0d2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdHRocm93IGVycm9yO1xuXHR9ICk7XG59O1xuXG5cblxuXG4vLyBUaGUgZGVmZXJyZWQgdXNlZCBvbiBET00gcmVhZHlcbnZhciByZWFkeUxpc3QgPSBqUXVlcnkuRGVmZXJyZWQoKTtcblxualF1ZXJ5LmZuLnJlYWR5ID0gZnVuY3Rpb24oIGZuICkge1xuXG5cdHJlYWR5TGlzdFxuXHRcdC50aGVuKCBmbiApXG5cblx0XHQvLyBXcmFwIGpRdWVyeS5yZWFkeUV4Y2VwdGlvbiBpbiBhIGZ1bmN0aW9uIHNvIHRoYXQgdGhlIGxvb2t1cFxuXHRcdC8vIGhhcHBlbnMgYXQgdGhlIHRpbWUgb2YgZXJyb3IgaGFuZGxpbmcgaW5zdGVhZCBvZiBjYWxsYmFja1xuXHRcdC8vIHJlZ2lzdHJhdGlvbi5cblx0XHQuY2F0Y2goIGZ1bmN0aW9uKCBlcnJvciApIHtcblx0XHRcdGpRdWVyeS5yZWFkeUV4Y2VwdGlvbiggZXJyb3IgKTtcblx0XHR9ICk7XG5cblx0cmV0dXJuIHRoaXM7XG59O1xuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cblx0Ly8gSXMgdGhlIERPTSByZWFkeSB0byBiZSB1c2VkPyBTZXQgdG8gdHJ1ZSBvbmNlIGl0IG9jY3Vycy5cblx0aXNSZWFkeTogZmFsc2UsXG5cblx0Ly8gQSBjb3VudGVyIHRvIHRyYWNrIGhvdyBtYW55IGl0ZW1zIHRvIHdhaXQgZm9yIGJlZm9yZVxuXHQvLyB0aGUgcmVhZHkgZXZlbnQgZmlyZXMuIFNlZSB0cmFjLTY3ODFcblx0cmVhZHlXYWl0OiAxLFxuXG5cdC8vIEhhbmRsZSB3aGVuIHRoZSBET00gaXMgcmVhZHlcblx0cmVhZHk6IGZ1bmN0aW9uKCB3YWl0ICkge1xuXG5cdFx0Ly8gQWJvcnQgaWYgdGhlcmUgYXJlIHBlbmRpbmcgaG9sZHMgb3Igd2UncmUgYWxyZWFkeSByZWFkeVxuXHRcdGlmICggd2FpdCA9PT0gdHJ1ZSA/IC0talF1ZXJ5LnJlYWR5V2FpdCA6IGpRdWVyeS5pc1JlYWR5ICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIFJlbWVtYmVyIHRoYXQgdGhlIERPTSBpcyByZWFkeVxuXHRcdGpRdWVyeS5pc1JlYWR5ID0gdHJ1ZTtcblxuXHRcdC8vIElmIGEgbm9ybWFsIERPTSBSZWFkeSBldmVudCBmaXJlZCwgZGVjcmVtZW50LCBhbmQgd2FpdCBpZiBuZWVkIGJlXG5cdFx0aWYgKCB3YWl0ICE9PSB0cnVlICYmIC0talF1ZXJ5LnJlYWR5V2FpdCA+IDAgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gSWYgdGhlcmUgYXJlIGZ1bmN0aW9ucyBib3VuZCwgdG8gZXhlY3V0ZVxuXHRcdHJlYWR5TGlzdC5yZXNvbHZlV2l0aCggZG9jdW1lbnQsIFsgalF1ZXJ5IF0gKTtcblx0fVxufSApO1xuXG5qUXVlcnkucmVhZHkudGhlbiA9IHJlYWR5TGlzdC50aGVuO1xuXG4vLyBUaGUgcmVhZHkgZXZlbnQgaGFuZGxlciBhbmQgc2VsZiBjbGVhbnVwIG1ldGhvZFxuZnVuY3Rpb24gY29tcGxldGVkKCkge1xuXHRkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCBcIkRPTUNvbnRlbnRMb2FkZWRcIiwgY29tcGxldGVkICk7XG5cdHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCBcImxvYWRcIiwgY29tcGxldGVkICk7XG5cdGpRdWVyeS5yZWFkeSgpO1xufVxuXG4vLyBDYXRjaCBjYXNlcyB3aGVyZSAkKGRvY3VtZW50KS5yZWFkeSgpIGlzIGNhbGxlZFxuLy8gYWZ0ZXIgdGhlIGJyb3dzZXIgZXZlbnQgaGFzIGFscmVhZHkgb2NjdXJyZWQuXG4vLyBTdXBwb3J0OiBJRSA8PTkgLSAxMCBvbmx5XG4vLyBPbGRlciBJRSBzb21ldGltZXMgc2lnbmFscyBcImludGVyYWN0aXZlXCIgdG9vIHNvb25cbmlmICggZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gXCJjb21wbGV0ZVwiIHx8XG5cdCggZG9jdW1lbnQucmVhZHlTdGF0ZSAhPT0gXCJsb2FkaW5nXCIgJiYgIWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbCApICkge1xuXG5cdC8vIEhhbmRsZSBpdCBhc3luY2hyb25vdXNseSB0byBhbGxvdyBzY3JpcHRzIHRoZSBvcHBvcnR1bml0eSB0byBkZWxheSByZWFkeVxuXHR3aW5kb3cuc2V0VGltZW91dCggalF1ZXJ5LnJlYWR5ICk7XG5cbn0gZWxzZSB7XG5cblx0Ly8gVXNlIHRoZSBoYW5keSBldmVudCBjYWxsYmFja1xuXHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCBcIkRPTUNvbnRlbnRMb2FkZWRcIiwgY29tcGxldGVkICk7XG5cblx0Ly8gQSBmYWxsYmFjayB0byB3aW5kb3cub25sb2FkLCB0aGF0IHdpbGwgYWx3YXlzIHdvcmtcblx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIFwibG9hZFwiLCBjb21wbGV0ZWQgKTtcbn1cblxuXG5cblxuLy8gTXVsdGlmdW5jdGlvbmFsIG1ldGhvZCB0byBnZXQgYW5kIHNldCB2YWx1ZXMgb2YgYSBjb2xsZWN0aW9uXG4vLyBUaGUgdmFsdWUvcyBjYW4gb3B0aW9uYWxseSBiZSBleGVjdXRlZCBpZiBpdCdzIGEgZnVuY3Rpb25cbnZhciBhY2Nlc3MgPSBmdW5jdGlvbiggZWxlbXMsIGZuLCBrZXksIHZhbHVlLCBjaGFpbmFibGUsIGVtcHR5R2V0LCByYXcgKSB7XG5cdHZhciBpID0gMCxcblx0XHRsZW4gPSBlbGVtcy5sZW5ndGgsXG5cdFx0YnVsayA9IGtleSA9PSBudWxsO1xuXG5cdC8vIFNldHMgbWFueSB2YWx1ZXNcblx0aWYgKCB0b1R5cGUoIGtleSApID09PSBcIm9iamVjdFwiICkge1xuXHRcdGNoYWluYWJsZSA9IHRydWU7XG5cdFx0Zm9yICggaSBpbiBrZXkgKSB7XG5cdFx0XHRhY2Nlc3MoIGVsZW1zLCBmbiwgaSwga2V5WyBpIF0sIHRydWUsIGVtcHR5R2V0LCByYXcgKTtcblx0XHR9XG5cblx0Ly8gU2V0cyBvbmUgdmFsdWVcblx0fSBlbHNlIGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRjaGFpbmFibGUgPSB0cnVlO1xuXG5cdFx0aWYgKCAhaXNGdW5jdGlvbiggdmFsdWUgKSApIHtcblx0XHRcdHJhdyA9IHRydWU7XG5cdFx0fVxuXG5cdFx0aWYgKCBidWxrICkge1xuXG5cdFx0XHQvLyBCdWxrIG9wZXJhdGlvbnMgcnVuIGFnYWluc3QgdGhlIGVudGlyZSBzZXRcblx0XHRcdGlmICggcmF3ICkge1xuXHRcdFx0XHRmbi5jYWxsKCBlbGVtcywgdmFsdWUgKTtcblx0XHRcdFx0Zm4gPSBudWxsO1xuXG5cdFx0XHQvLyAuLi5leGNlcHQgd2hlbiBleGVjdXRpbmcgZnVuY3Rpb24gdmFsdWVzXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRidWxrID0gZm47XG5cdFx0XHRcdGZuID0gZnVuY3Rpb24oIGVsZW0sIF9rZXksIHZhbHVlICkge1xuXHRcdFx0XHRcdHJldHVybiBidWxrLmNhbGwoIGpRdWVyeSggZWxlbSApLCB2YWx1ZSApO1xuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggZm4gKSB7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdFx0Zm4oXG5cdFx0XHRcdFx0ZWxlbXNbIGkgXSwga2V5LCByYXcgP1xuXHRcdFx0XHRcdFx0dmFsdWUgOlxuXHRcdFx0XHRcdFx0dmFsdWUuY2FsbCggZWxlbXNbIGkgXSwgaSwgZm4oIGVsZW1zWyBpIF0sIGtleSApIClcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRpZiAoIGNoYWluYWJsZSApIHtcblx0XHRyZXR1cm4gZWxlbXM7XG5cdH1cblxuXHQvLyBHZXRzXG5cdGlmICggYnVsayApIHtcblx0XHRyZXR1cm4gZm4uY2FsbCggZWxlbXMgKTtcblx0fVxuXG5cdHJldHVybiBsZW4gPyBmbiggZWxlbXNbIDAgXSwga2V5ICkgOiBlbXB0eUdldDtcbn07XG5cblxuLy8gTWF0Y2hlcyBkYXNoZWQgc3RyaW5nIGZvciBjYW1lbGl6aW5nXG52YXIgcm1zUHJlZml4ID0gL14tbXMtLyxcblx0cmRhc2hBbHBoYSA9IC8tKFthLXpdKS9nO1xuXG4vLyBVc2VkIGJ5IGNhbWVsQ2FzZSBhcyBjYWxsYmFjayB0byByZXBsYWNlKClcbmZ1bmN0aW9uIGZjYW1lbENhc2UoIF9hbGwsIGxldHRlciApIHtcblx0cmV0dXJuIGxldHRlci50b1VwcGVyQ2FzZSgpO1xufVxuXG4vLyBDb252ZXJ0IGRhc2hlZCB0byBjYW1lbENhc2U7IHVzZWQgYnkgdGhlIGNzcyBhbmQgZGF0YSBtb2R1bGVzXG4vLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSwgRWRnZSAxMiAtIDE1XG4vLyBNaWNyb3NvZnQgZm9yZ290IHRvIGh1bXAgdGhlaXIgdmVuZG9yIHByZWZpeCAodHJhYy05NTcyKVxuZnVuY3Rpb24gY2FtZWxDYXNlKCBzdHJpbmcgKSB7XG5cdHJldHVybiBzdHJpbmcucmVwbGFjZSggcm1zUHJlZml4LCBcIm1zLVwiICkucmVwbGFjZSggcmRhc2hBbHBoYSwgZmNhbWVsQ2FzZSApO1xufVxudmFyIGFjY2VwdERhdGEgPSBmdW5jdGlvbiggb3duZXIgKSB7XG5cblx0Ly8gQWNjZXB0cyBvbmx5OlxuXHQvLyAgLSBOb2RlXG5cdC8vICAgIC0gTm9kZS5FTEVNRU5UX05PREVcblx0Ly8gICAgLSBOb2RlLkRPQ1VNRU5UX05PREVcblx0Ly8gIC0gT2JqZWN0XG5cdC8vICAgIC0gQW55XG5cdHJldHVybiBvd25lci5ub2RlVHlwZSA9PT0gMSB8fCBvd25lci5ub2RlVHlwZSA9PT0gOSB8fCAhKCArb3duZXIubm9kZVR5cGUgKTtcbn07XG5cblxuXG5cbmZ1bmN0aW9uIERhdGEoKSB7XG5cdHRoaXMuZXhwYW5kbyA9IGpRdWVyeS5leHBhbmRvICsgRGF0YS51aWQrKztcbn1cblxuRGF0YS51aWQgPSAxO1xuXG5EYXRhLnByb3RvdHlwZSA9IHtcblxuXHRjYWNoZTogZnVuY3Rpb24oIG93bmVyICkge1xuXG5cdFx0Ly8gQ2hlY2sgaWYgdGhlIG93bmVyIG9iamVjdCBhbHJlYWR5IGhhcyBhIGNhY2hlXG5cdFx0dmFyIHZhbHVlID0gb3duZXJbIHRoaXMuZXhwYW5kbyBdO1xuXG5cdFx0Ly8gSWYgbm90LCBjcmVhdGUgb25lXG5cdFx0aWYgKCAhdmFsdWUgKSB7XG5cdFx0XHR2YWx1ZSA9IHt9O1xuXG5cdFx0XHQvLyBXZSBjYW4gYWNjZXB0IGRhdGEgZm9yIG5vbi1lbGVtZW50IG5vZGVzIGluIG1vZGVybiBicm93c2Vycyxcblx0XHRcdC8vIGJ1dCB3ZSBzaG91bGQgbm90LCBzZWUgdHJhYy04MzM1LlxuXHRcdFx0Ly8gQWx3YXlzIHJldHVybiBhbiBlbXB0eSBvYmplY3QuXG5cdFx0XHRpZiAoIGFjY2VwdERhdGEoIG93bmVyICkgKSB7XG5cblx0XHRcdFx0Ly8gSWYgaXQgaXMgYSBub2RlIHVubGlrZWx5IHRvIGJlIHN0cmluZ2lmeS1lZCBvciBsb29wZWQgb3ZlclxuXHRcdFx0XHQvLyB1c2UgcGxhaW4gYXNzaWdubWVudFxuXHRcdFx0XHRpZiAoIG93bmVyLm5vZGVUeXBlICkge1xuXHRcdFx0XHRcdG93bmVyWyB0aGlzLmV4cGFuZG8gXSA9IHZhbHVlO1xuXG5cdFx0XHRcdC8vIE90aGVyd2lzZSBzZWN1cmUgaXQgaW4gYSBub24tZW51bWVyYWJsZSBwcm9wZXJ0eVxuXHRcdFx0XHQvLyBjb25maWd1cmFibGUgbXVzdCBiZSB0cnVlIHRvIGFsbG93IHRoZSBwcm9wZXJ0eSB0byBiZVxuXHRcdFx0XHQvLyBkZWxldGVkIHdoZW4gZGF0YSBpcyByZW1vdmVkXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KCBvd25lciwgdGhpcy5leHBhbmRvLCB7XG5cdFx0XHRcdFx0XHR2YWx1ZTogdmFsdWUsXG5cdFx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWVcblx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdmFsdWU7XG5cdH0sXG5cdHNldDogZnVuY3Rpb24oIG93bmVyLCBkYXRhLCB2YWx1ZSApIHtcblx0XHR2YXIgcHJvcCxcblx0XHRcdGNhY2hlID0gdGhpcy5jYWNoZSggb3duZXIgKTtcblxuXHRcdC8vIEhhbmRsZTogWyBvd25lciwga2V5LCB2YWx1ZSBdIGFyZ3Ncblx0XHQvLyBBbHdheXMgdXNlIGNhbWVsQ2FzZSBrZXkgKGdoLTIyNTcpXG5cdFx0aWYgKCB0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdGNhY2hlWyBjYW1lbENhc2UoIGRhdGEgKSBdID0gdmFsdWU7XG5cblx0XHQvLyBIYW5kbGU6IFsgb3duZXIsIHsgcHJvcGVydGllcyB9IF0gYXJnc1xuXHRcdH0gZWxzZSB7XG5cblx0XHRcdC8vIENvcHkgdGhlIHByb3BlcnRpZXMgb25lLWJ5LW9uZSB0byB0aGUgY2FjaGUgb2JqZWN0XG5cdFx0XHRmb3IgKCBwcm9wIGluIGRhdGEgKSB7XG5cdFx0XHRcdGNhY2hlWyBjYW1lbENhc2UoIHByb3AgKSBdID0gZGF0YVsgcHJvcCBdO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gY2FjaGU7XG5cdH0sXG5cdGdldDogZnVuY3Rpb24oIG93bmVyLCBrZXkgKSB7XG5cdFx0cmV0dXJuIGtleSA9PT0gdW5kZWZpbmVkID9cblx0XHRcdHRoaXMuY2FjaGUoIG93bmVyICkgOlxuXG5cdFx0XHQvLyBBbHdheXMgdXNlIGNhbWVsQ2FzZSBrZXkgKGdoLTIyNTcpXG5cdFx0XHRvd25lclsgdGhpcy5leHBhbmRvIF0gJiYgb3duZXJbIHRoaXMuZXhwYW5kbyBdWyBjYW1lbENhc2UoIGtleSApIF07XG5cdH0sXG5cdGFjY2VzczogZnVuY3Rpb24oIG93bmVyLCBrZXksIHZhbHVlICkge1xuXG5cdFx0Ly8gSW4gY2FzZXMgd2hlcmUgZWl0aGVyOlxuXHRcdC8vXG5cdFx0Ly8gICAxLiBObyBrZXkgd2FzIHNwZWNpZmllZFxuXHRcdC8vICAgMi4gQSBzdHJpbmcga2V5IHdhcyBzcGVjaWZpZWQsIGJ1dCBubyB2YWx1ZSBwcm92aWRlZFxuXHRcdC8vXG5cdFx0Ly8gVGFrZSB0aGUgXCJyZWFkXCIgcGF0aCBhbmQgYWxsb3cgdGhlIGdldCBtZXRob2QgdG8gZGV0ZXJtaW5lXG5cdFx0Ly8gd2hpY2ggdmFsdWUgdG8gcmV0dXJuLCByZXNwZWN0aXZlbHkgZWl0aGVyOlxuXHRcdC8vXG5cdFx0Ly8gICAxLiBUaGUgZW50aXJlIGNhY2hlIG9iamVjdFxuXHRcdC8vICAgMi4gVGhlIGRhdGEgc3RvcmVkIGF0IHRoZSBrZXlcblx0XHQvL1xuXHRcdGlmICgga2V5ID09PSB1bmRlZmluZWQgfHxcblx0XHRcdFx0KCAoIGtleSAmJiB0eXBlb2Yga2V5ID09PSBcInN0cmluZ1wiICkgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCApICkge1xuXG5cdFx0XHRyZXR1cm4gdGhpcy5nZXQoIG93bmVyLCBrZXkgKTtcblx0XHR9XG5cblx0XHQvLyBXaGVuIHRoZSBrZXkgaXMgbm90IGEgc3RyaW5nLCBvciBib3RoIGEga2V5IGFuZCB2YWx1ZVxuXHRcdC8vIGFyZSBzcGVjaWZpZWQsIHNldCBvciBleHRlbmQgKGV4aXN0aW5nIG9iamVjdHMpIHdpdGggZWl0aGVyOlxuXHRcdC8vXG5cdFx0Ly8gICAxLiBBbiBvYmplY3Qgb2YgcHJvcGVydGllc1xuXHRcdC8vICAgMi4gQSBrZXkgYW5kIHZhbHVlXG5cdFx0Ly9cblx0XHR0aGlzLnNldCggb3duZXIsIGtleSwgdmFsdWUgKTtcblxuXHRcdC8vIFNpbmNlIHRoZSBcInNldFwiIHBhdGggY2FuIGhhdmUgdHdvIHBvc3NpYmxlIGVudHJ5IHBvaW50c1xuXHRcdC8vIHJldHVybiB0aGUgZXhwZWN0ZWQgZGF0YSBiYXNlZCBvbiB3aGljaCBwYXRoIHdhcyB0YWtlblsqXVxuXHRcdHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiBrZXk7XG5cdH0sXG5cdHJlbW92ZTogZnVuY3Rpb24oIG93bmVyLCBrZXkgKSB7XG5cdFx0dmFyIGksXG5cdFx0XHRjYWNoZSA9IG93bmVyWyB0aGlzLmV4cGFuZG8gXTtcblxuXHRcdGlmICggY2FjaGUgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIGtleSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHQvLyBTdXBwb3J0IGFycmF5IG9yIHNwYWNlIHNlcGFyYXRlZCBzdHJpbmcgb2Yga2V5c1xuXHRcdFx0aWYgKCBBcnJheS5pc0FycmF5KCBrZXkgKSApIHtcblxuXHRcdFx0XHQvLyBJZiBrZXkgaXMgYW4gYXJyYXkgb2Yga2V5cy4uLlxuXHRcdFx0XHQvLyBXZSBhbHdheXMgc2V0IGNhbWVsQ2FzZSBrZXlzLCBzbyByZW1vdmUgdGhhdC5cblx0XHRcdFx0a2V5ID0ga2V5Lm1hcCggY2FtZWxDYXNlICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRrZXkgPSBjYW1lbENhc2UoIGtleSApO1xuXG5cdFx0XHRcdC8vIElmIGEga2V5IHdpdGggdGhlIHNwYWNlcyBleGlzdHMsIHVzZSBpdC5cblx0XHRcdFx0Ly8gT3RoZXJ3aXNlLCBjcmVhdGUgYW4gYXJyYXkgYnkgbWF0Y2hpbmcgbm9uLXdoaXRlc3BhY2Vcblx0XHRcdFx0a2V5ID0ga2V5IGluIGNhY2hlID9cblx0XHRcdFx0XHRbIGtleSBdIDpcblx0XHRcdFx0XHQoIGtleS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFtdICk7XG5cdFx0XHR9XG5cblx0XHRcdGkgPSBrZXkubGVuZ3RoO1xuXG5cdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0ZGVsZXRlIGNhY2hlWyBrZXlbIGkgXSBdO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFJlbW92ZSB0aGUgZXhwYW5kbyBpZiB0aGVyZSdzIG5vIG1vcmUgZGF0YVxuXHRcdGlmICgga2V5ID09PSB1bmRlZmluZWQgfHwgalF1ZXJ5LmlzRW1wdHlPYmplY3QoIGNhY2hlICkgKSB7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IENocm9tZSA8PTM1IC0gNDVcblx0XHRcdC8vIFdlYmtpdCAmIEJsaW5rIHBlcmZvcm1hbmNlIHN1ZmZlcnMgd2hlbiBkZWxldGluZyBwcm9wZXJ0aWVzXG5cdFx0XHQvLyBmcm9tIERPTSBub2Rlcywgc28gc2V0IHRvIHVuZGVmaW5lZCBpbnN0ZWFkXG5cdFx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0zNzg2MDcgKGJ1ZyByZXN0cmljdGVkKVxuXHRcdFx0aWYgKCBvd25lci5ub2RlVHlwZSApIHtcblx0XHRcdFx0b3duZXJbIHRoaXMuZXhwYW5kbyBdID0gdW5kZWZpbmVkO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZGVsZXRlIG93bmVyWyB0aGlzLmV4cGFuZG8gXTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cdGhhc0RhdGE6IGZ1bmN0aW9uKCBvd25lciApIHtcblx0XHR2YXIgY2FjaGUgPSBvd25lclsgdGhpcy5leHBhbmRvIF07XG5cdFx0cmV0dXJuIGNhY2hlICE9PSB1bmRlZmluZWQgJiYgIWpRdWVyeS5pc0VtcHR5T2JqZWN0KCBjYWNoZSApO1xuXHR9XG59O1xudmFyIGRhdGFQcml2ID0gbmV3IERhdGEoKTtcblxudmFyIGRhdGFVc2VyID0gbmV3IERhdGEoKTtcblxuXG5cbi8vXHRJbXBsZW1lbnRhdGlvbiBTdW1tYXJ5XG4vL1xuLy9cdDEuIEVuZm9yY2UgQVBJIHN1cmZhY2UgYW5kIHNlbWFudGljIGNvbXBhdGliaWxpdHkgd2l0aCAxLjkueCBicmFuY2hcbi8vXHQyLiBJbXByb3ZlIHRoZSBtb2R1bGUncyBtYWludGFpbmFiaWxpdHkgYnkgcmVkdWNpbmcgdGhlIHN0b3JhZ2Vcbi8vXHRcdHBhdGhzIHRvIGEgc2luZ2xlIG1lY2hhbmlzbS5cbi8vXHQzLiBVc2UgdGhlIHNhbWUgc2luZ2xlIG1lY2hhbmlzbSB0byBzdXBwb3J0IFwicHJpdmF0ZVwiIGFuZCBcInVzZXJcIiBkYXRhLlxuLy9cdDQuIF9OZXZlcl8gZXhwb3NlIFwicHJpdmF0ZVwiIGRhdGEgdG8gdXNlciBjb2RlIChUT0RPOiBEcm9wIF9kYXRhLCBfcmVtb3ZlRGF0YSlcbi8vXHQ1LiBBdm9pZCBleHBvc2luZyBpbXBsZW1lbnRhdGlvbiBkZXRhaWxzIG9uIHVzZXIgb2JqZWN0cyAoZWcuIGV4cGFuZG8gcHJvcGVydGllcylcbi8vXHQ2LiBQcm92aWRlIGEgY2xlYXIgcGF0aCBmb3IgaW1wbGVtZW50YXRpb24gdXBncmFkZSB0byBXZWFrTWFwIGluIDIwMTRcblxudmFyIHJicmFjZSA9IC9eKD86XFx7W1xcd1xcV10qXFx9fFxcW1tcXHdcXFddKlxcXSkkLyxcblx0cm11bHRpRGFzaCA9IC9bQS1aXS9nO1xuXG5mdW5jdGlvbiBnZXREYXRhKCBkYXRhICkge1xuXHRpZiAoIGRhdGEgPT09IFwidHJ1ZVwiICkge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0aWYgKCBkYXRhID09PSBcImZhbHNlXCIgKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0aWYgKCBkYXRhID09PSBcIm51bGxcIiApIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdC8vIE9ubHkgY29udmVydCB0byBhIG51bWJlciBpZiBpdCBkb2Vzbid0IGNoYW5nZSB0aGUgc3RyaW5nXG5cdGlmICggZGF0YSA9PT0gK2RhdGEgKyBcIlwiICkge1xuXHRcdHJldHVybiArZGF0YTtcblx0fVxuXG5cdGlmICggcmJyYWNlLnRlc3QoIGRhdGEgKSApIHtcblx0XHRyZXR1cm4gSlNPTi5wYXJzZSggZGF0YSApO1xuXHR9XG5cblx0cmV0dXJuIGRhdGE7XG59XG5cbmZ1bmN0aW9uIGRhdGFBdHRyKCBlbGVtLCBrZXksIGRhdGEgKSB7XG5cdHZhciBuYW1lO1xuXG5cdC8vIElmIG5vdGhpbmcgd2FzIGZvdW5kIGludGVybmFsbHksIHRyeSB0byBmZXRjaCBhbnlcblx0Ly8gZGF0YSBmcm9tIHRoZSBIVE1MNSBkYXRhLSogYXR0cmlidXRlXG5cdGlmICggZGF0YSA9PT0gdW5kZWZpbmVkICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0bmFtZSA9IFwiZGF0YS1cIiArIGtleS5yZXBsYWNlKCBybXVsdGlEYXNoLCBcIi0kJlwiICkudG9Mb3dlckNhc2UoKTtcblx0XHRkYXRhID0gZWxlbS5nZXRBdHRyaWJ1dGUoIG5hbWUgKTtcblxuXHRcdGlmICggdHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRkYXRhID0gZ2V0RGF0YSggZGF0YSApO1xuXHRcdFx0fSBjYXRjaCAoIGUgKSB7fVxuXG5cdFx0XHQvLyBNYWtlIHN1cmUgd2Ugc2V0IHRoZSBkYXRhIHNvIGl0IGlzbid0IGNoYW5nZWQgbGF0ZXJcblx0XHRcdGRhdGFVc2VyLnNldCggZWxlbSwga2V5LCBkYXRhICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGRhdGEgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBkYXRhO1xufVxuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cdGhhc0RhdGE6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBkYXRhVXNlci5oYXNEYXRhKCBlbGVtICkgfHwgZGF0YVByaXYuaGFzRGF0YSggZWxlbSApO1xuXHR9LFxuXG5cdGRhdGE6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBkYXRhICkge1xuXHRcdHJldHVybiBkYXRhVXNlci5hY2Nlc3MoIGVsZW0sIG5hbWUsIGRhdGEgKTtcblx0fSxcblxuXHRyZW1vdmVEYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSApIHtcblx0XHRkYXRhVXNlci5yZW1vdmUoIGVsZW0sIG5hbWUgKTtcblx0fSxcblxuXHQvLyBUT0RPOiBOb3cgdGhhdCBhbGwgY2FsbHMgdG8gX2RhdGEgYW5kIF9yZW1vdmVEYXRhIGhhdmUgYmVlbiByZXBsYWNlZFxuXHQvLyB3aXRoIGRpcmVjdCBjYWxscyB0byBkYXRhUHJpdiBtZXRob2RzLCB0aGVzZSBjYW4gYmUgZGVwcmVjYXRlZC5cblx0X2RhdGE6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBkYXRhICkge1xuXHRcdHJldHVybiBkYXRhUHJpdi5hY2Nlc3MoIGVsZW0sIG5hbWUsIGRhdGEgKTtcblx0fSxcblxuXHRfcmVtb3ZlRGF0YTogZnVuY3Rpb24oIGVsZW0sIG5hbWUgKSB7XG5cdFx0ZGF0YVByaXYucmVtb3ZlKCBlbGVtLCBuYW1lICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRkYXRhOiBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcblx0XHR2YXIgaSwgbmFtZSwgZGF0YSxcblx0XHRcdGVsZW0gPSB0aGlzWyAwIF0sXG5cdFx0XHRhdHRycyA9IGVsZW0gJiYgZWxlbS5hdHRyaWJ1dGVzO1xuXG5cdFx0Ly8gR2V0cyBhbGwgdmFsdWVzXG5cdFx0aWYgKCBrZXkgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdGlmICggdGhpcy5sZW5ndGggKSB7XG5cdFx0XHRcdGRhdGEgPSBkYXRhVXNlci5nZXQoIGVsZW0gKTtcblxuXHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgJiYgIWRhdGFQcml2LmdldCggZWxlbSwgXCJoYXNEYXRhQXR0cnNcIiApICkge1xuXHRcdFx0XHRcdGkgPSBhdHRycy5sZW5ndGg7XG5cdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cblx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDExIG9ubHlcblx0XHRcdFx0XHRcdC8vIFRoZSBhdHRycyBlbGVtZW50cyBjYW4gYmUgbnVsbCAodHJhYy0xNDg5NClcblx0XHRcdFx0XHRcdGlmICggYXR0cnNbIGkgXSApIHtcblx0XHRcdFx0XHRcdFx0bmFtZSA9IGF0dHJzWyBpIF0ubmFtZTtcblx0XHRcdFx0XHRcdFx0aWYgKCBuYW1lLmluZGV4T2YoIFwiZGF0YS1cIiApID09PSAwICkge1xuXHRcdFx0XHRcdFx0XHRcdG5hbWUgPSBjYW1lbENhc2UoIG5hbWUuc2xpY2UoIDUgKSApO1xuXHRcdFx0XHRcdFx0XHRcdGRhdGFBdHRyKCBlbGVtLCBuYW1lLCBkYXRhWyBuYW1lIF0gKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRkYXRhUHJpdi5zZXQoIGVsZW0sIFwiaGFzRGF0YUF0dHJzXCIsIHRydWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZGF0YTtcblx0XHR9XG5cblx0XHQvLyBTZXRzIG11bHRpcGxlIHZhbHVlc1xuXHRcdGlmICggdHlwZW9mIGtleSA9PT0gXCJvYmplY3RcIiApIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRkYXRhVXNlci5zZXQoIHRoaXMsIGtleSApO1xuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHZhciBkYXRhO1xuXG5cdFx0XHQvLyBUaGUgY2FsbGluZyBqUXVlcnkgb2JqZWN0IChlbGVtZW50IG1hdGNoZXMpIGlzIG5vdCBlbXB0eVxuXHRcdFx0Ly8gKGFuZCB0aGVyZWZvcmUgaGFzIGFuIGVsZW1lbnQgYXBwZWFycyBhdCB0aGlzWyAwIF0pIGFuZCB0aGVcblx0XHRcdC8vIGB2YWx1ZWAgcGFyYW1ldGVyIHdhcyBub3QgdW5kZWZpbmVkLiBBbiBlbXB0eSBqUXVlcnkgb2JqZWN0XG5cdFx0XHQvLyB3aWxsIHJlc3VsdCBpbiBgdW5kZWZpbmVkYCBmb3IgZWxlbSA9IHRoaXNbIDAgXSB3aGljaCB3aWxsXG5cdFx0XHQvLyB0aHJvdyBhbiBleGNlcHRpb24gaWYgYW4gYXR0ZW1wdCB0byByZWFkIGEgZGF0YSBjYWNoZSBpcyBtYWRlLlxuXHRcdFx0aWYgKCBlbGVtICYmIHZhbHVlID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0Ly8gQXR0ZW1wdCB0byBnZXQgZGF0YSBmcm9tIHRoZSBjYWNoZVxuXHRcdFx0XHQvLyBUaGUga2V5IHdpbGwgYWx3YXlzIGJlIGNhbWVsQ2FzZWQgaW4gRGF0YVxuXHRcdFx0XHRkYXRhID0gZGF0YVVzZXIuZ2V0KCBlbGVtLCBrZXkgKTtcblx0XHRcdFx0aWYgKCBkYXRhICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGRhdGE7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBBdHRlbXB0IHRvIFwiZGlzY292ZXJcIiB0aGUgZGF0YSBpblxuXHRcdFx0XHQvLyBIVE1MNSBjdXN0b20gZGF0YS0qIGF0dHJzXG5cdFx0XHRcdGRhdGEgPSBkYXRhQXR0ciggZWxlbSwga2V5ICk7XG5cdFx0XHRcdGlmICggZGF0YSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdHJldHVybiBkYXRhO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gV2UgdHJpZWQgcmVhbGx5IGhhcmQsIGJ1dCB0aGUgZGF0YSBkb2Vzbid0IGV4aXN0LlxuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIFNldCB0aGUgZGF0YS4uLlxuXHRcdFx0dGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHQvLyBXZSBhbHdheXMgc3RvcmUgdGhlIGNhbWVsQ2FzZWQga2V5XG5cdFx0XHRcdGRhdGFVc2VyLnNldCggdGhpcywga2V5LCB2YWx1ZSApO1xuXHRcdFx0fSApO1xuXHRcdH0sIG51bGwsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoID4gMSwgbnVsbCwgdHJ1ZSApO1xuXHR9LFxuXG5cdHJlbW92ZURhdGE6IGZ1bmN0aW9uKCBrZXkgKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRkYXRhVXNlci5yZW1vdmUoIHRoaXMsIGtleSApO1xuXHRcdH0gKTtcblx0fVxufSApO1xuXG5cbmpRdWVyeS5leHRlbmQoIHtcblx0cXVldWU6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlLCBkYXRhICkge1xuXHRcdHZhciBxdWV1ZTtcblxuXHRcdGlmICggZWxlbSApIHtcblx0XHRcdHR5cGUgPSAoIHR5cGUgfHwgXCJmeFwiICkgKyBcInF1ZXVlXCI7XG5cdFx0XHRxdWV1ZSA9IGRhdGFQcml2LmdldCggZWxlbSwgdHlwZSApO1xuXG5cdFx0XHQvLyBTcGVlZCB1cCBkZXF1ZXVlIGJ5IGdldHRpbmcgb3V0IHF1aWNrbHkgaWYgdGhpcyBpcyBqdXN0IGEgbG9va3VwXG5cdFx0XHRpZiAoIGRhdGEgKSB7XG5cdFx0XHRcdGlmICggIXF1ZXVlIHx8IEFycmF5LmlzQXJyYXkoIGRhdGEgKSApIHtcblx0XHRcdFx0XHRxdWV1ZSA9IGRhdGFQcml2LmFjY2VzcyggZWxlbSwgdHlwZSwgalF1ZXJ5Lm1ha2VBcnJheSggZGF0YSApICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cXVldWUucHVzaCggZGF0YSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcXVldWUgfHwgW107XG5cdFx0fVxuXHR9LFxuXG5cdGRlcXVldWU6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlICkge1xuXHRcdHR5cGUgPSB0eXBlIHx8IFwiZnhcIjtcblxuXHRcdHZhciBxdWV1ZSA9IGpRdWVyeS5xdWV1ZSggZWxlbSwgdHlwZSApLFxuXHRcdFx0c3RhcnRMZW5ndGggPSBxdWV1ZS5sZW5ndGgsXG5cdFx0XHRmbiA9IHF1ZXVlLnNoaWZ0KCksXG5cdFx0XHRob29rcyA9IGpRdWVyeS5fcXVldWVIb29rcyggZWxlbSwgdHlwZSApLFxuXHRcdFx0bmV4dCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRqUXVlcnkuZGVxdWV1ZSggZWxlbSwgdHlwZSApO1xuXHRcdFx0fTtcblxuXHRcdC8vIElmIHRoZSBmeCBxdWV1ZSBpcyBkZXF1ZXVlZCwgYWx3YXlzIHJlbW92ZSB0aGUgcHJvZ3Jlc3Mgc2VudGluZWxcblx0XHRpZiAoIGZuID09PSBcImlucHJvZ3Jlc3NcIiApIHtcblx0XHRcdGZuID0gcXVldWUuc2hpZnQoKTtcblx0XHRcdHN0YXJ0TGVuZ3RoLS07XG5cdFx0fVxuXG5cdFx0aWYgKCBmbiApIHtcblxuXHRcdFx0Ly8gQWRkIGEgcHJvZ3Jlc3Mgc2VudGluZWwgdG8gcHJldmVudCB0aGUgZnggcXVldWUgZnJvbSBiZWluZ1xuXHRcdFx0Ly8gYXV0b21hdGljYWxseSBkZXF1ZXVlZFxuXHRcdFx0aWYgKCB0eXBlID09PSBcImZ4XCIgKSB7XG5cdFx0XHRcdHF1ZXVlLnVuc2hpZnQoIFwiaW5wcm9ncmVzc1wiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENsZWFyIHVwIHRoZSBsYXN0IHF1ZXVlIHN0b3AgZnVuY3Rpb25cblx0XHRcdGRlbGV0ZSBob29rcy5zdG9wO1xuXHRcdFx0Zm4uY2FsbCggZWxlbSwgbmV4dCwgaG9va3MgKTtcblx0XHR9XG5cblx0XHRpZiAoICFzdGFydExlbmd0aCAmJiBob29rcyApIHtcblx0XHRcdGhvb2tzLmVtcHR5LmZpcmUoKTtcblx0XHR9XG5cdH0sXG5cblx0Ly8gTm90IHB1YmxpYyAtIGdlbmVyYXRlIGEgcXVldWVIb29rcyBvYmplY3QsIG9yIHJldHVybiB0aGUgY3VycmVudCBvbmVcblx0X3F1ZXVlSG9va3M6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlICkge1xuXHRcdHZhciBrZXkgPSB0eXBlICsgXCJxdWV1ZUhvb2tzXCI7XG5cdFx0cmV0dXJuIGRhdGFQcml2LmdldCggZWxlbSwga2V5ICkgfHwgZGF0YVByaXYuYWNjZXNzKCBlbGVtLCBrZXksIHtcblx0XHRcdGVtcHR5OiBqUXVlcnkuQ2FsbGJhY2tzKCBcIm9uY2UgbWVtb3J5XCIgKS5hZGQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRkYXRhUHJpdi5yZW1vdmUoIGVsZW0sIFsgdHlwZSArIFwicXVldWVcIiwga2V5IF0gKTtcblx0XHRcdH0gKVxuXHRcdH0gKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdHF1ZXVlOiBmdW5jdGlvbiggdHlwZSwgZGF0YSApIHtcblx0XHR2YXIgc2V0dGVyID0gMjtcblxuXHRcdGlmICggdHlwZW9mIHR5cGUgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRkYXRhID0gdHlwZTtcblx0XHRcdHR5cGUgPSBcImZ4XCI7XG5cdFx0XHRzZXR0ZXItLTtcblx0XHR9XG5cblx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggPCBzZXR0ZXIgKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LnF1ZXVlKCB0aGlzWyAwIF0sIHR5cGUgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZGF0YSA9PT0gdW5kZWZpbmVkID9cblx0XHRcdHRoaXMgOlxuXHRcdFx0dGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIHF1ZXVlID0galF1ZXJ5LnF1ZXVlKCB0aGlzLCB0eXBlLCBkYXRhICk7XG5cblx0XHRcdFx0Ly8gRW5zdXJlIGEgaG9va3MgZm9yIHRoaXMgcXVldWVcblx0XHRcdFx0alF1ZXJ5Ll9xdWV1ZUhvb2tzKCB0aGlzLCB0eXBlICk7XG5cblx0XHRcdFx0aWYgKCB0eXBlID09PSBcImZ4XCIgJiYgcXVldWVbIDAgXSAhPT0gXCJpbnByb2dyZXNzXCIgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5LmRlcXVldWUoIHRoaXMsIHR5cGUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHR9LFxuXHRkZXF1ZXVlOiBmdW5jdGlvbiggdHlwZSApIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGpRdWVyeS5kZXF1ZXVlKCB0aGlzLCB0eXBlICk7XG5cdFx0fSApO1xuXHR9LFxuXHRjbGVhclF1ZXVlOiBmdW5jdGlvbiggdHlwZSApIHtcblx0XHRyZXR1cm4gdGhpcy5xdWV1ZSggdHlwZSB8fCBcImZ4XCIsIFtdICk7XG5cdH0sXG5cblx0Ly8gR2V0IGEgcHJvbWlzZSByZXNvbHZlZCB3aGVuIHF1ZXVlcyBvZiBhIGNlcnRhaW4gdHlwZVxuXHQvLyBhcmUgZW1wdGllZCAoZnggaXMgdGhlIHR5cGUgYnkgZGVmYXVsdClcblx0cHJvbWlzZTogZnVuY3Rpb24oIHR5cGUsIG9iaiApIHtcblx0XHR2YXIgdG1wLFxuXHRcdFx0Y291bnQgPSAxLFxuXHRcdFx0ZGVmZXIgPSBqUXVlcnkuRGVmZXJyZWQoKSxcblx0XHRcdGVsZW1lbnRzID0gdGhpcyxcblx0XHRcdGkgPSB0aGlzLmxlbmd0aCxcblx0XHRcdHJlc29sdmUgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCAhKCAtLWNvdW50ICkgKSB7XG5cdFx0XHRcdFx0ZGVmZXIucmVzb2x2ZVdpdGgoIGVsZW1lbnRzLCBbIGVsZW1lbnRzIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblxuXHRcdGlmICggdHlwZW9mIHR5cGUgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRvYmogPSB0eXBlO1xuXHRcdFx0dHlwZSA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdFx0dHlwZSA9IHR5cGUgfHwgXCJmeFwiO1xuXG5cdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHR0bXAgPSBkYXRhUHJpdi5nZXQoIGVsZW1lbnRzWyBpIF0sIHR5cGUgKyBcInF1ZXVlSG9va3NcIiApO1xuXHRcdFx0aWYgKCB0bXAgJiYgdG1wLmVtcHR5ICkge1xuXHRcdFx0XHRjb3VudCsrO1xuXHRcdFx0XHR0bXAuZW1wdHkuYWRkKCByZXNvbHZlICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJlc29sdmUoKTtcblx0XHRyZXR1cm4gZGVmZXIucHJvbWlzZSggb2JqICk7XG5cdH1cbn0gKTtcbnZhciBwbnVtID0gKCAvWystXT8oPzpcXGQqXFwufClcXGQrKD86W2VFXVsrLV0/XFxkK3wpLyApLnNvdXJjZTtcblxudmFyIHJjc3NOdW0gPSBuZXcgUmVnRXhwKCBcIl4oPzooWystXSk9fCkoXCIgKyBwbnVtICsgXCIpKFthLXolXSopJFwiLCBcImlcIiApO1xuXG5cbnZhciBjc3NFeHBhbmQgPSBbIFwiVG9wXCIsIFwiUmlnaHRcIiwgXCJCb3R0b21cIiwgXCJMZWZ0XCIgXTtcblxudmFyIGRvY3VtZW50RWxlbWVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblxuXG5cblx0dmFyIGlzQXR0YWNoZWQgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBqUXVlcnkuY29udGFpbnMoIGVsZW0ub3duZXJEb2N1bWVudCwgZWxlbSApO1xuXHRcdH0sXG5cdFx0Y29tcG9zZWQgPSB7IGNvbXBvc2VkOiB0cnVlIH07XG5cblx0Ly8gU3VwcG9ydDogSUUgOSAtIDExKywgRWRnZSAxMiAtIDE4KywgaU9TIDEwLjAgLSAxMC4yIG9ubHlcblx0Ly8gQ2hlY2sgYXR0YWNobWVudCBhY3Jvc3Mgc2hhZG93IERPTSBib3VuZGFyaWVzIHdoZW4gcG9zc2libGUgKGdoLTM1MDQpXG5cdC8vIFN1cHBvcnQ6IGlPUyAxMC4wLTEwLjIgb25seVxuXHQvLyBFYXJseSBpT1MgMTAgdmVyc2lvbnMgc3VwcG9ydCBgYXR0YWNoU2hhZG93YCBidXQgbm90IGBnZXRSb290Tm9kZWAsXG5cdC8vIGxlYWRpbmcgdG8gZXJyb3JzLiBXZSBuZWVkIHRvIGNoZWNrIGZvciBgZ2V0Um9vdE5vZGVgLlxuXHRpZiAoIGRvY3VtZW50RWxlbWVudC5nZXRSb290Tm9kZSApIHtcblx0XHRpc0F0dGFjaGVkID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LmNvbnRhaW5zKCBlbGVtLm93bmVyRG9jdW1lbnQsIGVsZW0gKSB8fFxuXHRcdFx0XHRlbGVtLmdldFJvb3ROb2RlKCBjb21wb3NlZCApID09PSBlbGVtLm93bmVyRG9jdW1lbnQ7XG5cdFx0fTtcblx0fVxudmFyIGlzSGlkZGVuV2l0aGluVHJlZSA9IGZ1bmN0aW9uKCBlbGVtLCBlbCApIHtcblxuXHRcdC8vIGlzSGlkZGVuV2l0aGluVHJlZSBtaWdodCBiZSBjYWxsZWQgZnJvbSBqUXVlcnkjZmlsdGVyIGZ1bmN0aW9uO1xuXHRcdC8vIGluIHRoYXQgY2FzZSwgZWxlbWVudCB3aWxsIGJlIHNlY29uZCBhcmd1bWVudFxuXHRcdGVsZW0gPSBlbCB8fCBlbGVtO1xuXG5cdFx0Ly8gSW5saW5lIHN0eWxlIHRydW1wcyBhbGxcblx0XHRyZXR1cm4gZWxlbS5zdHlsZS5kaXNwbGF5ID09PSBcIm5vbmVcIiB8fFxuXHRcdFx0ZWxlbS5zdHlsZS5kaXNwbGF5ID09PSBcIlwiICYmXG5cblx0XHRcdC8vIE90aGVyd2lzZSwgY2hlY2sgY29tcHV0ZWQgc3R5bGVcblx0XHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3ggPD00MyAtIDQ1XG5cdFx0XHQvLyBEaXNjb25uZWN0ZWQgZWxlbWVudHMgY2FuIGhhdmUgY29tcHV0ZWQgZGlzcGxheTogbm9uZSwgc28gZmlyc3QgY29uZmlybSB0aGF0IGVsZW0gaXNcblx0XHRcdC8vIGluIHRoZSBkb2N1bWVudC5cblx0XHRcdGlzQXR0YWNoZWQoIGVsZW0gKSAmJlxuXG5cdFx0XHRqUXVlcnkuY3NzKCBlbGVtLCBcImRpc3BsYXlcIiApID09PSBcIm5vbmVcIjtcblx0fTtcblxuXG5cbmZ1bmN0aW9uIGFkanVzdENTUyggZWxlbSwgcHJvcCwgdmFsdWVQYXJ0cywgdHdlZW4gKSB7XG5cdHZhciBhZGp1c3RlZCwgc2NhbGUsXG5cdFx0bWF4SXRlcmF0aW9ucyA9IDIwLFxuXHRcdGN1cnJlbnRWYWx1ZSA9IHR3ZWVuID9cblx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gdHdlZW4uY3VyKCk7XG5cdFx0XHR9IDpcblx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4galF1ZXJ5LmNzcyggZWxlbSwgcHJvcCwgXCJcIiApO1xuXHRcdFx0fSxcblx0XHRpbml0aWFsID0gY3VycmVudFZhbHVlKCksXG5cdFx0dW5pdCA9IHZhbHVlUGFydHMgJiYgdmFsdWVQYXJ0c1sgMyBdIHx8ICggalF1ZXJ5LmNzc051bWJlclsgcHJvcCBdID8gXCJcIiA6IFwicHhcIiApLFxuXG5cdFx0Ly8gU3RhcnRpbmcgdmFsdWUgY29tcHV0YXRpb24gaXMgcmVxdWlyZWQgZm9yIHBvdGVudGlhbCB1bml0IG1pc21hdGNoZXNcblx0XHRpbml0aWFsSW5Vbml0ID0gZWxlbS5ub2RlVHlwZSAmJlxuXHRcdFx0KCBqUXVlcnkuY3NzTnVtYmVyWyBwcm9wIF0gfHwgdW5pdCAhPT0gXCJweFwiICYmICtpbml0aWFsICkgJiZcblx0XHRcdHJjc3NOdW0uZXhlYyggalF1ZXJ5LmNzcyggZWxlbSwgcHJvcCApICk7XG5cblx0aWYgKCBpbml0aWFsSW5Vbml0ICYmIGluaXRpYWxJblVuaXRbIDMgXSAhPT0gdW5pdCApIHtcblxuXHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3ggPD01NFxuXHRcdC8vIEhhbHZlIHRoZSBpdGVyYXRpb24gdGFyZ2V0IHZhbHVlIHRvIHByZXZlbnQgaW50ZXJmZXJlbmNlIGZyb20gQ1NTIHVwcGVyIGJvdW5kcyAoZ2gtMjE0NClcblx0XHRpbml0aWFsID0gaW5pdGlhbCAvIDI7XG5cblx0XHQvLyBUcnVzdCB1bml0cyByZXBvcnRlZCBieSBqUXVlcnkuY3NzXG5cdFx0dW5pdCA9IHVuaXQgfHwgaW5pdGlhbEluVW5pdFsgMyBdO1xuXG5cdFx0Ly8gSXRlcmF0aXZlbHkgYXBwcm94aW1hdGUgZnJvbSBhIG5vbnplcm8gc3RhcnRpbmcgcG9pbnRcblx0XHRpbml0aWFsSW5Vbml0ID0gK2luaXRpYWwgfHwgMTtcblxuXHRcdHdoaWxlICggbWF4SXRlcmF0aW9ucy0tICkge1xuXG5cdFx0XHQvLyBFdmFsdWF0ZSBhbmQgdXBkYXRlIG91ciBiZXN0IGd1ZXNzIChkb3VibGluZyBndWVzc2VzIHRoYXQgemVybyBvdXQpLlxuXHRcdFx0Ly8gRmluaXNoIGlmIHRoZSBzY2FsZSBlcXVhbHMgb3IgY3Jvc3NlcyAxIChtYWtpbmcgdGhlIG9sZCpuZXcgcHJvZHVjdCBub24tcG9zaXRpdmUpLlxuXHRcdFx0alF1ZXJ5LnN0eWxlKCBlbGVtLCBwcm9wLCBpbml0aWFsSW5Vbml0ICsgdW5pdCApO1xuXHRcdFx0aWYgKCAoIDEgLSBzY2FsZSApICogKCAxIC0gKCBzY2FsZSA9IGN1cnJlbnRWYWx1ZSgpIC8gaW5pdGlhbCB8fCAwLjUgKSApIDw9IDAgKSB7XG5cdFx0XHRcdG1heEl0ZXJhdGlvbnMgPSAwO1xuXHRcdFx0fVxuXHRcdFx0aW5pdGlhbEluVW5pdCA9IGluaXRpYWxJblVuaXQgLyBzY2FsZTtcblxuXHRcdH1cblxuXHRcdGluaXRpYWxJblVuaXQgPSBpbml0aWFsSW5Vbml0ICogMjtcblx0XHRqUXVlcnkuc3R5bGUoIGVsZW0sIHByb3AsIGluaXRpYWxJblVuaXQgKyB1bml0ICk7XG5cblx0XHQvLyBNYWtlIHN1cmUgd2UgdXBkYXRlIHRoZSB0d2VlbiBwcm9wZXJ0aWVzIGxhdGVyIG9uXG5cdFx0dmFsdWVQYXJ0cyA9IHZhbHVlUGFydHMgfHwgW107XG5cdH1cblxuXHRpZiAoIHZhbHVlUGFydHMgKSB7XG5cdFx0aW5pdGlhbEluVW5pdCA9ICtpbml0aWFsSW5Vbml0IHx8ICtpbml0aWFsIHx8IDA7XG5cblx0XHQvLyBBcHBseSByZWxhdGl2ZSBvZmZzZXQgKCs9Ly09KSBpZiBzcGVjaWZpZWRcblx0XHRhZGp1c3RlZCA9IHZhbHVlUGFydHNbIDEgXSA/XG5cdFx0XHRpbml0aWFsSW5Vbml0ICsgKCB2YWx1ZVBhcnRzWyAxIF0gKyAxICkgKiB2YWx1ZVBhcnRzWyAyIF0gOlxuXHRcdFx0K3ZhbHVlUGFydHNbIDIgXTtcblx0XHRpZiAoIHR3ZWVuICkge1xuXHRcdFx0dHdlZW4udW5pdCA9IHVuaXQ7XG5cdFx0XHR0d2Vlbi5zdGFydCA9IGluaXRpYWxJblVuaXQ7XG5cdFx0XHR0d2Vlbi5lbmQgPSBhZGp1c3RlZDtcblx0XHR9XG5cdH1cblx0cmV0dXJuIGFkanVzdGVkO1xufVxuXG5cbnZhciBkZWZhdWx0RGlzcGxheU1hcCA9IHt9O1xuXG5mdW5jdGlvbiBnZXREZWZhdWx0RGlzcGxheSggZWxlbSApIHtcblx0dmFyIHRlbXAsXG5cdFx0ZG9jID0gZWxlbS5vd25lckRvY3VtZW50LFxuXHRcdG5vZGVOYW1lID0gZWxlbS5ub2RlTmFtZSxcblx0XHRkaXNwbGF5ID0gZGVmYXVsdERpc3BsYXlNYXBbIG5vZGVOYW1lIF07XG5cblx0aWYgKCBkaXNwbGF5ICkge1xuXHRcdHJldHVybiBkaXNwbGF5O1xuXHR9XG5cblx0dGVtcCA9IGRvYy5ib2R5LmFwcGVuZENoaWxkKCBkb2MuY3JlYXRlRWxlbWVudCggbm9kZU5hbWUgKSApO1xuXHRkaXNwbGF5ID0galF1ZXJ5LmNzcyggdGVtcCwgXCJkaXNwbGF5XCIgKTtcblxuXHR0ZW1wLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIHRlbXAgKTtcblxuXHRpZiAoIGRpc3BsYXkgPT09IFwibm9uZVwiICkge1xuXHRcdGRpc3BsYXkgPSBcImJsb2NrXCI7XG5cdH1cblx0ZGVmYXVsdERpc3BsYXlNYXBbIG5vZGVOYW1lIF0gPSBkaXNwbGF5O1xuXG5cdHJldHVybiBkaXNwbGF5O1xufVxuXG5mdW5jdGlvbiBzaG93SGlkZSggZWxlbWVudHMsIHNob3cgKSB7XG5cdHZhciBkaXNwbGF5LCBlbGVtLFxuXHRcdHZhbHVlcyA9IFtdLFxuXHRcdGluZGV4ID0gMCxcblx0XHRsZW5ndGggPSBlbGVtZW50cy5sZW5ndGg7XG5cblx0Ly8gRGV0ZXJtaW5lIG5ldyBkaXNwbGF5IHZhbHVlIGZvciBlbGVtZW50cyB0aGF0IG5lZWQgdG8gY2hhbmdlXG5cdGZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0ZWxlbSA9IGVsZW1lbnRzWyBpbmRleCBdO1xuXHRcdGlmICggIWVsZW0uc3R5bGUgKSB7XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cblx0XHRkaXNwbGF5ID0gZWxlbS5zdHlsZS5kaXNwbGF5O1xuXHRcdGlmICggc2hvdyApIHtcblxuXHRcdFx0Ly8gU2luY2Ugd2UgZm9yY2UgdmlzaWJpbGl0eSB1cG9uIGNhc2NhZGUtaGlkZGVuIGVsZW1lbnRzLCBhbiBpbW1lZGlhdGUgKGFuZCBzbG93KVxuXHRcdFx0Ly8gY2hlY2sgaXMgcmVxdWlyZWQgaW4gdGhpcyBmaXJzdCBsb29wIHVubGVzcyB3ZSBoYXZlIGEgbm9uZW1wdHkgZGlzcGxheSB2YWx1ZSAoZWl0aGVyXG5cdFx0XHQvLyBpbmxpbmUgb3IgYWJvdXQtdG8tYmUtcmVzdG9yZWQpXG5cdFx0XHRpZiAoIGRpc3BsYXkgPT09IFwibm9uZVwiICkge1xuXHRcdFx0XHR2YWx1ZXNbIGluZGV4IF0gPSBkYXRhUHJpdi5nZXQoIGVsZW0sIFwiZGlzcGxheVwiICkgfHwgbnVsbDtcblx0XHRcdFx0aWYgKCAhdmFsdWVzWyBpbmRleCBdICkge1xuXHRcdFx0XHRcdGVsZW0uc3R5bGUuZGlzcGxheSA9IFwiXCI7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGlmICggZWxlbS5zdHlsZS5kaXNwbGF5ID09PSBcIlwiICYmIGlzSGlkZGVuV2l0aGluVHJlZSggZWxlbSApICkge1xuXHRcdFx0XHR2YWx1ZXNbIGluZGV4IF0gPSBnZXREZWZhdWx0RGlzcGxheSggZWxlbSApO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAoIGRpc3BsYXkgIT09IFwibm9uZVwiICkge1xuXHRcdFx0XHR2YWx1ZXNbIGluZGV4IF0gPSBcIm5vbmVcIjtcblxuXHRcdFx0XHQvLyBSZW1lbWJlciB3aGF0IHdlJ3JlIG92ZXJ3cml0aW5nXG5cdFx0XHRcdGRhdGFQcml2LnNldCggZWxlbSwgXCJkaXNwbGF5XCIsIGRpc3BsYXkgKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBTZXQgdGhlIGRpc3BsYXkgb2YgdGhlIGVsZW1lbnRzIGluIGEgc2Vjb25kIGxvb3AgdG8gYXZvaWQgY29uc3RhbnQgcmVmbG93XG5cdGZvciAoIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0aWYgKCB2YWx1ZXNbIGluZGV4IF0gIT0gbnVsbCApIHtcblx0XHRcdGVsZW1lbnRzWyBpbmRleCBdLnN0eWxlLmRpc3BsYXkgPSB2YWx1ZXNbIGluZGV4IF07XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGVsZW1lbnRzO1xufVxuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdHNob3c6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBzaG93SGlkZSggdGhpcywgdHJ1ZSApO1xuXHR9LFxuXHRoaWRlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gc2hvd0hpZGUoIHRoaXMgKTtcblx0fSxcblx0dG9nZ2xlOiBmdW5jdGlvbiggc3RhdGUgKSB7XG5cdFx0aWYgKCB0eXBlb2Ygc3RhdGUgPT09IFwiYm9vbGVhblwiICkge1xuXHRcdFx0cmV0dXJuIHN0YXRlID8gdGhpcy5zaG93KCkgOiB0aGlzLmhpZGUoKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGlmICggaXNIaWRkZW5XaXRoaW5UcmVlKCB0aGlzICkgKSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLnNob3coKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLmhpZGUoKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH1cbn0gKTtcbnZhciByY2hlY2thYmxlVHlwZSA9ICggL14oPzpjaGVja2JveHxyYWRpbykkL2kgKTtcblxudmFyIHJ0YWdOYW1lID0gKCAvPChbYS16XVteXFwvXFwwPlxceDIwXFx0XFxyXFxuXFxmXSopL2kgKTtcblxudmFyIHJzY3JpcHRUeXBlID0gKCAvXiR8Xm1vZHVsZSR8XFwvKD86amF2YXxlY21hKXNjcmlwdC9pICk7XG5cblxuXG4oIGZ1bmN0aW9uKCkge1xuXHR2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksXG5cdFx0ZGl2ID0gZnJhZ21lbnQuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKSApLFxuXHRcdGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJpbnB1dFwiICk7XG5cblx0Ly8gU3VwcG9ydDogQW5kcm9pZCA0LjAgLSA0LjMgb25seVxuXHQvLyBDaGVjayBzdGF0ZSBsb3N0IGlmIHRoZSBuYW1lIGlzIHNldCAodHJhYy0xMTIxNylcblx0Ly8gU3VwcG9ydDogV2luZG93cyBXZWIgQXBwcyAoV1dBKVxuXHQvLyBgbmFtZWAgYW5kIGB0eXBlYCBtdXN0IHVzZSAuc2V0QXR0cmlidXRlIGZvciBXV0EgKHRyYWMtMTQ5MDEpXG5cdGlucHV0LnNldEF0dHJpYnV0ZSggXCJ0eXBlXCIsIFwicmFkaW9cIiApO1xuXHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFwiY2hlY2tlZFwiLCBcImNoZWNrZWRcIiApO1xuXHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFwibmFtZVwiLCBcInRcIiApO1xuXG5cdGRpdi5hcHBlbmRDaGlsZCggaW5wdXQgKTtcblxuXHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4xIG9ubHlcblx0Ly8gT2xkZXIgV2ViS2l0IGRvZXNuJ3QgY2xvbmUgY2hlY2tlZCBzdGF0ZSBjb3JyZWN0bHkgaW4gZnJhZ21lbnRzXG5cdHN1cHBvcnQuY2hlY2tDbG9uZSA9IGRpdi5jbG9uZU5vZGUoIHRydWUgKS5jbG9uZU5vZGUoIHRydWUgKS5sYXN0Q2hpbGQuY2hlY2tlZDtcblxuXHQvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHlcblx0Ly8gTWFrZSBzdXJlIHRleHRhcmVhIChhbmQgY2hlY2tib3gpIGRlZmF1bHRWYWx1ZSBpcyBwcm9wZXJseSBjbG9uZWRcblx0ZGl2LmlubmVySFRNTCA9IFwiPHRleHRhcmVhPng8L3RleHRhcmVhPlwiO1xuXHRzdXBwb3J0Lm5vQ2xvbmVDaGVja2VkID0gISFkaXYuY2xvbmVOb2RlKCB0cnVlICkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZTtcblxuXHQvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuXHQvLyBJRSA8PTkgcmVwbGFjZXMgPG9wdGlvbj4gdGFncyB3aXRoIHRoZWlyIGNvbnRlbnRzIHdoZW4gaW5zZXJ0ZWQgb3V0c2lkZSBvZlxuXHQvLyB0aGUgc2VsZWN0IGVsZW1lbnQuXG5cdGRpdi5pbm5lckhUTUwgPSBcIjxvcHRpb24+PC9vcHRpb24+XCI7XG5cdHN1cHBvcnQub3B0aW9uID0gISFkaXYubGFzdENoaWxkO1xufSApKCk7XG5cblxuLy8gV2UgaGF2ZSB0byBjbG9zZSB0aGVzZSB0YWdzIHRvIHN1cHBvcnQgWEhUTUwgKHRyYWMtMTMyMDApXG52YXIgd3JhcE1hcCA9IHtcblxuXHQvLyBYSFRNTCBwYXJzZXJzIGRvIG5vdCBtYWdpY2FsbHkgaW5zZXJ0IGVsZW1lbnRzIGluIHRoZVxuXHQvLyBzYW1lIHdheSB0aGF0IHRhZyBzb3VwIHBhcnNlcnMgZG8uIFNvIHdlIGNhbm5vdCBzaG9ydGVuXG5cdC8vIHRoaXMgYnkgb21pdHRpbmcgPHRib2R5PiBvciBvdGhlciByZXF1aXJlZCBlbGVtZW50cy5cblx0dGhlYWQ6IFsgMSwgXCI8dGFibGU+XCIsIFwiPC90YWJsZT5cIiBdLFxuXHRjb2w6IFsgMiwgXCI8dGFibGU+PGNvbGdyb3VwPlwiLCBcIjwvY29sZ3JvdXA+PC90YWJsZT5cIiBdLFxuXHR0cjogWyAyLCBcIjx0YWJsZT48dGJvZHk+XCIsIFwiPC90Ym9keT48L3RhYmxlPlwiIF0sXG5cdHRkOiBbIDMsIFwiPHRhYmxlPjx0Ym9keT48dHI+XCIsIFwiPC90cj48L3Rib2R5PjwvdGFibGU+XCIgXSxcblxuXHRfZGVmYXVsdDogWyAwLCBcIlwiLCBcIlwiIF1cbn07XG5cbndyYXBNYXAudGJvZHkgPSB3cmFwTWFwLnRmb290ID0gd3JhcE1hcC5jb2xncm91cCA9IHdyYXBNYXAuY2FwdGlvbiA9IHdyYXBNYXAudGhlYWQ7XG53cmFwTWFwLnRoID0gd3JhcE1hcC50ZDtcblxuLy8gU3VwcG9ydDogSUUgPD05IG9ubHlcbmlmICggIXN1cHBvcnQub3B0aW9uICkge1xuXHR3cmFwTWFwLm9wdGdyb3VwID0gd3JhcE1hcC5vcHRpb24gPSBbIDEsIFwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPlwiLCBcIjwvc2VsZWN0PlwiIF07XG59XG5cblxuZnVuY3Rpb24gZ2V0QWxsKCBjb250ZXh0LCB0YWcgKSB7XG5cblx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTEgb25seVxuXHQvLyBVc2UgdHlwZW9mIHRvIGF2b2lkIHplcm8tYXJndW1lbnQgbWV0aG9kIGludm9jYXRpb24gb24gaG9zdCBvYmplY3RzICh0cmFjLTE1MTUxKVxuXHR2YXIgcmV0O1xuXG5cdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgIT09IFwidW5kZWZpbmVkXCIgKSB7XG5cdFx0cmV0ID0gY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSggdGFnIHx8IFwiKlwiICk7XG5cblx0fSBlbHNlIGlmICggdHlwZW9mIGNvbnRleHQucXVlcnlTZWxlY3RvckFsbCAhPT0gXCJ1bmRlZmluZWRcIiApIHtcblx0XHRyZXQgPSBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoIHRhZyB8fCBcIipcIiApO1xuXG5cdH0gZWxzZSB7XG5cdFx0cmV0ID0gW107XG5cdH1cblxuXHRpZiAoIHRhZyA9PT0gdW5kZWZpbmVkIHx8IHRhZyAmJiBub2RlTmFtZSggY29udGV4dCwgdGFnICkgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5tZXJnZSggWyBjb250ZXh0IF0sIHJldCApO1xuXHR9XG5cblx0cmV0dXJuIHJldDtcbn1cblxuXG4vLyBNYXJrIHNjcmlwdHMgYXMgaGF2aW5nIGFscmVhZHkgYmVlbiBldmFsdWF0ZWRcbmZ1bmN0aW9uIHNldEdsb2JhbEV2YWwoIGVsZW1zLCByZWZFbGVtZW50cyApIHtcblx0dmFyIGkgPSAwLFxuXHRcdGwgPSBlbGVtcy5sZW5ndGg7XG5cblx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdGRhdGFQcml2LnNldChcblx0XHRcdGVsZW1zWyBpIF0sXG5cdFx0XHRcImdsb2JhbEV2YWxcIixcblx0XHRcdCFyZWZFbGVtZW50cyB8fCBkYXRhUHJpdi5nZXQoIHJlZkVsZW1lbnRzWyBpIF0sIFwiZ2xvYmFsRXZhbFwiIClcblx0XHQpO1xuXHR9XG59XG5cblxudmFyIHJodG1sID0gLzx8JiM/XFx3KzsvO1xuXG5mdW5jdGlvbiBidWlsZEZyYWdtZW50KCBlbGVtcywgY29udGV4dCwgc2NyaXB0cywgc2VsZWN0aW9uLCBpZ25vcmVkICkge1xuXHR2YXIgZWxlbSwgdG1wLCB0YWcsIHdyYXAsIGF0dGFjaGVkLCBqLFxuXHRcdGZyYWdtZW50ID0gY29udGV4dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksXG5cdFx0bm9kZXMgPSBbXSxcblx0XHRpID0gMCxcblx0XHRsID0gZWxlbXMubGVuZ3RoO1xuXG5cdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRlbGVtID0gZWxlbXNbIGkgXTtcblxuXHRcdGlmICggZWxlbSB8fCBlbGVtID09PSAwICkge1xuXG5cdFx0XHQvLyBBZGQgbm9kZXMgZGlyZWN0bHlcblx0XHRcdGlmICggdG9UeXBlKCBlbGVtICkgPT09IFwib2JqZWN0XCIgKSB7XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5XG5cdFx0XHRcdC8vIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXRcblx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCBub2RlcywgZWxlbS5ub2RlVHlwZSA/IFsgZWxlbSBdIDogZWxlbSApO1xuXG5cdFx0XHQvLyBDb252ZXJ0IG5vbi1odG1sIGludG8gYSB0ZXh0IG5vZGVcblx0XHRcdH0gZWxzZSBpZiAoICFyaHRtbC50ZXN0KCBlbGVtICkgKSB7XG5cdFx0XHRcdG5vZGVzLnB1c2goIGNvbnRleHQuY3JlYXRlVGV4dE5vZGUoIGVsZW0gKSApO1xuXG5cdFx0XHQvLyBDb252ZXJ0IGh0bWwgaW50byBET00gbm9kZXNcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRtcCA9IHRtcCB8fCBmcmFnbWVudC5hcHBlbmRDaGlsZCggY29udGV4dC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICkgKTtcblxuXHRcdFx0XHQvLyBEZXNlcmlhbGl6ZSBhIHN0YW5kYXJkIHJlcHJlc2VudGF0aW9uXG5cdFx0XHRcdHRhZyA9ICggcnRhZ05hbWUuZXhlYyggZWxlbSApIHx8IFsgXCJcIiwgXCJcIiBdIClbIDEgXS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0XHR3cmFwID0gd3JhcE1hcFsgdGFnIF0gfHwgd3JhcE1hcC5fZGVmYXVsdDtcblx0XHRcdFx0dG1wLmlubmVySFRNTCA9IHdyYXBbIDEgXSArIGpRdWVyeS5odG1sUHJlZmlsdGVyKCBlbGVtICkgKyB3cmFwWyAyIF07XG5cblx0XHRcdFx0Ly8gRGVzY2VuZCB0aHJvdWdoIHdyYXBwZXJzIHRvIHRoZSByaWdodCBjb250ZW50XG5cdFx0XHRcdGogPSB3cmFwWyAwIF07XG5cdFx0XHRcdHdoaWxlICggai0tICkge1xuXHRcdFx0XHRcdHRtcCA9IHRtcC5sYXN0Q2hpbGQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHksIFBoYW50b21KUyAxIG9ubHlcblx0XHRcdFx0Ly8gcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdFxuXHRcdFx0XHRqUXVlcnkubWVyZ2UoIG5vZGVzLCB0bXAuY2hpbGROb2RlcyApO1xuXG5cdFx0XHRcdC8vIFJlbWVtYmVyIHRoZSB0b3AtbGV2ZWwgY29udGFpbmVyXG5cdFx0XHRcdHRtcCA9IGZyYWdtZW50LmZpcnN0Q2hpbGQ7XG5cblx0XHRcdFx0Ly8gRW5zdXJlIHRoZSBjcmVhdGVkIG5vZGVzIGFyZSBvcnBoYW5lZCAodHJhYy0xMjM5Milcblx0XHRcdFx0dG1wLnRleHRDb250ZW50ID0gXCJcIjtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBSZW1vdmUgd3JhcHBlciBmcm9tIGZyYWdtZW50XG5cdGZyYWdtZW50LnRleHRDb250ZW50ID0gXCJcIjtcblxuXHRpID0gMDtcblx0d2hpbGUgKCAoIGVsZW0gPSBub2Rlc1sgaSsrIF0gKSApIHtcblxuXHRcdC8vIFNraXAgZWxlbWVudHMgYWxyZWFkeSBpbiB0aGUgY29udGV4dCBjb2xsZWN0aW9uICh0cmFjLTQwODcpXG5cdFx0aWYgKCBzZWxlY3Rpb24gJiYgalF1ZXJ5LmluQXJyYXkoIGVsZW0sIHNlbGVjdGlvbiApID4gLTEgKSB7XG5cdFx0XHRpZiAoIGlnbm9yZWQgKSB7XG5cdFx0XHRcdGlnbm9yZWQucHVzaCggZWxlbSApO1xuXHRcdFx0fVxuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0YXR0YWNoZWQgPSBpc0F0dGFjaGVkKCBlbGVtICk7XG5cblx0XHQvLyBBcHBlbmQgdG8gZnJhZ21lbnRcblx0XHR0bXAgPSBnZXRBbGwoIGZyYWdtZW50LmFwcGVuZENoaWxkKCBlbGVtICksIFwic2NyaXB0XCIgKTtcblxuXHRcdC8vIFByZXNlcnZlIHNjcmlwdCBldmFsdWF0aW9uIGhpc3Rvcnlcblx0XHRpZiAoIGF0dGFjaGVkICkge1xuXHRcdFx0c2V0R2xvYmFsRXZhbCggdG1wICk7XG5cdFx0fVxuXG5cdFx0Ly8gQ2FwdHVyZSBleGVjdXRhYmxlc1xuXHRcdGlmICggc2NyaXB0cyApIHtcblx0XHRcdGogPSAwO1xuXHRcdFx0d2hpbGUgKCAoIGVsZW0gPSB0bXBbIGorKyBdICkgKSB7XG5cdFx0XHRcdGlmICggcnNjcmlwdFR5cGUudGVzdCggZWxlbS50eXBlIHx8IFwiXCIgKSApIHtcblx0XHRcdFx0XHRzY3JpcHRzLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBmcmFnbWVudDtcbn1cblxuXG52YXIgcnR5cGVuYW1lc3BhY2UgPSAvXihbXi5dKikoPzpcXC4oLispfCkvO1xuXG5mdW5jdGlvbiByZXR1cm5UcnVlKCkge1xuXHRyZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gcmV0dXJuRmFsc2UoKSB7XG5cdHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gb24oIGVsZW0sIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4sIG9uZSApIHtcblx0dmFyIG9yaWdGbiwgdHlwZTtcblxuXHQvLyBUeXBlcyBjYW4gYmUgYSBtYXAgb2YgdHlwZXMvaGFuZGxlcnNcblx0aWYgKCB0eXBlb2YgdHlwZXMgPT09IFwib2JqZWN0XCIgKSB7XG5cblx0XHQvLyAoIHR5cGVzLU9iamVjdCwgc2VsZWN0b3IsIGRhdGEgKVxuXHRcdGlmICggdHlwZW9mIHNlbGVjdG9yICE9PSBcInN0cmluZ1wiICkge1xuXG5cdFx0XHQvLyAoIHR5cGVzLU9iamVjdCwgZGF0YSApXG5cdFx0XHRkYXRhID0gZGF0YSB8fCBzZWxlY3Rvcjtcblx0XHRcdHNlbGVjdG9yID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0XHRmb3IgKCB0eXBlIGluIHR5cGVzICkge1xuXHRcdFx0b24oIGVsZW0sIHR5cGUsIHNlbGVjdG9yLCBkYXRhLCB0eXBlc1sgdHlwZSBdLCBvbmUgKTtcblx0XHR9XG5cdFx0cmV0dXJuIGVsZW07XG5cdH1cblxuXHRpZiAoIGRhdGEgPT0gbnVsbCAmJiBmbiA9PSBudWxsICkge1xuXG5cdFx0Ly8gKCB0eXBlcywgZm4gKVxuXHRcdGZuID0gc2VsZWN0b3I7XG5cdFx0ZGF0YSA9IHNlbGVjdG9yID0gdW5kZWZpbmVkO1xuXHR9IGVsc2UgaWYgKCBmbiA9PSBudWxsICkge1xuXHRcdGlmICggdHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiICkge1xuXG5cdFx0XHQvLyAoIHR5cGVzLCBzZWxlY3RvciwgZm4gKVxuXHRcdFx0Zm4gPSBkYXRhO1xuXHRcdFx0ZGF0YSA9IHVuZGVmaW5lZDtcblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyAoIHR5cGVzLCBkYXRhLCBmbiApXG5cdFx0XHRmbiA9IGRhdGE7XG5cdFx0XHRkYXRhID0gc2VsZWN0b3I7XG5cdFx0XHRzZWxlY3RvciA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdH1cblx0aWYgKCBmbiA9PT0gZmFsc2UgKSB7XG5cdFx0Zm4gPSByZXR1cm5GYWxzZTtcblx0fSBlbHNlIGlmICggIWZuICkge1xuXHRcdHJldHVybiBlbGVtO1xuXHR9XG5cblx0aWYgKCBvbmUgPT09IDEgKSB7XG5cdFx0b3JpZ0ZuID0gZm47XG5cdFx0Zm4gPSBmdW5jdGlvbiggZXZlbnQgKSB7XG5cblx0XHRcdC8vIENhbiB1c2UgYW4gZW1wdHkgc2V0LCBzaW5jZSBldmVudCBjb250YWlucyB0aGUgaW5mb1xuXHRcdFx0alF1ZXJ5KCkub2ZmKCBldmVudCApO1xuXHRcdFx0cmV0dXJuIG9yaWdGbi5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0fTtcblxuXHRcdC8vIFVzZSBzYW1lIGd1aWQgc28gY2FsbGVyIGNhbiByZW1vdmUgdXNpbmcgb3JpZ0ZuXG5cdFx0Zm4uZ3VpZCA9IG9yaWdGbi5ndWlkIHx8ICggb3JpZ0ZuLmd1aWQgPSBqUXVlcnkuZ3VpZCsrICk7XG5cdH1cblx0cmV0dXJuIGVsZW0uZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0alF1ZXJ5LmV2ZW50LmFkZCggdGhpcywgdHlwZXMsIGZuLCBkYXRhLCBzZWxlY3RvciApO1xuXHR9ICk7XG59XG5cbi8qXG4gKiBIZWxwZXIgZnVuY3Rpb25zIGZvciBtYW5hZ2luZyBldmVudHMgLS0gbm90IHBhcnQgb2YgdGhlIHB1YmxpYyBpbnRlcmZhY2UuXG4gKiBQcm9wcyB0byBEZWFuIEVkd2FyZHMnIGFkZEV2ZW50IGxpYnJhcnkgZm9yIG1hbnkgb2YgdGhlIGlkZWFzLlxuICovXG5qUXVlcnkuZXZlbnQgPSB7XG5cblx0Z2xvYmFsOiB7fSxcblxuXHRhZGQ6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlcywgaGFuZGxlciwgZGF0YSwgc2VsZWN0b3IgKSB7XG5cblx0XHR2YXIgaGFuZGxlT2JqSW4sIGV2ZW50SGFuZGxlLCB0bXAsXG5cdFx0XHRldmVudHMsIHQsIGhhbmRsZU9iaixcblx0XHRcdHNwZWNpYWwsIGhhbmRsZXJzLCB0eXBlLCBuYW1lc3BhY2VzLCBvcmlnVHlwZSxcblx0XHRcdGVsZW1EYXRhID0gZGF0YVByaXYuZ2V0KCBlbGVtICk7XG5cblx0XHQvLyBPbmx5IGF0dGFjaCBldmVudHMgdG8gb2JqZWN0cyB0aGF0IGFjY2VwdCBkYXRhXG5cdFx0aWYgKCAhYWNjZXB0RGF0YSggZWxlbSApICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIENhbGxlciBjYW4gcGFzcyBpbiBhbiBvYmplY3Qgb2YgY3VzdG9tIGRhdGEgaW4gbGlldSBvZiB0aGUgaGFuZGxlclxuXHRcdGlmICggaGFuZGxlci5oYW5kbGVyICkge1xuXHRcdFx0aGFuZGxlT2JqSW4gPSBoYW5kbGVyO1xuXHRcdFx0aGFuZGxlciA9IGhhbmRsZU9iakluLmhhbmRsZXI7XG5cdFx0XHRzZWxlY3RvciA9IGhhbmRsZU9iakluLnNlbGVjdG9yO1xuXHRcdH1cblxuXHRcdC8vIEVuc3VyZSB0aGF0IGludmFsaWQgc2VsZWN0b3JzIHRocm93IGV4Y2VwdGlvbnMgYXQgYXR0YWNoIHRpbWVcblx0XHQvLyBFdmFsdWF0ZSBhZ2FpbnN0IGRvY3VtZW50RWxlbWVudCBpbiBjYXNlIGVsZW0gaXMgYSBub24tZWxlbWVudCBub2RlIChlLmcuLCBkb2N1bWVudClcblx0XHRpZiAoIHNlbGVjdG9yICkge1xuXHRcdFx0alF1ZXJ5LmZpbmQubWF0Y2hlc1NlbGVjdG9yKCBkb2N1bWVudEVsZW1lbnQsIHNlbGVjdG9yICk7XG5cdFx0fVxuXG5cdFx0Ly8gTWFrZSBzdXJlIHRoYXQgdGhlIGhhbmRsZXIgaGFzIGEgdW5pcXVlIElELCB1c2VkIHRvIGZpbmQvcmVtb3ZlIGl0IGxhdGVyXG5cdFx0aWYgKCAhaGFuZGxlci5ndWlkICkge1xuXHRcdFx0aGFuZGxlci5ndWlkID0galF1ZXJ5Lmd1aWQrKztcblx0XHR9XG5cblx0XHQvLyBJbml0IHRoZSBlbGVtZW50J3MgZXZlbnQgc3RydWN0dXJlIGFuZCBtYWluIGhhbmRsZXIsIGlmIHRoaXMgaXMgdGhlIGZpcnN0XG5cdFx0aWYgKCAhKCBldmVudHMgPSBlbGVtRGF0YS5ldmVudHMgKSApIHtcblx0XHRcdGV2ZW50cyA9IGVsZW1EYXRhLmV2ZW50cyA9IE9iamVjdC5jcmVhdGUoIG51bGwgKTtcblx0XHR9XG5cdFx0aWYgKCAhKCBldmVudEhhbmRsZSA9IGVsZW1EYXRhLmhhbmRsZSApICkge1xuXHRcdFx0ZXZlbnRIYW5kbGUgPSBlbGVtRGF0YS5oYW5kbGUgPSBmdW5jdGlvbiggZSApIHtcblxuXHRcdFx0XHQvLyBEaXNjYXJkIHRoZSBzZWNvbmQgZXZlbnQgb2YgYSBqUXVlcnkuZXZlbnQudHJpZ2dlcigpIGFuZFxuXHRcdFx0XHQvLyB3aGVuIGFuIGV2ZW50IGlzIGNhbGxlZCBhZnRlciBhIHBhZ2UgaGFzIHVubG9hZGVkXG5cdFx0XHRcdHJldHVybiB0eXBlb2YgalF1ZXJ5ICE9PSBcInVuZGVmaW5lZFwiICYmIGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgIT09IGUudHlwZSA/XG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LmRpc3BhdGNoLmFwcGx5KCBlbGVtLCBhcmd1bWVudHMgKSA6IHVuZGVmaW5lZDtcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gSGFuZGxlIG11bHRpcGxlIGV2ZW50cyBzZXBhcmF0ZWQgYnkgYSBzcGFjZVxuXHRcdHR5cGVzID0gKCB0eXBlcyB8fCBcIlwiICkubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbIFwiXCIgXTtcblx0XHR0ID0gdHlwZXMubGVuZ3RoO1xuXHRcdHdoaWxlICggdC0tICkge1xuXHRcdFx0dG1wID0gcnR5cGVuYW1lc3BhY2UuZXhlYyggdHlwZXNbIHQgXSApIHx8IFtdO1xuXHRcdFx0dHlwZSA9IG9yaWdUeXBlID0gdG1wWyAxIF07XG5cdFx0XHRuYW1lc3BhY2VzID0gKCB0bXBbIDIgXSB8fCBcIlwiICkuc3BsaXQoIFwiLlwiICkuc29ydCgpO1xuXG5cdFx0XHQvLyBUaGVyZSAqbXVzdCogYmUgYSB0eXBlLCBubyBhdHRhY2hpbmcgbmFtZXNwYWNlLW9ubHkgaGFuZGxlcnNcblx0XHRcdGlmICggIXR5cGUgKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiBldmVudCBjaGFuZ2VzIGl0cyB0eXBlLCB1c2UgdGhlIHNwZWNpYWwgZXZlbnQgaGFuZGxlcnMgZm9yIHRoZSBjaGFuZ2VkIHR5cGVcblx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9O1xuXG5cdFx0XHQvLyBJZiBzZWxlY3RvciBkZWZpbmVkLCBkZXRlcm1pbmUgc3BlY2lhbCBldmVudCBhcGkgdHlwZSwgb3RoZXJ3aXNlIGdpdmVuIHR5cGVcblx0XHRcdHR5cGUgPSAoIHNlbGVjdG9yID8gc3BlY2lhbC5kZWxlZ2F0ZVR5cGUgOiBzcGVjaWFsLmJpbmRUeXBlICkgfHwgdHlwZTtcblxuXHRcdFx0Ly8gVXBkYXRlIHNwZWNpYWwgYmFzZWQgb24gbmV3bHkgcmVzZXQgdHlwZVxuXHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XG5cblx0XHRcdC8vIGhhbmRsZU9iaiBpcyBwYXNzZWQgdG8gYWxsIGV2ZW50IGhhbmRsZXJzXG5cdFx0XHRoYW5kbGVPYmogPSBqUXVlcnkuZXh0ZW5kKCB7XG5cdFx0XHRcdHR5cGU6IHR5cGUsXG5cdFx0XHRcdG9yaWdUeXBlOiBvcmlnVHlwZSxcblx0XHRcdFx0ZGF0YTogZGF0YSxcblx0XHRcdFx0aGFuZGxlcjogaGFuZGxlcixcblx0XHRcdFx0Z3VpZDogaGFuZGxlci5ndWlkLFxuXHRcdFx0XHRzZWxlY3Rvcjogc2VsZWN0b3IsXG5cdFx0XHRcdG5lZWRzQ29udGV4dDogc2VsZWN0b3IgJiYgalF1ZXJ5LmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LnRlc3QoIHNlbGVjdG9yICksXG5cdFx0XHRcdG5hbWVzcGFjZTogbmFtZXNwYWNlcy5qb2luKCBcIi5cIiApXG5cdFx0XHR9LCBoYW5kbGVPYmpJbiApO1xuXG5cdFx0XHQvLyBJbml0IHRoZSBldmVudCBoYW5kbGVyIHF1ZXVlIGlmIHdlJ3JlIHRoZSBmaXJzdFxuXHRcdFx0aWYgKCAhKCBoYW5kbGVycyA9IGV2ZW50c1sgdHlwZSBdICkgKSB7XG5cdFx0XHRcdGhhbmRsZXJzID0gZXZlbnRzWyB0eXBlIF0gPSBbXTtcblx0XHRcdFx0aGFuZGxlcnMuZGVsZWdhdGVDb3VudCA9IDA7XG5cblx0XHRcdFx0Ly8gT25seSB1c2UgYWRkRXZlbnRMaXN0ZW5lciBpZiB0aGUgc3BlY2lhbCBldmVudHMgaGFuZGxlciByZXR1cm5zIGZhbHNlXG5cdFx0XHRcdGlmICggIXNwZWNpYWwuc2V0dXAgfHxcblx0XHRcdFx0XHRzcGVjaWFsLnNldHVwLmNhbGwoIGVsZW0sIGRhdGEsIG5hbWVzcGFjZXMsIGV2ZW50SGFuZGxlICkgPT09IGZhbHNlICkge1xuXG5cdFx0XHRcdFx0aWYgKCBlbGVtLmFkZEV2ZW50TGlzdGVuZXIgKSB7XG5cdFx0XHRcdFx0XHRlbGVtLmFkZEV2ZW50TGlzdGVuZXIoIHR5cGUsIGV2ZW50SGFuZGxlICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmICggc3BlY2lhbC5hZGQgKSB7XG5cdFx0XHRcdHNwZWNpYWwuYWRkLmNhbGwoIGVsZW0sIGhhbmRsZU9iaiApO1xuXG5cdFx0XHRcdGlmICggIWhhbmRsZU9iai5oYW5kbGVyLmd1aWQgKSB7XG5cdFx0XHRcdFx0aGFuZGxlT2JqLmhhbmRsZXIuZ3VpZCA9IGhhbmRsZXIuZ3VpZDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBBZGQgdG8gdGhlIGVsZW1lbnQncyBoYW5kbGVyIGxpc3QsIGRlbGVnYXRlcyBpbiBmcm9udFxuXHRcdFx0aWYgKCBzZWxlY3RvciApIHtcblx0XHRcdFx0aGFuZGxlcnMuc3BsaWNlKCBoYW5kbGVycy5kZWxlZ2F0ZUNvdW50KyssIDAsIGhhbmRsZU9iaiApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aGFuZGxlcnMucHVzaCggaGFuZGxlT2JqICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEtlZXAgdHJhY2sgb2Ygd2hpY2ggZXZlbnRzIGhhdmUgZXZlciBiZWVuIHVzZWQsIGZvciBldmVudCBvcHRpbWl6YXRpb25cblx0XHRcdGpRdWVyeS5ldmVudC5nbG9iYWxbIHR5cGUgXSA9IHRydWU7XG5cdFx0fVxuXG5cdH0sXG5cblx0Ly8gRGV0YWNoIGFuIGV2ZW50IG9yIHNldCBvZiBldmVudHMgZnJvbSBhbiBlbGVtZW50XG5cdHJlbW92ZTogZnVuY3Rpb24oIGVsZW0sIHR5cGVzLCBoYW5kbGVyLCBzZWxlY3RvciwgbWFwcGVkVHlwZXMgKSB7XG5cblx0XHR2YXIgaiwgb3JpZ0NvdW50LCB0bXAsXG5cdFx0XHRldmVudHMsIHQsIGhhbmRsZU9iaixcblx0XHRcdHNwZWNpYWwsIGhhbmRsZXJzLCB0eXBlLCBuYW1lc3BhY2VzLCBvcmlnVHlwZSxcblx0XHRcdGVsZW1EYXRhID0gZGF0YVByaXYuaGFzRGF0YSggZWxlbSApICYmIGRhdGFQcml2LmdldCggZWxlbSApO1xuXG5cdFx0aWYgKCAhZWxlbURhdGEgfHwgISggZXZlbnRzID0gZWxlbURhdGEuZXZlbnRzICkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gT25jZSBmb3IgZWFjaCB0eXBlLm5hbWVzcGFjZSBpbiB0eXBlczsgdHlwZSBtYXkgYmUgb21pdHRlZFxuXHRcdHR5cGVzID0gKCB0eXBlcyB8fCBcIlwiICkubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbIFwiXCIgXTtcblx0XHR0ID0gdHlwZXMubGVuZ3RoO1xuXHRcdHdoaWxlICggdC0tICkge1xuXHRcdFx0dG1wID0gcnR5cGVuYW1lc3BhY2UuZXhlYyggdHlwZXNbIHQgXSApIHx8IFtdO1xuXHRcdFx0dHlwZSA9IG9yaWdUeXBlID0gdG1wWyAxIF07XG5cdFx0XHRuYW1lc3BhY2VzID0gKCB0bXBbIDIgXSB8fCBcIlwiICkuc3BsaXQoIFwiLlwiICkuc29ydCgpO1xuXG5cdFx0XHQvLyBVbmJpbmQgYWxsIGV2ZW50cyAob24gdGhpcyBuYW1lc3BhY2UsIGlmIHByb3ZpZGVkKSBmb3IgdGhlIGVsZW1lbnRcblx0XHRcdGlmICggIXR5cGUgKSB7XG5cdFx0XHRcdGZvciAoIHR5cGUgaW4gZXZlbnRzICkge1xuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC5yZW1vdmUoIGVsZW0sIHR5cGUgKyB0eXBlc1sgdCBdLCBoYW5kbGVyLCBzZWxlY3RvciwgdHJ1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIHR5cGUgXSB8fCB7fTtcblx0XHRcdHR5cGUgPSAoIHNlbGVjdG9yID8gc3BlY2lhbC5kZWxlZ2F0ZVR5cGUgOiBzcGVjaWFsLmJpbmRUeXBlICkgfHwgdHlwZTtcblx0XHRcdGhhbmRsZXJzID0gZXZlbnRzWyB0eXBlIF0gfHwgW107XG5cdFx0XHR0bXAgPSB0bXBbIDIgXSAmJlxuXHRcdFx0XHRuZXcgUmVnRXhwKCBcIihefFxcXFwuKVwiICsgbmFtZXNwYWNlcy5qb2luKCBcIlxcXFwuKD86LipcXFxcLnwpXCIgKSArIFwiKFxcXFwufCQpXCIgKTtcblxuXHRcdFx0Ly8gUmVtb3ZlIG1hdGNoaW5nIGV2ZW50c1xuXHRcdFx0b3JpZ0NvdW50ID0gaiA9IGhhbmRsZXJzLmxlbmd0aDtcblx0XHRcdHdoaWxlICggai0tICkge1xuXHRcdFx0XHRoYW5kbGVPYmogPSBoYW5kbGVyc1sgaiBdO1xuXG5cdFx0XHRcdGlmICggKCBtYXBwZWRUeXBlcyB8fCBvcmlnVHlwZSA9PT0gaGFuZGxlT2JqLm9yaWdUeXBlICkgJiZcblx0XHRcdFx0XHQoICFoYW5kbGVyIHx8IGhhbmRsZXIuZ3VpZCA9PT0gaGFuZGxlT2JqLmd1aWQgKSAmJlxuXHRcdFx0XHRcdCggIXRtcCB8fCB0bXAudGVzdCggaGFuZGxlT2JqLm5hbWVzcGFjZSApICkgJiZcblx0XHRcdFx0XHQoICFzZWxlY3RvciB8fCBzZWxlY3RvciA9PT0gaGFuZGxlT2JqLnNlbGVjdG9yIHx8XG5cdFx0XHRcdFx0XHRzZWxlY3RvciA9PT0gXCIqKlwiICYmIGhhbmRsZU9iai5zZWxlY3RvciApICkge1xuXHRcdFx0XHRcdGhhbmRsZXJzLnNwbGljZSggaiwgMSApO1xuXG5cdFx0XHRcdFx0aWYgKCBoYW5kbGVPYmouc2VsZWN0b3IgKSB7XG5cdFx0XHRcdFx0XHRoYW5kbGVycy5kZWxlZ2F0ZUNvdW50LS07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICggc3BlY2lhbC5yZW1vdmUgKSB7XG5cdFx0XHRcdFx0XHRzcGVjaWFsLnJlbW92ZS5jYWxsKCBlbGVtLCBoYW5kbGVPYmogKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gUmVtb3ZlIGdlbmVyaWMgZXZlbnQgaGFuZGxlciBpZiB3ZSByZW1vdmVkIHNvbWV0aGluZyBhbmQgbm8gbW9yZSBoYW5kbGVycyBleGlzdFxuXHRcdFx0Ly8gKGF2b2lkcyBwb3RlbnRpYWwgZm9yIGVuZGxlc3MgcmVjdXJzaW9uIGR1cmluZyByZW1vdmFsIG9mIHNwZWNpYWwgZXZlbnQgaGFuZGxlcnMpXG5cdFx0XHRpZiAoIG9yaWdDb3VudCAmJiAhaGFuZGxlcnMubGVuZ3RoICkge1xuXHRcdFx0XHRpZiAoICFzcGVjaWFsLnRlYXJkb3duIHx8XG5cdFx0XHRcdFx0c3BlY2lhbC50ZWFyZG93bi5jYWxsKCBlbGVtLCBuYW1lc3BhY2VzLCBlbGVtRGF0YS5oYW5kbGUgKSA9PT0gZmFsc2UgKSB7XG5cblx0XHRcdFx0XHRqUXVlcnkucmVtb3ZlRXZlbnQoIGVsZW0sIHR5cGUsIGVsZW1EYXRhLmhhbmRsZSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZGVsZXRlIGV2ZW50c1sgdHlwZSBdO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFJlbW92ZSBkYXRhIGFuZCB0aGUgZXhwYW5kbyBpZiBpdCdzIG5vIGxvbmdlciB1c2VkXG5cdFx0aWYgKCBqUXVlcnkuaXNFbXB0eU9iamVjdCggZXZlbnRzICkgKSB7XG5cdFx0XHRkYXRhUHJpdi5yZW1vdmUoIGVsZW0sIFwiaGFuZGxlIGV2ZW50c1wiICk7XG5cdFx0fVxuXHR9LFxuXG5cdGRpc3BhdGNoOiBmdW5jdGlvbiggbmF0aXZlRXZlbnQgKSB7XG5cblx0XHR2YXIgaSwgaiwgcmV0LCBtYXRjaGVkLCBoYW5kbGVPYmosIGhhbmRsZXJRdWV1ZSxcblx0XHRcdGFyZ3MgPSBuZXcgQXJyYXkoIGFyZ3VtZW50cy5sZW5ndGggKSxcblxuXHRcdFx0Ly8gTWFrZSBhIHdyaXRhYmxlIGpRdWVyeS5FdmVudCBmcm9tIHRoZSBuYXRpdmUgZXZlbnQgb2JqZWN0XG5cdFx0XHRldmVudCA9IGpRdWVyeS5ldmVudC5maXgoIG5hdGl2ZUV2ZW50ICksXG5cblx0XHRcdGhhbmRsZXJzID0gKFxuXHRcdFx0XHRkYXRhUHJpdi5nZXQoIHRoaXMsIFwiZXZlbnRzXCIgKSB8fCBPYmplY3QuY3JlYXRlKCBudWxsIClcblx0XHRcdClbIGV2ZW50LnR5cGUgXSB8fCBbXSxcblx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgZXZlbnQudHlwZSBdIHx8IHt9O1xuXG5cdFx0Ly8gVXNlIHRoZSBmaXgtZWQgalF1ZXJ5LkV2ZW50IHJhdGhlciB0aGFuIHRoZSAocmVhZC1vbmx5KSBuYXRpdmUgZXZlbnRcblx0XHRhcmdzWyAwIF0gPSBldmVudDtcblxuXHRcdGZvciAoIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrICkge1xuXHRcdFx0YXJnc1sgaSBdID0gYXJndW1lbnRzWyBpIF07XG5cdFx0fVxuXG5cdFx0ZXZlbnQuZGVsZWdhdGVUYXJnZXQgPSB0aGlzO1xuXG5cdFx0Ly8gQ2FsbCB0aGUgcHJlRGlzcGF0Y2ggaG9vayBmb3IgdGhlIG1hcHBlZCB0eXBlLCBhbmQgbGV0IGl0IGJhaWwgaWYgZGVzaXJlZFxuXHRcdGlmICggc3BlY2lhbC5wcmVEaXNwYXRjaCAmJiBzcGVjaWFsLnByZURpc3BhdGNoLmNhbGwoIHRoaXMsIGV2ZW50ICkgPT09IGZhbHNlICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIERldGVybWluZSBoYW5kbGVyc1xuXHRcdGhhbmRsZXJRdWV1ZSA9IGpRdWVyeS5ldmVudC5oYW5kbGVycy5jYWxsKCB0aGlzLCBldmVudCwgaGFuZGxlcnMgKTtcblxuXHRcdC8vIFJ1biBkZWxlZ2F0ZXMgZmlyc3Q7IHRoZXkgbWF5IHdhbnQgdG8gc3RvcCBwcm9wYWdhdGlvbiBiZW5lYXRoIHVzXG5cdFx0aSA9IDA7XG5cdFx0d2hpbGUgKCAoIG1hdGNoZWQgPSBoYW5kbGVyUXVldWVbIGkrKyBdICkgJiYgIWV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7XG5cdFx0XHRldmVudC5jdXJyZW50VGFyZ2V0ID0gbWF0Y2hlZC5lbGVtO1xuXG5cdFx0XHRqID0gMDtcblx0XHRcdHdoaWxlICggKCBoYW5kbGVPYmogPSBtYXRjaGVkLmhhbmRsZXJzWyBqKysgXSApICYmXG5cdFx0XHRcdCFldmVudC5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpICkge1xuXG5cdFx0XHRcdC8vIElmIHRoZSBldmVudCBpcyBuYW1lc3BhY2VkLCB0aGVuIGVhY2ggaGFuZGxlciBpcyBvbmx5IGludm9rZWQgaWYgaXQgaXNcblx0XHRcdFx0Ly8gc3BlY2lhbGx5IHVuaXZlcnNhbCBvciBpdHMgbmFtZXNwYWNlcyBhcmUgYSBzdXBlcnNldCBvZiB0aGUgZXZlbnQncy5cblx0XHRcdFx0aWYgKCAhZXZlbnQucm5hbWVzcGFjZSB8fCBoYW5kbGVPYmoubmFtZXNwYWNlID09PSBmYWxzZSB8fFxuXHRcdFx0XHRcdGV2ZW50LnJuYW1lc3BhY2UudGVzdCggaGFuZGxlT2JqLm5hbWVzcGFjZSApICkge1xuXG5cdFx0XHRcdFx0ZXZlbnQuaGFuZGxlT2JqID0gaGFuZGxlT2JqO1xuXHRcdFx0XHRcdGV2ZW50LmRhdGEgPSBoYW5kbGVPYmouZGF0YTtcblxuXHRcdFx0XHRcdHJldCA9ICggKCBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgaGFuZGxlT2JqLm9yaWdUeXBlIF0gfHwge30gKS5oYW5kbGUgfHxcblx0XHRcdFx0XHRcdGhhbmRsZU9iai5oYW5kbGVyICkuYXBwbHkoIG1hdGNoZWQuZWxlbSwgYXJncyApO1xuXG5cdFx0XHRcdFx0aWYgKCByZXQgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRcdGlmICggKCBldmVudC5yZXN1bHQgPSByZXQgKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENhbGwgdGhlIHBvc3REaXNwYXRjaCBob29rIGZvciB0aGUgbWFwcGVkIHR5cGVcblx0XHRpZiAoIHNwZWNpYWwucG9zdERpc3BhdGNoICkge1xuXHRcdFx0c3BlY2lhbC5wb3N0RGlzcGF0Y2guY2FsbCggdGhpcywgZXZlbnQgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZXZlbnQucmVzdWx0O1xuXHR9LFxuXG5cdGhhbmRsZXJzOiBmdW5jdGlvbiggZXZlbnQsIGhhbmRsZXJzICkge1xuXHRcdHZhciBpLCBoYW5kbGVPYmosIHNlbCwgbWF0Y2hlZEhhbmRsZXJzLCBtYXRjaGVkU2VsZWN0b3JzLFxuXHRcdFx0aGFuZGxlclF1ZXVlID0gW10sXG5cdFx0XHRkZWxlZ2F0ZUNvdW50ID0gaGFuZGxlcnMuZGVsZWdhdGVDb3VudCxcblx0XHRcdGN1ciA9IGV2ZW50LnRhcmdldDtcblxuXHRcdC8vIEZpbmQgZGVsZWdhdGUgaGFuZGxlcnNcblx0XHRpZiAoIGRlbGVnYXRlQ291bnQgJiZcblxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgPD05XG5cdFx0XHQvLyBCbGFjay1ob2xlIFNWRyA8dXNlPiBpbnN0YW5jZSB0cmVlcyAodHJhYy0xMzE4MClcblx0XHRcdGN1ci5ub2RlVHlwZSAmJlxuXG5cdFx0XHQvLyBTdXBwb3J0OiBGaXJlZm94IDw9NDJcblx0XHRcdC8vIFN1cHByZXNzIHNwZWMtdmlvbGF0aW5nIGNsaWNrcyBpbmRpY2F0aW5nIGEgbm9uLXByaW1hcnkgcG9pbnRlciBidXR0b24gKHRyYWMtMzg2MSlcblx0XHRcdC8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMvI2V2ZW50LXR5cGUtY2xpY2tcblx0XHRcdC8vIFN1cHBvcnQ6IElFIDExIG9ubHlcblx0XHRcdC8vIC4uLmJ1dCBub3QgYXJyb3cga2V5IFwiY2xpY2tzXCIgb2YgcmFkaW8gaW5wdXRzLCB3aGljaCBjYW4gaGF2ZSBgYnV0dG9uYCAtMSAoZ2gtMjM0Mylcblx0XHRcdCEoIGV2ZW50LnR5cGUgPT09IFwiY2xpY2tcIiAmJiBldmVudC5idXR0b24gPj0gMSApICkge1xuXG5cdFx0XHRmb3IgKCA7IGN1ciAhPT0gdGhpczsgY3VyID0gY3VyLnBhcmVudE5vZGUgfHwgdGhpcyApIHtcblxuXHRcdFx0XHQvLyBEb24ndCBjaGVjayBub24tZWxlbWVudHMgKHRyYWMtMTMyMDgpXG5cdFx0XHRcdC8vIERvbid0IHByb2Nlc3MgY2xpY2tzIG9uIGRpc2FibGVkIGVsZW1lbnRzICh0cmFjLTY5MTEsIHRyYWMtODE2NSwgdHJhYy0xMTM4MiwgdHJhYy0xMTc2NClcblx0XHRcdFx0aWYgKCBjdXIubm9kZVR5cGUgPT09IDEgJiYgISggZXZlbnQudHlwZSA9PT0gXCJjbGlja1wiICYmIGN1ci5kaXNhYmxlZCA9PT0gdHJ1ZSApICkge1xuXHRcdFx0XHRcdG1hdGNoZWRIYW5kbGVycyA9IFtdO1xuXHRcdFx0XHRcdG1hdGNoZWRTZWxlY3RvcnMgPSB7fTtcblx0XHRcdFx0XHRmb3IgKCBpID0gMDsgaSA8IGRlbGVnYXRlQ291bnQ7IGkrKyApIHtcblx0XHRcdFx0XHRcdGhhbmRsZU9iaiA9IGhhbmRsZXJzWyBpIF07XG5cblx0XHRcdFx0XHRcdC8vIERvbid0IGNvbmZsaWN0IHdpdGggT2JqZWN0LnByb3RvdHlwZSBwcm9wZXJ0aWVzICh0cmFjLTEzMjAzKVxuXHRcdFx0XHRcdFx0c2VsID0gaGFuZGxlT2JqLnNlbGVjdG9yICsgXCIgXCI7XG5cblx0XHRcdFx0XHRcdGlmICggbWF0Y2hlZFNlbGVjdG9yc1sgc2VsIF0gPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRcdFx0bWF0Y2hlZFNlbGVjdG9yc1sgc2VsIF0gPSBoYW5kbGVPYmoubmVlZHNDb250ZXh0ID9cblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIHNlbCwgdGhpcyApLmluZGV4KCBjdXIgKSA+IC0xIDpcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkuZmluZCggc2VsLCB0aGlzLCBudWxsLCBbIGN1ciBdICkubGVuZ3RoO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYgKCBtYXRjaGVkU2VsZWN0b3JzWyBzZWwgXSApIHtcblx0XHRcdFx0XHRcdFx0bWF0Y2hlZEhhbmRsZXJzLnB1c2goIGhhbmRsZU9iaiApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoIG1hdGNoZWRIYW5kbGVycy5sZW5ndGggKSB7XG5cdFx0XHRcdFx0XHRoYW5kbGVyUXVldWUucHVzaCggeyBlbGVtOiBjdXIsIGhhbmRsZXJzOiBtYXRjaGVkSGFuZGxlcnMgfSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEFkZCB0aGUgcmVtYWluaW5nIChkaXJlY3RseS1ib3VuZCkgaGFuZGxlcnNcblx0XHRjdXIgPSB0aGlzO1xuXHRcdGlmICggZGVsZWdhdGVDb3VudCA8IGhhbmRsZXJzLmxlbmd0aCApIHtcblx0XHRcdGhhbmRsZXJRdWV1ZS5wdXNoKCB7IGVsZW06IGN1ciwgaGFuZGxlcnM6IGhhbmRsZXJzLnNsaWNlKCBkZWxlZ2F0ZUNvdW50ICkgfSApO1xuXHRcdH1cblxuXHRcdHJldHVybiBoYW5kbGVyUXVldWU7XG5cdH0sXG5cblx0YWRkUHJvcDogZnVuY3Rpb24oIG5hbWUsIGhvb2sgKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KCBqUXVlcnkuRXZlbnQucHJvdG90eXBlLCBuYW1lLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXG5cdFx0XHRnZXQ6IGlzRnVuY3Rpb24oIGhvb2sgKSA/XG5cdFx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICggdGhpcy5vcmlnaW5hbEV2ZW50ICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGhvb2soIHRoaXMub3JpZ2luYWxFdmVudCApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSA6XG5cdFx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICggdGhpcy5vcmlnaW5hbEV2ZW50ICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXMub3JpZ2luYWxFdmVudFsgbmFtZSBdO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblxuXHRcdFx0c2V0OiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSggdGhpcywgbmFtZSwge1xuXHRcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdHdyaXRhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdHZhbHVlOiB2YWx1ZVxuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdGZpeDogZnVuY3Rpb24oIG9yaWdpbmFsRXZlbnQgKSB7XG5cdFx0cmV0dXJuIG9yaWdpbmFsRXZlbnRbIGpRdWVyeS5leHBhbmRvIF0gP1xuXHRcdFx0b3JpZ2luYWxFdmVudCA6XG5cdFx0XHRuZXcgalF1ZXJ5LkV2ZW50KCBvcmlnaW5hbEV2ZW50ICk7XG5cdH0sXG5cblx0c3BlY2lhbDoge1xuXHRcdGxvYWQ6IHtcblxuXHRcdFx0Ly8gUHJldmVudCB0cmlnZ2VyZWQgaW1hZ2UubG9hZCBldmVudHMgZnJvbSBidWJibGluZyB0byB3aW5kb3cubG9hZFxuXHRcdFx0bm9CdWJibGU6IHRydWVcblx0XHR9LFxuXHRcdGNsaWNrOiB7XG5cblx0XHRcdC8vIFV0aWxpemUgbmF0aXZlIGV2ZW50IHRvIGVuc3VyZSBjb3JyZWN0IHN0YXRlIGZvciBjaGVja2FibGUgaW5wdXRzXG5cdFx0XHRzZXR1cDogZnVuY3Rpb24oIGRhdGEgKSB7XG5cblx0XHRcdFx0Ly8gRm9yIG11dHVhbCBjb21wcmVzc2liaWxpdHkgd2l0aCBfZGVmYXVsdCwgcmVwbGFjZSBgdGhpc2AgYWNjZXNzIHdpdGggYSBsb2NhbCB2YXIuXG5cdFx0XHRcdC8vIGB8fCBkYXRhYCBpcyBkZWFkIGNvZGUgbWVhbnQgb25seSB0byBwcmVzZXJ2ZSB0aGUgdmFyaWFibGUgdGhyb3VnaCBtaW5pZmljYXRpb24uXG5cdFx0XHRcdHZhciBlbCA9IHRoaXMgfHwgZGF0YTtcblxuXHRcdFx0XHQvLyBDbGFpbSB0aGUgZmlyc3QgaGFuZGxlclxuXHRcdFx0XHRpZiAoIHJjaGVja2FibGVUeXBlLnRlc3QoIGVsLnR5cGUgKSAmJlxuXHRcdFx0XHRcdGVsLmNsaWNrICYmIG5vZGVOYW1lKCBlbCwgXCJpbnB1dFwiICkgKSB7XG5cblx0XHRcdFx0XHQvLyBkYXRhUHJpdi5zZXQoIGVsLCBcImNsaWNrXCIsIC4uLiApXG5cdFx0XHRcdFx0bGV2ZXJhZ2VOYXRpdmUoIGVsLCBcImNsaWNrXCIsIHRydWUgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFJldHVybiBmYWxzZSB0byBhbGxvdyBub3JtYWwgcHJvY2Vzc2luZyBpbiB0aGUgY2FsbGVyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH0sXG5cdFx0XHR0cmlnZ2VyOiBmdW5jdGlvbiggZGF0YSApIHtcblxuXHRcdFx0XHQvLyBGb3IgbXV0dWFsIGNvbXByZXNzaWJpbGl0eSB3aXRoIF9kZWZhdWx0LCByZXBsYWNlIGB0aGlzYCBhY2Nlc3Mgd2l0aCBhIGxvY2FsIHZhci5cblx0XHRcdFx0Ly8gYHx8IGRhdGFgIGlzIGRlYWQgY29kZSBtZWFudCBvbmx5IHRvIHByZXNlcnZlIHRoZSB2YXJpYWJsZSB0aHJvdWdoIG1pbmlmaWNhdGlvbi5cblx0XHRcdFx0dmFyIGVsID0gdGhpcyB8fCBkYXRhO1xuXG5cdFx0XHRcdC8vIEZvcmNlIHNldHVwIGJlZm9yZSB0cmlnZ2VyaW5nIGEgY2xpY2tcblx0XHRcdFx0aWYgKCByY2hlY2thYmxlVHlwZS50ZXN0KCBlbC50eXBlICkgJiZcblx0XHRcdFx0XHRlbC5jbGljayAmJiBub2RlTmFtZSggZWwsIFwiaW5wdXRcIiApICkge1xuXG5cdFx0XHRcdFx0bGV2ZXJhZ2VOYXRpdmUoIGVsLCBcImNsaWNrXCIgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFJldHVybiBub24tZmFsc2UgdG8gYWxsb3cgbm9ybWFsIGV2ZW50LXBhdGggcHJvcGFnYXRpb25cblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBGb3IgY3Jvc3MtYnJvd3NlciBjb25zaXN0ZW5jeSwgc3VwcHJlc3MgbmF0aXZlIC5jbGljaygpIG9uIGxpbmtzXG5cdFx0XHQvLyBBbHNvIHByZXZlbnQgaXQgaWYgd2UncmUgY3VycmVudGx5IGluc2lkZSBhIGxldmVyYWdlZCBuYXRpdmUtZXZlbnQgc3RhY2tcblx0XHRcdF9kZWZhdWx0OiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdHZhciB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG5cdFx0XHRcdHJldHVybiByY2hlY2thYmxlVHlwZS50ZXN0KCB0YXJnZXQudHlwZSApICYmXG5cdFx0XHRcdFx0dGFyZ2V0LmNsaWNrICYmIG5vZGVOYW1lKCB0YXJnZXQsIFwiaW5wdXRcIiApICYmXG5cdFx0XHRcdFx0ZGF0YVByaXYuZ2V0KCB0YXJnZXQsIFwiY2xpY2tcIiApIHx8XG5cdFx0XHRcdFx0bm9kZU5hbWUoIHRhcmdldCwgXCJhXCIgKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0YmVmb3JldW5sb2FkOiB7XG5cdFx0XHRwb3N0RGlzcGF0Y2g6IGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBGaXJlZm94IDIwK1xuXHRcdFx0XHQvLyBGaXJlZm94IGRvZXNuJ3QgYWxlcnQgaWYgdGhlIHJldHVyblZhbHVlIGZpZWxkIGlzIG5vdCBzZXQuXG5cdFx0XHRcdGlmICggZXZlbnQucmVzdWx0ICE9PSB1bmRlZmluZWQgJiYgZXZlbnQub3JpZ2luYWxFdmVudCApIHtcblx0XHRcdFx0XHRldmVudC5vcmlnaW5hbEV2ZW50LnJldHVyblZhbHVlID0gZXZlbnQucmVzdWx0O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59O1xuXG4vLyBFbnN1cmUgdGhlIHByZXNlbmNlIG9mIGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgaGFuZGxlcyBtYW51YWxseS10cmlnZ2VyZWRcbi8vIHN5bnRoZXRpYyBldmVudHMgYnkgaW50ZXJydXB0aW5nIHByb2dyZXNzIHVudGlsIHJlaW52b2tlZCBpbiByZXNwb25zZSB0b1xuLy8gKm5hdGl2ZSogZXZlbnRzIHRoYXQgaXQgZmlyZXMgZGlyZWN0bHksIGVuc3VyaW5nIHRoYXQgc3RhdGUgY2hhbmdlcyBoYXZlXG4vLyBhbHJlYWR5IG9jY3VycmVkIGJlZm9yZSBvdGhlciBsaXN0ZW5lcnMgYXJlIGludm9rZWQuXG5mdW5jdGlvbiBsZXZlcmFnZU5hdGl2ZSggZWwsIHR5cGUsIGlzU2V0dXAgKSB7XG5cblx0Ly8gTWlzc2luZyBgaXNTZXR1cGAgaW5kaWNhdGVzIGEgdHJpZ2dlciBjYWxsLCB3aGljaCBtdXN0IGZvcmNlIHNldHVwIHRocm91Z2ggalF1ZXJ5LmV2ZW50LmFkZFxuXHRpZiAoICFpc1NldHVwICkge1xuXHRcdGlmICggZGF0YVByaXYuZ2V0KCBlbCwgdHlwZSApID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRqUXVlcnkuZXZlbnQuYWRkKCBlbCwgdHlwZSwgcmV0dXJuVHJ1ZSApO1xuXHRcdH1cblx0XHRyZXR1cm47XG5cdH1cblxuXHQvLyBSZWdpc3RlciB0aGUgY29udHJvbGxlciBhcyBhIHNwZWNpYWwgdW5pdmVyc2FsIGhhbmRsZXIgZm9yIGFsbCBldmVudCBuYW1lc3BhY2VzXG5cdGRhdGFQcml2LnNldCggZWwsIHR5cGUsIGZhbHNlICk7XG5cdGpRdWVyeS5ldmVudC5hZGQoIGVsLCB0eXBlLCB7XG5cdFx0bmFtZXNwYWNlOiBmYWxzZSxcblx0XHRoYW5kbGVyOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHR2YXIgcmVzdWx0LFxuXHRcdFx0XHRzYXZlZCA9IGRhdGFQcml2LmdldCggdGhpcywgdHlwZSApO1xuXG5cdFx0XHRpZiAoICggZXZlbnQuaXNUcmlnZ2VyICYgMSApICYmIHRoaXNbIHR5cGUgXSApIHtcblxuXHRcdFx0XHQvLyBJbnRlcnJ1cHQgcHJvY2Vzc2luZyBvZiB0aGUgb3V0ZXIgc3ludGhldGljIC50cmlnZ2VyKCllZCBldmVudFxuXHRcdFx0XHRpZiAoICFzYXZlZCApIHtcblxuXHRcdFx0XHRcdC8vIFN0b3JlIGFyZ3VtZW50cyBmb3IgdXNlIHdoZW4gaGFuZGxpbmcgdGhlIGlubmVyIG5hdGl2ZSBldmVudFxuXHRcdFx0XHRcdC8vIFRoZXJlIHdpbGwgYWx3YXlzIGJlIGF0IGxlYXN0IG9uZSBhcmd1bWVudCAoYW4gZXZlbnQgb2JqZWN0KSwgc28gdGhpcyBhcnJheVxuXHRcdFx0XHRcdC8vIHdpbGwgbm90IGJlIGNvbmZ1c2VkIHdpdGggYSBsZWZ0b3ZlciBjYXB0dXJlIG9iamVjdC5cblx0XHRcdFx0XHRzYXZlZCA9IHNsaWNlLmNhbGwoIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRcdGRhdGFQcml2LnNldCggdGhpcywgdHlwZSwgc2F2ZWQgKTtcblxuXHRcdFx0XHRcdC8vIFRyaWdnZXIgdGhlIG5hdGl2ZSBldmVudCBhbmQgY2FwdHVyZSBpdHMgcmVzdWx0XG5cdFx0XHRcdFx0dGhpc1sgdHlwZSBdKCk7XG5cdFx0XHRcdFx0cmVzdWx0ID0gZGF0YVByaXYuZ2V0KCB0aGlzLCB0eXBlICk7XG5cdFx0XHRcdFx0ZGF0YVByaXYuc2V0KCB0aGlzLCB0eXBlLCBmYWxzZSApO1xuXG5cdFx0XHRcdFx0aWYgKCBzYXZlZCAhPT0gcmVzdWx0ICkge1xuXG5cdFx0XHRcdFx0XHQvLyBDYW5jZWwgdGhlIG91dGVyIHN5bnRoZXRpYyBldmVudFxuXHRcdFx0XHRcdFx0ZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBJZiB0aGlzIGlzIGFuIGlubmVyIHN5bnRoZXRpYyBldmVudCBmb3IgYW4gZXZlbnQgd2l0aCBhIGJ1YmJsaW5nIHN1cnJvZ2F0ZVxuXHRcdFx0XHQvLyAoZm9jdXMgb3IgYmx1ciksIGFzc3VtZSB0aGF0IHRoZSBzdXJyb2dhdGUgYWxyZWFkeSBwcm9wYWdhdGVkIGZyb20gdHJpZ2dlcmluZ1xuXHRcdFx0XHQvLyB0aGUgbmF0aXZlIGV2ZW50IGFuZCBwcmV2ZW50IHRoYXQgZnJvbSBoYXBwZW5pbmcgYWdhaW4gaGVyZS5cblx0XHRcdFx0Ly8gVGhpcyB0ZWNobmljYWxseSBnZXRzIHRoZSBvcmRlcmluZyB3cm9uZyB3LnIudC4gdG8gYC50cmlnZ2VyKClgIChpbiB3aGljaCB0aGVcblx0XHRcdFx0Ly8gYnViYmxpbmcgc3Vycm9nYXRlIHByb3BhZ2F0ZXMgKmFmdGVyKiB0aGUgbm9uLWJ1YmJsaW5nIGJhc2UpLCBidXQgdGhhdCBzZWVtc1xuXHRcdFx0XHQvLyBsZXNzIGJhZCB0aGFuIGR1cGxpY2F0aW9uLlxuXHRcdFx0XHR9IGVsc2UgaWYgKCAoIGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge30gKS5kZWxlZ2F0ZVR5cGUgKSB7XG5cdFx0XHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgdGhpcyBpcyBhIG5hdGl2ZSBldmVudCB0cmlnZ2VyZWQgYWJvdmUsIGV2ZXJ5dGhpbmcgaXMgbm93IGluIG9yZGVyXG5cdFx0XHQvLyBGaXJlIGFuIGlubmVyIHN5bnRoZXRpYyBldmVudCB3aXRoIHRoZSBvcmlnaW5hbCBhcmd1bWVudHNcblx0XHRcdH0gZWxzZSBpZiAoIHNhdmVkICkge1xuXG5cdFx0XHRcdC8vIC4uLmFuZCBjYXB0dXJlIHRoZSByZXN1bHRcblx0XHRcdFx0ZGF0YVByaXYuc2V0KCB0aGlzLCB0eXBlLCBqUXVlcnkuZXZlbnQudHJpZ2dlcihcblx0XHRcdFx0XHRzYXZlZFsgMCBdLFxuXHRcdFx0XHRcdHNhdmVkLnNsaWNlKCAxICksXG5cdFx0XHRcdFx0dGhpc1xuXHRcdFx0XHQpICk7XG5cblx0XHRcdFx0Ly8gQWJvcnQgaGFuZGxpbmcgb2YgdGhlIG5hdGl2ZSBldmVudCBieSBhbGwgalF1ZXJ5IGhhbmRsZXJzIHdoaWxlIGFsbG93aW5nXG5cdFx0XHRcdC8vIG5hdGl2ZSBoYW5kbGVycyBvbiB0aGUgc2FtZSBlbGVtZW50IHRvIHJ1bi4gT24gdGFyZ2V0LCB0aGlzIGlzIGFjaGlldmVkXG5cdFx0XHRcdC8vIGJ5IHN0b3BwaW5nIGltbWVkaWF0ZSBwcm9wYWdhdGlvbiBqdXN0IG9uIHRoZSBqUXVlcnkgZXZlbnQuIEhvd2V2ZXIsXG5cdFx0XHRcdC8vIHRoZSBuYXRpdmUgZXZlbnQgaXMgcmUtd3JhcHBlZCBieSBhIGpRdWVyeSBvbmUgb24gZWFjaCBsZXZlbCBvZiB0aGVcblx0XHRcdFx0Ly8gcHJvcGFnYXRpb24gc28gdGhlIG9ubHkgd2F5IHRvIHN0b3AgaXQgZm9yIGpRdWVyeSBpcyB0byBzdG9wIGl0IGZvclxuXHRcdFx0XHQvLyBldmVyeW9uZSB2aWEgbmF0aXZlIGBzdG9wUHJvcGFnYXRpb24oKWAuIFRoaXMgaXMgbm90IGEgcHJvYmxlbSBmb3Jcblx0XHRcdFx0Ly8gZm9jdXMvYmx1ciB3aGljaCBkb24ndCBidWJibGUsIGJ1dCBpdCBkb2VzIGFsc28gc3RvcCBjbGljayBvbiBjaGVja2JveGVzXG5cdFx0XHRcdC8vIGFuZCByYWRpb3MuIFdlIGFjY2VwdCB0aGlzIGxpbWl0YXRpb24uXG5cdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHRldmVudC5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IHJldHVyblRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXHR9ICk7XG59XG5cbmpRdWVyeS5yZW1vdmVFdmVudCA9IGZ1bmN0aW9uKCBlbGVtLCB0eXBlLCBoYW5kbGUgKSB7XG5cblx0Ly8gVGhpcyBcImlmXCIgaXMgbmVlZGVkIGZvciBwbGFpbiBvYmplY3RzXG5cdGlmICggZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyICkge1xuXHRcdGVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lciggdHlwZSwgaGFuZGxlICk7XG5cdH1cbn07XG5cbmpRdWVyeS5FdmVudCA9IGZ1bmN0aW9uKCBzcmMsIHByb3BzICkge1xuXG5cdC8vIEFsbG93IGluc3RhbnRpYXRpb24gd2l0aG91dCB0aGUgJ25ldycga2V5d29yZFxuXHRpZiAoICEoIHRoaXMgaW5zdGFuY2VvZiBqUXVlcnkuRXZlbnQgKSApIHtcblx0XHRyZXR1cm4gbmV3IGpRdWVyeS5FdmVudCggc3JjLCBwcm9wcyApO1xuXHR9XG5cblx0Ly8gRXZlbnQgb2JqZWN0XG5cdGlmICggc3JjICYmIHNyYy50eXBlICkge1xuXHRcdHRoaXMub3JpZ2luYWxFdmVudCA9IHNyYztcblx0XHR0aGlzLnR5cGUgPSBzcmMudHlwZTtcblxuXHRcdC8vIEV2ZW50cyBidWJibGluZyB1cCB0aGUgZG9jdW1lbnQgbWF5IGhhdmUgYmVlbiBtYXJrZWQgYXMgcHJldmVudGVkXG5cdFx0Ly8gYnkgYSBoYW5kbGVyIGxvd2VyIGRvd24gdGhlIHRyZWU7IHJlZmxlY3QgdGhlIGNvcnJlY3QgdmFsdWUuXG5cdFx0dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBzcmMuZGVmYXVsdFByZXZlbnRlZCB8fFxuXHRcdFx0XHRzcmMuZGVmYXVsdFByZXZlbnRlZCA9PT0gdW5kZWZpbmVkICYmXG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTIuMyBvbmx5XG5cdFx0XHRcdHNyYy5yZXR1cm5WYWx1ZSA9PT0gZmFsc2UgP1xuXHRcdFx0cmV0dXJuVHJ1ZSA6XG5cdFx0XHRyZXR1cm5GYWxzZTtcblxuXHRcdC8vIENyZWF0ZSB0YXJnZXQgcHJvcGVydGllc1xuXHRcdC8vIFN1cHBvcnQ6IFNhZmFyaSA8PTYgLSA3IG9ubHlcblx0XHQvLyBUYXJnZXQgc2hvdWxkIG5vdCBiZSBhIHRleHQgbm9kZSAodHJhYy01MDQsIHRyYWMtMTMxNDMpXG5cdFx0dGhpcy50YXJnZXQgPSAoIHNyYy50YXJnZXQgJiYgc3JjLnRhcmdldC5ub2RlVHlwZSA9PT0gMyApID9cblx0XHRcdHNyYy50YXJnZXQucGFyZW50Tm9kZSA6XG5cdFx0XHRzcmMudGFyZ2V0O1xuXG5cdFx0dGhpcy5jdXJyZW50VGFyZ2V0ID0gc3JjLmN1cnJlbnRUYXJnZXQ7XG5cdFx0dGhpcy5yZWxhdGVkVGFyZ2V0ID0gc3JjLnJlbGF0ZWRUYXJnZXQ7XG5cblx0Ly8gRXZlbnQgdHlwZVxuXHR9IGVsc2Uge1xuXHRcdHRoaXMudHlwZSA9IHNyYztcblx0fVxuXG5cdC8vIFB1dCBleHBsaWNpdGx5IHByb3ZpZGVkIHByb3BlcnRpZXMgb250byB0aGUgZXZlbnQgb2JqZWN0XG5cdGlmICggcHJvcHMgKSB7XG5cdFx0alF1ZXJ5LmV4dGVuZCggdGhpcywgcHJvcHMgKTtcblx0fVxuXG5cdC8vIENyZWF0ZSBhIHRpbWVzdGFtcCBpZiBpbmNvbWluZyBldmVudCBkb2Vzbid0IGhhdmUgb25lXG5cdHRoaXMudGltZVN0YW1wID0gc3JjICYmIHNyYy50aW1lU3RhbXAgfHwgRGF0ZS5ub3coKTtcblxuXHQvLyBNYXJrIGl0IGFzIGZpeGVkXG5cdHRoaXNbIGpRdWVyeS5leHBhbmRvIF0gPSB0cnVlO1xufTtcblxuLy8galF1ZXJ5LkV2ZW50IGlzIGJhc2VkIG9uIERPTTMgRXZlbnRzIGFzIHNwZWNpZmllZCBieSB0aGUgRUNNQVNjcmlwdCBMYW5ndWFnZSBCaW5kaW5nXG4vLyBodHRwczovL3d3dy53My5vcmcvVFIvMjAwMy9XRC1ET00tTGV2ZWwtMy1FdmVudHMtMjAwMzAzMzEvZWNtYS1zY3JpcHQtYmluZGluZy5odG1sXG5qUXVlcnkuRXZlbnQucHJvdG90eXBlID0ge1xuXHRjb25zdHJ1Y3RvcjogalF1ZXJ5LkV2ZW50LFxuXHRpc0RlZmF1bHRQcmV2ZW50ZWQ6IHJldHVybkZhbHNlLFxuXHRpc1Byb3BhZ2F0aW9uU3RvcHBlZDogcmV0dXJuRmFsc2UsXG5cdGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOiByZXR1cm5GYWxzZSxcblx0aXNTaW11bGF0ZWQ6IGZhbHNlLFxuXG5cdHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbigpIHtcblx0XHR2YXIgZSA9IHRoaXMub3JpZ2luYWxFdmVudDtcblxuXHRcdHRoaXMuaXNEZWZhdWx0UHJldmVudGVkID0gcmV0dXJuVHJ1ZTtcblxuXHRcdGlmICggZSAmJiAhdGhpcy5pc1NpbXVsYXRlZCApIHtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHR9XG5cdH0sXG5cdHN0b3BQcm9wYWdhdGlvbjogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGUgPSB0aGlzLm9yaWdpbmFsRXZlbnQ7XG5cblx0XHR0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkID0gcmV0dXJuVHJ1ZTtcblxuXHRcdGlmICggZSAmJiAhdGhpcy5pc1NpbXVsYXRlZCApIHtcblx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0fVxuXHR9LFxuXHRzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBlID0gdGhpcy5vcmlnaW5hbEV2ZW50O1xuXG5cdFx0dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IHJldHVyblRydWU7XG5cblx0XHRpZiAoIGUgJiYgIXRoaXMuaXNTaW11bGF0ZWQgKSB7XG5cdFx0XHRlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuXHRcdH1cblxuXHRcdHRoaXMuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdH1cbn07XG5cbi8vIEluY2x1ZGVzIGFsbCBjb21tb24gZXZlbnQgcHJvcHMgaW5jbHVkaW5nIEtleUV2ZW50IGFuZCBNb3VzZUV2ZW50IHNwZWNpZmljIHByb3BzXG5qUXVlcnkuZWFjaCgge1xuXHRhbHRLZXk6IHRydWUsXG5cdGJ1YmJsZXM6IHRydWUsXG5cdGNhbmNlbGFibGU6IHRydWUsXG5cdGNoYW5nZWRUb3VjaGVzOiB0cnVlLFxuXHRjdHJsS2V5OiB0cnVlLFxuXHRkZXRhaWw6IHRydWUsXG5cdGV2ZW50UGhhc2U6IHRydWUsXG5cdG1ldGFLZXk6IHRydWUsXG5cdHBhZ2VYOiB0cnVlLFxuXHRwYWdlWTogdHJ1ZSxcblx0c2hpZnRLZXk6IHRydWUsXG5cdHZpZXc6IHRydWUsXG5cdFwiY2hhclwiOiB0cnVlLFxuXHRjb2RlOiB0cnVlLFxuXHRjaGFyQ29kZTogdHJ1ZSxcblx0a2V5OiB0cnVlLFxuXHRrZXlDb2RlOiB0cnVlLFxuXHRidXR0b246IHRydWUsXG5cdGJ1dHRvbnM6IHRydWUsXG5cdGNsaWVudFg6IHRydWUsXG5cdGNsaWVudFk6IHRydWUsXG5cdG9mZnNldFg6IHRydWUsXG5cdG9mZnNldFk6IHRydWUsXG5cdHBvaW50ZXJJZDogdHJ1ZSxcblx0cG9pbnRlclR5cGU6IHRydWUsXG5cdHNjcmVlblg6IHRydWUsXG5cdHNjcmVlblk6IHRydWUsXG5cdHRhcmdldFRvdWNoZXM6IHRydWUsXG5cdHRvRWxlbWVudDogdHJ1ZSxcblx0dG91Y2hlczogdHJ1ZSxcblx0d2hpY2g6IHRydWVcbn0sIGpRdWVyeS5ldmVudC5hZGRQcm9wICk7XG5cbmpRdWVyeS5lYWNoKCB7IGZvY3VzOiBcImZvY3VzaW5cIiwgYmx1cjogXCJmb2N1c291dFwiIH0sIGZ1bmN0aW9uKCB0eXBlLCBkZWxlZ2F0ZVR5cGUgKSB7XG5cblx0ZnVuY3Rpb24gZm9jdXNNYXBwZWRIYW5kbGVyKCBuYXRpdmVFdmVudCApIHtcblx0XHRpZiAoIGRvY3VtZW50LmRvY3VtZW50TW9kZSApIHtcblxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgMTErXG5cdFx0XHQvLyBBdHRhY2ggYSBzaW5nbGUgZm9jdXNpbi9mb2N1c291dCBoYW5kbGVyIG9uIHRoZSBkb2N1bWVudCB3aGlsZSBzb21lb25lIHdhbnRzXG5cdFx0XHQvLyBmb2N1cy9ibHVyLiBUaGlzIGlzIGJlY2F1c2UgdGhlIGZvcm1lciBhcmUgc3luY2hyb25vdXMgaW4gSUUgd2hpbGUgdGhlIGxhdHRlclxuXHRcdFx0Ly8gYXJlIGFzeW5jLiBJbiBvdGhlciBicm93c2VycywgYWxsIHRob3NlIGhhbmRsZXJzIGFyZSBpbnZva2VkIHN5bmNocm9ub3VzbHkuXG5cblx0XHRcdC8vIGBoYW5kbGVgIGZyb20gcHJpdmF0ZSBkYXRhIHdvdWxkIGFscmVhZHkgd3JhcCB0aGUgZXZlbnQsIGJ1dCB3ZSBuZWVkXG5cdFx0XHQvLyB0byBjaGFuZ2UgdGhlIGB0eXBlYCBoZXJlLlxuXHRcdFx0dmFyIGhhbmRsZSA9IGRhdGFQcml2LmdldCggdGhpcywgXCJoYW5kbGVcIiApLFxuXHRcdFx0XHRldmVudCA9IGpRdWVyeS5ldmVudC5maXgoIG5hdGl2ZUV2ZW50ICk7XG5cdFx0XHRldmVudC50eXBlID0gbmF0aXZlRXZlbnQudHlwZSA9PT0gXCJmb2N1c2luXCIgPyBcImZvY3VzXCIgOiBcImJsdXJcIjtcblx0XHRcdGV2ZW50LmlzU2ltdWxhdGVkID0gdHJ1ZTtcblxuXHRcdFx0Ly8gRmlyc3QsIGhhbmRsZSBmb2N1c2luL2ZvY3Vzb3V0XG5cdFx0XHRoYW5kbGUoIG5hdGl2ZUV2ZW50ICk7XG5cblx0XHRcdC8vIC4uLnRoZW4sIGhhbmRsZSBmb2N1cy9ibHVyXG5cdFx0XHQvL1xuXHRcdFx0Ly8gZm9jdXMvYmx1ciBkb24ndCBidWJibGUgd2hpbGUgZm9jdXNpbi9mb2N1c291dCBkbzsgc2ltdWxhdGUgdGhlIGZvcm1lciBieSBvbmx5XG5cdFx0XHQvLyBpbnZva2luZyB0aGUgaGFuZGxlciBhdCB0aGUgbG93ZXIgbGV2ZWwuXG5cdFx0XHRpZiAoIGV2ZW50LnRhcmdldCA9PT0gZXZlbnQuY3VycmVudFRhcmdldCApIHtcblxuXHRcdFx0XHQvLyBUaGUgc2V0dXAgcGFydCBjYWxscyBgbGV2ZXJhZ2VOYXRpdmVgLCB3aGljaCwgaW4gdHVybiwgY2FsbHNcblx0XHRcdFx0Ly8gYGpRdWVyeS5ldmVudC5hZGRgLCBzbyBldmVudCBoYW5kbGUgd2lsbCBhbHJlYWR5IGhhdmUgYmVlbiBzZXRcblx0XHRcdFx0Ly8gYnkgdGhpcyBwb2ludC5cblx0XHRcdFx0aGFuZGxlKCBldmVudCApO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdC8vIEZvciBub24tSUUgYnJvd3NlcnMsIGF0dGFjaCBhIHNpbmdsZSBjYXB0dXJpbmcgaGFuZGxlciBvbiB0aGUgZG9jdW1lbnRcblx0XHRcdC8vIHdoaWxlIHNvbWVvbmUgd2FudHMgZm9jdXNpbi9mb2N1c291dC5cblx0XHRcdGpRdWVyeS5ldmVudC5zaW11bGF0ZSggZGVsZWdhdGVUeXBlLCBuYXRpdmVFdmVudC50YXJnZXQsXG5cdFx0XHRcdGpRdWVyeS5ldmVudC5maXgoIG5hdGl2ZUV2ZW50ICkgKTtcblx0XHR9XG5cdH1cblxuXHRqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdID0ge1xuXG5cdFx0Ly8gVXRpbGl6ZSBuYXRpdmUgZXZlbnQgaWYgcG9zc2libGUgc28gYmx1ci9mb2N1cyBzZXF1ZW5jZSBpcyBjb3JyZWN0XG5cdFx0c2V0dXA6IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR2YXIgYXR0YWNoZXM7XG5cblx0XHRcdC8vIENsYWltIHRoZSBmaXJzdCBoYW5kbGVyXG5cdFx0XHQvLyBkYXRhUHJpdi5zZXQoIHRoaXMsIFwiZm9jdXNcIiwgLi4uIClcblx0XHRcdC8vIGRhdGFQcml2LnNldCggdGhpcywgXCJibHVyXCIsIC4uLiApXG5cdFx0XHRsZXZlcmFnZU5hdGl2ZSggdGhpcywgdHlwZSwgdHJ1ZSApO1xuXG5cdFx0XHRpZiAoIGRvY3VtZW50LmRvY3VtZW50TW9kZSApIHtcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA5IC0gMTErXG5cdFx0XHRcdC8vIFdlIHVzZSB0aGUgc2FtZSBuYXRpdmUgaGFuZGxlciBmb3IgZm9jdXNpbiAmIGZvY3VzIChhbmQgZm9jdXNvdXQgJiBibHVyKVxuXHRcdFx0XHQvLyBzbyB3ZSBuZWVkIHRvIGNvb3JkaW5hdGUgc2V0dXAgJiB0ZWFyZG93biBwYXJ0cyBiZXR3ZWVuIHRob3NlIGV2ZW50cy5cblx0XHRcdFx0Ly8gVXNlIGBkZWxlZ2F0ZVR5cGVgIGFzIHRoZSBrZXkgYXMgYHR5cGVgIGlzIGFscmVhZHkgdXNlZCBieSBgbGV2ZXJhZ2VOYXRpdmVgLlxuXHRcdFx0XHRhdHRhY2hlcyA9IGRhdGFQcml2LmdldCggdGhpcywgZGVsZWdhdGVUeXBlICk7XG5cdFx0XHRcdGlmICggIWF0dGFjaGVzICkge1xuXHRcdFx0XHRcdHRoaXMuYWRkRXZlbnRMaXN0ZW5lciggZGVsZWdhdGVUeXBlLCBmb2N1c01hcHBlZEhhbmRsZXIgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRkYXRhUHJpdi5zZXQoIHRoaXMsIGRlbGVnYXRlVHlwZSwgKCBhdHRhY2hlcyB8fCAwICkgKyAxICk7XG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdC8vIFJldHVybiBmYWxzZSB0byBhbGxvdyBub3JtYWwgcHJvY2Vzc2luZyBpbiB0aGUgY2FsbGVyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdHRyaWdnZXI6IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyBGb3JjZSBzZXR1cCBiZWZvcmUgdHJpZ2dlclxuXHRcdFx0bGV2ZXJhZ2VOYXRpdmUoIHRoaXMsIHR5cGUgKTtcblxuXHRcdFx0Ly8gUmV0dXJuIG5vbi1mYWxzZSB0byBhbGxvdyBub3JtYWwgZXZlbnQtcGF0aCBwcm9wYWdhdGlvblxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSxcblxuXHRcdHRlYXJkb3duOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBhdHRhY2hlcztcblxuXHRcdFx0aWYgKCBkb2N1bWVudC5kb2N1bWVudE1vZGUgKSB7XG5cdFx0XHRcdGF0dGFjaGVzID0gZGF0YVByaXYuZ2V0KCB0aGlzLCBkZWxlZ2F0ZVR5cGUgKSAtIDE7XG5cdFx0XHRcdGlmICggIWF0dGFjaGVzICkge1xuXHRcdFx0XHRcdHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lciggZGVsZWdhdGVUeXBlLCBmb2N1c01hcHBlZEhhbmRsZXIgKTtcblx0XHRcdFx0XHRkYXRhUHJpdi5yZW1vdmUoIHRoaXMsIGRlbGVnYXRlVHlwZSApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGRhdGFQcml2LnNldCggdGhpcywgZGVsZWdhdGVUeXBlLCBhdHRhY2hlcyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdC8vIFJldHVybiBmYWxzZSB0byBpbmRpY2F0ZSBzdGFuZGFyZCB0ZWFyZG93biBzaG91bGQgYmUgYXBwbGllZFxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdC8vIFN1cHByZXNzIG5hdGl2ZSBmb2N1cyBvciBibHVyIGlmIHdlJ3JlIGN1cnJlbnRseSBpbnNpZGVcblx0XHQvLyBhIGxldmVyYWdlZCBuYXRpdmUtZXZlbnQgc3RhY2tcblx0XHRfZGVmYXVsdDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0cmV0dXJuIGRhdGFQcml2LmdldCggZXZlbnQudGFyZ2V0LCB0eXBlICk7XG5cdFx0fSxcblxuXHRcdGRlbGVnYXRlVHlwZTogZGVsZWdhdGVUeXBlXG5cdH07XG5cblx0Ly8gU3VwcG9ydDogRmlyZWZveCA8PTQ0XG5cdC8vIEZpcmVmb3ggZG9lc24ndCBoYXZlIGZvY3VzKGluIHwgb3V0KSBldmVudHNcblx0Ly8gUmVsYXRlZCB0aWNrZXQgLSBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD02ODc3ODdcblx0Ly9cblx0Ly8gU3VwcG9ydDogQ2hyb21lIDw9NDggLSA0OSwgU2FmYXJpIDw9OS4wIC0gOS4xXG5cdC8vIGZvY3VzKGluIHwgb3V0KSBldmVudHMgZmlyZSBhZnRlciBmb2N1cyAmIGJsdXIgZXZlbnRzLFxuXHQvLyB3aGljaCBpcyBzcGVjIHZpb2xhdGlvbiAtIGh0dHA6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0zLUV2ZW50cy8jZXZlbnRzLWZvY3VzZXZlbnQtZXZlbnQtb3JkZXJcblx0Ly8gUmVsYXRlZCB0aWNrZXQgLSBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NDk4NTdcblx0Ly9cblx0Ly8gU3VwcG9ydDogSUUgOSAtIDExK1xuXHQvLyBUbyBwcmVzZXJ2ZSByZWxhdGl2ZSBmb2N1c2luL2ZvY3VzICYgZm9jdXNvdXQvYmx1ciBldmVudCBvcmRlciBndWFyYW50ZWVkIG9uIHRoZSAzLnggYnJhbmNoLFxuXHQvLyBhdHRhY2ggYSBzaW5nbGUgaGFuZGxlciBmb3IgYm90aCBldmVudHMgaW4gSUUuXG5cdGpRdWVyeS5ldmVudC5zcGVjaWFsWyBkZWxlZ2F0ZVR5cGUgXSA9IHtcblx0XHRzZXR1cDogZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIEhhbmRsZTogcmVndWxhciBub2RlcyAodmlhIGB0aGlzLm93bmVyRG9jdW1lbnRgKSwgd2luZG93XG5cdFx0XHQvLyAodmlhIGB0aGlzLmRvY3VtZW50YCkgJiBkb2N1bWVudCAodmlhIGB0aGlzYCkuXG5cdFx0XHR2YXIgZG9jID0gdGhpcy5vd25lckRvY3VtZW50IHx8IHRoaXMuZG9jdW1lbnQgfHwgdGhpcyxcblx0XHRcdFx0ZGF0YUhvbGRlciA9IGRvY3VtZW50LmRvY3VtZW50TW9kZSA/IHRoaXMgOiBkb2MsXG5cdFx0XHRcdGF0dGFjaGVzID0gZGF0YVByaXYuZ2V0KCBkYXRhSG9sZGVyLCBkZWxlZ2F0ZVR5cGUgKTtcblxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgOSAtIDExK1xuXHRcdFx0Ly8gV2UgdXNlIHRoZSBzYW1lIG5hdGl2ZSBoYW5kbGVyIGZvciBmb2N1c2luICYgZm9jdXMgKGFuZCBmb2N1c291dCAmIGJsdXIpXG5cdFx0XHQvLyBzbyB3ZSBuZWVkIHRvIGNvb3JkaW5hdGUgc2V0dXAgJiB0ZWFyZG93biBwYXJ0cyBiZXR3ZWVuIHRob3NlIGV2ZW50cy5cblx0XHRcdC8vIFVzZSBgZGVsZWdhdGVUeXBlYCBhcyB0aGUga2V5IGFzIGB0eXBlYCBpcyBhbHJlYWR5IHVzZWQgYnkgYGxldmVyYWdlTmF0aXZlYC5cblx0XHRcdGlmICggIWF0dGFjaGVzICkge1xuXHRcdFx0XHRpZiAoIGRvY3VtZW50LmRvY3VtZW50TW9kZSApIHtcblx0XHRcdFx0XHR0aGlzLmFkZEV2ZW50TGlzdGVuZXIoIGRlbGVnYXRlVHlwZSwgZm9jdXNNYXBwZWRIYW5kbGVyICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZG9jLmFkZEV2ZW50TGlzdGVuZXIoIHR5cGUsIGZvY3VzTWFwcGVkSGFuZGxlciwgdHJ1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRkYXRhUHJpdi5zZXQoIGRhdGFIb2xkZXIsIGRlbGVnYXRlVHlwZSwgKCBhdHRhY2hlcyB8fCAwICkgKyAxICk7XG5cdFx0fSxcblx0XHR0ZWFyZG93bjogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgZG9jID0gdGhpcy5vd25lckRvY3VtZW50IHx8IHRoaXMuZG9jdW1lbnQgfHwgdGhpcyxcblx0XHRcdFx0ZGF0YUhvbGRlciA9IGRvY3VtZW50LmRvY3VtZW50TW9kZSA/IHRoaXMgOiBkb2MsXG5cdFx0XHRcdGF0dGFjaGVzID0gZGF0YVByaXYuZ2V0KCBkYXRhSG9sZGVyLCBkZWxlZ2F0ZVR5cGUgKSAtIDE7XG5cblx0XHRcdGlmICggIWF0dGFjaGVzICkge1xuXHRcdFx0XHRpZiAoIGRvY3VtZW50LmRvY3VtZW50TW9kZSApIHtcblx0XHRcdFx0XHR0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoIGRlbGVnYXRlVHlwZSwgZm9jdXNNYXBwZWRIYW5kbGVyICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoIHR5cGUsIGZvY3VzTWFwcGVkSGFuZGxlciwgdHJ1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGRhdGFQcml2LnJlbW92ZSggZGF0YUhvbGRlciwgZGVsZWdhdGVUeXBlICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkYXRhUHJpdi5zZXQoIGRhdGFIb2xkZXIsIGRlbGVnYXRlVHlwZSwgYXR0YWNoZXMgKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59ICk7XG5cbi8vIENyZWF0ZSBtb3VzZWVudGVyL2xlYXZlIGV2ZW50cyB1c2luZyBtb3VzZW92ZXIvb3V0IGFuZCBldmVudC10aW1lIGNoZWNrc1xuLy8gc28gdGhhdCBldmVudCBkZWxlZ2F0aW9uIHdvcmtzIGluIGpRdWVyeS5cbi8vIERvIHRoZSBzYW1lIGZvciBwb2ludGVyZW50ZXIvcG9pbnRlcmxlYXZlIGFuZCBwb2ludGVyb3Zlci9wb2ludGVyb3V0XG4vL1xuLy8gU3VwcG9ydDogU2FmYXJpIDcgb25seVxuLy8gU2FmYXJpIHNlbmRzIG1vdXNlZW50ZXIgdG9vIG9mdGVuOyBzZWU6XG4vLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NzAyNThcbi8vIGZvciB0aGUgZGVzY3JpcHRpb24gb2YgdGhlIGJ1ZyAoaXQgZXhpc3RlZCBpbiBvbGRlciBDaHJvbWUgdmVyc2lvbnMgYXMgd2VsbCkuXG5qUXVlcnkuZWFjaCgge1xuXHRtb3VzZWVudGVyOiBcIm1vdXNlb3ZlclwiLFxuXHRtb3VzZWxlYXZlOiBcIm1vdXNlb3V0XCIsXG5cdHBvaW50ZXJlbnRlcjogXCJwb2ludGVyb3ZlclwiLFxuXHRwb2ludGVybGVhdmU6IFwicG9pbnRlcm91dFwiXG59LCBmdW5jdGlvbiggb3JpZywgZml4ICkge1xuXHRqUXVlcnkuZXZlbnQuc3BlY2lhbFsgb3JpZyBdID0ge1xuXHRcdGRlbGVnYXRlVHlwZTogZml4LFxuXHRcdGJpbmRUeXBlOiBmaXgsXG5cblx0XHRoYW5kbGU6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdHZhciByZXQsXG5cdFx0XHRcdHRhcmdldCA9IHRoaXMsXG5cdFx0XHRcdHJlbGF0ZWQgPSBldmVudC5yZWxhdGVkVGFyZ2V0LFxuXHRcdFx0XHRoYW5kbGVPYmogPSBldmVudC5oYW5kbGVPYmo7XG5cblx0XHRcdC8vIEZvciBtb3VzZWVudGVyL2xlYXZlIGNhbGwgdGhlIGhhbmRsZXIgaWYgcmVsYXRlZCBpcyBvdXRzaWRlIHRoZSB0YXJnZXQuXG5cdFx0XHQvLyBOQjogTm8gcmVsYXRlZFRhcmdldCBpZiB0aGUgbW91c2UgbGVmdC9lbnRlcmVkIHRoZSBicm93c2VyIHdpbmRvd1xuXHRcdFx0aWYgKCAhcmVsYXRlZCB8fCAoIHJlbGF0ZWQgIT09IHRhcmdldCAmJiAhalF1ZXJ5LmNvbnRhaW5zKCB0YXJnZXQsIHJlbGF0ZWQgKSApICkge1xuXHRcdFx0XHRldmVudC50eXBlID0gaGFuZGxlT2JqLm9yaWdUeXBlO1xuXHRcdFx0XHRyZXQgPSBoYW5kbGVPYmouaGFuZGxlci5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHRcdGV2ZW50LnR5cGUgPSBmaXg7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH1cblx0fTtcbn0gKTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXG5cdG9uOiBmdW5jdGlvbiggdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiApIHtcblx0XHRyZXR1cm4gb24oIHRoaXMsIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4gKTtcblx0fSxcblx0b25lOiBmdW5jdGlvbiggdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiApIHtcblx0XHRyZXR1cm4gb24oIHRoaXMsIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4sIDEgKTtcblx0fSxcblx0b2ZmOiBmdW5jdGlvbiggdHlwZXMsIHNlbGVjdG9yLCBmbiApIHtcblx0XHR2YXIgaGFuZGxlT2JqLCB0eXBlO1xuXHRcdGlmICggdHlwZXMgJiYgdHlwZXMucHJldmVudERlZmF1bHQgJiYgdHlwZXMuaGFuZGxlT2JqICkge1xuXG5cdFx0XHQvLyAoIGV2ZW50ICkgIGRpc3BhdGNoZWQgalF1ZXJ5LkV2ZW50XG5cdFx0XHRoYW5kbGVPYmogPSB0eXBlcy5oYW5kbGVPYmo7XG5cdFx0XHRqUXVlcnkoIHR5cGVzLmRlbGVnYXRlVGFyZ2V0ICkub2ZmKFxuXHRcdFx0XHRoYW5kbGVPYmoubmFtZXNwYWNlID9cblx0XHRcdFx0XHRoYW5kbGVPYmoub3JpZ1R5cGUgKyBcIi5cIiArIGhhbmRsZU9iai5uYW1lc3BhY2UgOlxuXHRcdFx0XHRcdGhhbmRsZU9iai5vcmlnVHlwZSxcblx0XHRcdFx0aGFuZGxlT2JqLnNlbGVjdG9yLFxuXHRcdFx0XHRoYW5kbGVPYmouaGFuZGxlclxuXHRcdFx0KTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblx0XHRpZiAoIHR5cGVvZiB0eXBlcyA9PT0gXCJvYmplY3RcIiApIHtcblxuXHRcdFx0Ly8gKCB0eXBlcy1vYmplY3QgWywgc2VsZWN0b3JdIClcblx0XHRcdGZvciAoIHR5cGUgaW4gdHlwZXMgKSB7XG5cdFx0XHRcdHRoaXMub2ZmKCB0eXBlLCBzZWxlY3RvciwgdHlwZXNbIHR5cGUgXSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHRcdGlmICggc2VsZWN0b3IgPT09IGZhbHNlIHx8IHR5cGVvZiBzZWxlY3RvciA9PT0gXCJmdW5jdGlvblwiICkge1xuXG5cdFx0XHQvLyAoIHR5cGVzIFssIGZuXSApXG5cdFx0XHRmbiA9IHNlbGVjdG9yO1xuXHRcdFx0c2VsZWN0b3IgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHRcdGlmICggZm4gPT09IGZhbHNlICkge1xuXHRcdFx0Zm4gPSByZXR1cm5GYWxzZTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRqUXVlcnkuZXZlbnQucmVtb3ZlKCB0aGlzLCB0eXBlcywgZm4sIHNlbGVjdG9yICk7XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cblxudmFyXG5cblx0Ly8gU3VwcG9ydDogSUUgPD0xMCAtIDExLCBFZGdlIDEyIC0gMTMgb25seVxuXHQvLyBJbiBJRS9FZGdlIHVzaW5nIHJlZ2V4IGdyb3VwcyBoZXJlIGNhdXNlcyBzZXZlcmUgc2xvd2Rvd25zLlxuXHQvLyBTZWUgaHR0cHM6Ly9jb25uZWN0Lm1pY3Jvc29mdC5jb20vSUUvZmVlZGJhY2svZGV0YWlscy8xNzM2NTEyL1xuXHRybm9Jbm5lcmh0bWwgPSAvPHNjcmlwdHw8c3R5bGV8PGxpbmsvaSxcblxuXHQvLyBjaGVja2VkPVwiY2hlY2tlZFwiIG9yIGNoZWNrZWRcblx0cmNoZWNrZWQgPSAvY2hlY2tlZFxccyooPzpbXj1dfD1cXHMqLmNoZWNrZWQuKS9pLFxuXG5cdHJjbGVhblNjcmlwdCA9IC9eXFxzKjwhXFxbQ0RBVEFcXFt8XFxdXFxdPlxccyokL2c7XG5cbi8vIFByZWZlciBhIHRib2R5IG92ZXIgaXRzIHBhcmVudCB0YWJsZSBmb3IgY29udGFpbmluZyBuZXcgcm93c1xuZnVuY3Rpb24gbWFuaXB1bGF0aW9uVGFyZ2V0KCBlbGVtLCBjb250ZW50ICkge1xuXHRpZiAoIG5vZGVOYW1lKCBlbGVtLCBcInRhYmxlXCIgKSAmJlxuXHRcdG5vZGVOYW1lKCBjb250ZW50Lm5vZGVUeXBlICE9PSAxMSA/IGNvbnRlbnQgOiBjb250ZW50LmZpcnN0Q2hpbGQsIFwidHJcIiApICkge1xuXG5cdFx0cmV0dXJuIGpRdWVyeSggZWxlbSApLmNoaWxkcmVuKCBcInRib2R5XCIgKVsgMCBdIHx8IGVsZW07XG5cdH1cblxuXHRyZXR1cm4gZWxlbTtcbn1cblxuLy8gUmVwbGFjZS9yZXN0b3JlIHRoZSB0eXBlIGF0dHJpYnV0ZSBvZiBzY3JpcHQgZWxlbWVudHMgZm9yIHNhZmUgRE9NIG1hbmlwdWxhdGlvblxuZnVuY3Rpb24gZGlzYWJsZVNjcmlwdCggZWxlbSApIHtcblx0ZWxlbS50eXBlID0gKCBlbGVtLmdldEF0dHJpYnV0ZSggXCJ0eXBlXCIgKSAhPT0gbnVsbCApICsgXCIvXCIgKyBlbGVtLnR5cGU7XG5cdHJldHVybiBlbGVtO1xufVxuZnVuY3Rpb24gcmVzdG9yZVNjcmlwdCggZWxlbSApIHtcblx0aWYgKCAoIGVsZW0udHlwZSB8fCBcIlwiICkuc2xpY2UoIDAsIDUgKSA9PT0gXCJ0cnVlL1wiICkge1xuXHRcdGVsZW0udHlwZSA9IGVsZW0udHlwZS5zbGljZSggNSApO1xuXHR9IGVsc2Uge1xuXHRcdGVsZW0ucmVtb3ZlQXR0cmlidXRlKCBcInR5cGVcIiApO1xuXHR9XG5cblx0cmV0dXJuIGVsZW07XG59XG5cbmZ1bmN0aW9uIGNsb25lQ29weUV2ZW50KCBzcmMsIGRlc3QgKSB7XG5cdHZhciBpLCBsLCB0eXBlLCBwZGF0YU9sZCwgdWRhdGFPbGQsIHVkYXRhQ3VyLCBldmVudHM7XG5cblx0aWYgKCBkZXN0Lm5vZGVUeXBlICE9PSAxICkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdC8vIDEuIENvcHkgcHJpdmF0ZSBkYXRhOiBldmVudHMsIGhhbmRsZXJzLCBldGMuXG5cdGlmICggZGF0YVByaXYuaGFzRGF0YSggc3JjICkgKSB7XG5cdFx0cGRhdGFPbGQgPSBkYXRhUHJpdi5nZXQoIHNyYyApO1xuXHRcdGV2ZW50cyA9IHBkYXRhT2xkLmV2ZW50cztcblxuXHRcdGlmICggZXZlbnRzICkge1xuXHRcdFx0ZGF0YVByaXYucmVtb3ZlKCBkZXN0LCBcImhhbmRsZSBldmVudHNcIiApO1xuXG5cdFx0XHRmb3IgKCB0eXBlIGluIGV2ZW50cyApIHtcblx0XHRcdFx0Zm9yICggaSA9IDAsIGwgPSBldmVudHNbIHR5cGUgXS5sZW5ndGg7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LmFkZCggZGVzdCwgdHlwZSwgZXZlbnRzWyB0eXBlIF1bIGkgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gMi4gQ29weSB1c2VyIGRhdGFcblx0aWYgKCBkYXRhVXNlci5oYXNEYXRhKCBzcmMgKSApIHtcblx0XHR1ZGF0YU9sZCA9IGRhdGFVc2VyLmFjY2Vzcyggc3JjICk7XG5cdFx0dWRhdGFDdXIgPSBqUXVlcnkuZXh0ZW5kKCB7fSwgdWRhdGFPbGQgKTtcblxuXHRcdGRhdGFVc2VyLnNldCggZGVzdCwgdWRhdGFDdXIgKTtcblx0fVxufVxuXG4vLyBGaXggSUUgYnVncywgc2VlIHN1cHBvcnQgdGVzdHNcbmZ1bmN0aW9uIGZpeElucHV0KCBzcmMsIGRlc3QgKSB7XG5cdHZhciBub2RlTmFtZSA9IGRlc3Qubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblxuXHQvLyBGYWlscyB0byBwZXJzaXN0IHRoZSBjaGVja2VkIHN0YXRlIG9mIGEgY2xvbmVkIGNoZWNrYm94IG9yIHJhZGlvIGJ1dHRvbi5cblx0aWYgKCBub2RlTmFtZSA9PT0gXCJpbnB1dFwiICYmIHJjaGVja2FibGVUeXBlLnRlc3QoIHNyYy50eXBlICkgKSB7XG5cdFx0ZGVzdC5jaGVja2VkID0gc3JjLmNoZWNrZWQ7XG5cblx0Ly8gRmFpbHMgdG8gcmV0dXJuIHRoZSBzZWxlY3RlZCBvcHRpb24gdG8gdGhlIGRlZmF1bHQgc2VsZWN0ZWQgc3RhdGUgd2hlbiBjbG9uaW5nIG9wdGlvbnNcblx0fSBlbHNlIGlmICggbm9kZU5hbWUgPT09IFwiaW5wdXRcIiB8fCBub2RlTmFtZSA9PT0gXCJ0ZXh0YXJlYVwiICkge1xuXHRcdGRlc3QuZGVmYXVsdFZhbHVlID0gc3JjLmRlZmF1bHRWYWx1ZTtcblx0fVxufVxuXG5mdW5jdGlvbiBkb21NYW5pcCggY29sbGVjdGlvbiwgYXJncywgY2FsbGJhY2ssIGlnbm9yZWQgKSB7XG5cblx0Ly8gRmxhdHRlbiBhbnkgbmVzdGVkIGFycmF5c1xuXHRhcmdzID0gZmxhdCggYXJncyApO1xuXG5cdHZhciBmcmFnbWVudCwgZmlyc3QsIHNjcmlwdHMsIGhhc1NjcmlwdHMsIG5vZGUsIGRvYyxcblx0XHRpID0gMCxcblx0XHRsID0gY29sbGVjdGlvbi5sZW5ndGgsXG5cdFx0aU5vQ2xvbmUgPSBsIC0gMSxcblx0XHR2YWx1ZSA9IGFyZ3NbIDAgXSxcblx0XHR2YWx1ZUlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uKCB2YWx1ZSApO1xuXG5cdC8vIFdlIGNhbid0IGNsb25lTm9kZSBmcmFnbWVudHMgdGhhdCBjb250YWluIGNoZWNrZWQsIGluIFdlYktpdFxuXHRpZiAoIHZhbHVlSXNGdW5jdGlvbiB8fFxuXHRcdFx0KCBsID4gMSAmJiB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiZcblx0XHRcdFx0IXN1cHBvcnQuY2hlY2tDbG9uZSAmJiByY2hlY2tlZC50ZXN0KCB2YWx1ZSApICkgKSB7XG5cdFx0cmV0dXJuIGNvbGxlY3Rpb24uZWFjaCggZnVuY3Rpb24oIGluZGV4ICkge1xuXHRcdFx0dmFyIHNlbGYgPSBjb2xsZWN0aW9uLmVxKCBpbmRleCApO1xuXHRcdFx0aWYgKCB2YWx1ZUlzRnVuY3Rpb24gKSB7XG5cdFx0XHRcdGFyZ3NbIDAgXSA9IHZhbHVlLmNhbGwoIHRoaXMsIGluZGV4LCBzZWxmLmh0bWwoKSApO1xuXHRcdFx0fVxuXHRcdFx0ZG9tTWFuaXAoIHNlbGYsIGFyZ3MsIGNhbGxiYWNrLCBpZ25vcmVkICk7XG5cdFx0fSApO1xuXHR9XG5cblx0aWYgKCBsICkge1xuXHRcdGZyYWdtZW50ID0gYnVpbGRGcmFnbWVudCggYXJncywgY29sbGVjdGlvblsgMCBdLm93bmVyRG9jdW1lbnQsIGZhbHNlLCBjb2xsZWN0aW9uLCBpZ25vcmVkICk7XG5cdFx0Zmlyc3QgPSBmcmFnbWVudC5maXJzdENoaWxkO1xuXG5cdFx0aWYgKCBmcmFnbWVudC5jaGlsZE5vZGVzLmxlbmd0aCA9PT0gMSApIHtcblx0XHRcdGZyYWdtZW50ID0gZmlyc3Q7XG5cdFx0fVxuXG5cdFx0Ly8gUmVxdWlyZSBlaXRoZXIgbmV3IGNvbnRlbnQgb3IgYW4gaW50ZXJlc3QgaW4gaWdub3JlZCBlbGVtZW50cyB0byBpbnZva2UgdGhlIGNhbGxiYWNrXG5cdFx0aWYgKCBmaXJzdCB8fCBpZ25vcmVkICkge1xuXHRcdFx0c2NyaXB0cyA9IGpRdWVyeS5tYXAoIGdldEFsbCggZnJhZ21lbnQsIFwic2NyaXB0XCIgKSwgZGlzYWJsZVNjcmlwdCApO1xuXHRcdFx0aGFzU2NyaXB0cyA9IHNjcmlwdHMubGVuZ3RoO1xuXG5cdFx0XHQvLyBVc2UgdGhlIG9yaWdpbmFsIGZyYWdtZW50IGZvciB0aGUgbGFzdCBpdGVtXG5cdFx0XHQvLyBpbnN0ZWFkIG9mIHRoZSBmaXJzdCBiZWNhdXNlIGl0IGNhbiBlbmQgdXBcblx0XHRcdC8vIGJlaW5nIGVtcHRpZWQgaW5jb3JyZWN0bHkgaW4gY2VydGFpbiBzaXR1YXRpb25zICh0cmFjLTgwNzApLlxuXHRcdFx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRub2RlID0gZnJhZ21lbnQ7XG5cblx0XHRcdFx0aWYgKCBpICE9PSBpTm9DbG9uZSApIHtcblx0XHRcdFx0XHRub2RlID0galF1ZXJ5LmNsb25lKCBub2RlLCB0cnVlLCB0cnVlICk7XG5cblx0XHRcdFx0XHQvLyBLZWVwIHJlZmVyZW5jZXMgdG8gY2xvbmVkIHNjcmlwdHMgZm9yIGxhdGVyIHJlc3RvcmF0aW9uXG5cdFx0XHRcdFx0aWYgKCBoYXNTY3JpcHRzICkge1xuXG5cdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHksIFBoYW50b21KUyAxIG9ubHlcblx0XHRcdFx0XHRcdC8vIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXRcblx0XHRcdFx0XHRcdGpRdWVyeS5tZXJnZSggc2NyaXB0cywgZ2V0QWxsKCBub2RlLCBcInNjcmlwdFwiICkgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjYWxsYmFjay5jYWxsKCBjb2xsZWN0aW9uWyBpIF0sIG5vZGUsIGkgKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBoYXNTY3JpcHRzICkge1xuXHRcdFx0XHRkb2MgPSBzY3JpcHRzWyBzY3JpcHRzLmxlbmd0aCAtIDEgXS5vd25lckRvY3VtZW50O1xuXG5cdFx0XHRcdC8vIFJlLWVuYWJsZSBzY3JpcHRzXG5cdFx0XHRcdGpRdWVyeS5tYXAoIHNjcmlwdHMsIHJlc3RvcmVTY3JpcHQgKTtcblxuXHRcdFx0XHQvLyBFdmFsdWF0ZSBleGVjdXRhYmxlIHNjcmlwdHMgb24gZmlyc3QgZG9jdW1lbnQgaW5zZXJ0aW9uXG5cdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgaGFzU2NyaXB0czsgaSsrICkge1xuXHRcdFx0XHRcdG5vZGUgPSBzY3JpcHRzWyBpIF07XG5cdFx0XHRcdFx0aWYgKCByc2NyaXB0VHlwZS50ZXN0KCBub2RlLnR5cGUgfHwgXCJcIiApICYmXG5cdFx0XHRcdFx0XHQhZGF0YVByaXYuYWNjZXNzKCBub2RlLCBcImdsb2JhbEV2YWxcIiApICYmXG5cdFx0XHRcdFx0XHRqUXVlcnkuY29udGFpbnMoIGRvYywgbm9kZSApICkge1xuXG5cdFx0XHRcdFx0XHRpZiAoIG5vZGUuc3JjICYmICggbm9kZS50eXBlIHx8IFwiXCIgKS50b0xvd2VyQ2FzZSgpICAhPT0gXCJtb2R1bGVcIiApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBPcHRpb25hbCBBSkFYIGRlcGVuZGVuY3ksIGJ1dCB3b24ndCBydW4gc2NyaXB0cyBpZiBub3QgcHJlc2VudFxuXHRcdFx0XHRcdFx0XHRpZiAoIGpRdWVyeS5fZXZhbFVybCAmJiAhbm9kZS5ub01vZHVsZSApIHtcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkuX2V2YWxVcmwoIG5vZGUuc3JjLCB7XG5cdFx0XHRcdFx0XHRcdFx0XHRub25jZTogbm9kZS5ub25jZSB8fCBub2RlLmdldEF0dHJpYnV0ZSggXCJub25jZVwiIClcblx0XHRcdFx0XHRcdFx0XHR9LCBkb2MgKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBVbndyYXAgYSBDREFUQSBzZWN0aW9uIGNvbnRhaW5pbmcgc2NyaXB0IGNvbnRlbnRzLiBUaGlzIHNob3VsZG4ndCBiZVxuXHRcdFx0XHRcdFx0XHQvLyBuZWVkZWQgYXMgaW4gWE1MIGRvY3VtZW50cyB0aGV5J3JlIGFscmVhZHkgbm90IHZpc2libGUgd2hlblxuXHRcdFx0XHRcdFx0XHQvLyBpbnNwZWN0aW5nIGVsZW1lbnQgY29udGVudHMgYW5kIGluIEhUTUwgZG9jdW1lbnRzIHRoZXkgaGF2ZSBub1xuXHRcdFx0XHRcdFx0XHQvLyBtZWFuaW5nIGJ1dCB3ZSdyZSBwcmVzZXJ2aW5nIHRoYXQgbG9naWMgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxuXHRcdFx0XHRcdFx0XHQvLyBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBjb21wbGV0ZWx5IGluIDQuMC4gU2VlIGdoLTQ5MDQuXG5cdFx0XHRcdFx0XHRcdERPTUV2YWwoIG5vZGUudGV4dENvbnRlbnQucmVwbGFjZSggcmNsZWFuU2NyaXB0LCBcIlwiICksIG5vZGUsIGRvYyApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBjb2xsZWN0aW9uO1xufVxuXG5mdW5jdGlvbiByZW1vdmUoIGVsZW0sIHNlbGVjdG9yLCBrZWVwRGF0YSApIHtcblx0dmFyIG5vZGUsXG5cdFx0bm9kZXMgPSBzZWxlY3RvciA/IGpRdWVyeS5maWx0ZXIoIHNlbGVjdG9yLCBlbGVtICkgOiBlbGVtLFxuXHRcdGkgPSAwO1xuXG5cdGZvciAoIDsgKCBub2RlID0gbm9kZXNbIGkgXSApICE9IG51bGw7IGkrKyApIHtcblx0XHRpZiAoICFrZWVwRGF0YSAmJiBub2RlLm5vZGVUeXBlID09PSAxICkge1xuXHRcdFx0alF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCBub2RlICkgKTtcblx0XHR9XG5cblx0XHRpZiAoIG5vZGUucGFyZW50Tm9kZSApIHtcblx0XHRcdGlmICgga2VlcERhdGEgJiYgaXNBdHRhY2hlZCggbm9kZSApICkge1xuXHRcdFx0XHRzZXRHbG9iYWxFdmFsKCBnZXRBbGwoIG5vZGUsIFwic2NyaXB0XCIgKSApO1xuXHRcdFx0fVxuXHRcdFx0bm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCBub2RlICk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGVsZW07XG59XG5cbmpRdWVyeS5leHRlbmQoIHtcblx0aHRtbFByZWZpbHRlcjogZnVuY3Rpb24oIGh0bWwgKSB7XG5cdFx0cmV0dXJuIGh0bWw7XG5cdH0sXG5cblx0Y2xvbmU6IGZ1bmN0aW9uKCBlbGVtLCBkYXRhQW5kRXZlbnRzLCBkZWVwRGF0YUFuZEV2ZW50cyApIHtcblx0XHR2YXIgaSwgbCwgc3JjRWxlbWVudHMsIGRlc3RFbGVtZW50cyxcblx0XHRcdGNsb25lID0gZWxlbS5jbG9uZU5vZGUoIHRydWUgKSxcblx0XHRcdGluUGFnZSA9IGlzQXR0YWNoZWQoIGVsZW0gKTtcblxuXHRcdC8vIEZpeCBJRSBjbG9uaW5nIGlzc3Vlc1xuXHRcdGlmICggIXN1cHBvcnQubm9DbG9uZUNoZWNrZWQgJiYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGVsZW0ubm9kZVR5cGUgPT09IDExICkgJiZcblx0XHRcdFx0IWpRdWVyeS5pc1hNTERvYyggZWxlbSApICkge1xuXG5cdFx0XHQvLyBXZSBlc2NoZXcgalF1ZXJ5I2ZpbmQgaGVyZSBmb3IgcGVyZm9ybWFuY2UgcmVhc29uczpcblx0XHRcdC8vIGh0dHBzOi8vanNwZXJmLmNvbS9nZXRhbGwtdnMtc2l6emxlLzJcblx0XHRcdGRlc3RFbGVtZW50cyA9IGdldEFsbCggY2xvbmUgKTtcblx0XHRcdHNyY0VsZW1lbnRzID0gZ2V0QWxsKCBlbGVtICk7XG5cblx0XHRcdGZvciAoIGkgPSAwLCBsID0gc3JjRWxlbWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRmaXhJbnB1dCggc3JjRWxlbWVudHNbIGkgXSwgZGVzdEVsZW1lbnRzWyBpIF0gKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBDb3B5IHRoZSBldmVudHMgZnJvbSB0aGUgb3JpZ2luYWwgdG8gdGhlIGNsb25lXG5cdFx0aWYgKCBkYXRhQW5kRXZlbnRzICkge1xuXHRcdFx0aWYgKCBkZWVwRGF0YUFuZEV2ZW50cyApIHtcblx0XHRcdFx0c3JjRWxlbWVudHMgPSBzcmNFbGVtZW50cyB8fCBnZXRBbGwoIGVsZW0gKTtcblx0XHRcdFx0ZGVzdEVsZW1lbnRzID0gZGVzdEVsZW1lbnRzIHx8IGdldEFsbCggY2xvbmUgKTtcblxuXHRcdFx0XHRmb3IgKCBpID0gMCwgbCA9IHNyY0VsZW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0XHRjbG9uZUNvcHlFdmVudCggc3JjRWxlbWVudHNbIGkgXSwgZGVzdEVsZW1lbnRzWyBpIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y2xvbmVDb3B5RXZlbnQoIGVsZW0sIGNsb25lICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gUHJlc2VydmUgc2NyaXB0IGV2YWx1YXRpb24gaGlzdG9yeVxuXHRcdGRlc3RFbGVtZW50cyA9IGdldEFsbCggY2xvbmUsIFwic2NyaXB0XCIgKTtcblx0XHRpZiAoIGRlc3RFbGVtZW50cy5sZW5ndGggPiAwICkge1xuXHRcdFx0c2V0R2xvYmFsRXZhbCggZGVzdEVsZW1lbnRzLCAhaW5QYWdlICYmIGdldEFsbCggZWxlbSwgXCJzY3JpcHRcIiApICk7XG5cdFx0fVxuXG5cdFx0Ly8gUmV0dXJuIHRoZSBjbG9uZWQgc2V0XG5cdFx0cmV0dXJuIGNsb25lO1xuXHR9LFxuXG5cdGNsZWFuRGF0YTogZnVuY3Rpb24oIGVsZW1zICkge1xuXHRcdHZhciBkYXRhLCBlbGVtLCB0eXBlLFxuXHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsLFxuXHRcdFx0aSA9IDA7XG5cblx0XHRmb3IgKCA7ICggZWxlbSA9IGVsZW1zWyBpIF0gKSAhPT0gdW5kZWZpbmVkOyBpKysgKSB7XG5cdFx0XHRpZiAoIGFjY2VwdERhdGEoIGVsZW0gKSApIHtcblx0XHRcdFx0aWYgKCAoIGRhdGEgPSBlbGVtWyBkYXRhUHJpdi5leHBhbmRvIF0gKSApIHtcblx0XHRcdFx0XHRpZiAoIGRhdGEuZXZlbnRzICkge1xuXHRcdFx0XHRcdFx0Zm9yICggdHlwZSBpbiBkYXRhLmV2ZW50cyApIHtcblx0XHRcdFx0XHRcdFx0aWYgKCBzcGVjaWFsWyB0eXBlIF0gKSB7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LnJlbW92ZSggZWxlbSwgdHlwZSApO1xuXG5cdFx0XHRcdFx0XHRcdC8vIFRoaXMgaXMgYSBzaG9ydGN1dCB0byBhdm9pZCBqUXVlcnkuZXZlbnQucmVtb3ZlJ3Mgb3ZlcmhlYWRcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkucmVtb3ZlRXZlbnQoIGVsZW0sIHR5cGUsIGRhdGEuaGFuZGxlICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBDaHJvbWUgPD0zNSAtIDQ1K1xuXHRcdFx0XHRcdC8vIEFzc2lnbiB1bmRlZmluZWQgaW5zdGVhZCBvZiB1c2luZyBkZWxldGUsIHNlZSBEYXRhI3JlbW92ZVxuXHRcdFx0XHRcdGVsZW1bIGRhdGFQcml2LmV4cGFuZG8gXSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIGVsZW1bIGRhdGFVc2VyLmV4cGFuZG8gXSApIHtcblxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IENocm9tZSA8PTM1IC0gNDUrXG5cdFx0XHRcdFx0Ly8gQXNzaWduIHVuZGVmaW5lZCBpbnN0ZWFkIG9mIHVzaW5nIGRlbGV0ZSwgc2VlIERhdGEjcmVtb3ZlXG5cdFx0XHRcdFx0ZWxlbVsgZGF0YVVzZXIuZXhwYW5kbyBdID0gdW5kZWZpbmVkO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59ICk7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0ZGV0YWNoOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuIHJlbW92ZSggdGhpcywgc2VsZWN0b3IsIHRydWUgKTtcblx0fSxcblxuXHRyZW1vdmU6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRyZXR1cm4gcmVtb3ZlKCB0aGlzLCBzZWxlY3RvciApO1xuXHR9LFxuXG5cdHRleHQ6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHRyZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/XG5cdFx0XHRcdGpRdWVyeS50ZXh0KCB0aGlzICkgOlxuXHRcdFx0XHR0aGlzLmVtcHR5KCkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKCB0aGlzLm5vZGVUeXBlID09PSAxIHx8IHRoaXMubm9kZVR5cGUgPT09IDExIHx8IHRoaXMubm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdFx0XHR0aGlzLnRleHRDb250ZW50ID0gdmFsdWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9ICk7XG5cdFx0fSwgbnVsbCwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggKTtcblx0fSxcblxuXHRhcHBlbmQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBkb21NYW5pcCggdGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdGlmICggdGhpcy5ub2RlVHlwZSA9PT0gMSB8fCB0aGlzLm5vZGVUeXBlID09PSAxMSB8fCB0aGlzLm5vZGVUeXBlID09PSA5ICkge1xuXHRcdFx0XHR2YXIgdGFyZ2V0ID0gbWFuaXB1bGF0aW9uVGFyZ2V0KCB0aGlzLCBlbGVtICk7XG5cdFx0XHRcdHRhcmdldC5hcHBlbmRDaGlsZCggZWxlbSApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRwcmVwZW5kOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRpZiAoIHRoaXMubm9kZVR5cGUgPT09IDEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gMTEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0dmFyIHRhcmdldCA9IG1hbmlwdWxhdGlvblRhcmdldCggdGhpcywgZWxlbSApO1xuXHRcdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKCBlbGVtLCB0YXJnZXQuZmlyc3RDaGlsZCApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRiZWZvcmU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBkb21NYW5pcCggdGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdGlmICggdGhpcy5wYXJlbnROb2RlICkge1xuXHRcdFx0XHR0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKCBlbGVtLCB0aGlzICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdGFmdGVyOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRpZiAoIHRoaXMucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0dGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSggZWxlbSwgdGhpcy5uZXh0U2libGluZyApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRlbXB0eTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGVsZW0sXG5cdFx0XHRpID0gMDtcblxuXHRcdGZvciAoIDsgKCBlbGVtID0gdGhpc1sgaSBdICkgIT0gbnVsbDsgaSsrICkge1xuXHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXG5cdFx0XHRcdC8vIFByZXZlbnQgbWVtb3J5IGxlYWtzXG5cdFx0XHRcdGpRdWVyeS5jbGVhbkRhdGEoIGdldEFsbCggZWxlbSwgZmFsc2UgKSApO1xuXG5cdFx0XHRcdC8vIFJlbW92ZSBhbnkgcmVtYWluaW5nIG5vZGVzXG5cdFx0XHRcdGVsZW0udGV4dENvbnRlbnQgPSBcIlwiO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdGNsb25lOiBmdW5jdGlvbiggZGF0YUFuZEV2ZW50cywgZGVlcERhdGFBbmRFdmVudHMgKSB7XG5cdFx0ZGF0YUFuZEV2ZW50cyA9IGRhdGFBbmRFdmVudHMgPT0gbnVsbCA/IGZhbHNlIDogZGF0YUFuZEV2ZW50cztcblx0XHRkZWVwRGF0YUFuZEV2ZW50cyA9IGRlZXBEYXRhQW5kRXZlbnRzID09IG51bGwgPyBkYXRhQW5kRXZlbnRzIDogZGVlcERhdGFBbmRFdmVudHM7XG5cblx0XHRyZXR1cm4gdGhpcy5tYXAoIGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIGpRdWVyeS5jbG9uZSggdGhpcywgZGF0YUFuZEV2ZW50cywgZGVlcERhdGFBbmRFdmVudHMgKTtcblx0XHR9ICk7XG5cdH0sXG5cblx0aHRtbDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHZhciBlbGVtID0gdGhpc1sgMCBdIHx8IHt9LFxuXHRcdFx0XHRpID0gMCxcblx0XHRcdFx0bCA9IHRoaXMubGVuZ3RoO1xuXG5cdFx0XHRpZiAoIHZhbHVlID09PSB1bmRlZmluZWQgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdFx0cmV0dXJuIGVsZW0uaW5uZXJIVE1MO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTZWUgaWYgd2UgY2FuIHRha2UgYSBzaG9ydGN1dCBhbmQganVzdCB1c2UgaW5uZXJIVE1MXG5cdFx0XHRpZiAoIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJiAhcm5vSW5uZXJodG1sLnRlc3QoIHZhbHVlICkgJiZcblx0XHRcdFx0IXdyYXBNYXBbICggcnRhZ05hbWUuZXhlYyggdmFsdWUgKSB8fCBbIFwiXCIsIFwiXCIgXSApWyAxIF0udG9Mb3dlckNhc2UoKSBdICkge1xuXG5cdFx0XHRcdHZhbHVlID0galF1ZXJ5Lmh0bWxQcmVmaWx0ZXIoIHZhbHVlICk7XG5cblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdFx0XHRlbGVtID0gdGhpc1sgaSBdIHx8IHt9O1xuXG5cdFx0XHRcdFx0XHQvLyBSZW1vdmUgZWxlbWVudCBub2RlcyBhbmQgcHJldmVudCBtZW1vcnkgbGVha3Ncblx0XHRcdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdFx0XHRcdFx0alF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCBlbGVtLCBmYWxzZSApICk7XG5cdFx0XHRcdFx0XHRcdGVsZW0uaW5uZXJIVE1MID0gdmFsdWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0ZWxlbSA9IDA7XG5cblx0XHRcdFx0Ly8gSWYgdXNpbmcgaW5uZXJIVE1MIHRocm93cyBhbiBleGNlcHRpb24sIHVzZSB0aGUgZmFsbGJhY2sgbWV0aG9kXG5cdFx0XHRcdH0gY2F0Y2ggKCBlICkge31cblx0XHRcdH1cblxuXHRcdFx0aWYgKCBlbGVtICkge1xuXHRcdFx0XHR0aGlzLmVtcHR5KCkuYXBwZW5kKCB2YWx1ZSApO1xuXHRcdFx0fVxuXHRcdH0sIG51bGwsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoICk7XG5cdH0sXG5cblx0cmVwbGFjZVdpdGg6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpZ25vcmVkID0gW107XG5cblx0XHQvLyBNYWtlIHRoZSBjaGFuZ2VzLCByZXBsYWNpbmcgZWFjaCBub24taWdub3JlZCBjb250ZXh0IGVsZW1lbnQgd2l0aCB0aGUgbmV3IGNvbnRlbnRcblx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHR2YXIgcGFyZW50ID0gdGhpcy5wYXJlbnROb2RlO1xuXG5cdFx0XHRpZiAoIGpRdWVyeS5pbkFycmF5KCB0aGlzLCBpZ25vcmVkICkgPCAwICkge1xuXHRcdFx0XHRqUXVlcnkuY2xlYW5EYXRhKCBnZXRBbGwoIHRoaXMgKSApO1xuXHRcdFx0XHRpZiAoIHBhcmVudCApIHtcblx0XHRcdFx0XHRwYXJlbnQucmVwbGFjZUNoaWxkKCBlbGVtLCB0aGlzICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdC8vIEZvcmNlIGNhbGxiYWNrIGludm9jYXRpb25cblx0XHR9LCBpZ25vcmVkICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmVhY2goIHtcblx0YXBwZW5kVG86IFwiYXBwZW5kXCIsXG5cdHByZXBlbmRUbzogXCJwcmVwZW5kXCIsXG5cdGluc2VydEJlZm9yZTogXCJiZWZvcmVcIixcblx0aW5zZXJ0QWZ0ZXI6IFwiYWZ0ZXJcIixcblx0cmVwbGFjZUFsbDogXCJyZXBsYWNlV2l0aFwiXG59LCBmdW5jdGlvbiggbmFtZSwgb3JpZ2luYWwgKSB7XG5cdGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHZhciBlbGVtcyxcblx0XHRcdHJldCA9IFtdLFxuXHRcdFx0aW5zZXJ0ID0galF1ZXJ5KCBzZWxlY3RvciApLFxuXHRcdFx0bGFzdCA9IGluc2VydC5sZW5ndGggLSAxLFxuXHRcdFx0aSA9IDA7XG5cblx0XHRmb3IgKCA7IGkgPD0gbGFzdDsgaSsrICkge1xuXHRcdFx0ZWxlbXMgPSBpID09PSBsYXN0ID8gdGhpcyA6IHRoaXMuY2xvbmUoIHRydWUgKTtcblx0XHRcdGpRdWVyeSggaW5zZXJ0WyBpIF0gKVsgb3JpZ2luYWwgXSggZWxlbXMgKTtcblxuXHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5XG5cdFx0XHQvLyAuZ2V0KCkgYmVjYXVzZSBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XG5cdFx0XHRwdXNoLmFwcGx5KCByZXQsIGVsZW1zLmdldCgpICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCByZXQgKTtcblx0fTtcbn0gKTtcbnZhciBybnVtbm9ucHggPSBuZXcgUmVnRXhwKCBcIl4oXCIgKyBwbnVtICsgXCIpKD8hcHgpW2EteiVdKyRcIiwgXCJpXCIgKTtcblxudmFyIHJjdXN0b21Qcm9wID0gL14tLS87XG5cblxudmFyIGdldFN0eWxlcyA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5LCBGaXJlZm94IDw9MzAgKHRyYWMtMTUwOTgsIHRyYWMtMTQxNTApXG5cdFx0Ly8gSUUgdGhyb3dzIG9uIGVsZW1lbnRzIGNyZWF0ZWQgaW4gcG9wdXBzXG5cdFx0Ly8gRkYgbWVhbndoaWxlIHRocm93cyBvbiBmcmFtZSBlbGVtZW50cyB0aHJvdWdoIFwiZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZVwiXG5cdFx0dmFyIHZpZXcgPSBlbGVtLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7XG5cblx0XHRpZiAoICF2aWV3IHx8ICF2aWV3Lm9wZW5lciApIHtcblx0XHRcdHZpZXcgPSB3aW5kb3c7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSggZWxlbSApO1xuXHR9O1xuXG52YXIgc3dhcCA9IGZ1bmN0aW9uKCBlbGVtLCBvcHRpb25zLCBjYWxsYmFjayApIHtcblx0dmFyIHJldCwgbmFtZSxcblx0XHRvbGQgPSB7fTtcblxuXHQvLyBSZW1lbWJlciB0aGUgb2xkIHZhbHVlcywgYW5kIGluc2VydCB0aGUgbmV3IG9uZXNcblx0Zm9yICggbmFtZSBpbiBvcHRpb25zICkge1xuXHRcdG9sZFsgbmFtZSBdID0gZWxlbS5zdHlsZVsgbmFtZSBdO1xuXHRcdGVsZW0uc3R5bGVbIG5hbWUgXSA9IG9wdGlvbnNbIG5hbWUgXTtcblx0fVxuXG5cdHJldCA9IGNhbGxiYWNrLmNhbGwoIGVsZW0gKTtcblxuXHQvLyBSZXZlcnQgdGhlIG9sZCB2YWx1ZXNcblx0Zm9yICggbmFtZSBpbiBvcHRpb25zICkge1xuXHRcdGVsZW0uc3R5bGVbIG5hbWUgXSA9IG9sZFsgbmFtZSBdO1xuXHR9XG5cblx0cmV0dXJuIHJldDtcbn07XG5cblxudmFyIHJib3hTdHlsZSA9IG5ldyBSZWdFeHAoIGNzc0V4cGFuZC5qb2luKCBcInxcIiApLCBcImlcIiApO1xuXG5cblxuKCBmdW5jdGlvbigpIHtcblxuXHQvLyBFeGVjdXRpbmcgYm90aCBwaXhlbFBvc2l0aW9uICYgYm94U2l6aW5nUmVsaWFibGUgdGVzdHMgcmVxdWlyZSBvbmx5IG9uZSBsYXlvdXRcblx0Ly8gc28gdGhleSdyZSBleGVjdXRlZCBhdCB0aGUgc2FtZSB0aW1lIHRvIHNhdmUgdGhlIHNlY29uZCBjb21wdXRhdGlvbi5cblx0ZnVuY3Rpb24gY29tcHV0ZVN0eWxlVGVzdHMoKSB7XG5cblx0XHQvLyBUaGlzIGlzIGEgc2luZ2xldG9uLCB3ZSBuZWVkIHRvIGV4ZWN1dGUgaXQgb25seSBvbmNlXG5cdFx0aWYgKCAhZGl2ICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGNvbnRhaW5lci5zdHlsZS5jc3NUZXh0ID0gXCJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi0xMTExMXB4O3dpZHRoOjYwcHg7XCIgK1xuXHRcdFx0XCJtYXJnaW4tdG9wOjFweDtwYWRkaW5nOjA7Ym9yZGVyOjBcIjtcblx0XHRkaXYuc3R5bGUuY3NzVGV4dCA9XG5cdFx0XHRcInBvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6YmxvY2s7Ym94LXNpemluZzpib3JkZXItYm94O292ZXJmbG93OnNjcm9sbDtcIiArXG5cdFx0XHRcIm1hcmdpbjphdXRvO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7XCIgK1xuXHRcdFx0XCJ3aWR0aDo2MCU7dG9wOjElXCI7XG5cdFx0ZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKCBjb250YWluZXIgKS5hcHBlbmRDaGlsZCggZGl2ICk7XG5cblx0XHR2YXIgZGl2U3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSggZGl2ICk7XG5cdFx0cGl4ZWxQb3NpdGlvblZhbCA9IGRpdlN0eWxlLnRvcCAhPT0gXCIxJVwiO1xuXG5cdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA0LjAgLSA0LjMgb25seSwgRmlyZWZveCA8PTMgLSA0NFxuXHRcdHJlbGlhYmxlTWFyZ2luTGVmdFZhbCA9IHJvdW5kUGl4ZWxNZWFzdXJlcyggZGl2U3R5bGUubWFyZ2luTGVmdCApID09PSAxMjtcblxuXHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgNC4wIC0gNC4zIG9ubHksIFNhZmFyaSA8PTkuMSAtIDEwLjEsIGlPUyA8PTcuMCAtIDkuM1xuXHRcdC8vIFNvbWUgc3R5bGVzIGNvbWUgYmFjayB3aXRoIHBlcmNlbnRhZ2UgdmFsdWVzLCBldmVuIHRob3VnaCB0aGV5IHNob3VsZG4ndFxuXHRcdGRpdi5zdHlsZS5yaWdodCA9IFwiNjAlXCI7XG5cdFx0cGl4ZWxCb3hTdHlsZXNWYWwgPSByb3VuZFBpeGVsTWVhc3VyZXMoIGRpdlN0eWxlLnJpZ2h0ICkgPT09IDM2O1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgOSAtIDExIG9ubHlcblx0XHQvLyBEZXRlY3QgbWlzcmVwb3J0aW5nIG9mIGNvbnRlbnQgZGltZW5zaW9ucyBmb3IgYm94LXNpemluZzpib3JkZXItYm94IGVsZW1lbnRzXG5cdFx0Ym94U2l6aW5nUmVsaWFibGVWYWwgPSByb3VuZFBpeGVsTWVhc3VyZXMoIGRpdlN0eWxlLndpZHRoICkgPT09IDM2O1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgOSBvbmx5XG5cdFx0Ly8gRGV0ZWN0IG92ZXJmbG93OnNjcm9sbCBzY3Jld2luZXNzIChnaC0zNjk5KVxuXHRcdC8vIFN1cHBvcnQ6IENocm9tZSA8PTY0XG5cdFx0Ly8gRG9uJ3QgZ2V0IHRyaWNrZWQgd2hlbiB6b29tIGFmZmVjdHMgb2Zmc2V0V2lkdGggKGdoLTQwMjkpXG5cdFx0ZGl2LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuXHRcdHNjcm9sbGJveFNpemVWYWwgPSByb3VuZFBpeGVsTWVhc3VyZXMoIGRpdi5vZmZzZXRXaWR0aCAvIDMgKSA9PT0gMTI7XG5cblx0XHRkb2N1bWVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoIGNvbnRhaW5lciApO1xuXG5cdFx0Ly8gTnVsbGlmeSB0aGUgZGl2IHNvIGl0IHdvdWxkbid0IGJlIHN0b3JlZCBpbiB0aGUgbWVtb3J5IGFuZFxuXHRcdC8vIGl0IHdpbGwgYWxzbyBiZSBhIHNpZ24gdGhhdCBjaGVja3MgYWxyZWFkeSBwZXJmb3JtZWRcblx0XHRkaXYgPSBudWxsO1xuXHR9XG5cblx0ZnVuY3Rpb24gcm91bmRQaXhlbE1lYXN1cmVzKCBtZWFzdXJlICkge1xuXHRcdHJldHVybiBNYXRoLnJvdW5kKCBwYXJzZUZsb2F0KCBtZWFzdXJlICkgKTtcblx0fVxuXG5cdHZhciBwaXhlbFBvc2l0aW9uVmFsLCBib3hTaXppbmdSZWxpYWJsZVZhbCwgc2Nyb2xsYm94U2l6ZVZhbCwgcGl4ZWxCb3hTdHlsZXNWYWwsXG5cdFx0cmVsaWFibGVUckRpbWVuc2lvbnNWYWwsIHJlbGlhYmxlTWFyZ2luTGVmdFZhbCxcblx0XHRjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICksXG5cdFx0ZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApO1xuXG5cdC8vIEZpbmlzaCBlYXJseSBpbiBsaW1pdGVkIChub24tYnJvd3NlcikgZW52aXJvbm1lbnRzXG5cdGlmICggIWRpdi5zdHlsZSApIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHQvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSBvbmx5XG5cdC8vIFN0eWxlIG9mIGNsb25lZCBlbGVtZW50IGFmZmVjdHMgc291cmNlIGVsZW1lbnQgY2xvbmVkICh0cmFjLTg5MDgpXG5cdGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCA9IFwiY29udGVudC1ib3hcIjtcblx0ZGl2LmNsb25lTm9kZSggdHJ1ZSApLnN0eWxlLmJhY2tncm91bmRDbGlwID0gXCJcIjtcblx0c3VwcG9ydC5jbGVhckNsb25lU3R5bGUgPSBkaXYuc3R5bGUuYmFja2dyb3VuZENsaXAgPT09IFwiY29udGVudC1ib3hcIjtcblxuXHRqUXVlcnkuZXh0ZW5kKCBzdXBwb3J0LCB7XG5cdFx0Ym94U2l6aW5nUmVsaWFibGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0Y29tcHV0ZVN0eWxlVGVzdHMoKTtcblx0XHRcdHJldHVybiBib3hTaXppbmdSZWxpYWJsZVZhbDtcblx0XHR9LFxuXHRcdHBpeGVsQm94U3R5bGVzOiBmdW5jdGlvbigpIHtcblx0XHRcdGNvbXB1dGVTdHlsZVRlc3RzKCk7XG5cdFx0XHRyZXR1cm4gcGl4ZWxCb3hTdHlsZXNWYWw7XG5cdFx0fSxcblx0XHRwaXhlbFBvc2l0aW9uOiBmdW5jdGlvbigpIHtcblx0XHRcdGNvbXB1dGVTdHlsZVRlc3RzKCk7XG5cdFx0XHRyZXR1cm4gcGl4ZWxQb3NpdGlvblZhbDtcblx0XHR9LFxuXHRcdHJlbGlhYmxlTWFyZ2luTGVmdDogZnVuY3Rpb24oKSB7XG5cdFx0XHRjb21wdXRlU3R5bGVUZXN0cygpO1xuXHRcdFx0cmV0dXJuIHJlbGlhYmxlTWFyZ2luTGVmdFZhbDtcblx0XHR9LFxuXHRcdHNjcm9sbGJveFNpemU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0Y29tcHV0ZVN0eWxlVGVzdHMoKTtcblx0XHRcdHJldHVybiBzY3JvbGxib3hTaXplVmFsO1xuXHRcdH0sXG5cblx0XHQvLyBTdXBwb3J0OiBJRSA5IC0gMTErLCBFZGdlIDE1IC0gMTgrXG5cdFx0Ly8gSUUvRWRnZSBtaXNyZXBvcnQgYGdldENvbXB1dGVkU3R5bGVgIG9mIHRhYmxlIHJvd3Mgd2l0aCB3aWR0aC9oZWlnaHRcblx0XHQvLyBzZXQgaW4gQ1NTIHdoaWxlIGBvZmZzZXQqYCBwcm9wZXJ0aWVzIHJlcG9ydCBjb3JyZWN0IHZhbHVlcy5cblx0XHQvLyBCZWhhdmlvciBpbiBJRSA5IGlzIG1vcmUgc3VidGxlIHRoYW4gaW4gbmV3ZXIgdmVyc2lvbnMgJiBpdCBwYXNzZXNcblx0XHQvLyBzb21lIHZlcnNpb25zIG9mIHRoaXMgdGVzdDsgbWFrZSBzdXJlIG5vdCB0byBtYWtlIGl0IHBhc3MgdGhlcmUhXG5cdFx0Ly9cblx0XHQvLyBTdXBwb3J0OiBGaXJlZm94IDcwK1xuXHRcdC8vIE9ubHkgRmlyZWZveCBpbmNsdWRlcyBib3JkZXIgd2lkdGhzXG5cdFx0Ly8gaW4gY29tcHV0ZWQgZGltZW5zaW9ucy4gKGdoLTQ1MjkpXG5cdFx0cmVsaWFibGVUckRpbWVuc2lvbnM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHRhYmxlLCB0ciwgdHJDaGlsZCwgdHJTdHlsZTtcblx0XHRcdGlmICggcmVsaWFibGVUckRpbWVuc2lvbnNWYWwgPT0gbnVsbCApIHtcblx0XHRcdFx0dGFibGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcInRhYmxlXCIgKTtcblx0XHRcdFx0dHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcInRyXCIgKTtcblx0XHRcdFx0dHJDaGlsZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKTtcblxuXHRcdFx0XHR0YWJsZS5zdHlsZS5jc3NUZXh0ID0gXCJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi0xMTExMXB4O2JvcmRlci1jb2xsYXBzZTpzZXBhcmF0ZVwiO1xuXHRcdFx0XHR0ci5zdHlsZS5jc3NUZXh0ID0gXCJib3gtc2l6aW5nOmNvbnRlbnQtYm94O2JvcmRlcjoxcHggc29saWRcIjtcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBDaHJvbWUgODYrXG5cdFx0XHRcdC8vIEhlaWdodCBzZXQgdGhyb3VnaCBjc3NUZXh0IGRvZXMgbm90IGdldCBhcHBsaWVkLlxuXHRcdFx0XHQvLyBDb21wdXRlZCBoZWlnaHQgdGhlbiBjb21lcyBiYWNrIGFzIDAuXG5cdFx0XHRcdHRyLnN0eWxlLmhlaWdodCA9IFwiMXB4XCI7XG5cdFx0XHRcdHRyQ2hpbGQuc3R5bGUuaGVpZ2h0ID0gXCI5cHhcIjtcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDggQ2hyb21lIDg2K1xuXHRcdFx0XHQvLyBJbiBvdXIgYm9keUJhY2tncm91bmQuaHRtbCBpZnJhbWUsXG5cdFx0XHRcdC8vIGRpc3BsYXkgZm9yIGFsbCBkaXYgZWxlbWVudHMgaXMgc2V0IHRvIFwiaW5saW5lXCIsXG5cdFx0XHRcdC8vIHdoaWNoIGNhdXNlcyBhIHByb2JsZW0gb25seSBpbiBBbmRyb2lkIDggQ2hyb21lIDg2LlxuXHRcdFx0XHQvLyBFbnN1cmluZyB0aGUgZGl2IGlzIGBkaXNwbGF5OiBibG9ja2Bcblx0XHRcdFx0Ly8gZ2V0cyBhcm91bmQgdGhpcyBpc3N1ZS5cblx0XHRcdFx0dHJDaGlsZC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuXG5cdFx0XHRcdGRvY3VtZW50RWxlbWVudFxuXHRcdFx0XHRcdC5hcHBlbmRDaGlsZCggdGFibGUgKVxuXHRcdFx0XHRcdC5hcHBlbmRDaGlsZCggdHIgKVxuXHRcdFx0XHRcdC5hcHBlbmRDaGlsZCggdHJDaGlsZCApO1xuXG5cdFx0XHRcdHRyU3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSggdHIgKTtcblx0XHRcdFx0cmVsaWFibGVUckRpbWVuc2lvbnNWYWwgPSAoIHBhcnNlSW50KCB0clN0eWxlLmhlaWdodCwgMTAgKSArXG5cdFx0XHRcdFx0cGFyc2VJbnQoIHRyU3R5bGUuYm9yZGVyVG9wV2lkdGgsIDEwICkgK1xuXHRcdFx0XHRcdHBhcnNlSW50KCB0clN0eWxlLmJvcmRlckJvdHRvbVdpZHRoLCAxMCApICkgPT09IHRyLm9mZnNldEhlaWdodDtcblxuXHRcdFx0XHRkb2N1bWVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoIHRhYmxlICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmVsaWFibGVUckRpbWVuc2lvbnNWYWw7XG5cdFx0fVxuXHR9ICk7XG59ICkoKTtcblxuXG5mdW5jdGlvbiBjdXJDU1MoIGVsZW0sIG5hbWUsIGNvbXB1dGVkICkge1xuXHR2YXIgd2lkdGgsIG1pbldpZHRoLCBtYXhXaWR0aCwgcmV0LFxuXHRcdGlzQ3VzdG9tUHJvcCA9IHJjdXN0b21Qcm9wLnRlc3QoIG5hbWUgKSxcblxuXHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3ggNTErXG5cdFx0Ly8gUmV0cmlldmluZyBzdHlsZSBiZWZvcmUgY29tcHV0ZWQgc29tZWhvd1xuXHRcdC8vIGZpeGVzIGFuIGlzc3VlIHdpdGggZ2V0dGluZyB3cm9uZyB2YWx1ZXNcblx0XHQvLyBvbiBkZXRhY2hlZCBlbGVtZW50c1xuXHRcdHN0eWxlID0gZWxlbS5zdHlsZTtcblxuXHRjb21wdXRlZCA9IGNvbXB1dGVkIHx8IGdldFN0eWxlcyggZWxlbSApO1xuXG5cdC8vIGdldFByb3BlcnR5VmFsdWUgaXMgbmVlZGVkIGZvcjpcblx0Ly8gICAuY3NzKCdmaWx0ZXInKSAoSUUgOSBvbmx5LCB0cmFjLTEyNTM3KVxuXHQvLyAgIC5jc3MoJy0tY3VzdG9tUHJvcGVydHkpIChnaC0zMTQ0KVxuXHRpZiAoIGNvbXB1dGVkICkge1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTErXG5cdFx0Ly8gSUUgb25seSBzdXBwb3J0cyBgXCJmbG9hdFwiYCBpbiBgZ2V0UHJvcGVydHlWYWx1ZWA7IGluIGNvbXB1dGVkIHN0eWxlc1xuXHRcdC8vIGl0J3Mgb25seSBhdmFpbGFibGUgYXMgYFwiY3NzRmxvYXRcImAuIFdlIG5vIGxvbmdlciBtb2RpZnkgcHJvcGVydGllc1xuXHRcdC8vIHNlbnQgdG8gYC5jc3MoKWAgYXBhcnQgZnJvbSBjYW1lbENhc2luZywgc28gd2UgbmVlZCB0byBjaGVjayBib3RoLlxuXHRcdC8vIE5vcm1hbGx5LCB0aGlzIHdvdWxkIGNyZWF0ZSBkaWZmZXJlbmNlIGluIGJlaGF2aW9yOiBpZlxuXHRcdC8vIGBnZXRQcm9wZXJ0eVZhbHVlYCByZXR1cm5zIGFuIGVtcHR5IHN0cmluZywgdGhlIHZhbHVlIHJldHVybmVkXG5cdFx0Ly8gYnkgYC5jc3MoKWAgd291bGQgYmUgYHVuZGVmaW5lZGAuIFRoaXMgaXMgdXN1YWxseSB0aGUgY2FzZSBmb3Jcblx0XHQvLyBkaXNjb25uZWN0ZWQgZWxlbWVudHMuIEhvd2V2ZXIsIGluIElFIGV2ZW4gZGlzY29ubmVjdGVkIGVsZW1lbnRzXG5cdFx0Ly8gd2l0aCBubyBzdHlsZXMgcmV0dXJuIGBcIm5vbmVcImAgZm9yIGBnZXRQcm9wZXJ0eVZhbHVlKCBcImZsb2F0XCIgKWBcblx0XHRyZXQgPSBjb21wdXRlZC5nZXRQcm9wZXJ0eVZhbHVlKCBuYW1lICkgfHwgY29tcHV0ZWRbIG5hbWUgXTtcblxuXHRcdGlmICggaXNDdXN0b21Qcm9wICYmIHJldCApIHtcblxuXHRcdFx0Ly8gU3VwcG9ydDogRmlyZWZveCAxMDUrLCBDaHJvbWUgPD0xMDUrXG5cdFx0XHQvLyBTcGVjIHJlcXVpcmVzIHRyaW1taW5nIHdoaXRlc3BhY2UgZm9yIGN1c3RvbSBwcm9wZXJ0aWVzIChnaC00OTI2KS5cblx0XHRcdC8vIEZpcmVmb3ggb25seSB0cmltcyBsZWFkaW5nIHdoaXRlc3BhY2UuIENocm9tZSBqdXN0IGNvbGxhcHNlc1xuXHRcdFx0Ly8gYm90aCBsZWFkaW5nICYgdHJhaWxpbmcgd2hpdGVzcGFjZSB0byBhIHNpbmdsZSBzcGFjZS5cblx0XHRcdC8vXG5cdFx0XHQvLyBGYWxsIGJhY2sgdG8gYHVuZGVmaW5lZGAgaWYgZW1wdHkgc3RyaW5nIHJldHVybmVkLlxuXHRcdFx0Ly8gVGhpcyBjb2xsYXBzZXMgYSBtaXNzaW5nIGRlZmluaXRpb24gd2l0aCBwcm9wZXJ0eSBkZWZpbmVkXG5cdFx0XHQvLyBhbmQgc2V0IHRvIGFuIGVtcHR5IHN0cmluZyBidXQgdGhlcmUncyBubyBzdGFuZGFyZCBBUElcblx0XHRcdC8vIGFsbG93aW5nIHVzIHRvIGRpZmZlcmVudGlhdGUgdGhlbSB3aXRob3V0IGEgcGVyZm9ybWFuY2UgcGVuYWx0eVxuXHRcdFx0Ly8gYW5kIHJldHVybmluZyBgdW5kZWZpbmVkYCBhbGlnbnMgd2l0aCBvbGRlciBqUXVlcnkuXG5cdFx0XHQvL1xuXHRcdFx0Ly8gcnRyaW1DU1MgdHJlYXRzIFUrMDAwRCBDQVJSSUFHRSBSRVRVUk4gYW5kIFUrMDAwQyBGT1JNIEZFRURcblx0XHRcdC8vIGFzIHdoaXRlc3BhY2Ugd2hpbGUgQ1NTIGRvZXMgbm90LCBidXQgdGhpcyBpcyBub3QgYSBwcm9ibGVtXG5cdFx0XHQvLyBiZWNhdXNlIENTUyBwcmVwcm9jZXNzaW5nIHJlcGxhY2VzIHRoZW0gd2l0aCBVKzAwMEEgTElORSBGRUVEXG5cdFx0XHQvLyAod2hpY2ggKmlzKiBDU1Mgd2hpdGVzcGFjZSlcblx0XHRcdC8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9jc3Mtc3ludGF4LTMvI2lucHV0LXByZXByb2Nlc3Npbmdcblx0XHRcdHJldCA9IHJldC5yZXBsYWNlKCBydHJpbUNTUywgXCIkMVwiICkgfHwgdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdGlmICggcmV0ID09PSBcIlwiICYmICFpc0F0dGFjaGVkKCBlbGVtICkgKSB7XG5cdFx0XHRyZXQgPSBqUXVlcnkuc3R5bGUoIGVsZW0sIG5hbWUgKTtcblx0XHR9XG5cblx0XHQvLyBBIHRyaWJ1dGUgdG8gdGhlIFwiYXdlc29tZSBoYWNrIGJ5IERlYW4gRWR3YXJkc1wiXG5cdFx0Ly8gQW5kcm9pZCBCcm93c2VyIHJldHVybnMgcGVyY2VudGFnZSBmb3Igc29tZSB2YWx1ZXMsXG5cdFx0Ly8gYnV0IHdpZHRoIHNlZW1zIHRvIGJlIHJlbGlhYmx5IHBpeGVscy5cblx0XHQvLyBUaGlzIGlzIGFnYWluc3QgdGhlIENTU09NIGRyYWZ0IHNwZWM6XG5cdFx0Ly8gaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL2Nzc29tLyNyZXNvbHZlZC12YWx1ZXNcblx0XHRpZiAoICFzdXBwb3J0LnBpeGVsQm94U3R5bGVzKCkgJiYgcm51bW5vbnB4LnRlc3QoIHJldCApICYmIHJib3hTdHlsZS50ZXN0KCBuYW1lICkgKSB7XG5cblx0XHRcdC8vIFJlbWVtYmVyIHRoZSBvcmlnaW5hbCB2YWx1ZXNcblx0XHRcdHdpZHRoID0gc3R5bGUud2lkdGg7XG5cdFx0XHRtaW5XaWR0aCA9IHN0eWxlLm1pbldpZHRoO1xuXHRcdFx0bWF4V2lkdGggPSBzdHlsZS5tYXhXaWR0aDtcblxuXHRcdFx0Ly8gUHV0IGluIHRoZSBuZXcgdmFsdWVzIHRvIGdldCBhIGNvbXB1dGVkIHZhbHVlIG91dFxuXHRcdFx0c3R5bGUubWluV2lkdGggPSBzdHlsZS5tYXhXaWR0aCA9IHN0eWxlLndpZHRoID0gcmV0O1xuXHRcdFx0cmV0ID0gY29tcHV0ZWQud2lkdGg7XG5cblx0XHRcdC8vIFJldmVydCB0aGUgY2hhbmdlZCB2YWx1ZXNcblx0XHRcdHN0eWxlLndpZHRoID0gd2lkdGg7XG5cdFx0XHRzdHlsZS5taW5XaWR0aCA9IG1pbldpZHRoO1xuXHRcdFx0c3R5bGUubWF4V2lkdGggPSBtYXhXaWR0aDtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gcmV0ICE9PSB1bmRlZmluZWQgP1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTEgb25seVxuXHRcdC8vIElFIHJldHVybnMgekluZGV4IHZhbHVlIGFzIGFuIGludGVnZXIuXG5cdFx0cmV0ICsgXCJcIiA6XG5cdFx0cmV0O1xufVxuXG5cbmZ1bmN0aW9uIGFkZEdldEhvb2tJZiggY29uZGl0aW9uRm4sIGhvb2tGbiApIHtcblxuXHQvLyBEZWZpbmUgdGhlIGhvb2ssIHdlJ2xsIGNoZWNrIG9uIHRoZSBmaXJzdCBydW4gaWYgaXQncyByZWFsbHkgbmVlZGVkLlxuXHRyZXR1cm4ge1xuXHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoIGNvbmRpdGlvbkZuKCkgKSB7XG5cblx0XHRcdFx0Ly8gSG9vayBub3QgbmVlZGVkIChvciBpdCdzIG5vdCBwb3NzaWJsZSB0byB1c2UgaXQgZHVlXG5cdFx0XHRcdC8vIHRvIG1pc3NpbmcgZGVwZW5kZW5jeSksIHJlbW92ZSBpdC5cblx0XHRcdFx0ZGVsZXRlIHRoaXMuZ2V0O1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIEhvb2sgbmVlZGVkOyByZWRlZmluZSBpdCBzbyB0aGF0IHRoZSBzdXBwb3J0IHRlc3QgaXMgbm90IGV4ZWN1dGVkIGFnYWluLlxuXHRcdFx0cmV0dXJuICggdGhpcy5nZXQgPSBob29rRm4gKS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0fVxuXHR9O1xufVxuXG5cbnZhciBjc3NQcmVmaXhlcyA9IFsgXCJXZWJraXRcIiwgXCJNb3pcIiwgXCJtc1wiIF0sXG5cdGVtcHR5U3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICkuc3R5bGUsXG5cdHZlbmRvclByb3BzID0ge307XG5cbi8vIFJldHVybiBhIHZlbmRvci1wcmVmaXhlZCBwcm9wZXJ0eSBvciB1bmRlZmluZWRcbmZ1bmN0aW9uIHZlbmRvclByb3BOYW1lKCBuYW1lICkge1xuXG5cdC8vIENoZWNrIGZvciB2ZW5kb3IgcHJlZml4ZWQgbmFtZXNcblx0dmFyIGNhcE5hbWUgPSBuYW1lWyAwIF0udG9VcHBlckNhc2UoKSArIG5hbWUuc2xpY2UoIDEgKSxcblx0XHRpID0gY3NzUHJlZml4ZXMubGVuZ3RoO1xuXG5cdHdoaWxlICggaS0tICkge1xuXHRcdG5hbWUgPSBjc3NQcmVmaXhlc1sgaSBdICsgY2FwTmFtZTtcblx0XHRpZiAoIG5hbWUgaW4gZW1wdHlTdHlsZSApIHtcblx0XHRcdHJldHVybiBuYW1lO1xuXHRcdH1cblx0fVxufVxuXG4vLyBSZXR1cm4gYSBwb3RlbnRpYWxseS1tYXBwZWQgalF1ZXJ5LmNzc1Byb3BzIG9yIHZlbmRvciBwcmVmaXhlZCBwcm9wZXJ0eVxuZnVuY3Rpb24gZmluYWxQcm9wTmFtZSggbmFtZSApIHtcblx0dmFyIGZpbmFsID0galF1ZXJ5LmNzc1Byb3BzWyBuYW1lIF0gfHwgdmVuZG9yUHJvcHNbIG5hbWUgXTtcblxuXHRpZiAoIGZpbmFsICkge1xuXHRcdHJldHVybiBmaW5hbDtcblx0fVxuXHRpZiAoIG5hbWUgaW4gZW1wdHlTdHlsZSApIHtcblx0XHRyZXR1cm4gbmFtZTtcblx0fVxuXHRyZXR1cm4gdmVuZG9yUHJvcHNbIG5hbWUgXSA9IHZlbmRvclByb3BOYW1lKCBuYW1lICkgfHwgbmFtZTtcbn1cblxuXG52YXJcblxuXHQvLyBTd2FwcGFibGUgaWYgZGlzcGxheSBpcyBub25lIG9yIHN0YXJ0cyB3aXRoIHRhYmxlXG5cdC8vIGV4Y2VwdCBcInRhYmxlXCIsIFwidGFibGUtY2VsbFwiLCBvciBcInRhYmxlLWNhcHRpb25cIlxuXHQvLyBTZWUgaGVyZSBmb3IgZGlzcGxheSB2YWx1ZXM6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvQ1NTL2Rpc3BsYXlcblx0cmRpc3BsYXlzd2FwID0gL14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLFxuXHRjc3NTaG93ID0geyBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLCB2aXNpYmlsaXR5OiBcImhpZGRlblwiLCBkaXNwbGF5OiBcImJsb2NrXCIgfSxcblx0Y3NzTm9ybWFsVHJhbnNmb3JtID0ge1xuXHRcdGxldHRlclNwYWNpbmc6IFwiMFwiLFxuXHRcdGZvbnRXZWlnaHQ6IFwiNDAwXCJcblx0fTtcblxuZnVuY3Rpb24gc2V0UG9zaXRpdmVOdW1iZXIoIF9lbGVtLCB2YWx1ZSwgc3VidHJhY3QgKSB7XG5cblx0Ly8gQW55IHJlbGF0aXZlICgrLy0pIHZhbHVlcyBoYXZlIGFscmVhZHkgYmVlblxuXHQvLyBub3JtYWxpemVkIGF0IHRoaXMgcG9pbnRcblx0dmFyIG1hdGNoZXMgPSByY3NzTnVtLmV4ZWMoIHZhbHVlICk7XG5cdHJldHVybiBtYXRjaGVzID9cblxuXHRcdC8vIEd1YXJkIGFnYWluc3QgdW5kZWZpbmVkIFwic3VidHJhY3RcIiwgZS5nLiwgd2hlbiB1c2VkIGFzIGluIGNzc0hvb2tzXG5cdFx0TWF0aC5tYXgoIDAsIG1hdGNoZXNbIDIgXSAtICggc3VidHJhY3QgfHwgMCApICkgKyAoIG1hdGNoZXNbIDMgXSB8fCBcInB4XCIgKSA6XG5cdFx0dmFsdWU7XG59XG5cbmZ1bmN0aW9uIGJveE1vZGVsQWRqdXN0bWVudCggZWxlbSwgZGltZW5zaW9uLCBib3gsIGlzQm9yZGVyQm94LCBzdHlsZXMsIGNvbXB1dGVkVmFsICkge1xuXHR2YXIgaSA9IGRpbWVuc2lvbiA9PT0gXCJ3aWR0aFwiID8gMSA6IDAsXG5cdFx0ZXh0cmEgPSAwLFxuXHRcdGRlbHRhID0gMCxcblx0XHRtYXJnaW5EZWx0YSA9IDA7XG5cblx0Ly8gQWRqdXN0bWVudCBtYXkgbm90IGJlIG5lY2Vzc2FyeVxuXHRpZiAoIGJveCA9PT0gKCBpc0JvcmRlckJveCA/IFwiYm9yZGVyXCIgOiBcImNvbnRlbnRcIiApICkge1xuXHRcdHJldHVybiAwO1xuXHR9XG5cblx0Zm9yICggOyBpIDwgNDsgaSArPSAyICkge1xuXG5cdFx0Ly8gQm90aCBib3ggbW9kZWxzIGV4Y2x1ZGUgbWFyZ2luXG5cdFx0Ly8gQ291bnQgbWFyZ2luIGRlbHRhIHNlcGFyYXRlbHkgdG8gb25seSBhZGQgaXQgYWZ0ZXIgc2Nyb2xsIGd1dHRlciBhZGp1c3RtZW50LlxuXHRcdC8vIFRoaXMgaXMgbmVlZGVkIHRvIG1ha2UgbmVnYXRpdmUgbWFyZ2lucyB3b3JrIHdpdGggYG91dGVySGVpZ2h0KCB0cnVlIClgIChnaC0zOTgyKS5cblx0XHRpZiAoIGJveCA9PT0gXCJtYXJnaW5cIiApIHtcblx0XHRcdG1hcmdpbkRlbHRhICs9IGpRdWVyeS5jc3MoIGVsZW0sIGJveCArIGNzc0V4cGFuZFsgaSBdLCB0cnVlLCBzdHlsZXMgKTtcblx0XHR9XG5cblx0XHQvLyBJZiB3ZSBnZXQgaGVyZSB3aXRoIGEgY29udGVudC1ib3gsIHdlJ3JlIHNlZWtpbmcgXCJwYWRkaW5nXCIgb3IgXCJib3JkZXJcIiBvciBcIm1hcmdpblwiXG5cdFx0aWYgKCAhaXNCb3JkZXJCb3ggKSB7XG5cblx0XHRcdC8vIEFkZCBwYWRkaW5nXG5cdFx0XHRkZWx0YSArPSBqUXVlcnkuY3NzKCBlbGVtLCBcInBhZGRpbmdcIiArIGNzc0V4cGFuZFsgaSBdLCB0cnVlLCBzdHlsZXMgKTtcblxuXHRcdFx0Ly8gRm9yIFwiYm9yZGVyXCIgb3IgXCJtYXJnaW5cIiwgYWRkIGJvcmRlclxuXHRcdFx0aWYgKCBib3ggIT09IFwicGFkZGluZ1wiICkge1xuXHRcdFx0XHRkZWx0YSArPSBqUXVlcnkuY3NzKCBlbGVtLCBcImJvcmRlclwiICsgY3NzRXhwYW5kWyBpIF0gKyBcIldpZHRoXCIsIHRydWUsIHN0eWxlcyApO1xuXG5cdFx0XHQvLyBCdXQgc3RpbGwga2VlcCB0cmFjayBvZiBpdCBvdGhlcndpc2Vcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGV4dHJhICs9IGpRdWVyeS5jc3MoIGVsZW0sIFwiYm9yZGVyXCIgKyBjc3NFeHBhbmRbIGkgXSArIFwiV2lkdGhcIiwgdHJ1ZSwgc3R5bGVzICk7XG5cdFx0XHR9XG5cblx0XHQvLyBJZiB3ZSBnZXQgaGVyZSB3aXRoIGEgYm9yZGVyLWJveCAoY29udGVudCArIHBhZGRpbmcgKyBib3JkZXIpLCB3ZSdyZSBzZWVraW5nIFwiY29udGVudFwiIG9yXG5cdFx0Ly8gXCJwYWRkaW5nXCIgb3IgXCJtYXJnaW5cIlxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdC8vIEZvciBcImNvbnRlbnRcIiwgc3VidHJhY3QgcGFkZGluZ1xuXHRcdFx0aWYgKCBib3ggPT09IFwiY29udGVudFwiICkge1xuXHRcdFx0XHRkZWx0YSAtPSBqUXVlcnkuY3NzKCBlbGVtLCBcInBhZGRpbmdcIiArIGNzc0V4cGFuZFsgaSBdLCB0cnVlLCBzdHlsZXMgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gRm9yIFwiY29udGVudFwiIG9yIFwicGFkZGluZ1wiLCBzdWJ0cmFjdCBib3JkZXJcblx0XHRcdGlmICggYm94ICE9PSBcIm1hcmdpblwiICkge1xuXHRcdFx0XHRkZWx0YSAtPSBqUXVlcnkuY3NzKCBlbGVtLCBcImJvcmRlclwiICsgY3NzRXhwYW5kWyBpIF0gKyBcIldpZHRoXCIsIHRydWUsIHN0eWxlcyApO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIEFjY291bnQgZm9yIHBvc2l0aXZlIGNvbnRlbnQtYm94IHNjcm9sbCBndXR0ZXIgd2hlbiByZXF1ZXN0ZWQgYnkgcHJvdmlkaW5nIGNvbXB1dGVkVmFsXG5cdGlmICggIWlzQm9yZGVyQm94ICYmIGNvbXB1dGVkVmFsID49IDAgKSB7XG5cblx0XHQvLyBvZmZzZXRXaWR0aC9vZmZzZXRIZWlnaHQgaXMgYSByb3VuZGVkIHN1bSBvZiBjb250ZW50LCBwYWRkaW5nLCBzY3JvbGwgZ3V0dGVyLCBhbmQgYm9yZGVyXG5cdFx0Ly8gQXNzdW1pbmcgaW50ZWdlciBzY3JvbGwgZ3V0dGVyLCBzdWJ0cmFjdCB0aGUgcmVzdCBhbmQgcm91bmQgZG93blxuXHRcdGRlbHRhICs9IE1hdGgubWF4KCAwLCBNYXRoLmNlaWwoXG5cdFx0XHRlbGVtWyBcIm9mZnNldFwiICsgZGltZW5zaW9uWyAwIF0udG9VcHBlckNhc2UoKSArIGRpbWVuc2lvbi5zbGljZSggMSApIF0gLVxuXHRcdFx0Y29tcHV0ZWRWYWwgLVxuXHRcdFx0ZGVsdGEgLVxuXHRcdFx0ZXh0cmEgLVxuXHRcdFx0MC41XG5cblx0XHQvLyBJZiBvZmZzZXRXaWR0aC9vZmZzZXRIZWlnaHQgaXMgdW5rbm93biwgdGhlbiB3ZSBjYW4ndCBkZXRlcm1pbmUgY29udGVudC1ib3ggc2Nyb2xsIGd1dHRlclxuXHRcdC8vIFVzZSBhbiBleHBsaWNpdCB6ZXJvIHRvIGF2b2lkIE5hTiAoZ2gtMzk2NClcblx0XHQpICkgfHwgMDtcblx0fVxuXG5cdHJldHVybiBkZWx0YSArIG1hcmdpbkRlbHRhO1xufVxuXG5mdW5jdGlvbiBnZXRXaWR0aE9ySGVpZ2h0KCBlbGVtLCBkaW1lbnNpb24sIGV4dHJhICkge1xuXG5cdC8vIFN0YXJ0IHdpdGggY29tcHV0ZWQgc3R5bGVcblx0dmFyIHN0eWxlcyA9IGdldFN0eWxlcyggZWxlbSApLFxuXG5cdFx0Ly8gVG8gYXZvaWQgZm9yY2luZyBhIHJlZmxvdywgb25seSBmZXRjaCBib3hTaXppbmcgaWYgd2UgbmVlZCBpdCAoZ2gtNDMyMikuXG5cdFx0Ly8gRmFrZSBjb250ZW50LWJveCB1bnRpbCB3ZSBrbm93IGl0J3MgbmVlZGVkIHRvIGtub3cgdGhlIHRydWUgdmFsdWUuXG5cdFx0Ym94U2l6aW5nTmVlZGVkID0gIXN1cHBvcnQuYm94U2l6aW5nUmVsaWFibGUoKSB8fCBleHRyYSxcblx0XHRpc0JvcmRlckJveCA9IGJveFNpemluZ05lZWRlZCAmJlxuXHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgXCJib3hTaXppbmdcIiwgZmFsc2UsIHN0eWxlcyApID09PSBcImJvcmRlci1ib3hcIixcblx0XHR2YWx1ZUlzQm9yZGVyQm94ID0gaXNCb3JkZXJCb3gsXG5cblx0XHR2YWwgPSBjdXJDU1MoIGVsZW0sIGRpbWVuc2lvbiwgc3R5bGVzICksXG5cdFx0b2Zmc2V0UHJvcCA9IFwib2Zmc2V0XCIgKyBkaW1lbnNpb25bIDAgXS50b1VwcGVyQ2FzZSgpICsgZGltZW5zaW9uLnNsaWNlKCAxICk7XG5cblx0Ly8gU3VwcG9ydDogRmlyZWZveCA8PTU0XG5cdC8vIFJldHVybiBhIGNvbmZvdW5kaW5nIG5vbi1waXhlbCB2YWx1ZSBvciBmZWlnbiBpZ25vcmFuY2UsIGFzIGFwcHJvcHJpYXRlLlxuXHRpZiAoIHJudW1ub25weC50ZXN0KCB2YWwgKSApIHtcblx0XHRpZiAoICFleHRyYSApIHtcblx0XHRcdHJldHVybiB2YWw7XG5cdFx0fVxuXHRcdHZhbCA9IFwiYXV0b1wiO1xuXHR9XG5cblxuXHQvLyBTdXBwb3J0OiBJRSA5IC0gMTEgb25seVxuXHQvLyBVc2Ugb2Zmc2V0V2lkdGgvb2Zmc2V0SGVpZ2h0IGZvciB3aGVuIGJveCBzaXppbmcgaXMgdW5yZWxpYWJsZS5cblx0Ly8gSW4gdGhvc2UgY2FzZXMsIHRoZSBjb21wdXRlZCB2YWx1ZSBjYW4gYmUgdHJ1c3RlZCB0byBiZSBib3JkZXItYm94LlxuXHRpZiAoICggIXN1cHBvcnQuYm94U2l6aW5nUmVsaWFibGUoKSAmJiBpc0JvcmRlckJveCB8fFxuXG5cdFx0Ly8gU3VwcG9ydDogSUUgMTAgLSAxMSssIEVkZ2UgMTUgLSAxOCtcblx0XHQvLyBJRS9FZGdlIG1pc3JlcG9ydCBgZ2V0Q29tcHV0ZWRTdHlsZWAgb2YgdGFibGUgcm93cyB3aXRoIHdpZHRoL2hlaWdodFxuXHRcdC8vIHNldCBpbiBDU1Mgd2hpbGUgYG9mZnNldCpgIHByb3BlcnRpZXMgcmVwb3J0IGNvcnJlY3QgdmFsdWVzLlxuXHRcdC8vIEludGVyZXN0aW5nbHksIGluIHNvbWUgY2FzZXMgSUUgOSBkb2Vzbid0IHN1ZmZlciBmcm9tIHRoaXMgaXNzdWUuXG5cdFx0IXN1cHBvcnQucmVsaWFibGVUckRpbWVuc2lvbnMoKSAmJiBub2RlTmFtZSggZWxlbSwgXCJ0clwiICkgfHxcblxuXHRcdC8vIEZhbGwgYmFjayB0byBvZmZzZXRXaWR0aC9vZmZzZXRIZWlnaHQgd2hlbiB2YWx1ZSBpcyBcImF1dG9cIlxuXHRcdC8vIFRoaXMgaGFwcGVucyBmb3IgaW5saW5lIGVsZW1lbnRzIHdpdGggbm8gZXhwbGljaXQgc2V0dGluZyAoZ2gtMzU3MSlcblx0XHR2YWwgPT09IFwiYXV0b1wiIHx8XG5cblx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4xIC0gNC4zIG9ubHlcblx0XHQvLyBBbHNvIHVzZSBvZmZzZXRXaWR0aC9vZmZzZXRIZWlnaHQgZm9yIG1pc3JlcG9ydGVkIGlubGluZSBkaW1lbnNpb25zIChnaC0zNjAyKVxuXHRcdCFwYXJzZUZsb2F0KCB2YWwgKSAmJiBqUXVlcnkuY3NzKCBlbGVtLCBcImRpc3BsYXlcIiwgZmFsc2UsIHN0eWxlcyApID09PSBcImlubGluZVwiICkgJiZcblxuXHRcdC8vIE1ha2Ugc3VyZSB0aGUgZWxlbWVudCBpcyB2aXNpYmxlICYgY29ubmVjdGVkXG5cdFx0ZWxlbS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCApIHtcblxuXHRcdGlzQm9yZGVyQm94ID0galF1ZXJ5LmNzcyggZWxlbSwgXCJib3hTaXppbmdcIiwgZmFsc2UsIHN0eWxlcyApID09PSBcImJvcmRlci1ib3hcIjtcblxuXHRcdC8vIFdoZXJlIGF2YWlsYWJsZSwgb2Zmc2V0V2lkdGgvb2Zmc2V0SGVpZ2h0IGFwcHJveGltYXRlIGJvcmRlciBib3ggZGltZW5zaW9ucy5cblx0XHQvLyBXaGVyZSBub3QgYXZhaWxhYmxlIChlLmcuLCBTVkcpLCBhc3N1bWUgdW5yZWxpYWJsZSBib3gtc2l6aW5nIGFuZCBpbnRlcnByZXQgdGhlXG5cdFx0Ly8gcmV0cmlldmVkIHZhbHVlIGFzIGEgY29udGVudCBib3ggZGltZW5zaW9uLlxuXHRcdHZhbHVlSXNCb3JkZXJCb3ggPSBvZmZzZXRQcm9wIGluIGVsZW07XG5cdFx0aWYgKCB2YWx1ZUlzQm9yZGVyQm94ICkge1xuXHRcdFx0dmFsID0gZWxlbVsgb2Zmc2V0UHJvcCBdO1xuXHRcdH1cblx0fVxuXG5cdC8vIE5vcm1hbGl6ZSBcIlwiIGFuZCBhdXRvXG5cdHZhbCA9IHBhcnNlRmxvYXQoIHZhbCApIHx8IDA7XG5cblx0Ly8gQWRqdXN0IGZvciB0aGUgZWxlbWVudCdzIGJveCBtb2RlbFxuXHRyZXR1cm4gKCB2YWwgK1xuXHRcdGJveE1vZGVsQWRqdXN0bWVudChcblx0XHRcdGVsZW0sXG5cdFx0XHRkaW1lbnNpb24sXG5cdFx0XHRleHRyYSB8fCAoIGlzQm9yZGVyQm94ID8gXCJib3JkZXJcIiA6IFwiY29udGVudFwiICksXG5cdFx0XHR2YWx1ZUlzQm9yZGVyQm94LFxuXHRcdFx0c3R5bGVzLFxuXG5cdFx0XHQvLyBQcm92aWRlIHRoZSBjdXJyZW50IGNvbXB1dGVkIHNpemUgdG8gcmVxdWVzdCBzY3JvbGwgZ3V0dGVyIGNhbGN1bGF0aW9uIChnaC0zNTg5KVxuXHRcdFx0dmFsXG5cdFx0KVxuXHQpICsgXCJweFwiO1xufVxuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cblx0Ly8gQWRkIGluIHN0eWxlIHByb3BlcnR5IGhvb2tzIGZvciBvdmVycmlkaW5nIHRoZSBkZWZhdWx0XG5cdC8vIGJlaGF2aW9yIG9mIGdldHRpbmcgYW5kIHNldHRpbmcgYSBzdHlsZSBwcm9wZXJ0eVxuXHRjc3NIb29rczoge1xuXHRcdG9wYWNpdHk6IHtcblx0XHRcdGdldDogZnVuY3Rpb24oIGVsZW0sIGNvbXB1dGVkICkge1xuXHRcdFx0XHRpZiAoIGNvbXB1dGVkICkge1xuXG5cdFx0XHRcdFx0Ly8gV2Ugc2hvdWxkIGFsd2F5cyBnZXQgYSBudW1iZXIgYmFjayBmcm9tIG9wYWNpdHlcblx0XHRcdFx0XHR2YXIgcmV0ID0gY3VyQ1NTKCBlbGVtLCBcIm9wYWNpdHlcIiApO1xuXHRcdFx0XHRcdHJldHVybiByZXQgPT09IFwiXCIgPyBcIjFcIiA6IHJldDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHQvLyBEb24ndCBhdXRvbWF0aWNhbGx5IGFkZCBcInB4XCIgdG8gdGhlc2UgcG9zc2libHktdW5pdGxlc3MgcHJvcGVydGllc1xuXHRjc3NOdW1iZXI6IHtcblx0XHRhbmltYXRpb25JdGVyYXRpb25Db3VudDogdHJ1ZSxcblx0XHRhc3BlY3RSYXRpbzogdHJ1ZSxcblx0XHRib3JkZXJJbWFnZVNsaWNlOiB0cnVlLFxuXHRcdGNvbHVtbkNvdW50OiB0cnVlLFxuXHRcdGZsZXhHcm93OiB0cnVlLFxuXHRcdGZsZXhTaHJpbms6IHRydWUsXG5cdFx0Zm9udFdlaWdodDogdHJ1ZSxcblx0XHRncmlkQXJlYTogdHJ1ZSxcblx0XHRncmlkQ29sdW1uOiB0cnVlLFxuXHRcdGdyaWRDb2x1bW5FbmQ6IHRydWUsXG5cdFx0Z3JpZENvbHVtblN0YXJ0OiB0cnVlLFxuXHRcdGdyaWRSb3c6IHRydWUsXG5cdFx0Z3JpZFJvd0VuZDogdHJ1ZSxcblx0XHRncmlkUm93U3RhcnQ6IHRydWUsXG5cdFx0bGluZUhlaWdodDogdHJ1ZSxcblx0XHRvcGFjaXR5OiB0cnVlLFxuXHRcdG9yZGVyOiB0cnVlLFxuXHRcdG9ycGhhbnM6IHRydWUsXG5cdFx0c2NhbGU6IHRydWUsXG5cdFx0d2lkb3dzOiB0cnVlLFxuXHRcdHpJbmRleDogdHJ1ZSxcblx0XHR6b29tOiB0cnVlLFxuXG5cdFx0Ly8gU1ZHLXJlbGF0ZWRcblx0XHRmaWxsT3BhY2l0eTogdHJ1ZSxcblx0XHRmbG9vZE9wYWNpdHk6IHRydWUsXG5cdFx0c3RvcE9wYWNpdHk6IHRydWUsXG5cdFx0c3Ryb2tlTWl0ZXJsaW1pdDogdHJ1ZSxcblx0XHRzdHJva2VPcGFjaXR5OiB0cnVlXG5cdH0sXG5cblx0Ly8gQWRkIGluIHByb3BlcnRpZXMgd2hvc2UgbmFtZXMgeW91IHdpc2ggdG8gZml4IGJlZm9yZVxuXHQvLyBzZXR0aW5nIG9yIGdldHRpbmcgdGhlIHZhbHVlXG5cdGNzc1Byb3BzOiB7fSxcblxuXHQvLyBHZXQgYW5kIHNldCB0aGUgc3R5bGUgcHJvcGVydHkgb24gYSBET00gTm9kZVxuXHRzdHlsZTogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIHZhbHVlLCBleHRyYSApIHtcblxuXHRcdC8vIERvbid0IHNldCBzdHlsZXMgb24gdGV4dCBhbmQgY29tbWVudCBub2Rlc1xuXHRcdGlmICggIWVsZW0gfHwgZWxlbS5ub2RlVHlwZSA9PT0gMyB8fCBlbGVtLm5vZGVUeXBlID09PSA4IHx8ICFlbGVtLnN0eWxlICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIE1ha2Ugc3VyZSB0aGF0IHdlJ3JlIHdvcmtpbmcgd2l0aCB0aGUgcmlnaHQgbmFtZVxuXHRcdHZhciByZXQsIHR5cGUsIGhvb2tzLFxuXHRcdFx0b3JpZ05hbWUgPSBjYW1lbENhc2UoIG5hbWUgKSxcblx0XHRcdGlzQ3VzdG9tUHJvcCA9IHJjdXN0b21Qcm9wLnRlc3QoIG5hbWUgKSxcblx0XHRcdHN0eWxlID0gZWxlbS5zdHlsZTtcblxuXHRcdC8vIE1ha2Ugc3VyZSB0aGF0IHdlJ3JlIHdvcmtpbmcgd2l0aCB0aGUgcmlnaHQgbmFtZS4gV2UgZG9uJ3Rcblx0XHQvLyB3YW50IHRvIHF1ZXJ5IHRoZSB2YWx1ZSBpZiBpdCBpcyBhIENTUyBjdXN0b20gcHJvcGVydHlcblx0XHQvLyBzaW5jZSB0aGV5IGFyZSB1c2VyLWRlZmluZWQuXG5cdFx0aWYgKCAhaXNDdXN0b21Qcm9wICkge1xuXHRcdFx0bmFtZSA9IGZpbmFsUHJvcE5hbWUoIG9yaWdOYW1lICk7XG5cdFx0fVxuXG5cdFx0Ly8gR2V0cyBob29rIGZvciB0aGUgcHJlZml4ZWQgdmVyc2lvbiwgdGhlbiB1bnByZWZpeGVkIHZlcnNpb25cblx0XHRob29rcyA9IGpRdWVyeS5jc3NIb29rc1sgbmFtZSBdIHx8IGpRdWVyeS5jc3NIb29rc1sgb3JpZ05hbWUgXTtcblxuXHRcdC8vIENoZWNrIGlmIHdlJ3JlIHNldHRpbmcgYSB2YWx1ZVxuXHRcdGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHR5cGUgPSB0eXBlb2YgdmFsdWU7XG5cblx0XHRcdC8vIENvbnZlcnQgXCIrPVwiIG9yIFwiLT1cIiB0byByZWxhdGl2ZSBudW1iZXJzICh0cmFjLTczNDUpXG5cdFx0XHRpZiAoIHR5cGUgPT09IFwic3RyaW5nXCIgJiYgKCByZXQgPSByY3NzTnVtLmV4ZWMoIHZhbHVlICkgKSAmJiByZXRbIDEgXSApIHtcblx0XHRcdFx0dmFsdWUgPSBhZGp1c3RDU1MoIGVsZW0sIG5hbWUsIHJldCApO1xuXG5cdFx0XHRcdC8vIEZpeGVzIGJ1ZyB0cmFjLTkyMzdcblx0XHRcdFx0dHlwZSA9IFwibnVtYmVyXCI7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE1ha2Ugc3VyZSB0aGF0IG51bGwgYW5kIE5hTiB2YWx1ZXMgYXJlbid0IHNldCAodHJhYy03MTE2KVxuXHRcdFx0aWYgKCB2YWx1ZSA9PSBudWxsIHx8IHZhbHVlICE9PSB2YWx1ZSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiBhIG51bWJlciB3YXMgcGFzc2VkIGluLCBhZGQgdGhlIHVuaXQgKGV4Y2VwdCBmb3IgY2VydGFpbiBDU1MgcHJvcGVydGllcylcblx0XHRcdC8vIFRoZSBpc0N1c3RvbVByb3AgY2hlY2sgY2FuIGJlIHJlbW92ZWQgaW4galF1ZXJ5IDQuMCB3aGVuIHdlIG9ubHkgYXV0by1hcHBlbmRcblx0XHRcdC8vIFwicHhcIiB0byBhIGZldyBoYXJkY29kZWQgdmFsdWVzLlxuXHRcdFx0aWYgKCB0eXBlID09PSBcIm51bWJlclwiICYmICFpc0N1c3RvbVByb3AgKSB7XG5cdFx0XHRcdHZhbHVlICs9IHJldCAmJiByZXRbIDMgXSB8fCAoIGpRdWVyeS5jc3NOdW1iZXJbIG9yaWdOYW1lIF0gPyBcIlwiIDogXCJweFwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGJhY2tncm91bmQtKiBwcm9wcyBhZmZlY3Qgb3JpZ2luYWwgY2xvbmUncyB2YWx1ZXNcblx0XHRcdGlmICggIXN1cHBvcnQuY2xlYXJDbG9uZVN0eWxlICYmIHZhbHVlID09PSBcIlwiICYmIG5hbWUuaW5kZXhPZiggXCJiYWNrZ3JvdW5kXCIgKSA9PT0gMCApIHtcblx0XHRcdFx0c3R5bGVbIG5hbWUgXSA9IFwiaW5oZXJpdFwiO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiBhIGhvb2sgd2FzIHByb3ZpZGVkLCB1c2UgdGhhdCB2YWx1ZSwgb3RoZXJ3aXNlIGp1c3Qgc2V0IHRoZSBzcGVjaWZpZWQgdmFsdWVcblx0XHRcdGlmICggIWhvb2tzIHx8ICEoIFwic2V0XCIgaW4gaG9va3MgKSB8fFxuXHRcdFx0XHQoIHZhbHVlID0gaG9va3Muc2V0KCBlbGVtLCB2YWx1ZSwgZXh0cmEgKSApICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0aWYgKCBpc0N1c3RvbVByb3AgKSB7XG5cdFx0XHRcdFx0c3R5bGUuc2V0UHJvcGVydHkoIG5hbWUsIHZhbHVlICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0c3R5bGVbIG5hbWUgXSA9IHZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBJZiBhIGhvb2sgd2FzIHByb3ZpZGVkIGdldCB0aGUgbm9uLWNvbXB1dGVkIHZhbHVlIGZyb20gdGhlcmVcblx0XHRcdGlmICggaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyAmJlxuXHRcdFx0XHQoIHJldCA9IGhvb2tzLmdldCggZWxlbSwgZmFsc2UsIGV4dHJhICkgKSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE90aGVyd2lzZSBqdXN0IGdldCB0aGUgdmFsdWUgZnJvbSB0aGUgc3R5bGUgb2JqZWN0XG5cdFx0XHRyZXR1cm4gc3R5bGVbIG5hbWUgXTtcblx0XHR9XG5cdH0sXG5cblx0Y3NzOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgZXh0cmEsIHN0eWxlcyApIHtcblx0XHR2YXIgdmFsLCBudW0sIGhvb2tzLFxuXHRcdFx0b3JpZ05hbWUgPSBjYW1lbENhc2UoIG5hbWUgKSxcblx0XHRcdGlzQ3VzdG9tUHJvcCA9IHJjdXN0b21Qcm9wLnRlc3QoIG5hbWUgKTtcblxuXHRcdC8vIE1ha2Ugc3VyZSB0aGF0IHdlJ3JlIHdvcmtpbmcgd2l0aCB0aGUgcmlnaHQgbmFtZS4gV2UgZG9uJ3Rcblx0XHQvLyB3YW50IHRvIG1vZGlmeSB0aGUgdmFsdWUgaWYgaXQgaXMgYSBDU1MgY3VzdG9tIHByb3BlcnR5XG5cdFx0Ly8gc2luY2UgdGhleSBhcmUgdXNlci1kZWZpbmVkLlxuXHRcdGlmICggIWlzQ3VzdG9tUHJvcCApIHtcblx0XHRcdG5hbWUgPSBmaW5hbFByb3BOYW1lKCBvcmlnTmFtZSApO1xuXHRcdH1cblxuXHRcdC8vIFRyeSBwcmVmaXhlZCBuYW1lIGZvbGxvd2VkIGJ5IHRoZSB1bnByZWZpeGVkIG5hbWVcblx0XHRob29rcyA9IGpRdWVyeS5jc3NIb29rc1sgbmFtZSBdIHx8IGpRdWVyeS5jc3NIb29rc1sgb3JpZ05hbWUgXTtcblxuXHRcdC8vIElmIGEgaG9vayB3YXMgcHJvdmlkZWQgZ2V0IHRoZSBjb21wdXRlZCB2YWx1ZSBmcm9tIHRoZXJlXG5cdFx0aWYgKCBob29rcyAmJiBcImdldFwiIGluIGhvb2tzICkge1xuXHRcdFx0dmFsID0gaG9va3MuZ2V0KCBlbGVtLCB0cnVlLCBleHRyYSApO1xuXHRcdH1cblxuXHRcdC8vIE90aGVyd2lzZSwgaWYgYSB3YXkgdG8gZ2V0IHRoZSBjb21wdXRlZCB2YWx1ZSBleGlzdHMsIHVzZSB0aGF0XG5cdFx0aWYgKCB2YWwgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHZhbCA9IGN1ckNTUyggZWxlbSwgbmFtZSwgc3R5bGVzICk7XG5cdFx0fVxuXG5cdFx0Ly8gQ29udmVydCBcIm5vcm1hbFwiIHRvIGNvbXB1dGVkIHZhbHVlXG5cdFx0aWYgKCB2YWwgPT09IFwibm9ybWFsXCIgJiYgbmFtZSBpbiBjc3NOb3JtYWxUcmFuc2Zvcm0gKSB7XG5cdFx0XHR2YWwgPSBjc3NOb3JtYWxUcmFuc2Zvcm1bIG5hbWUgXTtcblx0XHR9XG5cblx0XHQvLyBNYWtlIG51bWVyaWMgaWYgZm9yY2VkIG9yIGEgcXVhbGlmaWVyIHdhcyBwcm92aWRlZCBhbmQgdmFsIGxvb2tzIG51bWVyaWNcblx0XHRpZiAoIGV4dHJhID09PSBcIlwiIHx8IGV4dHJhICkge1xuXHRcdFx0bnVtID0gcGFyc2VGbG9hdCggdmFsICk7XG5cdFx0XHRyZXR1cm4gZXh0cmEgPT09IHRydWUgfHwgaXNGaW5pdGUoIG51bSApID8gbnVtIHx8IDAgOiB2YWw7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHZhbDtcblx0fVxufSApO1xuXG5qUXVlcnkuZWFjaCggWyBcImhlaWdodFwiLCBcIndpZHRoXCIgXSwgZnVuY3Rpb24oIF9pLCBkaW1lbnNpb24gKSB7XG5cdGpRdWVyeS5jc3NIb29rc1sgZGltZW5zaW9uIF0gPSB7XG5cdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSwgY29tcHV0ZWQsIGV4dHJhICkge1xuXHRcdFx0aWYgKCBjb21wdXRlZCApIHtcblxuXHRcdFx0XHQvLyBDZXJ0YWluIGVsZW1lbnRzIGNhbiBoYXZlIGRpbWVuc2lvbiBpbmZvIGlmIHdlIGludmlzaWJseSBzaG93IHRoZW1cblx0XHRcdFx0Ly8gYnV0IGl0IG11c3QgaGF2ZSBhIGN1cnJlbnQgZGlzcGxheSBzdHlsZSB0aGF0IHdvdWxkIGJlbmVmaXRcblx0XHRcdFx0cmV0dXJuIHJkaXNwbGF5c3dhcC50ZXN0KCBqUXVlcnkuY3NzKCBlbGVtLCBcImRpc3BsYXlcIiApICkgJiZcblxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFNhZmFyaSA4K1xuXHRcdFx0XHRcdC8vIFRhYmxlIGNvbHVtbnMgaW4gU2FmYXJpIGhhdmUgbm9uLXplcm8gb2Zmc2V0V2lkdGggJiB6ZXJvXG5cdFx0XHRcdFx0Ly8gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggdW5sZXNzIGRpc3BsYXkgaXMgY2hhbmdlZC5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHlcblx0XHRcdFx0XHQvLyBSdW5uaW5nIGdldEJvdW5kaW5nQ2xpZW50UmVjdCBvbiBhIGRpc2Nvbm5lY3RlZCBub2RlXG5cdFx0XHRcdFx0Ly8gaW4gSUUgdGhyb3dzIGFuIGVycm9yLlxuXHRcdFx0XHRcdCggIWVsZW0uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGggfHwgIWVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggKSA/XG5cdFx0XHRcdFx0c3dhcCggZWxlbSwgY3NzU2hvdywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZ2V0V2lkdGhPckhlaWdodCggZWxlbSwgZGltZW5zaW9uLCBleHRyYSApO1xuXHRcdFx0XHRcdH0gKSA6XG5cdFx0XHRcdFx0Z2V0V2lkdGhPckhlaWdodCggZWxlbSwgZGltZW5zaW9uLCBleHRyYSApO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSwgZXh0cmEgKSB7XG5cdFx0XHR2YXIgbWF0Y2hlcyxcblx0XHRcdFx0c3R5bGVzID0gZ2V0U3R5bGVzKCBlbGVtICksXG5cblx0XHRcdFx0Ly8gT25seSByZWFkIHN0eWxlcy5wb3NpdGlvbiBpZiB0aGUgdGVzdCBoYXMgYSBjaGFuY2UgdG8gZmFpbFxuXHRcdFx0XHQvLyB0byBhdm9pZCBmb3JjaW5nIGEgcmVmbG93LlxuXHRcdFx0XHRzY3JvbGxib3hTaXplQnVnZ3kgPSAhc3VwcG9ydC5zY3JvbGxib3hTaXplKCkgJiZcblx0XHRcdFx0XHRzdHlsZXMucG9zaXRpb24gPT09IFwiYWJzb2x1dGVcIixcblxuXHRcdFx0XHQvLyBUbyBhdm9pZCBmb3JjaW5nIGEgcmVmbG93LCBvbmx5IGZldGNoIGJveFNpemluZyBpZiB3ZSBuZWVkIGl0IChnaC0zOTkxKVxuXHRcdFx0XHRib3hTaXppbmdOZWVkZWQgPSBzY3JvbGxib3hTaXplQnVnZ3kgfHwgZXh0cmEsXG5cdFx0XHRcdGlzQm9yZGVyQm94ID0gYm94U2l6aW5nTmVlZGVkICYmXG5cdFx0XHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgXCJib3hTaXppbmdcIiwgZmFsc2UsIHN0eWxlcyApID09PSBcImJvcmRlci1ib3hcIixcblx0XHRcdFx0c3VidHJhY3QgPSBleHRyYSA/XG5cdFx0XHRcdFx0Ym94TW9kZWxBZGp1c3RtZW50KFxuXHRcdFx0XHRcdFx0ZWxlbSxcblx0XHRcdFx0XHRcdGRpbWVuc2lvbixcblx0XHRcdFx0XHRcdGV4dHJhLFxuXHRcdFx0XHRcdFx0aXNCb3JkZXJCb3gsXG5cdFx0XHRcdFx0XHRzdHlsZXNcblx0XHRcdFx0XHQpIDpcblx0XHRcdFx0XHQwO1xuXG5cdFx0XHQvLyBBY2NvdW50IGZvciB1bnJlbGlhYmxlIGJvcmRlci1ib3ggZGltZW5zaW9ucyBieSBjb21wYXJpbmcgb2Zmc2V0KiB0byBjb21wdXRlZCBhbmRcblx0XHRcdC8vIGZha2luZyBhIGNvbnRlbnQtYm94IHRvIGdldCBib3JkZXIgYW5kIHBhZGRpbmcgKGdoLTM2OTkpXG5cdFx0XHRpZiAoIGlzQm9yZGVyQm94ICYmIHNjcm9sbGJveFNpemVCdWdneSApIHtcblx0XHRcdFx0c3VidHJhY3QgLT0gTWF0aC5jZWlsKFxuXHRcdFx0XHRcdGVsZW1bIFwib2Zmc2V0XCIgKyBkaW1lbnNpb25bIDAgXS50b1VwcGVyQ2FzZSgpICsgZGltZW5zaW9uLnNsaWNlKCAxICkgXSAtXG5cdFx0XHRcdFx0cGFyc2VGbG9hdCggc3R5bGVzWyBkaW1lbnNpb24gXSApIC1cblx0XHRcdFx0XHRib3hNb2RlbEFkanVzdG1lbnQoIGVsZW0sIGRpbWVuc2lvbiwgXCJib3JkZXJcIiwgZmFsc2UsIHN0eWxlcyApIC1cblx0XHRcdFx0XHQwLjVcblx0XHRcdFx0KTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ29udmVydCB0byBwaXhlbHMgaWYgdmFsdWUgYWRqdXN0bWVudCBpcyBuZWVkZWRcblx0XHRcdGlmICggc3VidHJhY3QgJiYgKCBtYXRjaGVzID0gcmNzc051bS5leGVjKCB2YWx1ZSApICkgJiZcblx0XHRcdFx0KCBtYXRjaGVzWyAzIF0gfHwgXCJweFwiICkgIT09IFwicHhcIiApIHtcblxuXHRcdFx0XHRlbGVtLnN0eWxlWyBkaW1lbnNpb24gXSA9IHZhbHVlO1xuXHRcdFx0XHR2YWx1ZSA9IGpRdWVyeS5jc3MoIGVsZW0sIGRpbWVuc2lvbiApO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gc2V0UG9zaXRpdmVOdW1iZXIoIGVsZW0sIHZhbHVlLCBzdWJ0cmFjdCApO1xuXHRcdH1cblx0fTtcbn0gKTtcblxualF1ZXJ5LmNzc0hvb2tzLm1hcmdpbkxlZnQgPSBhZGRHZXRIb29rSWYoIHN1cHBvcnQucmVsaWFibGVNYXJnaW5MZWZ0LFxuXHRmdW5jdGlvbiggZWxlbSwgY29tcHV0ZWQgKSB7XG5cdFx0aWYgKCBjb21wdXRlZCApIHtcblx0XHRcdHJldHVybiAoIHBhcnNlRmxvYXQoIGN1ckNTUyggZWxlbSwgXCJtYXJnaW5MZWZ0XCIgKSApIHx8XG5cdFx0XHRcdGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCAtXG5cdFx0XHRcdFx0c3dhcCggZWxlbSwgeyBtYXJnaW5MZWZ0OiAwIH0sIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcblx0XHRcdFx0XHR9IClcblx0XHRcdCkgKyBcInB4XCI7XG5cdFx0fVxuXHR9XG4pO1xuXG4vLyBUaGVzZSBob29rcyBhcmUgdXNlZCBieSBhbmltYXRlIHRvIGV4cGFuZCBwcm9wZXJ0aWVzXG5qUXVlcnkuZWFjaCgge1xuXHRtYXJnaW46IFwiXCIsXG5cdHBhZGRpbmc6IFwiXCIsXG5cdGJvcmRlcjogXCJXaWR0aFwiXG59LCBmdW5jdGlvbiggcHJlZml4LCBzdWZmaXggKSB7XG5cdGpRdWVyeS5jc3NIb29rc1sgcHJlZml4ICsgc3VmZml4IF0gPSB7XG5cdFx0ZXhwYW5kOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHR2YXIgaSA9IDAsXG5cdFx0XHRcdGV4cGFuZGVkID0ge30sXG5cblx0XHRcdFx0Ly8gQXNzdW1lcyBhIHNpbmdsZSBudW1iZXIgaWYgbm90IGEgc3RyaW5nXG5cdFx0XHRcdHBhcnRzID0gdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiID8gdmFsdWUuc3BsaXQoIFwiIFwiICkgOiBbIHZhbHVlIF07XG5cblx0XHRcdGZvciAoIDsgaSA8IDQ7IGkrKyApIHtcblx0XHRcdFx0ZXhwYW5kZWRbIHByZWZpeCArIGNzc0V4cGFuZFsgaSBdICsgc3VmZml4IF0gPVxuXHRcdFx0XHRcdHBhcnRzWyBpIF0gfHwgcGFydHNbIGkgLSAyIF0gfHwgcGFydHNbIDAgXTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGV4cGFuZGVkO1xuXHRcdH1cblx0fTtcblxuXHRpZiAoIHByZWZpeCAhPT0gXCJtYXJnaW5cIiApIHtcblx0XHRqUXVlcnkuY3NzSG9va3NbIHByZWZpeCArIHN1ZmZpeCBdLnNldCA9IHNldFBvc2l0aXZlTnVtYmVyO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0Y3NzOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIGVsZW0sIG5hbWUsIHZhbHVlICkge1xuXHRcdFx0dmFyIHN0eWxlcywgbGVuLFxuXHRcdFx0XHRtYXAgPSB7fSxcblx0XHRcdFx0aSA9IDA7XG5cblx0XHRcdGlmICggQXJyYXkuaXNBcnJheSggbmFtZSApICkge1xuXHRcdFx0XHRzdHlsZXMgPSBnZXRTdHlsZXMoIGVsZW0gKTtcblx0XHRcdFx0bGVuID0gbmFtZS5sZW5ndGg7XG5cblx0XHRcdFx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRcdFx0bWFwWyBuYW1lWyBpIF0gXSA9IGpRdWVyeS5jc3MoIGVsZW0sIG5hbWVbIGkgXSwgZmFsc2UsIHN0eWxlcyApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIG1hcDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQgP1xuXHRcdFx0XHRqUXVlcnkuc3R5bGUoIGVsZW0sIG5hbWUsIHZhbHVlICkgOlxuXHRcdFx0XHRqUXVlcnkuY3NzKCBlbGVtLCBuYW1lICk7XG5cdFx0fSwgbmFtZSwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxICk7XG5cdH1cbn0gKTtcblxuXG5mdW5jdGlvbiBUd2VlbiggZWxlbSwgb3B0aW9ucywgcHJvcCwgZW5kLCBlYXNpbmcgKSB7XG5cdHJldHVybiBuZXcgVHdlZW4ucHJvdG90eXBlLmluaXQoIGVsZW0sIG9wdGlvbnMsIHByb3AsIGVuZCwgZWFzaW5nICk7XG59XG5qUXVlcnkuVHdlZW4gPSBUd2VlbjtcblxuVHdlZW4ucHJvdG90eXBlID0ge1xuXHRjb25zdHJ1Y3RvcjogVHdlZW4sXG5cdGluaXQ6IGZ1bmN0aW9uKCBlbGVtLCBvcHRpb25zLCBwcm9wLCBlbmQsIGVhc2luZywgdW5pdCApIHtcblx0XHR0aGlzLmVsZW0gPSBlbGVtO1xuXHRcdHRoaXMucHJvcCA9IHByb3A7XG5cdFx0dGhpcy5lYXNpbmcgPSBlYXNpbmcgfHwgalF1ZXJ5LmVhc2luZy5fZGVmYXVsdDtcblx0XHR0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuXHRcdHRoaXMuc3RhcnQgPSB0aGlzLm5vdyA9IHRoaXMuY3VyKCk7XG5cdFx0dGhpcy5lbmQgPSBlbmQ7XG5cdFx0dGhpcy51bml0ID0gdW5pdCB8fCAoIGpRdWVyeS5jc3NOdW1iZXJbIHByb3AgXSA/IFwiXCIgOiBcInB4XCIgKTtcblx0fSxcblx0Y3VyOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgaG9va3MgPSBUd2Vlbi5wcm9wSG9va3NbIHRoaXMucHJvcCBdO1xuXG5cdFx0cmV0dXJuIGhvb2tzICYmIGhvb2tzLmdldCA/XG5cdFx0XHRob29rcy5nZXQoIHRoaXMgKSA6XG5cdFx0XHRUd2Vlbi5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KCB0aGlzICk7XG5cdH0sXG5cdHJ1bjogZnVuY3Rpb24oIHBlcmNlbnQgKSB7XG5cdFx0dmFyIGVhc2VkLFxuXHRcdFx0aG9va3MgPSBUd2Vlbi5wcm9wSG9va3NbIHRoaXMucHJvcCBdO1xuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuZHVyYXRpb24gKSB7XG5cdFx0XHR0aGlzLnBvcyA9IGVhc2VkID0galF1ZXJ5LmVhc2luZ1sgdGhpcy5lYXNpbmcgXShcblx0XHRcdFx0cGVyY2VudCwgdGhpcy5vcHRpb25zLmR1cmF0aW9uICogcGVyY2VudCwgMCwgMSwgdGhpcy5vcHRpb25zLmR1cmF0aW9uXG5cdFx0XHQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnBvcyA9IGVhc2VkID0gcGVyY2VudDtcblx0XHR9XG5cdFx0dGhpcy5ub3cgPSAoIHRoaXMuZW5kIC0gdGhpcy5zdGFydCApICogZWFzZWQgKyB0aGlzLnN0YXJ0O1xuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuc3RlcCApIHtcblx0XHRcdHRoaXMub3B0aW9ucy5zdGVwLmNhbGwoIHRoaXMuZWxlbSwgdGhpcy5ub3csIHRoaXMgKTtcblx0XHR9XG5cblx0XHRpZiAoIGhvb2tzICYmIGhvb2tzLnNldCApIHtcblx0XHRcdGhvb2tzLnNldCggdGhpcyApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRUd2Vlbi5wcm9wSG9va3MuX2RlZmF1bHQuc2V0KCB0aGlzICk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzO1xuXHR9XG59O1xuXG5Ud2Vlbi5wcm90b3R5cGUuaW5pdC5wcm90b3R5cGUgPSBUd2Vlbi5wcm90b3R5cGU7XG5cblR3ZWVuLnByb3BIb29rcyA9IHtcblx0X2RlZmF1bHQ6IHtcblx0XHRnZXQ6IGZ1bmN0aW9uKCB0d2VlbiApIHtcblx0XHRcdHZhciByZXN1bHQ7XG5cblx0XHRcdC8vIFVzZSBhIHByb3BlcnR5IG9uIHRoZSBlbGVtZW50IGRpcmVjdGx5IHdoZW4gaXQgaXMgbm90IGEgRE9NIGVsZW1lbnQsXG5cdFx0XHQvLyBvciB3aGVuIHRoZXJlIGlzIG5vIG1hdGNoaW5nIHN0eWxlIHByb3BlcnR5IHRoYXQgZXhpc3RzLlxuXHRcdFx0aWYgKCB0d2Vlbi5lbGVtLm5vZGVUeXBlICE9PSAxIHx8XG5cdFx0XHRcdHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXSAhPSBudWxsICYmIHR3ZWVuLmVsZW0uc3R5bGVbIHR3ZWVuLnByb3AgXSA9PSBudWxsICkge1xuXHRcdFx0XHRyZXR1cm4gdHdlZW4uZWxlbVsgdHdlZW4ucHJvcCBdO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBQYXNzaW5nIGFuIGVtcHR5IHN0cmluZyBhcyBhIDNyZCBwYXJhbWV0ZXIgdG8gLmNzcyB3aWxsIGF1dG9tYXRpY2FsbHlcblx0XHRcdC8vIGF0dGVtcHQgYSBwYXJzZUZsb2F0IGFuZCBmYWxsYmFjayB0byBhIHN0cmluZyBpZiB0aGUgcGFyc2UgZmFpbHMuXG5cdFx0XHQvLyBTaW1wbGUgdmFsdWVzIHN1Y2ggYXMgXCIxMHB4XCIgYXJlIHBhcnNlZCB0byBGbG9hdDtcblx0XHRcdC8vIGNvbXBsZXggdmFsdWVzIHN1Y2ggYXMgXCJyb3RhdGUoMXJhZClcIiBhcmUgcmV0dXJuZWQgYXMtaXMuXG5cdFx0XHRyZXN1bHQgPSBqUXVlcnkuY3NzKCB0d2Vlbi5lbGVtLCB0d2Vlbi5wcm9wLCBcIlwiICk7XG5cblx0XHRcdC8vIEVtcHR5IHN0cmluZ3MsIG51bGwsIHVuZGVmaW5lZCBhbmQgXCJhdXRvXCIgYXJlIGNvbnZlcnRlZCB0byAwLlxuXHRcdFx0cmV0dXJuICFyZXN1bHQgfHwgcmVzdWx0ID09PSBcImF1dG9cIiA/IDAgOiByZXN1bHQ7XG5cdFx0fSxcblx0XHRzZXQ6IGZ1bmN0aW9uKCB0d2VlbiApIHtcblxuXHRcdFx0Ly8gVXNlIHN0ZXAgaG9vayBmb3IgYmFjayBjb21wYXQuXG5cdFx0XHQvLyBVc2UgY3NzSG9vayBpZiBpdHMgdGhlcmUuXG5cdFx0XHQvLyBVc2UgLnN0eWxlIGlmIGF2YWlsYWJsZSBhbmQgdXNlIHBsYWluIHByb3BlcnRpZXMgd2hlcmUgYXZhaWxhYmxlLlxuXHRcdFx0aWYgKCBqUXVlcnkuZnguc3RlcFsgdHdlZW4ucHJvcCBdICkge1xuXHRcdFx0XHRqUXVlcnkuZnguc3RlcFsgdHdlZW4ucHJvcCBdKCB0d2VlbiApO1xuXHRcdFx0fSBlbHNlIGlmICggdHdlZW4uZWxlbS5ub2RlVHlwZSA9PT0gMSAmJiAoXG5cdFx0XHRcdGpRdWVyeS5jc3NIb29rc1sgdHdlZW4ucHJvcCBdIHx8XG5cdFx0XHRcdFx0dHdlZW4uZWxlbS5zdHlsZVsgZmluYWxQcm9wTmFtZSggdHdlZW4ucHJvcCApIF0gIT0gbnVsbCApICkge1xuXHRcdFx0XHRqUXVlcnkuc3R5bGUoIHR3ZWVuLmVsZW0sIHR3ZWVuLnByb3AsIHR3ZWVuLm5vdyArIHR3ZWVuLnVuaXQgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXSA9IHR3ZWVuLm5vdztcblx0XHRcdH1cblx0XHR9XG5cdH1cbn07XG5cbi8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG4vLyBQYW5pYyBiYXNlZCBhcHByb2FjaCB0byBzZXR0aW5nIHRoaW5ncyBvbiBkaXNjb25uZWN0ZWQgbm9kZXNcblR3ZWVuLnByb3BIb29rcy5zY3JvbGxUb3AgPSBUd2Vlbi5wcm9wSG9va3Muc2Nyb2xsTGVmdCA9IHtcblx0c2V0OiBmdW5jdGlvbiggdHdlZW4gKSB7XG5cdFx0aWYgKCB0d2Vlbi5lbGVtLm5vZGVUeXBlICYmIHR3ZWVuLmVsZW0ucGFyZW50Tm9kZSApIHtcblx0XHRcdHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXSA9IHR3ZWVuLm5vdztcblx0XHR9XG5cdH1cbn07XG5cbmpRdWVyeS5lYXNpbmcgPSB7XG5cdGxpbmVhcjogZnVuY3Rpb24oIHAgKSB7XG5cdFx0cmV0dXJuIHA7XG5cdH0sXG5cdHN3aW5nOiBmdW5jdGlvbiggcCApIHtcblx0XHRyZXR1cm4gMC41IC0gTWF0aC5jb3MoIHAgKiBNYXRoLlBJICkgLyAyO1xuXHR9LFxuXHRfZGVmYXVsdDogXCJzd2luZ1wiXG59O1xuXG5qUXVlcnkuZnggPSBUd2Vlbi5wcm90b3R5cGUuaW5pdDtcblxuLy8gQmFjayBjb21wYXQgPDEuOCBleHRlbnNpb24gcG9pbnRcbmpRdWVyeS5meC5zdGVwID0ge307XG5cblxuXG5cbnZhclxuXHRmeE5vdywgaW5Qcm9ncmVzcyxcblx0cmZ4dHlwZXMgPSAvXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8sXG5cdHJydW4gPSAvcXVldWVIb29rcyQvO1xuXG5mdW5jdGlvbiBzY2hlZHVsZSgpIHtcblx0aWYgKCBpblByb2dyZXNzICkge1xuXHRcdGlmICggZG9jdW1lbnQuaGlkZGVuID09PSBmYWxzZSAmJiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lICkge1xuXHRcdFx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSggc2NoZWR1bGUgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0d2luZG93LnNldFRpbWVvdXQoIHNjaGVkdWxlLCBqUXVlcnkuZnguaW50ZXJ2YWwgKTtcblx0XHR9XG5cblx0XHRqUXVlcnkuZngudGljaygpO1xuXHR9XG59XG5cbi8vIEFuaW1hdGlvbnMgY3JlYXRlZCBzeW5jaHJvbm91c2x5IHdpbGwgcnVuIHN5bmNocm9ub3VzbHlcbmZ1bmN0aW9uIGNyZWF0ZUZ4Tm93KCkge1xuXHR3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0ZnhOb3cgPSB1bmRlZmluZWQ7XG5cdH0gKTtcblx0cmV0dXJuICggZnhOb3cgPSBEYXRlLm5vdygpICk7XG59XG5cbi8vIEdlbmVyYXRlIHBhcmFtZXRlcnMgdG8gY3JlYXRlIGEgc3RhbmRhcmQgYW5pbWF0aW9uXG5mdW5jdGlvbiBnZW5GeCggdHlwZSwgaW5jbHVkZVdpZHRoICkge1xuXHR2YXIgd2hpY2gsXG5cdFx0aSA9IDAsXG5cdFx0YXR0cnMgPSB7IGhlaWdodDogdHlwZSB9O1xuXG5cdC8vIElmIHdlIGluY2x1ZGUgd2lkdGgsIHN0ZXAgdmFsdWUgaXMgMSB0byBkbyBhbGwgY3NzRXhwYW5kIHZhbHVlcyxcblx0Ly8gb3RoZXJ3aXNlIHN0ZXAgdmFsdWUgaXMgMiB0byBza2lwIG92ZXIgTGVmdCBhbmQgUmlnaHRcblx0aW5jbHVkZVdpZHRoID0gaW5jbHVkZVdpZHRoID8gMSA6IDA7XG5cdGZvciAoIDsgaSA8IDQ7IGkgKz0gMiAtIGluY2x1ZGVXaWR0aCApIHtcblx0XHR3aGljaCA9IGNzc0V4cGFuZFsgaSBdO1xuXHRcdGF0dHJzWyBcIm1hcmdpblwiICsgd2hpY2ggXSA9IGF0dHJzWyBcInBhZGRpbmdcIiArIHdoaWNoIF0gPSB0eXBlO1xuXHR9XG5cblx0aWYgKCBpbmNsdWRlV2lkdGggKSB7XG5cdFx0YXR0cnMub3BhY2l0eSA9IGF0dHJzLndpZHRoID0gdHlwZTtcblx0fVxuXG5cdHJldHVybiBhdHRycztcbn1cblxuZnVuY3Rpb24gY3JlYXRlVHdlZW4oIHZhbHVlLCBwcm9wLCBhbmltYXRpb24gKSB7XG5cdHZhciB0d2Vlbixcblx0XHRjb2xsZWN0aW9uID0gKCBBbmltYXRpb24udHdlZW5lcnNbIHByb3AgXSB8fCBbXSApLmNvbmNhdCggQW5pbWF0aW9uLnR3ZWVuZXJzWyBcIipcIiBdICksXG5cdFx0aW5kZXggPSAwLFxuXHRcdGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoO1xuXHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdGlmICggKCB0d2VlbiA9IGNvbGxlY3Rpb25bIGluZGV4IF0uY2FsbCggYW5pbWF0aW9uLCBwcm9wLCB2YWx1ZSApICkgKSB7XG5cblx0XHRcdC8vIFdlJ3JlIGRvbmUgd2l0aCB0aGlzIHByb3BlcnR5XG5cdFx0XHRyZXR1cm4gdHdlZW47XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRQcmVmaWx0ZXIoIGVsZW0sIHByb3BzLCBvcHRzICkge1xuXHR2YXIgcHJvcCwgdmFsdWUsIHRvZ2dsZSwgaG9va3MsIG9sZGZpcmUsIHByb3BUd2VlbiwgcmVzdG9yZURpc3BsYXksIGRpc3BsYXksXG5cdFx0aXNCb3ggPSBcIndpZHRoXCIgaW4gcHJvcHMgfHwgXCJoZWlnaHRcIiBpbiBwcm9wcyxcblx0XHRhbmltID0gdGhpcyxcblx0XHRvcmlnID0ge30sXG5cdFx0c3R5bGUgPSBlbGVtLnN0eWxlLFxuXHRcdGhpZGRlbiA9IGVsZW0ubm9kZVR5cGUgJiYgaXNIaWRkZW5XaXRoaW5UcmVlKCBlbGVtICksXG5cdFx0ZGF0YVNob3cgPSBkYXRhUHJpdi5nZXQoIGVsZW0sIFwiZnhzaG93XCIgKTtcblxuXHQvLyBRdWV1ZS1za2lwcGluZyBhbmltYXRpb25zIGhpamFjayB0aGUgZnggaG9va3Ncblx0aWYgKCAhb3B0cy5xdWV1ZSApIHtcblx0XHRob29rcyA9IGpRdWVyeS5fcXVldWVIb29rcyggZWxlbSwgXCJmeFwiICk7XG5cdFx0aWYgKCBob29rcy51bnF1ZXVlZCA9PSBudWxsICkge1xuXHRcdFx0aG9va3MudW5xdWV1ZWQgPSAwO1xuXHRcdFx0b2xkZmlyZSA9IGhvb2tzLmVtcHR5LmZpcmU7XG5cdFx0XHRob29rcy5lbXB0eS5maXJlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggIWhvb2tzLnVucXVldWVkICkge1xuXHRcdFx0XHRcdG9sZGZpcmUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9XG5cdFx0aG9va3MudW5xdWV1ZWQrKztcblxuXHRcdGFuaW0uYWx3YXlzKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gRW5zdXJlIHRoZSBjb21wbGV0ZSBoYW5kbGVyIGlzIGNhbGxlZCBiZWZvcmUgdGhpcyBjb21wbGV0ZXNcblx0XHRcdGFuaW0uYWx3YXlzKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0aG9va3MudW5xdWV1ZWQtLTtcblx0XHRcdFx0aWYgKCAhalF1ZXJ5LnF1ZXVlKCBlbGVtLCBcImZ4XCIgKS5sZW5ndGggKSB7XG5cdFx0XHRcdFx0aG9va3MuZW1wdHkuZmlyZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0fSApO1xuXHR9XG5cblx0Ly8gRGV0ZWN0IHNob3cvaGlkZSBhbmltYXRpb25zXG5cdGZvciAoIHByb3AgaW4gcHJvcHMgKSB7XG5cdFx0dmFsdWUgPSBwcm9wc1sgcHJvcCBdO1xuXHRcdGlmICggcmZ4dHlwZXMudGVzdCggdmFsdWUgKSApIHtcblx0XHRcdGRlbGV0ZSBwcm9wc1sgcHJvcCBdO1xuXHRcdFx0dG9nZ2xlID0gdG9nZ2xlIHx8IHZhbHVlID09PSBcInRvZ2dsZVwiO1xuXHRcdFx0aWYgKCB2YWx1ZSA9PT0gKCBoaWRkZW4gPyBcImhpZGVcIiA6IFwic2hvd1wiICkgKSB7XG5cblx0XHRcdFx0Ly8gUHJldGVuZCB0byBiZSBoaWRkZW4gaWYgdGhpcyBpcyBhIFwic2hvd1wiIGFuZFxuXHRcdFx0XHQvLyB0aGVyZSBpcyBzdGlsbCBkYXRhIGZyb20gYSBzdG9wcGVkIHNob3cvaGlkZVxuXHRcdFx0XHRpZiAoIHZhbHVlID09PSBcInNob3dcIiAmJiBkYXRhU2hvdyAmJiBkYXRhU2hvd1sgcHJvcCBdICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0aGlkZGVuID0gdHJ1ZTtcblxuXHRcdFx0XHQvLyBJZ25vcmUgYWxsIG90aGVyIG5vLW9wIHNob3cvaGlkZSBkYXRhXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdG9yaWdbIHByb3AgXSA9IGRhdGFTaG93ICYmIGRhdGFTaG93WyBwcm9wIF0gfHwgalF1ZXJ5LnN0eWxlKCBlbGVtLCBwcm9wICk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gQmFpbCBvdXQgaWYgdGhpcyBpcyBhIG5vLW9wIGxpa2UgLmhpZGUoKS5oaWRlKClcblx0cHJvcFR3ZWVuID0gIWpRdWVyeS5pc0VtcHR5T2JqZWN0KCBwcm9wcyApO1xuXHRpZiAoICFwcm9wVHdlZW4gJiYgalF1ZXJ5LmlzRW1wdHlPYmplY3QoIG9yaWcgKSApIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHQvLyBSZXN0cmljdCBcIm92ZXJmbG93XCIgYW5kIFwiZGlzcGxheVwiIHN0eWxlcyBkdXJpbmcgYm94IGFuaW1hdGlvbnNcblx0aWYgKCBpc0JveCAmJiBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTEsIEVkZ2UgMTIgLSAxNVxuXHRcdC8vIFJlY29yZCBhbGwgMyBvdmVyZmxvdyBhdHRyaWJ1dGVzIGJlY2F1c2UgSUUgZG9lcyBub3QgaW5mZXIgdGhlIHNob3J0aGFuZFxuXHRcdC8vIGZyb20gaWRlbnRpY2FsbHktdmFsdWVkIG92ZXJmbG93WCBhbmQgb3ZlcmZsb3dZIGFuZCBFZGdlIGp1c3QgbWlycm9yc1xuXHRcdC8vIHRoZSBvdmVyZmxvd1ggdmFsdWUgdGhlcmUuXG5cdFx0b3B0cy5vdmVyZmxvdyA9IFsgc3R5bGUub3ZlcmZsb3csIHN0eWxlLm92ZXJmbG93WCwgc3R5bGUub3ZlcmZsb3dZIF07XG5cblx0XHQvLyBJZGVudGlmeSBhIGRpc3BsYXkgdHlwZSwgcHJlZmVycmluZyBvbGQgc2hvdy9oaWRlIGRhdGEgb3ZlciB0aGUgQ1NTIGNhc2NhZGVcblx0XHRyZXN0b3JlRGlzcGxheSA9IGRhdGFTaG93ICYmIGRhdGFTaG93LmRpc3BsYXk7XG5cdFx0aWYgKCByZXN0b3JlRGlzcGxheSA9PSBudWxsICkge1xuXHRcdFx0cmVzdG9yZURpc3BsYXkgPSBkYXRhUHJpdi5nZXQoIGVsZW0sIFwiZGlzcGxheVwiICk7XG5cdFx0fVxuXHRcdGRpc3BsYXkgPSBqUXVlcnkuY3NzKCBlbGVtLCBcImRpc3BsYXlcIiApO1xuXHRcdGlmICggZGlzcGxheSA9PT0gXCJub25lXCIgKSB7XG5cdFx0XHRpZiAoIHJlc3RvcmVEaXNwbGF5ICkge1xuXHRcdFx0XHRkaXNwbGF5ID0gcmVzdG9yZURpc3BsYXk7XG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdC8vIEdldCBub25lbXB0eSB2YWx1ZShzKSBieSB0ZW1wb3JhcmlseSBmb3JjaW5nIHZpc2liaWxpdHlcblx0XHRcdFx0c2hvd0hpZGUoIFsgZWxlbSBdLCB0cnVlICk7XG5cdFx0XHRcdHJlc3RvcmVEaXNwbGF5ID0gZWxlbS5zdHlsZS5kaXNwbGF5IHx8IHJlc3RvcmVEaXNwbGF5O1xuXHRcdFx0XHRkaXNwbGF5ID0galF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIgKTtcblx0XHRcdFx0c2hvd0hpZGUoIFsgZWxlbSBdICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQW5pbWF0ZSBpbmxpbmUgZWxlbWVudHMgYXMgaW5saW5lLWJsb2NrXG5cdFx0aWYgKCBkaXNwbGF5ID09PSBcImlubGluZVwiIHx8IGRpc3BsYXkgPT09IFwiaW5saW5lLWJsb2NrXCIgJiYgcmVzdG9yZURpc3BsYXkgIT0gbnVsbCApIHtcblx0XHRcdGlmICggalF1ZXJ5LmNzcyggZWxlbSwgXCJmbG9hdFwiICkgPT09IFwibm9uZVwiICkge1xuXG5cdFx0XHRcdC8vIFJlc3RvcmUgdGhlIG9yaWdpbmFsIGRpc3BsYXkgdmFsdWUgYXQgdGhlIGVuZCBvZiBwdXJlIHNob3cvaGlkZSBhbmltYXRpb25zXG5cdFx0XHRcdGlmICggIXByb3BUd2VlbiApIHtcblx0XHRcdFx0XHRhbmltLmRvbmUoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0c3R5bGUuZGlzcGxheSA9IHJlc3RvcmVEaXNwbGF5O1xuXHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRpZiAoIHJlc3RvcmVEaXNwbGF5ID09IG51bGwgKSB7XG5cdFx0XHRcdFx0XHRkaXNwbGF5ID0gc3R5bGUuZGlzcGxheTtcblx0XHRcdFx0XHRcdHJlc3RvcmVEaXNwbGF5ID0gZGlzcGxheSA9PT0gXCJub25lXCIgPyBcIlwiIDogZGlzcGxheTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0c3R5bGUuZGlzcGxheSA9IFwiaW5saW5lLWJsb2NrXCI7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0aWYgKCBvcHRzLm92ZXJmbG93ICkge1xuXHRcdHN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcblx0XHRhbmltLmFsd2F5cyggZnVuY3Rpb24oKSB7XG5cdFx0XHRzdHlsZS5vdmVyZmxvdyA9IG9wdHMub3ZlcmZsb3dbIDAgXTtcblx0XHRcdHN0eWxlLm92ZXJmbG93WCA9IG9wdHMub3ZlcmZsb3dbIDEgXTtcblx0XHRcdHN0eWxlLm92ZXJmbG93WSA9IG9wdHMub3ZlcmZsb3dbIDIgXTtcblx0XHR9ICk7XG5cdH1cblxuXHQvLyBJbXBsZW1lbnQgc2hvdy9oaWRlIGFuaW1hdGlvbnNcblx0cHJvcFR3ZWVuID0gZmFsc2U7XG5cdGZvciAoIHByb3AgaW4gb3JpZyApIHtcblxuXHRcdC8vIEdlbmVyYWwgc2hvdy9oaWRlIHNldHVwIGZvciB0aGlzIGVsZW1lbnQgYW5pbWF0aW9uXG5cdFx0aWYgKCAhcHJvcFR3ZWVuICkge1xuXHRcdFx0aWYgKCBkYXRhU2hvdyApIHtcblx0XHRcdFx0aWYgKCBcImhpZGRlblwiIGluIGRhdGFTaG93ICkge1xuXHRcdFx0XHRcdGhpZGRlbiA9IGRhdGFTaG93LmhpZGRlbjtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZGF0YVNob3cgPSBkYXRhUHJpdi5hY2Nlc3MoIGVsZW0sIFwiZnhzaG93XCIsIHsgZGlzcGxheTogcmVzdG9yZURpc3BsYXkgfSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTdG9yZSBoaWRkZW4vdmlzaWJsZSBmb3IgdG9nZ2xlIHNvIGAuc3RvcCgpLnRvZ2dsZSgpYCBcInJldmVyc2VzXCJcblx0XHRcdGlmICggdG9nZ2xlICkge1xuXHRcdFx0XHRkYXRhU2hvdy5oaWRkZW4gPSAhaGlkZGVuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTaG93IGVsZW1lbnRzIGJlZm9yZSBhbmltYXRpbmcgdGhlbVxuXHRcdFx0aWYgKCBoaWRkZW4gKSB7XG5cdFx0XHRcdHNob3dIaWRlKCBbIGVsZW0gXSwgdHJ1ZSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvKiBlc2xpbnQtZGlzYWJsZSBuby1sb29wLWZ1bmMgKi9cblxuXHRcdFx0YW5pbS5kb25lKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHQvKiBlc2xpbnQtZW5hYmxlIG5vLWxvb3AtZnVuYyAqL1xuXG5cdFx0XHRcdC8vIFRoZSBmaW5hbCBzdGVwIG9mIGEgXCJoaWRlXCIgYW5pbWF0aW9uIGlzIGFjdHVhbGx5IGhpZGluZyB0aGUgZWxlbWVudFxuXHRcdFx0XHRpZiAoICFoaWRkZW4gKSB7XG5cdFx0XHRcdFx0c2hvd0hpZGUoIFsgZWxlbSBdICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZGF0YVByaXYucmVtb3ZlKCBlbGVtLCBcImZ4c2hvd1wiICk7XG5cdFx0XHRcdGZvciAoIHByb3AgaW4gb3JpZyApIHtcblx0XHRcdFx0XHRqUXVlcnkuc3R5bGUoIGVsZW0sIHByb3AsIG9yaWdbIHByb3AgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0Ly8gUGVyLXByb3BlcnR5IHNldHVwXG5cdFx0cHJvcFR3ZWVuID0gY3JlYXRlVHdlZW4oIGhpZGRlbiA/IGRhdGFTaG93WyBwcm9wIF0gOiAwLCBwcm9wLCBhbmltICk7XG5cdFx0aWYgKCAhKCBwcm9wIGluIGRhdGFTaG93ICkgKSB7XG5cdFx0XHRkYXRhU2hvd1sgcHJvcCBdID0gcHJvcFR3ZWVuLnN0YXJ0O1xuXHRcdFx0aWYgKCBoaWRkZW4gKSB7XG5cdFx0XHRcdHByb3BUd2Vlbi5lbmQgPSBwcm9wVHdlZW4uc3RhcnQ7XG5cdFx0XHRcdHByb3BUd2Vlbi5zdGFydCA9IDA7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIHByb3BGaWx0ZXIoIHByb3BzLCBzcGVjaWFsRWFzaW5nICkge1xuXHR2YXIgaW5kZXgsIG5hbWUsIGVhc2luZywgdmFsdWUsIGhvb2tzO1xuXG5cdC8vIGNhbWVsQ2FzZSwgc3BlY2lhbEVhc2luZyBhbmQgZXhwYW5kIGNzc0hvb2sgcGFzc1xuXHRmb3IgKCBpbmRleCBpbiBwcm9wcyApIHtcblx0XHRuYW1lID0gY2FtZWxDYXNlKCBpbmRleCApO1xuXHRcdGVhc2luZyA9IHNwZWNpYWxFYXNpbmdbIG5hbWUgXTtcblx0XHR2YWx1ZSA9IHByb3BzWyBpbmRleCBdO1xuXHRcdGlmICggQXJyYXkuaXNBcnJheSggdmFsdWUgKSApIHtcblx0XHRcdGVhc2luZyA9IHZhbHVlWyAxIF07XG5cdFx0XHR2YWx1ZSA9IHByb3BzWyBpbmRleCBdID0gdmFsdWVbIDAgXTtcblx0XHR9XG5cblx0XHRpZiAoIGluZGV4ICE9PSBuYW1lICkge1xuXHRcdFx0cHJvcHNbIG5hbWUgXSA9IHZhbHVlO1xuXHRcdFx0ZGVsZXRlIHByb3BzWyBpbmRleCBdO1xuXHRcdH1cblxuXHRcdGhvb2tzID0galF1ZXJ5LmNzc0hvb2tzWyBuYW1lIF07XG5cdFx0aWYgKCBob29rcyAmJiBcImV4cGFuZFwiIGluIGhvb2tzICkge1xuXHRcdFx0dmFsdWUgPSBob29rcy5leHBhbmQoIHZhbHVlICk7XG5cdFx0XHRkZWxldGUgcHJvcHNbIG5hbWUgXTtcblxuXHRcdFx0Ly8gTm90IHF1aXRlICQuZXh0ZW5kLCB0aGlzIHdvbid0IG92ZXJ3cml0ZSBleGlzdGluZyBrZXlzLlxuXHRcdFx0Ly8gUmV1c2luZyAnaW5kZXgnIGJlY2F1c2Ugd2UgaGF2ZSB0aGUgY29ycmVjdCBcIm5hbWVcIlxuXHRcdFx0Zm9yICggaW5kZXggaW4gdmFsdWUgKSB7XG5cdFx0XHRcdGlmICggISggaW5kZXggaW4gcHJvcHMgKSApIHtcblx0XHRcdFx0XHRwcm9wc1sgaW5kZXggXSA9IHZhbHVlWyBpbmRleCBdO1xuXHRcdFx0XHRcdHNwZWNpYWxFYXNpbmdbIGluZGV4IF0gPSBlYXNpbmc7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0c3BlY2lhbEVhc2luZ1sgbmFtZSBdID0gZWFzaW5nO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBBbmltYXRpb24oIGVsZW0sIHByb3BlcnRpZXMsIG9wdGlvbnMgKSB7XG5cdHZhciByZXN1bHQsXG5cdFx0c3RvcHBlZCxcblx0XHRpbmRleCA9IDAsXG5cdFx0bGVuZ3RoID0gQW5pbWF0aW9uLnByZWZpbHRlcnMubGVuZ3RoLFxuXHRcdGRlZmVycmVkID0galF1ZXJ5LkRlZmVycmVkKCkuYWx3YXlzKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gRG9uJ3QgbWF0Y2ggZWxlbSBpbiB0aGUgOmFuaW1hdGVkIHNlbGVjdG9yXG5cdFx0XHRkZWxldGUgdGljay5lbGVtO1xuXHRcdH0gKSxcblx0XHR0aWNrID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoIHN0b3BwZWQgKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHRcdHZhciBjdXJyZW50VGltZSA9IGZ4Tm93IHx8IGNyZWF0ZUZ4Tm93KCksXG5cdFx0XHRcdHJlbWFpbmluZyA9IE1hdGgubWF4KCAwLCBhbmltYXRpb24uc3RhcnRUaW1lICsgYW5pbWF0aW9uLmR1cmF0aW9uIC0gY3VycmVudFRpbWUgKSxcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDIuMyBvbmx5XG5cdFx0XHRcdC8vIEFyY2hhaWMgY3Jhc2ggYnVnIHdvbid0IGFsbG93IHVzIHRvIHVzZSBgMSAtICggMC41IHx8IDAgKWAgKHRyYWMtMTI0OTcpXG5cdFx0XHRcdHRlbXAgPSByZW1haW5pbmcgLyBhbmltYXRpb24uZHVyYXRpb24gfHwgMCxcblx0XHRcdFx0cGVyY2VudCA9IDEgLSB0ZW1wLFxuXHRcdFx0XHRpbmRleCA9IDAsXG5cdFx0XHRcdGxlbmd0aCA9IGFuaW1hdGlvbi50d2VlbnMubGVuZ3RoO1xuXG5cdFx0XHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdFx0XHRhbmltYXRpb24udHdlZW5zWyBpbmRleCBdLnJ1biggcGVyY2VudCApO1xuXHRcdFx0fVxuXG5cdFx0XHRkZWZlcnJlZC5ub3RpZnlXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgcGVyY2VudCwgcmVtYWluaW5nIF0gKTtcblxuXHRcdFx0Ly8gSWYgdGhlcmUncyBtb3JlIHRvIGRvLCB5aWVsZFxuXHRcdFx0aWYgKCBwZXJjZW50IDwgMSAmJiBsZW5ndGggKSB7XG5cdFx0XHRcdHJldHVybiByZW1haW5pbmc7XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIHRoaXMgd2FzIGFuIGVtcHR5IGFuaW1hdGlvbiwgc3ludGhlc2l6ZSBhIGZpbmFsIHByb2dyZXNzIG5vdGlmaWNhdGlvblxuXHRcdFx0aWYgKCAhbGVuZ3RoICkge1xuXHRcdFx0XHRkZWZlcnJlZC5ub3RpZnlXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgMSwgMCBdICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJlc29sdmUgdGhlIGFuaW1hdGlvbiBhbmQgcmVwb3J0IGl0cyBjb25jbHVzaW9uXG5cdFx0XHRkZWZlcnJlZC5yZXNvbHZlV2l0aCggZWxlbSwgWyBhbmltYXRpb24gXSApO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0sXG5cdFx0YW5pbWF0aW9uID0gZGVmZXJyZWQucHJvbWlzZSgge1xuXHRcdFx0ZWxlbTogZWxlbSxcblx0XHRcdHByb3BzOiBqUXVlcnkuZXh0ZW5kKCB7fSwgcHJvcGVydGllcyApLFxuXHRcdFx0b3B0czogalF1ZXJ5LmV4dGVuZCggdHJ1ZSwge1xuXHRcdFx0XHRzcGVjaWFsRWFzaW5nOiB7fSxcblx0XHRcdFx0ZWFzaW5nOiBqUXVlcnkuZWFzaW5nLl9kZWZhdWx0XG5cdFx0XHR9LCBvcHRpb25zICksXG5cdFx0XHRvcmlnaW5hbFByb3BlcnRpZXM6IHByb3BlcnRpZXMsXG5cdFx0XHRvcmlnaW5hbE9wdGlvbnM6IG9wdGlvbnMsXG5cdFx0XHRzdGFydFRpbWU6IGZ4Tm93IHx8IGNyZWF0ZUZ4Tm93KCksXG5cdFx0XHRkdXJhdGlvbjogb3B0aW9ucy5kdXJhdGlvbixcblx0XHRcdHR3ZWVuczogW10sXG5cdFx0XHRjcmVhdGVUd2VlbjogZnVuY3Rpb24oIHByb3AsIGVuZCApIHtcblx0XHRcdFx0dmFyIHR3ZWVuID0galF1ZXJ5LlR3ZWVuKCBlbGVtLCBhbmltYXRpb24ub3B0cywgcHJvcCwgZW5kLFxuXHRcdFx0XHRcdGFuaW1hdGlvbi5vcHRzLnNwZWNpYWxFYXNpbmdbIHByb3AgXSB8fCBhbmltYXRpb24ub3B0cy5lYXNpbmcgKTtcblx0XHRcdFx0YW5pbWF0aW9uLnR3ZWVucy5wdXNoKCB0d2VlbiApO1xuXHRcdFx0XHRyZXR1cm4gdHdlZW47XG5cdFx0XHR9LFxuXHRcdFx0c3RvcDogZnVuY3Rpb24oIGdvdG9FbmQgKSB7XG5cdFx0XHRcdHZhciBpbmRleCA9IDAsXG5cblx0XHRcdFx0XHQvLyBJZiB3ZSBhcmUgZ29pbmcgdG8gdGhlIGVuZCwgd2Ugd2FudCB0byBydW4gYWxsIHRoZSB0d2VlbnNcblx0XHRcdFx0XHQvLyBvdGhlcndpc2Ugd2Ugc2tpcCB0aGlzIHBhcnRcblx0XHRcdFx0XHRsZW5ndGggPSBnb3RvRW5kID8gYW5pbWF0aW9uLnR3ZWVucy5sZW5ndGggOiAwO1xuXHRcdFx0XHRpZiAoIHN0b3BwZWQgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH1cblx0XHRcdFx0c3RvcHBlZCA9IHRydWU7XG5cdFx0XHRcdGZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0XHRcdFx0YW5pbWF0aW9uLnR3ZWVuc1sgaW5kZXggXS5ydW4oIDEgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFJlc29sdmUgd2hlbiB3ZSBwbGF5ZWQgdGhlIGxhc3QgZnJhbWU7IG90aGVyd2lzZSwgcmVqZWN0XG5cdFx0XHRcdGlmICggZ290b0VuZCApIHtcblx0XHRcdFx0XHRkZWZlcnJlZC5ub3RpZnlXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgMSwgMCBdICk7XG5cdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZVdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCBnb3RvRW5kIF0gKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3RXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgZ290b0VuZCBdICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9XG5cdFx0fSApLFxuXHRcdHByb3BzID0gYW5pbWF0aW9uLnByb3BzO1xuXG5cdHByb3BGaWx0ZXIoIHByb3BzLCBhbmltYXRpb24ub3B0cy5zcGVjaWFsRWFzaW5nICk7XG5cblx0Zm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRyZXN1bHQgPSBBbmltYXRpb24ucHJlZmlsdGVyc1sgaW5kZXggXS5jYWxsKCBhbmltYXRpb24sIGVsZW0sIHByb3BzLCBhbmltYXRpb24ub3B0cyApO1xuXHRcdGlmICggcmVzdWx0ICkge1xuXHRcdFx0aWYgKCBpc0Z1bmN0aW9uKCByZXN1bHQuc3RvcCApICkge1xuXHRcdFx0XHRqUXVlcnkuX3F1ZXVlSG9va3MoIGFuaW1hdGlvbi5lbGVtLCBhbmltYXRpb24ub3B0cy5xdWV1ZSApLnN0b3AgPVxuXHRcdFx0XHRcdHJlc3VsdC5zdG9wLmJpbmQoIHJlc3VsdCApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9XG5cdH1cblxuXHRqUXVlcnkubWFwKCBwcm9wcywgY3JlYXRlVHdlZW4sIGFuaW1hdGlvbiApO1xuXG5cdGlmICggaXNGdW5jdGlvbiggYW5pbWF0aW9uLm9wdHMuc3RhcnQgKSApIHtcblx0XHRhbmltYXRpb24ub3B0cy5zdGFydC5jYWxsKCBlbGVtLCBhbmltYXRpb24gKTtcblx0fVxuXG5cdC8vIEF0dGFjaCBjYWxsYmFja3MgZnJvbSBvcHRpb25zXG5cdGFuaW1hdGlvblxuXHRcdC5wcm9ncmVzcyggYW5pbWF0aW9uLm9wdHMucHJvZ3Jlc3MgKVxuXHRcdC5kb25lKCBhbmltYXRpb24ub3B0cy5kb25lLCBhbmltYXRpb24ub3B0cy5jb21wbGV0ZSApXG5cdFx0LmZhaWwoIGFuaW1hdGlvbi5vcHRzLmZhaWwgKVxuXHRcdC5hbHdheXMoIGFuaW1hdGlvbi5vcHRzLmFsd2F5cyApO1xuXG5cdGpRdWVyeS5meC50aW1lcihcblx0XHRqUXVlcnkuZXh0ZW5kKCB0aWNrLCB7XG5cdFx0XHRlbGVtOiBlbGVtLFxuXHRcdFx0YW5pbTogYW5pbWF0aW9uLFxuXHRcdFx0cXVldWU6IGFuaW1hdGlvbi5vcHRzLnF1ZXVlXG5cdFx0fSApXG5cdCk7XG5cblx0cmV0dXJuIGFuaW1hdGlvbjtcbn1cblxualF1ZXJ5LkFuaW1hdGlvbiA9IGpRdWVyeS5leHRlbmQoIEFuaW1hdGlvbiwge1xuXG5cdHR3ZWVuZXJzOiB7XG5cdFx0XCIqXCI6IFsgZnVuY3Rpb24oIHByb3AsIHZhbHVlICkge1xuXHRcdFx0dmFyIHR3ZWVuID0gdGhpcy5jcmVhdGVUd2VlbiggcHJvcCwgdmFsdWUgKTtcblx0XHRcdGFkanVzdENTUyggdHdlZW4uZWxlbSwgcHJvcCwgcmNzc051bS5leGVjKCB2YWx1ZSApLCB0d2VlbiApO1xuXHRcdFx0cmV0dXJuIHR3ZWVuO1xuXHRcdH0gXVxuXHR9LFxuXG5cdHR3ZWVuZXI6IGZ1bmN0aW9uKCBwcm9wcywgY2FsbGJhY2sgKSB7XG5cdFx0aWYgKCBpc0Z1bmN0aW9uKCBwcm9wcyApICkge1xuXHRcdFx0Y2FsbGJhY2sgPSBwcm9wcztcblx0XHRcdHByb3BzID0gWyBcIipcIiBdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRwcm9wcyA9IHByb3BzLm1hdGNoKCBybm90aHRtbHdoaXRlICk7XG5cdFx0fVxuXG5cdFx0dmFyIHByb3AsXG5cdFx0XHRpbmRleCA9IDAsXG5cdFx0XHRsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cblx0XHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdFx0cHJvcCA9IHByb3BzWyBpbmRleCBdO1xuXHRcdFx0QW5pbWF0aW9uLnR3ZWVuZXJzWyBwcm9wIF0gPSBBbmltYXRpb24udHdlZW5lcnNbIHByb3AgXSB8fCBbXTtcblx0XHRcdEFuaW1hdGlvbi50d2VlbmVyc1sgcHJvcCBdLnVuc2hpZnQoIGNhbGxiYWNrICk7XG5cdFx0fVxuXHR9LFxuXG5cdHByZWZpbHRlcnM6IFsgZGVmYXVsdFByZWZpbHRlciBdLFxuXG5cdHByZWZpbHRlcjogZnVuY3Rpb24oIGNhbGxiYWNrLCBwcmVwZW5kICkge1xuXHRcdGlmICggcHJlcGVuZCApIHtcblx0XHRcdEFuaW1hdGlvbi5wcmVmaWx0ZXJzLnVuc2hpZnQoIGNhbGxiYWNrICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdEFuaW1hdGlvbi5wcmVmaWx0ZXJzLnB1c2goIGNhbGxiYWNrICk7XG5cdFx0fVxuXHR9XG59ICk7XG5cbmpRdWVyeS5zcGVlZCA9IGZ1bmN0aW9uKCBzcGVlZCwgZWFzaW5nLCBmbiApIHtcblx0dmFyIG9wdCA9IHNwZWVkICYmIHR5cGVvZiBzcGVlZCA9PT0gXCJvYmplY3RcIiA/IGpRdWVyeS5leHRlbmQoIHt9LCBzcGVlZCApIDoge1xuXHRcdGNvbXBsZXRlOiBmbiB8fCAhZm4gJiYgZWFzaW5nIHx8XG5cdFx0XHRpc0Z1bmN0aW9uKCBzcGVlZCApICYmIHNwZWVkLFxuXHRcdGR1cmF0aW9uOiBzcGVlZCxcblx0XHRlYXNpbmc6IGZuICYmIGVhc2luZyB8fCBlYXNpbmcgJiYgIWlzRnVuY3Rpb24oIGVhc2luZyApICYmIGVhc2luZ1xuXHR9O1xuXG5cdC8vIEdvIHRvIHRoZSBlbmQgc3RhdGUgaWYgZnggYXJlIG9mZlxuXHRpZiAoIGpRdWVyeS5meC5vZmYgKSB7XG5cdFx0b3B0LmR1cmF0aW9uID0gMDtcblxuXHR9IGVsc2Uge1xuXHRcdGlmICggdHlwZW9mIG9wdC5kdXJhdGlvbiAhPT0gXCJudW1iZXJcIiApIHtcblx0XHRcdGlmICggb3B0LmR1cmF0aW9uIGluIGpRdWVyeS5meC5zcGVlZHMgKSB7XG5cdFx0XHRcdG9wdC5kdXJhdGlvbiA9IGpRdWVyeS5meC5zcGVlZHNbIG9wdC5kdXJhdGlvbiBdO1xuXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRvcHQuZHVyYXRpb24gPSBqUXVlcnkuZnguc3BlZWRzLl9kZWZhdWx0O1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIE5vcm1hbGl6ZSBvcHQucXVldWUgLSB0cnVlL3VuZGVmaW5lZC9udWxsIC0+IFwiZnhcIlxuXHRpZiAoIG9wdC5xdWV1ZSA9PSBudWxsIHx8IG9wdC5xdWV1ZSA9PT0gdHJ1ZSApIHtcblx0XHRvcHQucXVldWUgPSBcImZ4XCI7XG5cdH1cblxuXHQvLyBRdWV1ZWluZ1xuXHRvcHQub2xkID0gb3B0LmNvbXBsZXRlO1xuXG5cdG9wdC5jb21wbGV0ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggaXNGdW5jdGlvbiggb3B0Lm9sZCApICkge1xuXHRcdFx0b3B0Lm9sZC5jYWxsKCB0aGlzICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBvcHQucXVldWUgKSB7XG5cdFx0XHRqUXVlcnkuZGVxdWV1ZSggdGhpcywgb3B0LnF1ZXVlICk7XG5cdFx0fVxuXHR9O1xuXG5cdHJldHVybiBvcHQ7XG59O1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGZhZGVUbzogZnVuY3Rpb24oIHNwZWVkLCB0bywgZWFzaW5nLCBjYWxsYmFjayApIHtcblxuXHRcdC8vIFNob3cgYW55IGhpZGRlbiBlbGVtZW50cyBhZnRlciBzZXR0aW5nIG9wYWNpdHkgdG8gMFxuXHRcdHJldHVybiB0aGlzLmZpbHRlciggaXNIaWRkZW5XaXRoaW5UcmVlICkuY3NzKCBcIm9wYWNpdHlcIiwgMCApLnNob3coKVxuXG5cdFx0XHQvLyBBbmltYXRlIHRvIHRoZSB2YWx1ZSBzcGVjaWZpZWRcblx0XHRcdC5lbmQoKS5hbmltYXRlKCB7IG9wYWNpdHk6IHRvIH0sIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICk7XG5cdH0sXG5cdGFuaW1hdGU6IGZ1bmN0aW9uKCBwcm9wLCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIHtcblx0XHR2YXIgZW1wdHkgPSBqUXVlcnkuaXNFbXB0eU9iamVjdCggcHJvcCApLFxuXHRcdFx0b3B0YWxsID0galF1ZXJ5LnNwZWVkKCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApLFxuXHRcdFx0ZG9BbmltYXRpb24gPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHQvLyBPcGVyYXRlIG9uIGEgY29weSBvZiBwcm9wIHNvIHBlci1wcm9wZXJ0eSBlYXNpbmcgd29uJ3QgYmUgbG9zdFxuXHRcdFx0XHR2YXIgYW5pbSA9IEFuaW1hdGlvbiggdGhpcywgalF1ZXJ5LmV4dGVuZCgge30sIHByb3AgKSwgb3B0YWxsICk7XG5cblx0XHRcdFx0Ly8gRW1wdHkgYW5pbWF0aW9ucywgb3IgZmluaXNoaW5nIHJlc29sdmVzIGltbWVkaWF0ZWx5XG5cdFx0XHRcdGlmICggZW1wdHkgfHwgZGF0YVByaXYuZ2V0KCB0aGlzLCBcImZpbmlzaFwiICkgKSB7XG5cdFx0XHRcdFx0YW5pbS5zdG9wKCB0cnVlICk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHRkb0FuaW1hdGlvbi5maW5pc2ggPSBkb0FuaW1hdGlvbjtcblxuXHRcdHJldHVybiBlbXB0eSB8fCBvcHRhbGwucXVldWUgPT09IGZhbHNlID9cblx0XHRcdHRoaXMuZWFjaCggZG9BbmltYXRpb24gKSA6XG5cdFx0XHR0aGlzLnF1ZXVlKCBvcHRhbGwucXVldWUsIGRvQW5pbWF0aW9uICk7XG5cdH0sXG5cdHN0b3A6IGZ1bmN0aW9uKCB0eXBlLCBjbGVhclF1ZXVlLCBnb3RvRW5kICkge1xuXHRcdHZhciBzdG9wUXVldWUgPSBmdW5jdGlvbiggaG9va3MgKSB7XG5cdFx0XHR2YXIgc3RvcCA9IGhvb2tzLnN0b3A7XG5cdFx0XHRkZWxldGUgaG9va3Muc3RvcDtcblx0XHRcdHN0b3AoIGdvdG9FbmQgKTtcblx0XHR9O1xuXG5cdFx0aWYgKCB0eXBlb2YgdHlwZSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdGdvdG9FbmQgPSBjbGVhclF1ZXVlO1xuXHRcdFx0Y2xlYXJRdWV1ZSA9IHR5cGU7XG5cdFx0XHR0eXBlID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0XHRpZiAoIGNsZWFyUXVldWUgKSB7XG5cdFx0XHR0aGlzLnF1ZXVlKCB0eXBlIHx8IFwiZnhcIiwgW10gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBkZXF1ZXVlID0gdHJ1ZSxcblx0XHRcdFx0aW5kZXggPSB0eXBlICE9IG51bGwgJiYgdHlwZSArIFwicXVldWVIb29rc1wiLFxuXHRcdFx0XHR0aW1lcnMgPSBqUXVlcnkudGltZXJzLFxuXHRcdFx0XHRkYXRhID0gZGF0YVByaXYuZ2V0KCB0aGlzICk7XG5cblx0XHRcdGlmICggaW5kZXggKSB7XG5cdFx0XHRcdGlmICggZGF0YVsgaW5kZXggXSAmJiBkYXRhWyBpbmRleCBdLnN0b3AgKSB7XG5cdFx0XHRcdFx0c3RvcFF1ZXVlKCBkYXRhWyBpbmRleCBdICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGZvciAoIGluZGV4IGluIGRhdGEgKSB7XG5cdFx0XHRcdFx0aWYgKCBkYXRhWyBpbmRleCBdICYmIGRhdGFbIGluZGV4IF0uc3RvcCAmJiBycnVuLnRlc3QoIGluZGV4ICkgKSB7XG5cdFx0XHRcdFx0XHRzdG9wUXVldWUoIGRhdGFbIGluZGV4IF0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Zm9yICggaW5kZXggPSB0aW1lcnMubGVuZ3RoOyBpbmRleC0tOyApIHtcblx0XHRcdFx0aWYgKCB0aW1lcnNbIGluZGV4IF0uZWxlbSA9PT0gdGhpcyAmJlxuXHRcdFx0XHRcdCggdHlwZSA9PSBudWxsIHx8IHRpbWVyc1sgaW5kZXggXS5xdWV1ZSA9PT0gdHlwZSApICkge1xuXG5cdFx0XHRcdFx0dGltZXJzWyBpbmRleCBdLmFuaW0uc3RvcCggZ290b0VuZCApO1xuXHRcdFx0XHRcdGRlcXVldWUgPSBmYWxzZTtcblx0XHRcdFx0XHR0aW1lcnMuc3BsaWNlKCBpbmRleCwgMSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN0YXJ0IHRoZSBuZXh0IGluIHRoZSBxdWV1ZSBpZiB0aGUgbGFzdCBzdGVwIHdhc24ndCBmb3JjZWQuXG5cdFx0XHQvLyBUaW1lcnMgY3VycmVudGx5IHdpbGwgY2FsbCB0aGVpciBjb21wbGV0ZSBjYWxsYmFja3MsIHdoaWNoXG5cdFx0XHQvLyB3aWxsIGRlcXVldWUgYnV0IG9ubHkgaWYgdGhleSB3ZXJlIGdvdG9FbmQuXG5cdFx0XHRpZiAoIGRlcXVldWUgfHwgIWdvdG9FbmQgKSB7XG5cdFx0XHRcdGpRdWVyeS5kZXF1ZXVlKCB0aGlzLCB0eXBlICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXHRmaW5pc2g6IGZ1bmN0aW9uKCB0eXBlICkge1xuXHRcdGlmICggdHlwZSAhPT0gZmFsc2UgKSB7XG5cdFx0XHR0eXBlID0gdHlwZSB8fCBcImZ4XCI7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGluZGV4LFxuXHRcdFx0XHRkYXRhID0gZGF0YVByaXYuZ2V0KCB0aGlzICksXG5cdFx0XHRcdHF1ZXVlID0gZGF0YVsgdHlwZSArIFwicXVldWVcIiBdLFxuXHRcdFx0XHRob29rcyA9IGRhdGFbIHR5cGUgKyBcInF1ZXVlSG9va3NcIiBdLFxuXHRcdFx0XHR0aW1lcnMgPSBqUXVlcnkudGltZXJzLFxuXHRcdFx0XHRsZW5ndGggPSBxdWV1ZSA/IHF1ZXVlLmxlbmd0aCA6IDA7XG5cblx0XHRcdC8vIEVuYWJsZSBmaW5pc2hpbmcgZmxhZyBvbiBwcml2YXRlIGRhdGFcblx0XHRcdGRhdGEuZmluaXNoID0gdHJ1ZTtcblxuXHRcdFx0Ly8gRW1wdHkgdGhlIHF1ZXVlIGZpcnN0XG5cdFx0XHRqUXVlcnkucXVldWUoIHRoaXMsIHR5cGUsIFtdICk7XG5cblx0XHRcdGlmICggaG9va3MgJiYgaG9va3Muc3RvcCApIHtcblx0XHRcdFx0aG9va3Muc3RvcC5jYWxsKCB0aGlzLCB0cnVlICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIExvb2sgZm9yIGFueSBhY3RpdmUgYW5pbWF0aW9ucywgYW5kIGZpbmlzaCB0aGVtXG5cdFx0XHRmb3IgKCBpbmRleCA9IHRpbWVycy5sZW5ndGg7IGluZGV4LS07ICkge1xuXHRcdFx0XHRpZiAoIHRpbWVyc1sgaW5kZXggXS5lbGVtID09PSB0aGlzICYmIHRpbWVyc1sgaW5kZXggXS5xdWV1ZSA9PT0gdHlwZSApIHtcblx0XHRcdFx0XHR0aW1lcnNbIGluZGV4IF0uYW5pbS5zdG9wKCB0cnVlICk7XG5cdFx0XHRcdFx0dGltZXJzLnNwbGljZSggaW5kZXgsIDEgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBMb29rIGZvciBhbnkgYW5pbWF0aW9ucyBpbiB0aGUgb2xkIHF1ZXVlIGFuZCBmaW5pc2ggdGhlbVxuXHRcdFx0Zm9yICggaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRcdFx0aWYgKCBxdWV1ZVsgaW5kZXggXSAmJiBxdWV1ZVsgaW5kZXggXS5maW5pc2ggKSB7XG5cdFx0XHRcdFx0cXVldWVbIGluZGV4IF0uZmluaXNoLmNhbGwoIHRoaXMgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBUdXJuIG9mZiBmaW5pc2hpbmcgZmxhZ1xuXHRcdFx0ZGVsZXRlIGRhdGEuZmluaXNoO1xuXHRcdH0gKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZWFjaCggWyBcInRvZ2dsZVwiLCBcInNob3dcIiwgXCJoaWRlXCIgXSwgZnVuY3Rpb24oIF9pLCBuYW1lICkge1xuXHR2YXIgY3NzRm4gPSBqUXVlcnkuZm5bIG5hbWUgXTtcblx0alF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIHNwZWVkID09IG51bGwgfHwgdHlwZW9mIHNwZWVkID09PSBcImJvb2xlYW5cIiA/XG5cdFx0XHRjc3NGbi5hcHBseSggdGhpcywgYXJndW1lbnRzICkgOlxuXHRcdFx0dGhpcy5hbmltYXRlKCBnZW5GeCggbmFtZSwgdHJ1ZSApLCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApO1xuXHR9O1xufSApO1xuXG4vLyBHZW5lcmF0ZSBzaG9ydGN1dHMgZm9yIGN1c3RvbSBhbmltYXRpb25zXG5qUXVlcnkuZWFjaCgge1xuXHRzbGlkZURvd246IGdlbkZ4KCBcInNob3dcIiApLFxuXHRzbGlkZVVwOiBnZW5GeCggXCJoaWRlXCIgKSxcblx0c2xpZGVUb2dnbGU6IGdlbkZ4KCBcInRvZ2dsZVwiICksXG5cdGZhZGVJbjogeyBvcGFjaXR5OiBcInNob3dcIiB9LFxuXHRmYWRlT3V0OiB7IG9wYWNpdHk6IFwiaGlkZVwiIH0sXG5cdGZhZGVUb2dnbGU6IHsgb3BhY2l0eTogXCJ0b2dnbGVcIiB9XG59LCBmdW5jdGlvbiggbmFtZSwgcHJvcHMgKSB7XG5cdGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXHRcdHJldHVybiB0aGlzLmFuaW1hdGUoIHByb3BzLCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApO1xuXHR9O1xufSApO1xuXG5qUXVlcnkudGltZXJzID0gW107XG5qUXVlcnkuZngudGljayA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgdGltZXIsXG5cdFx0aSA9IDAsXG5cdFx0dGltZXJzID0galF1ZXJ5LnRpbWVycztcblxuXHRmeE5vdyA9IERhdGUubm93KCk7XG5cblx0Zm9yICggOyBpIDwgdGltZXJzLmxlbmd0aDsgaSsrICkge1xuXHRcdHRpbWVyID0gdGltZXJzWyBpIF07XG5cblx0XHQvLyBSdW4gdGhlIHRpbWVyIGFuZCBzYWZlbHkgcmVtb3ZlIGl0IHdoZW4gZG9uZSAoYWxsb3dpbmcgZm9yIGV4dGVybmFsIHJlbW92YWwpXG5cdFx0aWYgKCAhdGltZXIoKSAmJiB0aW1lcnNbIGkgXSA9PT0gdGltZXIgKSB7XG5cdFx0XHR0aW1lcnMuc3BsaWNlKCBpLS0sIDEgKTtcblx0XHR9XG5cdH1cblxuXHRpZiAoICF0aW1lcnMubGVuZ3RoICkge1xuXHRcdGpRdWVyeS5meC5zdG9wKCk7XG5cdH1cblx0ZnhOb3cgPSB1bmRlZmluZWQ7XG59O1xuXG5qUXVlcnkuZngudGltZXIgPSBmdW5jdGlvbiggdGltZXIgKSB7XG5cdGpRdWVyeS50aW1lcnMucHVzaCggdGltZXIgKTtcblx0alF1ZXJ5LmZ4LnN0YXJ0KCk7XG59O1xuXG5qUXVlcnkuZnguaW50ZXJ2YWwgPSAxMztcbmpRdWVyeS5meC5zdGFydCA9IGZ1bmN0aW9uKCkge1xuXHRpZiAoIGluUHJvZ3Jlc3MgKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0aW5Qcm9ncmVzcyA9IHRydWU7XG5cdHNjaGVkdWxlKCk7XG59O1xuXG5qUXVlcnkuZnguc3RvcCA9IGZ1bmN0aW9uKCkge1xuXHRpblByb2dyZXNzID0gbnVsbDtcbn07XG5cbmpRdWVyeS5meC5zcGVlZHMgPSB7XG5cdHNsb3c6IDYwMCxcblx0ZmFzdDogMjAwLFxuXG5cdC8vIERlZmF1bHQgc3BlZWRcblx0X2RlZmF1bHQ6IDQwMFxufTtcblxuXG4vLyBCYXNlZCBvZmYgb2YgdGhlIHBsdWdpbiBieSBDbGludCBIZWxmZXJzLCB3aXRoIHBlcm1pc3Npb24uXG5qUXVlcnkuZm4uZGVsYXkgPSBmdW5jdGlvbiggdGltZSwgdHlwZSApIHtcblx0dGltZSA9IGpRdWVyeS5meCA/IGpRdWVyeS5meC5zcGVlZHNbIHRpbWUgXSB8fCB0aW1lIDogdGltZTtcblx0dHlwZSA9IHR5cGUgfHwgXCJmeFwiO1xuXG5cdHJldHVybiB0aGlzLnF1ZXVlKCB0eXBlLCBmdW5jdGlvbiggbmV4dCwgaG9va3MgKSB7XG5cdFx0dmFyIHRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCggbmV4dCwgdGltZSApO1xuXHRcdGhvb2tzLnN0b3AgPSBmdW5jdGlvbigpIHtcblx0XHRcdHdpbmRvdy5jbGVhclRpbWVvdXQoIHRpbWVvdXQgKTtcblx0XHR9O1xuXHR9ICk7XG59O1xuXG5cbiggZnVuY3Rpb24oKSB7XG5cdHZhciBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiaW5wdXRcIiApLFxuXHRcdHNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwic2VsZWN0XCIgKSxcblx0XHRvcHQgPSBzZWxlY3QuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwib3B0aW9uXCIgKSApO1xuXG5cdGlucHV0LnR5cGUgPSBcImNoZWNrYm94XCI7XG5cblx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMyBvbmx5XG5cdC8vIERlZmF1bHQgdmFsdWUgZm9yIGEgY2hlY2tib3ggc2hvdWxkIGJlIFwib25cIlxuXHRzdXBwb3J0LmNoZWNrT24gPSBpbnB1dC52YWx1ZSAhPT0gXCJcIjtcblxuXHQvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHlcblx0Ly8gTXVzdCBhY2Nlc3Mgc2VsZWN0ZWRJbmRleCB0byBtYWtlIGRlZmF1bHQgb3B0aW9ucyBzZWxlY3Rcblx0c3VwcG9ydC5vcHRTZWxlY3RlZCA9IG9wdC5zZWxlY3RlZDtcblxuXHQvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHlcblx0Ly8gQW4gaW5wdXQgbG9zZXMgaXRzIHZhbHVlIGFmdGVyIGJlY29taW5nIGEgcmFkaW9cblx0aW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImlucHV0XCIgKTtcblx0aW5wdXQudmFsdWUgPSBcInRcIjtcblx0aW5wdXQudHlwZSA9IFwicmFkaW9cIjtcblx0c3VwcG9ydC5yYWRpb1ZhbHVlID0gaW5wdXQudmFsdWUgPT09IFwidFwiO1xufSApKCk7XG5cblxudmFyIGJvb2xIb29rLFxuXHRhdHRySGFuZGxlID0galF1ZXJ5LmV4cHIuYXR0ckhhbmRsZTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRhdHRyOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgalF1ZXJ5LmF0dHIsIG5hbWUsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoID4gMSApO1xuXHR9LFxuXG5cdHJlbW92ZUF0dHI6IGZ1bmN0aW9uKCBuYW1lICkge1xuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0alF1ZXJ5LnJlbW92ZUF0dHIoIHRoaXMsIG5hbWUgKTtcblx0XHR9ICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmV4dGVuZCgge1xuXHRhdHRyOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgdmFsdWUgKSB7XG5cdFx0dmFyIHJldCwgaG9va3MsXG5cdFx0XHRuVHlwZSA9IGVsZW0ubm9kZVR5cGU7XG5cblx0XHQvLyBEb24ndCBnZXQvc2V0IGF0dHJpYnV0ZXMgb24gdGV4dCwgY29tbWVudCBhbmQgYXR0cmlidXRlIG5vZGVzXG5cdFx0aWYgKCBuVHlwZSA9PT0gMyB8fCBuVHlwZSA9PT0gOCB8fCBuVHlwZSA9PT0gMiApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBGYWxsYmFjayB0byBwcm9wIHdoZW4gYXR0cmlidXRlcyBhcmUgbm90IHN1cHBvcnRlZFxuXHRcdGlmICggdHlwZW9mIGVsZW0uZ2V0QXR0cmlidXRlID09PSBcInVuZGVmaW5lZFwiICkge1xuXHRcdFx0cmV0dXJuIGpRdWVyeS5wcm9wKCBlbGVtLCBuYW1lLCB2YWx1ZSApO1xuXHRcdH1cblxuXHRcdC8vIEF0dHJpYnV0ZSBob29rcyBhcmUgZGV0ZXJtaW5lZCBieSB0aGUgbG93ZXJjYXNlIHZlcnNpb25cblx0XHQvLyBHcmFiIG5lY2Vzc2FyeSBob29rIGlmIG9uZSBpcyBkZWZpbmVkXG5cdFx0aWYgKCBuVHlwZSAhPT0gMSB8fCAhalF1ZXJ5LmlzWE1MRG9jKCBlbGVtICkgKSB7XG5cdFx0XHRob29rcyA9IGpRdWVyeS5hdHRySG9va3NbIG5hbWUudG9Mb3dlckNhc2UoKSBdIHx8XG5cdFx0XHRcdCggalF1ZXJ5LmV4cHIubWF0Y2guYm9vbC50ZXN0KCBuYW1lICkgPyBib29sSG9vayA6IHVuZGVmaW5lZCApO1xuXHRcdH1cblxuXHRcdGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdGlmICggdmFsdWUgPT09IG51bGwgKSB7XG5cdFx0XHRcdGpRdWVyeS5yZW1vdmVBdHRyKCBlbGVtLCBuYW1lICk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBob29rcyAmJiBcInNldFwiIGluIGhvb2tzICYmXG5cdFx0XHRcdCggcmV0ID0gaG9va3Muc2V0KCBlbGVtLCB2YWx1ZSwgbmFtZSApICkgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdH1cblxuXHRcdFx0ZWxlbS5zZXRBdHRyaWJ1dGUoIG5hbWUsIHZhbHVlICsgXCJcIiApO1xuXHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdH1cblxuXHRcdGlmICggaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyAmJiAoIHJldCA9IGhvb2tzLmdldCggZWxlbSwgbmFtZSApICkgIT09IG51bGwgKSB7XG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH1cblxuXHRcdHJldCA9IGpRdWVyeS5maW5kLmF0dHIoIGVsZW0sIG5hbWUgKTtcblxuXHRcdC8vIE5vbi1leGlzdGVudCBhdHRyaWJ1dGVzIHJldHVybiBudWxsLCB3ZSBub3JtYWxpemUgdG8gdW5kZWZpbmVkXG5cdFx0cmV0dXJuIHJldCA9PSBudWxsID8gdW5kZWZpbmVkIDogcmV0O1xuXHR9LFxuXG5cdGF0dHJIb29rczoge1xuXHRcdHR5cGU6IHtcblx0XHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xuXHRcdFx0XHRpZiAoICFzdXBwb3J0LnJhZGlvVmFsdWUgJiYgdmFsdWUgPT09IFwicmFkaW9cIiAmJlxuXHRcdFx0XHRcdG5vZGVOYW1lKCBlbGVtLCBcImlucHV0XCIgKSApIHtcblx0XHRcdFx0XHR2YXIgdmFsID0gZWxlbS52YWx1ZTtcblx0XHRcdFx0XHRlbGVtLnNldEF0dHJpYnV0ZSggXCJ0eXBlXCIsIHZhbHVlICk7XG5cdFx0XHRcdFx0aWYgKCB2YWwgKSB7XG5cdFx0XHRcdFx0XHRlbGVtLnZhbHVlID0gdmFsO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0cmVtb3ZlQXR0cjogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xuXHRcdHZhciBuYW1lLFxuXHRcdFx0aSA9IDAsXG5cblx0XHRcdC8vIEF0dHJpYnV0ZSBuYW1lcyBjYW4gY29udGFpbiBub24tSFRNTCB3aGl0ZXNwYWNlIGNoYXJhY3RlcnNcblx0XHRcdC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI2F0dHJpYnV0ZXMtMlxuXHRcdFx0YXR0ck5hbWVzID0gdmFsdWUgJiYgdmFsdWUubWF0Y2goIHJub3RodG1sd2hpdGUgKTtcblxuXHRcdGlmICggYXR0ck5hbWVzICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHR3aGlsZSAoICggbmFtZSA9IGF0dHJOYW1lc1sgaSsrIF0gKSApIHtcblx0XHRcdFx0ZWxlbS5yZW1vdmVBdHRyaWJ1dGUoIG5hbWUgKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn0gKTtcblxuLy8gSG9va3MgZm9yIGJvb2xlYW4gYXR0cmlidXRlc1xuYm9vbEhvb2sgPSB7XG5cdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlLCBuYW1lICkge1xuXHRcdGlmICggdmFsdWUgPT09IGZhbHNlICkge1xuXG5cdFx0XHQvLyBSZW1vdmUgYm9vbGVhbiBhdHRyaWJ1dGVzIHdoZW4gc2V0IHRvIGZhbHNlXG5cdFx0XHRqUXVlcnkucmVtb3ZlQXR0ciggZWxlbSwgbmFtZSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRlbGVtLnNldEF0dHJpYnV0ZSggbmFtZSwgbmFtZSApO1xuXHRcdH1cblx0XHRyZXR1cm4gbmFtZTtcblx0fVxufTtcblxualF1ZXJ5LmVhY2goIGpRdWVyeS5leHByLm1hdGNoLmJvb2wuc291cmNlLm1hdGNoKCAvXFx3Ky9nICksIGZ1bmN0aW9uKCBfaSwgbmFtZSApIHtcblx0dmFyIGdldHRlciA9IGF0dHJIYW5kbGVbIG5hbWUgXSB8fCBqUXVlcnkuZmluZC5hdHRyO1xuXG5cdGF0dHJIYW5kbGVbIG5hbWUgXSA9IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBpc1hNTCApIHtcblx0XHR2YXIgcmV0LCBoYW5kbGUsXG5cdFx0XHRsb3dlcmNhc2VOYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuXG5cdFx0aWYgKCAhaXNYTUwgKSB7XG5cblx0XHRcdC8vIEF2b2lkIGFuIGluZmluaXRlIGxvb3AgYnkgdGVtcG9yYXJpbHkgcmVtb3ZpbmcgdGhpcyBmdW5jdGlvbiBmcm9tIHRoZSBnZXR0ZXJcblx0XHRcdGhhbmRsZSA9IGF0dHJIYW5kbGVbIGxvd2VyY2FzZU5hbWUgXTtcblx0XHRcdGF0dHJIYW5kbGVbIGxvd2VyY2FzZU5hbWUgXSA9IHJldDtcblx0XHRcdHJldCA9IGdldHRlciggZWxlbSwgbmFtZSwgaXNYTUwgKSAhPSBudWxsID9cblx0XHRcdFx0bG93ZXJjYXNlTmFtZSA6XG5cdFx0XHRcdG51bGw7XG5cdFx0XHRhdHRySGFuZGxlWyBsb3dlcmNhc2VOYW1lIF0gPSBoYW5kbGU7XG5cdFx0fVxuXHRcdHJldHVybiByZXQ7XG5cdH07XG59ICk7XG5cblxuXG5cbnZhciByZm9jdXNhYmxlID0gL14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxcblx0cmNsaWNrYWJsZSA9IC9eKD86YXxhcmVhKSQvaTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRwcm9wOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgalF1ZXJ5LnByb3AsIG5hbWUsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoID4gMSApO1xuXHR9LFxuXG5cdHJlbW92ZVByb3A6IGZ1bmN0aW9uKCBuYW1lICkge1xuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0ZGVsZXRlIHRoaXNbIGpRdWVyeS5wcm9wRml4WyBuYW1lIF0gfHwgbmFtZSBdO1xuXHRcdH0gKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cdHByb3A6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCB2YWx1ZSApIHtcblx0XHR2YXIgcmV0LCBob29rcyxcblx0XHRcdG5UeXBlID0gZWxlbS5ub2RlVHlwZTtcblxuXHRcdC8vIERvbid0IGdldC9zZXQgcHJvcGVydGllcyBvbiB0ZXh0LCBjb21tZW50IGFuZCBhdHRyaWJ1dGUgbm9kZXNcblx0XHRpZiAoIG5UeXBlID09PSAzIHx8IG5UeXBlID09PSA4IHx8IG5UeXBlID09PSAyICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICggblR5cGUgIT09IDEgfHwgIWpRdWVyeS5pc1hNTERvYyggZWxlbSApICkge1xuXG5cdFx0XHQvLyBGaXggbmFtZSBhbmQgYXR0YWNoIGhvb2tzXG5cdFx0XHRuYW1lID0galF1ZXJ5LnByb3BGaXhbIG5hbWUgXSB8fCBuYW1lO1xuXHRcdFx0aG9va3MgPSBqUXVlcnkucHJvcEhvb2tzWyBuYW1lIF07XG5cdFx0fVxuXG5cdFx0aWYgKCB2YWx1ZSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0aWYgKCBob29rcyAmJiBcInNldFwiIGluIGhvb2tzICYmXG5cdFx0XHRcdCggcmV0ID0gaG9va3Muc2V0KCBlbGVtLCB2YWx1ZSwgbmFtZSApICkgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuICggZWxlbVsgbmFtZSBdID0gdmFsdWUgKTtcblx0XHR9XG5cblx0XHRpZiAoIGhvb2tzICYmIFwiZ2V0XCIgaW4gaG9va3MgJiYgKCByZXQgPSBob29rcy5nZXQoIGVsZW0sIG5hbWUgKSApICE9PSBudWxsICkge1xuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9XG5cblx0XHRyZXR1cm4gZWxlbVsgbmFtZSBdO1xuXHR9LFxuXG5cdHByb3BIb29rczoge1xuXHRcdHRhYkluZGV4OiB7XG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExIG9ubHlcblx0XHRcdFx0Ly8gZWxlbS50YWJJbmRleCBkb2Vzbid0IGFsd2F5cyByZXR1cm4gdGhlXG5cdFx0XHRcdC8vIGNvcnJlY3QgdmFsdWUgd2hlbiBpdCBoYXNuJ3QgYmVlbiBleHBsaWNpdGx5IHNldFxuXHRcdFx0XHQvLyBVc2UgcHJvcGVyIGF0dHJpYnV0ZSByZXRyaWV2YWwgKHRyYWMtMTIwNzIpXG5cdFx0XHRcdHZhciB0YWJpbmRleCA9IGpRdWVyeS5maW5kLmF0dHIoIGVsZW0sIFwidGFiaW5kZXhcIiApO1xuXG5cdFx0XHRcdGlmICggdGFiaW5kZXggKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHBhcnNlSW50KCB0YWJpbmRleCwgMTAgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHRyZm9jdXNhYmxlLnRlc3QoIGVsZW0ubm9kZU5hbWUgKSB8fFxuXHRcdFx0XHRcdHJjbGlja2FibGUudGVzdCggZWxlbS5ub2RlTmFtZSApICYmXG5cdFx0XHRcdFx0ZWxlbS5ocmVmXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdHJldHVybiAwO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIC0xO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHRwcm9wRml4OiB7XG5cdFx0XCJmb3JcIjogXCJodG1sRm9yXCIsXG5cdFx0XCJjbGFzc1wiOiBcImNsYXNzTmFtZVwiXG5cdH1cbn0gKTtcblxuLy8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG4vLyBBY2Nlc3NpbmcgdGhlIHNlbGVjdGVkSW5kZXggcHJvcGVydHlcbi8vIGZvcmNlcyB0aGUgYnJvd3NlciB0byByZXNwZWN0IHNldHRpbmcgc2VsZWN0ZWRcbi8vIG9uIHRoZSBvcHRpb25cbi8vIFRoZSBnZXR0ZXIgZW5zdXJlcyBhIGRlZmF1bHQgb3B0aW9uIGlzIHNlbGVjdGVkXG4vLyB3aGVuIGluIGFuIG9wdGdyb3VwXG4vLyBlc2xpbnQgcnVsZSBcIm5vLXVudXNlZC1leHByZXNzaW9uc1wiIGlzIGRpc2FibGVkIGZvciB0aGlzIGNvZGVcbi8vIHNpbmNlIGl0IGNvbnNpZGVycyBzdWNoIGFjY2Vzc2lvbnMgbm9vcFxuaWYgKCAhc3VwcG9ydC5vcHRTZWxlY3RlZCApIHtcblx0alF1ZXJ5LnByb3BIb29rcy5zZWxlY3RlZCA9IHtcblx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdFx0XHQvKiBlc2xpbnQgbm8tdW51c2VkLWV4cHJlc3Npb25zOiBcIm9mZlwiICovXG5cblx0XHRcdHZhciBwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGU7XG5cdFx0XHRpZiAoIHBhcmVudCAmJiBwYXJlbnQucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0cGFyZW50LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleDtcblx0XHRcdH1cblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH0sXG5cdFx0c2V0OiBmdW5jdGlvbiggZWxlbSApIHtcblxuXHRcdFx0LyogZXNsaW50IG5vLXVudXNlZC1leHByZXNzaW9uczogXCJvZmZcIiAqL1xuXG5cdFx0XHR2YXIgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlO1xuXHRcdFx0aWYgKCBwYXJlbnQgKSB7XG5cdFx0XHRcdHBhcmVudC5zZWxlY3RlZEluZGV4O1xuXG5cdFx0XHRcdGlmICggcGFyZW50LnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdFx0cGFyZW50LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cblxualF1ZXJ5LmVhY2goIFtcblx0XCJ0YWJJbmRleFwiLFxuXHRcInJlYWRPbmx5XCIsXG5cdFwibWF4TGVuZ3RoXCIsXG5cdFwiY2VsbFNwYWNpbmdcIixcblx0XCJjZWxsUGFkZGluZ1wiLFxuXHRcInJvd1NwYW5cIixcblx0XCJjb2xTcGFuXCIsXG5cdFwidXNlTWFwXCIsXG5cdFwiZnJhbWVCb3JkZXJcIixcblx0XCJjb250ZW50RWRpdGFibGVcIlxuXSwgZnVuY3Rpb24oKSB7XG5cdGpRdWVyeS5wcm9wRml4WyB0aGlzLnRvTG93ZXJDYXNlKCkgXSA9IHRoaXM7XG59ICk7XG5cblxuXG5cblx0Ly8gU3RyaXAgYW5kIGNvbGxhcHNlIHdoaXRlc3BhY2UgYWNjb3JkaW5nIHRvIEhUTUwgc3BlY1xuXHQvLyBodHRwczovL2luZnJhLnNwZWMud2hhdHdnLm9yZy8jc3RyaXAtYW5kLWNvbGxhcHNlLWFzY2lpLXdoaXRlc3BhY2Vcblx0ZnVuY3Rpb24gc3RyaXBBbmRDb2xsYXBzZSggdmFsdWUgKSB7XG5cdFx0dmFyIHRva2VucyA9IHZhbHVlLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgW107XG5cdFx0cmV0dXJuIHRva2Vucy5qb2luKCBcIiBcIiApO1xuXHR9XG5cblxuZnVuY3Rpb24gZ2V0Q2xhc3MoIGVsZW0gKSB7XG5cdHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZSAmJiBlbGVtLmdldEF0dHJpYnV0ZSggXCJjbGFzc1wiICkgfHwgXCJcIjtcbn1cblxuZnVuY3Rpb24gY2xhc3Nlc1RvQXJyYXkoIHZhbHVlICkge1xuXHRpZiAoIEFycmF5LmlzQXJyYXkoIHZhbHVlICkgKSB7XG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9XG5cdGlmICggdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICkge1xuXHRcdHJldHVybiB2YWx1ZS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFtdO1xuXHR9XG5cdHJldHVybiBbXTtcbn1cblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRhZGRDbGFzczogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHZhciBjbGFzc05hbWVzLCBjdXIsIGN1clZhbHVlLCBjbGFzc05hbWUsIGksIGZpbmFsVmFsdWU7XG5cblx0XHRpZiAoIGlzRnVuY3Rpb24oIHZhbHVlICkgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaiApIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkuYWRkQ2xhc3MoIHZhbHVlLmNhbGwoIHRoaXMsIGosIGdldENsYXNzKCB0aGlzICkgKSApO1xuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdGNsYXNzTmFtZXMgPSBjbGFzc2VzVG9BcnJheSggdmFsdWUgKTtcblxuXHRcdGlmICggY2xhc3NOYW1lcy5sZW5ndGggKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0Y3VyVmFsdWUgPSBnZXRDbGFzcyggdGhpcyApO1xuXHRcdFx0XHRjdXIgPSB0aGlzLm5vZGVUeXBlID09PSAxICYmICggXCIgXCIgKyBzdHJpcEFuZENvbGxhcHNlKCBjdXJWYWx1ZSApICsgXCIgXCIgKTtcblxuXHRcdFx0XHRpZiAoIGN1ciApIHtcblx0XHRcdFx0XHRmb3IgKCBpID0gMDsgaSA8IGNsYXNzTmFtZXMubGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRcdFx0XHRjbGFzc05hbWUgPSBjbGFzc05hbWVzWyBpIF07XG5cdFx0XHRcdFx0XHRpZiAoIGN1ci5pbmRleE9mKCBcIiBcIiArIGNsYXNzTmFtZSArIFwiIFwiICkgPCAwICkge1xuXHRcdFx0XHRcdFx0XHRjdXIgKz0gY2xhc3NOYW1lICsgXCIgXCI7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gT25seSBhc3NpZ24gaWYgZGlmZmVyZW50IHRvIGF2b2lkIHVubmVlZGVkIHJlbmRlcmluZy5cblx0XHRcdFx0XHRmaW5hbFZhbHVlID0gc3RyaXBBbmRDb2xsYXBzZSggY3VyICk7XG5cdFx0XHRcdFx0aWYgKCBjdXJWYWx1ZSAhPT0gZmluYWxWYWx1ZSApIHtcblx0XHRcdFx0XHRcdHRoaXMuc2V0QXR0cmlidXRlKCBcImNsYXNzXCIsIGZpbmFsVmFsdWUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRyZW1vdmVDbGFzczogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHZhciBjbGFzc05hbWVzLCBjdXIsIGN1clZhbHVlLCBjbGFzc05hbWUsIGksIGZpbmFsVmFsdWU7XG5cblx0XHRpZiAoIGlzRnVuY3Rpb24oIHZhbHVlICkgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaiApIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkucmVtb3ZlQ2xhc3MoIHZhbHVlLmNhbGwoIHRoaXMsIGosIGdldENsYXNzKCB0aGlzICkgKSApO1xuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdGlmICggIWFyZ3VtZW50cy5sZW5ndGggKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5hdHRyKCBcImNsYXNzXCIsIFwiXCIgKTtcblx0XHR9XG5cblx0XHRjbGFzc05hbWVzID0gY2xhc3Nlc1RvQXJyYXkoIHZhbHVlICk7XG5cblx0XHRpZiAoIGNsYXNzTmFtZXMubGVuZ3RoICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGN1clZhbHVlID0gZ2V0Q2xhc3MoIHRoaXMgKTtcblxuXHRcdFx0XHQvLyBUaGlzIGV4cHJlc3Npb24gaXMgaGVyZSBmb3IgYmV0dGVyIGNvbXByZXNzaWJpbGl0eSAoc2VlIGFkZENsYXNzKVxuXHRcdFx0XHRjdXIgPSB0aGlzLm5vZGVUeXBlID09PSAxICYmICggXCIgXCIgKyBzdHJpcEFuZENvbGxhcHNlKCBjdXJWYWx1ZSApICsgXCIgXCIgKTtcblxuXHRcdFx0XHRpZiAoIGN1ciApIHtcblx0XHRcdFx0XHRmb3IgKCBpID0gMDsgaSA8IGNsYXNzTmFtZXMubGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRcdFx0XHRjbGFzc05hbWUgPSBjbGFzc05hbWVzWyBpIF07XG5cblx0XHRcdFx0XHRcdC8vIFJlbW92ZSAqYWxsKiBpbnN0YW5jZXNcblx0XHRcdFx0XHRcdHdoaWxlICggY3VyLmluZGV4T2YoIFwiIFwiICsgY2xhc3NOYW1lICsgXCIgXCIgKSA+IC0xICkge1xuXHRcdFx0XHRcdFx0XHRjdXIgPSBjdXIucmVwbGFjZSggXCIgXCIgKyBjbGFzc05hbWUgKyBcIiBcIiwgXCIgXCIgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBPbmx5IGFzc2lnbiBpZiBkaWZmZXJlbnQgdG8gYXZvaWQgdW5uZWVkZWQgcmVuZGVyaW5nLlxuXHRcdFx0XHRcdGZpbmFsVmFsdWUgPSBzdHJpcEFuZENvbGxhcHNlKCBjdXIgKTtcblx0XHRcdFx0XHRpZiAoIGN1clZhbHVlICE9PSBmaW5hbFZhbHVlICkge1xuXHRcdFx0XHRcdFx0dGhpcy5zZXRBdHRyaWJ1dGUoIFwiY2xhc3NcIiwgZmluYWxWYWx1ZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdHRvZ2dsZUNsYXNzOiBmdW5jdGlvbiggdmFsdWUsIHN0YXRlVmFsICkge1xuXHRcdHZhciBjbGFzc05hbWVzLCBjbGFzc05hbWUsIGksIHNlbGYsXG5cdFx0XHR0eXBlID0gdHlwZW9mIHZhbHVlLFxuXHRcdFx0aXNWYWxpZFZhbHVlID0gdHlwZSA9PT0gXCJzdHJpbmdcIiB8fCBBcnJheS5pc0FycmF5KCB2YWx1ZSApO1xuXG5cdFx0aWYgKCBpc0Z1bmN0aW9uKCB2YWx1ZSApICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLnRvZ2dsZUNsYXNzKFxuXHRcdFx0XHRcdHZhbHVlLmNhbGwoIHRoaXMsIGksIGdldENsYXNzKCB0aGlzICksIHN0YXRlVmFsICksXG5cdFx0XHRcdFx0c3RhdGVWYWxcblx0XHRcdFx0KTtcblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHRpZiAoIHR5cGVvZiBzdGF0ZVZhbCA9PT0gXCJib29sZWFuXCIgJiYgaXNWYWxpZFZhbHVlICkge1xuXHRcdFx0cmV0dXJuIHN0YXRlVmFsID8gdGhpcy5hZGRDbGFzcyggdmFsdWUgKSA6IHRoaXMucmVtb3ZlQ2xhc3MoIHZhbHVlICk7XG5cdFx0fVxuXG5cdFx0Y2xhc3NOYW1lcyA9IGNsYXNzZXNUb0FycmF5KCB2YWx1ZSApO1xuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoIGlzVmFsaWRWYWx1ZSApIHtcblxuXHRcdFx0XHQvLyBUb2dnbGUgaW5kaXZpZHVhbCBjbGFzcyBuYW1lc1xuXHRcdFx0XHRzZWxmID0galF1ZXJ5KCB0aGlzICk7XG5cblx0XHRcdFx0Zm9yICggaSA9IDA7IGkgPCBjbGFzc05hbWVzLmxlbmd0aDsgaSsrICkge1xuXHRcdFx0XHRcdGNsYXNzTmFtZSA9IGNsYXNzTmFtZXNbIGkgXTtcblxuXHRcdFx0XHRcdC8vIENoZWNrIGVhY2ggY2xhc3NOYW1lIGdpdmVuLCBzcGFjZSBzZXBhcmF0ZWQgbGlzdFxuXHRcdFx0XHRcdGlmICggc2VsZi5oYXNDbGFzcyggY2xhc3NOYW1lICkgKSB7XG5cdFx0XHRcdFx0XHRzZWxmLnJlbW92ZUNsYXNzKCBjbGFzc05hbWUgKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0c2VsZi5hZGRDbGFzcyggY2xhc3NOYW1lICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdC8vIFRvZ2dsZSB3aG9sZSBjbGFzcyBuYW1lXG5cdFx0XHR9IGVsc2UgaWYgKCB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHR5cGUgPT09IFwiYm9vbGVhblwiICkge1xuXHRcdFx0XHRjbGFzc05hbWUgPSBnZXRDbGFzcyggdGhpcyApO1xuXHRcdFx0XHRpZiAoIGNsYXNzTmFtZSApIHtcblxuXHRcdFx0XHRcdC8vIFN0b3JlIGNsYXNzTmFtZSBpZiBzZXRcblx0XHRcdFx0XHRkYXRhUHJpdi5zZXQoIHRoaXMsIFwiX19jbGFzc05hbWVfX1wiLCBjbGFzc05hbWUgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIElmIHRoZSBlbGVtZW50IGhhcyBhIGNsYXNzIG5hbWUgb3IgaWYgd2UncmUgcGFzc2VkIGBmYWxzZWAsXG5cdFx0XHRcdC8vIHRoZW4gcmVtb3ZlIHRoZSB3aG9sZSBjbGFzc25hbWUgKGlmIHRoZXJlIHdhcyBvbmUsIHRoZSBhYm92ZSBzYXZlZCBpdCkuXG5cdFx0XHRcdC8vIE90aGVyd2lzZSBicmluZyBiYWNrIHdoYXRldmVyIHdhcyBwcmV2aW91c2x5IHNhdmVkIChpZiBhbnl0aGluZyksXG5cdFx0XHRcdC8vIGZhbGxpbmcgYmFjayB0byB0aGUgZW1wdHkgc3RyaW5nIGlmIG5vdGhpbmcgd2FzIHN0b3JlZC5cblx0XHRcdFx0aWYgKCB0aGlzLnNldEF0dHJpYnV0ZSApIHtcblx0XHRcdFx0XHR0aGlzLnNldEF0dHJpYnV0ZSggXCJjbGFzc1wiLFxuXHRcdFx0XHRcdFx0Y2xhc3NOYW1lIHx8IHZhbHVlID09PSBmYWxzZSA/XG5cdFx0XHRcdFx0XHRcdFwiXCIgOlxuXHRcdFx0XHRcdFx0XHRkYXRhUHJpdi5nZXQoIHRoaXMsIFwiX19jbGFzc05hbWVfX1wiICkgfHwgXCJcIlxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0aGFzQ2xhc3M6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHR2YXIgY2xhc3NOYW1lLCBlbGVtLFxuXHRcdFx0aSA9IDA7XG5cblx0XHRjbGFzc05hbWUgPSBcIiBcIiArIHNlbGVjdG9yICsgXCIgXCI7XG5cdFx0d2hpbGUgKCAoIGVsZW0gPSB0aGlzWyBpKysgXSApICkge1xuXHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICYmXG5cdFx0XHRcdCggXCIgXCIgKyBzdHJpcEFuZENvbGxhcHNlKCBnZXRDbGFzcyggZWxlbSApICkgKyBcIiBcIiApLmluZGV4T2YoIGNsYXNzTmFtZSApID4gLTEgKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxufSApO1xuXG5cblxuXG52YXIgcnJldHVybiA9IC9cXHIvZztcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHR2YWw6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHR2YXIgaG9va3MsIHJldCwgdmFsdWVJc0Z1bmN0aW9uLFxuXHRcdFx0ZWxlbSA9IHRoaXNbIDAgXTtcblxuXHRcdGlmICggIWFyZ3VtZW50cy5sZW5ndGggKSB7XG5cdFx0XHRpZiAoIGVsZW0gKSB7XG5cdFx0XHRcdGhvb2tzID0galF1ZXJ5LnZhbEhvb2tzWyBlbGVtLnR5cGUgXSB8fFxuXHRcdFx0XHRcdGpRdWVyeS52YWxIb29rc1sgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIF07XG5cblx0XHRcdFx0aWYgKCBob29rcyAmJlxuXHRcdFx0XHRcdFwiZ2V0XCIgaW4gaG9va3MgJiZcblx0XHRcdFx0XHQoIHJldCA9IGhvb2tzLmdldCggZWxlbSwgXCJ2YWx1ZVwiICkgKSAhPT0gdW5kZWZpbmVkXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXQgPSBlbGVtLnZhbHVlO1xuXG5cdFx0XHRcdC8vIEhhbmRsZSBtb3N0IGNvbW1vbiBzdHJpbmcgY2FzZXNcblx0XHRcdFx0aWYgKCB0eXBlb2YgcmV0ID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0XHRcdHJldHVybiByZXQucmVwbGFjZSggcnJldHVybiwgXCJcIiApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gSGFuZGxlIGNhc2VzIHdoZXJlIHZhbHVlIGlzIG51bGwvdW5kZWYgb3IgbnVtYmVyXG5cdFx0XHRcdHJldHVybiByZXQgPT0gbnVsbCA/IFwiXCIgOiByZXQ7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR2YWx1ZUlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uKCB2YWx1ZSApO1xuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHR2YXIgdmFsO1xuXG5cdFx0XHRpZiAoIHRoaXMubm9kZVR5cGUgIT09IDEgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCB2YWx1ZUlzRnVuY3Rpb24gKSB7XG5cdFx0XHRcdHZhbCA9IHZhbHVlLmNhbGwoIHRoaXMsIGksIGpRdWVyeSggdGhpcyApLnZhbCgpICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR2YWwgPSB2YWx1ZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gVHJlYXQgbnVsbC91bmRlZmluZWQgYXMgXCJcIjsgY29udmVydCBudW1iZXJzIHRvIHN0cmluZ1xuXHRcdFx0aWYgKCB2YWwgPT0gbnVsbCApIHtcblx0XHRcdFx0dmFsID0gXCJcIjtcblxuXHRcdFx0fSBlbHNlIGlmICggdHlwZW9mIHZhbCA9PT0gXCJudW1iZXJcIiApIHtcblx0XHRcdFx0dmFsICs9IFwiXCI7XG5cblx0XHRcdH0gZWxzZSBpZiAoIEFycmF5LmlzQXJyYXkoIHZhbCApICkge1xuXHRcdFx0XHR2YWwgPSBqUXVlcnkubWFwKCB2YWwsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdFx0XHRyZXR1cm4gdmFsdWUgPT0gbnVsbCA/IFwiXCIgOiB2YWx1ZSArIFwiXCI7XG5cdFx0XHRcdH0gKTtcblx0XHRcdH1cblxuXHRcdFx0aG9va3MgPSBqUXVlcnkudmFsSG9va3NbIHRoaXMudHlwZSBdIHx8IGpRdWVyeS52YWxIb29rc1sgdGhpcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIF07XG5cblx0XHRcdC8vIElmIHNldCByZXR1cm5zIHVuZGVmaW5lZCwgZmFsbCBiYWNrIHRvIG5vcm1hbCBzZXR0aW5nXG5cdFx0XHRpZiAoICFob29rcyB8fCAhKCBcInNldFwiIGluIGhvb2tzICkgfHwgaG9va3Muc2V0KCB0aGlzLCB2YWwsIFwidmFsdWVcIiApID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdHRoaXMudmFsdWUgPSB2YWw7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5leHRlbmQoIHtcblx0dmFsSG9va3M6IHtcblx0XHRvcHRpb246IHtcblx0XHRcdGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHRcdFx0dmFyIHZhbCA9IGpRdWVyeS5maW5kLmF0dHIoIGVsZW0sIFwidmFsdWVcIiApO1xuXHRcdFx0XHRyZXR1cm4gdmFsICE9IG51bGwgP1xuXHRcdFx0XHRcdHZhbCA6XG5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTEwIC0gMTEgb25seVxuXHRcdFx0XHRcdC8vIG9wdGlvbi50ZXh0IHRocm93cyBleGNlcHRpb25zICh0cmFjLTE0Njg2LCB0cmFjLTE0ODU4KVxuXHRcdFx0XHRcdC8vIFN0cmlwIGFuZCBjb2xsYXBzZSB3aGl0ZXNwYWNlXG5cdFx0XHRcdFx0Ly8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy8jc3RyaXAtYW5kLWNvbGxhcHNlLXdoaXRlc3BhY2Vcblx0XHRcdFx0XHRzdHJpcEFuZENvbGxhcHNlKCBqUXVlcnkudGV4dCggZWxlbSApICk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRzZWxlY3Q6IHtcblx0XHRcdGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHZhciB2YWx1ZSwgb3B0aW9uLCBpLFxuXHRcdFx0XHRcdG9wdGlvbnMgPSBlbGVtLm9wdGlvbnMsXG5cdFx0XHRcdFx0aW5kZXggPSBlbGVtLnNlbGVjdGVkSW5kZXgsXG5cdFx0XHRcdFx0b25lID0gZWxlbS50eXBlID09PSBcInNlbGVjdC1vbmVcIixcblx0XHRcdFx0XHR2YWx1ZXMgPSBvbmUgPyBudWxsIDogW10sXG5cdFx0XHRcdFx0bWF4ID0gb25lID8gaW5kZXggKyAxIDogb3B0aW9ucy5sZW5ndGg7XG5cblx0XHRcdFx0aWYgKCBpbmRleCA8IDAgKSB7XG5cdFx0XHRcdFx0aSA9IG1heDtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGkgPSBvbmUgPyBpbmRleCA6IDA7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBMb29wIHRocm91Z2ggYWxsIHRoZSBzZWxlY3RlZCBvcHRpb25zXG5cdFx0XHRcdGZvciAoIDsgaSA8IG1heDsgaSsrICkge1xuXHRcdFx0XHRcdG9wdGlvbiA9IG9wdGlvbnNbIGkgXTtcblxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG5cdFx0XHRcdFx0Ly8gSUU4LTkgZG9lc24ndCB1cGRhdGUgc2VsZWN0ZWQgYWZ0ZXIgZm9ybSByZXNldCAodHJhYy0yNTUxKVxuXHRcdFx0XHRcdGlmICggKCBvcHRpb24uc2VsZWN0ZWQgfHwgaSA9PT0gaW5kZXggKSAmJlxuXG5cdFx0XHRcdFx0XHRcdC8vIERvbid0IHJldHVybiBvcHRpb25zIHRoYXQgYXJlIGRpc2FibGVkIG9yIGluIGEgZGlzYWJsZWQgb3B0Z3JvdXBcblx0XHRcdFx0XHRcdFx0IW9wdGlvbi5kaXNhYmxlZCAmJlxuXHRcdFx0XHRcdFx0XHQoICFvcHRpb24ucGFyZW50Tm9kZS5kaXNhYmxlZCB8fFxuXHRcdFx0XHRcdFx0XHRcdCFub2RlTmFtZSggb3B0aW9uLnBhcmVudE5vZGUsIFwib3B0Z3JvdXBcIiApICkgKSB7XG5cblx0XHRcdFx0XHRcdC8vIEdldCB0aGUgc3BlY2lmaWMgdmFsdWUgZm9yIHRoZSBvcHRpb25cblx0XHRcdFx0XHRcdHZhbHVlID0galF1ZXJ5KCBvcHRpb24gKS52YWwoKTtcblxuXHRcdFx0XHRcdFx0Ly8gV2UgZG9uJ3QgbmVlZCBhbiBhcnJheSBmb3Igb25lIHNlbGVjdHNcblx0XHRcdFx0XHRcdGlmICggb25lICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIE11bHRpLVNlbGVjdHMgcmV0dXJuIGFuIGFycmF5XG5cdFx0XHRcdFx0XHR2YWx1ZXMucHVzaCggdmFsdWUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdmFsdWVzO1xuXHRcdFx0fSxcblxuXHRcdFx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUgKSB7XG5cdFx0XHRcdHZhciBvcHRpb25TZXQsIG9wdGlvbixcblx0XHRcdFx0XHRvcHRpb25zID0gZWxlbS5vcHRpb25zLFxuXHRcdFx0XHRcdHZhbHVlcyA9IGpRdWVyeS5tYWtlQXJyYXkoIHZhbHVlICksXG5cdFx0XHRcdFx0aSA9IG9wdGlvbnMubGVuZ3RoO1xuXG5cdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdG9wdGlvbiA9IG9wdGlvbnNbIGkgXTtcblxuXHRcdFx0XHRcdC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbmQtYXNzaWduICovXG5cblx0XHRcdFx0XHRpZiAoIG9wdGlvbi5zZWxlY3RlZCA9XG5cdFx0XHRcdFx0XHRqUXVlcnkuaW5BcnJheSggalF1ZXJ5LnZhbEhvb2tzLm9wdGlvbi5nZXQoIG9wdGlvbiApLCB2YWx1ZXMgKSA+IC0xXG5cdFx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0XHRvcHRpb25TZXQgPSB0cnVlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8qIGVzbGludC1lbmFibGUgbm8tY29uZC1hc3NpZ24gKi9cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEZvcmNlIGJyb3dzZXJzIHRvIGJlaGF2ZSBjb25zaXN0ZW50bHkgd2hlbiBub24tbWF0Y2hpbmcgdmFsdWUgaXMgc2V0XG5cdFx0XHRcdGlmICggIW9wdGlvblNldCApIHtcblx0XHRcdFx0XHRlbGVtLnNlbGVjdGVkSW5kZXggPSAtMTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdmFsdWVzO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufSApO1xuXG4vLyBSYWRpb3MgYW5kIGNoZWNrYm94ZXMgZ2V0dGVyL3NldHRlclxualF1ZXJ5LmVhY2goIFsgXCJyYWRpb1wiLCBcImNoZWNrYm94XCIgXSwgZnVuY3Rpb24oKSB7XG5cdGpRdWVyeS52YWxIb29rc1sgdGhpcyBdID0ge1xuXHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xuXHRcdFx0aWYgKCBBcnJheS5pc0FycmF5KCB2YWx1ZSApICkge1xuXHRcdFx0XHRyZXR1cm4gKCBlbGVtLmNoZWNrZWQgPSBqUXVlcnkuaW5BcnJheSggalF1ZXJ5KCBlbGVtICkudmFsKCksIHZhbHVlICkgPiAtMSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0aWYgKCAhc3VwcG9ydC5jaGVja09uICkge1xuXHRcdGpRdWVyeS52YWxIb29rc1sgdGhpcyBdLmdldCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlKCBcInZhbHVlXCIgKSA9PT0gbnVsbCA/IFwib25cIiA6IGVsZW0udmFsdWU7XG5cdFx0fTtcblx0fVxufSApO1xuXG5cblxuXG4vLyBSZXR1cm4galF1ZXJ5IGZvciBhdHRyaWJ1dGVzLW9ubHkgaW5jbHVzaW9uXG52YXIgbG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb247XG5cbnZhciBub25jZSA9IHsgZ3VpZDogRGF0ZS5ub3coKSB9O1xuXG52YXIgcnF1ZXJ5ID0gKCAvXFw/LyApO1xuXG5cblxuLy8gQ3Jvc3MtYnJvd3NlciB4bWwgcGFyc2luZ1xualF1ZXJ5LnBhcnNlWE1MID0gZnVuY3Rpb24oIGRhdGEgKSB7XG5cdHZhciB4bWwsIHBhcnNlckVycm9yRWxlbTtcblx0aWYgKCAhZGF0YSB8fCB0eXBlb2YgZGF0YSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdC8vIFN1cHBvcnQ6IElFIDkgLSAxMSBvbmx5XG5cdC8vIElFIHRocm93cyBvbiBwYXJzZUZyb21TdHJpbmcgd2l0aCBpbnZhbGlkIGlucHV0LlxuXHR0cnkge1xuXHRcdHhtbCA9ICggbmV3IHdpbmRvdy5ET01QYXJzZXIoKSApLnBhcnNlRnJvbVN0cmluZyggZGF0YSwgXCJ0ZXh0L3htbFwiICk7XG5cdH0gY2F0Y2ggKCBlICkge31cblxuXHRwYXJzZXJFcnJvckVsZW0gPSB4bWwgJiYgeG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCBcInBhcnNlcmVycm9yXCIgKVsgMCBdO1xuXHRpZiAoICF4bWwgfHwgcGFyc2VyRXJyb3JFbGVtICkge1xuXHRcdGpRdWVyeS5lcnJvciggXCJJbnZhbGlkIFhNTDogXCIgKyAoXG5cdFx0XHRwYXJzZXJFcnJvckVsZW0gP1xuXHRcdFx0XHRqUXVlcnkubWFwKCBwYXJzZXJFcnJvckVsZW0uY2hpbGROb2RlcywgZnVuY3Rpb24oIGVsICkge1xuXHRcdFx0XHRcdHJldHVybiBlbC50ZXh0Q29udGVudDtcblx0XHRcdFx0fSApLmpvaW4oIFwiXFxuXCIgKSA6XG5cdFx0XHRcdGRhdGFcblx0XHQpICk7XG5cdH1cblx0cmV0dXJuIHhtbDtcbn07XG5cblxudmFyIHJmb2N1c01vcnBoID0gL14oPzpmb2N1c2luZm9jdXN8Zm9jdXNvdXRibHVyKSQvLFxuXHRzdG9wUHJvcGFnYXRpb25DYWxsYmFjayA9IGZ1bmN0aW9uKCBlICkge1xuXHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdH07XG5cbmpRdWVyeS5leHRlbmQoIGpRdWVyeS5ldmVudCwge1xuXG5cdHRyaWdnZXI6IGZ1bmN0aW9uKCBldmVudCwgZGF0YSwgZWxlbSwgb25seUhhbmRsZXJzICkge1xuXG5cdFx0dmFyIGksIGN1ciwgdG1wLCBidWJibGVUeXBlLCBvbnR5cGUsIGhhbmRsZSwgc3BlY2lhbCwgbGFzdEVsZW1lbnQsXG5cdFx0XHRldmVudFBhdGggPSBbIGVsZW0gfHwgZG9jdW1lbnQgXSxcblx0XHRcdHR5cGUgPSBoYXNPd24uY2FsbCggZXZlbnQsIFwidHlwZVwiICkgPyBldmVudC50eXBlIDogZXZlbnQsXG5cdFx0XHRuYW1lc3BhY2VzID0gaGFzT3duLmNhbGwoIGV2ZW50LCBcIm5hbWVzcGFjZVwiICkgPyBldmVudC5uYW1lc3BhY2Uuc3BsaXQoIFwiLlwiICkgOiBbXTtcblxuXHRcdGN1ciA9IGxhc3RFbGVtZW50ID0gdG1wID0gZWxlbSA9IGVsZW0gfHwgZG9jdW1lbnQ7XG5cblx0XHQvLyBEb24ndCBkbyBldmVudHMgb24gdGV4dCBhbmQgY29tbWVudCBub2Rlc1xuXHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMyB8fCBlbGVtLm5vZGVUeXBlID09PSA4ICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIGZvY3VzL2JsdXIgbW9ycGhzIHRvIGZvY3VzaW4vb3V0OyBlbnN1cmUgd2UncmUgbm90IGZpcmluZyB0aGVtIHJpZ2h0IG5vd1xuXHRcdGlmICggcmZvY3VzTW9ycGgudGVzdCggdHlwZSArIGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgKSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIHR5cGUuaW5kZXhPZiggXCIuXCIgKSA+IC0xICkge1xuXG5cdFx0XHQvLyBOYW1lc3BhY2VkIHRyaWdnZXI7IGNyZWF0ZSBhIHJlZ2V4cCB0byBtYXRjaCBldmVudCB0eXBlIGluIGhhbmRsZSgpXG5cdFx0XHRuYW1lc3BhY2VzID0gdHlwZS5zcGxpdCggXCIuXCIgKTtcblx0XHRcdHR5cGUgPSBuYW1lc3BhY2VzLnNoaWZ0KCk7XG5cdFx0XHRuYW1lc3BhY2VzLnNvcnQoKTtcblx0XHR9XG5cdFx0b250eXBlID0gdHlwZS5pbmRleE9mKCBcIjpcIiApIDwgMCAmJiBcIm9uXCIgKyB0eXBlO1xuXG5cdFx0Ly8gQ2FsbGVyIGNhbiBwYXNzIGluIGEgalF1ZXJ5LkV2ZW50IG9iamVjdCwgT2JqZWN0LCBvciBqdXN0IGFuIGV2ZW50IHR5cGUgc3RyaW5nXG5cdFx0ZXZlbnQgPSBldmVudFsgalF1ZXJ5LmV4cGFuZG8gXSA/XG5cdFx0XHRldmVudCA6XG5cdFx0XHRuZXcgalF1ZXJ5LkV2ZW50KCB0eXBlLCB0eXBlb2YgZXZlbnQgPT09IFwib2JqZWN0XCIgJiYgZXZlbnQgKTtcblxuXHRcdC8vIFRyaWdnZXIgYml0bWFzazogJiAxIGZvciBuYXRpdmUgaGFuZGxlcnM7ICYgMiBmb3IgalF1ZXJ5IChhbHdheXMgdHJ1ZSlcblx0XHRldmVudC5pc1RyaWdnZXIgPSBvbmx5SGFuZGxlcnMgPyAyIDogMztcblx0XHRldmVudC5uYW1lc3BhY2UgPSBuYW1lc3BhY2VzLmpvaW4oIFwiLlwiICk7XG5cdFx0ZXZlbnQucm5hbWVzcGFjZSA9IGV2ZW50Lm5hbWVzcGFjZSA/XG5cdFx0XHRuZXcgUmVnRXhwKCBcIihefFxcXFwuKVwiICsgbmFtZXNwYWNlcy5qb2luKCBcIlxcXFwuKD86LipcXFxcLnwpXCIgKSArIFwiKFxcXFwufCQpXCIgKSA6XG5cdFx0XHRudWxsO1xuXG5cdFx0Ly8gQ2xlYW4gdXAgdGhlIGV2ZW50IGluIGNhc2UgaXQgaXMgYmVpbmcgcmV1c2VkXG5cdFx0ZXZlbnQucmVzdWx0ID0gdW5kZWZpbmVkO1xuXHRcdGlmICggIWV2ZW50LnRhcmdldCApIHtcblx0XHRcdGV2ZW50LnRhcmdldCA9IGVsZW07XG5cdFx0fVxuXG5cdFx0Ly8gQ2xvbmUgYW55IGluY29taW5nIGRhdGEgYW5kIHByZXBlbmQgdGhlIGV2ZW50LCBjcmVhdGluZyB0aGUgaGFuZGxlciBhcmcgbGlzdFxuXHRcdGRhdGEgPSBkYXRhID09IG51bGwgP1xuXHRcdFx0WyBldmVudCBdIDpcblx0XHRcdGpRdWVyeS5tYWtlQXJyYXkoIGRhdGEsIFsgZXZlbnQgXSApO1xuXG5cdFx0Ly8gQWxsb3cgc3BlY2lhbCBldmVudHMgdG8gZHJhdyBvdXRzaWRlIHRoZSBsaW5lc1xuXHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9O1xuXHRcdGlmICggIW9ubHlIYW5kbGVycyAmJiBzcGVjaWFsLnRyaWdnZXIgJiYgc3BlY2lhbC50cmlnZ2VyLmFwcGx5KCBlbGVtLCBkYXRhICkgPT09IGZhbHNlICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIERldGVybWluZSBldmVudCBwcm9wYWdhdGlvbiBwYXRoIGluIGFkdmFuY2UsIHBlciBXM0MgZXZlbnRzIHNwZWMgKHRyYWMtOTk1MSlcblx0XHQvLyBCdWJibGUgdXAgdG8gZG9jdW1lbnQsIHRoZW4gdG8gd2luZG93OyB3YXRjaCBmb3IgYSBnbG9iYWwgb3duZXJEb2N1bWVudCB2YXIgKHRyYWMtOTcyNClcblx0XHRpZiAoICFvbmx5SGFuZGxlcnMgJiYgIXNwZWNpYWwubm9CdWJibGUgJiYgIWlzV2luZG93KCBlbGVtICkgKSB7XG5cblx0XHRcdGJ1YmJsZVR5cGUgPSBzcGVjaWFsLmRlbGVnYXRlVHlwZSB8fCB0eXBlO1xuXHRcdFx0aWYgKCAhcmZvY3VzTW9ycGgudGVzdCggYnViYmxlVHlwZSArIHR5cGUgKSApIHtcblx0XHRcdFx0Y3VyID0gY3VyLnBhcmVudE5vZGU7XG5cdFx0XHR9XG5cdFx0XHRmb3IgKCA7IGN1cjsgY3VyID0gY3VyLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdGV2ZW50UGF0aC5wdXNoKCBjdXIgKTtcblx0XHRcdFx0dG1wID0gY3VyO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBPbmx5IGFkZCB3aW5kb3cgaWYgd2UgZ290IHRvIGRvY3VtZW50IChlLmcuLCBub3QgcGxhaW4gb2JqIG9yIGRldGFjaGVkIERPTSlcblx0XHRcdGlmICggdG1wID09PSAoIGVsZW0ub3duZXJEb2N1bWVudCB8fCBkb2N1bWVudCApICkge1xuXHRcdFx0XHRldmVudFBhdGgucHVzaCggdG1wLmRlZmF1bHRWaWV3IHx8IHRtcC5wYXJlbnRXaW5kb3cgfHwgd2luZG93ICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gRmlyZSBoYW5kbGVycyBvbiB0aGUgZXZlbnQgcGF0aFxuXHRcdGkgPSAwO1xuXHRcdHdoaWxlICggKCBjdXIgPSBldmVudFBhdGhbIGkrKyBdICkgJiYgIWV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7XG5cdFx0XHRsYXN0RWxlbWVudCA9IGN1cjtcblx0XHRcdGV2ZW50LnR5cGUgPSBpID4gMSA/XG5cdFx0XHRcdGJ1YmJsZVR5cGUgOlxuXHRcdFx0XHRzcGVjaWFsLmJpbmRUeXBlIHx8IHR5cGU7XG5cblx0XHRcdC8vIGpRdWVyeSBoYW5kbGVyXG5cdFx0XHRoYW5kbGUgPSAoIGRhdGFQcml2LmdldCggY3VyLCBcImV2ZW50c1wiICkgfHwgT2JqZWN0LmNyZWF0ZSggbnVsbCApIClbIGV2ZW50LnR5cGUgXSAmJlxuXHRcdFx0XHRkYXRhUHJpdi5nZXQoIGN1ciwgXCJoYW5kbGVcIiApO1xuXHRcdFx0aWYgKCBoYW5kbGUgKSB7XG5cdFx0XHRcdGhhbmRsZS5hcHBseSggY3VyLCBkYXRhICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE5hdGl2ZSBoYW5kbGVyXG5cdFx0XHRoYW5kbGUgPSBvbnR5cGUgJiYgY3VyWyBvbnR5cGUgXTtcblx0XHRcdGlmICggaGFuZGxlICYmIGhhbmRsZS5hcHBseSAmJiBhY2NlcHREYXRhKCBjdXIgKSApIHtcblx0XHRcdFx0ZXZlbnQucmVzdWx0ID0gaGFuZGxlLmFwcGx5KCBjdXIsIGRhdGEgKTtcblx0XHRcdFx0aWYgKCBldmVudC5yZXN1bHQgPT09IGZhbHNlICkge1xuXHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0ZXZlbnQudHlwZSA9IHR5cGU7XG5cblx0XHQvLyBJZiBub2JvZHkgcHJldmVudGVkIHRoZSBkZWZhdWx0IGFjdGlvbiwgZG8gaXQgbm93XG5cdFx0aWYgKCAhb25seUhhbmRsZXJzICYmICFldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSApIHtcblxuXHRcdFx0aWYgKCAoICFzcGVjaWFsLl9kZWZhdWx0IHx8XG5cdFx0XHRcdHNwZWNpYWwuX2RlZmF1bHQuYXBwbHkoIGV2ZW50UGF0aC5wb3AoKSwgZGF0YSApID09PSBmYWxzZSApICYmXG5cdFx0XHRcdGFjY2VwdERhdGEoIGVsZW0gKSApIHtcblxuXHRcdFx0XHQvLyBDYWxsIGEgbmF0aXZlIERPTSBtZXRob2Qgb24gdGhlIHRhcmdldCB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgdGhlIGV2ZW50LlxuXHRcdFx0XHQvLyBEb24ndCBkbyBkZWZhdWx0IGFjdGlvbnMgb24gd2luZG93LCB0aGF0J3Mgd2hlcmUgZ2xvYmFsIHZhcmlhYmxlcyBiZSAodHJhYy02MTcwKVxuXHRcdFx0XHRpZiAoIG9udHlwZSAmJiBpc0Z1bmN0aW9uKCBlbGVtWyB0eXBlIF0gKSAmJiAhaXNXaW5kb3coIGVsZW0gKSApIHtcblxuXHRcdFx0XHRcdC8vIERvbid0IHJlLXRyaWdnZXIgYW4gb25GT08gZXZlbnQgd2hlbiB3ZSBjYWxsIGl0cyBGT08oKSBtZXRob2Rcblx0XHRcdFx0XHR0bXAgPSBlbGVtWyBvbnR5cGUgXTtcblxuXHRcdFx0XHRcdGlmICggdG1wICkge1xuXHRcdFx0XHRcdFx0ZWxlbVsgb250eXBlIF0gPSBudWxsO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIFByZXZlbnQgcmUtdHJpZ2dlcmluZyBvZiB0aGUgc2FtZSBldmVudCwgc2luY2Ugd2UgYWxyZWFkeSBidWJibGVkIGl0IGFib3ZlXG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXJlZCA9IHR5cGU7XG5cblx0XHRcdFx0XHRpZiAoIGV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7XG5cdFx0XHRcdFx0XHRsYXN0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCB0eXBlLCBzdG9wUHJvcGFnYXRpb25DYWxsYmFjayApO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGVsZW1bIHR5cGUgXSgpO1xuXG5cdFx0XHRcdFx0aWYgKCBldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpICkge1xuXHRcdFx0XHRcdFx0bGFzdEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggdHlwZSwgc3RvcFByb3BhZ2F0aW9uQ2FsbGJhY2sgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlcmVkID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdFx0aWYgKCB0bXAgKSB7XG5cdFx0XHRcdFx0XHRlbGVtWyBvbnR5cGUgXSA9IHRtcDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gZXZlbnQucmVzdWx0O1xuXHR9LFxuXG5cdC8vIFBpZ2d5YmFjayBvbiBhIGRvbm9yIGV2ZW50IHRvIHNpbXVsYXRlIGEgZGlmZmVyZW50IG9uZVxuXHQvLyBVc2VkIG9ubHkgZm9yIGBmb2N1cyhpbiB8IG91dClgIGV2ZW50c1xuXHRzaW11bGF0ZTogZnVuY3Rpb24oIHR5cGUsIGVsZW0sIGV2ZW50ICkge1xuXHRcdHZhciBlID0galF1ZXJ5LmV4dGVuZChcblx0XHRcdG5ldyBqUXVlcnkuRXZlbnQoKSxcblx0XHRcdGV2ZW50LFxuXHRcdFx0e1xuXHRcdFx0XHR0eXBlOiB0eXBlLFxuXHRcdFx0XHRpc1NpbXVsYXRlZDogdHJ1ZVxuXHRcdFx0fVxuXHRcdCk7XG5cblx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlciggZSwgbnVsbCwgZWxlbSApO1xuXHR9XG5cbn0gKTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXG5cdHRyaWdnZXI6IGZ1bmN0aW9uKCB0eXBlLCBkYXRhICkge1xuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXIoIHR5cGUsIGRhdGEsIHRoaXMgKTtcblx0XHR9ICk7XG5cdH0sXG5cdHRyaWdnZXJIYW5kbGVyOiBmdW5jdGlvbiggdHlwZSwgZGF0YSApIHtcblx0XHR2YXIgZWxlbSA9IHRoaXNbIDAgXTtcblx0XHRpZiAoIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LmV2ZW50LnRyaWdnZXIoIHR5cGUsIGRhdGEsIGVsZW0sIHRydWUgKTtcblx0XHR9XG5cdH1cbn0gKTtcblxuXG52YXJcblx0cmJyYWNrZXQgPSAvXFxbXFxdJC8sXG5cdHJDUkxGID0gL1xccj9cXG4vZyxcblx0cnN1Ym1pdHRlclR5cGVzID0gL14oPzpzdWJtaXR8YnV0dG9ufGltYWdlfHJlc2V0fGZpbGUpJC9pLFxuXHRyc3VibWl0dGFibGUgPSAvXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxrZXlnZW4pL2k7XG5cbmZ1bmN0aW9uIGJ1aWxkUGFyYW1zKCBwcmVmaXgsIG9iaiwgdHJhZGl0aW9uYWwsIGFkZCApIHtcblx0dmFyIG5hbWU7XG5cblx0aWYgKCBBcnJheS5pc0FycmF5KCBvYmogKSApIHtcblxuXHRcdC8vIFNlcmlhbGl6ZSBhcnJheSBpdGVtLlxuXHRcdGpRdWVyeS5lYWNoKCBvYmosIGZ1bmN0aW9uKCBpLCB2ICkge1xuXHRcdFx0aWYgKCB0cmFkaXRpb25hbCB8fCByYnJhY2tldC50ZXN0KCBwcmVmaXggKSApIHtcblxuXHRcdFx0XHQvLyBUcmVhdCBlYWNoIGFycmF5IGl0ZW0gYXMgYSBzY2FsYXIuXG5cdFx0XHRcdGFkZCggcHJlZml4LCB2ICk7XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0Ly8gSXRlbSBpcyBub24tc2NhbGFyIChhcnJheSBvciBvYmplY3QpLCBlbmNvZGUgaXRzIG51bWVyaWMgaW5kZXguXG5cdFx0XHRcdGJ1aWxkUGFyYW1zKFxuXHRcdFx0XHRcdHByZWZpeCArIFwiW1wiICsgKCB0eXBlb2YgdiA9PT0gXCJvYmplY3RcIiAmJiB2ICE9IG51bGwgPyBpIDogXCJcIiApICsgXCJdXCIsXG5cdFx0XHRcdFx0dixcblx0XHRcdFx0XHR0cmFkaXRpb25hbCxcblx0XHRcdFx0XHRhZGRcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9ICk7XG5cblx0fSBlbHNlIGlmICggIXRyYWRpdGlvbmFsICYmIHRvVHlwZSggb2JqICkgPT09IFwib2JqZWN0XCIgKSB7XG5cblx0XHQvLyBTZXJpYWxpemUgb2JqZWN0IGl0ZW0uXG5cdFx0Zm9yICggbmFtZSBpbiBvYmogKSB7XG5cdFx0XHRidWlsZFBhcmFtcyggcHJlZml4ICsgXCJbXCIgKyBuYW1lICsgXCJdXCIsIG9ialsgbmFtZSBdLCB0cmFkaXRpb25hbCwgYWRkICk7XG5cdFx0fVxuXG5cdH0gZWxzZSB7XG5cblx0XHQvLyBTZXJpYWxpemUgc2NhbGFyIGl0ZW0uXG5cdFx0YWRkKCBwcmVmaXgsIG9iaiApO1xuXHR9XG59XG5cbi8vIFNlcmlhbGl6ZSBhbiBhcnJheSBvZiBmb3JtIGVsZW1lbnRzIG9yIGEgc2V0IG9mXG4vLyBrZXkvdmFsdWVzIGludG8gYSBxdWVyeSBzdHJpbmdcbmpRdWVyeS5wYXJhbSA9IGZ1bmN0aW9uKCBhLCB0cmFkaXRpb25hbCApIHtcblx0dmFyIHByZWZpeCxcblx0XHRzID0gW10sXG5cdFx0YWRkID0gZnVuY3Rpb24oIGtleSwgdmFsdWVPckZ1bmN0aW9uICkge1xuXG5cdFx0XHQvLyBJZiB2YWx1ZSBpcyBhIGZ1bmN0aW9uLCBpbnZva2UgaXQgYW5kIHVzZSBpdHMgcmV0dXJuIHZhbHVlXG5cdFx0XHR2YXIgdmFsdWUgPSBpc0Z1bmN0aW9uKCB2YWx1ZU9yRnVuY3Rpb24gKSA/XG5cdFx0XHRcdHZhbHVlT3JGdW5jdGlvbigpIDpcblx0XHRcdFx0dmFsdWVPckZ1bmN0aW9uO1xuXG5cdFx0XHRzWyBzLmxlbmd0aCBdID0gZW5jb2RlVVJJQ29tcG9uZW50KCBrZXkgKSArIFwiPVwiICtcblx0XHRcdFx0ZW5jb2RlVVJJQ29tcG9uZW50KCB2YWx1ZSA9PSBudWxsID8gXCJcIiA6IHZhbHVlICk7XG5cdFx0fTtcblxuXHRpZiAoIGEgPT0gbnVsbCApIHtcblx0XHRyZXR1cm4gXCJcIjtcblx0fVxuXG5cdC8vIElmIGFuIGFycmF5IHdhcyBwYXNzZWQgaW4sIGFzc3VtZSB0aGF0IGl0IGlzIGFuIGFycmF5IG9mIGZvcm0gZWxlbWVudHMuXG5cdGlmICggQXJyYXkuaXNBcnJheSggYSApIHx8ICggYS5qcXVlcnkgJiYgIWpRdWVyeS5pc1BsYWluT2JqZWN0KCBhICkgKSApIHtcblxuXHRcdC8vIFNlcmlhbGl6ZSB0aGUgZm9ybSBlbGVtZW50c1xuXHRcdGpRdWVyeS5lYWNoKCBhLCBmdW5jdGlvbigpIHtcblx0XHRcdGFkZCggdGhpcy5uYW1lLCB0aGlzLnZhbHVlICk7XG5cdFx0fSApO1xuXG5cdH0gZWxzZSB7XG5cblx0XHQvLyBJZiB0cmFkaXRpb25hbCwgZW5jb2RlIHRoZSBcIm9sZFwiIHdheSAodGhlIHdheSAxLjMuMiBvciBvbGRlclxuXHRcdC8vIGRpZCBpdCksIG90aGVyd2lzZSBlbmNvZGUgcGFyYW1zIHJlY3Vyc2l2ZWx5LlxuXHRcdGZvciAoIHByZWZpeCBpbiBhICkge1xuXHRcdFx0YnVpbGRQYXJhbXMoIHByZWZpeCwgYVsgcHJlZml4IF0sIHRyYWRpdGlvbmFsLCBhZGQgKTtcblx0XHR9XG5cdH1cblxuXHQvLyBSZXR1cm4gdGhlIHJlc3VsdGluZyBzZXJpYWxpemF0aW9uXG5cdHJldHVybiBzLmpvaW4oIFwiJlwiICk7XG59O1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdHNlcmlhbGl6ZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5wYXJhbSggdGhpcy5zZXJpYWxpemVBcnJheSgpICk7XG5cdH0sXG5cdHNlcmlhbGl6ZUFycmF5OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5tYXAoIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyBDYW4gYWRkIHByb3BIb29rIGZvciBcImVsZW1lbnRzXCIgdG8gZmlsdGVyIG9yIGFkZCBmb3JtIGVsZW1lbnRzXG5cdFx0XHR2YXIgZWxlbWVudHMgPSBqUXVlcnkucHJvcCggdGhpcywgXCJlbGVtZW50c1wiICk7XG5cdFx0XHRyZXR1cm4gZWxlbWVudHMgPyBqUXVlcnkubWFrZUFycmF5KCBlbGVtZW50cyApIDogdGhpcztcblx0XHR9ICkuZmlsdGVyKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciB0eXBlID0gdGhpcy50eXBlO1xuXG5cdFx0XHQvLyBVc2UgLmlzKCBcIjpkaXNhYmxlZFwiICkgc28gdGhhdCBmaWVsZHNldFtkaXNhYmxlZF0gd29ya3Ncblx0XHRcdHJldHVybiB0aGlzLm5hbWUgJiYgIWpRdWVyeSggdGhpcyApLmlzKCBcIjpkaXNhYmxlZFwiICkgJiZcblx0XHRcdFx0cnN1Ym1pdHRhYmxlLnRlc3QoIHRoaXMubm9kZU5hbWUgKSAmJiAhcnN1Ym1pdHRlclR5cGVzLnRlc3QoIHR5cGUgKSAmJlxuXHRcdFx0XHQoIHRoaXMuY2hlY2tlZCB8fCAhcmNoZWNrYWJsZVR5cGUudGVzdCggdHlwZSApICk7XG5cdFx0fSApLm1hcCggZnVuY3Rpb24oIF9pLCBlbGVtICkge1xuXHRcdFx0dmFyIHZhbCA9IGpRdWVyeSggdGhpcyApLnZhbCgpO1xuXG5cdFx0XHRpZiAoIHZhbCA9PSBudWxsICkge1xuXHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBBcnJheS5pc0FycmF5KCB2YWwgKSApIHtcblx0XHRcdFx0cmV0dXJuIGpRdWVyeS5tYXAoIHZhbCwgZnVuY3Rpb24oIHZhbCApIHtcblx0XHRcdFx0XHRyZXR1cm4geyBuYW1lOiBlbGVtLm5hbWUsIHZhbHVlOiB2YWwucmVwbGFjZSggckNSTEYsIFwiXFxyXFxuXCIgKSB9O1xuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB7IG5hbWU6IGVsZW0ubmFtZSwgdmFsdWU6IHZhbC5yZXBsYWNlKCByQ1JMRiwgXCJcXHJcXG5cIiApIH07XG5cdFx0fSApLmdldCgpO1xuXHR9XG59ICk7XG5cblxudmFyXG5cdHIyMCA9IC8lMjAvZyxcblx0cmhhc2ggPSAvIy4qJC8sXG5cdHJhbnRpQ2FjaGUgPSAvKFs/Jl0pXz1bXiZdKi8sXG5cdHJoZWFkZXJzID0gL14oLio/KTpbIFxcdF0qKFteXFxyXFxuXSopJC9tZyxcblxuXHQvLyB0cmFjLTc2NTMsIHRyYWMtODEyNSwgdHJhYy04MTUyOiBsb2NhbCBwcm90b2NvbCBkZXRlY3Rpb25cblx0cmxvY2FsUHJvdG9jb2wgPSAvXig/OmFib3V0fGFwcHxhcHAtc3RvcmFnZXwuKy1leHRlbnNpb258ZmlsZXxyZXN8d2lkZ2V0KTokLyxcblx0cm5vQ29udGVudCA9IC9eKD86R0VUfEhFQUQpJC8sXG5cdHJwcm90b2NvbCA9IC9eXFwvXFwvLyxcblxuXHQvKiBQcmVmaWx0ZXJzXG5cdCAqIDEpIFRoZXkgYXJlIHVzZWZ1bCB0byBpbnRyb2R1Y2UgY3VzdG9tIGRhdGFUeXBlcyAoc2VlIGFqYXgvanNvbnAuanMgZm9yIGFuIGV4YW1wbGUpXG5cdCAqIDIpIFRoZXNlIGFyZSBjYWxsZWQ6XG5cdCAqICAgIC0gQkVGT1JFIGFza2luZyBmb3IgYSB0cmFuc3BvcnRcblx0ICogICAgLSBBRlRFUiBwYXJhbSBzZXJpYWxpemF0aW9uIChzLmRhdGEgaXMgYSBzdHJpbmcgaWYgcy5wcm9jZXNzRGF0YSBpcyB0cnVlKVxuXHQgKiAzKSBrZXkgaXMgdGhlIGRhdGFUeXBlXG5cdCAqIDQpIHRoZSBjYXRjaGFsbCBzeW1ib2wgXCIqXCIgY2FuIGJlIHVzZWRcblx0ICogNSkgZXhlY3V0aW9uIHdpbGwgc3RhcnQgd2l0aCB0cmFuc3BvcnQgZGF0YVR5cGUgYW5kIFRIRU4gY29udGludWUgZG93biB0byBcIipcIiBpZiBuZWVkZWRcblx0ICovXG5cdHByZWZpbHRlcnMgPSB7fSxcblxuXHQvKiBUcmFuc3BvcnRzIGJpbmRpbmdzXG5cdCAqIDEpIGtleSBpcyB0aGUgZGF0YVR5cGVcblx0ICogMikgdGhlIGNhdGNoYWxsIHN5bWJvbCBcIipcIiBjYW4gYmUgdXNlZFxuXHQgKiAzKSBzZWxlY3Rpb24gd2lsbCBzdGFydCB3aXRoIHRyYW5zcG9ydCBkYXRhVHlwZSBhbmQgVEhFTiBnbyB0byBcIipcIiBpZiBuZWVkZWRcblx0ICovXG5cdHRyYW5zcG9ydHMgPSB7fSxcblxuXHQvLyBBdm9pZCBjb21tZW50LXByb2xvZyBjaGFyIHNlcXVlbmNlICh0cmFjLTEwMDk4KTsgbXVzdCBhcHBlYXNlIGxpbnQgYW5kIGV2YWRlIGNvbXByZXNzaW9uXG5cdGFsbFR5cGVzID0gXCIqL1wiLmNvbmNhdCggXCIqXCIgKSxcblxuXHQvLyBBbmNob3IgdGFnIGZvciBwYXJzaW5nIHRoZSBkb2N1bWVudCBvcmlnaW5cblx0b3JpZ2luQW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJhXCIgKTtcblxub3JpZ2luQW5jaG9yLmhyZWYgPSBsb2NhdGlvbi5ocmVmO1xuXG4vLyBCYXNlIFwiY29uc3RydWN0b3JcIiBmb3IgalF1ZXJ5LmFqYXhQcmVmaWx0ZXIgYW5kIGpRdWVyeS5hamF4VHJhbnNwb3J0XG5mdW5jdGlvbiBhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHN0cnVjdHVyZSApIHtcblxuXHQvLyBkYXRhVHlwZUV4cHJlc3Npb24gaXMgb3B0aW9uYWwgYW5kIGRlZmF1bHRzIHRvIFwiKlwiXG5cdHJldHVybiBmdW5jdGlvbiggZGF0YVR5cGVFeHByZXNzaW9uLCBmdW5jICkge1xuXG5cdFx0aWYgKCB0eXBlb2YgZGF0YVR5cGVFeHByZXNzaW9uICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0ZnVuYyA9IGRhdGFUeXBlRXhwcmVzc2lvbjtcblx0XHRcdGRhdGFUeXBlRXhwcmVzc2lvbiA9IFwiKlwiO1xuXHRcdH1cblxuXHRcdHZhciBkYXRhVHlwZSxcblx0XHRcdGkgPSAwLFxuXHRcdFx0ZGF0YVR5cGVzID0gZGF0YVR5cGVFeHByZXNzaW9uLnRvTG93ZXJDYXNlKCkubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbXTtcblxuXHRcdGlmICggaXNGdW5jdGlvbiggZnVuYyApICkge1xuXG5cdFx0XHQvLyBGb3IgZWFjaCBkYXRhVHlwZSBpbiB0aGUgZGF0YVR5cGVFeHByZXNzaW9uXG5cdFx0XHR3aGlsZSAoICggZGF0YVR5cGUgPSBkYXRhVHlwZXNbIGkrKyBdICkgKSB7XG5cblx0XHRcdFx0Ly8gUHJlcGVuZCBpZiByZXF1ZXN0ZWRcblx0XHRcdFx0aWYgKCBkYXRhVHlwZVsgMCBdID09PSBcIitcIiApIHtcblx0XHRcdFx0XHRkYXRhVHlwZSA9IGRhdGFUeXBlLnNsaWNlKCAxICkgfHwgXCIqXCI7XG5cdFx0XHRcdFx0KCBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gPSBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gfHwgW10gKS51bnNoaWZ0KCBmdW5jICk7XG5cblx0XHRcdFx0Ly8gT3RoZXJ3aXNlIGFwcGVuZFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdCggc3RydWN0dXJlWyBkYXRhVHlwZSBdID0gc3RydWN0dXJlWyBkYXRhVHlwZSBdIHx8IFtdICkucHVzaCggZnVuYyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG4vLyBCYXNlIGluc3BlY3Rpb24gZnVuY3Rpb24gZm9yIHByZWZpbHRlcnMgYW5kIHRyYW5zcG9ydHNcbmZ1bmN0aW9uIGluc3BlY3RQcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCBzdHJ1Y3R1cmUsIG9wdGlvbnMsIG9yaWdpbmFsT3B0aW9ucywganFYSFIgKSB7XG5cblx0dmFyIGluc3BlY3RlZCA9IHt9LFxuXHRcdHNlZWtpbmdUcmFuc3BvcnQgPSAoIHN0cnVjdHVyZSA9PT0gdHJhbnNwb3J0cyApO1xuXG5cdGZ1bmN0aW9uIGluc3BlY3QoIGRhdGFUeXBlICkge1xuXHRcdHZhciBzZWxlY3RlZDtcblx0XHRpbnNwZWN0ZWRbIGRhdGFUeXBlIF0gPSB0cnVlO1xuXHRcdGpRdWVyeS5lYWNoKCBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gfHwgW10sIGZ1bmN0aW9uKCBfLCBwcmVmaWx0ZXJPckZhY3RvcnkgKSB7XG5cdFx0XHR2YXIgZGF0YVR5cGVPclRyYW5zcG9ydCA9IHByZWZpbHRlck9yRmFjdG9yeSggb3B0aW9ucywgb3JpZ2luYWxPcHRpb25zLCBqcVhIUiApO1xuXHRcdFx0aWYgKCB0eXBlb2YgZGF0YVR5cGVPclRyYW5zcG9ydCA9PT0gXCJzdHJpbmdcIiAmJlxuXHRcdFx0XHQhc2Vla2luZ1RyYW5zcG9ydCAmJiAhaW5zcGVjdGVkWyBkYXRhVHlwZU9yVHJhbnNwb3J0IF0gKSB7XG5cblx0XHRcdFx0b3B0aW9ucy5kYXRhVHlwZXMudW5zaGlmdCggZGF0YVR5cGVPclRyYW5zcG9ydCApO1xuXHRcdFx0XHRpbnNwZWN0KCBkYXRhVHlwZU9yVHJhbnNwb3J0ICk7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH0gZWxzZSBpZiAoIHNlZWtpbmdUcmFuc3BvcnQgKSB7XG5cdFx0XHRcdHJldHVybiAhKCBzZWxlY3RlZCA9IGRhdGFUeXBlT3JUcmFuc3BvcnQgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdFx0cmV0dXJuIHNlbGVjdGVkO1xuXHR9XG5cblx0cmV0dXJuIGluc3BlY3QoIG9wdGlvbnMuZGF0YVR5cGVzWyAwIF0gKSB8fCAhaW5zcGVjdGVkWyBcIipcIiBdICYmIGluc3BlY3QoIFwiKlwiICk7XG59XG5cbi8vIEEgc3BlY2lhbCBleHRlbmQgZm9yIGFqYXggb3B0aW9uc1xuLy8gdGhhdCB0YWtlcyBcImZsYXRcIiBvcHRpb25zIChub3QgdG8gYmUgZGVlcCBleHRlbmRlZClcbi8vIEZpeGVzIHRyYWMtOTg4N1xuZnVuY3Rpb24gYWpheEV4dGVuZCggdGFyZ2V0LCBzcmMgKSB7XG5cdHZhciBrZXksIGRlZXAsXG5cdFx0ZmxhdE9wdGlvbnMgPSBqUXVlcnkuYWpheFNldHRpbmdzLmZsYXRPcHRpb25zIHx8IHt9O1xuXG5cdGZvciAoIGtleSBpbiBzcmMgKSB7XG5cdFx0aWYgKCBzcmNbIGtleSBdICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHQoIGZsYXRPcHRpb25zWyBrZXkgXSA/IHRhcmdldCA6ICggZGVlcCB8fCAoIGRlZXAgPSB7fSApICkgKVsga2V5IF0gPSBzcmNbIGtleSBdO1xuXHRcdH1cblx0fVxuXHRpZiAoIGRlZXAgKSB7XG5cdFx0alF1ZXJ5LmV4dGVuZCggdHJ1ZSwgdGFyZ2V0LCBkZWVwICk7XG5cdH1cblxuXHRyZXR1cm4gdGFyZ2V0O1xufVxuXG4vKiBIYW5kbGVzIHJlc3BvbnNlcyB0byBhbiBhamF4IHJlcXVlc3Q6XG4gKiAtIGZpbmRzIHRoZSByaWdodCBkYXRhVHlwZSAobWVkaWF0ZXMgYmV0d2VlbiBjb250ZW50LXR5cGUgYW5kIGV4cGVjdGVkIGRhdGFUeXBlKVxuICogLSByZXR1cm5zIHRoZSBjb3JyZXNwb25kaW5nIHJlc3BvbnNlXG4gKi9cbmZ1bmN0aW9uIGFqYXhIYW5kbGVSZXNwb25zZXMoIHMsIGpxWEhSLCByZXNwb25zZXMgKSB7XG5cblx0dmFyIGN0LCB0eXBlLCBmaW5hbERhdGFUeXBlLCBmaXJzdERhdGFUeXBlLFxuXHRcdGNvbnRlbnRzID0gcy5jb250ZW50cyxcblx0XHRkYXRhVHlwZXMgPSBzLmRhdGFUeXBlcztcblxuXHQvLyBSZW1vdmUgYXV0byBkYXRhVHlwZSBhbmQgZ2V0IGNvbnRlbnQtdHlwZSBpbiB0aGUgcHJvY2Vzc1xuXHR3aGlsZSAoIGRhdGFUeXBlc1sgMCBdID09PSBcIipcIiApIHtcblx0XHRkYXRhVHlwZXMuc2hpZnQoKTtcblx0XHRpZiAoIGN0ID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRjdCA9IHMubWltZVR5cGUgfHwganFYSFIuZ2V0UmVzcG9uc2VIZWFkZXIoIFwiQ29udGVudC1UeXBlXCIgKTtcblx0XHR9XG5cdH1cblxuXHQvLyBDaGVjayBpZiB3ZSdyZSBkZWFsaW5nIHdpdGggYSBrbm93biBjb250ZW50LXR5cGVcblx0aWYgKCBjdCApIHtcblx0XHRmb3IgKCB0eXBlIGluIGNvbnRlbnRzICkge1xuXHRcdFx0aWYgKCBjb250ZW50c1sgdHlwZSBdICYmIGNvbnRlbnRzWyB0eXBlIF0udGVzdCggY3QgKSApIHtcblx0XHRcdFx0ZGF0YVR5cGVzLnVuc2hpZnQoIHR5cGUgKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gQ2hlY2sgdG8gc2VlIGlmIHdlIGhhdmUgYSByZXNwb25zZSBmb3IgdGhlIGV4cGVjdGVkIGRhdGFUeXBlXG5cdGlmICggZGF0YVR5cGVzWyAwIF0gaW4gcmVzcG9uc2VzICkge1xuXHRcdGZpbmFsRGF0YVR5cGUgPSBkYXRhVHlwZXNbIDAgXTtcblx0fSBlbHNlIHtcblxuXHRcdC8vIFRyeSBjb252ZXJ0aWJsZSBkYXRhVHlwZXNcblx0XHRmb3IgKCB0eXBlIGluIHJlc3BvbnNlcyApIHtcblx0XHRcdGlmICggIWRhdGFUeXBlc1sgMCBdIHx8IHMuY29udmVydGVyc1sgdHlwZSArIFwiIFwiICsgZGF0YVR5cGVzWyAwIF0gXSApIHtcblx0XHRcdFx0ZmluYWxEYXRhVHlwZSA9IHR5cGU7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCAhZmlyc3REYXRhVHlwZSApIHtcblx0XHRcdFx0Zmlyc3REYXRhVHlwZSA9IHR5cGU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gT3IganVzdCB1c2UgZmlyc3Qgb25lXG5cdFx0ZmluYWxEYXRhVHlwZSA9IGZpbmFsRGF0YVR5cGUgfHwgZmlyc3REYXRhVHlwZTtcblx0fVxuXG5cdC8vIElmIHdlIGZvdW5kIGEgZGF0YVR5cGVcblx0Ly8gV2UgYWRkIHRoZSBkYXRhVHlwZSB0byB0aGUgbGlzdCBpZiBuZWVkZWRcblx0Ly8gYW5kIHJldHVybiB0aGUgY29ycmVzcG9uZGluZyByZXNwb25zZVxuXHRpZiAoIGZpbmFsRGF0YVR5cGUgKSB7XG5cdFx0aWYgKCBmaW5hbERhdGFUeXBlICE9PSBkYXRhVHlwZXNbIDAgXSApIHtcblx0XHRcdGRhdGFUeXBlcy51bnNoaWZ0KCBmaW5hbERhdGFUeXBlICk7XG5cdFx0fVxuXHRcdHJldHVybiByZXNwb25zZXNbIGZpbmFsRGF0YVR5cGUgXTtcblx0fVxufVxuXG4vKiBDaGFpbiBjb252ZXJzaW9ucyBnaXZlbiB0aGUgcmVxdWVzdCBhbmQgdGhlIG9yaWdpbmFsIHJlc3BvbnNlXG4gKiBBbHNvIHNldHMgdGhlIHJlc3BvbnNlWFhYIGZpZWxkcyBvbiB0aGUganFYSFIgaW5zdGFuY2VcbiAqL1xuZnVuY3Rpb24gYWpheENvbnZlcnQoIHMsIHJlc3BvbnNlLCBqcVhIUiwgaXNTdWNjZXNzICkge1xuXHR2YXIgY29udjIsIGN1cnJlbnQsIGNvbnYsIHRtcCwgcHJldixcblx0XHRjb252ZXJ0ZXJzID0ge30sXG5cblx0XHQvLyBXb3JrIHdpdGggYSBjb3B5IG9mIGRhdGFUeXBlcyBpbiBjYXNlIHdlIG5lZWQgdG8gbW9kaWZ5IGl0IGZvciBjb252ZXJzaW9uXG5cdFx0ZGF0YVR5cGVzID0gcy5kYXRhVHlwZXMuc2xpY2UoKTtcblxuXHQvLyBDcmVhdGUgY29udmVydGVycyBtYXAgd2l0aCBsb3dlcmNhc2VkIGtleXNcblx0aWYgKCBkYXRhVHlwZXNbIDEgXSApIHtcblx0XHRmb3IgKCBjb252IGluIHMuY29udmVydGVycyApIHtcblx0XHRcdGNvbnZlcnRlcnNbIGNvbnYudG9Mb3dlckNhc2UoKSBdID0gcy5jb252ZXJ0ZXJzWyBjb252IF07XG5cdFx0fVxuXHR9XG5cblx0Y3VycmVudCA9IGRhdGFUeXBlcy5zaGlmdCgpO1xuXG5cdC8vIENvbnZlcnQgdG8gZWFjaCBzZXF1ZW50aWFsIGRhdGFUeXBlXG5cdHdoaWxlICggY3VycmVudCApIHtcblxuXHRcdGlmICggcy5yZXNwb25zZUZpZWxkc1sgY3VycmVudCBdICkge1xuXHRcdFx0anFYSFJbIHMucmVzcG9uc2VGaWVsZHNbIGN1cnJlbnQgXSBdID0gcmVzcG9uc2U7XG5cdFx0fVxuXG5cdFx0Ly8gQXBwbHkgdGhlIGRhdGFGaWx0ZXIgaWYgcHJvdmlkZWRcblx0XHRpZiAoICFwcmV2ICYmIGlzU3VjY2VzcyAmJiBzLmRhdGFGaWx0ZXIgKSB7XG5cdFx0XHRyZXNwb25zZSA9IHMuZGF0YUZpbHRlciggcmVzcG9uc2UsIHMuZGF0YVR5cGUgKTtcblx0XHR9XG5cblx0XHRwcmV2ID0gY3VycmVudDtcblx0XHRjdXJyZW50ID0gZGF0YVR5cGVzLnNoaWZ0KCk7XG5cblx0XHRpZiAoIGN1cnJlbnQgKSB7XG5cblx0XHRcdC8vIFRoZXJlJ3Mgb25seSB3b3JrIHRvIGRvIGlmIGN1cnJlbnQgZGF0YVR5cGUgaXMgbm9uLWF1dG9cblx0XHRcdGlmICggY3VycmVudCA9PT0gXCIqXCIgKSB7XG5cblx0XHRcdFx0Y3VycmVudCA9IHByZXY7XG5cblx0XHRcdC8vIENvbnZlcnQgcmVzcG9uc2UgaWYgcHJldiBkYXRhVHlwZSBpcyBub24tYXV0byBhbmQgZGlmZmVycyBmcm9tIGN1cnJlbnRcblx0XHRcdH0gZWxzZSBpZiAoIHByZXYgIT09IFwiKlwiICYmIHByZXYgIT09IGN1cnJlbnQgKSB7XG5cblx0XHRcdFx0Ly8gU2VlayBhIGRpcmVjdCBjb252ZXJ0ZXJcblx0XHRcdFx0Y29udiA9IGNvbnZlcnRlcnNbIHByZXYgKyBcIiBcIiArIGN1cnJlbnQgXSB8fCBjb252ZXJ0ZXJzWyBcIiogXCIgKyBjdXJyZW50IF07XG5cblx0XHRcdFx0Ly8gSWYgbm9uZSBmb3VuZCwgc2VlayBhIHBhaXJcblx0XHRcdFx0aWYgKCAhY29udiApIHtcblx0XHRcdFx0XHRmb3IgKCBjb252MiBpbiBjb252ZXJ0ZXJzICkge1xuXG5cdFx0XHRcdFx0XHQvLyBJZiBjb252MiBvdXRwdXRzIGN1cnJlbnRcblx0XHRcdFx0XHRcdHRtcCA9IGNvbnYyLnNwbGl0KCBcIiBcIiApO1xuXHRcdFx0XHRcdFx0aWYgKCB0bXBbIDEgXSA9PT0gY3VycmVudCApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBJZiBwcmV2IGNhbiBiZSBjb252ZXJ0ZWQgdG8gYWNjZXB0ZWQgaW5wdXRcblx0XHRcdFx0XHRcdFx0Y29udiA9IGNvbnZlcnRlcnNbIHByZXYgKyBcIiBcIiArIHRtcFsgMCBdIF0gfHxcblx0XHRcdFx0XHRcdFx0XHRjb252ZXJ0ZXJzWyBcIiogXCIgKyB0bXBbIDAgXSBdO1xuXHRcdFx0XHRcdFx0XHRpZiAoIGNvbnYgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBDb25kZW5zZSBlcXVpdmFsZW5jZSBjb252ZXJ0ZXJzXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBjb252ID09PSB0cnVlICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29udiA9IGNvbnZlcnRlcnNbIGNvbnYyIF07XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBPdGhlcndpc2UsIGluc2VydCB0aGUgaW50ZXJtZWRpYXRlIGRhdGFUeXBlXG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIGlmICggY29udmVydGVyc1sgY29udjIgXSAhPT0gdHJ1ZSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGN1cnJlbnQgPSB0bXBbIDAgXTtcblx0XHRcdFx0XHRcdFx0XHRcdGRhdGFUeXBlcy51bnNoaWZ0KCB0bXBbIDEgXSApO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEFwcGx5IGNvbnZlcnRlciAoaWYgbm90IGFuIGVxdWl2YWxlbmNlKVxuXHRcdFx0XHRpZiAoIGNvbnYgIT09IHRydWUgKSB7XG5cblx0XHRcdFx0XHQvLyBVbmxlc3MgZXJyb3JzIGFyZSBhbGxvd2VkIHRvIGJ1YmJsZSwgY2F0Y2ggYW5kIHJldHVybiB0aGVtXG5cdFx0XHRcdFx0aWYgKCBjb252ICYmIHMudGhyb3dzICkge1xuXHRcdFx0XHRcdFx0cmVzcG9uc2UgPSBjb252KCByZXNwb25zZSApO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRyZXNwb25zZSA9IGNvbnYoIHJlc3BvbnNlICk7XG5cdFx0XHRcdFx0XHR9IGNhdGNoICggZSApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdFx0XHRzdGF0ZTogXCJwYXJzZXJlcnJvclwiLFxuXHRcdFx0XHRcdFx0XHRcdGVycm9yOiBjb252ID8gZSA6IFwiTm8gY29udmVyc2lvbiBmcm9tIFwiICsgcHJldiArIFwiIHRvIFwiICsgY3VycmVudFxuXHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiB7IHN0YXRlOiBcInN1Y2Nlc3NcIiwgZGF0YTogcmVzcG9uc2UgfTtcbn1cblxualF1ZXJ5LmV4dGVuZCgge1xuXG5cdC8vIENvdW50ZXIgZm9yIGhvbGRpbmcgdGhlIG51bWJlciBvZiBhY3RpdmUgcXVlcmllc1xuXHRhY3RpdmU6IDAsXG5cblx0Ly8gTGFzdC1Nb2RpZmllZCBoZWFkZXIgY2FjaGUgZm9yIG5leHQgcmVxdWVzdFxuXHRsYXN0TW9kaWZpZWQ6IHt9LFxuXHRldGFnOiB7fSxcblxuXHRhamF4U2V0dGluZ3M6IHtcblx0XHR1cmw6IGxvY2F0aW9uLmhyZWYsXG5cdFx0dHlwZTogXCJHRVRcIixcblx0XHRpc0xvY2FsOiBybG9jYWxQcm90b2NvbC50ZXN0KCBsb2NhdGlvbi5wcm90b2NvbCApLFxuXHRcdGdsb2JhbDogdHJ1ZSxcblx0XHRwcm9jZXNzRGF0YTogdHJ1ZSxcblx0XHRhc3luYzogdHJ1ZSxcblx0XHRjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLThcIixcblxuXHRcdC8qXG5cdFx0dGltZW91dDogMCxcblx0XHRkYXRhOiBudWxsLFxuXHRcdGRhdGFUeXBlOiBudWxsLFxuXHRcdHVzZXJuYW1lOiBudWxsLFxuXHRcdHBhc3N3b3JkOiBudWxsLFxuXHRcdGNhY2hlOiBudWxsLFxuXHRcdHRocm93czogZmFsc2UsXG5cdFx0dHJhZGl0aW9uYWw6IGZhbHNlLFxuXHRcdGhlYWRlcnM6IHt9LFxuXHRcdCovXG5cblx0XHRhY2NlcHRzOiB7XG5cdFx0XHRcIipcIjogYWxsVHlwZXMsXG5cdFx0XHR0ZXh0OiBcInRleHQvcGxhaW5cIixcblx0XHRcdGh0bWw6IFwidGV4dC9odG1sXCIsXG5cdFx0XHR4bWw6IFwiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbFwiLFxuXHRcdFx0anNvbjogXCJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHRcIlxuXHRcdH0sXG5cblx0XHRjb250ZW50czoge1xuXHRcdFx0eG1sOiAvXFxieG1sXFxiLyxcblx0XHRcdGh0bWw6IC9cXGJodG1sLyxcblx0XHRcdGpzb246IC9cXGJqc29uXFxiL1xuXHRcdH0sXG5cblx0XHRyZXNwb25zZUZpZWxkczoge1xuXHRcdFx0eG1sOiBcInJlc3BvbnNlWE1MXCIsXG5cdFx0XHR0ZXh0OiBcInJlc3BvbnNlVGV4dFwiLFxuXHRcdFx0anNvbjogXCJyZXNwb25zZUpTT05cIlxuXHRcdH0sXG5cblx0XHQvLyBEYXRhIGNvbnZlcnRlcnNcblx0XHQvLyBLZXlzIHNlcGFyYXRlIHNvdXJjZSAob3IgY2F0Y2hhbGwgXCIqXCIpIGFuZCBkZXN0aW5hdGlvbiB0eXBlcyB3aXRoIGEgc2luZ2xlIHNwYWNlXG5cdFx0Y29udmVydGVyczoge1xuXG5cdFx0XHQvLyBDb252ZXJ0IGFueXRoaW5nIHRvIHRleHRcblx0XHRcdFwiKiB0ZXh0XCI6IFN0cmluZyxcblxuXHRcdFx0Ly8gVGV4dCB0byBodG1sICh0cnVlID0gbm8gdHJhbnNmb3JtYXRpb24pXG5cdFx0XHRcInRleHQgaHRtbFwiOiB0cnVlLFxuXG5cdFx0XHQvLyBFdmFsdWF0ZSB0ZXh0IGFzIGEganNvbiBleHByZXNzaW9uXG5cdFx0XHRcInRleHQganNvblwiOiBKU09OLnBhcnNlLFxuXG5cdFx0XHQvLyBQYXJzZSB0ZXh0IGFzIHhtbFxuXHRcdFx0XCJ0ZXh0IHhtbFwiOiBqUXVlcnkucGFyc2VYTUxcblx0XHR9LFxuXG5cdFx0Ly8gRm9yIG9wdGlvbnMgdGhhdCBzaG91bGRuJ3QgYmUgZGVlcCBleHRlbmRlZDpcblx0XHQvLyB5b3UgY2FuIGFkZCB5b3VyIG93biBjdXN0b20gb3B0aW9ucyBoZXJlIGlmXG5cdFx0Ly8gYW5kIHdoZW4geW91IGNyZWF0ZSBvbmUgdGhhdCBzaG91bGRuJ3QgYmVcblx0XHQvLyBkZWVwIGV4dGVuZGVkIChzZWUgYWpheEV4dGVuZClcblx0XHRmbGF0T3B0aW9uczoge1xuXHRcdFx0dXJsOiB0cnVlLFxuXHRcdFx0Y29udGV4dDogdHJ1ZVxuXHRcdH1cblx0fSxcblxuXHQvLyBDcmVhdGVzIGEgZnVsbCBmbGVkZ2VkIHNldHRpbmdzIG9iamVjdCBpbnRvIHRhcmdldFxuXHQvLyB3aXRoIGJvdGggYWpheFNldHRpbmdzIGFuZCBzZXR0aW5ncyBmaWVsZHMuXG5cdC8vIElmIHRhcmdldCBpcyBvbWl0dGVkLCB3cml0ZXMgaW50byBhamF4U2V0dGluZ3MuXG5cdGFqYXhTZXR1cDogZnVuY3Rpb24oIHRhcmdldCwgc2V0dGluZ3MgKSB7XG5cdFx0cmV0dXJuIHNldHRpbmdzID9cblxuXHRcdFx0Ly8gQnVpbGRpbmcgYSBzZXR0aW5ncyBvYmplY3Rcblx0XHRcdGFqYXhFeHRlbmQoIGFqYXhFeHRlbmQoIHRhcmdldCwgalF1ZXJ5LmFqYXhTZXR0aW5ncyApLCBzZXR0aW5ncyApIDpcblxuXHRcdFx0Ly8gRXh0ZW5kaW5nIGFqYXhTZXR0aW5nc1xuXHRcdFx0YWpheEV4dGVuZCggalF1ZXJ5LmFqYXhTZXR0aW5ncywgdGFyZ2V0ICk7XG5cdH0sXG5cblx0YWpheFByZWZpbHRlcjogYWRkVG9QcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCBwcmVmaWx0ZXJzICksXG5cdGFqYXhUcmFuc3BvcnQ6IGFkZFRvUHJlZmlsdGVyc09yVHJhbnNwb3J0cyggdHJhbnNwb3J0cyApLFxuXG5cdC8vIE1haW4gbWV0aG9kXG5cdGFqYXg6IGZ1bmN0aW9uKCB1cmwsIG9wdGlvbnMgKSB7XG5cblx0XHQvLyBJZiB1cmwgaXMgYW4gb2JqZWN0LCBzaW11bGF0ZSBwcmUtMS41IHNpZ25hdHVyZVxuXHRcdGlmICggdHlwZW9mIHVybCA9PT0gXCJvYmplY3RcIiApIHtcblx0XHRcdG9wdGlvbnMgPSB1cmw7XG5cdFx0XHR1cmwgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXG5cdFx0Ly8gRm9yY2Ugb3B0aW9ucyB0byBiZSBhbiBvYmplY3Rcblx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuXHRcdHZhciB0cmFuc3BvcnQsXG5cblx0XHRcdC8vIFVSTCB3aXRob3V0IGFudGktY2FjaGUgcGFyYW1cblx0XHRcdGNhY2hlVVJMLFxuXG5cdFx0XHQvLyBSZXNwb25zZSBoZWFkZXJzXG5cdFx0XHRyZXNwb25zZUhlYWRlcnNTdHJpbmcsXG5cdFx0XHRyZXNwb25zZUhlYWRlcnMsXG5cblx0XHRcdC8vIHRpbWVvdXQgaGFuZGxlXG5cdFx0XHR0aW1lb3V0VGltZXIsXG5cblx0XHRcdC8vIFVybCBjbGVhbnVwIHZhclxuXHRcdFx0dXJsQW5jaG9yLFxuXG5cdFx0XHQvLyBSZXF1ZXN0IHN0YXRlIChiZWNvbWVzIGZhbHNlIHVwb24gc2VuZCBhbmQgdHJ1ZSB1cG9uIGNvbXBsZXRpb24pXG5cdFx0XHRjb21wbGV0ZWQsXG5cblx0XHRcdC8vIFRvIGtub3cgaWYgZ2xvYmFsIGV2ZW50cyBhcmUgdG8gYmUgZGlzcGF0Y2hlZFxuXHRcdFx0ZmlyZUdsb2JhbHMsXG5cblx0XHRcdC8vIExvb3AgdmFyaWFibGVcblx0XHRcdGksXG5cblx0XHRcdC8vIHVuY2FjaGVkIHBhcnQgb2YgdGhlIHVybFxuXHRcdFx0dW5jYWNoZWQsXG5cblx0XHRcdC8vIENyZWF0ZSB0aGUgZmluYWwgb3B0aW9ucyBvYmplY3Rcblx0XHRcdHMgPSBqUXVlcnkuYWpheFNldHVwKCB7fSwgb3B0aW9ucyApLFxuXG5cdFx0XHQvLyBDYWxsYmFja3MgY29udGV4dFxuXHRcdFx0Y2FsbGJhY2tDb250ZXh0ID0gcy5jb250ZXh0IHx8IHMsXG5cblx0XHRcdC8vIENvbnRleHQgZm9yIGdsb2JhbCBldmVudHMgaXMgY2FsbGJhY2tDb250ZXh0IGlmIGl0IGlzIGEgRE9NIG5vZGUgb3IgalF1ZXJ5IGNvbGxlY3Rpb25cblx0XHRcdGdsb2JhbEV2ZW50Q29udGV4dCA9IHMuY29udGV4dCAmJlxuXHRcdFx0XHQoIGNhbGxiYWNrQ29udGV4dC5ub2RlVHlwZSB8fCBjYWxsYmFja0NvbnRleHQuanF1ZXJ5ICkgP1xuXHRcdFx0XHRqUXVlcnkoIGNhbGxiYWNrQ29udGV4dCApIDpcblx0XHRcdFx0alF1ZXJ5LmV2ZW50LFxuXG5cdFx0XHQvLyBEZWZlcnJlZHNcblx0XHRcdGRlZmVycmVkID0galF1ZXJ5LkRlZmVycmVkKCksXG5cdFx0XHRjb21wbGV0ZURlZmVycmVkID0galF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICksXG5cblx0XHRcdC8vIFN0YXR1cy1kZXBlbmRlbnQgY2FsbGJhY2tzXG5cdFx0XHRzdGF0dXNDb2RlID0gcy5zdGF0dXNDb2RlIHx8IHt9LFxuXG5cdFx0XHQvLyBIZWFkZXJzICh0aGV5IGFyZSBzZW50IGFsbCBhdCBvbmNlKVxuXHRcdFx0cmVxdWVzdEhlYWRlcnMgPSB7fSxcblx0XHRcdHJlcXVlc3RIZWFkZXJzTmFtZXMgPSB7fSxcblxuXHRcdFx0Ly8gRGVmYXVsdCBhYm9ydCBtZXNzYWdlXG5cdFx0XHRzdHJBYm9ydCA9IFwiY2FuY2VsZWRcIixcblxuXHRcdFx0Ly8gRmFrZSB4aHJcblx0XHRcdGpxWEhSID0ge1xuXHRcdFx0XHRyZWFkeVN0YXRlOiAwLFxuXG5cdFx0XHRcdC8vIEJ1aWxkcyBoZWFkZXJzIGhhc2h0YWJsZSBpZiBuZWVkZWRcblx0XHRcdFx0Z2V0UmVzcG9uc2VIZWFkZXI6IGZ1bmN0aW9uKCBrZXkgKSB7XG5cdFx0XHRcdFx0dmFyIG1hdGNoO1xuXHRcdFx0XHRcdGlmICggY29tcGxldGVkICkge1xuXHRcdFx0XHRcdFx0aWYgKCAhcmVzcG9uc2VIZWFkZXJzICkge1xuXHRcdFx0XHRcdFx0XHRyZXNwb25zZUhlYWRlcnMgPSB7fTtcblx0XHRcdFx0XHRcdFx0d2hpbGUgKCAoIG1hdGNoID0gcmhlYWRlcnMuZXhlYyggcmVzcG9uc2VIZWFkZXJzU3RyaW5nICkgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRyZXNwb25zZUhlYWRlcnNbIG1hdGNoWyAxIF0udG9Mb3dlckNhc2UoKSArIFwiIFwiIF0gPVxuXHRcdFx0XHRcdFx0XHRcdFx0KCByZXNwb25zZUhlYWRlcnNbIG1hdGNoWyAxIF0udG9Mb3dlckNhc2UoKSArIFwiIFwiIF0gfHwgW10gKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQuY29uY2F0KCBtYXRjaFsgMiBdICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdG1hdGNoID0gcmVzcG9uc2VIZWFkZXJzWyBrZXkudG9Mb3dlckNhc2UoKSArIFwiIFwiIF07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiBtYXRjaCA9PSBudWxsID8gbnVsbCA6IG1hdGNoLmpvaW4oIFwiLCBcIiApO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIFJhdyBzdHJpbmdcblx0XHRcdFx0Z2V0QWxsUmVzcG9uc2VIZWFkZXJzOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRyZXR1cm4gY29tcGxldGVkID8gcmVzcG9uc2VIZWFkZXJzU3RyaW5nIDogbnVsbDtcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBDYWNoZXMgdGhlIGhlYWRlclxuXHRcdFx0XHRzZXRSZXF1ZXN0SGVhZGVyOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XG5cdFx0XHRcdFx0aWYgKCBjb21wbGV0ZWQgPT0gbnVsbCApIHtcblx0XHRcdFx0XHRcdG5hbWUgPSByZXF1ZXN0SGVhZGVyc05hbWVzWyBuYW1lLnRvTG93ZXJDYXNlKCkgXSA9XG5cdFx0XHRcdFx0XHRcdHJlcXVlc3RIZWFkZXJzTmFtZXNbIG5hbWUudG9Mb3dlckNhc2UoKSBdIHx8IG5hbWU7XG5cdFx0XHRcdFx0XHRyZXF1ZXN0SGVhZGVyc1sgbmFtZSBdID0gdmFsdWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIE92ZXJyaWRlcyByZXNwb25zZSBjb250ZW50LXR5cGUgaGVhZGVyXG5cdFx0XHRcdG92ZXJyaWRlTWltZVR5cGU6IGZ1bmN0aW9uKCB0eXBlICkge1xuXHRcdFx0XHRcdGlmICggY29tcGxldGVkID09IG51bGwgKSB7XG5cdFx0XHRcdFx0XHRzLm1pbWVUeXBlID0gdHlwZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gU3RhdHVzLWRlcGVuZGVudCBjYWxsYmFja3Ncblx0XHRcdFx0c3RhdHVzQ29kZTogZnVuY3Rpb24oIG1hcCApIHtcblx0XHRcdFx0XHR2YXIgY29kZTtcblx0XHRcdFx0XHRpZiAoIG1hcCApIHtcblx0XHRcdFx0XHRcdGlmICggY29tcGxldGVkICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIEV4ZWN1dGUgdGhlIGFwcHJvcHJpYXRlIGNhbGxiYWNrc1xuXHRcdFx0XHRcdFx0XHRqcVhIUi5hbHdheXMoIG1hcFsganFYSFIuc3RhdHVzIF0gKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gTGF6eS1hZGQgdGhlIG5ldyBjYWxsYmFja3MgaW4gYSB3YXkgdGhhdCBwcmVzZXJ2ZXMgb2xkIG9uZXNcblx0XHRcdFx0XHRcdFx0Zm9yICggY29kZSBpbiBtYXAgKSB7XG5cdFx0XHRcdFx0XHRcdFx0c3RhdHVzQ29kZVsgY29kZSBdID0gWyBzdGF0dXNDb2RlWyBjb2RlIF0sIG1hcFsgY29kZSBdIF07XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gQ2FuY2VsIHRoZSByZXF1ZXN0XG5cdFx0XHRcdGFib3J0OiBmdW5jdGlvbiggc3RhdHVzVGV4dCApIHtcblx0XHRcdFx0XHR2YXIgZmluYWxUZXh0ID0gc3RhdHVzVGV4dCB8fCBzdHJBYm9ydDtcblx0XHRcdFx0XHRpZiAoIHRyYW5zcG9ydCApIHtcblx0XHRcdFx0XHRcdHRyYW5zcG9ydC5hYm9ydCggZmluYWxUZXh0ICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGRvbmUoIDAsIGZpbmFsVGV4dCApO1xuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0Ly8gQXR0YWNoIGRlZmVycmVkc1xuXHRcdGRlZmVycmVkLnByb21pc2UoIGpxWEhSICk7XG5cblx0XHQvLyBBZGQgcHJvdG9jb2wgaWYgbm90IHByb3ZpZGVkIChwcmVmaWx0ZXJzIG1pZ2h0IGV4cGVjdCBpdClcblx0XHQvLyBIYW5kbGUgZmFsc3kgdXJsIGluIHRoZSBzZXR0aW5ncyBvYmplY3QgKHRyYWMtMTAwOTM6IGNvbnNpc3RlbmN5IHdpdGggb2xkIHNpZ25hdHVyZSlcblx0XHQvLyBXZSBhbHNvIHVzZSB0aGUgdXJsIHBhcmFtZXRlciBpZiBhdmFpbGFibGVcblx0XHRzLnVybCA9ICggKCB1cmwgfHwgcy51cmwgfHwgbG9jYXRpb24uaHJlZiApICsgXCJcIiApXG5cdFx0XHQucmVwbGFjZSggcnByb3RvY29sLCBsb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIiApO1xuXG5cdFx0Ly8gQWxpYXMgbWV0aG9kIG9wdGlvbiB0byB0eXBlIGFzIHBlciB0aWNrZXQgdHJhYy0xMjAwNFxuXHRcdHMudHlwZSA9IG9wdGlvbnMubWV0aG9kIHx8IG9wdGlvbnMudHlwZSB8fCBzLm1ldGhvZCB8fCBzLnR5cGU7XG5cblx0XHQvLyBFeHRyYWN0IGRhdGFUeXBlcyBsaXN0XG5cdFx0cy5kYXRhVHlwZXMgPSAoIHMuZGF0YVR5cGUgfHwgXCIqXCIgKS50b0xvd2VyQ2FzZSgpLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgWyBcIlwiIF07XG5cblx0XHQvLyBBIGNyb3NzLWRvbWFpbiByZXF1ZXN0IGlzIGluIG9yZGVyIHdoZW4gdGhlIG9yaWdpbiBkb2Vzbid0IG1hdGNoIHRoZSBjdXJyZW50IG9yaWdpbi5cblx0XHRpZiAoIHMuY3Jvc3NEb21haW4gPT0gbnVsbCApIHtcblx0XHRcdHVybEFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiYVwiICk7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OCAtIDExLCBFZGdlIDEyIC0gMTVcblx0XHRcdC8vIElFIHRocm93cyBleGNlcHRpb24gb24gYWNjZXNzaW5nIHRoZSBocmVmIHByb3BlcnR5IGlmIHVybCBpcyBtYWxmb3JtZWQsXG5cdFx0XHQvLyBlLmcuIGh0dHA6Ly9leGFtcGxlLmNvbTo4MHgvXG5cdFx0XHR0cnkge1xuXHRcdFx0XHR1cmxBbmNob3IuaHJlZiA9IHMudXJsO1xuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OCAtIDExIG9ubHlcblx0XHRcdFx0Ly8gQW5jaG9yJ3MgaG9zdCBwcm9wZXJ0eSBpc24ndCBjb3JyZWN0bHkgc2V0IHdoZW4gcy51cmwgaXMgcmVsYXRpdmVcblx0XHRcdFx0dXJsQW5jaG9yLmhyZWYgPSB1cmxBbmNob3IuaHJlZjtcblx0XHRcdFx0cy5jcm9zc0RvbWFpbiA9IG9yaWdpbkFuY2hvci5wcm90b2NvbCArIFwiLy9cIiArIG9yaWdpbkFuY2hvci5ob3N0ICE9PVxuXHRcdFx0XHRcdHVybEFuY2hvci5wcm90b2NvbCArIFwiLy9cIiArIHVybEFuY2hvci5ob3N0O1xuXHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cblx0XHRcdFx0Ly8gSWYgdGhlcmUgaXMgYW4gZXJyb3IgcGFyc2luZyB0aGUgVVJMLCBhc3N1bWUgaXQgaXMgY3Jvc3NEb21haW4sXG5cdFx0XHRcdC8vIGl0IGNhbiBiZSByZWplY3RlZCBieSB0aGUgdHJhbnNwb3J0IGlmIGl0IGlzIGludmFsaWRcblx0XHRcdFx0cy5jcm9zc0RvbWFpbiA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQ29udmVydCBkYXRhIGlmIG5vdCBhbHJlYWR5IGEgc3RyaW5nXG5cdFx0aWYgKCBzLmRhdGEgJiYgcy5wcm9jZXNzRGF0YSAmJiB0eXBlb2Ygcy5kYXRhICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cy5kYXRhID0galF1ZXJ5LnBhcmFtKCBzLmRhdGEsIHMudHJhZGl0aW9uYWwgKTtcblx0XHR9XG5cblx0XHQvLyBBcHBseSBwcmVmaWx0ZXJzXG5cdFx0aW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHByZWZpbHRlcnMsIHMsIG9wdGlvbnMsIGpxWEhSICk7XG5cblx0XHQvLyBJZiByZXF1ZXN0IHdhcyBhYm9ydGVkIGluc2lkZSBhIHByZWZpbHRlciwgc3RvcCB0aGVyZVxuXHRcdGlmICggY29tcGxldGVkICkge1xuXHRcdFx0cmV0dXJuIGpxWEhSO1xuXHRcdH1cblxuXHRcdC8vIFdlIGNhbiBmaXJlIGdsb2JhbCBldmVudHMgYXMgb2Ygbm93IGlmIGFza2VkIHRvXG5cdFx0Ly8gRG9uJ3QgZmlyZSBldmVudHMgaWYgalF1ZXJ5LmV2ZW50IGlzIHVuZGVmaW5lZCBpbiBhbiBBTUQtdXNhZ2Ugc2NlbmFyaW8gKHRyYWMtMTUxMTgpXG5cdFx0ZmlyZUdsb2JhbHMgPSBqUXVlcnkuZXZlbnQgJiYgcy5nbG9iYWw7XG5cblx0XHQvLyBXYXRjaCBmb3IgYSBuZXcgc2V0IG9mIHJlcXVlc3RzXG5cdFx0aWYgKCBmaXJlR2xvYmFscyAmJiBqUXVlcnkuYWN0aXZlKysgPT09IDAgKSB7XG5cdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlciggXCJhamF4U3RhcnRcIiApO1xuXHRcdH1cblxuXHRcdC8vIFVwcGVyY2FzZSB0aGUgdHlwZVxuXHRcdHMudHlwZSA9IHMudHlwZS50b1VwcGVyQ2FzZSgpO1xuXG5cdFx0Ly8gRGV0ZXJtaW5lIGlmIHJlcXVlc3QgaGFzIGNvbnRlbnRcblx0XHRzLmhhc0NvbnRlbnQgPSAhcm5vQ29udGVudC50ZXN0KCBzLnR5cGUgKTtcblxuXHRcdC8vIFNhdmUgdGhlIFVSTCBpbiBjYXNlIHdlJ3JlIHRveWluZyB3aXRoIHRoZSBJZi1Nb2RpZmllZC1TaW5jZVxuXHRcdC8vIGFuZC9vciBJZi1Ob25lLU1hdGNoIGhlYWRlciBsYXRlciBvblxuXHRcdC8vIFJlbW92ZSBoYXNoIHRvIHNpbXBsaWZ5IHVybCBtYW5pcHVsYXRpb25cblx0XHRjYWNoZVVSTCA9IHMudXJsLnJlcGxhY2UoIHJoYXNoLCBcIlwiICk7XG5cblx0XHQvLyBNb3JlIG9wdGlvbnMgaGFuZGxpbmcgZm9yIHJlcXVlc3RzIHdpdGggbm8gY29udGVudFxuXHRcdGlmICggIXMuaGFzQ29udGVudCApIHtcblxuXHRcdFx0Ly8gUmVtZW1iZXIgdGhlIGhhc2ggc28gd2UgY2FuIHB1dCBpdCBiYWNrXG5cdFx0XHR1bmNhY2hlZCA9IHMudXJsLnNsaWNlKCBjYWNoZVVSTC5sZW5ndGggKTtcblxuXHRcdFx0Ly8gSWYgZGF0YSBpcyBhdmFpbGFibGUgYW5kIHNob3VsZCBiZSBwcm9jZXNzZWQsIGFwcGVuZCBkYXRhIHRvIHVybFxuXHRcdFx0aWYgKCBzLmRhdGEgJiYgKCBzLnByb2Nlc3NEYXRhIHx8IHR5cGVvZiBzLmRhdGEgPT09IFwic3RyaW5nXCIgKSApIHtcblx0XHRcdFx0Y2FjaGVVUkwgKz0gKCBycXVlcnkudGVzdCggY2FjaGVVUkwgKSA/IFwiJlwiIDogXCI/XCIgKSArIHMuZGF0YTtcblxuXHRcdFx0XHQvLyB0cmFjLTk2ODI6IHJlbW92ZSBkYXRhIHNvIHRoYXQgaXQncyBub3QgdXNlZCBpbiBhbiBldmVudHVhbCByZXRyeVxuXHRcdFx0XHRkZWxldGUgcy5kYXRhO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBZGQgb3IgdXBkYXRlIGFudGktY2FjaGUgcGFyYW0gaWYgbmVlZGVkXG5cdFx0XHRpZiAoIHMuY2FjaGUgPT09IGZhbHNlICkge1xuXHRcdFx0XHRjYWNoZVVSTCA9IGNhY2hlVVJMLnJlcGxhY2UoIHJhbnRpQ2FjaGUsIFwiJDFcIiApO1xuXHRcdFx0XHR1bmNhY2hlZCA9ICggcnF1ZXJ5LnRlc3QoIGNhY2hlVVJMICkgPyBcIiZcIiA6IFwiP1wiICkgKyBcIl89XCIgKyAoIG5vbmNlLmd1aWQrKyApICtcblx0XHRcdFx0XHR1bmNhY2hlZDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUHV0IGhhc2ggYW5kIGFudGktY2FjaGUgb24gdGhlIFVSTCB0aGF0IHdpbGwgYmUgcmVxdWVzdGVkIChnaC0xNzMyKVxuXHRcdFx0cy51cmwgPSBjYWNoZVVSTCArIHVuY2FjaGVkO1xuXG5cdFx0Ly8gQ2hhbmdlICclMjAnIHRvICcrJyBpZiB0aGlzIGlzIGVuY29kZWQgZm9ybSBib2R5IGNvbnRlbnQgKGdoLTI2NTgpXG5cdFx0fSBlbHNlIGlmICggcy5kYXRhICYmIHMucHJvY2Vzc0RhdGEgJiZcblx0XHRcdCggcy5jb250ZW50VHlwZSB8fCBcIlwiICkuaW5kZXhPZiggXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIiApID09PSAwICkge1xuXHRcdFx0cy5kYXRhID0gcy5kYXRhLnJlcGxhY2UoIHIyMCwgXCIrXCIgKTtcblx0XHR9XG5cblx0XHQvLyBTZXQgdGhlIElmLU1vZGlmaWVkLVNpbmNlIGFuZC9vciBJZi1Ob25lLU1hdGNoIGhlYWRlciwgaWYgaW4gaWZNb2RpZmllZCBtb2RlLlxuXHRcdGlmICggcy5pZk1vZGlmaWVkICkge1xuXHRcdFx0aWYgKCBqUXVlcnkubGFzdE1vZGlmaWVkWyBjYWNoZVVSTCBdICkge1xuXHRcdFx0XHRqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKCBcIklmLU1vZGlmaWVkLVNpbmNlXCIsIGpRdWVyeS5sYXN0TW9kaWZpZWRbIGNhY2hlVVJMIF0gKTtcblx0XHRcdH1cblx0XHRcdGlmICggalF1ZXJ5LmV0YWdbIGNhY2hlVVJMIF0gKSB7XG5cdFx0XHRcdGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIFwiSWYtTm9uZS1NYXRjaFwiLCBqUXVlcnkuZXRhZ1sgY2FjaGVVUkwgXSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFNldCB0aGUgY29ycmVjdCBoZWFkZXIsIGlmIGRhdGEgaXMgYmVpbmcgc2VudFxuXHRcdGlmICggcy5kYXRhICYmIHMuaGFzQ29udGVudCAmJiBzLmNvbnRlbnRUeXBlICE9PSBmYWxzZSB8fCBvcHRpb25zLmNvbnRlbnRUeXBlICkge1xuXHRcdFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlciggXCJDb250ZW50LVR5cGVcIiwgcy5jb250ZW50VHlwZSApO1xuXHRcdH1cblxuXHRcdC8vIFNldCB0aGUgQWNjZXB0cyBoZWFkZXIgZm9yIHRoZSBzZXJ2ZXIsIGRlcGVuZGluZyBvbiB0aGUgZGF0YVR5cGVcblx0XHRqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKFxuXHRcdFx0XCJBY2NlcHRcIixcblx0XHRcdHMuZGF0YVR5cGVzWyAwIF0gJiYgcy5hY2NlcHRzWyBzLmRhdGFUeXBlc1sgMCBdIF0gP1xuXHRcdFx0XHRzLmFjY2VwdHNbIHMuZGF0YVR5cGVzWyAwIF0gXSArXG5cdFx0XHRcdFx0KCBzLmRhdGFUeXBlc1sgMCBdICE9PSBcIipcIiA/IFwiLCBcIiArIGFsbFR5cGVzICsgXCI7IHE9MC4wMVwiIDogXCJcIiApIDpcblx0XHRcdFx0cy5hY2NlcHRzWyBcIipcIiBdXG5cdFx0KTtcblxuXHRcdC8vIENoZWNrIGZvciBoZWFkZXJzIG9wdGlvblxuXHRcdGZvciAoIGkgaW4gcy5oZWFkZXJzICkge1xuXHRcdFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlciggaSwgcy5oZWFkZXJzWyBpIF0gKTtcblx0XHR9XG5cblx0XHQvLyBBbGxvdyBjdXN0b20gaGVhZGVycy9taW1ldHlwZXMgYW5kIGVhcmx5IGFib3J0XG5cdFx0aWYgKCBzLmJlZm9yZVNlbmQgJiZcblx0XHRcdCggcy5iZWZvcmVTZW5kLmNhbGwoIGNhbGxiYWNrQ29udGV4dCwganFYSFIsIHMgKSA9PT0gZmFsc2UgfHwgY29tcGxldGVkICkgKSB7XG5cblx0XHRcdC8vIEFib3J0IGlmIG5vdCBkb25lIGFscmVhZHkgYW5kIHJldHVyblxuXHRcdFx0cmV0dXJuIGpxWEhSLmFib3J0KCk7XG5cdFx0fVxuXG5cdFx0Ly8gQWJvcnRpbmcgaXMgbm8gbG9uZ2VyIGEgY2FuY2VsbGF0aW9uXG5cdFx0c3RyQWJvcnQgPSBcImFib3J0XCI7XG5cblx0XHQvLyBJbnN0YWxsIGNhbGxiYWNrcyBvbiBkZWZlcnJlZHNcblx0XHRjb21wbGV0ZURlZmVycmVkLmFkZCggcy5jb21wbGV0ZSApO1xuXHRcdGpxWEhSLmRvbmUoIHMuc3VjY2VzcyApO1xuXHRcdGpxWEhSLmZhaWwoIHMuZXJyb3IgKTtcblxuXHRcdC8vIEdldCB0cmFuc3BvcnRcblx0XHR0cmFuc3BvcnQgPSBpbnNwZWN0UHJlZmlsdGVyc09yVHJhbnNwb3J0cyggdHJhbnNwb3J0cywgcywgb3B0aW9ucywganFYSFIgKTtcblxuXHRcdC8vIElmIG5vIHRyYW5zcG9ydCwgd2UgYXV0by1hYm9ydFxuXHRcdGlmICggIXRyYW5zcG9ydCApIHtcblx0XHRcdGRvbmUoIC0xLCBcIk5vIFRyYW5zcG9ydFwiICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGpxWEhSLnJlYWR5U3RhdGUgPSAxO1xuXG5cdFx0XHQvLyBTZW5kIGdsb2JhbCBldmVudFxuXHRcdFx0aWYgKCBmaXJlR2xvYmFscyApIHtcblx0XHRcdFx0Z2xvYmFsRXZlbnRDb250ZXh0LnRyaWdnZXIoIFwiYWpheFNlbmRcIiwgWyBqcVhIUiwgcyBdICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIHJlcXVlc3Qgd2FzIGFib3J0ZWQgaW5zaWRlIGFqYXhTZW5kLCBzdG9wIHRoZXJlXG5cdFx0XHRpZiAoIGNvbXBsZXRlZCApIHtcblx0XHRcdFx0cmV0dXJuIGpxWEhSO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBUaW1lb3V0XG5cdFx0XHRpZiAoIHMuYXN5bmMgJiYgcy50aW1lb3V0ID4gMCApIHtcblx0XHRcdFx0dGltZW91dFRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGpxWEhSLmFib3J0KCBcInRpbWVvdXRcIiApO1xuXHRcdFx0XHR9LCBzLnRpbWVvdXQgKTtcblx0XHRcdH1cblxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Y29tcGxldGVkID0gZmFsc2U7XG5cdFx0XHRcdHRyYW5zcG9ydC5zZW5kKCByZXF1ZXN0SGVhZGVycywgZG9uZSApO1xuXHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cblx0XHRcdFx0Ly8gUmV0aHJvdyBwb3N0LWNvbXBsZXRpb24gZXhjZXB0aW9uc1xuXHRcdFx0XHRpZiAoIGNvbXBsZXRlZCApIHtcblx0XHRcdFx0XHR0aHJvdyBlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gUHJvcGFnYXRlIG90aGVycyBhcyByZXN1bHRzXG5cdFx0XHRcdGRvbmUoIC0xLCBlICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQ2FsbGJhY2sgZm9yIHdoZW4gZXZlcnl0aGluZyBpcyBkb25lXG5cdFx0ZnVuY3Rpb24gZG9uZSggc3RhdHVzLCBuYXRpdmVTdGF0dXNUZXh0LCByZXNwb25zZXMsIGhlYWRlcnMgKSB7XG5cdFx0XHR2YXIgaXNTdWNjZXNzLCBzdWNjZXNzLCBlcnJvciwgcmVzcG9uc2UsIG1vZGlmaWVkLFxuXHRcdFx0XHRzdGF0dXNUZXh0ID0gbmF0aXZlU3RhdHVzVGV4dDtcblxuXHRcdFx0Ly8gSWdub3JlIHJlcGVhdCBpbnZvY2F0aW9uc1xuXHRcdFx0aWYgKCBjb21wbGV0ZWQgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Y29tcGxldGVkID0gdHJ1ZTtcblxuXHRcdFx0Ly8gQ2xlYXIgdGltZW91dCBpZiBpdCBleGlzdHNcblx0XHRcdGlmICggdGltZW91dFRpbWVyICkge1xuXHRcdFx0XHR3aW5kb3cuY2xlYXJUaW1lb3V0KCB0aW1lb3V0VGltZXIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gRGVyZWZlcmVuY2UgdHJhbnNwb3J0IGZvciBlYXJseSBnYXJiYWdlIGNvbGxlY3Rpb25cblx0XHRcdC8vIChubyBtYXR0ZXIgaG93IGxvbmcgdGhlIGpxWEhSIG9iamVjdCB3aWxsIGJlIHVzZWQpXG5cdFx0XHR0cmFuc3BvcnQgPSB1bmRlZmluZWQ7XG5cblx0XHRcdC8vIENhY2hlIHJlc3BvbnNlIGhlYWRlcnNcblx0XHRcdHJlc3BvbnNlSGVhZGVyc1N0cmluZyA9IGhlYWRlcnMgfHwgXCJcIjtcblxuXHRcdFx0Ly8gU2V0IHJlYWR5U3RhdGVcblx0XHRcdGpxWEhSLnJlYWR5U3RhdGUgPSBzdGF0dXMgPiAwID8gNCA6IDA7XG5cblx0XHRcdC8vIERldGVybWluZSBpZiBzdWNjZXNzZnVsXG5cdFx0XHRpc1N1Y2Nlc3MgPSBzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDMwMCB8fCBzdGF0dXMgPT09IDMwNDtcblxuXHRcdFx0Ly8gR2V0IHJlc3BvbnNlIGRhdGFcblx0XHRcdGlmICggcmVzcG9uc2VzICkge1xuXHRcdFx0XHRyZXNwb25zZSA9IGFqYXhIYW5kbGVSZXNwb25zZXMoIHMsIGpxWEhSLCByZXNwb25zZXMgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gVXNlIGEgbm9vcCBjb252ZXJ0ZXIgZm9yIG1pc3Npbmcgc2NyaXB0IGJ1dCBub3QgaWYganNvbnBcblx0XHRcdGlmICggIWlzU3VjY2VzcyAmJlxuXHRcdFx0XHRqUXVlcnkuaW5BcnJheSggXCJzY3JpcHRcIiwgcy5kYXRhVHlwZXMgKSA+IC0xICYmXG5cdFx0XHRcdGpRdWVyeS5pbkFycmF5KCBcImpzb25cIiwgcy5kYXRhVHlwZXMgKSA8IDAgKSB7XG5cdFx0XHRcdHMuY29udmVydGVyc1sgXCJ0ZXh0IHNjcmlwdFwiIF0gPSBmdW5jdGlvbigpIHt9O1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDb252ZXJ0IG5vIG1hdHRlciB3aGF0ICh0aGF0IHdheSByZXNwb25zZVhYWCBmaWVsZHMgYXJlIGFsd2F5cyBzZXQpXG5cdFx0XHRyZXNwb25zZSA9IGFqYXhDb252ZXJ0KCBzLCByZXNwb25zZSwganFYSFIsIGlzU3VjY2VzcyApO1xuXG5cdFx0XHQvLyBJZiBzdWNjZXNzZnVsLCBoYW5kbGUgdHlwZSBjaGFpbmluZ1xuXHRcdFx0aWYgKCBpc1N1Y2Nlc3MgKSB7XG5cblx0XHRcdFx0Ly8gU2V0IHRoZSBJZi1Nb2RpZmllZC1TaW5jZSBhbmQvb3IgSWYtTm9uZS1NYXRjaCBoZWFkZXIsIGlmIGluIGlmTW9kaWZpZWQgbW9kZS5cblx0XHRcdFx0aWYgKCBzLmlmTW9kaWZpZWQgKSB7XG5cdFx0XHRcdFx0bW9kaWZpZWQgPSBqcVhIUi5nZXRSZXNwb25zZUhlYWRlciggXCJMYXN0LU1vZGlmaWVkXCIgKTtcblx0XHRcdFx0XHRpZiAoIG1vZGlmaWVkICkge1xuXHRcdFx0XHRcdFx0alF1ZXJ5Lmxhc3RNb2RpZmllZFsgY2FjaGVVUkwgXSA9IG1vZGlmaWVkO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRtb2RpZmllZCA9IGpxWEhSLmdldFJlc3BvbnNlSGVhZGVyKCBcImV0YWdcIiApO1xuXHRcdFx0XHRcdGlmICggbW9kaWZpZWQgKSB7XG5cdFx0XHRcdFx0XHRqUXVlcnkuZXRhZ1sgY2FjaGVVUkwgXSA9IG1vZGlmaWVkO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIGlmIG5vIGNvbnRlbnRcblx0XHRcdFx0aWYgKCBzdGF0dXMgPT09IDIwNCB8fCBzLnR5cGUgPT09IFwiSEVBRFwiICkge1xuXHRcdFx0XHRcdHN0YXR1c1RleHQgPSBcIm5vY29udGVudFwiO1xuXG5cdFx0XHRcdC8vIGlmIG5vdCBtb2RpZmllZFxuXHRcdFx0XHR9IGVsc2UgaWYgKCBzdGF0dXMgPT09IDMwNCApIHtcblx0XHRcdFx0XHRzdGF0dXNUZXh0ID0gXCJub3Rtb2RpZmllZFwiO1xuXG5cdFx0XHRcdC8vIElmIHdlIGhhdmUgZGF0YSwgbGV0J3MgY29udmVydCBpdFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHN0YXR1c1RleHQgPSByZXNwb25zZS5zdGF0ZTtcblx0XHRcdFx0XHRzdWNjZXNzID0gcmVzcG9uc2UuZGF0YTtcblx0XHRcdFx0XHRlcnJvciA9IHJlc3BvbnNlLmVycm9yO1xuXHRcdFx0XHRcdGlzU3VjY2VzcyA9ICFlcnJvcjtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHQvLyBFeHRyYWN0IGVycm9yIGZyb20gc3RhdHVzVGV4dCBhbmQgbm9ybWFsaXplIGZvciBub24tYWJvcnRzXG5cdFx0XHRcdGVycm9yID0gc3RhdHVzVGV4dDtcblx0XHRcdFx0aWYgKCBzdGF0dXMgfHwgIXN0YXR1c1RleHQgKSB7XG5cdFx0XHRcdFx0c3RhdHVzVGV4dCA9IFwiZXJyb3JcIjtcblx0XHRcdFx0XHRpZiAoIHN0YXR1cyA8IDAgKSB7XG5cdFx0XHRcdFx0XHRzdGF0dXMgPSAwO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBTZXQgZGF0YSBmb3IgdGhlIGZha2UgeGhyIG9iamVjdFxuXHRcdFx0anFYSFIuc3RhdHVzID0gc3RhdHVzO1xuXHRcdFx0anFYSFIuc3RhdHVzVGV4dCA9ICggbmF0aXZlU3RhdHVzVGV4dCB8fCBzdGF0dXNUZXh0ICkgKyBcIlwiO1xuXG5cdFx0XHQvLyBTdWNjZXNzL0Vycm9yXG5cdFx0XHRpZiAoIGlzU3VjY2VzcyApIHtcblx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZVdpdGgoIGNhbGxiYWNrQ29udGV4dCwgWyBzdWNjZXNzLCBzdGF0dXNUZXh0LCBqcVhIUiBdICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkZWZlcnJlZC5yZWplY3RXaXRoKCBjYWxsYmFja0NvbnRleHQsIFsganFYSFIsIHN0YXR1c1RleHQsIGVycm9yIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3RhdHVzLWRlcGVuZGVudCBjYWxsYmFja3Ncblx0XHRcdGpxWEhSLnN0YXR1c0NvZGUoIHN0YXR1c0NvZGUgKTtcblx0XHRcdHN0YXR1c0NvZGUgPSB1bmRlZmluZWQ7XG5cblx0XHRcdGlmICggZmlyZUdsb2JhbHMgKSB7XG5cdFx0XHRcdGdsb2JhbEV2ZW50Q29udGV4dC50cmlnZ2VyKCBpc1N1Y2Nlc3MgPyBcImFqYXhTdWNjZXNzXCIgOiBcImFqYXhFcnJvclwiLFxuXHRcdFx0XHRcdFsganFYSFIsIHMsIGlzU3VjY2VzcyA/IHN1Y2Nlc3MgOiBlcnJvciBdICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENvbXBsZXRlXG5cdFx0XHRjb21wbGV0ZURlZmVycmVkLmZpcmVXaXRoKCBjYWxsYmFja0NvbnRleHQsIFsganFYSFIsIHN0YXR1c1RleHQgXSApO1xuXG5cdFx0XHRpZiAoIGZpcmVHbG9iYWxzICkge1xuXHRcdFx0XHRnbG9iYWxFdmVudENvbnRleHQudHJpZ2dlciggXCJhamF4Q29tcGxldGVcIiwgWyBqcVhIUiwgcyBdICk7XG5cblx0XHRcdFx0Ly8gSGFuZGxlIHRoZSBnbG9iYWwgQUpBWCBjb3VudGVyXG5cdFx0XHRcdGlmICggISggLS1qUXVlcnkuYWN0aXZlICkgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXIoIFwiYWpheFN0b3BcIiApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGpxWEhSO1xuXHR9LFxuXG5cdGdldEpTT046IGZ1bmN0aW9uKCB1cmwsIGRhdGEsIGNhbGxiYWNrICkge1xuXHRcdHJldHVybiBqUXVlcnkuZ2V0KCB1cmwsIGRhdGEsIGNhbGxiYWNrLCBcImpzb25cIiApO1xuXHR9LFxuXG5cdGdldFNjcmlwdDogZnVuY3Rpb24oIHVybCwgY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5nZXQoIHVybCwgdW5kZWZpbmVkLCBjYWxsYmFjaywgXCJzY3JpcHRcIiApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5lYWNoKCBbIFwiZ2V0XCIsIFwicG9zdFwiIF0sIGZ1bmN0aW9uKCBfaSwgbWV0aG9kICkge1xuXHRqUXVlcnlbIG1ldGhvZCBdID0gZnVuY3Rpb24oIHVybCwgZGF0YSwgY2FsbGJhY2ssIHR5cGUgKSB7XG5cblx0XHQvLyBTaGlmdCBhcmd1bWVudHMgaWYgZGF0YSBhcmd1bWVudCB3YXMgb21pdHRlZFxuXHRcdGlmICggaXNGdW5jdGlvbiggZGF0YSApICkge1xuXHRcdFx0dHlwZSA9IHR5cGUgfHwgY2FsbGJhY2s7XG5cdFx0XHRjYWxsYmFjayA9IGRhdGE7XG5cdFx0XHRkYXRhID0gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdC8vIFRoZSB1cmwgY2FuIGJlIGFuIG9wdGlvbnMgb2JqZWN0ICh3aGljaCB0aGVuIG11c3QgaGF2ZSAudXJsKVxuXHRcdHJldHVybiBqUXVlcnkuYWpheCggalF1ZXJ5LmV4dGVuZCgge1xuXHRcdFx0dXJsOiB1cmwsXG5cdFx0XHR0eXBlOiBtZXRob2QsXG5cdFx0XHRkYXRhVHlwZTogdHlwZSxcblx0XHRcdGRhdGE6IGRhdGEsXG5cdFx0XHRzdWNjZXNzOiBjYWxsYmFja1xuXHRcdH0sIGpRdWVyeS5pc1BsYWluT2JqZWN0KCB1cmwgKSAmJiB1cmwgKSApO1xuXHR9O1xufSApO1xuXG5qUXVlcnkuYWpheFByZWZpbHRlciggZnVuY3Rpb24oIHMgKSB7XG5cdHZhciBpO1xuXHRmb3IgKCBpIGluIHMuaGVhZGVycyApIHtcblx0XHRpZiAoIGkudG9Mb3dlckNhc2UoKSA9PT0gXCJjb250ZW50LXR5cGVcIiApIHtcblx0XHRcdHMuY29udGVudFR5cGUgPSBzLmhlYWRlcnNbIGkgXSB8fCBcIlwiO1xuXHRcdH1cblx0fVxufSApO1xuXG5cbmpRdWVyeS5fZXZhbFVybCA9IGZ1bmN0aW9uKCB1cmwsIG9wdGlvbnMsIGRvYyApIHtcblx0cmV0dXJuIGpRdWVyeS5hamF4KCB7XG5cdFx0dXJsOiB1cmwsXG5cblx0XHQvLyBNYWtlIHRoaXMgZXhwbGljaXQsIHNpbmNlIHVzZXIgY2FuIG92ZXJyaWRlIHRoaXMgdGhyb3VnaCBhamF4U2V0dXAgKHRyYWMtMTEyNjQpXG5cdFx0dHlwZTogXCJHRVRcIixcblx0XHRkYXRhVHlwZTogXCJzY3JpcHRcIixcblx0XHRjYWNoZTogdHJ1ZSxcblx0XHRhc3luYzogZmFsc2UsXG5cdFx0Z2xvYmFsOiBmYWxzZSxcblxuXHRcdC8vIE9ubHkgZXZhbHVhdGUgdGhlIHJlc3BvbnNlIGlmIGl0IGlzIHN1Y2Nlc3NmdWwgKGdoLTQxMjYpXG5cdFx0Ly8gZGF0YUZpbHRlciBpcyBub3QgaW52b2tlZCBmb3IgZmFpbHVyZSByZXNwb25zZXMsIHNvIHVzaW5nIGl0IGluc3RlYWRcblx0XHQvLyBvZiB0aGUgZGVmYXVsdCBjb252ZXJ0ZXIgaXMga2x1ZGd5IGJ1dCBpdCB3b3Jrcy5cblx0XHRjb252ZXJ0ZXJzOiB7XG5cdFx0XHRcInRleHQgc2NyaXB0XCI6IGZ1bmN0aW9uKCkge31cblx0XHR9LFxuXHRcdGRhdGFGaWx0ZXI6IGZ1bmN0aW9uKCByZXNwb25zZSApIHtcblx0XHRcdGpRdWVyeS5nbG9iYWxFdmFsKCByZXNwb25zZSwgb3B0aW9ucywgZG9jICk7XG5cdFx0fVxuXHR9ICk7XG59O1xuXG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0d3JhcEFsbDogZnVuY3Rpb24oIGh0bWwgKSB7XG5cdFx0dmFyIHdyYXA7XG5cblx0XHRpZiAoIHRoaXNbIDAgXSApIHtcblx0XHRcdGlmICggaXNGdW5jdGlvbiggaHRtbCApICkge1xuXHRcdFx0XHRodG1sID0gaHRtbC5jYWxsKCB0aGlzWyAwIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gVGhlIGVsZW1lbnRzIHRvIHdyYXAgdGhlIHRhcmdldCBhcm91bmRcblx0XHRcdHdyYXAgPSBqUXVlcnkoIGh0bWwsIHRoaXNbIDAgXS5vd25lckRvY3VtZW50ICkuZXEoIDAgKS5jbG9uZSggdHJ1ZSApO1xuXG5cdFx0XHRpZiAoIHRoaXNbIDAgXS5wYXJlbnROb2RlICkge1xuXHRcdFx0XHR3cmFwLmluc2VydEJlZm9yZSggdGhpc1sgMCBdICk7XG5cdFx0XHR9XG5cblx0XHRcdHdyYXAubWFwKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGVsZW0gPSB0aGlzO1xuXG5cdFx0XHRcdHdoaWxlICggZWxlbS5maXJzdEVsZW1lbnRDaGlsZCApIHtcblx0XHRcdFx0XHRlbGVtID0gZWxlbS5maXJzdEVsZW1lbnRDaGlsZDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBlbGVtO1xuXHRcdFx0fSApLmFwcGVuZCggdGhpcyApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdHdyYXBJbm5lcjogZnVuY3Rpb24oIGh0bWwgKSB7XG5cdFx0aWYgKCBpc0Z1bmN0aW9uKCBodG1sICkgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkud3JhcElubmVyKCBodG1sLmNhbGwoIHRoaXMsIGkgKSApO1xuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGYgPSBqUXVlcnkoIHRoaXMgKSxcblx0XHRcdFx0Y29udGVudHMgPSBzZWxmLmNvbnRlbnRzKCk7XG5cblx0XHRcdGlmICggY29udGVudHMubGVuZ3RoICkge1xuXHRcdFx0XHRjb250ZW50cy53cmFwQWxsKCBodG1sICk7XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHNlbGYuYXBwZW5kKCBodG1sICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdHdyYXA6IGZ1bmN0aW9uKCBodG1sICkge1xuXHRcdHZhciBodG1sSXNGdW5jdGlvbiA9IGlzRnVuY3Rpb24oIGh0bWwgKTtcblxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0alF1ZXJ5KCB0aGlzICkud3JhcEFsbCggaHRtbElzRnVuY3Rpb24gPyBodG1sLmNhbGwoIHRoaXMsIGkgKSA6IGh0bWwgKTtcblx0XHR9ICk7XG5cdH0sXG5cblx0dW53cmFwOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0dGhpcy5wYXJlbnQoIHNlbGVjdG9yICkubm90KCBcImJvZHlcIiApLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0alF1ZXJ5KCB0aGlzICkucmVwbGFjZVdpdGgoIHRoaXMuY2hpbGROb2RlcyApO1xuXHRcdH0gKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxufSApO1xuXG5cbmpRdWVyeS5leHByLnBzZXVkb3MuaGlkZGVuID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdHJldHVybiAhalF1ZXJ5LmV4cHIucHNldWRvcy52aXNpYmxlKCBlbGVtICk7XG59O1xualF1ZXJ5LmV4cHIucHNldWRvcy52aXNpYmxlID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdHJldHVybiAhISggZWxlbS5vZmZzZXRXaWR0aCB8fCBlbGVtLm9mZnNldEhlaWdodCB8fCBlbGVtLmdldENsaWVudFJlY3RzKCkubGVuZ3RoICk7XG59O1xuXG5cblxuXG5qUXVlcnkuYWpheFNldHRpbmdzLnhociA9IGZ1bmN0aW9uKCkge1xuXHR0cnkge1xuXHRcdHJldHVybiBuZXcgd2luZG93LlhNTEh0dHBSZXF1ZXN0KCk7XG5cdH0gY2F0Y2ggKCBlICkge31cbn07XG5cbnZhciB4aHJTdWNjZXNzU3RhdHVzID0ge1xuXG5cdFx0Ly8gRmlsZSBwcm90b2NvbCBhbHdheXMgeWllbGRzIHN0YXR1cyBjb2RlIDAsIGFzc3VtZSAyMDBcblx0XHQwOiAyMDAsXG5cblx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuXHRcdC8vIHRyYWMtMTQ1MDogc29tZXRpbWVzIElFIHJldHVybnMgMTIyMyB3aGVuIGl0IHNob3VsZCBiZSAyMDRcblx0XHQxMjIzOiAyMDRcblx0fSxcblx0eGhyU3VwcG9ydGVkID0galF1ZXJ5LmFqYXhTZXR0aW5ncy54aHIoKTtcblxuc3VwcG9ydC5jb3JzID0gISF4aHJTdXBwb3J0ZWQgJiYgKCBcIndpdGhDcmVkZW50aWFsc1wiIGluIHhoclN1cHBvcnRlZCApO1xuc3VwcG9ydC5hamF4ID0geGhyU3VwcG9ydGVkID0gISF4aHJTdXBwb3J0ZWQ7XG5cbmpRdWVyeS5hamF4VHJhbnNwb3J0KCBmdW5jdGlvbiggb3B0aW9ucyApIHtcblx0dmFyIGNhbGxiYWNrLCBlcnJvckNhbGxiYWNrO1xuXG5cdC8vIENyb3NzIGRvbWFpbiBvbmx5IGFsbG93ZWQgaWYgc3VwcG9ydGVkIHRocm91Z2ggWE1MSHR0cFJlcXVlc3Rcblx0aWYgKCBzdXBwb3J0LmNvcnMgfHwgeGhyU3VwcG9ydGVkICYmICFvcHRpb25zLmNyb3NzRG9tYWluICkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzZW5kOiBmdW5jdGlvbiggaGVhZGVycywgY29tcGxldGUgKSB7XG5cdFx0XHRcdHZhciBpLFxuXHRcdFx0XHRcdHhociA9IG9wdGlvbnMueGhyKCk7XG5cblx0XHRcdFx0eGhyLm9wZW4oXG5cdFx0XHRcdFx0b3B0aW9ucy50eXBlLFxuXHRcdFx0XHRcdG9wdGlvbnMudXJsLFxuXHRcdFx0XHRcdG9wdGlvbnMuYXN5bmMsXG5cdFx0XHRcdFx0b3B0aW9ucy51c2VybmFtZSxcblx0XHRcdFx0XHRvcHRpb25zLnBhc3N3b3JkXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0Ly8gQXBwbHkgY3VzdG9tIGZpZWxkcyBpZiBwcm92aWRlZFxuXHRcdFx0XHRpZiAoIG9wdGlvbnMueGhyRmllbGRzICkge1xuXHRcdFx0XHRcdGZvciAoIGkgaW4gb3B0aW9ucy54aHJGaWVsZHMgKSB7XG5cdFx0XHRcdFx0XHR4aHJbIGkgXSA9IG9wdGlvbnMueGhyRmllbGRzWyBpIF07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gT3ZlcnJpZGUgbWltZSB0eXBlIGlmIG5lZWRlZFxuXHRcdFx0XHRpZiAoIG9wdGlvbnMubWltZVR5cGUgJiYgeGhyLm92ZXJyaWRlTWltZVR5cGUgKSB7XG5cdFx0XHRcdFx0eGhyLm92ZXJyaWRlTWltZVR5cGUoIG9wdGlvbnMubWltZVR5cGUgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFgtUmVxdWVzdGVkLVdpdGggaGVhZGVyXG5cdFx0XHRcdC8vIEZvciBjcm9zcy1kb21haW4gcmVxdWVzdHMsIHNlZWluZyBhcyBjb25kaXRpb25zIGZvciBhIHByZWZsaWdodCBhcmVcblx0XHRcdFx0Ly8gYWtpbiB0byBhIGppZ3NhdyBwdXp6bGUsIHdlIHNpbXBseSBuZXZlciBzZXQgaXQgdG8gYmUgc3VyZS5cblx0XHRcdFx0Ly8gKGl0IGNhbiBhbHdheXMgYmUgc2V0IG9uIGEgcGVyLXJlcXVlc3QgYmFzaXMgb3IgZXZlbiB1c2luZyBhamF4U2V0dXApXG5cdFx0XHRcdC8vIEZvciBzYW1lLWRvbWFpbiByZXF1ZXN0cywgd29uJ3QgY2hhbmdlIGhlYWRlciBpZiBhbHJlYWR5IHByb3ZpZGVkLlxuXHRcdFx0XHRpZiAoICFvcHRpb25zLmNyb3NzRG9tYWluICYmICFoZWFkZXJzWyBcIlgtUmVxdWVzdGVkLVdpdGhcIiBdICkge1xuXHRcdFx0XHRcdGhlYWRlcnNbIFwiWC1SZXF1ZXN0ZWQtV2l0aFwiIF0gPSBcIlhNTEh0dHBSZXF1ZXN0XCI7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBTZXQgaGVhZGVyc1xuXHRcdFx0XHRmb3IgKCBpIGluIGhlYWRlcnMgKSB7XG5cdFx0XHRcdFx0eGhyLnNldFJlcXVlc3RIZWFkZXIoIGksIGhlYWRlcnNbIGkgXSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQ2FsbGJhY2tcblx0XHRcdFx0Y2FsbGJhY2sgPSBmdW5jdGlvbiggdHlwZSApIHtcblx0XHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRpZiAoIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdFx0XHRjYWxsYmFjayA9IGVycm9yQ2FsbGJhY2sgPSB4aHIub25sb2FkID1cblx0XHRcdFx0XHRcdFx0XHR4aHIub25lcnJvciA9IHhoci5vbmFib3J0ID0geGhyLm9udGltZW91dCA9XG5cdFx0XHRcdFx0XHRcdFx0XHR4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcblxuXHRcdFx0XHRcdFx0XHRpZiAoIHR5cGUgPT09IFwiYWJvcnRcIiApIHtcblx0XHRcdFx0XHRcdFx0XHR4aHIuYWJvcnQoKTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIGlmICggdHlwZSA9PT0gXCJlcnJvclwiICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD05IG9ubHlcblx0XHRcdFx0XHRcdFx0XHQvLyBPbiBhIG1hbnVhbCBuYXRpdmUgYWJvcnQsIElFOSB0aHJvd3Ncblx0XHRcdFx0XHRcdFx0XHQvLyBlcnJvcnMgb24gYW55IHByb3BlcnR5IGFjY2VzcyB0aGF0IGlzIG5vdCByZWFkeVN0YXRlXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCB0eXBlb2YgeGhyLnN0YXR1cyAhPT0gXCJudW1iZXJcIiApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbXBsZXRlKCAwLCBcImVycm9yXCIgKTtcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29tcGxldGUoXG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gRmlsZTogcHJvdG9jb2wgYWx3YXlzIHlpZWxkcyBzdGF0dXMgMDsgc2VlIHRyYWMtODYwNSwgdHJhYy0xNDIwN1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR4aHIuc3RhdHVzLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR4aHIuc3RhdHVzVGV4dFxuXHRcdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29tcGxldGUoXG5cdFx0XHRcdFx0XHRcdFx0XHR4aHJTdWNjZXNzU3RhdHVzWyB4aHIuc3RhdHVzIF0gfHwgeGhyLnN0YXR1cyxcblx0XHRcdFx0XHRcdFx0XHRcdHhoci5zdGF0dXNUZXh0LFxuXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gSUU5IGhhcyBubyBYSFIyIGJ1dCB0aHJvd3Mgb24gYmluYXJ5ICh0cmFjLTExNDI2KVxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gRm9yIFhIUjIgbm9uLXRleHQsIGxldCB0aGUgY2FsbGVyIGhhbmRsZSBpdCAoZ2gtMjQ5OClcblx0XHRcdFx0XHRcdFx0XHRcdCggeGhyLnJlc3BvbnNlVHlwZSB8fCBcInRleHRcIiApICE9PSBcInRleHRcIiAgfHxcblx0XHRcdFx0XHRcdFx0XHRcdHR5cGVvZiB4aHIucmVzcG9uc2VUZXh0ICE9PSBcInN0cmluZ1wiID9cblx0XHRcdFx0XHRcdFx0XHRcdFx0eyBiaW5hcnk6IHhoci5yZXNwb25zZSB9IDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0eyB0ZXh0OiB4aHIucmVzcG9uc2VUZXh0IH0sXG5cdFx0XHRcdFx0XHRcdFx0XHR4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKClcblx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fTtcblxuXHRcdFx0XHQvLyBMaXN0ZW4gdG8gZXZlbnRzXG5cdFx0XHRcdHhoci5vbmxvYWQgPSBjYWxsYmFjaygpO1xuXHRcdFx0XHRlcnJvckNhbGxiYWNrID0geGhyLm9uZXJyb3IgPSB4aHIub250aW1lb3V0ID0gY2FsbGJhY2soIFwiZXJyb3JcIiApO1xuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDkgb25seVxuXHRcdFx0XHQvLyBVc2Ugb25yZWFkeXN0YXRlY2hhbmdlIHRvIHJlcGxhY2Ugb25hYm9ydFxuXHRcdFx0XHQvLyB0byBoYW5kbGUgdW5jYXVnaHQgYWJvcnRzXG5cdFx0XHRcdGlmICggeGhyLm9uYWJvcnQgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHR4aHIub25hYm9ydCA9IGVycm9yQ2FsbGJhY2s7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0eGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdFx0XHQvLyBDaGVjayByZWFkeVN0YXRlIGJlZm9yZSB0aW1lb3V0IGFzIGl0IGNoYW5nZXNcblx0XHRcdFx0XHRcdGlmICggeGhyLnJlYWR5U3RhdGUgPT09IDQgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gQWxsb3cgb25lcnJvciB0byBiZSBjYWxsZWQgZmlyc3QsXG5cdFx0XHRcdFx0XHRcdC8vIGJ1dCB0aGF0IHdpbGwgbm90IGhhbmRsZSBhIG5hdGl2ZSBhYm9ydFxuXHRcdFx0XHRcdFx0XHQvLyBBbHNvLCBzYXZlIGVycm9yQ2FsbGJhY2sgdG8gYSB2YXJpYWJsZVxuXHRcdFx0XHRcdFx0XHQvLyBhcyB4aHIub25lcnJvciBjYW5ub3QgYmUgYWNjZXNzZWRcblx0XHRcdFx0XHRcdFx0d2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdGlmICggY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRlcnJvckNhbGxiYWNrKCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIENyZWF0ZSB0aGUgYWJvcnQgY2FsbGJhY2tcblx0XHRcdFx0Y2FsbGJhY2sgPSBjYWxsYmFjayggXCJhYm9ydFwiICk7XG5cblx0XHRcdFx0dHJ5IHtcblxuXHRcdFx0XHRcdC8vIERvIHNlbmQgdGhlIHJlcXVlc3QgKHRoaXMgbWF5IHJhaXNlIGFuIGV4Y2VwdGlvbilcblx0XHRcdFx0XHR4aHIuc2VuZCggb3B0aW9ucy5oYXNDb250ZW50ICYmIG9wdGlvbnMuZGF0YSB8fCBudWxsICk7XG5cdFx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXG5cdFx0XHRcdFx0Ly8gdHJhYy0xNDY4MzogT25seSByZXRocm93IGlmIHRoaXMgaGFzbid0IGJlZW4gbm90aWZpZWQgYXMgYW4gZXJyb3IgeWV0XG5cdFx0XHRcdFx0aWYgKCBjYWxsYmFjayApIHtcblx0XHRcdFx0XHRcdHRocm93IGU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXG5cdFx0XHRhYm9ydDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0Y2FsbGJhY2soKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cdH1cbn0gKTtcblxuXG5cblxuLy8gUHJldmVudCBhdXRvLWV4ZWN1dGlvbiBvZiBzY3JpcHRzIHdoZW4gbm8gZXhwbGljaXQgZGF0YVR5cGUgd2FzIHByb3ZpZGVkIChTZWUgZ2gtMjQzMilcbmpRdWVyeS5hamF4UHJlZmlsdGVyKCBmdW5jdGlvbiggcyApIHtcblx0aWYgKCBzLmNyb3NzRG9tYWluICkge1xuXHRcdHMuY29udGVudHMuc2NyaXB0ID0gZmFsc2U7XG5cdH1cbn0gKTtcblxuLy8gSW5zdGFsbCBzY3JpcHQgZGF0YVR5cGVcbmpRdWVyeS5hamF4U2V0dXAoIHtcblx0YWNjZXB0czoge1xuXHRcdHNjcmlwdDogXCJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIFwiICtcblx0XHRcdFwiYXBwbGljYXRpb24vZWNtYXNjcmlwdCwgYXBwbGljYXRpb24veC1lY21hc2NyaXB0XCJcblx0fSxcblx0Y29udGVudHM6IHtcblx0XHRzY3JpcHQ6IC9cXGIoPzpqYXZhfGVjbWEpc2NyaXB0XFxiL1xuXHR9LFxuXHRjb252ZXJ0ZXJzOiB7XG5cdFx0XCJ0ZXh0IHNjcmlwdFwiOiBmdW5jdGlvbiggdGV4dCApIHtcblx0XHRcdGpRdWVyeS5nbG9iYWxFdmFsKCB0ZXh0ICk7XG5cdFx0XHRyZXR1cm4gdGV4dDtcblx0XHR9XG5cdH1cbn0gKTtcblxuLy8gSGFuZGxlIGNhY2hlJ3Mgc3BlY2lhbCBjYXNlIGFuZCBjcm9zc0RvbWFpblxualF1ZXJ5LmFqYXhQcmVmaWx0ZXIoIFwic2NyaXB0XCIsIGZ1bmN0aW9uKCBzICkge1xuXHRpZiAoIHMuY2FjaGUgPT09IHVuZGVmaW5lZCApIHtcblx0XHRzLmNhY2hlID0gZmFsc2U7XG5cdH1cblx0aWYgKCBzLmNyb3NzRG9tYWluICkge1xuXHRcdHMudHlwZSA9IFwiR0VUXCI7XG5cdH1cbn0gKTtcblxuLy8gQmluZCBzY3JpcHQgdGFnIGhhY2sgdHJhbnNwb3J0XG5qUXVlcnkuYWpheFRyYW5zcG9ydCggXCJzY3JpcHRcIiwgZnVuY3Rpb24oIHMgKSB7XG5cblx0Ly8gVGhpcyB0cmFuc3BvcnQgb25seSBkZWFscyB3aXRoIGNyb3NzIGRvbWFpbiBvciBmb3JjZWQtYnktYXR0cnMgcmVxdWVzdHNcblx0aWYgKCBzLmNyb3NzRG9tYWluIHx8IHMuc2NyaXB0QXR0cnMgKSB7XG5cdFx0dmFyIHNjcmlwdCwgY2FsbGJhY2s7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHNlbmQ6IGZ1bmN0aW9uKCBfLCBjb21wbGV0ZSApIHtcblx0XHRcdFx0c2NyaXB0ID0galF1ZXJ5KCBcIjxzY3JpcHQ+XCIgKVxuXHRcdFx0XHRcdC5hdHRyKCBzLnNjcmlwdEF0dHJzIHx8IHt9IClcblx0XHRcdFx0XHQucHJvcCggeyBjaGFyc2V0OiBzLnNjcmlwdENoYXJzZXQsIHNyYzogcy51cmwgfSApXG5cdFx0XHRcdFx0Lm9uKCBcImxvYWQgZXJyb3JcIiwgY2FsbGJhY2sgPSBmdW5jdGlvbiggZXZ0ICkge1xuXHRcdFx0XHRcdFx0c2NyaXB0LnJlbW92ZSgpO1xuXHRcdFx0XHRcdFx0Y2FsbGJhY2sgPSBudWxsO1xuXHRcdFx0XHRcdFx0aWYgKCBldnQgKSB7XG5cdFx0XHRcdFx0XHRcdGNvbXBsZXRlKCBldnQudHlwZSA9PT0gXCJlcnJvclwiID8gNDA0IDogMjAwLCBldnQudHlwZSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gKTtcblxuXHRcdFx0XHQvLyBVc2UgbmF0aXZlIERPTSBtYW5pcHVsYXRpb24gdG8gYXZvaWQgb3VyIGRvbU1hbmlwIEFKQVggdHJpY2tlcnlcblx0XHRcdFx0ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZCggc2NyaXB0WyAwIF0gKTtcblx0XHRcdH0sXG5cdFx0XHRhYm9ydDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0Y2FsbGJhY2soKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cdH1cbn0gKTtcblxuXG5cblxudmFyIG9sZENhbGxiYWNrcyA9IFtdLFxuXHRyanNvbnAgPSAvKD0pXFw/KD89JnwkKXxcXD9cXD8vO1xuXG4vLyBEZWZhdWx0IGpzb25wIHNldHRpbmdzXG5qUXVlcnkuYWpheFNldHVwKCB7XG5cdGpzb25wOiBcImNhbGxiYWNrXCIsXG5cdGpzb25wQ2FsbGJhY2s6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBjYWxsYmFjayA9IG9sZENhbGxiYWNrcy5wb3AoKSB8fCAoIGpRdWVyeS5leHBhbmRvICsgXCJfXCIgKyAoIG5vbmNlLmd1aWQrKyApICk7XG5cdFx0dGhpc1sgY2FsbGJhY2sgXSA9IHRydWU7XG5cdFx0cmV0dXJuIGNhbGxiYWNrO1xuXHR9XG59ICk7XG5cbi8vIERldGVjdCwgbm9ybWFsaXplIG9wdGlvbnMgYW5kIGluc3RhbGwgY2FsbGJhY2tzIGZvciBqc29ucCByZXF1ZXN0c1xualF1ZXJ5LmFqYXhQcmVmaWx0ZXIoIFwianNvbiBqc29ucFwiLCBmdW5jdGlvbiggcywgb3JpZ2luYWxTZXR0aW5ncywganFYSFIgKSB7XG5cblx0dmFyIGNhbGxiYWNrTmFtZSwgb3ZlcndyaXR0ZW4sIHJlc3BvbnNlQ29udGFpbmVyLFxuXHRcdGpzb25Qcm9wID0gcy5qc29ucCAhPT0gZmFsc2UgJiYgKCByanNvbnAudGVzdCggcy51cmwgKSA/XG5cdFx0XHRcInVybFwiIDpcblx0XHRcdHR5cGVvZiBzLmRhdGEgPT09IFwic3RyaW5nXCIgJiZcblx0XHRcdFx0KCBzLmNvbnRlbnRUeXBlIHx8IFwiXCIgKVxuXHRcdFx0XHRcdC5pbmRleE9mKCBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiICkgPT09IDAgJiZcblx0XHRcdFx0cmpzb25wLnRlc3QoIHMuZGF0YSApICYmIFwiZGF0YVwiXG5cdFx0KTtcblxuXHQvLyBIYW5kbGUgaWZmIHRoZSBleHBlY3RlZCBkYXRhIHR5cGUgaXMgXCJqc29ucFwiIG9yIHdlIGhhdmUgYSBwYXJhbWV0ZXIgdG8gc2V0XG5cdGlmICgganNvblByb3AgfHwgcy5kYXRhVHlwZXNbIDAgXSA9PT0gXCJqc29ucFwiICkge1xuXG5cdFx0Ly8gR2V0IGNhbGxiYWNrIG5hbWUsIHJlbWVtYmVyaW5nIHByZWV4aXN0aW5nIHZhbHVlIGFzc29jaWF0ZWQgd2l0aCBpdFxuXHRcdGNhbGxiYWNrTmFtZSA9IHMuanNvbnBDYWxsYmFjayA9IGlzRnVuY3Rpb24oIHMuanNvbnBDYWxsYmFjayApID9cblx0XHRcdHMuanNvbnBDYWxsYmFjaygpIDpcblx0XHRcdHMuanNvbnBDYWxsYmFjaztcblxuXHRcdC8vIEluc2VydCBjYWxsYmFjayBpbnRvIHVybCBvciBmb3JtIGRhdGFcblx0XHRpZiAoIGpzb25Qcm9wICkge1xuXHRcdFx0c1sganNvblByb3AgXSA9IHNbIGpzb25Qcm9wIF0ucmVwbGFjZSggcmpzb25wLCBcIiQxXCIgKyBjYWxsYmFja05hbWUgKTtcblx0XHR9IGVsc2UgaWYgKCBzLmpzb25wICE9PSBmYWxzZSApIHtcblx0XHRcdHMudXJsICs9ICggcnF1ZXJ5LnRlc3QoIHMudXJsICkgPyBcIiZcIiA6IFwiP1wiICkgKyBzLmpzb25wICsgXCI9XCIgKyBjYWxsYmFja05hbWU7XG5cdFx0fVxuXG5cdFx0Ly8gVXNlIGRhdGEgY29udmVydGVyIHRvIHJldHJpZXZlIGpzb24gYWZ0ZXIgc2NyaXB0IGV4ZWN1dGlvblxuXHRcdHMuY29udmVydGVyc1sgXCJzY3JpcHQganNvblwiIF0gPSBmdW5jdGlvbigpIHtcblx0XHRcdGlmICggIXJlc3BvbnNlQ29udGFpbmVyICkge1xuXHRcdFx0XHRqUXVlcnkuZXJyb3IoIGNhbGxiYWNrTmFtZSArIFwiIHdhcyBub3QgY2FsbGVkXCIgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiByZXNwb25zZUNvbnRhaW5lclsgMCBdO1xuXHRcdH07XG5cblx0XHQvLyBGb3JjZSBqc29uIGRhdGFUeXBlXG5cdFx0cy5kYXRhVHlwZXNbIDAgXSA9IFwianNvblwiO1xuXG5cdFx0Ly8gSW5zdGFsbCBjYWxsYmFja1xuXHRcdG92ZXJ3cml0dGVuID0gd2luZG93WyBjYWxsYmFja05hbWUgXTtcblx0XHR3aW5kb3dbIGNhbGxiYWNrTmFtZSBdID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXNwb25zZUNvbnRhaW5lciA9IGFyZ3VtZW50cztcblx0XHR9O1xuXG5cdFx0Ly8gQ2xlYW4tdXAgZnVuY3Rpb24gKGZpcmVzIGFmdGVyIGNvbnZlcnRlcnMpXG5cdFx0anFYSFIuYWx3YXlzKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gSWYgcHJldmlvdXMgdmFsdWUgZGlkbid0IGV4aXN0IC0gcmVtb3ZlIGl0XG5cdFx0XHRpZiAoIG92ZXJ3cml0dGVuID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdGpRdWVyeSggd2luZG93ICkucmVtb3ZlUHJvcCggY2FsbGJhY2tOYW1lICk7XG5cblx0XHRcdC8vIE90aGVyd2lzZSByZXN0b3JlIHByZWV4aXN0aW5nIHZhbHVlXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR3aW5kb3dbIGNhbGxiYWNrTmFtZSBdID0gb3ZlcndyaXR0ZW47XG5cdFx0XHR9XG5cblx0XHRcdC8vIFNhdmUgYmFjayBhcyBmcmVlXG5cdFx0XHRpZiAoIHNbIGNhbGxiYWNrTmFtZSBdICkge1xuXG5cdFx0XHRcdC8vIE1ha2Ugc3VyZSB0aGF0IHJlLXVzaW5nIHRoZSBvcHRpb25zIGRvZXNuJ3Qgc2NyZXcgdGhpbmdzIGFyb3VuZFxuXHRcdFx0XHRzLmpzb25wQ2FsbGJhY2sgPSBvcmlnaW5hbFNldHRpbmdzLmpzb25wQ2FsbGJhY2s7XG5cblx0XHRcdFx0Ly8gU2F2ZSB0aGUgY2FsbGJhY2sgbmFtZSBmb3IgZnV0dXJlIHVzZVxuXHRcdFx0XHRvbGRDYWxsYmFja3MucHVzaCggY2FsbGJhY2tOYW1lICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENhbGwgaWYgaXQgd2FzIGEgZnVuY3Rpb24gYW5kIHdlIGhhdmUgYSByZXNwb25zZVxuXHRcdFx0aWYgKCByZXNwb25zZUNvbnRhaW5lciAmJiBpc0Z1bmN0aW9uKCBvdmVyd3JpdHRlbiApICkge1xuXHRcdFx0XHRvdmVyd3JpdHRlbiggcmVzcG9uc2VDb250YWluZXJbIDAgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXNwb25zZUNvbnRhaW5lciA9IG92ZXJ3cml0dGVuID0gdW5kZWZpbmVkO1xuXHRcdH0gKTtcblxuXHRcdC8vIERlbGVnYXRlIHRvIHNjcmlwdFxuXHRcdHJldHVybiBcInNjcmlwdFwiO1xuXHR9XG59ICk7XG5cblxuXG5cbi8vIFN1cHBvcnQ6IFNhZmFyaSA4IG9ubHlcbi8vIEluIFNhZmFyaSA4IGRvY3VtZW50cyBjcmVhdGVkIHZpYSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnRcbi8vIGNvbGxhcHNlIHNpYmxpbmcgZm9ybXM6IHRoZSBzZWNvbmQgb25lIGJlY29tZXMgYSBjaGlsZCBvZiB0aGUgZmlyc3Qgb25lLlxuLy8gQmVjYXVzZSBvZiB0aGF0LCB0aGlzIHNlY3VyaXR5IG1lYXN1cmUgaGFzIHRvIGJlIGRpc2FibGVkIGluIFNhZmFyaSA4LlxuLy8gaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTEzNzMzN1xuc3VwcG9ydC5jcmVhdGVIVE1MRG9jdW1lbnQgPSAoIGZ1bmN0aW9uKCkge1xuXHR2YXIgYm9keSA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCggXCJcIiApLmJvZHk7XG5cdGJvZHkuaW5uZXJIVE1MID0gXCI8Zm9ybT48L2Zvcm0+PGZvcm0+PC9mb3JtPlwiO1xuXHRyZXR1cm4gYm9keS5jaGlsZE5vZGVzLmxlbmd0aCA9PT0gMjtcbn0gKSgpO1xuXG5cbi8vIEFyZ3VtZW50IFwiZGF0YVwiIHNob3VsZCBiZSBzdHJpbmcgb2YgaHRtbFxuLy8gY29udGV4dCAob3B0aW9uYWwpOiBJZiBzcGVjaWZpZWQsIHRoZSBmcmFnbWVudCB3aWxsIGJlIGNyZWF0ZWQgaW4gdGhpcyBjb250ZXh0LFxuLy8gZGVmYXVsdHMgdG8gZG9jdW1lbnRcbi8vIGtlZXBTY3JpcHRzIChvcHRpb25hbCk6IElmIHRydWUsIHdpbGwgaW5jbHVkZSBzY3JpcHRzIHBhc3NlZCBpbiB0aGUgaHRtbCBzdHJpbmdcbmpRdWVyeS5wYXJzZUhUTUwgPSBmdW5jdGlvbiggZGF0YSwgY29udGV4dCwga2VlcFNjcmlwdHMgKSB7XG5cdGlmICggdHlwZW9mIGRhdGEgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0cmV0dXJuIFtdO1xuXHR9XG5cdGlmICggdHlwZW9mIGNvbnRleHQgPT09IFwiYm9vbGVhblwiICkge1xuXHRcdGtlZXBTY3JpcHRzID0gY29udGV4dDtcblx0XHRjb250ZXh0ID0gZmFsc2U7XG5cdH1cblxuXHR2YXIgYmFzZSwgcGFyc2VkLCBzY3JpcHRzO1xuXG5cdGlmICggIWNvbnRleHQgKSB7XG5cblx0XHQvLyBTdG9wIHNjcmlwdHMgb3IgaW5saW5lIGV2ZW50IGhhbmRsZXJzIGZyb20gYmVpbmcgZXhlY3V0ZWQgaW1tZWRpYXRlbHlcblx0XHQvLyBieSB1c2luZyBkb2N1bWVudC5pbXBsZW1lbnRhdGlvblxuXHRcdGlmICggc3VwcG9ydC5jcmVhdGVIVE1MRG9jdW1lbnQgKSB7XG5cdFx0XHRjb250ZXh0ID0gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCBcIlwiICk7XG5cblx0XHRcdC8vIFNldCB0aGUgYmFzZSBocmVmIGZvciB0aGUgY3JlYXRlZCBkb2N1bWVudFxuXHRcdFx0Ly8gc28gYW55IHBhcnNlZCBlbGVtZW50cyB3aXRoIFVSTHNcblx0XHRcdC8vIGFyZSBiYXNlZCBvbiB0aGUgZG9jdW1lbnQncyBVUkwgKGdoLTI5NjUpXG5cdFx0XHRiYXNlID0gY29udGV4dC5jcmVhdGVFbGVtZW50KCBcImJhc2VcIiApO1xuXHRcdFx0YmFzZS5ocmVmID0gZG9jdW1lbnQubG9jYXRpb24uaHJlZjtcblx0XHRcdGNvbnRleHQuaGVhZC5hcHBlbmRDaGlsZCggYmFzZSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb250ZXh0ID0gZG9jdW1lbnQ7XG5cdFx0fVxuXHR9XG5cblx0cGFyc2VkID0gcnNpbmdsZVRhZy5leGVjKCBkYXRhICk7XG5cdHNjcmlwdHMgPSAha2VlcFNjcmlwdHMgJiYgW107XG5cblx0Ly8gU2luZ2xlIHRhZ1xuXHRpZiAoIHBhcnNlZCApIHtcblx0XHRyZXR1cm4gWyBjb250ZXh0LmNyZWF0ZUVsZW1lbnQoIHBhcnNlZFsgMSBdICkgXTtcblx0fVxuXG5cdHBhcnNlZCA9IGJ1aWxkRnJhZ21lbnQoIFsgZGF0YSBdLCBjb250ZXh0LCBzY3JpcHRzICk7XG5cblx0aWYgKCBzY3JpcHRzICYmIHNjcmlwdHMubGVuZ3RoICkge1xuXHRcdGpRdWVyeSggc2NyaXB0cyApLnJlbW92ZSgpO1xuXHR9XG5cblx0cmV0dXJuIGpRdWVyeS5tZXJnZSggW10sIHBhcnNlZC5jaGlsZE5vZGVzICk7XG59O1xuXG5cbi8qKlxuICogTG9hZCBhIHVybCBpbnRvIGEgcGFnZVxuICovXG5qUXVlcnkuZm4ubG9hZCA9IGZ1bmN0aW9uKCB1cmwsIHBhcmFtcywgY2FsbGJhY2sgKSB7XG5cdHZhciBzZWxlY3RvciwgdHlwZSwgcmVzcG9uc2UsXG5cdFx0c2VsZiA9IHRoaXMsXG5cdFx0b2ZmID0gdXJsLmluZGV4T2YoIFwiIFwiICk7XG5cblx0aWYgKCBvZmYgPiAtMSApIHtcblx0XHRzZWxlY3RvciA9IHN0cmlwQW5kQ29sbGFwc2UoIHVybC5zbGljZSggb2ZmICkgKTtcblx0XHR1cmwgPSB1cmwuc2xpY2UoIDAsIG9mZiApO1xuXHR9XG5cblx0Ly8gSWYgaXQncyBhIGZ1bmN0aW9uXG5cdGlmICggaXNGdW5jdGlvbiggcGFyYW1zICkgKSB7XG5cblx0XHQvLyBXZSBhc3N1bWUgdGhhdCBpdCdzIHRoZSBjYWxsYmFja1xuXHRcdGNhbGxiYWNrID0gcGFyYW1zO1xuXHRcdHBhcmFtcyA9IHVuZGVmaW5lZDtcblxuXHQvLyBPdGhlcndpc2UsIGJ1aWxkIGEgcGFyYW0gc3RyaW5nXG5cdH0gZWxzZSBpZiAoIHBhcmFtcyAmJiB0eXBlb2YgcGFyYW1zID09PSBcIm9iamVjdFwiICkge1xuXHRcdHR5cGUgPSBcIlBPU1RcIjtcblx0fVxuXG5cdC8vIElmIHdlIGhhdmUgZWxlbWVudHMgdG8gbW9kaWZ5LCBtYWtlIHRoZSByZXF1ZXN0XG5cdGlmICggc2VsZi5sZW5ndGggPiAwICkge1xuXHRcdGpRdWVyeS5hamF4KCB7XG5cdFx0XHR1cmw6IHVybCxcblxuXHRcdFx0Ly8gSWYgXCJ0eXBlXCIgdmFyaWFibGUgaXMgdW5kZWZpbmVkLCB0aGVuIFwiR0VUXCIgbWV0aG9kIHdpbGwgYmUgdXNlZC5cblx0XHRcdC8vIE1ha2UgdmFsdWUgb2YgdGhpcyBmaWVsZCBleHBsaWNpdCBzaW5jZVxuXHRcdFx0Ly8gdXNlciBjYW4gb3ZlcnJpZGUgaXQgdGhyb3VnaCBhamF4U2V0dXAgbWV0aG9kXG5cdFx0XHR0eXBlOiB0eXBlIHx8IFwiR0VUXCIsXG5cdFx0XHRkYXRhVHlwZTogXCJodG1sXCIsXG5cdFx0XHRkYXRhOiBwYXJhbXNcblx0XHR9ICkuZG9uZSggZnVuY3Rpb24oIHJlc3BvbnNlVGV4dCApIHtcblxuXHRcdFx0Ly8gU2F2ZSByZXNwb25zZSBmb3IgdXNlIGluIGNvbXBsZXRlIGNhbGxiYWNrXG5cdFx0XHRyZXNwb25zZSA9IGFyZ3VtZW50cztcblxuXHRcdFx0c2VsZi5odG1sKCBzZWxlY3RvciA/XG5cblx0XHRcdFx0Ly8gSWYgYSBzZWxlY3RvciB3YXMgc3BlY2lmaWVkLCBsb2NhdGUgdGhlIHJpZ2h0IGVsZW1lbnRzIGluIGEgZHVtbXkgZGl2XG5cdFx0XHRcdC8vIEV4Y2x1ZGUgc2NyaXB0cyB0byBhdm9pZCBJRSAnUGVybWlzc2lvbiBEZW5pZWQnIGVycm9yc1xuXHRcdFx0XHRqUXVlcnkoIFwiPGRpdj5cIiApLmFwcGVuZCggalF1ZXJ5LnBhcnNlSFRNTCggcmVzcG9uc2VUZXh0ICkgKS5maW5kKCBzZWxlY3RvciApIDpcblxuXHRcdFx0XHQvLyBPdGhlcndpc2UgdXNlIHRoZSBmdWxsIHJlc3VsdFxuXHRcdFx0XHRyZXNwb25zZVRleHQgKTtcblxuXHRcdC8vIElmIHRoZSByZXF1ZXN0IHN1Y2NlZWRzLCB0aGlzIGZ1bmN0aW9uIGdldHMgXCJkYXRhXCIsIFwic3RhdHVzXCIsIFwianFYSFJcIlxuXHRcdC8vIGJ1dCB0aGV5IGFyZSBpZ25vcmVkIGJlY2F1c2UgcmVzcG9uc2Ugd2FzIHNldCBhYm92ZS5cblx0XHQvLyBJZiBpdCBmYWlscywgdGhpcyBmdW5jdGlvbiBnZXRzIFwianFYSFJcIiwgXCJzdGF0dXNcIiwgXCJlcnJvclwiXG5cdFx0fSApLmFsd2F5cyggY2FsbGJhY2sgJiYgZnVuY3Rpb24oIGpxWEhSLCBzdGF0dXMgKSB7XG5cdFx0XHRzZWxmLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRjYWxsYmFjay5hcHBseSggdGhpcywgcmVzcG9uc2UgfHwgWyBqcVhIUi5yZXNwb25zZVRleHQsIHN0YXR1cywganFYSFIgXSApO1xuXHRcdFx0fSApO1xuXHRcdH0gKTtcblx0fVxuXG5cdHJldHVybiB0aGlzO1xufTtcblxuXG5cblxualF1ZXJ5LmV4cHIucHNldWRvcy5hbmltYXRlZCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRyZXR1cm4galF1ZXJ5LmdyZXAoIGpRdWVyeS50aW1lcnMsIGZ1bmN0aW9uKCBmbiApIHtcblx0XHRyZXR1cm4gZWxlbSA9PT0gZm4uZWxlbTtcblx0fSApLmxlbmd0aDtcbn07XG5cblxuXG5cbmpRdWVyeS5vZmZzZXQgPSB7XG5cdHNldE9mZnNldDogZnVuY3Rpb24oIGVsZW0sIG9wdGlvbnMsIGkgKSB7XG5cdFx0dmFyIGN1clBvc2l0aW9uLCBjdXJMZWZ0LCBjdXJDU1NUb3AsIGN1clRvcCwgY3VyT2Zmc2V0LCBjdXJDU1NMZWZ0LCBjYWxjdWxhdGVQb3NpdGlvbixcblx0XHRcdHBvc2l0aW9uID0galF1ZXJ5LmNzcyggZWxlbSwgXCJwb3NpdGlvblwiICksXG5cdFx0XHRjdXJFbGVtID0galF1ZXJ5KCBlbGVtICksXG5cdFx0XHRwcm9wcyA9IHt9O1xuXG5cdFx0Ly8gU2V0IHBvc2l0aW9uIGZpcnN0LCBpbi1jYXNlIHRvcC9sZWZ0IGFyZSBzZXQgZXZlbiBvbiBzdGF0aWMgZWxlbVxuXHRcdGlmICggcG9zaXRpb24gPT09IFwic3RhdGljXCIgKSB7XG5cdFx0XHRlbGVtLnN0eWxlLnBvc2l0aW9uID0gXCJyZWxhdGl2ZVwiO1xuXHRcdH1cblxuXHRcdGN1ck9mZnNldCA9IGN1ckVsZW0ub2Zmc2V0KCk7XG5cdFx0Y3VyQ1NTVG9wID0galF1ZXJ5LmNzcyggZWxlbSwgXCJ0b3BcIiApO1xuXHRcdGN1ckNTU0xlZnQgPSBqUXVlcnkuY3NzKCBlbGVtLCBcImxlZnRcIiApO1xuXHRcdGNhbGN1bGF0ZVBvc2l0aW9uID0gKCBwb3NpdGlvbiA9PT0gXCJhYnNvbHV0ZVwiIHx8IHBvc2l0aW9uID09PSBcImZpeGVkXCIgKSAmJlxuXHRcdFx0KCBjdXJDU1NUb3AgKyBjdXJDU1NMZWZ0ICkuaW5kZXhPZiggXCJhdXRvXCIgKSA+IC0xO1xuXG5cdFx0Ly8gTmVlZCB0byBiZSBhYmxlIHRvIGNhbGN1bGF0ZSBwb3NpdGlvbiBpZiBlaXRoZXJcblx0XHQvLyB0b3Agb3IgbGVmdCBpcyBhdXRvIGFuZCBwb3NpdGlvbiBpcyBlaXRoZXIgYWJzb2x1dGUgb3IgZml4ZWRcblx0XHRpZiAoIGNhbGN1bGF0ZVBvc2l0aW9uICkge1xuXHRcdFx0Y3VyUG9zaXRpb24gPSBjdXJFbGVtLnBvc2l0aW9uKCk7XG5cdFx0XHRjdXJUb3AgPSBjdXJQb3NpdGlvbi50b3A7XG5cdFx0XHRjdXJMZWZ0ID0gY3VyUG9zaXRpb24ubGVmdDtcblxuXHRcdH0gZWxzZSB7XG5cdFx0XHRjdXJUb3AgPSBwYXJzZUZsb2F0KCBjdXJDU1NUb3AgKSB8fCAwO1xuXHRcdFx0Y3VyTGVmdCA9IHBhcnNlRmxvYXQoIGN1ckNTU0xlZnQgKSB8fCAwO1xuXHRcdH1cblxuXHRcdGlmICggaXNGdW5jdGlvbiggb3B0aW9ucyApICkge1xuXG5cdFx0XHQvLyBVc2UgalF1ZXJ5LmV4dGVuZCBoZXJlIHRvIGFsbG93IG1vZGlmaWNhdGlvbiBvZiBjb29yZGluYXRlcyBhcmd1bWVudCAoZ2gtMTg0OClcblx0XHRcdG9wdGlvbnMgPSBvcHRpb25zLmNhbGwoIGVsZW0sIGksIGpRdWVyeS5leHRlbmQoIHt9LCBjdXJPZmZzZXQgKSApO1xuXHRcdH1cblxuXHRcdGlmICggb3B0aW9ucy50b3AgIT0gbnVsbCApIHtcblx0XHRcdHByb3BzLnRvcCA9ICggb3B0aW9ucy50b3AgLSBjdXJPZmZzZXQudG9wICkgKyBjdXJUb3A7XG5cdFx0fVxuXHRcdGlmICggb3B0aW9ucy5sZWZ0ICE9IG51bGwgKSB7XG5cdFx0XHRwcm9wcy5sZWZ0ID0gKCBvcHRpb25zLmxlZnQgLSBjdXJPZmZzZXQubGVmdCApICsgY3VyTGVmdDtcblx0XHR9XG5cblx0XHRpZiAoIFwidXNpbmdcIiBpbiBvcHRpb25zICkge1xuXHRcdFx0b3B0aW9ucy51c2luZy5jYWxsKCBlbGVtLCBwcm9wcyApO1xuXG5cdFx0fSBlbHNlIHtcblx0XHRcdGN1ckVsZW0uY3NzKCBwcm9wcyApO1xuXHRcdH1cblx0fVxufTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXG5cdC8vIG9mZnNldCgpIHJlbGF0ZXMgYW4gZWxlbWVudCdzIGJvcmRlciBib3ggdG8gdGhlIGRvY3VtZW50IG9yaWdpblxuXHRvZmZzZXQ6IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXG5cdFx0Ly8gUHJlc2VydmUgY2hhaW5pbmcgZm9yIHNldHRlclxuXHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdHJldHVybiBvcHRpb25zID09PSB1bmRlZmluZWQgP1xuXHRcdFx0XHR0aGlzIDpcblx0XHRcdFx0dGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcblx0XHRcdFx0XHRqUXVlcnkub2Zmc2V0LnNldE9mZnNldCggdGhpcywgb3B0aW9ucywgaSApO1xuXHRcdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0dmFyIHJlY3QsIHdpbixcblx0XHRcdGVsZW0gPSB0aGlzWyAwIF07XG5cblx0XHRpZiAoICFlbGVtICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIFJldHVybiB6ZXJvcyBmb3IgZGlzY29ubmVjdGVkIGFuZCBoaWRkZW4gKGRpc3BsYXk6IG5vbmUpIGVsZW1lbnRzIChnaC0yMzEwKVxuXHRcdC8vIFN1cHBvcnQ6IElFIDw9MTEgb25seVxuXHRcdC8vIFJ1bm5pbmcgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IG9uIGFcblx0XHQvLyBkaXNjb25uZWN0ZWQgbm9kZSBpbiBJRSB0aHJvd3MgYW4gZXJyb3Jcblx0XHRpZiAoICFlbGVtLmdldENsaWVudFJlY3RzKCkubGVuZ3RoICkge1xuXHRcdFx0cmV0dXJuIHsgdG9wOiAwLCBsZWZ0OiAwIH07XG5cdFx0fVxuXG5cdFx0Ly8gR2V0IGRvY3VtZW50LXJlbGF0aXZlIHBvc2l0aW9uIGJ5IGFkZGluZyB2aWV3cG9ydCBzY3JvbGwgdG8gdmlld3BvcnQtcmVsYXRpdmUgZ0JDUlxuXHRcdHJlY3QgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdHdpbiA9IGVsZW0ub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldztcblx0XHRyZXR1cm4ge1xuXHRcdFx0dG9wOiByZWN0LnRvcCArIHdpbi5wYWdlWU9mZnNldCxcblx0XHRcdGxlZnQ6IHJlY3QubGVmdCArIHdpbi5wYWdlWE9mZnNldFxuXHRcdH07XG5cdH0sXG5cblx0Ly8gcG9zaXRpb24oKSByZWxhdGVzIGFuIGVsZW1lbnQncyBtYXJnaW4gYm94IHRvIGl0cyBvZmZzZXQgcGFyZW50J3MgcGFkZGluZyBib3hcblx0Ly8gVGhpcyBjb3JyZXNwb25kcyB0byB0aGUgYmVoYXZpb3Igb2YgQ1NTIGFic29sdXRlIHBvc2l0aW9uaW5nXG5cdHBvc2l0aW9uOiBmdW5jdGlvbigpIHtcblx0XHRpZiAoICF0aGlzWyAwIF0gKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dmFyIG9mZnNldFBhcmVudCwgb2Zmc2V0LCBkb2MsXG5cdFx0XHRlbGVtID0gdGhpc1sgMCBdLFxuXHRcdFx0cGFyZW50T2Zmc2V0ID0geyB0b3A6IDAsIGxlZnQ6IDAgfTtcblxuXHRcdC8vIHBvc2l0aW9uOmZpeGVkIGVsZW1lbnRzIGFyZSBvZmZzZXQgZnJvbSB0aGUgdmlld3BvcnQsIHdoaWNoIGl0c2VsZiBhbHdheXMgaGFzIHplcm8gb2Zmc2V0XG5cdFx0aWYgKCBqUXVlcnkuY3NzKCBlbGVtLCBcInBvc2l0aW9uXCIgKSA9PT0gXCJmaXhlZFwiICkge1xuXG5cdFx0XHQvLyBBc3N1bWUgcG9zaXRpb246Zml4ZWQgaW1wbGllcyBhdmFpbGFiaWxpdHkgb2YgZ2V0Qm91bmRpbmdDbGllbnRSZWN0XG5cdFx0XHRvZmZzZXQgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG5cdFx0fSBlbHNlIHtcblx0XHRcdG9mZnNldCA9IHRoaXMub2Zmc2V0KCk7XG5cblx0XHRcdC8vIEFjY291bnQgZm9yIHRoZSAqcmVhbCogb2Zmc2V0IHBhcmVudCwgd2hpY2ggY2FuIGJlIHRoZSBkb2N1bWVudCBvciBpdHMgcm9vdCBlbGVtZW50XG5cdFx0XHQvLyB3aGVuIGEgc3RhdGljYWxseSBwb3NpdGlvbmVkIGVsZW1lbnQgaXMgaWRlbnRpZmllZFxuXHRcdFx0ZG9jID0gZWxlbS5vd25lckRvY3VtZW50O1xuXHRcdFx0b2Zmc2V0UGFyZW50ID0gZWxlbS5vZmZzZXRQYXJlbnQgfHwgZG9jLmRvY3VtZW50RWxlbWVudDtcblx0XHRcdHdoaWxlICggb2Zmc2V0UGFyZW50ICYmXG5cdFx0XHRcdCggb2Zmc2V0UGFyZW50ID09PSBkb2MuYm9keSB8fCBvZmZzZXRQYXJlbnQgPT09IGRvYy5kb2N1bWVudEVsZW1lbnQgKSAmJlxuXHRcdFx0XHRqUXVlcnkuY3NzKCBvZmZzZXRQYXJlbnQsIFwicG9zaXRpb25cIiApID09PSBcInN0YXRpY1wiICkge1xuXG5cdFx0XHRcdG9mZnNldFBhcmVudCA9IG9mZnNldFBhcmVudC5wYXJlbnROb2RlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCBvZmZzZXRQYXJlbnQgJiYgb2Zmc2V0UGFyZW50ICE9PSBlbGVtICYmIG9mZnNldFBhcmVudC5ub2RlVHlwZSA9PT0gMSApIHtcblxuXHRcdFx0XHQvLyBJbmNvcnBvcmF0ZSBib3JkZXJzIGludG8gaXRzIG9mZnNldCwgc2luY2UgdGhleSBhcmUgb3V0c2lkZSBpdHMgY29udGVudCBvcmlnaW5cblx0XHRcdFx0cGFyZW50T2Zmc2V0ID0galF1ZXJ5KCBvZmZzZXRQYXJlbnQgKS5vZmZzZXQoKTtcblx0XHRcdFx0cGFyZW50T2Zmc2V0LnRvcCArPSBqUXVlcnkuY3NzKCBvZmZzZXRQYXJlbnQsIFwiYm9yZGVyVG9wV2lkdGhcIiwgdHJ1ZSApO1xuXHRcdFx0XHRwYXJlbnRPZmZzZXQubGVmdCArPSBqUXVlcnkuY3NzKCBvZmZzZXRQYXJlbnQsIFwiYm9yZGVyTGVmdFdpZHRoXCIsIHRydWUgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBTdWJ0cmFjdCBwYXJlbnQgb2Zmc2V0cyBhbmQgZWxlbWVudCBtYXJnaW5zXG5cdFx0cmV0dXJuIHtcblx0XHRcdHRvcDogb2Zmc2V0LnRvcCAtIHBhcmVudE9mZnNldC50b3AgLSBqUXVlcnkuY3NzKCBlbGVtLCBcIm1hcmdpblRvcFwiLCB0cnVlICksXG5cdFx0XHRsZWZ0OiBvZmZzZXQubGVmdCAtIHBhcmVudE9mZnNldC5sZWZ0IC0galF1ZXJ5LmNzcyggZWxlbSwgXCJtYXJnaW5MZWZ0XCIsIHRydWUgKVxuXHRcdH07XG5cdH0sXG5cblx0Ly8gVGhpcyBtZXRob2Qgd2lsbCByZXR1cm4gZG9jdW1lbnRFbGVtZW50IGluIHRoZSBmb2xsb3dpbmcgY2FzZXM6XG5cdC8vIDEpIEZvciB0aGUgZWxlbWVudCBpbnNpZGUgdGhlIGlmcmFtZSB3aXRob3V0IG9mZnNldFBhcmVudCwgdGhpcyBtZXRob2Qgd2lsbCByZXR1cm5cblx0Ly8gICAgZG9jdW1lbnRFbGVtZW50IG9mIHRoZSBwYXJlbnQgd2luZG93XG5cdC8vIDIpIEZvciB0aGUgaGlkZGVuIG9yIGRldGFjaGVkIGVsZW1lbnRcblx0Ly8gMykgRm9yIGJvZHkgb3IgaHRtbCBlbGVtZW50LCBpLmUuIGluIGNhc2Ugb2YgdGhlIGh0bWwgbm9kZSAtIGl0IHdpbGwgcmV0dXJuIGl0c2VsZlxuXHQvL1xuXHQvLyBidXQgdGhvc2UgZXhjZXB0aW9ucyB3ZXJlIG5ldmVyIHByZXNlbnRlZCBhcyBhIHJlYWwgbGlmZSB1c2UtY2FzZXNcblx0Ly8gYW5kIG1pZ2h0IGJlIGNvbnNpZGVyZWQgYXMgbW9yZSBwcmVmZXJhYmxlIHJlc3VsdHMuXG5cdC8vXG5cdC8vIFRoaXMgbG9naWMsIGhvd2V2ZXIsIGlzIG5vdCBndWFyYW50ZWVkIGFuZCBjYW4gY2hhbmdlIGF0IGFueSBwb2ludCBpbiB0aGUgZnV0dXJlXG5cdG9mZnNldFBhcmVudDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMubWFwKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBvZmZzZXRQYXJlbnQgPSB0aGlzLm9mZnNldFBhcmVudDtcblxuXHRcdFx0d2hpbGUgKCBvZmZzZXRQYXJlbnQgJiYgalF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50LCBcInBvc2l0aW9uXCIgKSA9PT0gXCJzdGF0aWNcIiApIHtcblx0XHRcdFx0b2Zmc2V0UGFyZW50ID0gb2Zmc2V0UGFyZW50Lm9mZnNldFBhcmVudDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG9mZnNldFBhcmVudCB8fCBkb2N1bWVudEVsZW1lbnQ7XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbi8vIENyZWF0ZSBzY3JvbGxMZWZ0IGFuZCBzY3JvbGxUb3AgbWV0aG9kc1xualF1ZXJ5LmVhY2goIHsgc2Nyb2xsTGVmdDogXCJwYWdlWE9mZnNldFwiLCBzY3JvbGxUb3A6IFwicGFnZVlPZmZzZXRcIiB9LCBmdW5jdGlvbiggbWV0aG9kLCBwcm9wICkge1xuXHR2YXIgdG9wID0gXCJwYWdlWU9mZnNldFwiID09PSBwcm9wO1xuXG5cdGpRdWVyeS5mblsgbWV0aG9kIF0gPSBmdW5jdGlvbiggdmFsICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCBlbGVtLCBtZXRob2QsIHZhbCApIHtcblxuXHRcdFx0Ly8gQ29hbGVzY2UgZG9jdW1lbnRzIGFuZCB3aW5kb3dzXG5cdFx0XHR2YXIgd2luO1xuXHRcdFx0aWYgKCBpc1dpbmRvdyggZWxlbSApICkge1xuXHRcdFx0XHR3aW4gPSBlbGVtO1xuXHRcdFx0fSBlbHNlIGlmICggZWxlbS5ub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0d2luID0gZWxlbS5kZWZhdWx0Vmlldztcblx0XHRcdH1cblxuXHRcdFx0aWYgKCB2YWwgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0cmV0dXJuIHdpbiA/IHdpblsgcHJvcCBdIDogZWxlbVsgbWV0aG9kIF07XG5cdFx0XHR9XG5cblx0XHRcdGlmICggd2luICkge1xuXHRcdFx0XHR3aW4uc2Nyb2xsVG8oXG5cdFx0XHRcdFx0IXRvcCA/IHZhbCA6IHdpbi5wYWdlWE9mZnNldCxcblx0XHRcdFx0XHR0b3AgPyB2YWwgOiB3aW4ucGFnZVlPZmZzZXRcblx0XHRcdFx0KTtcblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZWxlbVsgbWV0aG9kIF0gPSB2YWw7XG5cdFx0XHR9XG5cdFx0fSwgbWV0aG9kLCB2YWwsIGFyZ3VtZW50cy5sZW5ndGggKTtcblx0fTtcbn0gKTtcblxuLy8gU3VwcG9ydDogU2FmYXJpIDw9NyAtIDkuMSwgQ2hyb21lIDw9MzcgLSA0OVxuLy8gQWRkIHRoZSB0b3AvbGVmdCBjc3NIb29rcyB1c2luZyBqUXVlcnkuZm4ucG9zaXRpb25cbi8vIFdlYmtpdCBidWc6IGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0yOTA4NFxuLy8gQmxpbmsgYnVnOiBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD01ODkzNDdcbi8vIGdldENvbXB1dGVkU3R5bGUgcmV0dXJucyBwZXJjZW50IHdoZW4gc3BlY2lmaWVkIGZvciB0b3AvbGVmdC9ib3R0b20vcmlnaHQ7XG4vLyByYXRoZXIgdGhhbiBtYWtlIHRoZSBjc3MgbW9kdWxlIGRlcGVuZCBvbiB0aGUgb2Zmc2V0IG1vZHVsZSwganVzdCBjaGVjayBmb3IgaXQgaGVyZVxualF1ZXJ5LmVhY2goIFsgXCJ0b3BcIiwgXCJsZWZ0XCIgXSwgZnVuY3Rpb24oIF9pLCBwcm9wICkge1xuXHRqUXVlcnkuY3NzSG9va3NbIHByb3AgXSA9IGFkZEdldEhvb2tJZiggc3VwcG9ydC5waXhlbFBvc2l0aW9uLFxuXHRcdGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHtcblx0XHRcdGlmICggY29tcHV0ZWQgKSB7XG5cdFx0XHRcdGNvbXB1dGVkID0gY3VyQ1NTKCBlbGVtLCBwcm9wICk7XG5cblx0XHRcdFx0Ly8gSWYgY3VyQ1NTIHJldHVybnMgcGVyY2VudGFnZSwgZmFsbGJhY2sgdG8gb2Zmc2V0XG5cdFx0XHRcdHJldHVybiBybnVtbm9ucHgudGVzdCggY29tcHV0ZWQgKSA/XG5cdFx0XHRcdFx0alF1ZXJ5KCBlbGVtICkucG9zaXRpb24oKVsgcHJvcCBdICsgXCJweFwiIDpcblx0XHRcdFx0XHRjb21wdXRlZDtcblx0XHRcdH1cblx0XHR9XG5cdCk7XG59ICk7XG5cblxuLy8gQ3JlYXRlIGlubmVySGVpZ2h0LCBpbm5lcldpZHRoLCBoZWlnaHQsIHdpZHRoLCBvdXRlckhlaWdodCBhbmQgb3V0ZXJXaWR0aCBtZXRob2RzXG5qUXVlcnkuZWFjaCggeyBIZWlnaHQ6IFwiaGVpZ2h0XCIsIFdpZHRoOiBcIndpZHRoXCIgfSwgZnVuY3Rpb24oIG5hbWUsIHR5cGUgKSB7XG5cdGpRdWVyeS5lYWNoKCB7XG5cdFx0cGFkZGluZzogXCJpbm5lclwiICsgbmFtZSxcblx0XHRjb250ZW50OiB0eXBlLFxuXHRcdFwiXCI6IFwib3V0ZXJcIiArIG5hbWVcblx0fSwgZnVuY3Rpb24oIGRlZmF1bHRFeHRyYSwgZnVuY05hbWUgKSB7XG5cblx0XHQvLyBNYXJnaW4gaXMgb25seSBmb3Igb3V0ZXJIZWlnaHQsIG91dGVyV2lkdGhcblx0XHRqUXVlcnkuZm5bIGZ1bmNOYW1lIF0gPSBmdW5jdGlvbiggbWFyZ2luLCB2YWx1ZSApIHtcblx0XHRcdHZhciBjaGFpbmFibGUgPSBhcmd1bWVudHMubGVuZ3RoICYmICggZGVmYXVsdEV4dHJhIHx8IHR5cGVvZiBtYXJnaW4gIT09IFwiYm9vbGVhblwiICksXG5cdFx0XHRcdGV4dHJhID0gZGVmYXVsdEV4dHJhIHx8ICggbWFyZ2luID09PSB0cnVlIHx8IHZhbHVlID09PSB0cnVlID8gXCJtYXJnaW5cIiA6IFwiYm9yZGVyXCIgKTtcblxuXHRcdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIGVsZW0sIHR5cGUsIHZhbHVlICkge1xuXHRcdFx0XHR2YXIgZG9jO1xuXG5cdFx0XHRcdGlmICggaXNXaW5kb3coIGVsZW0gKSApIHtcblxuXHRcdFx0XHRcdC8vICQoIHdpbmRvdyApLm91dGVyV2lkdGgvSGVpZ2h0IHJldHVybiB3L2ggaW5jbHVkaW5nIHNjcm9sbGJhcnMgKGdoLTE3MjkpXG5cdFx0XHRcdFx0cmV0dXJuIGZ1bmNOYW1lLmluZGV4T2YoIFwib3V0ZXJcIiApID09PSAwID9cblx0XHRcdFx0XHRcdGVsZW1bIFwiaW5uZXJcIiArIG5hbWUgXSA6XG5cdFx0XHRcdFx0XHRlbGVtLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFsgXCJjbGllbnRcIiArIG5hbWUgXTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEdldCBkb2N1bWVudCB3aWR0aCBvciBoZWlnaHRcblx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSA5ICkge1xuXHRcdFx0XHRcdGRvYyA9IGVsZW0uZG9jdW1lbnRFbGVtZW50O1xuXG5cdFx0XHRcdFx0Ly8gRWl0aGVyIHNjcm9sbFtXaWR0aC9IZWlnaHRdIG9yIG9mZnNldFtXaWR0aC9IZWlnaHRdIG9yIGNsaWVudFtXaWR0aC9IZWlnaHRdLFxuXHRcdFx0XHRcdC8vIHdoaWNoZXZlciBpcyBncmVhdGVzdFxuXHRcdFx0XHRcdHJldHVybiBNYXRoLm1heChcblx0XHRcdFx0XHRcdGVsZW0uYm9keVsgXCJzY3JvbGxcIiArIG5hbWUgXSwgZG9jWyBcInNjcm9sbFwiICsgbmFtZSBdLFxuXHRcdFx0XHRcdFx0ZWxlbS5ib2R5WyBcIm9mZnNldFwiICsgbmFtZSBdLCBkb2NbIFwib2Zmc2V0XCIgKyBuYW1lIF0sXG5cdFx0XHRcdFx0XHRkb2NbIFwiY2xpZW50XCIgKyBuYW1lIF1cblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgP1xuXG5cdFx0XHRcdFx0Ly8gR2V0IHdpZHRoIG9yIGhlaWdodCBvbiB0aGUgZWxlbWVudCwgcmVxdWVzdGluZyBidXQgbm90IGZvcmNpbmcgcGFyc2VGbG9hdFxuXHRcdFx0XHRcdGpRdWVyeS5jc3MoIGVsZW0sIHR5cGUsIGV4dHJhICkgOlxuXG5cdFx0XHRcdFx0Ly8gU2V0IHdpZHRoIG9yIGhlaWdodCBvbiB0aGUgZWxlbWVudFxuXHRcdFx0XHRcdGpRdWVyeS5zdHlsZSggZWxlbSwgdHlwZSwgdmFsdWUsIGV4dHJhICk7XG5cdFx0XHR9LCB0eXBlLCBjaGFpbmFibGUgPyBtYXJnaW4gOiB1bmRlZmluZWQsIGNoYWluYWJsZSApO1xuXHRcdH07XG5cdH0gKTtcbn0gKTtcblxuXG5qUXVlcnkuZWFjaCggW1xuXHRcImFqYXhTdGFydFwiLFxuXHRcImFqYXhTdG9wXCIsXG5cdFwiYWpheENvbXBsZXRlXCIsXG5cdFwiYWpheEVycm9yXCIsXG5cdFwiYWpheFN1Y2Nlc3NcIixcblx0XCJhamF4U2VuZFwiXG5dLCBmdW5jdGlvbiggX2ksIHR5cGUgKSB7XG5cdGpRdWVyeS5mblsgdHlwZSBdID0gZnVuY3Rpb24oIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9uKCB0eXBlLCBmbiApO1xuXHR9O1xufSApO1xuXG5cblxuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cblx0YmluZDogZnVuY3Rpb24oIHR5cGVzLCBkYXRhLCBmbiApIHtcblx0XHRyZXR1cm4gdGhpcy5vbiggdHlwZXMsIG51bGwsIGRhdGEsIGZuICk7XG5cdH0sXG5cdHVuYmluZDogZnVuY3Rpb24oIHR5cGVzLCBmbiApIHtcblx0XHRyZXR1cm4gdGhpcy5vZmYoIHR5cGVzLCBudWxsLCBmbiApO1xuXHR9LFxuXG5cdGRlbGVnYXRlOiBmdW5jdGlvbiggc2VsZWN0b3IsIHR5cGVzLCBkYXRhLCBmbiApIHtcblx0XHRyZXR1cm4gdGhpcy5vbiggdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiApO1xuXHR9LFxuXHR1bmRlbGVnYXRlOiBmdW5jdGlvbiggc2VsZWN0b3IsIHR5cGVzLCBmbiApIHtcblxuXHRcdC8vICggbmFtZXNwYWNlICkgb3IgKCBzZWxlY3RvciwgdHlwZXMgWywgZm5dIClcblx0XHRyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA9PT0gMSA/XG5cdFx0XHR0aGlzLm9mZiggc2VsZWN0b3IsIFwiKipcIiApIDpcblx0XHRcdHRoaXMub2ZmKCB0eXBlcywgc2VsZWN0b3IgfHwgXCIqKlwiLCBmbiApO1xuXHR9LFxuXG5cdGhvdmVyOiBmdW5jdGlvbiggZm5PdmVyLCBmbk91dCApIHtcblx0XHRyZXR1cm4gdGhpc1xuXHRcdFx0Lm9uKCBcIm1vdXNlZW50ZXJcIiwgZm5PdmVyIClcblx0XHRcdC5vbiggXCJtb3VzZWxlYXZlXCIsIGZuT3V0IHx8IGZuT3ZlciApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5lYWNoKFxuXHQoIFwiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IHJlc2l6ZSBzY3JvbGwgY2xpY2sgZGJsY2xpY2sgXCIgK1xuXHRcIm1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIFwiICtcblx0XCJjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGNvbnRleHRtZW51XCIgKS5zcGxpdCggXCIgXCIgKSxcblx0ZnVuY3Rpb24oIF9pLCBuYW1lICkge1xuXG5cdFx0Ly8gSGFuZGxlIGV2ZW50IGJpbmRpbmdcblx0XHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBkYXRhLCBmbiApIHtcblx0XHRcdHJldHVybiBhcmd1bWVudHMubGVuZ3RoID4gMCA/XG5cdFx0XHRcdHRoaXMub24oIG5hbWUsIG51bGwsIGRhdGEsIGZuICkgOlxuXHRcdFx0XHR0aGlzLnRyaWdnZXIoIG5hbWUgKTtcblx0XHR9O1xuXHR9XG4pO1xuXG5cblxuXG4vLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHlcbi8vIE1ha2Ugc3VyZSB3ZSB0cmltIEJPTSBhbmQgTkJTUFxuLy8gUmVxdWlyZSB0aGF0IHRoZSBcIndoaXRlc3BhY2UgcnVuXCIgc3RhcnRzIGZyb20gYSBub24td2hpdGVzcGFjZVxuLy8gdG8gYXZvaWQgTyhOXjIpIGJlaGF2aW9yIHdoZW4gdGhlIGVuZ2luZSB3b3VsZCB0cnkgbWF0Y2hpbmcgXCJcXHMrJFwiIGF0IGVhY2ggc3BhY2UgcG9zaXRpb24uXG52YXIgcnRyaW0gPSAvXltcXHNcXHVGRUZGXFx4QTBdK3woW15cXHNcXHVGRUZGXFx4QTBdKVtcXHNcXHVGRUZGXFx4QTBdKyQvZztcblxuLy8gQmluZCBhIGZ1bmN0aW9uIHRvIGEgY29udGV4dCwgb3B0aW9uYWxseSBwYXJ0aWFsbHkgYXBwbHlpbmcgYW55XG4vLyBhcmd1bWVudHMuXG4vLyBqUXVlcnkucHJveHkgaXMgZGVwcmVjYXRlZCB0byBwcm9tb3RlIHN0YW5kYXJkcyAoc3BlY2lmaWNhbGx5IEZ1bmN0aW9uI2JpbmQpXG4vLyBIb3dldmVyLCBpdCBpcyBub3Qgc2xhdGVkIGZvciByZW1vdmFsIGFueSB0aW1lIHNvb25cbmpRdWVyeS5wcm94eSA9IGZ1bmN0aW9uKCBmbiwgY29udGV4dCApIHtcblx0dmFyIHRtcCwgYXJncywgcHJveHk7XG5cblx0aWYgKCB0eXBlb2YgY29udGV4dCA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHR0bXAgPSBmblsgY29udGV4dCBdO1xuXHRcdGNvbnRleHQgPSBmbjtcblx0XHRmbiA9IHRtcDtcblx0fVxuXG5cdC8vIFF1aWNrIGNoZWNrIHRvIGRldGVybWluZSBpZiB0YXJnZXQgaXMgY2FsbGFibGUsIGluIHRoZSBzcGVjXG5cdC8vIHRoaXMgdGhyb3dzIGEgVHlwZUVycm9yLCBidXQgd2Ugd2lsbCBqdXN0IHJldHVybiB1bmRlZmluZWQuXG5cdGlmICggIWlzRnVuY3Rpb24oIGZuICkgKSB7XG5cdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0fVxuXG5cdC8vIFNpbXVsYXRlZCBiaW5kXG5cdGFyZ3MgPSBzbGljZS5jYWxsKCBhcmd1bWVudHMsIDIgKTtcblx0cHJveHkgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZm4uYXBwbHkoIGNvbnRleHQgfHwgdGhpcywgYXJncy5jb25jYXQoIHNsaWNlLmNhbGwoIGFyZ3VtZW50cyApICkgKTtcblx0fTtcblxuXHQvLyBTZXQgdGhlIGd1aWQgb2YgdW5pcXVlIGhhbmRsZXIgdG8gdGhlIHNhbWUgb2Ygb3JpZ2luYWwgaGFuZGxlciwgc28gaXQgY2FuIGJlIHJlbW92ZWRcblx0cHJveHkuZ3VpZCA9IGZuLmd1aWQgPSBmbi5ndWlkIHx8IGpRdWVyeS5ndWlkKys7XG5cblx0cmV0dXJuIHByb3h5O1xufTtcblxualF1ZXJ5LmhvbGRSZWFkeSA9IGZ1bmN0aW9uKCBob2xkICkge1xuXHRpZiAoIGhvbGQgKSB7XG5cdFx0alF1ZXJ5LnJlYWR5V2FpdCsrO1xuXHR9IGVsc2Uge1xuXHRcdGpRdWVyeS5yZWFkeSggdHJ1ZSApO1xuXHR9XG59O1xualF1ZXJ5LmlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xualF1ZXJ5LnBhcnNlSlNPTiA9IEpTT04ucGFyc2U7XG5qUXVlcnkubm9kZU5hbWUgPSBub2RlTmFtZTtcbmpRdWVyeS5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjtcbmpRdWVyeS5pc1dpbmRvdyA9IGlzV2luZG93O1xualF1ZXJ5LmNhbWVsQ2FzZSA9IGNhbWVsQ2FzZTtcbmpRdWVyeS50eXBlID0gdG9UeXBlO1xuXG5qUXVlcnkubm93ID0gRGF0ZS5ub3c7XG5cbmpRdWVyeS5pc051bWVyaWMgPSBmdW5jdGlvbiggb2JqICkge1xuXG5cdC8vIEFzIG9mIGpRdWVyeSAzLjAsIGlzTnVtZXJpYyBpcyBsaW1pdGVkIHRvXG5cdC8vIHN0cmluZ3MgYW5kIG51bWJlcnMgKHByaW1pdGl2ZXMgb3Igb2JqZWN0cylcblx0Ly8gdGhhdCBjYW4gYmUgY29lcmNlZCB0byBmaW5pdGUgbnVtYmVycyAoZ2gtMjY2Milcblx0dmFyIHR5cGUgPSBqUXVlcnkudHlwZSggb2JqICk7XG5cdHJldHVybiAoIHR5cGUgPT09IFwibnVtYmVyXCIgfHwgdHlwZSA9PT0gXCJzdHJpbmdcIiApICYmXG5cblx0XHQvLyBwYXJzZUZsb2F0IE5hTnMgbnVtZXJpYy1jYXN0IGZhbHNlIHBvc2l0aXZlcyAoXCJcIilcblx0XHQvLyAuLi5idXQgbWlzaW50ZXJwcmV0cyBsZWFkaW5nLW51bWJlciBzdHJpbmdzLCBwYXJ0aWN1bGFybHkgaGV4IGxpdGVyYWxzIChcIjB4Li4uXCIpXG5cdFx0Ly8gc3VidHJhY3Rpb24gZm9yY2VzIGluZmluaXRpZXMgdG8gTmFOXG5cdFx0IWlzTmFOKCBvYmogLSBwYXJzZUZsb2F0KCBvYmogKSApO1xufTtcblxualF1ZXJ5LnRyaW0gPSBmdW5jdGlvbiggdGV4dCApIHtcblx0cmV0dXJuIHRleHQgPT0gbnVsbCA/XG5cdFx0XCJcIiA6XG5cdFx0KCB0ZXh0ICsgXCJcIiApLnJlcGxhY2UoIHJ0cmltLCBcIiQxXCIgKTtcbn07XG5cblxuXG4vLyBSZWdpc3RlciBhcyBhIG5hbWVkIEFNRCBtb2R1bGUsIHNpbmNlIGpRdWVyeSBjYW4gYmUgY29uY2F0ZW5hdGVkIHdpdGggb3RoZXJcbi8vIGZpbGVzIHRoYXQgbWF5IHVzZSBkZWZpbmUsIGJ1dCBub3QgdmlhIGEgcHJvcGVyIGNvbmNhdGVuYXRpb24gc2NyaXB0IHRoYXRcbi8vIHVuZGVyc3RhbmRzIGFub255bW91cyBBTUQgbW9kdWxlcy4gQSBuYW1lZCBBTUQgaXMgc2FmZXN0IGFuZCBtb3N0IHJvYnVzdFxuLy8gd2F5IHRvIHJlZ2lzdGVyLiBMb3dlcmNhc2UganF1ZXJ5IGlzIHVzZWQgYmVjYXVzZSBBTUQgbW9kdWxlIG5hbWVzIGFyZVxuLy8gZGVyaXZlZCBmcm9tIGZpbGUgbmFtZXMsIGFuZCBqUXVlcnkgaXMgbm9ybWFsbHkgZGVsaXZlcmVkIGluIGEgbG93ZXJjYXNlXG4vLyBmaWxlIG5hbWUuIERvIHRoaXMgYWZ0ZXIgY3JlYXRpbmcgdGhlIGdsb2JhbCBzbyB0aGF0IGlmIGFuIEFNRCBtb2R1bGUgd2FudHNcbi8vIHRvIGNhbGwgbm9Db25mbGljdCB0byBoaWRlIHRoaXMgdmVyc2lvbiBvZiBqUXVlcnksIGl0IHdpbGwgd29yay5cblxuLy8gTm90ZSB0aGF0IGZvciBtYXhpbXVtIHBvcnRhYmlsaXR5LCBsaWJyYXJpZXMgdGhhdCBhcmUgbm90IGpRdWVyeSBzaG91bGRcbi8vIGRlY2xhcmUgdGhlbXNlbHZlcyBhcyBhbm9ueW1vdXMgbW9kdWxlcywgYW5kIGF2b2lkIHNldHRpbmcgYSBnbG9iYWwgaWYgYW5cbi8vIEFNRCBsb2FkZXIgaXMgcHJlc2VudC4galF1ZXJ5IGlzIGEgc3BlY2lhbCBjYXNlLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgc2VlXG4vLyBodHRwczovL2dpdGh1Yi5jb20vanJidXJrZS9yZXF1aXJlanMvd2lraS9VcGRhdGluZy1leGlzdGluZy1saWJyYXJpZXMjd2lraS1hbm9uXG5cbmlmICggdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQgKSB7XG5cdGRlZmluZSggXCJqcXVlcnlcIiwgW10sIGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBqUXVlcnk7XG5cdH0gKTtcbn1cblxuXG5cblxudmFyXG5cblx0Ly8gTWFwIG92ZXIgalF1ZXJ5IGluIGNhc2Ugb2Ygb3ZlcndyaXRlXG5cdF9qUXVlcnkgPSB3aW5kb3cualF1ZXJ5LFxuXG5cdC8vIE1hcCBvdmVyIHRoZSAkIGluIGNhc2Ugb2Ygb3ZlcndyaXRlXG5cdF8kID0gd2luZG93LiQ7XG5cbmpRdWVyeS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24oIGRlZXAgKSB7XG5cdGlmICggd2luZG93LiQgPT09IGpRdWVyeSApIHtcblx0XHR3aW5kb3cuJCA9IF8kO1xuXHR9XG5cblx0aWYgKCBkZWVwICYmIHdpbmRvdy5qUXVlcnkgPT09IGpRdWVyeSApIHtcblx0XHR3aW5kb3cualF1ZXJ5ID0gX2pRdWVyeTtcblx0fVxuXG5cdHJldHVybiBqUXVlcnk7XG59O1xuXG4vLyBFeHBvc2UgalF1ZXJ5IGFuZCAkIGlkZW50aWZpZXJzLCBldmVuIGluIEFNRFxuLy8gKHRyYWMtNzEwMiNjb21tZW50OjEwLCBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L2pxdWVyeS9wdWxsLzU1Nylcbi8vIGFuZCBDb21tb25KUyBmb3IgYnJvd3NlciBlbXVsYXRvcnMgKHRyYWMtMTM1NjYpXG5pZiAoIHR5cGVvZiBub0dsb2JhbCA9PT0gXCJ1bmRlZmluZWRcIiApIHtcblx0d2luZG93LmpRdWVyeSA9IHdpbmRvdy4kID0galF1ZXJ5O1xufVxuXG5cblxuXG5yZXR1cm4galF1ZXJ5O1xufSApO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/jquery/dist/jquery.js\n");

/***/ }),

/***/ "./node_modules/laravel-echo/dist/echo.js":
/*!************************************************!*\
  !*** ./node_modules/laravel-echo/dist/echo.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Channel: () => (/* binding */ Channel),\n/* harmony export */   Connector: () => (/* binding */ Connector),\n/* harmony export */   EventFormatter: () => (/* binding */ EventFormatter),\n/* harmony export */   \"default\": () => (/* binding */ Echo)\n/* harmony export */ });\n/* provided dependency */ var jQuery = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\n/**\r\n * This class represents a basic channel.\r\n */\nvar Channel = /*#__PURE__*/function () {\n  function Channel() {\n    _classCallCheck(this, Channel);\n  }\n\n  _createClass(Channel, [{\n    key: \"listenForWhisper\",\n    value:\n    /**\r\n     * Listen for a whisper event on the channel instance.\r\n     */\n    function listenForWhisper(event, callback) {\n      return this.listen('.client-' + event, callback);\n    }\n    /**\r\n     * Listen for an event on the channel instance.\r\n     */\n\n  }, {\n    key: \"notification\",\n    value: function notification(callback) {\n      return this.listen('.Illuminate\\\\Notifications\\\\Events\\\\BroadcastNotificationCreated', callback);\n    }\n    /**\r\n     * Stop listening for a whisper event on the channel instance.\r\n     */\n\n  }, {\n    key: \"stopListeningForWhisper\",\n    value: function stopListeningForWhisper(event, callback) {\n      return this.stopListening('.client-' + event, callback);\n    }\n  }]);\n\n  return Channel;\n}();\n\n/**\r\n * Event name formatter\r\n */\nvar EventFormatter = /*#__PURE__*/function () {\n  /**\r\n   * Create a new class instance.\r\n   */\n  function EventFormatter(namespace) {\n    _classCallCheck(this, EventFormatter);\n\n    this.namespace = namespace; //\n  }\n  /**\r\n   * Format the given event name.\r\n   */\n\n\n  _createClass(EventFormatter, [{\n    key: \"format\",\n    value: function format(event) {\n      if (['.', '\\\\'].includes(event.charAt(0))) {\n        return event.substring(1);\n      } else if (this.namespace) {\n        event = this.namespace + '.' + event;\n      }\n\n      return event.replace(/\\./g, '\\\\');\n    }\n    /**\r\n     * Set the event namespace.\r\n     */\n\n  }, {\n    key: \"setNamespace\",\n    value: function setNamespace(value) {\n      this.namespace = value;\n    }\n  }]);\n\n  return EventFormatter;\n}();\n\n/**\r\n * This class represents a Pusher channel.\r\n */\n\nvar PusherChannel = /*#__PURE__*/function (_Channel) {\n  _inherits(PusherChannel, _Channel);\n\n  var _super = _createSuper(PusherChannel);\n\n  /**\r\n   * Create a new class instance.\r\n   */\n  function PusherChannel(pusher, name, options) {\n    var _this;\n\n    _classCallCheck(this, PusherChannel);\n\n    _this = _super.call(this);\n    _this.name = name;\n    _this.pusher = pusher;\n    _this.options = options;\n    _this.eventFormatter = new EventFormatter(_this.options.namespace);\n\n    _this.subscribe();\n\n    return _this;\n  }\n  /**\r\n   * Subscribe to a Pusher channel.\r\n   */\n\n\n  _createClass(PusherChannel, [{\n    key: \"subscribe\",\n    value: function subscribe() {\n      this.subscription = this.pusher.subscribe(this.name);\n    }\n    /**\r\n     * Unsubscribe from a Pusher channel.\r\n     */\n\n  }, {\n    key: \"unsubscribe\",\n    value: function unsubscribe() {\n      this.pusher.unsubscribe(this.name);\n    }\n    /**\r\n     * Listen for an event on the channel instance.\r\n     */\n\n  }, {\n    key: \"listen\",\n    value: function listen(event, callback) {\n      this.on(this.eventFormatter.format(event), callback);\n      return this;\n    }\n    /**\r\n     * Listen for all events on the channel instance.\r\n     */\n\n  }, {\n    key: \"listenToAll\",\n    value: function listenToAll(callback) {\n      var _this2 = this;\n\n      this.subscription.bind_global(function (event, data) {\n        if (event.startsWith('pusher:')) {\n          return;\n        }\n\n        var namespace = _this2.options.namespace.replace(/\\./g, '\\\\');\n\n        var formattedEvent = event.startsWith(namespace) ? event.substring(namespace.length + 1) : '.' + event;\n        callback(formattedEvent, data);\n      });\n      return this;\n    }\n    /**\r\n     * Stop listening for an event on the channel instance.\r\n     */\n\n  }, {\n    key: \"stopListening\",\n    value: function stopListening(event, callback) {\n      if (callback) {\n        this.subscription.unbind(this.eventFormatter.format(event), callback);\n      } else {\n        this.subscription.unbind(this.eventFormatter.format(event));\n      }\n\n      return this;\n    }\n    /**\r\n     * Stop listening for all events on the channel instance.\r\n     */\n\n  }, {\n    key: \"stopListeningToAll\",\n    value: function stopListeningToAll(callback) {\n      if (callback) {\n        this.subscription.unbind_global(callback);\n      } else {\n        this.subscription.unbind_global();\n      }\n\n      return this;\n    }\n    /**\r\n     * Register a callback to be called anytime a subscription succeeds.\r\n     */\n\n  }, {\n    key: \"subscribed\",\n    value: function subscribed(callback) {\n      this.on('pusher:subscription_succeeded', function () {\n        callback();\n      });\n      return this;\n    }\n    /**\r\n     * Register a callback to be called anytime a subscription error occurs.\r\n     */\n\n  }, {\n    key: \"error\",\n    value: function error(callback) {\n      this.on('pusher:subscription_error', function (status) {\n        callback(status);\n      });\n      return this;\n    }\n    /**\r\n     * Bind a channel to an event.\r\n     */\n\n  }, {\n    key: \"on\",\n    value: function on(event, callback) {\n      this.subscription.bind(event, callback);\n      return this;\n    }\n  }]);\n\n  return PusherChannel;\n}(Channel);\n\n/**\r\n * This class represents a Pusher private channel.\r\n */\n\nvar PusherPrivateChannel = /*#__PURE__*/function (_PusherChannel) {\n  _inherits(PusherPrivateChannel, _PusherChannel);\n\n  var _super = _createSuper(PusherPrivateChannel);\n\n  function PusherPrivateChannel() {\n    _classCallCheck(this, PusherPrivateChannel);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(PusherPrivateChannel, [{\n    key: \"whisper\",\n    value:\n    /**\r\n     * Send a whisper event to other clients in the channel.\r\n     */\n    function whisper(eventName, data) {\n      this.pusher.channels.channels[this.name].trigger(\"client-\".concat(eventName), data);\n      return this;\n    }\n  }]);\n\n  return PusherPrivateChannel;\n}(PusherChannel);\n\n/**\r\n * This class represents a Pusher private channel.\r\n */\n\nvar PusherEncryptedPrivateChannel = /*#__PURE__*/function (_PusherChannel) {\n  _inherits(PusherEncryptedPrivateChannel, _PusherChannel);\n\n  var _super = _createSuper(PusherEncryptedPrivateChannel);\n\n  function PusherEncryptedPrivateChannel() {\n    _classCallCheck(this, PusherEncryptedPrivateChannel);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(PusherEncryptedPrivateChannel, [{\n    key: \"whisper\",\n    value:\n    /**\r\n     * Send a whisper event to other clients in the channel.\r\n     */\n    function whisper(eventName, data) {\n      this.pusher.channels.channels[this.name].trigger(\"client-\".concat(eventName), data);\n      return this;\n    }\n  }]);\n\n  return PusherEncryptedPrivateChannel;\n}(PusherChannel);\n\n/**\r\n * This class represents a Pusher presence channel.\r\n */\n\nvar PusherPresenceChannel = /*#__PURE__*/function (_PusherChannel) {\n  _inherits(PusherPresenceChannel, _PusherChannel);\n\n  var _super = _createSuper(PusherPresenceChannel);\n\n  function PusherPresenceChannel() {\n    _classCallCheck(this, PusherPresenceChannel);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(PusherPresenceChannel, [{\n    key: \"here\",\n    value:\n    /**\r\n     * Register a callback to be called anytime the member list changes.\r\n     */\n    function here(callback) {\n      this.on('pusher:subscription_succeeded', function (data) {\n        callback(Object.keys(data.members).map(function (k) {\n          return data.members[k];\n        }));\n      });\n      return this;\n    }\n    /**\r\n     * Listen for someone joining the channel.\r\n     */\n\n  }, {\n    key: \"joining\",\n    value: function joining(callback) {\n      this.on('pusher:member_added', function (member) {\n        callback(member.info);\n      });\n      return this;\n    }\n    /**\r\n     * Send a whisper event to other clients in the channel.\r\n     */\n\n  }, {\n    key: \"whisper\",\n    value: function whisper(eventName, data) {\n      this.pusher.channels.channels[this.name].trigger(\"client-\".concat(eventName), data);\n      return this;\n    }\n    /**\r\n     * Listen for someone leaving the channel.\r\n     */\n\n  }, {\n    key: \"leaving\",\n    value: function leaving(callback) {\n      this.on('pusher:member_removed', function (member) {\n        callback(member.info);\n      });\n      return this;\n    }\n  }]);\n\n  return PusherPresenceChannel;\n}(PusherChannel);\n\n/**\r\n * This class represents a Socket.io channel.\r\n */\n\nvar SocketIoChannel = /*#__PURE__*/function (_Channel) {\n  _inherits(SocketIoChannel, _Channel);\n\n  var _super = _createSuper(SocketIoChannel);\n\n  /**\r\n   * Create a new class instance.\r\n   */\n  function SocketIoChannel(socket, name, options) {\n    var _this;\n\n    _classCallCheck(this, SocketIoChannel);\n\n    _this = _super.call(this);\n    /**\r\n     * The event callbacks applied to the socket.\r\n     */\n\n    _this.events = {};\n    /**\r\n     * User supplied callbacks for events on this channel.\r\n     */\n\n    _this.listeners = {};\n    _this.name = name;\n    _this.socket = socket;\n    _this.options = options;\n    _this.eventFormatter = new EventFormatter(_this.options.namespace);\n\n    _this.subscribe();\n\n    return _this;\n  }\n  /**\r\n   * Subscribe to a Socket.io channel.\r\n   */\n\n\n  _createClass(SocketIoChannel, [{\n    key: \"subscribe\",\n    value: function subscribe() {\n      this.socket.emit('subscribe', {\n        channel: this.name,\n        auth: this.options.auth || {}\n      });\n    }\n    /**\r\n     * Unsubscribe from channel and ubind event callbacks.\r\n     */\n\n  }, {\n    key: \"unsubscribe\",\n    value: function unsubscribe() {\n      this.unbind();\n      this.socket.emit('unsubscribe', {\n        channel: this.name,\n        auth: this.options.auth || {}\n      });\n    }\n    /**\r\n     * Listen for an event on the channel instance.\r\n     */\n\n  }, {\n    key: \"listen\",\n    value: function listen(event, callback) {\n      this.on(this.eventFormatter.format(event), callback);\n      return this;\n    }\n    /**\r\n     * Stop listening for an event on the channel instance.\r\n     */\n\n  }, {\n    key: \"stopListening\",\n    value: function stopListening(event, callback) {\n      this.unbindEvent(this.eventFormatter.format(event), callback);\n      return this;\n    }\n    /**\r\n     * Register a callback to be called anytime a subscription succeeds.\r\n     */\n\n  }, {\n    key: \"subscribed\",\n    value: function subscribed(callback) {\n      this.on('connect', function (socket) {\n        callback(socket);\n      });\n      return this;\n    }\n    /**\r\n     * Register a callback to be called anytime an error occurs.\r\n     */\n\n  }, {\n    key: \"error\",\n    value: function error(callback) {\n      return this;\n    }\n    /**\r\n     * Bind the channel's socket to an event and store the callback.\r\n     */\n\n  }, {\n    key: \"on\",\n    value: function on(event, callback) {\n      var _this2 = this;\n\n      this.listeners[event] = this.listeners[event] || [];\n\n      if (!this.events[event]) {\n        this.events[event] = function (channel, data) {\n          if (_this2.name === channel && _this2.listeners[event]) {\n            _this2.listeners[event].forEach(function (cb) {\n              return cb(data);\n            });\n          }\n        };\n\n        this.socket.on(event, this.events[event]);\n      }\n\n      this.listeners[event].push(callback);\n      return this;\n    }\n    /**\r\n     * Unbind the channel's socket from all stored event callbacks.\r\n     */\n\n  }, {\n    key: \"unbind\",\n    value: function unbind() {\n      var _this3 = this;\n\n      Object.keys(this.events).forEach(function (event) {\n        _this3.unbindEvent(event);\n      });\n    }\n    /**\r\n     * Unbind the listeners for the given event.\r\n     */\n\n  }, {\n    key: \"unbindEvent\",\n    value: function unbindEvent(event, callback) {\n      this.listeners[event] = this.listeners[event] || [];\n\n      if (callback) {\n        this.listeners[event] = this.listeners[event].filter(function (cb) {\n          return cb !== callback;\n        });\n      }\n\n      if (!callback || this.listeners[event].length === 0) {\n        if (this.events[event]) {\n          this.socket.removeListener(event, this.events[event]);\n          delete this.events[event];\n        }\n\n        delete this.listeners[event];\n      }\n    }\n  }]);\n\n  return SocketIoChannel;\n}(Channel);\n\n/**\r\n * This class represents a Socket.io private channel.\r\n */\n\nvar SocketIoPrivateChannel = /*#__PURE__*/function (_SocketIoChannel) {\n  _inherits(SocketIoPrivateChannel, _SocketIoChannel);\n\n  var _super = _createSuper(SocketIoPrivateChannel);\n\n  function SocketIoPrivateChannel() {\n    _classCallCheck(this, SocketIoPrivateChannel);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(SocketIoPrivateChannel, [{\n    key: \"whisper\",\n    value:\n    /**\r\n     * Send a whisper event to other clients in the channel.\r\n     */\n    function whisper(eventName, data) {\n      this.socket.emit('client event', {\n        channel: this.name,\n        event: \"client-\".concat(eventName),\n        data: data\n      });\n      return this;\n    }\n  }]);\n\n  return SocketIoPrivateChannel;\n}(SocketIoChannel);\n\n/**\r\n * This class represents a Socket.io presence channel.\r\n */\n\nvar SocketIoPresenceChannel = /*#__PURE__*/function (_SocketIoPrivateChann) {\n  _inherits(SocketIoPresenceChannel, _SocketIoPrivateChann);\n\n  var _super = _createSuper(SocketIoPresenceChannel);\n\n  function SocketIoPresenceChannel() {\n    _classCallCheck(this, SocketIoPresenceChannel);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(SocketIoPresenceChannel, [{\n    key: \"here\",\n    value:\n    /**\r\n     * Register a callback to be called anytime the member list changes.\r\n     */\n    function here(callback) {\n      this.on('presence:subscribed', function (members) {\n        callback(members.map(function (m) {\n          return m.user_info;\n        }));\n      });\n      return this;\n    }\n    /**\r\n     * Listen for someone joining the channel.\r\n     */\n\n  }, {\n    key: \"joining\",\n    value: function joining(callback) {\n      this.on('presence:joining', function (member) {\n        return callback(member.user_info);\n      });\n      return this;\n    }\n    /**\r\n     * Send a whisper event to other clients in the channel.\r\n     */\n\n  }, {\n    key: \"whisper\",\n    value: function whisper(eventName, data) {\n      this.socket.emit('client event', {\n        channel: this.name,\n        event: \"client-\".concat(eventName),\n        data: data\n      });\n      return this;\n    }\n    /**\r\n     * Listen for someone leaving the channel.\r\n     */\n\n  }, {\n    key: \"leaving\",\n    value: function leaving(callback) {\n      this.on('presence:leaving', function (member) {\n        return callback(member.user_info);\n      });\n      return this;\n    }\n  }]);\n\n  return SocketIoPresenceChannel;\n}(SocketIoPrivateChannel);\n\n/**\r\n * This class represents a null channel.\r\n */\n\nvar NullChannel = /*#__PURE__*/function (_Channel) {\n  _inherits(NullChannel, _Channel);\n\n  var _super = _createSuper(NullChannel);\n\n  function NullChannel() {\n    _classCallCheck(this, NullChannel);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(NullChannel, [{\n    key: \"subscribe\",\n    value:\n    /**\r\n     * Subscribe to a channel.\r\n     */\n    function subscribe() {//\n    }\n    /**\r\n     * Unsubscribe from a channel.\r\n     */\n\n  }, {\n    key: \"unsubscribe\",\n    value: function unsubscribe() {//\n    }\n    /**\r\n     * Listen for an event on the channel instance.\r\n     */\n\n  }, {\n    key: \"listen\",\n    value: function listen(event, callback) {\n      return this;\n    }\n    /**\r\n     * Listen for all events on the channel instance.\r\n     */\n\n  }, {\n    key: \"listenToAll\",\n    value: function listenToAll(callback) {\n      return this;\n    }\n    /**\r\n     * Stop listening for an event on the channel instance.\r\n     */\n\n  }, {\n    key: \"stopListening\",\n    value: function stopListening(event, callback) {\n      return this;\n    }\n    /**\r\n     * Register a callback to be called anytime a subscription succeeds.\r\n     */\n\n  }, {\n    key: \"subscribed\",\n    value: function subscribed(callback) {\n      return this;\n    }\n    /**\r\n     * Register a callback to be called anytime an error occurs.\r\n     */\n\n  }, {\n    key: \"error\",\n    value: function error(callback) {\n      return this;\n    }\n    /**\r\n     * Bind a channel to an event.\r\n     */\n\n  }, {\n    key: \"on\",\n    value: function on(event, callback) {\n      return this;\n    }\n  }]);\n\n  return NullChannel;\n}(Channel);\n\n/**\r\n * This class represents a null private channel.\r\n */\n\nvar NullPrivateChannel = /*#__PURE__*/function (_NullChannel) {\n  _inherits(NullPrivateChannel, _NullChannel);\n\n  var _super = _createSuper(NullPrivateChannel);\n\n  function NullPrivateChannel() {\n    _classCallCheck(this, NullPrivateChannel);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(NullPrivateChannel, [{\n    key: \"whisper\",\n    value:\n    /**\r\n     * Send a whisper event to other clients in the channel.\r\n     */\n    function whisper(eventName, data) {\n      return this;\n    }\n  }]);\n\n  return NullPrivateChannel;\n}(NullChannel);\n\n/**\r\n * This class represents a null presence channel.\r\n */\n\nvar NullPresenceChannel = /*#__PURE__*/function (_NullChannel) {\n  _inherits(NullPresenceChannel, _NullChannel);\n\n  var _super = _createSuper(NullPresenceChannel);\n\n  function NullPresenceChannel() {\n    _classCallCheck(this, NullPresenceChannel);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(NullPresenceChannel, [{\n    key: \"here\",\n    value:\n    /**\r\n     * Register a callback to be called anytime the member list changes.\r\n     */\n    function here(callback) {\n      return this;\n    }\n    /**\r\n     * Listen for someone joining the channel.\r\n     */\n\n  }, {\n    key: \"joining\",\n    value: function joining(callback) {\n      return this;\n    }\n    /**\r\n     * Send a whisper event to other clients in the channel.\r\n     */\n\n  }, {\n    key: \"whisper\",\n    value: function whisper(eventName, data) {\n      return this;\n    }\n    /**\r\n     * Listen for someone leaving the channel.\r\n     */\n\n  }, {\n    key: \"leaving\",\n    value: function leaving(callback) {\n      return this;\n    }\n  }]);\n\n  return NullPresenceChannel;\n}(NullChannel);\n\nvar Connector = /*#__PURE__*/function () {\n  /**\r\n   * Create a new class instance.\r\n   */\n  function Connector(options) {\n    _classCallCheck(this, Connector);\n\n    /**\r\n     * Default connector options.\r\n     */\n    this._defaultOptions = {\n      auth: {\n        headers: {}\n      },\n      authEndpoint: '/broadcasting/auth',\n      userAuthentication: {\n        endpoint: '/broadcasting/user-auth',\n        headers: {}\n      },\n      broadcaster: 'pusher',\n      csrfToken: null,\n      bearerToken: null,\n      host: null,\n      key: null,\n      namespace: 'App.Events'\n    };\n    this.setOptions(options);\n    this.connect();\n  }\n  /**\r\n   * Merge the custom options with the defaults.\r\n   */\n\n\n  _createClass(Connector, [{\n    key: \"setOptions\",\n    value: function setOptions(options) {\n      this.options = _extends(this._defaultOptions, options);\n      var token = this.csrfToken();\n\n      if (token) {\n        this.options.auth.headers['X-CSRF-TOKEN'] = token;\n        this.options.userAuthentication.headers['X-CSRF-TOKEN'] = token;\n      }\n\n      token = this.options.bearerToken;\n\n      if (token) {\n        this.options.auth.headers['Authorization'] = 'Bearer ' + token;\n        this.options.userAuthentication.headers['Authorization'] = 'Bearer ' + token;\n      }\n\n      return options;\n    }\n    /**\r\n     * Extract the CSRF token from the page.\r\n     */\n\n  }, {\n    key: \"csrfToken\",\n    value: function csrfToken() {\n      var selector;\n\n      if (typeof window !== 'undefined' && window['Laravel'] && window['Laravel'].csrfToken) {\n        return window['Laravel'].csrfToken;\n      } else if (this.options.csrfToken) {\n        return this.options.csrfToken;\n      } else if (typeof document !== 'undefined' && typeof document.querySelector === 'function' && (selector = document.querySelector('meta[name=\"csrf-token\"]'))) {\n        return selector.getAttribute('content');\n      }\n\n      return null;\n    }\n  }]);\n\n  return Connector;\n}();\n\n/**\r\n * This class creates a connector to Pusher.\r\n */\n\nvar PusherConnector = /*#__PURE__*/function (_Connector) {\n  _inherits(PusherConnector, _Connector);\n\n  var _super = _createSuper(PusherConnector);\n\n  function PusherConnector() {\n    var _this;\n\n    _classCallCheck(this, PusherConnector);\n\n    _this = _super.apply(this, arguments);\n    /**\r\n     * All of the subscribed channel names.\r\n     */\n\n    _this.channels = {};\n    return _this;\n  }\n  /**\r\n   * Create a fresh Pusher connection.\r\n   */\n\n\n  _createClass(PusherConnector, [{\n    key: \"connect\",\n    value: function connect() {\n      if (typeof this.options.client !== 'undefined') {\n        this.pusher = this.options.client;\n      } else if (this.options.Pusher) {\n        this.pusher = new this.options.Pusher(this.options.key, this.options);\n      } else {\n        this.pusher = new Pusher(this.options.key, this.options);\n      }\n    }\n    /**\r\n     * Sign in the user via Pusher user authentication (https://pusher.com/docs/channels/using_channels/user-authentication/).\r\n     */\n\n  }, {\n    key: \"signin\",\n    value: function signin() {\n      this.pusher.signin();\n    }\n    /**\r\n     * Listen for an event on a channel instance.\r\n     */\n\n  }, {\n    key: \"listen\",\n    value: function listen(name, event, callback) {\n      return this.channel(name).listen(event, callback);\n    }\n    /**\r\n     * Get a channel instance by name.\r\n     */\n\n  }, {\n    key: \"channel\",\n    value: function channel(name) {\n      if (!this.channels[name]) {\n        this.channels[name] = new PusherChannel(this.pusher, name, this.options);\n      }\n\n      return this.channels[name];\n    }\n    /**\r\n     * Get a private channel instance by name.\r\n     */\n\n  }, {\n    key: \"privateChannel\",\n    value: function privateChannel(name) {\n      if (!this.channels['private-' + name]) {\n        this.channels['private-' + name] = new PusherPrivateChannel(this.pusher, 'private-' + name, this.options);\n      }\n\n      return this.channels['private-' + name];\n    }\n    /**\r\n     * Get a private encrypted channel instance by name.\r\n     */\n\n  }, {\n    key: \"encryptedPrivateChannel\",\n    value: function encryptedPrivateChannel(name) {\n      if (!this.channels['private-encrypted-' + name]) {\n        this.channels['private-encrypted-' + name] = new PusherEncryptedPrivateChannel(this.pusher, 'private-encrypted-' + name, this.options);\n      }\n\n      return this.channels['private-encrypted-' + name];\n    }\n    /**\r\n     * Get a presence channel instance by name.\r\n     */\n\n  }, {\n    key: \"presenceChannel\",\n    value: function presenceChannel(name) {\n      if (!this.channels['presence-' + name]) {\n        this.channels['presence-' + name] = new PusherPresenceChannel(this.pusher, 'presence-' + name, this.options);\n      }\n\n      return this.channels['presence-' + name];\n    }\n    /**\r\n     * Leave the given channel, as well as its private and presence variants.\r\n     */\n\n  }, {\n    key: \"leave\",\n    value: function leave(name) {\n      var _this2 = this;\n\n      var channels = [name, 'private-' + name, 'private-encrypted-' + name, 'presence-' + name];\n      channels.forEach(function (name, index) {\n        _this2.leaveChannel(name);\n      });\n    }\n    /**\r\n     * Leave the given channel.\r\n     */\n\n  }, {\n    key: \"leaveChannel\",\n    value: function leaveChannel(name) {\n      if (this.channels[name]) {\n        this.channels[name].unsubscribe();\n        delete this.channels[name];\n      }\n    }\n    /**\r\n     * Get the socket ID for the connection.\r\n     */\n\n  }, {\n    key: \"socketId\",\n    value: function socketId() {\n      return this.pusher.connection.socket_id;\n    }\n    /**\r\n     * Disconnect Pusher connection.\r\n     */\n\n  }, {\n    key: \"disconnect\",\n    value: function disconnect() {\n      this.pusher.disconnect();\n    }\n  }]);\n\n  return PusherConnector;\n}(Connector);\n\n/**\r\n * This class creates a connnector to a Socket.io server.\r\n */\n\nvar SocketIoConnector = /*#__PURE__*/function (_Connector) {\n  _inherits(SocketIoConnector, _Connector);\n\n  var _super = _createSuper(SocketIoConnector);\n\n  function SocketIoConnector() {\n    var _this;\n\n    _classCallCheck(this, SocketIoConnector);\n\n    _this = _super.apply(this, arguments);\n    /**\r\n     * All of the subscribed channel names.\r\n     */\n\n    _this.channels = {};\n    return _this;\n  }\n  /**\r\n   * Create a fresh Socket.io connection.\r\n   */\n\n\n  _createClass(SocketIoConnector, [{\n    key: \"connect\",\n    value: function connect() {\n      var _this2 = this;\n\n      var io = this.getSocketIO();\n      this.socket = io(this.options.host, this.options);\n      this.socket.on('reconnect', function () {\n        Object.values(_this2.channels).forEach(function (channel) {\n          channel.subscribe();\n        });\n      });\n      return this.socket;\n    }\n    /**\r\n     * Get socket.io module from global scope or options.\r\n     */\n\n  }, {\n    key: \"getSocketIO\",\n    value: function getSocketIO() {\n      if (typeof this.options.client !== 'undefined') {\n        return this.options.client;\n      }\n\n      if (typeof io !== 'undefined') {\n        return io;\n      }\n\n      throw new Error('Socket.io client not found. Should be globally available or passed via options.client');\n    }\n    /**\r\n     * Listen for an event on a channel instance.\r\n     */\n\n  }, {\n    key: \"listen\",\n    value: function listen(name, event, callback) {\n      return this.channel(name).listen(event, callback);\n    }\n    /**\r\n     * Get a channel instance by name.\r\n     */\n\n  }, {\n    key: \"channel\",\n    value: function channel(name) {\n      if (!this.channels[name]) {\n        this.channels[name] = new SocketIoChannel(this.socket, name, this.options);\n      }\n\n      return this.channels[name];\n    }\n    /**\r\n     * Get a private channel instance by name.\r\n     */\n\n  }, {\n    key: \"privateChannel\",\n    value: function privateChannel(name) {\n      if (!this.channels['private-' + name]) {\n        this.channels['private-' + name] = new SocketIoPrivateChannel(this.socket, 'private-' + name, this.options);\n      }\n\n      return this.channels['private-' + name];\n    }\n    /**\r\n     * Get a presence channel instance by name.\r\n     */\n\n  }, {\n    key: \"presenceChannel\",\n    value: function presenceChannel(name) {\n      if (!this.channels['presence-' + name]) {\n        this.channels['presence-' + name] = new SocketIoPresenceChannel(this.socket, 'presence-' + name, this.options);\n      }\n\n      return this.channels['presence-' + name];\n    }\n    /**\r\n     * Leave the given channel, as well as its private and presence variants.\r\n     */\n\n  }, {\n    key: \"leave\",\n    value: function leave(name) {\n      var _this3 = this;\n\n      var channels = [name, 'private-' + name, 'presence-' + name];\n      channels.forEach(function (name) {\n        _this3.leaveChannel(name);\n      });\n    }\n    /**\r\n     * Leave the given channel.\r\n     */\n\n  }, {\n    key: \"leaveChannel\",\n    value: function leaveChannel(name) {\n      if (this.channels[name]) {\n        this.channels[name].unsubscribe();\n        delete this.channels[name];\n      }\n    }\n    /**\r\n     * Get the socket ID for the connection.\r\n     */\n\n  }, {\n    key: \"socketId\",\n    value: function socketId() {\n      return this.socket.id;\n    }\n    /**\r\n     * Disconnect Socketio connection.\r\n     */\n\n  }, {\n    key: \"disconnect\",\n    value: function disconnect() {\n      this.socket.disconnect();\n    }\n  }]);\n\n  return SocketIoConnector;\n}(Connector);\n\n/**\r\n * This class creates a null connector.\r\n */\n\nvar NullConnector = /*#__PURE__*/function (_Connector) {\n  _inherits(NullConnector, _Connector);\n\n  var _super = _createSuper(NullConnector);\n\n  function NullConnector() {\n    var _this;\n\n    _classCallCheck(this, NullConnector);\n\n    _this = _super.apply(this, arguments);\n    /**\r\n     * All of the subscribed channel names.\r\n     */\n\n    _this.channels = {};\n    return _this;\n  }\n  /**\r\n   * Create a fresh connection.\r\n   */\n\n\n  _createClass(NullConnector, [{\n    key: \"connect\",\n    value: function connect() {//\n    }\n    /**\r\n     * Listen for an event on a channel instance.\r\n     */\n\n  }, {\n    key: \"listen\",\n    value: function listen(name, event, callback) {\n      return new NullChannel();\n    }\n    /**\r\n     * Get a channel instance by name.\r\n     */\n\n  }, {\n    key: \"channel\",\n    value: function channel(name) {\n      return new NullChannel();\n    }\n    /**\r\n     * Get a private channel instance by name.\r\n     */\n\n  }, {\n    key: \"privateChannel\",\n    value: function privateChannel(name) {\n      return new NullPrivateChannel();\n    }\n    /**\r\n     * Get a private encrypted channel instance by name.\r\n     */\n\n  }, {\n    key: \"encryptedPrivateChannel\",\n    value: function encryptedPrivateChannel(name) {\n      return new NullPrivateChannel();\n    }\n    /**\r\n     * Get a presence channel instance by name.\r\n     */\n\n  }, {\n    key: \"presenceChannel\",\n    value: function presenceChannel(name) {\n      return new NullPresenceChannel();\n    }\n    /**\r\n     * Leave the given channel, as well as its private and presence variants.\r\n     */\n\n  }, {\n    key: \"leave\",\n    value: function leave(name) {//\n    }\n    /**\r\n     * Leave the given channel.\r\n     */\n\n  }, {\n    key: \"leaveChannel\",\n    value: function leaveChannel(name) {//\n    }\n    /**\r\n     * Get the socket ID for the connection.\r\n     */\n\n  }, {\n    key: \"socketId\",\n    value: function socketId() {\n      return 'fake-socket-id';\n    }\n    /**\r\n     * Disconnect the connection.\r\n     */\n\n  }, {\n    key: \"disconnect\",\n    value: function disconnect() {//\n    }\n  }]);\n\n  return NullConnector;\n}(Connector);\n\n/**\r\n * This class is the primary API for interacting with broadcasting.\r\n */\n\nvar Echo = /*#__PURE__*/function () {\n  /**\r\n   * Create a new class instance.\r\n   */\n  function Echo(options) {\n    _classCallCheck(this, Echo);\n\n    this.options = options;\n    this.connect();\n\n    if (!this.options.withoutInterceptors) {\n      this.registerInterceptors();\n    }\n  }\n  /**\r\n   * Get a channel instance by name.\r\n   */\n\n\n  _createClass(Echo, [{\n    key: \"channel\",\n    value: function channel(_channel) {\n      return this.connector.channel(_channel);\n    }\n    /**\r\n     * Create a new connection.\r\n     */\n\n  }, {\n    key: \"connect\",\n    value: function connect() {\n      if (this.options.broadcaster == 'reverb') {\n        this.connector = new PusherConnector(_extends(_extends({}, this.options), {\n          cluster: ''\n        }));\n      } else if (this.options.broadcaster == 'pusher') {\n        this.connector = new PusherConnector(this.options);\n      } else if (this.options.broadcaster == 'socket.io') {\n        this.connector = new SocketIoConnector(this.options);\n      } else if (this.options.broadcaster == 'null') {\n        this.connector = new NullConnector(this.options);\n      } else if (typeof this.options.broadcaster == 'function') {\n        this.connector = new this.options.broadcaster(this.options);\n      } else {\n        throw new Error(\"Broadcaster \".concat(_typeof(this.options.broadcaster), \" \").concat(this.options.broadcaster, \" is not supported.\"));\n      }\n    }\n    /**\r\n     * Disconnect from the Echo server.\r\n     */\n\n  }, {\n    key: \"disconnect\",\n    value: function disconnect() {\n      this.connector.disconnect();\n    }\n    /**\r\n     * Get a presence channel instance by name.\r\n     */\n\n  }, {\n    key: \"join\",\n    value: function join(channel) {\n      return this.connector.presenceChannel(channel);\n    }\n    /**\r\n     * Leave the given channel, as well as its private and presence variants.\r\n     */\n\n  }, {\n    key: \"leave\",\n    value: function leave(channel) {\n      this.connector.leave(channel);\n    }\n    /**\r\n     * Leave the given channel.\r\n     */\n\n  }, {\n    key: \"leaveChannel\",\n    value: function leaveChannel(channel) {\n      this.connector.leaveChannel(channel);\n    }\n    /**\r\n     * Leave all channels.\r\n     */\n\n  }, {\n    key: \"leaveAllChannels\",\n    value: function leaveAllChannels() {\n      for (var channel in this.connector.channels) {\n        this.leaveChannel(channel);\n      }\n    }\n    /**\r\n     * Listen for an event on a channel instance.\r\n     */\n\n  }, {\n    key: \"listen\",\n    value: function listen(channel, event, callback) {\n      return this.connector.listen(channel, event, callback);\n    }\n    /**\r\n     * Get a private channel instance by name.\r\n     */\n\n  }, {\n    key: \"private\",\n    value: function _private(channel) {\n      return this.connector.privateChannel(channel);\n    }\n    /**\r\n     * Get a private encrypted channel instance by name.\r\n     */\n\n  }, {\n    key: \"encryptedPrivate\",\n    value: function encryptedPrivate(channel) {\n      return this.connector.encryptedPrivateChannel(channel);\n    }\n    /**\r\n     * Get the Socket ID for the connection.\r\n     */\n\n  }, {\n    key: \"socketId\",\n    value: function socketId() {\n      return this.connector.socketId();\n    }\n    /**\r\n     * Register 3rd party request interceptiors. These are used to automatically\r\n     * send a connections socket id to a Laravel app with a X-Socket-Id header.\r\n     */\n\n  }, {\n    key: \"registerInterceptors\",\n    value: function registerInterceptors() {\n      if (typeof Vue === 'function' && Vue.http) {\n        this.registerVueRequestInterceptor();\n      }\n\n      if (typeof axios === 'function') {\n        this.registerAxiosRequestInterceptor();\n      }\n\n      if (typeof jQuery === 'function') {\n        this.registerjQueryAjaxSetup();\n      }\n\n      if ((typeof Turbo === \"undefined\" ? \"undefined\" : _typeof(Turbo)) === 'object') {\n        this.registerTurboRequestInterceptor();\n      }\n    }\n    /**\r\n     * Register a Vue HTTP interceptor to add the X-Socket-ID header.\r\n     */\n\n  }, {\n    key: \"registerVueRequestInterceptor\",\n    value: function registerVueRequestInterceptor() {\n      var _this = this;\n\n      Vue.http.interceptors.push(function (request, next) {\n        if (_this.socketId()) {\n          request.headers.set('X-Socket-ID', _this.socketId());\n        }\n\n        next();\n      });\n    }\n    /**\r\n     * Register an Axios HTTP interceptor to add the X-Socket-ID header.\r\n     */\n\n  }, {\n    key: \"registerAxiosRequestInterceptor\",\n    value: function registerAxiosRequestInterceptor() {\n      var _this2 = this;\n\n      axios.interceptors.request.use(function (config) {\n        if (_this2.socketId()) {\n          config.headers['X-Socket-Id'] = _this2.socketId();\n        }\n\n        return config;\n      });\n    }\n    /**\r\n     * Register jQuery AjaxPrefilter to add the X-Socket-ID header.\r\n     */\n\n  }, {\n    key: \"registerjQueryAjaxSetup\",\n    value: function registerjQueryAjaxSetup() {\n      var _this3 = this;\n\n      if (typeof jQuery.ajax != 'undefined') {\n        jQuery.ajaxPrefilter(function (options, originalOptions, xhr) {\n          if (_this3.socketId()) {\n            xhr.setRequestHeader('X-Socket-Id', _this3.socketId());\n          }\n        });\n      }\n    }\n    /**\r\n     * Register the Turbo Request interceptor to add the X-Socket-ID header.\r\n     */\n\n  }, {\n    key: \"registerTurboRequestInterceptor\",\n    value: function registerTurboRequestInterceptor() {\n      var _this4 = this;\n\n      document.addEventListener('turbo:before-fetch-request', function (event) {\n        event.detail.fetchOptions.headers['X-Socket-Id'] = _this4.socketId();\n      });\n    }\n  }]);\n\n  return Echo;\n}();\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbGFyYXZlbC1lY2hvL2Rpc3QvZWNoby5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLGtCQUFrQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9CQUFvQixzQkFBc0I7QUFDMUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnRkFBZ0Y7QUFDaEY7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBLG1DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0Esd0NBQXdDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRTtBQUNqRTtBQUNBLFNBQVM7QUFDVCxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxpQkFBaUIsTUFBTTtBQUN2QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBLGlCQUFpQixNQUFNO0FBQ3ZCLFFBQVEsTUFBTTtBQUNkO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUU4RCIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sYXJhdmVsLWVjaG8vZGlzdC9lY2hvLmpzPzA3Y2YiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcbiAgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiO1xuXG4gIHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqO1xuICB9IDogZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiBvYmogJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7XG4gIH0sIF90eXBlb2Yob2JqKTtcbn1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnN0cnVjdG9yLCBcInByb3RvdHlwZVwiLCB7XG4gICAgd3JpdGFibGU6IGZhbHNlXG4gIH0pO1xuICByZXR1cm4gQ29uc3RydWN0b3I7XG59XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO1xuICB9XG5cbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgY29uc3RydWN0b3I6IHtcbiAgICAgIHZhbHVlOiBzdWJDbGFzcyxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfVxuICB9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHN1YkNsYXNzLCBcInByb3RvdHlwZVwiLCB7XG4gICAgd3JpdGFibGU6IGZhbHNlXG4gIH0pO1xuICBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTtcbn1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHtcbiAgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHtcbiAgICByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pO1xuICB9O1xuICByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pO1xufVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgICBvLl9fcHJvdG9fXyA9IHA7XG4gICAgcmV0dXJuIG87XG4gIH07XG5cbiAgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTtcbn1cblxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlO1xuICBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlO1xuICBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlO1xuXG4gIHRyeSB7XG4gICAgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikge1xuICBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7XG4gICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICB9XG5cbiAgcmV0dXJuIHNlbGY7XG59XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHtcbiAgaWYgKGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7XG4gICAgcmV0dXJuIGNhbGw7XG4gIH0gZWxzZSBpZiAoY2FsbCAhPT0gdm9pZCAwKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO1xuICB9XG5cbiAgcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7XG59XG5cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7XG4gIHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpO1xuXG4gIHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHtcbiAgICB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksXG4gICAgICAgIHJlc3VsdDtcblxuICAgIGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7XG4gICAgICB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yO1xuXG4gICAgICByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpO1xuICB9O1xufVxuXG4vKipcclxuICogVGhpcyBjbGFzcyByZXByZXNlbnRzIGEgYmFzaWMgY2hhbm5lbC5cclxuICovXG52YXIgQ2hhbm5lbCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIENoYW5uZWwoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENoYW5uZWwpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKENoYW5uZWwsIFt7XG4gICAga2V5OiBcImxpc3RlbkZvcldoaXNwZXJcIixcbiAgICB2YWx1ZTpcbiAgICAvKipcclxuICAgICAqIExpc3RlbiBmb3IgYSB3aGlzcGVyIGV2ZW50IG9uIHRoZSBjaGFubmVsIGluc3RhbmNlLlxyXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdGVuRm9yV2hpc3BlcihldmVudCwgY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiB0aGlzLmxpc3RlbignLmNsaWVudC0nICsgZXZlbnQsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgLyoqXHJcbiAgICAgKiBMaXN0ZW4gZm9yIGFuIGV2ZW50IG9uIHRoZSBjaGFubmVsIGluc3RhbmNlLlxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJub3RpZmljYXRpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbm90aWZpY2F0aW9uKGNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gdGhpcy5saXN0ZW4oJy5JbGx1bWluYXRlXFxcXE5vdGlmaWNhdGlvbnNcXFxcRXZlbnRzXFxcXEJyb2FkY2FzdE5vdGlmaWNhdGlvbkNyZWF0ZWQnLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIC8qKlxyXG4gICAgICogU3RvcCBsaXN0ZW5pbmcgZm9yIGEgd2hpc3BlciBldmVudCBvbiB0aGUgY2hhbm5lbCBpbnN0YW5jZS5cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic3RvcExpc3RlbmluZ0ZvcldoaXNwZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3RvcExpc3RlbmluZ0ZvcldoaXNwZXIoZXZlbnQsIGNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdG9wTGlzdGVuaW5nKCcuY2xpZW50LScgKyBldmVudCwgY2FsbGJhY2spO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDaGFubmVsO1xufSgpO1xuXG4vKipcclxuICogRXZlbnQgbmFtZSBmb3JtYXR0ZXJcclxuICovXG52YXIgRXZlbnRGb3JtYXR0ZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAvKipcclxuICAgKiBDcmVhdGUgYSBuZXcgY2xhc3MgaW5zdGFuY2UuXHJcbiAgICovXG4gIGZ1bmN0aW9uIEV2ZW50Rm9ybWF0dGVyKG5hbWVzcGFjZSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFdmVudEZvcm1hdHRlcik7XG5cbiAgICB0aGlzLm5hbWVzcGFjZSA9IG5hbWVzcGFjZTsgLy9cbiAgfVxuICAvKipcclxuICAgKiBGb3JtYXQgdGhlIGdpdmVuIGV2ZW50IG5hbWUuXHJcbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoRXZlbnRGb3JtYXR0ZXIsIFt7XG4gICAga2V5OiBcImZvcm1hdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmb3JtYXQoZXZlbnQpIHtcbiAgICAgIGlmIChbJy4nLCAnXFxcXCddLmluY2x1ZGVzKGV2ZW50LmNoYXJBdCgwKSkpIHtcbiAgICAgICAgcmV0dXJuIGV2ZW50LnN1YnN0cmluZygxKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5uYW1lc3BhY2UpIHtcbiAgICAgICAgZXZlbnQgPSB0aGlzLm5hbWVzcGFjZSArICcuJyArIGV2ZW50O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZXZlbnQucmVwbGFjZSgvXFwuL2csICdcXFxcJyk7XG4gICAgfVxuICAgIC8qKlxyXG4gICAgICogU2V0IHRoZSBldmVudCBuYW1lc3BhY2UuXHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNldE5hbWVzcGFjZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXROYW1lc3BhY2UodmFsdWUpIHtcbiAgICAgIHRoaXMubmFtZXNwYWNlID0gdmFsdWU7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEV2ZW50Rm9ybWF0dGVyO1xufSgpO1xuXG4vKipcclxuICogVGhpcyBjbGFzcyByZXByZXNlbnRzIGEgUHVzaGVyIGNoYW5uZWwuXHJcbiAqL1xuXG52YXIgUHVzaGVyQ2hhbm5lbCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0NoYW5uZWwpIHtcbiAgX2luaGVyaXRzKFB1c2hlckNoYW5uZWwsIF9DaGFubmVsKTtcblxuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKFB1c2hlckNoYW5uZWwpO1xuXG4gIC8qKlxyXG4gICAqIENyZWF0ZSBhIG5ldyBjbGFzcyBpbnN0YW5jZS5cclxuICAgKi9cbiAgZnVuY3Rpb24gUHVzaGVyQ2hhbm5lbChwdXNoZXIsIG5hbWUsIG9wdGlvbnMpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUHVzaGVyQ2hhbm5lbCk7XG5cbiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpO1xuICAgIF90aGlzLm5hbWUgPSBuYW1lO1xuICAgIF90aGlzLnB1c2hlciA9IHB1c2hlcjtcbiAgICBfdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICBfdGhpcy5ldmVudEZvcm1hdHRlciA9IG5ldyBFdmVudEZvcm1hdHRlcihfdGhpcy5vcHRpb25zLm5hbWVzcGFjZSk7XG5cbiAgICBfdGhpcy5zdWJzY3JpYmUoKTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcclxuICAgKiBTdWJzY3JpYmUgdG8gYSBQdXNoZXIgY2hhbm5lbC5cclxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhQdXNoZXJDaGFubmVsLCBbe1xuICAgIGtleTogXCJzdWJzY3JpYmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3Vic2NyaWJlKCkge1xuICAgICAgdGhpcy5zdWJzY3JpcHRpb24gPSB0aGlzLnB1c2hlci5zdWJzY3JpYmUodGhpcy5uYW1lKTtcbiAgICB9XG4gICAgLyoqXHJcbiAgICAgKiBVbnN1YnNjcmliZSBmcm9tIGEgUHVzaGVyIGNoYW5uZWwuXHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInVuc3Vic2NyaWJlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVuc3Vic2NyaWJlKCkge1xuICAgICAgdGhpcy5wdXNoZXIudW5zdWJzY3JpYmUodGhpcy5uYW1lKTtcbiAgICB9XG4gICAgLyoqXHJcbiAgICAgKiBMaXN0ZW4gZm9yIGFuIGV2ZW50IG9uIHRoZSBjaGFubmVsIGluc3RhbmNlLlxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJsaXN0ZW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbGlzdGVuKGV2ZW50LCBjYWxsYmFjaykge1xuICAgICAgdGhpcy5vbih0aGlzLmV2ZW50Rm9ybWF0dGVyLmZvcm1hdChldmVudCksIGNhbGxiYWNrKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcclxuICAgICAqIExpc3RlbiBmb3IgYWxsIGV2ZW50cyBvbiB0aGUgY2hhbm5lbCBpbnN0YW5jZS5cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibGlzdGVuVG9BbGxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbGlzdGVuVG9BbGwoY2FsbGJhY2spIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB0aGlzLnN1YnNjcmlwdGlvbi5iaW5kX2dsb2JhbChmdW5jdGlvbiAoZXZlbnQsIGRhdGEpIHtcbiAgICAgICAgaWYgKGV2ZW50LnN0YXJ0c1dpdGgoJ3B1c2hlcjonKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBuYW1lc3BhY2UgPSBfdGhpczIub3B0aW9ucy5uYW1lc3BhY2UucmVwbGFjZSgvXFwuL2csICdcXFxcJyk7XG5cbiAgICAgICAgdmFyIGZvcm1hdHRlZEV2ZW50ID0gZXZlbnQuc3RhcnRzV2l0aChuYW1lc3BhY2UpID8gZXZlbnQuc3Vic3RyaW5nKG5hbWVzcGFjZS5sZW5ndGggKyAxKSA6ICcuJyArIGV2ZW50O1xuICAgICAgICBjYWxsYmFjayhmb3JtYXR0ZWRFdmVudCwgZGF0YSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcclxuICAgICAqIFN0b3AgbGlzdGVuaW5nIGZvciBhbiBldmVudCBvbiB0aGUgY2hhbm5lbCBpbnN0YW5jZS5cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic3RvcExpc3RlbmluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzdG9wTGlzdGVuaW5nKGV2ZW50LCBjYWxsYmFjaykge1xuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9uLnVuYmluZCh0aGlzLmV2ZW50Rm9ybWF0dGVyLmZvcm1hdChldmVudCksIGNhbGxiYWNrKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9uLnVuYmluZCh0aGlzLmV2ZW50Rm9ybWF0dGVyLmZvcm1hdChldmVudCkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXHJcbiAgICAgKiBTdG9wIGxpc3RlbmluZyBmb3IgYWxsIGV2ZW50cyBvbiB0aGUgY2hhbm5lbCBpbnN0YW5jZS5cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic3RvcExpc3RlbmluZ1RvQWxsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN0b3BMaXN0ZW5pbmdUb0FsbChjYWxsYmFjaykge1xuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9uLnVuYmluZF9nbG9iYWwoY2FsbGJhY2spO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb24udW5iaW5kX2dsb2JhbCgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXHJcbiAgICAgKiBSZWdpc3RlciBhIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCBhbnl0aW1lIGEgc3Vic2NyaXB0aW9uIHN1Y2NlZWRzLlxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzdWJzY3JpYmVkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN1YnNjcmliZWQoY2FsbGJhY2spIHtcbiAgICAgIHRoaXMub24oJ3B1c2hlcjpzdWJzY3JpcHRpb25fc3VjY2VlZGVkJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXHJcbiAgICAgKiBSZWdpc3RlciBhIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCBhbnl0aW1lIGEgc3Vic2NyaXB0aW9uIGVycm9yIG9jY3Vycy5cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZXJyb3JcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZXJyb3IoY2FsbGJhY2spIHtcbiAgICAgIHRoaXMub24oJ3B1c2hlcjpzdWJzY3JpcHRpb25fZXJyb3InLCBmdW5jdGlvbiAoc3RhdHVzKSB7XG4gICAgICAgIGNhbGxiYWNrKHN0YXR1cyk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcclxuICAgICAqIEJpbmQgYSBjaGFubmVsIHRvIGFuIGV2ZW50LlxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbihldmVudCwgY2FsbGJhY2spIHtcbiAgICAgIHRoaXMuc3Vic2NyaXB0aW9uLmJpbmQoZXZlbnQsIGNhbGxiYWNrKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBQdXNoZXJDaGFubmVsO1xufShDaGFubmVsKTtcblxuLyoqXHJcbiAqIFRoaXMgY2xhc3MgcmVwcmVzZW50cyBhIFB1c2hlciBwcml2YXRlIGNoYW5uZWwuXHJcbiAqL1xuXG52YXIgUHVzaGVyUHJpdmF0ZUNoYW5uZWwgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9QdXNoZXJDaGFubmVsKSB7XG4gIF9pbmhlcml0cyhQdXNoZXJQcml2YXRlQ2hhbm5lbCwgX1B1c2hlckNoYW5uZWwpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoUHVzaGVyUHJpdmF0ZUNoYW5uZWwpO1xuXG4gIGZ1bmN0aW9uIFB1c2hlclByaXZhdGVDaGFubmVsKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQdXNoZXJQcml2YXRlQ2hhbm5lbCk7XG5cbiAgICByZXR1cm4gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUHVzaGVyUHJpdmF0ZUNoYW5uZWwsIFt7XG4gICAga2V5OiBcIndoaXNwZXJcIixcbiAgICB2YWx1ZTpcbiAgICAvKipcclxuICAgICAqIFNlbmQgYSB3aGlzcGVyIGV2ZW50IHRvIG90aGVyIGNsaWVudHMgaW4gdGhlIGNoYW5uZWwuXHJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3aGlzcGVyKGV2ZW50TmFtZSwgZGF0YSkge1xuICAgICAgdGhpcy5wdXNoZXIuY2hhbm5lbHMuY2hhbm5lbHNbdGhpcy5uYW1lXS50cmlnZ2VyKFwiY2xpZW50LVwiLmNvbmNhdChldmVudE5hbWUpLCBkYXRhKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBQdXNoZXJQcml2YXRlQ2hhbm5lbDtcbn0oUHVzaGVyQ2hhbm5lbCk7XG5cbi8qKlxyXG4gKiBUaGlzIGNsYXNzIHJlcHJlc2VudHMgYSBQdXNoZXIgcHJpdmF0ZSBjaGFubmVsLlxyXG4gKi9cblxudmFyIFB1c2hlckVuY3J5cHRlZFByaXZhdGVDaGFubmVsID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUHVzaGVyQ2hhbm5lbCkge1xuICBfaW5oZXJpdHMoUHVzaGVyRW5jcnlwdGVkUHJpdmF0ZUNoYW5uZWwsIF9QdXNoZXJDaGFubmVsKTtcblxuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKFB1c2hlckVuY3J5cHRlZFByaXZhdGVDaGFubmVsKTtcblxuICBmdW5jdGlvbiBQdXNoZXJFbmNyeXB0ZWRQcml2YXRlQ2hhbm5lbCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUHVzaGVyRW5jcnlwdGVkUHJpdmF0ZUNoYW5uZWwpO1xuXG4gICAgcmV0dXJuIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFB1c2hlckVuY3J5cHRlZFByaXZhdGVDaGFubmVsLCBbe1xuICAgIGtleTogXCJ3aGlzcGVyXCIsXG4gICAgdmFsdWU6XG4gICAgLyoqXHJcbiAgICAgKiBTZW5kIGEgd2hpc3BlciBldmVudCB0byBvdGhlciBjbGllbnRzIGluIHRoZSBjaGFubmVsLlxyXG4gICAgICovXG4gICAgZnVuY3Rpb24gd2hpc3BlcihldmVudE5hbWUsIGRhdGEpIHtcbiAgICAgIHRoaXMucHVzaGVyLmNoYW5uZWxzLmNoYW5uZWxzW3RoaXMubmFtZV0udHJpZ2dlcihcImNsaWVudC1cIi5jb25jYXQoZXZlbnROYW1lKSwgZGF0YSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUHVzaGVyRW5jcnlwdGVkUHJpdmF0ZUNoYW5uZWw7XG59KFB1c2hlckNoYW5uZWwpO1xuXG4vKipcclxuICogVGhpcyBjbGFzcyByZXByZXNlbnRzIGEgUHVzaGVyIHByZXNlbmNlIGNoYW5uZWwuXHJcbiAqL1xuXG52YXIgUHVzaGVyUHJlc2VuY2VDaGFubmVsID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUHVzaGVyQ2hhbm5lbCkge1xuICBfaW5oZXJpdHMoUHVzaGVyUHJlc2VuY2VDaGFubmVsLCBfUHVzaGVyQ2hhbm5lbCk7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihQdXNoZXJQcmVzZW5jZUNoYW5uZWwpO1xuXG4gIGZ1bmN0aW9uIFB1c2hlclByZXNlbmNlQ2hhbm5lbCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUHVzaGVyUHJlc2VuY2VDaGFubmVsKTtcblxuICAgIHJldHVybiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhQdXNoZXJQcmVzZW5jZUNoYW5uZWwsIFt7XG4gICAga2V5OiBcImhlcmVcIixcbiAgICB2YWx1ZTpcbiAgICAvKipcclxuICAgICAqIFJlZ2lzdGVyIGEgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIGFueXRpbWUgdGhlIG1lbWJlciBsaXN0IGNoYW5nZXMuXHJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoZXJlKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLm9uKCdwdXNoZXI6c3Vic2NyaXB0aW9uX3N1Y2NlZWRlZCcsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGNhbGxiYWNrKE9iamVjdC5rZXlzKGRhdGEubWVtYmVycykubWFwKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgICAgcmV0dXJuIGRhdGEubWVtYmVyc1trXTtcbiAgICAgICAgfSkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXHJcbiAgICAgKiBMaXN0ZW4gZm9yIHNvbWVvbmUgam9pbmluZyB0aGUgY2hhbm5lbC5cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiam9pbmluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBqb2luaW5nKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLm9uKCdwdXNoZXI6bWVtYmVyX2FkZGVkJywgZnVuY3Rpb24gKG1lbWJlcikge1xuICAgICAgICBjYWxsYmFjayhtZW1iZXIuaW5mbyk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcclxuICAgICAqIFNlbmQgYSB3aGlzcGVyIGV2ZW50IHRvIG90aGVyIGNsaWVudHMgaW4gdGhlIGNoYW5uZWwuXHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIndoaXNwZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gd2hpc3BlcihldmVudE5hbWUsIGRhdGEpIHtcbiAgICAgIHRoaXMucHVzaGVyLmNoYW5uZWxzLmNoYW5uZWxzW3RoaXMubmFtZV0udHJpZ2dlcihcImNsaWVudC1cIi5jb25jYXQoZXZlbnROYW1lKSwgZGF0YSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXHJcbiAgICAgKiBMaXN0ZW4gZm9yIHNvbWVvbmUgbGVhdmluZyB0aGUgY2hhbm5lbC5cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibGVhdmluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBsZWF2aW5nKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLm9uKCdwdXNoZXI6bWVtYmVyX3JlbW92ZWQnLCBmdW5jdGlvbiAobWVtYmVyKSB7XG4gICAgICAgIGNhbGxiYWNrKG1lbWJlci5pbmZvKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFB1c2hlclByZXNlbmNlQ2hhbm5lbDtcbn0oUHVzaGVyQ2hhbm5lbCk7XG5cbi8qKlxyXG4gKiBUaGlzIGNsYXNzIHJlcHJlc2VudHMgYSBTb2NrZXQuaW8gY2hhbm5lbC5cclxuICovXG5cbnZhciBTb2NrZXRJb0NoYW5uZWwgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9DaGFubmVsKSB7XG4gIF9pbmhlcml0cyhTb2NrZXRJb0NoYW5uZWwsIF9DaGFubmVsKTtcblxuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKFNvY2tldElvQ2hhbm5lbCk7XG5cbiAgLyoqXHJcbiAgICogQ3JlYXRlIGEgbmV3IGNsYXNzIGluc3RhbmNlLlxyXG4gICAqL1xuICBmdW5jdGlvbiBTb2NrZXRJb0NoYW5uZWwoc29ja2V0LCBuYW1lLCBvcHRpb25zKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNvY2tldElvQ2hhbm5lbCk7XG5cbiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpO1xuICAgIC8qKlxyXG4gICAgICogVGhlIGV2ZW50IGNhbGxiYWNrcyBhcHBsaWVkIHRvIHRoZSBzb2NrZXQuXHJcbiAgICAgKi9cblxuICAgIF90aGlzLmV2ZW50cyA9IHt9O1xuICAgIC8qKlxyXG4gICAgICogVXNlciBzdXBwbGllZCBjYWxsYmFja3MgZm9yIGV2ZW50cyBvbiB0aGlzIGNoYW5uZWwuXHJcbiAgICAgKi9cblxuICAgIF90aGlzLmxpc3RlbmVycyA9IHt9O1xuICAgIF90aGlzLm5hbWUgPSBuYW1lO1xuICAgIF90aGlzLnNvY2tldCA9IHNvY2tldDtcbiAgICBfdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICBfdGhpcy5ldmVudEZvcm1hdHRlciA9IG5ldyBFdmVudEZvcm1hdHRlcihfdGhpcy5vcHRpb25zLm5hbWVzcGFjZSk7XG5cbiAgICBfdGhpcy5zdWJzY3JpYmUoKTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcclxuICAgKiBTdWJzY3JpYmUgdG8gYSBTb2NrZXQuaW8gY2hhbm5lbC5cclxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhTb2NrZXRJb0NoYW5uZWwsIFt7XG4gICAga2V5OiBcInN1YnNjcmliZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzdWJzY3JpYmUoKSB7XG4gICAgICB0aGlzLnNvY2tldC5lbWl0KCdzdWJzY3JpYmUnLCB7XG4gICAgICAgIGNoYW5uZWw6IHRoaXMubmFtZSxcbiAgICAgICAgYXV0aDogdGhpcy5vcHRpb25zLmF1dGggfHwge31cbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcclxuICAgICAqIFVuc3Vic2NyaWJlIGZyb20gY2hhbm5lbCBhbmQgdWJpbmQgZXZlbnQgY2FsbGJhY2tzLlxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ1bnN1YnNjcmliZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1bnN1YnNjcmliZSgpIHtcbiAgICAgIHRoaXMudW5iaW5kKCk7XG4gICAgICB0aGlzLnNvY2tldC5lbWl0KCd1bnN1YnNjcmliZScsIHtcbiAgICAgICAgY2hhbm5lbDogdGhpcy5uYW1lLFxuICAgICAgICBhdXRoOiB0aGlzLm9wdGlvbnMuYXV0aCB8fCB7fVxuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxyXG4gICAgICogTGlzdGVuIGZvciBhbiBldmVudCBvbiB0aGUgY2hhbm5lbCBpbnN0YW5jZS5cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibGlzdGVuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxpc3RlbihldmVudCwgY2FsbGJhY2spIHtcbiAgICAgIHRoaXMub24odGhpcy5ldmVudEZvcm1hdHRlci5mb3JtYXQoZXZlbnQpLCBjYWxsYmFjayk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXHJcbiAgICAgKiBTdG9wIGxpc3RlbmluZyBmb3IgYW4gZXZlbnQgb24gdGhlIGNoYW5uZWwgaW5zdGFuY2UuXHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInN0b3BMaXN0ZW5pbmdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3RvcExpc3RlbmluZyhldmVudCwgY2FsbGJhY2spIHtcbiAgICAgIHRoaXMudW5iaW5kRXZlbnQodGhpcy5ldmVudEZvcm1hdHRlci5mb3JtYXQoZXZlbnQpLCBjYWxsYmFjayk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXHJcbiAgICAgKiBSZWdpc3RlciBhIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCBhbnl0aW1lIGEgc3Vic2NyaXB0aW9uIHN1Y2NlZWRzLlxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzdWJzY3JpYmVkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN1YnNjcmliZWQoY2FsbGJhY2spIHtcbiAgICAgIHRoaXMub24oJ2Nvbm5lY3QnLCBmdW5jdGlvbiAoc29ja2V0KSB7XG4gICAgICAgIGNhbGxiYWNrKHNvY2tldCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcclxuICAgICAqIFJlZ2lzdGVyIGEgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIGFueXRpbWUgYW4gZXJyb3Igb2NjdXJzLlxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJlcnJvclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlcnJvcihjYWxsYmFjaykge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxyXG4gICAgICogQmluZCB0aGUgY2hhbm5lbCdzIHNvY2tldCB0byBhbiBldmVudCBhbmQgc3RvcmUgdGhlIGNhbGxiYWNrLlxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbihldmVudCwgY2FsbGJhY2spIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB0aGlzLmxpc3RlbmVyc1tldmVudF0gPSB0aGlzLmxpc3RlbmVyc1tldmVudF0gfHwgW107XG5cbiAgICAgIGlmICghdGhpcy5ldmVudHNbZXZlbnRdKSB7XG4gICAgICAgIHRoaXMuZXZlbnRzW2V2ZW50XSA9IGZ1bmN0aW9uIChjaGFubmVsLCBkYXRhKSB7XG4gICAgICAgICAgaWYgKF90aGlzMi5uYW1lID09PSBjaGFubmVsICYmIF90aGlzMi5saXN0ZW5lcnNbZXZlbnRdKSB7XG4gICAgICAgICAgICBfdGhpczIubGlzdGVuZXJzW2V2ZW50XS5mb3JFYWNoKGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgICAgICByZXR1cm4gY2IoZGF0YSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5zb2NrZXQub24oZXZlbnQsIHRoaXMuZXZlbnRzW2V2ZW50XSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMubGlzdGVuZXJzW2V2ZW50XS5wdXNoKGNhbGxiYWNrKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcclxuICAgICAqIFVuYmluZCB0aGUgY2hhbm5lbCdzIHNvY2tldCBmcm9tIGFsbCBzdG9yZWQgZXZlbnQgY2FsbGJhY2tzLlxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ1bmJpbmRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdW5iaW5kKCkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIE9iamVjdC5rZXlzKHRoaXMuZXZlbnRzKS5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBfdGhpczMudW5iaW5kRXZlbnQoZXZlbnQpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxyXG4gICAgICogVW5iaW5kIHRoZSBsaXN0ZW5lcnMgZm9yIHRoZSBnaXZlbiBldmVudC5cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidW5iaW5kRXZlbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdW5iaW5kRXZlbnQoZXZlbnQsIGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLmxpc3RlbmVyc1tldmVudF0gPSB0aGlzLmxpc3RlbmVyc1tldmVudF0gfHwgW107XG5cbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmxpc3RlbmVyc1tldmVudF0gPSB0aGlzLmxpc3RlbmVyc1tldmVudF0uZmlsdGVyKGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgIHJldHVybiBjYiAhPT0gY2FsbGJhY2s7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWNhbGxiYWNrIHx8IHRoaXMubGlzdGVuZXJzW2V2ZW50XS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgaWYgKHRoaXMuZXZlbnRzW2V2ZW50XSkge1xuICAgICAgICAgIHRoaXMuc29ja2V0LnJlbW92ZUxpc3RlbmVyKGV2ZW50LCB0aGlzLmV2ZW50c1tldmVudF0pO1xuICAgICAgICAgIGRlbGV0ZSB0aGlzLmV2ZW50c1tldmVudF07XG4gICAgICAgIH1cblxuICAgICAgICBkZWxldGUgdGhpcy5saXN0ZW5lcnNbZXZlbnRdO1xuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTb2NrZXRJb0NoYW5uZWw7XG59KENoYW5uZWwpO1xuXG4vKipcclxuICogVGhpcyBjbGFzcyByZXByZXNlbnRzIGEgU29ja2V0LmlvIHByaXZhdGUgY2hhbm5lbC5cclxuICovXG5cbnZhciBTb2NrZXRJb1ByaXZhdGVDaGFubmVsID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfU29ja2V0SW9DaGFubmVsKSB7XG4gIF9pbmhlcml0cyhTb2NrZXRJb1ByaXZhdGVDaGFubmVsLCBfU29ja2V0SW9DaGFubmVsKTtcblxuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKFNvY2tldElvUHJpdmF0ZUNoYW5uZWwpO1xuXG4gIGZ1bmN0aW9uIFNvY2tldElvUHJpdmF0ZUNoYW5uZWwoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNvY2tldElvUHJpdmF0ZUNoYW5uZWwpO1xuXG4gICAgcmV0dXJuIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFNvY2tldElvUHJpdmF0ZUNoYW5uZWwsIFt7XG4gICAga2V5OiBcIndoaXNwZXJcIixcbiAgICB2YWx1ZTpcbiAgICAvKipcclxuICAgICAqIFNlbmQgYSB3aGlzcGVyIGV2ZW50IHRvIG90aGVyIGNsaWVudHMgaW4gdGhlIGNoYW5uZWwuXHJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3aGlzcGVyKGV2ZW50TmFtZSwgZGF0YSkge1xuICAgICAgdGhpcy5zb2NrZXQuZW1pdCgnY2xpZW50IGV2ZW50Jywge1xuICAgICAgICBjaGFubmVsOiB0aGlzLm5hbWUsXG4gICAgICAgIGV2ZW50OiBcImNsaWVudC1cIi5jb25jYXQoZXZlbnROYW1lKSxcbiAgICAgICAgZGF0YTogZGF0YVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU29ja2V0SW9Qcml2YXRlQ2hhbm5lbDtcbn0oU29ja2V0SW9DaGFubmVsKTtcblxuLyoqXHJcbiAqIFRoaXMgY2xhc3MgcmVwcmVzZW50cyBhIFNvY2tldC5pbyBwcmVzZW5jZSBjaGFubmVsLlxyXG4gKi9cblxudmFyIFNvY2tldElvUHJlc2VuY2VDaGFubmVsID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfU29ja2V0SW9Qcml2YXRlQ2hhbm4pIHtcbiAgX2luaGVyaXRzKFNvY2tldElvUHJlc2VuY2VDaGFubmVsLCBfU29ja2V0SW9Qcml2YXRlQ2hhbm4pO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoU29ja2V0SW9QcmVzZW5jZUNoYW5uZWwpO1xuXG4gIGZ1bmN0aW9uIFNvY2tldElvUHJlc2VuY2VDaGFubmVsKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTb2NrZXRJb1ByZXNlbmNlQ2hhbm5lbCk7XG5cbiAgICByZXR1cm4gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoU29ja2V0SW9QcmVzZW5jZUNoYW5uZWwsIFt7XG4gICAga2V5OiBcImhlcmVcIixcbiAgICB2YWx1ZTpcbiAgICAvKipcclxuICAgICAqIFJlZ2lzdGVyIGEgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIGFueXRpbWUgdGhlIG1lbWJlciBsaXN0IGNoYW5nZXMuXHJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoZXJlKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLm9uKCdwcmVzZW5jZTpzdWJzY3JpYmVkJywgZnVuY3Rpb24gKG1lbWJlcnMpIHtcbiAgICAgICAgY2FsbGJhY2sobWVtYmVycy5tYXAoZnVuY3Rpb24gKG0pIHtcbiAgICAgICAgICByZXR1cm4gbS51c2VyX2luZm87XG4gICAgICAgIH0pKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxyXG4gICAgICogTGlzdGVuIGZvciBzb21lb25lIGpvaW5pbmcgdGhlIGNoYW5uZWwuXHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImpvaW5pbmdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gam9pbmluZyhjYWxsYmFjaykge1xuICAgICAgdGhpcy5vbigncHJlc2VuY2U6am9pbmluZycsIGZ1bmN0aW9uIChtZW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG1lbWJlci51c2VyX2luZm8pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXHJcbiAgICAgKiBTZW5kIGEgd2hpc3BlciBldmVudCB0byBvdGhlciBjbGllbnRzIGluIHRoZSBjaGFubmVsLlxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ3aGlzcGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHdoaXNwZXIoZXZlbnROYW1lLCBkYXRhKSB7XG4gICAgICB0aGlzLnNvY2tldC5lbWl0KCdjbGllbnQgZXZlbnQnLCB7XG4gICAgICAgIGNoYW5uZWw6IHRoaXMubmFtZSxcbiAgICAgICAgZXZlbnQ6IFwiY2xpZW50LVwiLmNvbmNhdChldmVudE5hbWUpLFxuICAgICAgICBkYXRhOiBkYXRhXG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcclxuICAgICAqIExpc3RlbiBmb3Igc29tZW9uZSBsZWF2aW5nIHRoZSBjaGFubmVsLlxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJsZWF2aW5nXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxlYXZpbmcoY2FsbGJhY2spIHtcbiAgICAgIHRoaXMub24oJ3ByZXNlbmNlOmxlYXZpbmcnLCBmdW5jdGlvbiAobWVtYmVyKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhtZW1iZXIudXNlcl9pbmZvKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFNvY2tldElvUHJlc2VuY2VDaGFubmVsO1xufShTb2NrZXRJb1ByaXZhdGVDaGFubmVsKTtcblxuLyoqXHJcbiAqIFRoaXMgY2xhc3MgcmVwcmVzZW50cyBhIG51bGwgY2hhbm5lbC5cclxuICovXG5cbnZhciBOdWxsQ2hhbm5lbCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0NoYW5uZWwpIHtcbiAgX2luaGVyaXRzKE51bGxDaGFubmVsLCBfQ2hhbm5lbCk7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihOdWxsQ2hhbm5lbCk7XG5cbiAgZnVuY3Rpb24gTnVsbENoYW5uZWwoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE51bGxDaGFubmVsKTtcblxuICAgIHJldHVybiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhOdWxsQ2hhbm5lbCwgW3tcbiAgICBrZXk6IFwic3Vic2NyaWJlXCIsXG4gICAgdmFsdWU6XG4gICAgLyoqXHJcbiAgICAgKiBTdWJzY3JpYmUgdG8gYSBjaGFubmVsLlxyXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3Vic2NyaWJlKCkgey8vXG4gICAgfVxuICAgIC8qKlxyXG4gICAgICogVW5zdWJzY3JpYmUgZnJvbSBhIGNoYW5uZWwuXHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInVuc3Vic2NyaWJlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVuc3Vic2NyaWJlKCkgey8vXG4gICAgfVxuICAgIC8qKlxyXG4gICAgICogTGlzdGVuIGZvciBhbiBldmVudCBvbiB0aGUgY2hhbm5lbCBpbnN0YW5jZS5cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibGlzdGVuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxpc3RlbihldmVudCwgY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcclxuICAgICAqIExpc3RlbiBmb3IgYWxsIGV2ZW50cyBvbiB0aGUgY2hhbm5lbCBpbnN0YW5jZS5cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibGlzdGVuVG9BbGxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbGlzdGVuVG9BbGwoY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcclxuICAgICAqIFN0b3AgbGlzdGVuaW5nIGZvciBhbiBldmVudCBvbiB0aGUgY2hhbm5lbCBpbnN0YW5jZS5cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic3RvcExpc3RlbmluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzdG9wTGlzdGVuaW5nKGV2ZW50LCBjYWxsYmFjaykge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxyXG4gICAgICogUmVnaXN0ZXIgYSBjYWxsYmFjayB0byBiZSBjYWxsZWQgYW55dGltZSBhIHN1YnNjcmlwdGlvbiBzdWNjZWVkcy5cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic3Vic2NyaWJlZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzdWJzY3JpYmVkKGNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXHJcbiAgICAgKiBSZWdpc3RlciBhIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCBhbnl0aW1lIGFuIGVycm9yIG9jY3Vycy5cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZXJyb3JcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZXJyb3IoY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcclxuICAgICAqIEJpbmQgYSBjaGFubmVsIHRvIGFuIGV2ZW50LlxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbihldmVudCwgY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBOdWxsQ2hhbm5lbDtcbn0oQ2hhbm5lbCk7XG5cbi8qKlxyXG4gKiBUaGlzIGNsYXNzIHJlcHJlc2VudHMgYSBudWxsIHByaXZhdGUgY2hhbm5lbC5cclxuICovXG5cbnZhciBOdWxsUHJpdmF0ZUNoYW5uZWwgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9OdWxsQ2hhbm5lbCkge1xuICBfaW5oZXJpdHMoTnVsbFByaXZhdGVDaGFubmVsLCBfTnVsbENoYW5uZWwpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoTnVsbFByaXZhdGVDaGFubmVsKTtcblxuICBmdW5jdGlvbiBOdWxsUHJpdmF0ZUNoYW5uZWwoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE51bGxQcml2YXRlQ2hhbm5lbCk7XG5cbiAgICByZXR1cm4gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTnVsbFByaXZhdGVDaGFubmVsLCBbe1xuICAgIGtleTogXCJ3aGlzcGVyXCIsXG4gICAgdmFsdWU6XG4gICAgLyoqXHJcbiAgICAgKiBTZW5kIGEgd2hpc3BlciBldmVudCB0byBvdGhlciBjbGllbnRzIGluIHRoZSBjaGFubmVsLlxyXG4gICAgICovXG4gICAgZnVuY3Rpb24gd2hpc3BlcihldmVudE5hbWUsIGRhdGEpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBOdWxsUHJpdmF0ZUNoYW5uZWw7XG59KE51bGxDaGFubmVsKTtcblxuLyoqXHJcbiAqIFRoaXMgY2xhc3MgcmVwcmVzZW50cyBhIG51bGwgcHJlc2VuY2UgY2hhbm5lbC5cclxuICovXG5cbnZhciBOdWxsUHJlc2VuY2VDaGFubmVsID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfTnVsbENoYW5uZWwpIHtcbiAgX2luaGVyaXRzKE51bGxQcmVzZW5jZUNoYW5uZWwsIF9OdWxsQ2hhbm5lbCk7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihOdWxsUHJlc2VuY2VDaGFubmVsKTtcblxuICBmdW5jdGlvbiBOdWxsUHJlc2VuY2VDaGFubmVsKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBOdWxsUHJlc2VuY2VDaGFubmVsKTtcblxuICAgIHJldHVybiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhOdWxsUHJlc2VuY2VDaGFubmVsLCBbe1xuICAgIGtleTogXCJoZXJlXCIsXG4gICAgdmFsdWU6XG4gICAgLyoqXHJcbiAgICAgKiBSZWdpc3RlciBhIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCBhbnl0aW1lIHRoZSBtZW1iZXIgbGlzdCBjaGFuZ2VzLlxyXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGVyZShjYWxsYmFjaykge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxyXG4gICAgICogTGlzdGVuIGZvciBzb21lb25lIGpvaW5pbmcgdGhlIGNoYW5uZWwuXHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImpvaW5pbmdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gam9pbmluZyhjYWxsYmFjaykge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxyXG4gICAgICogU2VuZCBhIHdoaXNwZXIgZXZlbnQgdG8gb3RoZXIgY2xpZW50cyBpbiB0aGUgY2hhbm5lbC5cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwid2hpc3BlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB3aGlzcGVyKGV2ZW50TmFtZSwgZGF0YSkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxyXG4gICAgICogTGlzdGVuIGZvciBzb21lb25lIGxlYXZpbmcgdGhlIGNoYW5uZWwuXHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImxlYXZpbmdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbGVhdmluZyhjYWxsYmFjaykge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE51bGxQcmVzZW5jZUNoYW5uZWw7XG59KE51bGxDaGFubmVsKTtcblxudmFyIENvbm5lY3RvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIC8qKlxyXG4gICAqIENyZWF0ZSBhIG5ldyBjbGFzcyBpbnN0YW5jZS5cclxuICAgKi9cbiAgZnVuY3Rpb24gQ29ubmVjdG9yKG9wdGlvbnMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29ubmVjdG9yKTtcblxuICAgIC8qKlxyXG4gICAgICogRGVmYXVsdCBjb25uZWN0b3Igb3B0aW9ucy5cclxuICAgICAqL1xuICAgIHRoaXMuX2RlZmF1bHRPcHRpb25zID0ge1xuICAgICAgYXV0aDoge1xuICAgICAgICBoZWFkZXJzOiB7fVxuICAgICAgfSxcbiAgICAgIGF1dGhFbmRwb2ludDogJy9icm9hZGNhc3RpbmcvYXV0aCcsXG4gICAgICB1c2VyQXV0aGVudGljYXRpb246IHtcbiAgICAgICAgZW5kcG9pbnQ6ICcvYnJvYWRjYXN0aW5nL3VzZXItYXV0aCcsXG4gICAgICAgIGhlYWRlcnM6IHt9XG4gICAgICB9LFxuICAgICAgYnJvYWRjYXN0ZXI6ICdwdXNoZXInLFxuICAgICAgY3NyZlRva2VuOiBudWxsLFxuICAgICAgYmVhcmVyVG9rZW46IG51bGwsXG4gICAgICBob3N0OiBudWxsLFxuICAgICAga2V5OiBudWxsLFxuICAgICAgbmFtZXNwYWNlOiAnQXBwLkV2ZW50cydcbiAgICB9O1xuICAgIHRoaXMuc2V0T3B0aW9ucyhvcHRpb25zKTtcbiAgICB0aGlzLmNvbm5lY3QoKTtcbiAgfVxuICAvKipcclxuICAgKiBNZXJnZSB0aGUgY3VzdG9tIG9wdGlvbnMgd2l0aCB0aGUgZGVmYXVsdHMuXHJcbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoQ29ubmVjdG9yLCBbe1xuICAgIGtleTogXCJzZXRPcHRpb25zXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldE9wdGlvbnMob3B0aW9ucykge1xuICAgICAgdGhpcy5vcHRpb25zID0gX2V4dGVuZHModGhpcy5fZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpO1xuICAgICAgdmFyIHRva2VuID0gdGhpcy5jc3JmVG9rZW4oKTtcblxuICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5hdXRoLmhlYWRlcnNbJ1gtQ1NSRi1UT0tFTiddID0gdG9rZW47XG4gICAgICAgIHRoaXMub3B0aW9ucy51c2VyQXV0aGVudGljYXRpb24uaGVhZGVyc1snWC1DU1JGLVRPS0VOJ10gPSB0b2tlbjtcbiAgICAgIH1cblxuICAgICAgdG9rZW4gPSB0aGlzLm9wdGlvbnMuYmVhcmVyVG9rZW47XG5cbiAgICAgIGlmICh0b2tlbikge1xuICAgICAgICB0aGlzLm9wdGlvbnMuYXV0aC5oZWFkZXJzWydBdXRob3JpemF0aW9uJ10gPSAnQmVhcmVyICcgKyB0b2tlbjtcbiAgICAgICAgdGhpcy5vcHRpb25zLnVzZXJBdXRoZW50aWNhdGlvbi5oZWFkZXJzWydBdXRob3JpemF0aW9uJ10gPSAnQmVhcmVyICcgKyB0b2tlbjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgfVxuICAgIC8qKlxyXG4gICAgICogRXh0cmFjdCB0aGUgQ1NSRiB0b2tlbiBmcm9tIHRoZSBwYWdlLlxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJjc3JmVG9rZW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY3NyZlRva2VuKCkge1xuICAgICAgdmFyIHNlbGVjdG9yO1xuXG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93WydMYXJhdmVsJ10gJiYgd2luZG93WydMYXJhdmVsJ10uY3NyZlRva2VuKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3dbJ0xhcmF2ZWwnXS5jc3JmVG9rZW47XG4gICAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5jc3JmVG9rZW4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5jc3JmVG9rZW47XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgPT09ICdmdW5jdGlvbicgJiYgKHNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWV0YVtuYW1lPVwiY3NyZi10b2tlblwiXScpKSkge1xuICAgICAgICByZXR1cm4gc2VsZWN0b3IuZ2V0QXR0cmlidXRlKCdjb250ZW50Jyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDb25uZWN0b3I7XG59KCk7XG5cbi8qKlxyXG4gKiBUaGlzIGNsYXNzIGNyZWF0ZXMgYSBjb25uZWN0b3IgdG8gUHVzaGVyLlxyXG4gKi9cblxudmFyIFB1c2hlckNvbm5lY3RvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0Nvbm5lY3Rvcikge1xuICBfaW5oZXJpdHMoUHVzaGVyQ29ubmVjdG9yLCBfQ29ubmVjdG9yKTtcblxuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKFB1c2hlckNvbm5lY3Rvcik7XG5cbiAgZnVuY3Rpb24gUHVzaGVyQ29ubmVjdG9yKCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQdXNoZXJDb25uZWN0b3IpO1xuXG4gICAgX3RoaXMgPSBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAvKipcclxuICAgICAqIEFsbCBvZiB0aGUgc3Vic2NyaWJlZCBjaGFubmVsIG5hbWVzLlxyXG4gICAgICovXG5cbiAgICBfdGhpcy5jaGFubmVscyA9IHt9O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcclxuICAgKiBDcmVhdGUgYSBmcmVzaCBQdXNoZXIgY29ubmVjdGlvbi5cclxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhQdXNoZXJDb25uZWN0b3IsIFt7XG4gICAga2V5OiBcImNvbm5lY3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29ubmVjdCgpIHtcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLmNsaWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhpcy5wdXNoZXIgPSB0aGlzLm9wdGlvbnMuY2xpZW50O1xuICAgICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMuUHVzaGVyKSB7XG4gICAgICAgIHRoaXMucHVzaGVyID0gbmV3IHRoaXMub3B0aW9ucy5QdXNoZXIodGhpcy5vcHRpb25zLmtleSwgdGhpcy5vcHRpb25zKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucHVzaGVyID0gbmV3IFB1c2hlcih0aGlzLm9wdGlvbnMua2V5LCB0aGlzLm9wdGlvbnMpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcclxuICAgICAqIFNpZ24gaW4gdGhlIHVzZXIgdmlhIFB1c2hlciB1c2VyIGF1dGhlbnRpY2F0aW9uIChodHRwczovL3B1c2hlci5jb20vZG9jcy9jaGFubmVscy91c2luZ19jaGFubmVscy91c2VyLWF1dGhlbnRpY2F0aW9uLykuXHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNpZ25pblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzaWduaW4oKSB7XG4gICAgICB0aGlzLnB1c2hlci5zaWduaW4oKTtcbiAgICB9XG4gICAgLyoqXHJcbiAgICAgKiBMaXN0ZW4gZm9yIGFuIGV2ZW50IG9uIGEgY2hhbm5lbCBpbnN0YW5jZS5cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibGlzdGVuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxpc3RlbihuYW1lLCBldmVudCwgY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiB0aGlzLmNoYW5uZWwobmFtZSkubGlzdGVuKGV2ZW50LCBjYWxsYmFjayk7XG4gICAgfVxuICAgIC8qKlxyXG4gICAgICogR2V0IGEgY2hhbm5lbCBpbnN0YW5jZSBieSBuYW1lLlxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJjaGFubmVsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNoYW5uZWwobmFtZSkge1xuICAgICAgaWYgKCF0aGlzLmNoYW5uZWxzW25hbWVdKSB7XG4gICAgICAgIHRoaXMuY2hhbm5lbHNbbmFtZV0gPSBuZXcgUHVzaGVyQ2hhbm5lbCh0aGlzLnB1c2hlciwgbmFtZSwgdGhpcy5vcHRpb25zKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuY2hhbm5lbHNbbmFtZV07XG4gICAgfVxuICAgIC8qKlxyXG4gICAgICogR2V0IGEgcHJpdmF0ZSBjaGFubmVsIGluc3RhbmNlIGJ5IG5hbWUuXHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInByaXZhdGVDaGFubmVsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHByaXZhdGVDaGFubmVsKG5hbWUpIHtcbiAgICAgIGlmICghdGhpcy5jaGFubmVsc1sncHJpdmF0ZS0nICsgbmFtZV0pIHtcbiAgICAgICAgdGhpcy5jaGFubmVsc1sncHJpdmF0ZS0nICsgbmFtZV0gPSBuZXcgUHVzaGVyUHJpdmF0ZUNoYW5uZWwodGhpcy5wdXNoZXIsICdwcml2YXRlLScgKyBuYW1lLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5jaGFubmVsc1sncHJpdmF0ZS0nICsgbmFtZV07XG4gICAgfVxuICAgIC8qKlxyXG4gICAgICogR2V0IGEgcHJpdmF0ZSBlbmNyeXB0ZWQgY2hhbm5lbCBpbnN0YW5jZSBieSBuYW1lLlxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJlbmNyeXB0ZWRQcml2YXRlQ2hhbm5lbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlbmNyeXB0ZWRQcml2YXRlQ2hhbm5lbChuYW1lKSB7XG4gICAgICBpZiAoIXRoaXMuY2hhbm5lbHNbJ3ByaXZhdGUtZW5jcnlwdGVkLScgKyBuYW1lXSkge1xuICAgICAgICB0aGlzLmNoYW5uZWxzWydwcml2YXRlLWVuY3J5cHRlZC0nICsgbmFtZV0gPSBuZXcgUHVzaGVyRW5jcnlwdGVkUHJpdmF0ZUNoYW5uZWwodGhpcy5wdXNoZXIsICdwcml2YXRlLWVuY3J5cHRlZC0nICsgbmFtZSwgdGhpcy5vcHRpb25zKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuY2hhbm5lbHNbJ3ByaXZhdGUtZW5jcnlwdGVkLScgKyBuYW1lXTtcbiAgICB9XG4gICAgLyoqXHJcbiAgICAgKiBHZXQgYSBwcmVzZW5jZSBjaGFubmVsIGluc3RhbmNlIGJ5IG5hbWUuXHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInByZXNlbmNlQ2hhbm5lbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwcmVzZW5jZUNoYW5uZWwobmFtZSkge1xuICAgICAgaWYgKCF0aGlzLmNoYW5uZWxzWydwcmVzZW5jZS0nICsgbmFtZV0pIHtcbiAgICAgICAgdGhpcy5jaGFubmVsc1sncHJlc2VuY2UtJyArIG5hbWVdID0gbmV3IFB1c2hlclByZXNlbmNlQ2hhbm5lbCh0aGlzLnB1c2hlciwgJ3ByZXNlbmNlLScgKyBuYW1lLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5jaGFubmVsc1sncHJlc2VuY2UtJyArIG5hbWVdO1xuICAgIH1cbiAgICAvKipcclxuICAgICAqIExlYXZlIHRoZSBnaXZlbiBjaGFubmVsLCBhcyB3ZWxsIGFzIGl0cyBwcml2YXRlIGFuZCBwcmVzZW5jZSB2YXJpYW50cy5cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibGVhdmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbGVhdmUobmFtZSkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBjaGFubmVscyA9IFtuYW1lLCAncHJpdmF0ZS0nICsgbmFtZSwgJ3ByaXZhdGUtZW5jcnlwdGVkLScgKyBuYW1lLCAncHJlc2VuY2UtJyArIG5hbWVdO1xuICAgICAgY2hhbm5lbHMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSwgaW5kZXgpIHtcbiAgICAgICAgX3RoaXMyLmxlYXZlQ2hhbm5lbChuYW1lKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcclxuICAgICAqIExlYXZlIHRoZSBnaXZlbiBjaGFubmVsLlxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJsZWF2ZUNoYW5uZWxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbGVhdmVDaGFubmVsKG5hbWUpIHtcbiAgICAgIGlmICh0aGlzLmNoYW5uZWxzW25hbWVdKSB7XG4gICAgICAgIHRoaXMuY2hhbm5lbHNbbmFtZV0udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgZGVsZXRlIHRoaXMuY2hhbm5lbHNbbmFtZV07XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBzb2NrZXQgSUQgZm9yIHRoZSBjb25uZWN0aW9uLlxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzb2NrZXRJZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzb2NrZXRJZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnB1c2hlci5jb25uZWN0aW9uLnNvY2tldF9pZDtcbiAgICB9XG4gICAgLyoqXHJcbiAgICAgKiBEaXNjb25uZWN0IFB1c2hlciBjb25uZWN0aW9uLlxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJkaXNjb25uZWN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRpc2Nvbm5lY3QoKSB7XG4gICAgICB0aGlzLnB1c2hlci5kaXNjb25uZWN0KCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFB1c2hlckNvbm5lY3Rvcjtcbn0oQ29ubmVjdG9yKTtcblxuLyoqXHJcbiAqIFRoaXMgY2xhc3MgY3JlYXRlcyBhIGNvbm5uZWN0b3IgdG8gYSBTb2NrZXQuaW8gc2VydmVyLlxyXG4gKi9cblxudmFyIFNvY2tldElvQ29ubmVjdG9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQ29ubmVjdG9yKSB7XG4gIF9pbmhlcml0cyhTb2NrZXRJb0Nvbm5lY3RvciwgX0Nvbm5lY3Rvcik7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihTb2NrZXRJb0Nvbm5lY3Rvcik7XG5cbiAgZnVuY3Rpb24gU29ja2V0SW9Db25uZWN0b3IoKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNvY2tldElvQ29ubmVjdG9yKTtcblxuICAgIF90aGlzID0gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgLyoqXHJcbiAgICAgKiBBbGwgb2YgdGhlIHN1YnNjcmliZWQgY2hhbm5lbCBuYW1lcy5cclxuICAgICAqL1xuXG4gICAgX3RoaXMuY2hhbm5lbHMgPSB7fTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgLyoqXHJcbiAgICogQ3JlYXRlIGEgZnJlc2ggU29ja2V0LmlvIGNvbm5lY3Rpb24uXHJcbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoU29ja2V0SW9Db25uZWN0b3IsIFt7XG4gICAga2V5OiBcImNvbm5lY3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29ubmVjdCgpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgaW8gPSB0aGlzLmdldFNvY2tldElPKCk7XG4gICAgICB0aGlzLnNvY2tldCA9IGlvKHRoaXMub3B0aW9ucy5ob3N0LCB0aGlzLm9wdGlvbnMpO1xuICAgICAgdGhpcy5zb2NrZXQub24oJ3JlY29ubmVjdCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgT2JqZWN0LnZhbHVlcyhfdGhpczIuY2hhbm5lbHMpLmZvckVhY2goZnVuY3Rpb24gKGNoYW5uZWwpIHtcbiAgICAgICAgICBjaGFubmVsLnN1YnNjcmliZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRoaXMuc29ja2V0O1xuICAgIH1cbiAgICAvKipcclxuICAgICAqIEdldCBzb2NrZXQuaW8gbW9kdWxlIGZyb20gZ2xvYmFsIHNjb3BlIG9yIG9wdGlvbnMuXHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFNvY2tldElPXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNvY2tldElPKCkge1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMuY2xpZW50ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmNsaWVudDtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBpbyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIGlvO1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NvY2tldC5pbyBjbGllbnQgbm90IGZvdW5kLiBTaG91bGQgYmUgZ2xvYmFsbHkgYXZhaWxhYmxlIG9yIHBhc3NlZCB2aWEgb3B0aW9ucy5jbGllbnQnKTtcbiAgICB9XG4gICAgLyoqXHJcbiAgICAgKiBMaXN0ZW4gZm9yIGFuIGV2ZW50IG9uIGEgY2hhbm5lbCBpbnN0YW5jZS5cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibGlzdGVuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxpc3RlbihuYW1lLCBldmVudCwgY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiB0aGlzLmNoYW5uZWwobmFtZSkubGlzdGVuKGV2ZW50LCBjYWxsYmFjayk7XG4gICAgfVxuICAgIC8qKlxyXG4gICAgICogR2V0IGEgY2hhbm5lbCBpbnN0YW5jZSBieSBuYW1lLlxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJjaGFubmVsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNoYW5uZWwobmFtZSkge1xuICAgICAgaWYgKCF0aGlzLmNoYW5uZWxzW25hbWVdKSB7XG4gICAgICAgIHRoaXMuY2hhbm5lbHNbbmFtZV0gPSBuZXcgU29ja2V0SW9DaGFubmVsKHRoaXMuc29ja2V0LCBuYW1lLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5jaGFubmVsc1tuYW1lXTtcbiAgICB9XG4gICAgLyoqXHJcbiAgICAgKiBHZXQgYSBwcml2YXRlIGNoYW5uZWwgaW5zdGFuY2UgYnkgbmFtZS5cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicHJpdmF0ZUNoYW5uZWxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcHJpdmF0ZUNoYW5uZWwobmFtZSkge1xuICAgICAgaWYgKCF0aGlzLmNoYW5uZWxzWydwcml2YXRlLScgKyBuYW1lXSkge1xuICAgICAgICB0aGlzLmNoYW5uZWxzWydwcml2YXRlLScgKyBuYW1lXSA9IG5ldyBTb2NrZXRJb1ByaXZhdGVDaGFubmVsKHRoaXMuc29ja2V0LCAncHJpdmF0ZS0nICsgbmFtZSwgdGhpcy5vcHRpb25zKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuY2hhbm5lbHNbJ3ByaXZhdGUtJyArIG5hbWVdO1xuICAgIH1cbiAgICAvKipcclxuICAgICAqIEdldCBhIHByZXNlbmNlIGNoYW5uZWwgaW5zdGFuY2UgYnkgbmFtZS5cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicHJlc2VuY2VDaGFubmVsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHByZXNlbmNlQ2hhbm5lbChuYW1lKSB7XG4gICAgICBpZiAoIXRoaXMuY2hhbm5lbHNbJ3ByZXNlbmNlLScgKyBuYW1lXSkge1xuICAgICAgICB0aGlzLmNoYW5uZWxzWydwcmVzZW5jZS0nICsgbmFtZV0gPSBuZXcgU29ja2V0SW9QcmVzZW5jZUNoYW5uZWwodGhpcy5zb2NrZXQsICdwcmVzZW5jZS0nICsgbmFtZSwgdGhpcy5vcHRpb25zKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuY2hhbm5lbHNbJ3ByZXNlbmNlLScgKyBuYW1lXTtcbiAgICB9XG4gICAgLyoqXHJcbiAgICAgKiBMZWF2ZSB0aGUgZ2l2ZW4gY2hhbm5lbCwgYXMgd2VsbCBhcyBpdHMgcHJpdmF0ZSBhbmQgcHJlc2VuY2UgdmFyaWFudHMuXHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImxlYXZlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxlYXZlKG5hbWUpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgY2hhbm5lbHMgPSBbbmFtZSwgJ3ByaXZhdGUtJyArIG5hbWUsICdwcmVzZW5jZS0nICsgbmFtZV07XG4gICAgICBjaGFubmVscy5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIF90aGlzMy5sZWF2ZUNoYW5uZWwobmFtZSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXHJcbiAgICAgKiBMZWF2ZSB0aGUgZ2l2ZW4gY2hhbm5lbC5cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibGVhdmVDaGFubmVsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxlYXZlQ2hhbm5lbChuYW1lKSB7XG4gICAgICBpZiAodGhpcy5jaGFubmVsc1tuYW1lXSkge1xuICAgICAgICB0aGlzLmNoYW5uZWxzW25hbWVdLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmNoYW5uZWxzW25hbWVdO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgc29ja2V0IElEIGZvciB0aGUgY29ubmVjdGlvbi5cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic29ja2V0SWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc29ja2V0SWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zb2NrZXQuaWQ7XG4gICAgfVxuICAgIC8qKlxyXG4gICAgICogRGlzY29ubmVjdCBTb2NrZXRpbyBjb25uZWN0aW9uLlxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJkaXNjb25uZWN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRpc2Nvbm5lY3QoKSB7XG4gICAgICB0aGlzLnNvY2tldC5kaXNjb25uZWN0KCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFNvY2tldElvQ29ubmVjdG9yO1xufShDb25uZWN0b3IpO1xuXG4vKipcclxuICogVGhpcyBjbGFzcyBjcmVhdGVzIGEgbnVsbCBjb25uZWN0b3IuXHJcbiAqL1xuXG52YXIgTnVsbENvbm5lY3RvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0Nvbm5lY3Rvcikge1xuICBfaW5oZXJpdHMoTnVsbENvbm5lY3RvciwgX0Nvbm5lY3Rvcik7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihOdWxsQ29ubmVjdG9yKTtcblxuICBmdW5jdGlvbiBOdWxsQ29ubmVjdG9yKCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBOdWxsQ29ubmVjdG9yKTtcblxuICAgIF90aGlzID0gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgLyoqXHJcbiAgICAgKiBBbGwgb2YgdGhlIHN1YnNjcmliZWQgY2hhbm5lbCBuYW1lcy5cclxuICAgICAqL1xuXG4gICAgX3RoaXMuY2hhbm5lbHMgPSB7fTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgLyoqXHJcbiAgICogQ3JlYXRlIGEgZnJlc2ggY29ubmVjdGlvbi5cclxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhOdWxsQ29ubmVjdG9yLCBbe1xuICAgIGtleTogXCJjb25uZWN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbm5lY3QoKSB7Ly9cbiAgICB9XG4gICAgLyoqXHJcbiAgICAgKiBMaXN0ZW4gZm9yIGFuIGV2ZW50IG9uIGEgY2hhbm5lbCBpbnN0YW5jZS5cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibGlzdGVuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxpc3RlbihuYW1lLCBldmVudCwgY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiBuZXcgTnVsbENoYW5uZWwoKTtcbiAgICB9XG4gICAgLyoqXHJcbiAgICAgKiBHZXQgYSBjaGFubmVsIGluc3RhbmNlIGJ5IG5hbWUuXHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImNoYW5uZWxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2hhbm5lbChuYW1lKSB7XG4gICAgICByZXR1cm4gbmV3IE51bGxDaGFubmVsKCk7XG4gICAgfVxuICAgIC8qKlxyXG4gICAgICogR2V0IGEgcHJpdmF0ZSBjaGFubmVsIGluc3RhbmNlIGJ5IG5hbWUuXHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInByaXZhdGVDaGFubmVsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHByaXZhdGVDaGFubmVsKG5hbWUpIHtcbiAgICAgIHJldHVybiBuZXcgTnVsbFByaXZhdGVDaGFubmVsKCk7XG4gICAgfVxuICAgIC8qKlxyXG4gICAgICogR2V0IGEgcHJpdmF0ZSBlbmNyeXB0ZWQgY2hhbm5lbCBpbnN0YW5jZSBieSBuYW1lLlxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJlbmNyeXB0ZWRQcml2YXRlQ2hhbm5lbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlbmNyeXB0ZWRQcml2YXRlQ2hhbm5lbChuYW1lKSB7XG4gICAgICByZXR1cm4gbmV3IE51bGxQcml2YXRlQ2hhbm5lbCgpO1xuICAgIH1cbiAgICAvKipcclxuICAgICAqIEdldCBhIHByZXNlbmNlIGNoYW5uZWwgaW5zdGFuY2UgYnkgbmFtZS5cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicHJlc2VuY2VDaGFubmVsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHByZXNlbmNlQ2hhbm5lbChuYW1lKSB7XG4gICAgICByZXR1cm4gbmV3IE51bGxQcmVzZW5jZUNoYW5uZWwoKTtcbiAgICB9XG4gICAgLyoqXHJcbiAgICAgKiBMZWF2ZSB0aGUgZ2l2ZW4gY2hhbm5lbCwgYXMgd2VsbCBhcyBpdHMgcHJpdmF0ZSBhbmQgcHJlc2VuY2UgdmFyaWFudHMuXHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImxlYXZlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxlYXZlKG5hbWUpIHsvL1xuICAgIH1cbiAgICAvKipcclxuICAgICAqIExlYXZlIHRoZSBnaXZlbiBjaGFubmVsLlxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJsZWF2ZUNoYW5uZWxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbGVhdmVDaGFubmVsKG5hbWUpIHsvL1xuICAgIH1cbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgc29ja2V0IElEIGZvciB0aGUgY29ubmVjdGlvbi5cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic29ja2V0SWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc29ja2V0SWQoKSB7XG4gICAgICByZXR1cm4gJ2Zha2Utc29ja2V0LWlkJztcbiAgICB9XG4gICAgLyoqXHJcbiAgICAgKiBEaXNjb25uZWN0IHRoZSBjb25uZWN0aW9uLlxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJkaXNjb25uZWN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRpc2Nvbm5lY3QoKSB7Ly9cbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTnVsbENvbm5lY3Rvcjtcbn0oQ29ubmVjdG9yKTtcblxuLyoqXHJcbiAqIFRoaXMgY2xhc3MgaXMgdGhlIHByaW1hcnkgQVBJIGZvciBpbnRlcmFjdGluZyB3aXRoIGJyb2FkY2FzdGluZy5cclxuICovXG5cbnZhciBFY2hvID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgLyoqXHJcbiAgICogQ3JlYXRlIGEgbmV3IGNsYXNzIGluc3RhbmNlLlxyXG4gICAqL1xuICBmdW5jdGlvbiBFY2hvKG9wdGlvbnMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRWNobyk7XG5cbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMuY29ubmVjdCgpO1xuXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMud2l0aG91dEludGVyY2VwdG9ycykge1xuICAgICAgdGhpcy5yZWdpc3RlckludGVyY2VwdG9ycygpO1xuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBHZXQgYSBjaGFubmVsIGluc3RhbmNlIGJ5IG5hbWUuXHJcbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoRWNobywgW3tcbiAgICBrZXk6IFwiY2hhbm5lbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjaGFubmVsKF9jaGFubmVsKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb25uZWN0b3IuY2hhbm5lbChfY2hhbm5lbCk7XG4gICAgfVxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGEgbmV3IGNvbm5lY3Rpb24uXHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImNvbm5lY3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29ubmVjdCgpIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuYnJvYWRjYXN0ZXIgPT0gJ3JldmVyYicpIHtcbiAgICAgICAgdGhpcy5jb25uZWN0b3IgPSBuZXcgUHVzaGVyQ29ubmVjdG9yKF9leHRlbmRzKF9leHRlbmRzKHt9LCB0aGlzLm9wdGlvbnMpLCB7XG4gICAgICAgICAgY2x1c3RlcjogJydcbiAgICAgICAgfSkpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMuYnJvYWRjYXN0ZXIgPT0gJ3B1c2hlcicpIHtcbiAgICAgICAgdGhpcy5jb25uZWN0b3IgPSBuZXcgUHVzaGVyQ29ubmVjdG9yKHRoaXMub3B0aW9ucyk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5icm9hZGNhc3RlciA9PSAnc29ja2V0LmlvJykge1xuICAgICAgICB0aGlzLmNvbm5lY3RvciA9IG5ldyBTb2NrZXRJb0Nvbm5lY3Rvcih0aGlzLm9wdGlvbnMpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMuYnJvYWRjYXN0ZXIgPT0gJ251bGwnKSB7XG4gICAgICAgIHRoaXMuY29ubmVjdG9yID0gbmV3IE51bGxDb25uZWN0b3IodGhpcy5vcHRpb25zKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5icm9hZGNhc3RlciA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMuY29ubmVjdG9yID0gbmV3IHRoaXMub3B0aW9ucy5icm9hZGNhc3Rlcih0aGlzLm9wdGlvbnMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQnJvYWRjYXN0ZXIgXCIuY29uY2F0KF90eXBlb2YodGhpcy5vcHRpb25zLmJyb2FkY2FzdGVyKSwgXCIgXCIpLmNvbmNhdCh0aGlzLm9wdGlvbnMuYnJvYWRjYXN0ZXIsIFwiIGlzIG5vdCBzdXBwb3J0ZWQuXCIpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXHJcbiAgICAgKiBEaXNjb25uZWN0IGZyb20gdGhlIEVjaG8gc2VydmVyLlxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJkaXNjb25uZWN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRpc2Nvbm5lY3QoKSB7XG4gICAgICB0aGlzLmNvbm5lY3Rvci5kaXNjb25uZWN0KCk7XG4gICAgfVxuICAgIC8qKlxyXG4gICAgICogR2V0IGEgcHJlc2VuY2UgY2hhbm5lbCBpbnN0YW5jZSBieSBuYW1lLlxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJqb2luXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGpvaW4oY2hhbm5lbCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29ubmVjdG9yLnByZXNlbmNlQ2hhbm5lbChjaGFubmVsKTtcbiAgICB9XG4gICAgLyoqXHJcbiAgICAgKiBMZWF2ZSB0aGUgZ2l2ZW4gY2hhbm5lbCwgYXMgd2VsbCBhcyBpdHMgcHJpdmF0ZSBhbmQgcHJlc2VuY2UgdmFyaWFudHMuXHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImxlYXZlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxlYXZlKGNoYW5uZWwpIHtcbiAgICAgIHRoaXMuY29ubmVjdG9yLmxlYXZlKGNoYW5uZWwpO1xuICAgIH1cbiAgICAvKipcclxuICAgICAqIExlYXZlIHRoZSBnaXZlbiBjaGFubmVsLlxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJsZWF2ZUNoYW5uZWxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbGVhdmVDaGFubmVsKGNoYW5uZWwpIHtcbiAgICAgIHRoaXMuY29ubmVjdG9yLmxlYXZlQ2hhbm5lbChjaGFubmVsKTtcbiAgICB9XG4gICAgLyoqXHJcbiAgICAgKiBMZWF2ZSBhbGwgY2hhbm5lbHMuXHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImxlYXZlQWxsQ2hhbm5lbHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbGVhdmVBbGxDaGFubmVscygpIHtcbiAgICAgIGZvciAodmFyIGNoYW5uZWwgaW4gdGhpcy5jb25uZWN0b3IuY2hhbm5lbHMpIHtcbiAgICAgICAgdGhpcy5sZWF2ZUNoYW5uZWwoY2hhbm5lbCk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxyXG4gICAgICogTGlzdGVuIGZvciBhbiBldmVudCBvbiBhIGNoYW5uZWwgaW5zdGFuY2UuXHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImxpc3RlblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBsaXN0ZW4oY2hhbm5lbCwgZXZlbnQsIGNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb25uZWN0b3IubGlzdGVuKGNoYW5uZWwsIGV2ZW50LCBjYWxsYmFjayk7XG4gICAgfVxuICAgIC8qKlxyXG4gICAgICogR2V0IGEgcHJpdmF0ZSBjaGFubmVsIGluc3RhbmNlIGJ5IG5hbWUuXHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInByaXZhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3ByaXZhdGUoY2hhbm5lbCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29ubmVjdG9yLnByaXZhdGVDaGFubmVsKGNoYW5uZWwpO1xuICAgIH1cbiAgICAvKipcclxuICAgICAqIEdldCBhIHByaXZhdGUgZW5jcnlwdGVkIGNoYW5uZWwgaW5zdGFuY2UgYnkgbmFtZS5cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZW5jcnlwdGVkUHJpdmF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlbmNyeXB0ZWRQcml2YXRlKGNoYW5uZWwpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbm5lY3Rvci5lbmNyeXB0ZWRQcml2YXRlQ2hhbm5lbChjaGFubmVsKTtcbiAgICB9XG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIFNvY2tldCBJRCBmb3IgdGhlIGNvbm5lY3Rpb24uXHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNvY2tldElkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNvY2tldElkKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29ubmVjdG9yLnNvY2tldElkKCk7XG4gICAgfVxuICAgIC8qKlxyXG4gICAgICogUmVnaXN0ZXIgM3JkIHBhcnR5IHJlcXVlc3QgaW50ZXJjZXB0aW9ycy4gVGhlc2UgYXJlIHVzZWQgdG8gYXV0b21hdGljYWxseVxyXG4gICAgICogc2VuZCBhIGNvbm5lY3Rpb25zIHNvY2tldCBpZCB0byBhIExhcmF2ZWwgYXBwIHdpdGggYSBYLVNvY2tldC1JZCBoZWFkZXIuXHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInJlZ2lzdGVySW50ZXJjZXB0b3JzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlZ2lzdGVySW50ZXJjZXB0b3JzKCkge1xuICAgICAgaWYgKHR5cGVvZiBWdWUgPT09ICdmdW5jdGlvbicgJiYgVnVlLmh0dHApIHtcbiAgICAgICAgdGhpcy5yZWdpc3RlclZ1ZVJlcXVlc3RJbnRlcmNlcHRvcigpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGF4aW9zID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJBeGlvc1JlcXVlc3RJbnRlcmNlcHRvcigpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGpRdWVyeSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLnJlZ2lzdGVyalF1ZXJ5QWpheFNldHVwKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICgodHlwZW9mIFR1cmJvID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YoVHVyYm8pKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgdGhpcy5yZWdpc3RlclR1cmJvUmVxdWVzdEludGVyY2VwdG9yKCk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxyXG4gICAgICogUmVnaXN0ZXIgYSBWdWUgSFRUUCBpbnRlcmNlcHRvciB0byBhZGQgdGhlIFgtU29ja2V0LUlEIGhlYWRlci5cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicmVnaXN0ZXJWdWVSZXF1ZXN0SW50ZXJjZXB0b3JcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVnaXN0ZXJWdWVSZXF1ZXN0SW50ZXJjZXB0b3IoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBWdWUuaHR0cC5pbnRlcmNlcHRvcnMucHVzaChmdW5jdGlvbiAocmVxdWVzdCwgbmV4dCkge1xuICAgICAgICBpZiAoX3RoaXMuc29ja2V0SWQoKSkge1xuICAgICAgICAgIHJlcXVlc3QuaGVhZGVycy5zZXQoJ1gtU29ja2V0LUlEJywgX3RoaXMuc29ja2V0SWQoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBuZXh0KCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXHJcbiAgICAgKiBSZWdpc3RlciBhbiBBeGlvcyBIVFRQIGludGVyY2VwdG9yIHRvIGFkZCB0aGUgWC1Tb2NrZXQtSUQgaGVhZGVyLlxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJyZWdpc3RlckF4aW9zUmVxdWVzdEludGVyY2VwdG9yXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlZ2lzdGVyQXhpb3NSZXF1ZXN0SW50ZXJjZXB0b3IoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgYXhpb3MuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGZ1bmN0aW9uIChjb25maWcpIHtcbiAgICAgICAgaWYgKF90aGlzMi5zb2NrZXRJZCgpKSB7XG4gICAgICAgICAgY29uZmlnLmhlYWRlcnNbJ1gtU29ja2V0LUlkJ10gPSBfdGhpczIuc29ja2V0SWQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb25maWc7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXHJcbiAgICAgKiBSZWdpc3RlciBqUXVlcnkgQWpheFByZWZpbHRlciB0byBhZGQgdGhlIFgtU29ja2V0LUlEIGhlYWRlci5cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicmVnaXN0ZXJqUXVlcnlBamF4U2V0dXBcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVnaXN0ZXJqUXVlcnlBamF4U2V0dXAoKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgaWYgKHR5cGVvZiBqUXVlcnkuYWpheCAhPSAndW5kZWZpbmVkJykge1xuICAgICAgICBqUXVlcnkuYWpheFByZWZpbHRlcihmdW5jdGlvbiAob3B0aW9ucywgb3JpZ2luYWxPcHRpb25zLCB4aHIpIHtcbiAgICAgICAgICBpZiAoX3RoaXMzLnNvY2tldElkKCkpIHtcbiAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdYLVNvY2tldC1JZCcsIF90aGlzMy5zb2NrZXRJZCgpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcclxuICAgICAqIFJlZ2lzdGVyIHRoZSBUdXJibyBSZXF1ZXN0IGludGVyY2VwdG9yIHRvIGFkZCB0aGUgWC1Tb2NrZXQtSUQgaGVhZGVyLlxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJyZWdpc3RlclR1cmJvUmVxdWVzdEludGVyY2VwdG9yXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlZ2lzdGVyVHVyYm9SZXF1ZXN0SW50ZXJjZXB0b3IoKSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndHVyYm86YmVmb3JlLWZldGNoLXJlcXVlc3QnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQuZGV0YWlsLmZldGNoT3B0aW9ucy5oZWFkZXJzWydYLVNvY2tldC1JZCddID0gX3RoaXM0LnNvY2tldElkKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRWNobztcbn0oKTtcblxuZXhwb3J0IHsgQ2hhbm5lbCwgQ29ubmVjdG9yLCBFdmVudEZvcm1hdHRlciwgRWNobyBhcyBkZWZhdWx0IH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/laravel-echo/dist/echo.js\n");

/***/ }),

/***/ "./node_modules/popper.js/dist/esm/popper.js":
/*!***************************************************!*\
  !*** ./node_modules/popper.js/dist/esm/popper.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/**!\n * @fileOverview Kickass library to create and place poppers near their reference elements.\n * @version 1.16.1\n * @license\n * Copyright (c) 2016 Federico Zivolo and contributors\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && typeof navigator !== 'undefined';\n\nvar timeoutDuration = function () {\n  var longerTimeoutBrowsers = ['Edge', 'Trident', 'Firefox'];\n  for (var i = 0; i < longerTimeoutBrowsers.length; i += 1) {\n    if (isBrowser && navigator.userAgent.indexOf(longerTimeoutBrowsers[i]) >= 0) {\n      return 1;\n    }\n  }\n  return 0;\n}();\n\nfunction microtaskDebounce(fn) {\n  var called = false;\n  return function () {\n    if (called) {\n      return;\n    }\n    called = true;\n    window.Promise.resolve().then(function () {\n      called = false;\n      fn();\n    });\n  };\n}\n\nfunction taskDebounce(fn) {\n  var scheduled = false;\n  return function () {\n    if (!scheduled) {\n      scheduled = true;\n      setTimeout(function () {\n        scheduled = false;\n        fn();\n      }, timeoutDuration);\n    }\n  };\n}\n\nvar supportsMicroTasks = isBrowser && window.Promise;\n\n/**\n* Create a debounced version of a method, that's asynchronously deferred\n* but called in the minimum time possible.\n*\n* @method\n* @memberof Popper.Utils\n* @argument {Function} fn\n* @returns {Function}\n*/\nvar debounce = supportsMicroTasks ? microtaskDebounce : taskDebounce;\n\n/**\n * Check if the given variable is a function\n * @method\n * @memberof Popper.Utils\n * @argument {Any} functionToCheck - variable to check\n * @returns {Boolean} answer to: is a function?\n */\nfunction isFunction(functionToCheck) {\n  var getType = {};\n  return functionToCheck && getType.toString.call(functionToCheck) === '[object Function]';\n}\n\n/**\n * Get CSS computed property of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Eement} element\n * @argument {String} property\n */\nfunction getStyleComputedProperty(element, property) {\n  if (element.nodeType !== 1) {\n    return [];\n  }\n  // NOTE: 1 DOM access here\n  var window = element.ownerDocument.defaultView;\n  var css = window.getComputedStyle(element, null);\n  return property ? css[property] : css;\n}\n\n/**\n * Returns the parentNode or the host of the element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} parent\n */\nfunction getParentNode(element) {\n  if (element.nodeName === 'HTML') {\n    return element;\n  }\n  return element.parentNode || element.host;\n}\n\n/**\n * Returns the scrolling parent of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} scroll parent\n */\nfunction getScrollParent(element) {\n  // Return body, `getScroll` will take care to get the correct `scrollTop` from it\n  if (!element) {\n    return document.body;\n  }\n\n  switch (element.nodeName) {\n    case 'HTML':\n    case 'BODY':\n      return element.ownerDocument.body;\n    case '#document':\n      return element.body;\n  }\n\n  // Firefox want us to check `-x` and `-y` variations as well\n\n  var _getStyleComputedProp = getStyleComputedProperty(element),\n      overflow = _getStyleComputedProp.overflow,\n      overflowX = _getStyleComputedProp.overflowX,\n      overflowY = _getStyleComputedProp.overflowY;\n\n  if (/(auto|scroll|overlay)/.test(overflow + overflowY + overflowX)) {\n    return element;\n  }\n\n  return getScrollParent(getParentNode(element));\n}\n\n/**\n * Returns the reference node of the reference object, or the reference object itself.\n * @method\n * @memberof Popper.Utils\n * @param {Element|Object} reference - the reference element (the popper will be relative to this)\n * @returns {Element} parent\n */\nfunction getReferenceNode(reference) {\n  return reference && reference.referenceNode ? reference.referenceNode : reference;\n}\n\nvar isIE11 = isBrowser && !!(window.MSInputMethodContext && document.documentMode);\nvar isIE10 = isBrowser && /MSIE 10/.test(navigator.userAgent);\n\n/**\n * Determines if the browser is Internet Explorer\n * @method\n * @memberof Popper.Utils\n * @param {Number} version to check\n * @returns {Boolean} isIE\n */\nfunction isIE(version) {\n  if (version === 11) {\n    return isIE11;\n  }\n  if (version === 10) {\n    return isIE10;\n  }\n  return isIE11 || isIE10;\n}\n\n/**\n * Returns the offset parent of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} offset parent\n */\nfunction getOffsetParent(element) {\n  if (!element) {\n    return document.documentElement;\n  }\n\n  var noOffsetParent = isIE(10) ? document.body : null;\n\n  // NOTE: 1 DOM access here\n  var offsetParent = element.offsetParent || null;\n  // Skip hidden elements which don't have an offsetParent\n  while (offsetParent === noOffsetParent && element.nextElementSibling) {\n    offsetParent = (element = element.nextElementSibling).offsetParent;\n  }\n\n  var nodeName = offsetParent && offsetParent.nodeName;\n\n  if (!nodeName || nodeName === 'BODY' || nodeName === 'HTML') {\n    return element ? element.ownerDocument.documentElement : document.documentElement;\n  }\n\n  // .offsetParent will return the closest TH, TD or TABLE in case\n  // no offsetParent is present, I hate this job...\n  if (['TH', 'TD', 'TABLE'].indexOf(offsetParent.nodeName) !== -1 && getStyleComputedProperty(offsetParent, 'position') === 'static') {\n    return getOffsetParent(offsetParent);\n  }\n\n  return offsetParent;\n}\n\nfunction isOffsetContainer(element) {\n  var nodeName = element.nodeName;\n\n  if (nodeName === 'BODY') {\n    return false;\n  }\n  return nodeName === 'HTML' || getOffsetParent(element.firstElementChild) === element;\n}\n\n/**\n * Finds the root node (document, shadowDOM root) of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} node\n * @returns {Element} root node\n */\nfunction getRoot(node) {\n  if (node.parentNode !== null) {\n    return getRoot(node.parentNode);\n  }\n\n  return node;\n}\n\n/**\n * Finds the offset parent common to the two provided nodes\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element1\n * @argument {Element} element2\n * @returns {Element} common offset parent\n */\nfunction findCommonOffsetParent(element1, element2) {\n  // This check is needed to avoid errors in case one of the elements isn't defined for any reason\n  if (!element1 || !element1.nodeType || !element2 || !element2.nodeType) {\n    return document.documentElement;\n  }\n\n  // Here we make sure to give as \"start\" the element that comes first in the DOM\n  var order = element1.compareDocumentPosition(element2) & Node.DOCUMENT_POSITION_FOLLOWING;\n  var start = order ? element1 : element2;\n  var end = order ? element2 : element1;\n\n  // Get common ancestor container\n  var range = document.createRange();\n  range.setStart(start, 0);\n  range.setEnd(end, 0);\n  var commonAncestorContainer = range.commonAncestorContainer;\n\n  // Both nodes are inside #document\n\n  if (element1 !== commonAncestorContainer && element2 !== commonAncestorContainer || start.contains(end)) {\n    if (isOffsetContainer(commonAncestorContainer)) {\n      return commonAncestorContainer;\n    }\n\n    return getOffsetParent(commonAncestorContainer);\n  }\n\n  // one of the nodes is inside shadowDOM, find which one\n  var element1root = getRoot(element1);\n  if (element1root.host) {\n    return findCommonOffsetParent(element1root.host, element2);\n  } else {\n    return findCommonOffsetParent(element1, getRoot(element2).host);\n  }\n}\n\n/**\n * Gets the scroll value of the given element in the given side (top and left)\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @argument {String} side `top` or `left`\n * @returns {number} amount of scrolled pixels\n */\nfunction getScroll(element) {\n  var side = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'top';\n\n  var upperSide = side === 'top' ? 'scrollTop' : 'scrollLeft';\n  var nodeName = element.nodeName;\n\n  if (nodeName === 'BODY' || nodeName === 'HTML') {\n    var html = element.ownerDocument.documentElement;\n    var scrollingElement = element.ownerDocument.scrollingElement || html;\n    return scrollingElement[upperSide];\n  }\n\n  return element[upperSide];\n}\n\n/*\n * Sum or subtract the element scroll values (left and top) from a given rect object\n * @method\n * @memberof Popper.Utils\n * @param {Object} rect - Rect object you want to change\n * @param {HTMLElement} element - The element from the function reads the scroll values\n * @param {Boolean} subtract - set to true if you want to subtract the scroll values\n * @return {Object} rect - The modifier rect object\n */\nfunction includeScroll(rect, element) {\n  var subtract = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  var scrollTop = getScroll(element, 'top');\n  var scrollLeft = getScroll(element, 'left');\n  var modifier = subtract ? -1 : 1;\n  rect.top += scrollTop * modifier;\n  rect.bottom += scrollTop * modifier;\n  rect.left += scrollLeft * modifier;\n  rect.right += scrollLeft * modifier;\n  return rect;\n}\n\n/*\n * Helper to detect borders of a given element\n * @method\n * @memberof Popper.Utils\n * @param {CSSStyleDeclaration} styles\n * Result of `getStyleComputedProperty` on the given element\n * @param {String} axis - `x` or `y`\n * @return {number} borders - The borders size of the given axis\n */\n\nfunction getBordersSize(styles, axis) {\n  var sideA = axis === 'x' ? 'Left' : 'Top';\n  var sideB = sideA === 'Left' ? 'Right' : 'Bottom';\n\n  return parseFloat(styles['border' + sideA + 'Width']) + parseFloat(styles['border' + sideB + 'Width']);\n}\n\nfunction getSize(axis, body, html, computedStyle) {\n  return Math.max(body['offset' + axis], body['scroll' + axis], html['client' + axis], html['offset' + axis], html['scroll' + axis], isIE(10) ? parseInt(html['offset' + axis]) + parseInt(computedStyle['margin' + (axis === 'Height' ? 'Top' : 'Left')]) + parseInt(computedStyle['margin' + (axis === 'Height' ? 'Bottom' : 'Right')]) : 0);\n}\n\nfunction getWindowSizes(document) {\n  var body = document.body;\n  var html = document.documentElement;\n  var computedStyle = isIE(10) && getComputedStyle(html);\n\n  return {\n    height: getSize('Height', body, html, computedStyle),\n    width: getSize('Width', body, html, computedStyle)\n  };\n}\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n\n\n\nvar defineProperty = function (obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\n/**\n * Given element offsets, generate an output similar to getBoundingClientRect\n * @method\n * @memberof Popper.Utils\n * @argument {Object} offsets\n * @returns {Object} ClientRect like output\n */\nfunction getClientRect(offsets) {\n  return _extends({}, offsets, {\n    right: offsets.left + offsets.width,\n    bottom: offsets.top + offsets.height\n  });\n}\n\n/**\n * Get bounding client rect of given element\n * @method\n * @memberof Popper.Utils\n * @param {HTMLElement} element\n * @return {Object} client rect\n */\nfunction getBoundingClientRect(element) {\n  var rect = {};\n\n  // IE10 10 FIX: Please, don't ask, the element isn't\n  // considered in DOM in some circumstances...\n  // This isn't reproducible in IE10 compatibility mode of IE11\n  try {\n    if (isIE(10)) {\n      rect = element.getBoundingClientRect();\n      var scrollTop = getScroll(element, 'top');\n      var scrollLeft = getScroll(element, 'left');\n      rect.top += scrollTop;\n      rect.left += scrollLeft;\n      rect.bottom += scrollTop;\n      rect.right += scrollLeft;\n    } else {\n      rect = element.getBoundingClientRect();\n    }\n  } catch (e) {}\n\n  var result = {\n    left: rect.left,\n    top: rect.top,\n    width: rect.right - rect.left,\n    height: rect.bottom - rect.top\n  };\n\n  // subtract scrollbar size from sizes\n  var sizes = element.nodeName === 'HTML' ? getWindowSizes(element.ownerDocument) : {};\n  var width = sizes.width || element.clientWidth || result.width;\n  var height = sizes.height || element.clientHeight || result.height;\n\n  var horizScrollbar = element.offsetWidth - width;\n  var vertScrollbar = element.offsetHeight - height;\n\n  // if an hypothetical scrollbar is detected, we must be sure it's not a `border`\n  // we make this check conditional for performance reasons\n  if (horizScrollbar || vertScrollbar) {\n    var styles = getStyleComputedProperty(element);\n    horizScrollbar -= getBordersSize(styles, 'x');\n    vertScrollbar -= getBordersSize(styles, 'y');\n\n    result.width -= horizScrollbar;\n    result.height -= vertScrollbar;\n  }\n\n  return getClientRect(result);\n}\n\nfunction getOffsetRectRelativeToArbitraryNode(children, parent) {\n  var fixedPosition = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  var isIE10 = isIE(10);\n  var isHTML = parent.nodeName === 'HTML';\n  var childrenRect = getBoundingClientRect(children);\n  var parentRect = getBoundingClientRect(parent);\n  var scrollParent = getScrollParent(children);\n\n  var styles = getStyleComputedProperty(parent);\n  var borderTopWidth = parseFloat(styles.borderTopWidth);\n  var borderLeftWidth = parseFloat(styles.borderLeftWidth);\n\n  // In cases where the parent is fixed, we must ignore negative scroll in offset calc\n  if (fixedPosition && isHTML) {\n    parentRect.top = Math.max(parentRect.top, 0);\n    parentRect.left = Math.max(parentRect.left, 0);\n  }\n  var offsets = getClientRect({\n    top: childrenRect.top - parentRect.top - borderTopWidth,\n    left: childrenRect.left - parentRect.left - borderLeftWidth,\n    width: childrenRect.width,\n    height: childrenRect.height\n  });\n  offsets.marginTop = 0;\n  offsets.marginLeft = 0;\n\n  // Subtract margins of documentElement in case it's being used as parent\n  // we do this only on HTML because it's the only element that behaves\n  // differently when margins are applied to it. The margins are included in\n  // the box of the documentElement, in the other cases not.\n  if (!isIE10 && isHTML) {\n    var marginTop = parseFloat(styles.marginTop);\n    var marginLeft = parseFloat(styles.marginLeft);\n\n    offsets.top -= borderTopWidth - marginTop;\n    offsets.bottom -= borderTopWidth - marginTop;\n    offsets.left -= borderLeftWidth - marginLeft;\n    offsets.right -= borderLeftWidth - marginLeft;\n\n    // Attach marginTop and marginLeft because in some circumstances we may need them\n    offsets.marginTop = marginTop;\n    offsets.marginLeft = marginLeft;\n  }\n\n  if (isIE10 && !fixedPosition ? parent.contains(scrollParent) : parent === scrollParent && scrollParent.nodeName !== 'BODY') {\n    offsets = includeScroll(offsets, parent);\n  }\n\n  return offsets;\n}\n\nfunction getViewportOffsetRectRelativeToArtbitraryNode(element) {\n  var excludeScroll = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var html = element.ownerDocument.documentElement;\n  var relativeOffset = getOffsetRectRelativeToArbitraryNode(element, html);\n  var width = Math.max(html.clientWidth, window.innerWidth || 0);\n  var height = Math.max(html.clientHeight, window.innerHeight || 0);\n\n  var scrollTop = !excludeScroll ? getScroll(html) : 0;\n  var scrollLeft = !excludeScroll ? getScroll(html, 'left') : 0;\n\n  var offset = {\n    top: scrollTop - relativeOffset.top + relativeOffset.marginTop,\n    left: scrollLeft - relativeOffset.left + relativeOffset.marginLeft,\n    width: width,\n    height: height\n  };\n\n  return getClientRect(offset);\n}\n\n/**\n * Check if the given element is fixed or is inside a fixed parent\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @argument {Element} customContainer\n * @returns {Boolean} answer to \"isFixed?\"\n */\nfunction isFixed(element) {\n  var nodeName = element.nodeName;\n  if (nodeName === 'BODY' || nodeName === 'HTML') {\n    return false;\n  }\n  if (getStyleComputedProperty(element, 'position') === 'fixed') {\n    return true;\n  }\n  var parentNode = getParentNode(element);\n  if (!parentNode) {\n    return false;\n  }\n  return isFixed(parentNode);\n}\n\n/**\n * Finds the first parent of an element that has a transformed property defined\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} first transformed parent or documentElement\n */\n\nfunction getFixedPositionOffsetParent(element) {\n  // This check is needed to avoid errors in case one of the elements isn't defined for any reason\n  if (!element || !element.parentElement || isIE()) {\n    return document.documentElement;\n  }\n  var el = element.parentElement;\n  while (el && getStyleComputedProperty(el, 'transform') === 'none') {\n    el = el.parentElement;\n  }\n  return el || document.documentElement;\n}\n\n/**\n * Computed the boundaries limits and return them\n * @method\n * @memberof Popper.Utils\n * @param {HTMLElement} popper\n * @param {HTMLElement} reference\n * @param {number} padding\n * @param {HTMLElement} boundariesElement - Element used to define the boundaries\n * @param {Boolean} fixedPosition - Is in fixed position mode\n * @returns {Object} Coordinates of the boundaries\n */\nfunction getBoundaries(popper, reference, padding, boundariesElement) {\n  var fixedPosition = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n  // NOTE: 1 DOM access here\n\n  var boundaries = { top: 0, left: 0 };\n  var offsetParent = fixedPosition ? getFixedPositionOffsetParent(popper) : findCommonOffsetParent(popper, getReferenceNode(reference));\n\n  // Handle viewport case\n  if (boundariesElement === 'viewport') {\n    boundaries = getViewportOffsetRectRelativeToArtbitraryNode(offsetParent, fixedPosition);\n  } else {\n    // Handle other cases based on DOM element used as boundaries\n    var boundariesNode = void 0;\n    if (boundariesElement === 'scrollParent') {\n      boundariesNode = getScrollParent(getParentNode(reference));\n      if (boundariesNode.nodeName === 'BODY') {\n        boundariesNode = popper.ownerDocument.documentElement;\n      }\n    } else if (boundariesElement === 'window') {\n      boundariesNode = popper.ownerDocument.documentElement;\n    } else {\n      boundariesNode = boundariesElement;\n    }\n\n    var offsets = getOffsetRectRelativeToArbitraryNode(boundariesNode, offsetParent, fixedPosition);\n\n    // In case of HTML, we need a different computation\n    if (boundariesNode.nodeName === 'HTML' && !isFixed(offsetParent)) {\n      var _getWindowSizes = getWindowSizes(popper.ownerDocument),\n          height = _getWindowSizes.height,\n          width = _getWindowSizes.width;\n\n      boundaries.top += offsets.top - offsets.marginTop;\n      boundaries.bottom = height + offsets.top;\n      boundaries.left += offsets.left - offsets.marginLeft;\n      boundaries.right = width + offsets.left;\n    } else {\n      // for all the other DOM elements, this one is good\n      boundaries = offsets;\n    }\n  }\n\n  // Add paddings\n  padding = padding || 0;\n  var isPaddingNumber = typeof padding === 'number';\n  boundaries.left += isPaddingNumber ? padding : padding.left || 0;\n  boundaries.top += isPaddingNumber ? padding : padding.top || 0;\n  boundaries.right -= isPaddingNumber ? padding : padding.right || 0;\n  boundaries.bottom -= isPaddingNumber ? padding : padding.bottom || 0;\n\n  return boundaries;\n}\n\nfunction getArea(_ref) {\n  var width = _ref.width,\n      height = _ref.height;\n\n  return width * height;\n}\n\n/**\n * Utility used to transform the `auto` placement to the placement with more\n * available space.\n * @method\n * @memberof Popper.Utils\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction computeAutoPlacement(placement, refRect, popper, reference, boundariesElement) {\n  var padding = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0;\n\n  if (placement.indexOf('auto') === -1) {\n    return placement;\n  }\n\n  var boundaries = getBoundaries(popper, reference, padding, boundariesElement);\n\n  var rects = {\n    top: {\n      width: boundaries.width,\n      height: refRect.top - boundaries.top\n    },\n    right: {\n      width: boundaries.right - refRect.right,\n      height: boundaries.height\n    },\n    bottom: {\n      width: boundaries.width,\n      height: boundaries.bottom - refRect.bottom\n    },\n    left: {\n      width: refRect.left - boundaries.left,\n      height: boundaries.height\n    }\n  };\n\n  var sortedAreas = Object.keys(rects).map(function (key) {\n    return _extends({\n      key: key\n    }, rects[key], {\n      area: getArea(rects[key])\n    });\n  }).sort(function (a, b) {\n    return b.area - a.area;\n  });\n\n  var filteredAreas = sortedAreas.filter(function (_ref2) {\n    var width = _ref2.width,\n        height = _ref2.height;\n    return width >= popper.clientWidth && height >= popper.clientHeight;\n  });\n\n  var computedPlacement = filteredAreas.length > 0 ? filteredAreas[0].key : sortedAreas[0].key;\n\n  var variation = placement.split('-')[1];\n\n  return computedPlacement + (variation ? '-' + variation : '');\n}\n\n/**\n * Get offsets to the reference element\n * @method\n * @memberof Popper.Utils\n * @param {Object} state\n * @param {Element} popper - the popper element\n * @param {Element} reference - the reference element (the popper will be relative to this)\n * @param {Element} fixedPosition - is in fixed position mode\n * @returns {Object} An object containing the offsets which will be applied to the popper\n */\nfunction getReferenceOffsets(state, popper, reference) {\n  var fixedPosition = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n\n  var commonOffsetParent = fixedPosition ? getFixedPositionOffsetParent(popper) : findCommonOffsetParent(popper, getReferenceNode(reference));\n  return getOffsetRectRelativeToArbitraryNode(reference, commonOffsetParent, fixedPosition);\n}\n\n/**\n * Get the outer sizes of the given element (offset size + margins)\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Object} object containing width and height properties\n */\nfunction getOuterSizes(element) {\n  var window = element.ownerDocument.defaultView;\n  var styles = window.getComputedStyle(element);\n  var x = parseFloat(styles.marginTop || 0) + parseFloat(styles.marginBottom || 0);\n  var y = parseFloat(styles.marginLeft || 0) + parseFloat(styles.marginRight || 0);\n  var result = {\n    width: element.offsetWidth + y,\n    height: element.offsetHeight + x\n  };\n  return result;\n}\n\n/**\n * Get the opposite placement of the given one\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement\n * @returns {String} flipped placement\n */\nfunction getOppositePlacement(placement) {\n  var hash = { left: 'right', right: 'left', bottom: 'top', top: 'bottom' };\n  return placement.replace(/left|right|bottom|top/g, function (matched) {\n    return hash[matched];\n  });\n}\n\n/**\n * Get offsets to the popper\n * @method\n * @memberof Popper.Utils\n * @param {Object} position - CSS position the Popper will get applied\n * @param {HTMLElement} popper - the popper element\n * @param {Object} referenceOffsets - the reference offsets (the popper will be relative to this)\n * @param {String} placement - one of the valid placement options\n * @returns {Object} popperOffsets - An object containing the offsets which will be applied to the popper\n */\nfunction getPopperOffsets(popper, referenceOffsets, placement) {\n  placement = placement.split('-')[0];\n\n  // Get popper node sizes\n  var popperRect = getOuterSizes(popper);\n\n  // Add position, width and height to our offsets object\n  var popperOffsets = {\n    width: popperRect.width,\n    height: popperRect.height\n  };\n\n  // depending by the popper placement we have to compute its offsets slightly differently\n  var isHoriz = ['right', 'left'].indexOf(placement) !== -1;\n  var mainSide = isHoriz ? 'top' : 'left';\n  var secondarySide = isHoriz ? 'left' : 'top';\n  var measurement = isHoriz ? 'height' : 'width';\n  var secondaryMeasurement = !isHoriz ? 'height' : 'width';\n\n  popperOffsets[mainSide] = referenceOffsets[mainSide] + referenceOffsets[measurement] / 2 - popperRect[measurement] / 2;\n  if (placement === secondarySide) {\n    popperOffsets[secondarySide] = referenceOffsets[secondarySide] - popperRect[secondaryMeasurement];\n  } else {\n    popperOffsets[secondarySide] = referenceOffsets[getOppositePlacement(secondarySide)];\n  }\n\n  return popperOffsets;\n}\n\n/**\n * Mimics the `find` method of Array\n * @method\n * @memberof Popper.Utils\n * @argument {Array} arr\n * @argument prop\n * @argument value\n * @returns index or -1\n */\nfunction find(arr, check) {\n  // use native find if supported\n  if (Array.prototype.find) {\n    return arr.find(check);\n  }\n\n  // use `filter` to obtain the same behavior of `find`\n  return arr.filter(check)[0];\n}\n\n/**\n * Return the index of the matching object\n * @method\n * @memberof Popper.Utils\n * @argument {Array} arr\n * @argument prop\n * @argument value\n * @returns index or -1\n */\nfunction findIndex(arr, prop, value) {\n  // use native findIndex if supported\n  if (Array.prototype.findIndex) {\n    return arr.findIndex(function (cur) {\n      return cur[prop] === value;\n    });\n  }\n\n  // use `find` + `indexOf` if `findIndex` isn't supported\n  var match = find(arr, function (obj) {\n    return obj[prop] === value;\n  });\n  return arr.indexOf(match);\n}\n\n/**\n * Loop trough the list of modifiers and run them in order,\n * each of them will then edit the data object.\n * @method\n * @memberof Popper.Utils\n * @param {dataObject} data\n * @param {Array} modifiers\n * @param {String} ends - Optional modifier name used as stopper\n * @returns {dataObject}\n */\nfunction runModifiers(modifiers, data, ends) {\n  var modifiersToRun = ends === undefined ? modifiers : modifiers.slice(0, findIndex(modifiers, 'name', ends));\n\n  modifiersToRun.forEach(function (modifier) {\n    if (modifier['function']) {\n      // eslint-disable-line dot-notation\n      console.warn('`modifier.function` is deprecated, use `modifier.fn`!');\n    }\n    var fn = modifier['function'] || modifier.fn; // eslint-disable-line dot-notation\n    if (modifier.enabled && isFunction(fn)) {\n      // Add properties to offsets to make them a complete clientRect object\n      // we do this before each modifier to make sure the previous one doesn't\n      // mess with these values\n      data.offsets.popper = getClientRect(data.offsets.popper);\n      data.offsets.reference = getClientRect(data.offsets.reference);\n\n      data = fn(data, modifier);\n    }\n  });\n\n  return data;\n}\n\n/**\n * Updates the position of the popper, computing the new offsets and applying\n * the new style.<br />\n * Prefer `scheduleUpdate` over `update` because of performance reasons.\n * @method\n * @memberof Popper\n */\nfunction update() {\n  // if popper is destroyed, don't perform any further update\n  if (this.state.isDestroyed) {\n    return;\n  }\n\n  var data = {\n    instance: this,\n    styles: {},\n    arrowStyles: {},\n    attributes: {},\n    flipped: false,\n    offsets: {}\n  };\n\n  // compute reference element offsets\n  data.offsets.reference = getReferenceOffsets(this.state, this.popper, this.reference, this.options.positionFixed);\n\n  // compute auto placement, store placement inside the data object,\n  // modifiers will be able to edit `placement` if needed\n  // and refer to originalPlacement to know the original value\n  data.placement = computeAutoPlacement(this.options.placement, data.offsets.reference, this.popper, this.reference, this.options.modifiers.flip.boundariesElement, this.options.modifiers.flip.padding);\n\n  // store the computed placement inside `originalPlacement`\n  data.originalPlacement = data.placement;\n\n  data.positionFixed = this.options.positionFixed;\n\n  // compute the popper offsets\n  data.offsets.popper = getPopperOffsets(this.popper, data.offsets.reference, data.placement);\n\n  data.offsets.popper.position = this.options.positionFixed ? 'fixed' : 'absolute';\n\n  // run the modifiers\n  data = runModifiers(this.modifiers, data);\n\n  // the first `update` will call `onCreate` callback\n  // the other ones will call `onUpdate` callback\n  if (!this.state.isCreated) {\n    this.state.isCreated = true;\n    this.options.onCreate(data);\n  } else {\n    this.options.onUpdate(data);\n  }\n}\n\n/**\n * Helper used to know if the given modifier is enabled.\n * @method\n * @memberof Popper.Utils\n * @returns {Boolean}\n */\nfunction isModifierEnabled(modifiers, modifierName) {\n  return modifiers.some(function (_ref) {\n    var name = _ref.name,\n        enabled = _ref.enabled;\n    return enabled && name === modifierName;\n  });\n}\n\n/**\n * Get the prefixed supported property name\n * @method\n * @memberof Popper.Utils\n * @argument {String} property (camelCase)\n * @returns {String} prefixed property (camelCase or PascalCase, depending on the vendor prefix)\n */\nfunction getSupportedPropertyName(property) {\n  var prefixes = [false, 'ms', 'Webkit', 'Moz', 'O'];\n  var upperProp = property.charAt(0).toUpperCase() + property.slice(1);\n\n  for (var i = 0; i < prefixes.length; i++) {\n    var prefix = prefixes[i];\n    var toCheck = prefix ? '' + prefix + upperProp : property;\n    if (typeof document.body.style[toCheck] !== 'undefined') {\n      return toCheck;\n    }\n  }\n  return null;\n}\n\n/**\n * Destroys the popper.\n * @method\n * @memberof Popper\n */\nfunction destroy() {\n  this.state.isDestroyed = true;\n\n  // touch DOM only if `applyStyle` modifier is enabled\n  if (isModifierEnabled(this.modifiers, 'applyStyle')) {\n    this.popper.removeAttribute('x-placement');\n    this.popper.style.position = '';\n    this.popper.style.top = '';\n    this.popper.style.left = '';\n    this.popper.style.right = '';\n    this.popper.style.bottom = '';\n    this.popper.style.willChange = '';\n    this.popper.style[getSupportedPropertyName('transform')] = '';\n  }\n\n  this.disableEventListeners();\n\n  // remove the popper if user explicitly asked for the deletion on destroy\n  // do not use `remove` because IE11 doesn't support it\n  if (this.options.removeOnDestroy) {\n    this.popper.parentNode.removeChild(this.popper);\n  }\n  return this;\n}\n\n/**\n * Get the window associated with the element\n * @argument {Element} element\n * @returns {Window}\n */\nfunction getWindow(element) {\n  var ownerDocument = element.ownerDocument;\n  return ownerDocument ? ownerDocument.defaultView : window;\n}\n\nfunction attachToScrollParents(scrollParent, event, callback, scrollParents) {\n  var isBody = scrollParent.nodeName === 'BODY';\n  var target = isBody ? scrollParent.ownerDocument.defaultView : scrollParent;\n  target.addEventListener(event, callback, { passive: true });\n\n  if (!isBody) {\n    attachToScrollParents(getScrollParent(target.parentNode), event, callback, scrollParents);\n  }\n  scrollParents.push(target);\n}\n\n/**\n * Setup needed event listeners used to update the popper position\n * @method\n * @memberof Popper.Utils\n * @private\n */\nfunction setupEventListeners(reference, options, state, updateBound) {\n  // Resize event listener on window\n  state.updateBound = updateBound;\n  getWindow(reference).addEventListener('resize', state.updateBound, { passive: true });\n\n  // Scroll event listener on scroll parents\n  var scrollElement = getScrollParent(reference);\n  attachToScrollParents(scrollElement, 'scroll', state.updateBound, state.scrollParents);\n  state.scrollElement = scrollElement;\n  state.eventsEnabled = true;\n\n  return state;\n}\n\n/**\n * It will add resize/scroll events and start recalculating\n * position of the popper element when they are triggered.\n * @method\n * @memberof Popper\n */\nfunction enableEventListeners() {\n  if (!this.state.eventsEnabled) {\n    this.state = setupEventListeners(this.reference, this.options, this.state, this.scheduleUpdate);\n  }\n}\n\n/**\n * Remove event listeners used to update the popper position\n * @method\n * @memberof Popper.Utils\n * @private\n */\nfunction removeEventListeners(reference, state) {\n  // Remove resize event listener on window\n  getWindow(reference).removeEventListener('resize', state.updateBound);\n\n  // Remove scroll event listener on scroll parents\n  state.scrollParents.forEach(function (target) {\n    target.removeEventListener('scroll', state.updateBound);\n  });\n\n  // Reset state\n  state.updateBound = null;\n  state.scrollParents = [];\n  state.scrollElement = null;\n  state.eventsEnabled = false;\n  return state;\n}\n\n/**\n * It will remove resize/scroll events and won't recalculate popper position\n * when they are triggered. It also won't trigger `onUpdate` callback anymore,\n * unless you call `update` method manually.\n * @method\n * @memberof Popper\n */\nfunction disableEventListeners() {\n  if (this.state.eventsEnabled) {\n    cancelAnimationFrame(this.scheduleUpdate);\n    this.state = removeEventListeners(this.reference, this.state);\n  }\n}\n\n/**\n * Tells if a given input is a number\n * @method\n * @memberof Popper.Utils\n * @param {*} input to check\n * @return {Boolean}\n */\nfunction isNumeric(n) {\n  return n !== '' && !isNaN(parseFloat(n)) && isFinite(n);\n}\n\n/**\n * Set the style to the given popper\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element - Element to apply the style to\n * @argument {Object} styles\n * Object with a list of properties and values which will be applied to the element\n */\nfunction setStyles(element, styles) {\n  Object.keys(styles).forEach(function (prop) {\n    var unit = '';\n    // add unit if the value is numeric and is one of the following\n    if (['width', 'height', 'top', 'right', 'bottom', 'left'].indexOf(prop) !== -1 && isNumeric(styles[prop])) {\n      unit = 'px';\n    }\n    element.style[prop] = styles[prop] + unit;\n  });\n}\n\n/**\n * Set the attributes to the given popper\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element - Element to apply the attributes to\n * @argument {Object} styles\n * Object with a list of properties and values which will be applied to the element\n */\nfunction setAttributes(element, attributes) {\n  Object.keys(attributes).forEach(function (prop) {\n    var value = attributes[prop];\n    if (value !== false) {\n      element.setAttribute(prop, attributes[prop]);\n    } else {\n      element.removeAttribute(prop);\n    }\n  });\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} data.styles - List of style properties - values to apply to popper element\n * @argument {Object} data.attributes - List of attribute properties - values to apply to popper element\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The same data object\n */\nfunction applyStyle(data) {\n  // any property present in `data.styles` will be applied to the popper,\n  // in this way we can make the 3rd party modifiers add custom styles to it\n  // Be aware, modifiers could override the properties defined in the previous\n  // lines of this modifier!\n  setStyles(data.instance.popper, data.styles);\n\n  // any property present in `data.attributes` will be applied to the popper,\n  // they will be set as HTML attributes of the element\n  setAttributes(data.instance.popper, data.attributes);\n\n  // if arrowElement is defined and arrowStyles has some properties\n  if (data.arrowElement && Object.keys(data.arrowStyles).length) {\n    setStyles(data.arrowElement, data.arrowStyles);\n  }\n\n  return data;\n}\n\n/**\n * Set the x-placement attribute before everything else because it could be used\n * to add margins to the popper margins needs to be calculated to get the\n * correct popper offsets.\n * @method\n * @memberof Popper.modifiers\n * @param {HTMLElement} reference - The reference element used to position the popper\n * @param {HTMLElement} popper - The HTML element used as popper\n * @param {Object} options - Popper.js options\n */\nfunction applyStyleOnLoad(reference, popper, options, modifierOptions, state) {\n  // compute reference element offsets\n  var referenceOffsets = getReferenceOffsets(state, popper, reference, options.positionFixed);\n\n  // compute auto placement, store placement inside the data object,\n  // modifiers will be able to edit `placement` if needed\n  // and refer to originalPlacement to know the original value\n  var placement = computeAutoPlacement(options.placement, referenceOffsets, popper, reference, options.modifiers.flip.boundariesElement, options.modifiers.flip.padding);\n\n  popper.setAttribute('x-placement', placement);\n\n  // Apply `position` to popper before anything else because\n  // without the position applied we can't guarantee correct computations\n  setStyles(popper, { position: options.positionFixed ? 'fixed' : 'absolute' });\n\n  return options;\n}\n\n/**\n * @function\n * @memberof Popper.Utils\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Boolean} shouldRound - If the offsets should be rounded at all\n * @returns {Object} The popper's position offsets rounded\n *\n * The tale of pixel-perfect positioning. It's still not 100% perfect, but as\n * good as it can be within reason.\n * Discussion here: https://github.com/FezVrasta/popper.js/pull/715\n *\n * Low DPI screens cause a popper to be blurry if not using full pixels (Safari\n * as well on High DPI screens).\n *\n * Firefox prefers no rounding for positioning and does not have blurriness on\n * high DPI screens.\n *\n * Only horizontal placement and left/right values need to be considered.\n */\nfunction getRoundedOffsets(data, shouldRound) {\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n  var round = Math.round,\n      floor = Math.floor;\n\n  var noRound = function noRound(v) {\n    return v;\n  };\n\n  var referenceWidth = round(reference.width);\n  var popperWidth = round(popper.width);\n\n  var isVertical = ['left', 'right'].indexOf(data.placement) !== -1;\n  var isVariation = data.placement.indexOf('-') !== -1;\n  var sameWidthParity = referenceWidth % 2 === popperWidth % 2;\n  var bothOddWidth = referenceWidth % 2 === 1 && popperWidth % 2 === 1;\n\n  var horizontalToInteger = !shouldRound ? noRound : isVertical || isVariation || sameWidthParity ? round : floor;\n  var verticalToInteger = !shouldRound ? noRound : round;\n\n  return {\n    left: horizontalToInteger(bothOddWidth && !isVariation && shouldRound ? popper.left - 1 : popper.left),\n    top: verticalToInteger(popper.top),\n    bottom: verticalToInteger(popper.bottom),\n    right: horizontalToInteger(popper.right)\n  };\n}\n\nvar isFirefox = isBrowser && /Firefox/i.test(navigator.userAgent);\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction computeStyle(data, options) {\n  var x = options.x,\n      y = options.y;\n  var popper = data.offsets.popper;\n\n  // Remove this legacy support in Popper.js v2\n\n  var legacyGpuAccelerationOption = find(data.instance.modifiers, function (modifier) {\n    return modifier.name === 'applyStyle';\n  }).gpuAcceleration;\n  if (legacyGpuAccelerationOption !== undefined) {\n    console.warn('WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!');\n  }\n  var gpuAcceleration = legacyGpuAccelerationOption !== undefined ? legacyGpuAccelerationOption : options.gpuAcceleration;\n\n  var offsetParent = getOffsetParent(data.instance.popper);\n  var offsetParentRect = getBoundingClientRect(offsetParent);\n\n  // Styles\n  var styles = {\n    position: popper.position\n  };\n\n  var offsets = getRoundedOffsets(data, window.devicePixelRatio < 2 || !isFirefox);\n\n  var sideA = x === 'bottom' ? 'top' : 'bottom';\n  var sideB = y === 'right' ? 'left' : 'right';\n\n  // if gpuAcceleration is set to `true` and transform is supported,\n  //  we use `translate3d` to apply the position to the popper we\n  // automatically use the supported prefixed version if needed\n  var prefixedProperty = getSupportedPropertyName('transform');\n\n  // now, let's make a step back and look at this code closely (wtf?)\n  // If the content of the popper grows once it's been positioned, it\n  // may happen that the popper gets misplaced because of the new content\n  // overflowing its reference element\n  // To avoid this problem, we provide two options (x and y), which allow\n  // the consumer to define the offset origin.\n  // If we position a popper on top of a reference element, we can set\n  // `x` to `top` to make the popper grow towards its top instead of\n  // its bottom.\n  var left = void 0,\n      top = void 0;\n  if (sideA === 'bottom') {\n    // when offsetParent is <html> the positioning is relative to the bottom of the screen (excluding the scrollbar)\n    // and not the bottom of the html element\n    if (offsetParent.nodeName === 'HTML') {\n      top = -offsetParent.clientHeight + offsets.bottom;\n    } else {\n      top = -offsetParentRect.height + offsets.bottom;\n    }\n  } else {\n    top = offsets.top;\n  }\n  if (sideB === 'right') {\n    if (offsetParent.nodeName === 'HTML') {\n      left = -offsetParent.clientWidth + offsets.right;\n    } else {\n      left = -offsetParentRect.width + offsets.right;\n    }\n  } else {\n    left = offsets.left;\n  }\n  if (gpuAcceleration && prefixedProperty) {\n    styles[prefixedProperty] = 'translate3d(' + left + 'px, ' + top + 'px, 0)';\n    styles[sideA] = 0;\n    styles[sideB] = 0;\n    styles.willChange = 'transform';\n  } else {\n    // othwerise, we use the standard `top`, `left`, `bottom` and `right` properties\n    var invertTop = sideA === 'bottom' ? -1 : 1;\n    var invertLeft = sideB === 'right' ? -1 : 1;\n    styles[sideA] = top * invertTop;\n    styles[sideB] = left * invertLeft;\n    styles.willChange = sideA + ', ' + sideB;\n  }\n\n  // Attributes\n  var attributes = {\n    'x-placement': data.placement\n  };\n\n  // Update `data` attributes, styles and arrowStyles\n  data.attributes = _extends({}, attributes, data.attributes);\n  data.styles = _extends({}, styles, data.styles);\n  data.arrowStyles = _extends({}, data.offsets.arrow, data.arrowStyles);\n\n  return data;\n}\n\n/**\n * Helper used to know if the given modifier depends from another one.<br />\n * It checks if the needed modifier is listed and enabled.\n * @method\n * @memberof Popper.Utils\n * @param {Array} modifiers - list of modifiers\n * @param {String} requestingName - name of requesting modifier\n * @param {String} requestedName - name of requested modifier\n * @returns {Boolean}\n */\nfunction isModifierRequired(modifiers, requestingName, requestedName) {\n  var requesting = find(modifiers, function (_ref) {\n    var name = _ref.name;\n    return name === requestingName;\n  });\n\n  var isRequired = !!requesting && modifiers.some(function (modifier) {\n    return modifier.name === requestedName && modifier.enabled && modifier.order < requesting.order;\n  });\n\n  if (!isRequired) {\n    var _requesting = '`' + requestingName + '`';\n    var requested = '`' + requestedName + '`';\n    console.warn(requested + ' modifier is required by ' + _requesting + ' modifier in order to work, be sure to include it before ' + _requesting + '!');\n  }\n  return isRequired;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction arrow(data, options) {\n  var _data$offsets$arrow;\n\n  // arrow depends on keepTogether in order to work\n  if (!isModifierRequired(data.instance.modifiers, 'arrow', 'keepTogether')) {\n    return data;\n  }\n\n  var arrowElement = options.element;\n\n  // if arrowElement is a string, suppose it's a CSS selector\n  if (typeof arrowElement === 'string') {\n    arrowElement = data.instance.popper.querySelector(arrowElement);\n\n    // if arrowElement is not found, don't run the modifier\n    if (!arrowElement) {\n      return data;\n    }\n  } else {\n    // if the arrowElement isn't a query selector we must check that the\n    // provided DOM node is child of its popper node\n    if (!data.instance.popper.contains(arrowElement)) {\n      console.warn('WARNING: `arrow.element` must be child of its popper element!');\n      return data;\n    }\n  }\n\n  var placement = data.placement.split('-')[0];\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var isVertical = ['left', 'right'].indexOf(placement) !== -1;\n\n  var len = isVertical ? 'height' : 'width';\n  var sideCapitalized = isVertical ? 'Top' : 'Left';\n  var side = sideCapitalized.toLowerCase();\n  var altSide = isVertical ? 'left' : 'top';\n  var opSide = isVertical ? 'bottom' : 'right';\n  var arrowElementSize = getOuterSizes(arrowElement)[len];\n\n  //\n  // extends keepTogether behavior making sure the popper and its\n  // reference have enough pixels in conjunction\n  //\n\n  // top/left side\n  if (reference[opSide] - arrowElementSize < popper[side]) {\n    data.offsets.popper[side] -= popper[side] - (reference[opSide] - arrowElementSize);\n  }\n  // bottom/right side\n  if (reference[side] + arrowElementSize > popper[opSide]) {\n    data.offsets.popper[side] += reference[side] + arrowElementSize - popper[opSide];\n  }\n  data.offsets.popper = getClientRect(data.offsets.popper);\n\n  // compute center of the popper\n  var center = reference[side] + reference[len] / 2 - arrowElementSize / 2;\n\n  // Compute the sideValue using the updated popper offsets\n  // take popper margin in account because we don't have this info available\n  var css = getStyleComputedProperty(data.instance.popper);\n  var popperMarginSide = parseFloat(css['margin' + sideCapitalized]);\n  var popperBorderSide = parseFloat(css['border' + sideCapitalized + 'Width']);\n  var sideValue = center - data.offsets.popper[side] - popperMarginSide - popperBorderSide;\n\n  // prevent arrowElement from being placed not contiguously to its popper\n  sideValue = Math.max(Math.min(popper[len] - arrowElementSize, sideValue), 0);\n\n  data.arrowElement = arrowElement;\n  data.offsets.arrow = (_data$offsets$arrow = {}, defineProperty(_data$offsets$arrow, side, Math.round(sideValue)), defineProperty(_data$offsets$arrow, altSide, ''), _data$offsets$arrow);\n\n  return data;\n}\n\n/**\n * Get the opposite placement variation of the given one\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement variation\n * @returns {String} flipped placement variation\n */\nfunction getOppositeVariation(variation) {\n  if (variation === 'end') {\n    return 'start';\n  } else if (variation === 'start') {\n    return 'end';\n  }\n  return variation;\n}\n\n/**\n * List of accepted placements to use as values of the `placement` option.<br />\n * Valid placements are:\n * - `auto`\n * - `top`\n * - `right`\n * - `bottom`\n * - `left`\n *\n * Each placement can have a variation from this list:\n * - `-start`\n * - `-end`\n *\n * Variations are interpreted easily if you think of them as the left to right\n * written languages. Horizontally (`top` and `bottom`), `start` is left and `end`\n * is right.<br />\n * Vertically (`left` and `right`), `start` is top and `end` is bottom.\n *\n * Some valid examples are:\n * - `top-end` (on top of reference, right aligned)\n * - `right-start` (on right of reference, top aligned)\n * - `bottom` (on bottom, centered)\n * - `auto-end` (on the side with more space available, alignment depends by placement)\n *\n * @static\n * @type {Array}\n * @enum {String}\n * @readonly\n * @method placements\n * @memberof Popper\n */\nvar placements = ['auto-start', 'auto', 'auto-end', 'top-start', 'top', 'top-end', 'right-start', 'right', 'right-end', 'bottom-end', 'bottom', 'bottom-start', 'left-end', 'left', 'left-start'];\n\n// Get rid of `auto` `auto-start` and `auto-end`\nvar validPlacements = placements.slice(3);\n\n/**\n * Given an initial placement, returns all the subsequent placements\n * clockwise (or counter-clockwise).\n *\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement - A valid placement (it accepts variations)\n * @argument {Boolean} counter - Set to true to walk the placements counterclockwise\n * @returns {Array} placements including their variations\n */\nfunction clockwise(placement) {\n  var counter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var index = validPlacements.indexOf(placement);\n  var arr = validPlacements.slice(index + 1).concat(validPlacements.slice(0, index));\n  return counter ? arr.reverse() : arr;\n}\n\nvar BEHAVIORS = {\n  FLIP: 'flip',\n  CLOCKWISE: 'clockwise',\n  COUNTERCLOCKWISE: 'counterclockwise'\n};\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction flip(data, options) {\n  // if `inner` modifier is enabled, we can't use the `flip` modifier\n  if (isModifierEnabled(data.instance.modifiers, 'inner')) {\n    return data;\n  }\n\n  if (data.flipped && data.placement === data.originalPlacement) {\n    // seems like flip is trying to loop, probably there's not enough space on any of the flippable sides\n    return data;\n  }\n\n  var boundaries = getBoundaries(data.instance.popper, data.instance.reference, options.padding, options.boundariesElement, data.positionFixed);\n\n  var placement = data.placement.split('-')[0];\n  var placementOpposite = getOppositePlacement(placement);\n  var variation = data.placement.split('-')[1] || '';\n\n  var flipOrder = [];\n\n  switch (options.behavior) {\n    case BEHAVIORS.FLIP:\n      flipOrder = [placement, placementOpposite];\n      break;\n    case BEHAVIORS.CLOCKWISE:\n      flipOrder = clockwise(placement);\n      break;\n    case BEHAVIORS.COUNTERCLOCKWISE:\n      flipOrder = clockwise(placement, true);\n      break;\n    default:\n      flipOrder = options.behavior;\n  }\n\n  flipOrder.forEach(function (step, index) {\n    if (placement !== step || flipOrder.length === index + 1) {\n      return data;\n    }\n\n    placement = data.placement.split('-')[0];\n    placementOpposite = getOppositePlacement(placement);\n\n    var popperOffsets = data.offsets.popper;\n    var refOffsets = data.offsets.reference;\n\n    // using floor because the reference offsets may contain decimals we are not going to consider here\n    var floor = Math.floor;\n    var overlapsRef = placement === 'left' && floor(popperOffsets.right) > floor(refOffsets.left) || placement === 'right' && floor(popperOffsets.left) < floor(refOffsets.right) || placement === 'top' && floor(popperOffsets.bottom) > floor(refOffsets.top) || placement === 'bottom' && floor(popperOffsets.top) < floor(refOffsets.bottom);\n\n    var overflowsLeft = floor(popperOffsets.left) < floor(boundaries.left);\n    var overflowsRight = floor(popperOffsets.right) > floor(boundaries.right);\n    var overflowsTop = floor(popperOffsets.top) < floor(boundaries.top);\n    var overflowsBottom = floor(popperOffsets.bottom) > floor(boundaries.bottom);\n\n    var overflowsBoundaries = placement === 'left' && overflowsLeft || placement === 'right' && overflowsRight || placement === 'top' && overflowsTop || placement === 'bottom' && overflowsBottom;\n\n    // flip the variation if required\n    var isVertical = ['top', 'bottom'].indexOf(placement) !== -1;\n\n    // flips variation if reference element overflows boundaries\n    var flippedVariationByRef = !!options.flipVariations && (isVertical && variation === 'start' && overflowsLeft || isVertical && variation === 'end' && overflowsRight || !isVertical && variation === 'start' && overflowsTop || !isVertical && variation === 'end' && overflowsBottom);\n\n    // flips variation if popper content overflows boundaries\n    var flippedVariationByContent = !!options.flipVariationsByContent && (isVertical && variation === 'start' && overflowsRight || isVertical && variation === 'end' && overflowsLeft || !isVertical && variation === 'start' && overflowsBottom || !isVertical && variation === 'end' && overflowsTop);\n\n    var flippedVariation = flippedVariationByRef || flippedVariationByContent;\n\n    if (overlapsRef || overflowsBoundaries || flippedVariation) {\n      // this boolean to detect any flip loop\n      data.flipped = true;\n\n      if (overlapsRef || overflowsBoundaries) {\n        placement = flipOrder[index + 1];\n      }\n\n      if (flippedVariation) {\n        variation = getOppositeVariation(variation);\n      }\n\n      data.placement = placement + (variation ? '-' + variation : '');\n\n      // this object contains `position`, we want to preserve it along with\n      // any additional property we may add in the future\n      data.offsets.popper = _extends({}, data.offsets.popper, getPopperOffsets(data.instance.popper, data.offsets.reference, data.placement));\n\n      data = runModifiers(data.instance.modifiers, data, 'flip');\n    }\n  });\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction keepTogether(data) {\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var placement = data.placement.split('-')[0];\n  var floor = Math.floor;\n  var isVertical = ['top', 'bottom'].indexOf(placement) !== -1;\n  var side = isVertical ? 'right' : 'bottom';\n  var opSide = isVertical ? 'left' : 'top';\n  var measurement = isVertical ? 'width' : 'height';\n\n  if (popper[side] < floor(reference[opSide])) {\n    data.offsets.popper[opSide] = floor(reference[opSide]) - popper[measurement];\n  }\n  if (popper[opSide] > floor(reference[side])) {\n    data.offsets.popper[opSide] = floor(reference[side]);\n  }\n\n  return data;\n}\n\n/**\n * Converts a string containing value + unit into a px value number\n * @function\n * @memberof {modifiers~offset}\n * @private\n * @argument {String} str - Value + unit string\n * @argument {String} measurement - `height` or `width`\n * @argument {Object} popperOffsets\n * @argument {Object} referenceOffsets\n * @returns {Number|String}\n * Value in pixels, or original string if no values were extracted\n */\nfunction toValue(str, measurement, popperOffsets, referenceOffsets) {\n  // separate value from unit\n  var split = str.match(/((?:\\-|\\+)?\\d*\\.?\\d*)(.*)/);\n  var value = +split[1];\n  var unit = split[2];\n\n  // If it's not a number it's an operator, I guess\n  if (!value) {\n    return str;\n  }\n\n  if (unit.indexOf('%') === 0) {\n    var element = void 0;\n    switch (unit) {\n      case '%p':\n        element = popperOffsets;\n        break;\n      case '%':\n      case '%r':\n      default:\n        element = referenceOffsets;\n    }\n\n    var rect = getClientRect(element);\n    return rect[measurement] / 100 * value;\n  } else if (unit === 'vh' || unit === 'vw') {\n    // if is a vh or vw, we calculate the size based on the viewport\n    var size = void 0;\n    if (unit === 'vh') {\n      size = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n    } else {\n      size = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n    }\n    return size / 100 * value;\n  } else {\n    // if is an explicit pixel unit, we get rid of the unit and keep the value\n    // if is an implicit unit, it's px, and we return just the value\n    return value;\n  }\n}\n\n/**\n * Parse an `offset` string to extrapolate `x` and `y` numeric offsets.\n * @function\n * @memberof {modifiers~offset}\n * @private\n * @argument {String} offset\n * @argument {Object} popperOffsets\n * @argument {Object} referenceOffsets\n * @argument {String} basePlacement\n * @returns {Array} a two cells array with x and y offsets in numbers\n */\nfunction parseOffset(offset, popperOffsets, referenceOffsets, basePlacement) {\n  var offsets = [0, 0];\n\n  // Use height if placement is left or right and index is 0 otherwise use width\n  // in this way the first offset will use an axis and the second one\n  // will use the other one\n  var useHeight = ['right', 'left'].indexOf(basePlacement) !== -1;\n\n  // Split the offset string to obtain a list of values and operands\n  // The regex addresses values with the plus or minus sign in front (+10, -20, etc)\n  var fragments = offset.split(/(\\+|\\-)/).map(function (frag) {\n    return frag.trim();\n  });\n\n  // Detect if the offset string contains a pair of values or a single one\n  // they could be separated by comma or space\n  var divider = fragments.indexOf(find(fragments, function (frag) {\n    return frag.search(/,|\\s/) !== -1;\n  }));\n\n  if (fragments[divider] && fragments[divider].indexOf(',') === -1) {\n    console.warn('Offsets separated by white space(s) are deprecated, use a comma (,) instead.');\n  }\n\n  // If divider is found, we divide the list of values and operands to divide\n  // them by ofset X and Y.\n  var splitRegex = /\\s*,\\s*|\\s+/;\n  var ops = divider !== -1 ? [fragments.slice(0, divider).concat([fragments[divider].split(splitRegex)[0]]), [fragments[divider].split(splitRegex)[1]].concat(fragments.slice(divider + 1))] : [fragments];\n\n  // Convert the values with units to absolute pixels to allow our computations\n  ops = ops.map(function (op, index) {\n    // Most of the units rely on the orientation of the popper\n    var measurement = (index === 1 ? !useHeight : useHeight) ? 'height' : 'width';\n    var mergeWithPrevious = false;\n    return op\n    // This aggregates any `+` or `-` sign that aren't considered operators\n    // e.g.: 10 + +5 => [10, +, +5]\n    .reduce(function (a, b) {\n      if (a[a.length - 1] === '' && ['+', '-'].indexOf(b) !== -1) {\n        a[a.length - 1] = b;\n        mergeWithPrevious = true;\n        return a;\n      } else if (mergeWithPrevious) {\n        a[a.length - 1] += b;\n        mergeWithPrevious = false;\n        return a;\n      } else {\n        return a.concat(b);\n      }\n    }, [])\n    // Here we convert the string values into number values (in px)\n    .map(function (str) {\n      return toValue(str, measurement, popperOffsets, referenceOffsets);\n    });\n  });\n\n  // Loop trough the offsets arrays and execute the operations\n  ops.forEach(function (op, index) {\n    op.forEach(function (frag, index2) {\n      if (isNumeric(frag)) {\n        offsets[index] += frag * (op[index2 - 1] === '-' ? -1 : 1);\n      }\n    });\n  });\n  return offsets;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @argument {Number|String} options.offset=0\n * The offset value as described in the modifier description\n * @returns {Object} The data object, properly modified\n */\nfunction offset(data, _ref) {\n  var offset = _ref.offset;\n  var placement = data.placement,\n      _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var basePlacement = placement.split('-')[0];\n\n  var offsets = void 0;\n  if (isNumeric(+offset)) {\n    offsets = [+offset, 0];\n  } else {\n    offsets = parseOffset(offset, popper, reference, basePlacement);\n  }\n\n  if (basePlacement === 'left') {\n    popper.top += offsets[0];\n    popper.left -= offsets[1];\n  } else if (basePlacement === 'right') {\n    popper.top += offsets[0];\n    popper.left += offsets[1];\n  } else if (basePlacement === 'top') {\n    popper.left += offsets[0];\n    popper.top -= offsets[1];\n  } else if (basePlacement === 'bottom') {\n    popper.left += offsets[0];\n    popper.top += offsets[1];\n  }\n\n  data.popper = popper;\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction preventOverflow(data, options) {\n  var boundariesElement = options.boundariesElement || getOffsetParent(data.instance.popper);\n\n  // If offsetParent is the reference element, we really want to\n  // go one step up and use the next offsetParent as reference to\n  // avoid to make this modifier completely useless and look like broken\n  if (data.instance.reference === boundariesElement) {\n    boundariesElement = getOffsetParent(boundariesElement);\n  }\n\n  // NOTE: DOM access here\n  // resets the popper's position so that the document size can be calculated excluding\n  // the size of the popper element itself\n  var transformProp = getSupportedPropertyName('transform');\n  var popperStyles = data.instance.popper.style; // assignment to help minification\n  var top = popperStyles.top,\n      left = popperStyles.left,\n      transform = popperStyles[transformProp];\n\n  popperStyles.top = '';\n  popperStyles.left = '';\n  popperStyles[transformProp] = '';\n\n  var boundaries = getBoundaries(data.instance.popper, data.instance.reference, options.padding, boundariesElement, data.positionFixed);\n\n  // NOTE: DOM access here\n  // restores the original style properties after the offsets have been computed\n  popperStyles.top = top;\n  popperStyles.left = left;\n  popperStyles[transformProp] = transform;\n\n  options.boundaries = boundaries;\n\n  var order = options.priority;\n  var popper = data.offsets.popper;\n\n  var check = {\n    primary: function primary(placement) {\n      var value = popper[placement];\n      if (popper[placement] < boundaries[placement] && !options.escapeWithReference) {\n        value = Math.max(popper[placement], boundaries[placement]);\n      }\n      return defineProperty({}, placement, value);\n    },\n    secondary: function secondary(placement) {\n      var mainSide = placement === 'right' ? 'left' : 'top';\n      var value = popper[mainSide];\n      if (popper[placement] > boundaries[placement] && !options.escapeWithReference) {\n        value = Math.min(popper[mainSide], boundaries[placement] - (placement === 'right' ? popper.width : popper.height));\n      }\n      return defineProperty({}, mainSide, value);\n    }\n  };\n\n  order.forEach(function (placement) {\n    var side = ['left', 'top'].indexOf(placement) !== -1 ? 'primary' : 'secondary';\n    popper = _extends({}, popper, check[side](placement));\n  });\n\n  data.offsets.popper = popper;\n\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction shift(data) {\n  var placement = data.placement;\n  var basePlacement = placement.split('-')[0];\n  var shiftvariation = placement.split('-')[1];\n\n  // if shift shiftvariation is specified, run the modifier\n  if (shiftvariation) {\n    var _data$offsets = data.offsets,\n        reference = _data$offsets.reference,\n        popper = _data$offsets.popper;\n\n    var isVertical = ['bottom', 'top'].indexOf(basePlacement) !== -1;\n    var side = isVertical ? 'left' : 'top';\n    var measurement = isVertical ? 'width' : 'height';\n\n    var shiftOffsets = {\n      start: defineProperty({}, side, reference[side]),\n      end: defineProperty({}, side, reference[side] + reference[measurement] - popper[measurement])\n    };\n\n    data.offsets.popper = _extends({}, popper, shiftOffsets[shiftvariation]);\n  }\n\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction hide(data) {\n  if (!isModifierRequired(data.instance.modifiers, 'hide', 'preventOverflow')) {\n    return data;\n  }\n\n  var refRect = data.offsets.reference;\n  var bound = find(data.instance.modifiers, function (modifier) {\n    return modifier.name === 'preventOverflow';\n  }).boundaries;\n\n  if (refRect.bottom < bound.top || refRect.left > bound.right || refRect.top > bound.bottom || refRect.right < bound.left) {\n    // Avoid unnecessary DOM access if visibility hasn't changed\n    if (data.hide === true) {\n      return data;\n    }\n\n    data.hide = true;\n    data.attributes['x-out-of-boundaries'] = '';\n  } else {\n    // Avoid unnecessary DOM access if visibility hasn't changed\n    if (data.hide === false) {\n      return data;\n    }\n\n    data.hide = false;\n    data.attributes['x-out-of-boundaries'] = false;\n  }\n\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction inner(data) {\n  var placement = data.placement;\n  var basePlacement = placement.split('-')[0];\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var isHoriz = ['left', 'right'].indexOf(basePlacement) !== -1;\n\n  var subtractLength = ['top', 'left'].indexOf(basePlacement) === -1;\n\n  popper[isHoriz ? 'left' : 'top'] = reference[basePlacement] - (subtractLength ? popper[isHoriz ? 'width' : 'height'] : 0);\n\n  data.placement = getOppositePlacement(placement);\n  data.offsets.popper = getClientRect(popper);\n\n  return data;\n}\n\n/**\n * Modifier function, each modifier can have a function of this type assigned\n * to its `fn` property.<br />\n * These functions will be called on each update, this means that you must\n * make sure they are performant enough to avoid performance bottlenecks.\n *\n * @function ModifierFn\n * @argument {dataObject} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {dataObject} The data object, properly modified\n */\n\n/**\n * Modifiers are plugins used to alter the behavior of your poppers.<br />\n * Popper.js uses a set of 9 modifiers to provide all the basic functionalities\n * needed by the library.\n *\n * Usually you don't want to override the `order`, `fn` and `onLoad` props.\n * All the other properties are configurations that could be tweaked.\n * @namespace modifiers\n */\nvar modifiers = {\n  /**\n   * Modifier used to shift the popper on the start or end of its reference\n   * element.<br />\n   * It will read the variation of the `placement` property.<br />\n   * It can be one either `-end` or `-start`.\n   * @memberof modifiers\n   * @inner\n   */\n  shift: {\n    /** @prop {number} order=100 - Index used to define the order of execution */\n    order: 100,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: shift\n  },\n\n  /**\n   * The `offset` modifier can shift your popper on both its axis.\n   *\n   * It accepts the following units:\n   * - `px` or unit-less, interpreted as pixels\n   * - `%` or `%r`, percentage relative to the length of the reference element\n   * - `%p`, percentage relative to the length of the popper element\n   * - `vw`, CSS viewport width unit\n   * - `vh`, CSS viewport height unit\n   *\n   * For length is intended the main axis relative to the placement of the popper.<br />\n   * This means that if the placement is `top` or `bottom`, the length will be the\n   * `width`. In case of `left` or `right`, it will be the `height`.\n   *\n   * You can provide a single value (as `Number` or `String`), or a pair of values\n   * as `String` divided by a comma or one (or more) white spaces.<br />\n   * The latter is a deprecated method because it leads to confusion and will be\n   * removed in v2.<br />\n   * Additionally, it accepts additions and subtractions between different units.\n   * Note that multiplications and divisions aren't supported.\n   *\n   * Valid examples are:\n   * ```\n   * 10\n   * '10%'\n   * '10, 10'\n   * '10%, 10'\n   * '10 + 10%'\n   * '10 - 5vh + 3%'\n   * '-10px + 5vh, 5px - 6%'\n   * ```\n   * > **NB**: If you desire to apply offsets to your poppers in a way that may make them overlap\n   * > with their reference element, unfortunately, you will have to disable the `flip` modifier.\n   * > You can read more on this at this [issue](https://github.com/FezVrasta/popper.js/issues/373).\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  offset: {\n    /** @prop {number} order=200 - Index used to define the order of execution */\n    order: 200,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: offset,\n    /** @prop {Number|String} offset=0\n     * The offset value as described in the modifier description\n     */\n    offset: 0\n  },\n\n  /**\n   * Modifier used to prevent the popper from being positioned outside the boundary.\n   *\n   * A scenario exists where the reference itself is not within the boundaries.<br />\n   * We can say it has \"escaped the boundaries\"  or just \"escaped\".<br />\n   * In this case we need to decide whether the popper should either:\n   *\n   * - detach from the reference and remain \"trapped\" in the boundaries, or\n   * - if it should ignore the boundary and \"escape with its reference\"\n   *\n   * When `escapeWithReference` is set to`true` and reference is completely\n   * outside its boundaries, the popper will overflow (or completely leave)\n   * the boundaries in order to remain attached to the edge of the reference.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  preventOverflow: {\n    /** @prop {number} order=300 - Index used to define the order of execution */\n    order: 300,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: preventOverflow,\n    /**\n     * @prop {Array} [priority=['left','right','top','bottom']]\n     * Popper will try to prevent overflow following these priorities by default,\n     * then, it could overflow on the left and on top of the `boundariesElement`\n     */\n    priority: ['left', 'right', 'top', 'bottom'],\n    /**\n     * @prop {number} padding=5\n     * Amount of pixel used to define a minimum distance between the boundaries\n     * and the popper. This makes sure the popper always has a little padding\n     * between the edges of its container\n     */\n    padding: 5,\n    /**\n     * @prop {String|HTMLElement} boundariesElement='scrollParent'\n     * Boundaries used by the modifier. Can be `scrollParent`, `window`,\n     * `viewport` or any DOM element.\n     */\n    boundariesElement: 'scrollParent'\n  },\n\n  /**\n   * Modifier used to make sure the reference and its popper stay near each other\n   * without leaving any gap between the two. Especially useful when the arrow is\n   * enabled and you want to ensure that it points to its reference element.\n   * It cares only about the first axis. You can still have poppers with margin\n   * between the popper and its reference element.\n   * @memberof modifiers\n   * @inner\n   */\n  keepTogether: {\n    /** @prop {number} order=400 - Index used to define the order of execution */\n    order: 400,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: keepTogether\n  },\n\n  /**\n   * This modifier is used to move the `arrowElement` of the popper to make\n   * sure it is positioned between the reference element and its popper element.\n   * It will read the outer size of the `arrowElement` node to detect how many\n   * pixels of conjunction are needed.\n   *\n   * It has no effect if no `arrowElement` is provided.\n   * @memberof modifiers\n   * @inner\n   */\n  arrow: {\n    /** @prop {number} order=500 - Index used to define the order of execution */\n    order: 500,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: arrow,\n    /** @prop {String|HTMLElement} element='[x-arrow]' - Selector or node used as arrow */\n    element: '[x-arrow]'\n  },\n\n  /**\n   * Modifier used to flip the popper's placement when it starts to overlap its\n   * reference element.\n   *\n   * Requires the `preventOverflow` modifier before it in order to work.\n   *\n   * **NOTE:** this modifier will interrupt the current update cycle and will\n   * restart it if it detects the need to flip the placement.\n   * @memberof modifiers\n   * @inner\n   */\n  flip: {\n    /** @prop {number} order=600 - Index used to define the order of execution */\n    order: 600,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: flip,\n    /**\n     * @prop {String|Array} behavior='flip'\n     * The behavior used to change the popper's placement. It can be one of\n     * `flip`, `clockwise`, `counterclockwise` or an array with a list of valid\n     * placements (with optional variations)\n     */\n    behavior: 'flip',\n    /**\n     * @prop {number} padding=5\n     * The popper will flip if it hits the edges of the `boundariesElement`\n     */\n    padding: 5,\n    /**\n     * @prop {String|HTMLElement} boundariesElement='viewport'\n     * The element which will define the boundaries of the popper position.\n     * The popper will never be placed outside of the defined boundaries\n     * (except if `keepTogether` is enabled)\n     */\n    boundariesElement: 'viewport',\n    /**\n     * @prop {Boolean} flipVariations=false\n     * The popper will switch placement variation between `-start` and `-end` when\n     * the reference element overlaps its boundaries.\n     *\n     * The original placement should have a set variation.\n     */\n    flipVariations: false,\n    /**\n     * @prop {Boolean} flipVariationsByContent=false\n     * The popper will switch placement variation between `-start` and `-end` when\n     * the popper element overlaps its reference boundaries.\n     *\n     * The original placement should have a set variation.\n     */\n    flipVariationsByContent: false\n  },\n\n  /**\n   * Modifier used to make the popper flow toward the inner of the reference element.\n   * By default, when this modifier is disabled, the popper will be placed outside\n   * the reference element.\n   * @memberof modifiers\n   * @inner\n   */\n  inner: {\n    /** @prop {number} order=700 - Index used to define the order of execution */\n    order: 700,\n    /** @prop {Boolean} enabled=false - Whether the modifier is enabled or not */\n    enabled: false,\n    /** @prop {ModifierFn} */\n    fn: inner\n  },\n\n  /**\n   * Modifier used to hide the popper when its reference element is outside of the\n   * popper boundaries. It will set a `x-out-of-boundaries` attribute which can\n   * be used to hide with a CSS selector the popper when its reference is\n   * out of boundaries.\n   *\n   * Requires the `preventOverflow` modifier before it in order to work.\n   * @memberof modifiers\n   * @inner\n   */\n  hide: {\n    /** @prop {number} order=800 - Index used to define the order of execution */\n    order: 800,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: hide\n  },\n\n  /**\n   * Computes the style that will be applied to the popper element to gets\n   * properly positioned.\n   *\n   * Note that this modifier will not touch the DOM, it just prepares the styles\n   * so that `applyStyle` modifier can apply it. This separation is useful\n   * in case you need to replace `applyStyle` with a custom implementation.\n   *\n   * This modifier has `850` as `order` value to maintain backward compatibility\n   * with previous versions of Popper.js. Expect the modifiers ordering method\n   * to change in future major versions of the library.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  computeStyle: {\n    /** @prop {number} order=850 - Index used to define the order of execution */\n    order: 850,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: computeStyle,\n    /**\n     * @prop {Boolean} gpuAcceleration=true\n     * If true, it uses the CSS 3D transformation to position the popper.\n     * Otherwise, it will use the `top` and `left` properties\n     */\n    gpuAcceleration: true,\n    /**\n     * @prop {string} [x='bottom']\n     * Where to anchor the X axis (`bottom` or `top`). AKA X offset origin.\n     * Change this if your popper should grow in a direction different from `bottom`\n     */\n    x: 'bottom',\n    /**\n     * @prop {string} [x='left']\n     * Where to anchor the Y axis (`left` or `right`). AKA Y offset origin.\n     * Change this if your popper should grow in a direction different from `right`\n     */\n    y: 'right'\n  },\n\n  /**\n   * Applies the computed styles to the popper element.\n   *\n   * All the DOM manipulations are limited to this modifier. This is useful in case\n   * you want to integrate Popper.js inside a framework or view library and you\n   * want to delegate all the DOM manipulations to it.\n   *\n   * Note that if you disable this modifier, you must make sure the popper element\n   * has its position set to `absolute` before Popper.js can do its work!\n   *\n   * Just disable this modifier and define your own to achieve the desired effect.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  applyStyle: {\n    /** @prop {number} order=900 - Index used to define the order of execution */\n    order: 900,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: applyStyle,\n    /** @prop {Function} */\n    onLoad: applyStyleOnLoad,\n    /**\n     * @deprecated since version 1.10.0, the property moved to `computeStyle` modifier\n     * @prop {Boolean} gpuAcceleration=true\n     * If true, it uses the CSS 3D transformation to position the popper.\n     * Otherwise, it will use the `top` and `left` properties\n     */\n    gpuAcceleration: undefined\n  }\n};\n\n/**\n * The `dataObject` is an object containing all the information used by Popper.js.\n * This object is passed to modifiers and to the `onCreate` and `onUpdate` callbacks.\n * @name dataObject\n * @property {Object} data.instance The Popper.js instance\n * @property {String} data.placement Placement applied to popper\n * @property {String} data.originalPlacement Placement originally defined on init\n * @property {Boolean} data.flipped True if popper has been flipped by flip modifier\n * @property {Boolean} data.hide True if the reference element is out of boundaries, useful to know when to hide the popper\n * @property {HTMLElement} data.arrowElement Node used as arrow by arrow modifier\n * @property {Object} data.styles Any CSS property defined here will be applied to the popper. It expects the JavaScript nomenclature (eg. `marginBottom`)\n * @property {Object} data.arrowStyles Any CSS property defined here will be applied to the popper arrow. It expects the JavaScript nomenclature (eg. `marginBottom`)\n * @property {Object} data.boundaries Offsets of the popper boundaries\n * @property {Object} data.offsets The measurements of popper, reference and arrow elements\n * @property {Object} data.offsets.popper `top`, `left`, `width`, `height` values\n * @property {Object} data.offsets.reference `top`, `left`, `width`, `height` values\n * @property {Object} data.offsets.arrow] `top` and `left` offsets, only one of them will be different from 0\n */\n\n/**\n * Default options provided to Popper.js constructor.<br />\n * These can be overridden using the `options` argument of Popper.js.<br />\n * To override an option, simply pass an object with the same\n * structure of the `options` object, as the 3rd argument. For example:\n * ```\n * new Popper(ref, pop, {\n *   modifiers: {\n *     preventOverflow: { enabled: false }\n *   }\n * })\n * ```\n * @type {Object}\n * @static\n * @memberof Popper\n */\nvar Defaults = {\n  /**\n   * Popper's placement.\n   * @prop {Popper.placements} placement='bottom'\n   */\n  placement: 'bottom',\n\n  /**\n   * Set this to true if you want popper to position it self in 'fixed' mode\n   * @prop {Boolean} positionFixed=false\n   */\n  positionFixed: false,\n\n  /**\n   * Whether events (resize, scroll) are initially enabled.\n   * @prop {Boolean} eventsEnabled=true\n   */\n  eventsEnabled: true,\n\n  /**\n   * Set to true if you want to automatically remove the popper when\n   * you call the `destroy` method.\n   * @prop {Boolean} removeOnDestroy=false\n   */\n  removeOnDestroy: false,\n\n  /**\n   * Callback called when the popper is created.<br />\n   * By default, it is set to no-op.<br />\n   * Access Popper.js instance with `data.instance`.\n   * @prop {onCreate}\n   */\n  onCreate: function onCreate() {},\n\n  /**\n   * Callback called when the popper is updated. This callback is not called\n   * on the initialization/creation of the popper, but only on subsequent\n   * updates.<br />\n   * By default, it is set to no-op.<br />\n   * Access Popper.js instance with `data.instance`.\n   * @prop {onUpdate}\n   */\n  onUpdate: function onUpdate() {},\n\n  /**\n   * List of modifiers used to modify the offsets before they are applied to the popper.\n   * They provide most of the functionalities of Popper.js.\n   * @prop {modifiers}\n   */\n  modifiers: modifiers\n};\n\n/**\n * @callback onCreate\n * @param {dataObject} data\n */\n\n/**\n * @callback onUpdate\n * @param {dataObject} data\n */\n\n// Utils\n// Methods\nvar Popper = function () {\n  /**\n   * Creates a new Popper.js instance.\n   * @class Popper\n   * @param {Element|referenceObject} reference - The reference element used to position the popper\n   * @param {Element} popper - The HTML / XML element used as the popper\n   * @param {Object} options - Your custom options to override the ones defined in [Defaults](#defaults)\n   * @return {Object} instance - The generated Popper.js instance\n   */\n  function Popper(reference, popper) {\n    var _this = this;\n\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    classCallCheck(this, Popper);\n\n    this.scheduleUpdate = function () {\n      return requestAnimationFrame(_this.update);\n    };\n\n    // make update() debounced, so that it only runs at most once-per-tick\n    this.update = debounce(this.update.bind(this));\n\n    // with {} we create a new object with the options inside it\n    this.options = _extends({}, Popper.Defaults, options);\n\n    // init state\n    this.state = {\n      isDestroyed: false,\n      isCreated: false,\n      scrollParents: []\n    };\n\n    // get reference and popper elements (allow jQuery wrappers)\n    this.reference = reference && reference.jquery ? reference[0] : reference;\n    this.popper = popper && popper.jquery ? popper[0] : popper;\n\n    // Deep merge modifiers options\n    this.options.modifiers = {};\n    Object.keys(_extends({}, Popper.Defaults.modifiers, options.modifiers)).forEach(function (name) {\n      _this.options.modifiers[name] = _extends({}, Popper.Defaults.modifiers[name] || {}, options.modifiers ? options.modifiers[name] : {});\n    });\n\n    // Refactoring modifiers' list (Object => Array)\n    this.modifiers = Object.keys(this.options.modifiers).map(function (name) {\n      return _extends({\n        name: name\n      }, _this.options.modifiers[name]);\n    })\n    // sort the modifiers by order\n    .sort(function (a, b) {\n      return a.order - b.order;\n    });\n\n    // modifiers have the ability to execute arbitrary code when Popper.js get inited\n    // such code is executed in the same order of its modifier\n    // they could add new properties to their options configuration\n    // BE AWARE: don't add options to `options.modifiers.name` but to `modifierOptions`!\n    this.modifiers.forEach(function (modifierOptions) {\n      if (modifierOptions.enabled && isFunction(modifierOptions.onLoad)) {\n        modifierOptions.onLoad(_this.reference, _this.popper, _this.options, modifierOptions, _this.state);\n      }\n    });\n\n    // fire the first update to position the popper in the right place\n    this.update();\n\n    var eventsEnabled = this.options.eventsEnabled;\n    if (eventsEnabled) {\n      // setup event listeners, they will take care of update the position in specific situations\n      this.enableEventListeners();\n    }\n\n    this.state.eventsEnabled = eventsEnabled;\n  }\n\n  // We can't use class properties because they don't get listed in the\n  // class prototype and break stuff like Sinon stubs\n\n\n  createClass(Popper, [{\n    key: 'update',\n    value: function update$$1() {\n      return update.call(this);\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy$$1() {\n      return destroy.call(this);\n    }\n  }, {\n    key: 'enableEventListeners',\n    value: function enableEventListeners$$1() {\n      return enableEventListeners.call(this);\n    }\n  }, {\n    key: 'disableEventListeners',\n    value: function disableEventListeners$$1() {\n      return disableEventListeners.call(this);\n    }\n\n    /**\n     * Schedules an update. It will run on the next UI update available.\n     * @method scheduleUpdate\n     * @memberof Popper\n     */\n\n\n    /**\n     * Collection of utilities useful when writing custom modifiers.\n     * Starting from version 1.7, this method is available only if you\n     * include `popper-utils.js` before `popper.js`.\n     *\n     * **DEPRECATION**: This way to access PopperUtils is deprecated\n     * and will be removed in v2! Use the PopperUtils module directly instead.\n     * Due to the high instability of the methods contained in Utils, we can't\n     * guarantee them to follow semver. Use them at your own risk!\n     * @static\n     * @private\n     * @type {Object}\n     * @deprecated since version 1.8\n     * @member Utils\n     * @memberof Popper\n     */\n\n  }]);\n  return Popper;\n}();\n\n/**\n * The `referenceObject` is an object that provides an interface compatible with Popper.js\n * and lets you use it as replacement of a real DOM node.<br />\n * You can use this method to position a popper relatively to a set of coordinates\n * in case you don't have a DOM node to use as reference.\n *\n * ```\n * new Popper(referenceObject, popperNode);\n * ```\n *\n * NB: This feature isn't supported in Internet Explorer 10.\n * @name referenceObject\n * @property {Function} data.getBoundingClientRect\n * A function that returns a set of coordinates compatible with the native `getBoundingClientRect` method.\n * @property {number} data.clientWidth\n * An ES6 getter that will return the width of the virtual reference element.\n * @property {number} data.clientHeight\n * An ES6 getter that will return the height of the virtual reference element.\n */\n\n\nPopper.Utils = (typeof window !== 'undefined' ? window : __webpack_require__.g).PopperUtils;\nPopper.placements = placements;\nPopper.Defaults = Defaults;\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Popper);\n//# sourceMappingURL=popper.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcG9wcGVyLmpzL2Rpc3QvZXNtL3BvcHBlci5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGtCQUFrQixrQ0FBa0M7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFVBQVU7QUFDdkIsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLEtBQUs7QUFDbkIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxTQUFTO0FBQ3ZCLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsU0FBUztBQUN2QixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxnQkFBZ0I7QUFDM0IsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxTQUFTO0FBQ3ZCLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsU0FBUztBQUN2QixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxTQUFTO0FBQ3ZCLGNBQWMsU0FBUztBQUN2QixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFNBQVM7QUFDdkIsY0FBYyxRQUFRO0FBQ3RCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxhQUFhO0FBQ3hCLFdBQVcsU0FBUztBQUNwQixZQUFZLFFBQVE7QUFDcEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcscUJBQXFCO0FBQ2hDO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFlBQVksUUFBUTtBQUNwQjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxvQkFBb0Isa0JBQWtCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7Ozs7QUFNRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLHNCQUFzQjtBQUN4Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsUUFBUTtBQUN0QixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxhQUFhO0FBQ3hCLFlBQVksUUFBUTtBQUNwQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxTQUFTO0FBQ3ZCLGNBQWMsU0FBUztBQUN2QixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxTQUFTO0FBQ3ZCLGFBQWEsU0FBUztBQUN0Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxhQUFhO0FBQ3hCLFdBQVcsYUFBYTtBQUN4QixXQUFXLFFBQVE7QUFDbkIsV0FBVyxhQUFhO0FBQ3hCLFdBQVcsU0FBUztBQUNwQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBOztBQUVBOztBQUVBLHFCQUFxQjtBQUNyQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsU0FBUztBQUNwQixXQUFXLFNBQVM7QUFDcEIsV0FBVyxTQUFTO0FBQ3BCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxTQUFTO0FBQ3ZCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFFBQVE7QUFDdEIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLGFBQWE7QUFDeEIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCLFdBQVcsT0FBTztBQUNsQixXQUFXLFFBQVE7QUFDbkIsYUFBYTtBQUNiO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtEO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYztBQUNkLG1CQUFtQjtBQUNuQixrQkFBa0I7QUFDbEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxrQkFBa0IscUJBQXFCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYyxTQUFTO0FBQ3ZCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxlQUFlOztBQUU1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVFQUF1RSxlQUFlOztBQUV0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsU0FBUztBQUN2QixjQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFNBQVM7QUFDdkIsY0FBYyxRQUFRO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGFBQWE7QUFDeEIsV0FBVyxhQUFhO0FBQ3hCLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0Esc0JBQXNCLHdEQUF3RDs7QUFFOUU7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFFBQVE7QUFDdEIsY0FBYyxTQUFTO0FBQ3ZCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrQkFBK0I7QUFDL0IsMkJBQTJCO0FBQzNCLGdDQUFnQzs7QUFFaEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsZ0RBQWdEOztBQUVoRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVixVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsUUFBUTtBQUN0QixjQUFjLFNBQVM7QUFDdkIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsdUNBQXVDOztBQUV2QztBQUNBO0FBQ0EsR0FB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S0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxVQUFVO0FBQ3hCO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCO0FBQ0E7OztBQUdBLHlEQUF5RCxxQkFBTTtBQUMvRDtBQUNBOztBQUVBLGlFQUFlLE1BQU0sRUFBQztBQUN0QiIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wb3BwZXIuanMvZGlzdC9lc20vcG9wcGVyLmpzP2VhMjYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIVxuICogQGZpbGVPdmVydmlldyBLaWNrYXNzIGxpYnJhcnkgdG8gY3JlYXRlIGFuZCBwbGFjZSBwb3BwZXJzIG5lYXIgdGhlaXIgcmVmZXJlbmNlIGVsZW1lbnRzLlxuICogQHZlcnNpb24gMS4xNi4xXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE2IEZlZGVyaWNvIFppdm9sbyBhbmQgY29udHJpYnV0b3JzXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbFxuICogY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFXG4gKiBTT0ZUV0FSRS5cbiAqL1xudmFyIGlzQnJvd3NlciA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCc7XG5cbnZhciB0aW1lb3V0RHVyYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBsb25nZXJUaW1lb3V0QnJvd3NlcnMgPSBbJ0VkZ2UnLCAnVHJpZGVudCcsICdGaXJlZm94J107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbG9uZ2VyVGltZW91dEJyb3dzZXJzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgaWYgKGlzQnJvd3NlciAmJiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YobG9uZ2VyVGltZW91dEJyb3dzZXJzW2ldKSA+PSAwKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIDA7XG59KCk7XG5cbmZ1bmN0aW9uIG1pY3JvdGFza0RlYm91bmNlKGZuKSB7XG4gIHZhciBjYWxsZWQgPSBmYWxzZTtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoY2FsbGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNhbGxlZCA9IHRydWU7XG4gICAgd2luZG93LlByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgY2FsbGVkID0gZmFsc2U7XG4gICAgICBmbigpO1xuICAgIH0pO1xuICB9O1xufVxuXG5mdW5jdGlvbiB0YXNrRGVib3VuY2UoZm4pIHtcbiAgdmFyIHNjaGVkdWxlZCA9IGZhbHNlO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGlmICghc2NoZWR1bGVkKSB7XG4gICAgICBzY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNjaGVkdWxlZCA9IGZhbHNlO1xuICAgICAgICBmbigpO1xuICAgICAgfSwgdGltZW91dER1cmF0aW9uKTtcbiAgICB9XG4gIH07XG59XG5cbnZhciBzdXBwb3J0c01pY3JvVGFza3MgPSBpc0Jyb3dzZXIgJiYgd2luZG93LlByb21pc2U7XG5cbi8qKlxuKiBDcmVhdGUgYSBkZWJvdW5jZWQgdmVyc2lvbiBvZiBhIG1ldGhvZCwgdGhhdCdzIGFzeW5jaHJvbm91c2x5IGRlZmVycmVkXG4qIGJ1dCBjYWxsZWQgaW4gdGhlIG1pbmltdW0gdGltZSBwb3NzaWJsZS5cbipcbiogQG1ldGhvZFxuKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4qIEBhcmd1bWVudCB7RnVuY3Rpb259IGZuXG4qIEByZXR1cm5zIHtGdW5jdGlvbn1cbiovXG52YXIgZGVib3VuY2UgPSBzdXBwb3J0c01pY3JvVGFza3MgPyBtaWNyb3Rhc2tEZWJvdW5jZSA6IHRhc2tEZWJvdW5jZTtcblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgZ2l2ZW4gdmFyaWFibGUgaXMgYSBmdW5jdGlvblxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtBbnl9IGZ1bmN0aW9uVG9DaGVjayAtIHZhcmlhYmxlIHRvIGNoZWNrXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gYW5zd2VyIHRvOiBpcyBhIGZ1bmN0aW9uP1xuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGZ1bmN0aW9uVG9DaGVjaykge1xuICB2YXIgZ2V0VHlwZSA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb25Ub0NoZWNrICYmIGdldFR5cGUudG9TdHJpbmcuY2FsbChmdW5jdGlvblRvQ2hlY2spID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xufVxuXG4vKipcbiAqIEdldCBDU1MgY29tcHV0ZWQgcHJvcGVydHkgb2YgdGhlIGdpdmVuIGVsZW1lbnRcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7RWVtZW50fSBlbGVtZW50XG4gKiBAYXJndW1lbnQge1N0cmluZ30gcHJvcGVydHlcbiAqL1xuZnVuY3Rpb24gZ2V0U3R5bGVDb21wdXRlZFByb3BlcnR5KGVsZW1lbnQsIHByb3BlcnR5KSB7XG4gIGlmIChlbGVtZW50Lm5vZGVUeXBlICE9PSAxKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIC8vIE5PVEU6IDEgRE9NIGFjY2VzcyBoZXJlXG4gIHZhciB3aW5kb3cgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7XG4gIHZhciBjc3MgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LCBudWxsKTtcbiAgcmV0dXJuIHByb3BlcnR5ID8gY3NzW3Byb3BlcnR5XSA6IGNzcztcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBwYXJlbnROb2RlIG9yIHRoZSBob3N0IG9mIHRoZSBlbGVtZW50XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm5zIHtFbGVtZW50fSBwYXJlbnRcbiAqL1xuZnVuY3Rpb24gZ2V0UGFyZW50Tm9kZShlbGVtZW50KSB7XG4gIGlmIChlbGVtZW50Lm5vZGVOYW1lID09PSAnSFRNTCcpIHtcbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuICByZXR1cm4gZWxlbWVudC5wYXJlbnROb2RlIHx8IGVsZW1lbnQuaG9zdDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBzY3JvbGxpbmcgcGFyZW50IG9mIHRoZSBnaXZlbiBlbGVtZW50XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm5zIHtFbGVtZW50fSBzY3JvbGwgcGFyZW50XG4gKi9cbmZ1bmN0aW9uIGdldFNjcm9sbFBhcmVudChlbGVtZW50KSB7XG4gIC8vIFJldHVybiBib2R5LCBgZ2V0U2Nyb2xsYCB3aWxsIHRha2UgY2FyZSB0byBnZXQgdGhlIGNvcnJlY3QgYHNjcm9sbFRvcGAgZnJvbSBpdFxuICBpZiAoIWVsZW1lbnQpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuYm9keTtcbiAgfVxuXG4gIHN3aXRjaCAoZWxlbWVudC5ub2RlTmFtZSkge1xuICAgIGNhc2UgJ0hUTUwnOlxuICAgIGNhc2UgJ0JPRFknOlxuICAgICAgcmV0dXJuIGVsZW1lbnQub3duZXJEb2N1bWVudC5ib2R5O1xuICAgIGNhc2UgJyNkb2N1bWVudCc6XG4gICAgICByZXR1cm4gZWxlbWVudC5ib2R5O1xuICB9XG5cbiAgLy8gRmlyZWZveCB3YW50IHVzIHRvIGNoZWNrIGAteGAgYW5kIGAteWAgdmFyaWF0aW9ucyBhcyB3ZWxsXG5cbiAgdmFyIF9nZXRTdHlsZUNvbXB1dGVkUHJvcCA9IGdldFN0eWxlQ29tcHV0ZWRQcm9wZXJ0eShlbGVtZW50KSxcbiAgICAgIG92ZXJmbG93ID0gX2dldFN0eWxlQ29tcHV0ZWRQcm9wLm92ZXJmbG93LFxuICAgICAgb3ZlcmZsb3dYID0gX2dldFN0eWxlQ29tcHV0ZWRQcm9wLm92ZXJmbG93WCxcbiAgICAgIG92ZXJmbG93WSA9IF9nZXRTdHlsZUNvbXB1dGVkUHJvcC5vdmVyZmxvd1k7XG5cbiAgaWYgKC8oYXV0b3xzY3JvbGx8b3ZlcmxheSkvLnRlc3Qob3ZlcmZsb3cgKyBvdmVyZmxvd1kgKyBvdmVyZmxvd1gpKSB7XG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH1cblxuICByZXR1cm4gZ2V0U2Nyb2xsUGFyZW50KGdldFBhcmVudE5vZGUoZWxlbWVudCkpO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHJlZmVyZW5jZSBub2RlIG9mIHRoZSByZWZlcmVuY2Ugb2JqZWN0LCBvciB0aGUgcmVmZXJlbmNlIG9iamVjdCBpdHNlbGYuXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcGFyYW0ge0VsZW1lbnR8T2JqZWN0fSByZWZlcmVuY2UgLSB0aGUgcmVmZXJlbmNlIGVsZW1lbnQgKHRoZSBwb3BwZXIgd2lsbCBiZSByZWxhdGl2ZSB0byB0aGlzKVxuICogQHJldHVybnMge0VsZW1lbnR9IHBhcmVudFxuICovXG5mdW5jdGlvbiBnZXRSZWZlcmVuY2VOb2RlKHJlZmVyZW5jZSkge1xuICByZXR1cm4gcmVmZXJlbmNlICYmIHJlZmVyZW5jZS5yZWZlcmVuY2VOb2RlID8gcmVmZXJlbmNlLnJlZmVyZW5jZU5vZGUgOiByZWZlcmVuY2U7XG59XG5cbnZhciBpc0lFMTEgPSBpc0Jyb3dzZXIgJiYgISEod2luZG93Lk1TSW5wdXRNZXRob2RDb250ZXh0ICYmIGRvY3VtZW50LmRvY3VtZW50TW9kZSk7XG52YXIgaXNJRTEwID0gaXNCcm93c2VyICYmIC9NU0lFIDEwLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuXG4vKipcbiAqIERldGVybWluZXMgaWYgdGhlIGJyb3dzZXIgaXMgSW50ZXJuZXQgRXhwbG9yZXJcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBwYXJhbSB7TnVtYmVyfSB2ZXJzaW9uIHRvIGNoZWNrXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gaXNJRVxuICovXG5mdW5jdGlvbiBpc0lFKHZlcnNpb24pIHtcbiAgaWYgKHZlcnNpb24gPT09IDExKSB7XG4gICAgcmV0dXJuIGlzSUUxMTtcbiAgfVxuICBpZiAodmVyc2lvbiA9PT0gMTApIHtcbiAgICByZXR1cm4gaXNJRTEwO1xuICB9XG4gIHJldHVybiBpc0lFMTEgfHwgaXNJRTEwO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIG9mZnNldCBwYXJlbnQgb2YgdGhlIGdpdmVuIGVsZW1lbnRcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7RWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybnMge0VsZW1lbnR9IG9mZnNldCBwYXJlbnRcbiAqL1xuZnVuY3Rpb24gZ2V0T2Zmc2V0UGFyZW50KGVsZW1lbnQpIHtcbiAgaWYgKCFlbGVtZW50KSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgfVxuXG4gIHZhciBub09mZnNldFBhcmVudCA9IGlzSUUoMTApID8gZG9jdW1lbnQuYm9keSA6IG51bGw7XG5cbiAgLy8gTk9URTogMSBET00gYWNjZXNzIGhlcmVcbiAgdmFyIG9mZnNldFBhcmVudCA9IGVsZW1lbnQub2Zmc2V0UGFyZW50IHx8IG51bGw7XG4gIC8vIFNraXAgaGlkZGVuIGVsZW1lbnRzIHdoaWNoIGRvbid0IGhhdmUgYW4gb2Zmc2V0UGFyZW50XG4gIHdoaWxlIChvZmZzZXRQYXJlbnQgPT09IG5vT2Zmc2V0UGFyZW50ICYmIGVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nKSB7XG4gICAgb2Zmc2V0UGFyZW50ID0gKGVsZW1lbnQgPSBlbGVtZW50Lm5leHRFbGVtZW50U2libGluZykub2Zmc2V0UGFyZW50O1xuICB9XG5cbiAgdmFyIG5vZGVOYW1lID0gb2Zmc2V0UGFyZW50ICYmIG9mZnNldFBhcmVudC5ub2RlTmFtZTtcblxuICBpZiAoIW5vZGVOYW1lIHx8IG5vZGVOYW1lID09PSAnQk9EWScgfHwgbm9kZU5hbWUgPT09ICdIVE1MJykge1xuICAgIHJldHVybiBlbGVtZW50ID8gZWxlbWVudC5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudCA6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgfVxuXG4gIC8vIC5vZmZzZXRQYXJlbnQgd2lsbCByZXR1cm4gdGhlIGNsb3Nlc3QgVEgsIFREIG9yIFRBQkxFIGluIGNhc2VcbiAgLy8gbm8gb2Zmc2V0UGFyZW50IGlzIHByZXNlbnQsIEkgaGF0ZSB0aGlzIGpvYi4uLlxuICBpZiAoWydUSCcsICdURCcsICdUQUJMRSddLmluZGV4T2Yob2Zmc2V0UGFyZW50Lm5vZGVOYW1lKSAhPT0gLTEgJiYgZ2V0U3R5bGVDb21wdXRlZFByb3BlcnR5KG9mZnNldFBhcmVudCwgJ3Bvc2l0aW9uJykgPT09ICdzdGF0aWMnKSB7XG4gICAgcmV0dXJuIGdldE9mZnNldFBhcmVudChvZmZzZXRQYXJlbnQpO1xuICB9XG5cbiAgcmV0dXJuIG9mZnNldFBhcmVudDtcbn1cblxuZnVuY3Rpb24gaXNPZmZzZXRDb250YWluZXIoZWxlbWVudCkge1xuICB2YXIgbm9kZU5hbWUgPSBlbGVtZW50Lm5vZGVOYW1lO1xuXG4gIGlmIChub2RlTmFtZSA9PT0gJ0JPRFknKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBub2RlTmFtZSA9PT0gJ0hUTUwnIHx8IGdldE9mZnNldFBhcmVudChlbGVtZW50LmZpcnN0RWxlbWVudENoaWxkKSA9PT0gZWxlbWVudDtcbn1cblxuLyoqXG4gKiBGaW5kcyB0aGUgcm9vdCBub2RlIChkb2N1bWVudCwgc2hhZG93RE9NIHJvb3QpIG9mIHRoZSBnaXZlbiBlbGVtZW50XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0VsZW1lbnR9IG5vZGVcbiAqIEByZXR1cm5zIHtFbGVtZW50fSByb290IG5vZGVcbiAqL1xuZnVuY3Rpb24gZ2V0Um9vdChub2RlKSB7XG4gIGlmIChub2RlLnBhcmVudE5vZGUgIT09IG51bGwpIHtcbiAgICByZXR1cm4gZ2V0Um9vdChub2RlLnBhcmVudE5vZGUpO1xuICB9XG5cbiAgcmV0dXJuIG5vZGU7XG59XG5cbi8qKlxuICogRmluZHMgdGhlIG9mZnNldCBwYXJlbnQgY29tbW9uIHRvIHRoZSB0d28gcHJvdmlkZWQgbm9kZXNcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7RWxlbWVudH0gZWxlbWVudDFcbiAqIEBhcmd1bWVudCB7RWxlbWVudH0gZWxlbWVudDJcbiAqIEByZXR1cm5zIHtFbGVtZW50fSBjb21tb24gb2Zmc2V0IHBhcmVudFxuICovXG5mdW5jdGlvbiBmaW5kQ29tbW9uT2Zmc2V0UGFyZW50KGVsZW1lbnQxLCBlbGVtZW50Mikge1xuICAvLyBUaGlzIGNoZWNrIGlzIG5lZWRlZCB0byBhdm9pZCBlcnJvcnMgaW4gY2FzZSBvbmUgb2YgdGhlIGVsZW1lbnRzIGlzbid0IGRlZmluZWQgZm9yIGFueSByZWFzb25cbiAgaWYgKCFlbGVtZW50MSB8fCAhZWxlbWVudDEubm9kZVR5cGUgfHwgIWVsZW1lbnQyIHx8ICFlbGVtZW50Mi5ub2RlVHlwZSkge1xuICAgIHJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gIH1cblxuICAvLyBIZXJlIHdlIG1ha2Ugc3VyZSB0byBnaXZlIGFzIFwic3RhcnRcIiB0aGUgZWxlbWVudCB0aGF0IGNvbWVzIGZpcnN0IGluIHRoZSBET01cbiAgdmFyIG9yZGVyID0gZWxlbWVudDEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZWxlbWVudDIpICYgTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9GT0xMT1dJTkc7XG4gIHZhciBzdGFydCA9IG9yZGVyID8gZWxlbWVudDEgOiBlbGVtZW50MjtcbiAgdmFyIGVuZCA9IG9yZGVyID8gZWxlbWVudDIgOiBlbGVtZW50MTtcblxuICAvLyBHZXQgY29tbW9uIGFuY2VzdG9yIGNvbnRhaW5lclxuICB2YXIgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICByYW5nZS5zZXRTdGFydChzdGFydCwgMCk7XG4gIHJhbmdlLnNldEVuZChlbmQsIDApO1xuICB2YXIgY29tbW9uQW5jZXN0b3JDb250YWluZXIgPSByYW5nZS5jb21tb25BbmNlc3RvckNvbnRhaW5lcjtcblxuICAvLyBCb3RoIG5vZGVzIGFyZSBpbnNpZGUgI2RvY3VtZW50XG5cbiAgaWYgKGVsZW1lbnQxICE9PSBjb21tb25BbmNlc3RvckNvbnRhaW5lciAmJiBlbGVtZW50MiAhPT0gY29tbW9uQW5jZXN0b3JDb250YWluZXIgfHwgc3RhcnQuY29udGFpbnMoZW5kKSkge1xuICAgIGlmIChpc09mZnNldENvbnRhaW5lcihjb21tb25BbmNlc3RvckNvbnRhaW5lcikpIHtcbiAgICAgIHJldHVybiBjb21tb25BbmNlc3RvckNvbnRhaW5lcjtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2V0T2Zmc2V0UGFyZW50KGNvbW1vbkFuY2VzdG9yQ29udGFpbmVyKTtcbiAgfVxuXG4gIC8vIG9uZSBvZiB0aGUgbm9kZXMgaXMgaW5zaWRlIHNoYWRvd0RPTSwgZmluZCB3aGljaCBvbmVcbiAgdmFyIGVsZW1lbnQxcm9vdCA9IGdldFJvb3QoZWxlbWVudDEpO1xuICBpZiAoZWxlbWVudDFyb290Lmhvc3QpIHtcbiAgICByZXR1cm4gZmluZENvbW1vbk9mZnNldFBhcmVudChlbGVtZW50MXJvb3QuaG9zdCwgZWxlbWVudDIpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmaW5kQ29tbW9uT2Zmc2V0UGFyZW50KGVsZW1lbnQxLCBnZXRSb290KGVsZW1lbnQyKS5ob3N0KTtcbiAgfVxufVxuXG4vKipcbiAqIEdldHMgdGhlIHNjcm9sbCB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudCBpbiB0aGUgZ2l2ZW4gc2lkZSAodG9wIGFuZCBsZWZ0KVxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtFbGVtZW50fSBlbGVtZW50XG4gKiBAYXJndW1lbnQge1N0cmluZ30gc2lkZSBgdG9wYCBvciBgbGVmdGBcbiAqIEByZXR1cm5zIHtudW1iZXJ9IGFtb3VudCBvZiBzY3JvbGxlZCBwaXhlbHNcbiAqL1xuZnVuY3Rpb24gZ2V0U2Nyb2xsKGVsZW1lbnQpIHtcbiAgdmFyIHNpZGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICd0b3AnO1xuXG4gIHZhciB1cHBlclNpZGUgPSBzaWRlID09PSAndG9wJyA/ICdzY3JvbGxUb3AnIDogJ3Njcm9sbExlZnQnO1xuICB2YXIgbm9kZU5hbWUgPSBlbGVtZW50Lm5vZGVOYW1lO1xuXG4gIGlmIChub2RlTmFtZSA9PT0gJ0JPRFknIHx8IG5vZGVOYW1lID09PSAnSFRNTCcpIHtcbiAgICB2YXIgaHRtbCA9IGVsZW1lbnQub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgdmFyIHNjcm9sbGluZ0VsZW1lbnQgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQuc2Nyb2xsaW5nRWxlbWVudCB8fCBodG1sO1xuICAgIHJldHVybiBzY3JvbGxpbmdFbGVtZW50W3VwcGVyU2lkZV07XG4gIH1cblxuICByZXR1cm4gZWxlbWVudFt1cHBlclNpZGVdO1xufVxuXG4vKlxuICogU3VtIG9yIHN1YnRyYWN0IHRoZSBlbGVtZW50IHNjcm9sbCB2YWx1ZXMgKGxlZnQgYW5kIHRvcCkgZnJvbSBhIGdpdmVuIHJlY3Qgb2JqZWN0XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcGFyYW0ge09iamVjdH0gcmVjdCAtIFJlY3Qgb2JqZWN0IHlvdSB3YW50IHRvIGNoYW5nZVxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCAtIFRoZSBlbGVtZW50IGZyb20gdGhlIGZ1bmN0aW9uIHJlYWRzIHRoZSBzY3JvbGwgdmFsdWVzXG4gKiBAcGFyYW0ge0Jvb2xlYW59IHN1YnRyYWN0IC0gc2V0IHRvIHRydWUgaWYgeW91IHdhbnQgdG8gc3VidHJhY3QgdGhlIHNjcm9sbCB2YWx1ZXNcbiAqIEByZXR1cm4ge09iamVjdH0gcmVjdCAtIFRoZSBtb2RpZmllciByZWN0IG9iamVjdFxuICovXG5mdW5jdGlvbiBpbmNsdWRlU2Nyb2xsKHJlY3QsIGVsZW1lbnQpIHtcbiAgdmFyIHN1YnRyYWN0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBmYWxzZTtcblxuICB2YXIgc2Nyb2xsVG9wID0gZ2V0U2Nyb2xsKGVsZW1lbnQsICd0b3AnKTtcbiAgdmFyIHNjcm9sbExlZnQgPSBnZXRTY3JvbGwoZWxlbWVudCwgJ2xlZnQnKTtcbiAgdmFyIG1vZGlmaWVyID0gc3VidHJhY3QgPyAtMSA6IDE7XG4gIHJlY3QudG9wICs9IHNjcm9sbFRvcCAqIG1vZGlmaWVyO1xuICByZWN0LmJvdHRvbSArPSBzY3JvbGxUb3AgKiBtb2RpZmllcjtcbiAgcmVjdC5sZWZ0ICs9IHNjcm9sbExlZnQgKiBtb2RpZmllcjtcbiAgcmVjdC5yaWdodCArPSBzY3JvbGxMZWZ0ICogbW9kaWZpZXI7XG4gIHJldHVybiByZWN0O1xufVxuXG4vKlxuICogSGVscGVyIHRvIGRldGVjdCBib3JkZXJzIG9mIGEgZ2l2ZW4gZWxlbWVudFxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQHBhcmFtIHtDU1NTdHlsZURlY2xhcmF0aW9ufSBzdHlsZXNcbiAqIFJlc3VsdCBvZiBgZ2V0U3R5bGVDb21wdXRlZFByb3BlcnR5YCBvbiB0aGUgZ2l2ZW4gZWxlbWVudFxuICogQHBhcmFtIHtTdHJpbmd9IGF4aXMgLSBgeGAgb3IgYHlgXG4gKiBAcmV0dXJuIHtudW1iZXJ9IGJvcmRlcnMgLSBUaGUgYm9yZGVycyBzaXplIG9mIHRoZSBnaXZlbiBheGlzXG4gKi9cblxuZnVuY3Rpb24gZ2V0Qm9yZGVyc1NpemUoc3R5bGVzLCBheGlzKSB7XG4gIHZhciBzaWRlQSA9IGF4aXMgPT09ICd4JyA/ICdMZWZ0JyA6ICdUb3AnO1xuICB2YXIgc2lkZUIgPSBzaWRlQSA9PT0gJ0xlZnQnID8gJ1JpZ2h0JyA6ICdCb3R0b20nO1xuXG4gIHJldHVybiBwYXJzZUZsb2F0KHN0eWxlc1snYm9yZGVyJyArIHNpZGVBICsgJ1dpZHRoJ10pICsgcGFyc2VGbG9hdChzdHlsZXNbJ2JvcmRlcicgKyBzaWRlQiArICdXaWR0aCddKTtcbn1cblxuZnVuY3Rpb24gZ2V0U2l6ZShheGlzLCBib2R5LCBodG1sLCBjb21wdXRlZFN0eWxlKSB7XG4gIHJldHVybiBNYXRoLm1heChib2R5WydvZmZzZXQnICsgYXhpc10sIGJvZHlbJ3Njcm9sbCcgKyBheGlzXSwgaHRtbFsnY2xpZW50JyArIGF4aXNdLCBodG1sWydvZmZzZXQnICsgYXhpc10sIGh0bWxbJ3Njcm9sbCcgKyBheGlzXSwgaXNJRSgxMCkgPyBwYXJzZUludChodG1sWydvZmZzZXQnICsgYXhpc10pICsgcGFyc2VJbnQoY29tcHV0ZWRTdHlsZVsnbWFyZ2luJyArIChheGlzID09PSAnSGVpZ2h0JyA/ICdUb3AnIDogJ0xlZnQnKV0pICsgcGFyc2VJbnQoY29tcHV0ZWRTdHlsZVsnbWFyZ2luJyArIChheGlzID09PSAnSGVpZ2h0JyA/ICdCb3R0b20nIDogJ1JpZ2h0JyldKSA6IDApO1xufVxuXG5mdW5jdGlvbiBnZXRXaW5kb3dTaXplcyhkb2N1bWVudCkge1xuICB2YXIgYm9keSA9IGRvY3VtZW50LmJvZHk7XG4gIHZhciBodG1sID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICB2YXIgY29tcHV0ZWRTdHlsZSA9IGlzSUUoMTApICYmIGdldENvbXB1dGVkU3R5bGUoaHRtbCk7XG5cbiAgcmV0dXJuIHtcbiAgICBoZWlnaHQ6IGdldFNpemUoJ0hlaWdodCcsIGJvZHksIGh0bWwsIGNvbXB1dGVkU3R5bGUpLFxuICAgIHdpZHRoOiBnZXRTaXplKCdXaWR0aCcsIGJvZHksIGh0bWwsIGNvbXB1dGVkU3R5bGUpXG4gIH07XG59XG5cbnZhciBjbGFzc0NhbGxDaGVjayA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59O1xuXG52YXIgY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gIH07XG59KCk7XG5cblxuXG5cblxudmFyIGRlZmluZVByb3BlcnR5ID0gZnVuY3Rpb24gKG9iaiwga2V5LCB2YWx1ZSkge1xuICBpZiAoa2V5IGluIG9iaikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59O1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufTtcblxuLyoqXG4gKiBHaXZlbiBlbGVtZW50IG9mZnNldHMsIGdlbmVyYXRlIGFuIG91dHB1dCBzaW1pbGFyIHRvIGdldEJvdW5kaW5nQ2xpZW50UmVjdFxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtPYmplY3R9IG9mZnNldHNcbiAqIEByZXR1cm5zIHtPYmplY3R9IENsaWVudFJlY3QgbGlrZSBvdXRwdXRcbiAqL1xuZnVuY3Rpb24gZ2V0Q2xpZW50UmVjdChvZmZzZXRzKSB7XG4gIHJldHVybiBfZXh0ZW5kcyh7fSwgb2Zmc2V0cywge1xuICAgIHJpZ2h0OiBvZmZzZXRzLmxlZnQgKyBvZmZzZXRzLndpZHRoLFxuICAgIGJvdHRvbTogb2Zmc2V0cy50b3AgKyBvZmZzZXRzLmhlaWdodFxuICB9KTtcbn1cblxuLyoqXG4gKiBHZXQgYm91bmRpbmcgY2xpZW50IHJlY3Qgb2YgZ2l2ZW4gZWxlbWVudFxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybiB7T2JqZWN0fSBjbGllbnQgcmVjdFxuICovXG5mdW5jdGlvbiBnZXRCb3VuZGluZ0NsaWVudFJlY3QoZWxlbWVudCkge1xuICB2YXIgcmVjdCA9IHt9O1xuXG4gIC8vIElFMTAgMTAgRklYOiBQbGVhc2UsIGRvbid0IGFzaywgdGhlIGVsZW1lbnQgaXNuJ3RcbiAgLy8gY29uc2lkZXJlZCBpbiBET00gaW4gc29tZSBjaXJjdW1zdGFuY2VzLi4uXG4gIC8vIFRoaXMgaXNuJ3QgcmVwcm9kdWNpYmxlIGluIElFMTAgY29tcGF0aWJpbGl0eSBtb2RlIG9mIElFMTFcbiAgdHJ5IHtcbiAgICBpZiAoaXNJRSgxMCkpIHtcbiAgICAgIHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgdmFyIHNjcm9sbFRvcCA9IGdldFNjcm9sbChlbGVtZW50LCAndG9wJyk7XG4gICAgICB2YXIgc2Nyb2xsTGVmdCA9IGdldFNjcm9sbChlbGVtZW50LCAnbGVmdCcpO1xuICAgICAgcmVjdC50b3AgKz0gc2Nyb2xsVG9wO1xuICAgICAgcmVjdC5sZWZ0ICs9IHNjcm9sbExlZnQ7XG4gICAgICByZWN0LmJvdHRvbSArPSBzY3JvbGxUb3A7XG4gICAgICByZWN0LnJpZ2h0ICs9IHNjcm9sbExlZnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge31cblxuICB2YXIgcmVzdWx0ID0ge1xuICAgIGxlZnQ6IHJlY3QubGVmdCxcbiAgICB0b3A6IHJlY3QudG9wLFxuICAgIHdpZHRoOiByZWN0LnJpZ2h0IC0gcmVjdC5sZWZ0LFxuICAgIGhlaWdodDogcmVjdC5ib3R0b20gLSByZWN0LnRvcFxuICB9O1xuXG4gIC8vIHN1YnRyYWN0IHNjcm9sbGJhciBzaXplIGZyb20gc2l6ZXNcbiAgdmFyIHNpemVzID0gZWxlbWVudC5ub2RlTmFtZSA9PT0gJ0hUTUwnID8gZ2V0V2luZG93U2l6ZXMoZWxlbWVudC5vd25lckRvY3VtZW50KSA6IHt9O1xuICB2YXIgd2lkdGggPSBzaXplcy53aWR0aCB8fCBlbGVtZW50LmNsaWVudFdpZHRoIHx8IHJlc3VsdC53aWR0aDtcbiAgdmFyIGhlaWdodCA9IHNpemVzLmhlaWdodCB8fCBlbGVtZW50LmNsaWVudEhlaWdodCB8fCByZXN1bHQuaGVpZ2h0O1xuXG4gIHZhciBob3JpelNjcm9sbGJhciA9IGVsZW1lbnQub2Zmc2V0V2lkdGggLSB3aWR0aDtcbiAgdmFyIHZlcnRTY3JvbGxiYXIgPSBlbGVtZW50Lm9mZnNldEhlaWdodCAtIGhlaWdodDtcblxuICAvLyBpZiBhbiBoeXBvdGhldGljYWwgc2Nyb2xsYmFyIGlzIGRldGVjdGVkLCB3ZSBtdXN0IGJlIHN1cmUgaXQncyBub3QgYSBgYm9yZGVyYFxuICAvLyB3ZSBtYWtlIHRoaXMgY2hlY2sgY29uZGl0aW9uYWwgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnNcbiAgaWYgKGhvcml6U2Nyb2xsYmFyIHx8IHZlcnRTY3JvbGxiYXIpIHtcbiAgICB2YXIgc3R5bGVzID0gZ2V0U3R5bGVDb21wdXRlZFByb3BlcnR5KGVsZW1lbnQpO1xuICAgIGhvcml6U2Nyb2xsYmFyIC09IGdldEJvcmRlcnNTaXplKHN0eWxlcywgJ3gnKTtcbiAgICB2ZXJ0U2Nyb2xsYmFyIC09IGdldEJvcmRlcnNTaXplKHN0eWxlcywgJ3knKTtcblxuICAgIHJlc3VsdC53aWR0aCAtPSBob3JpelNjcm9sbGJhcjtcbiAgICByZXN1bHQuaGVpZ2h0IC09IHZlcnRTY3JvbGxiYXI7XG4gIH1cblxuICByZXR1cm4gZ2V0Q2xpZW50UmVjdChyZXN1bHQpO1xufVxuXG5mdW5jdGlvbiBnZXRPZmZzZXRSZWN0UmVsYXRpdmVUb0FyYml0cmFyeU5vZGUoY2hpbGRyZW4sIHBhcmVudCkge1xuICB2YXIgZml4ZWRQb3NpdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogZmFsc2U7XG5cbiAgdmFyIGlzSUUxMCA9IGlzSUUoMTApO1xuICB2YXIgaXNIVE1MID0gcGFyZW50Lm5vZGVOYW1lID09PSAnSFRNTCc7XG4gIHZhciBjaGlsZHJlblJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3QoY2hpbGRyZW4pO1xuICB2YXIgcGFyZW50UmVjdCA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdChwYXJlbnQpO1xuICB2YXIgc2Nyb2xsUGFyZW50ID0gZ2V0U2Nyb2xsUGFyZW50KGNoaWxkcmVuKTtcblxuICB2YXIgc3R5bGVzID0gZ2V0U3R5bGVDb21wdXRlZFByb3BlcnR5KHBhcmVudCk7XG4gIHZhciBib3JkZXJUb3BXaWR0aCA9IHBhcnNlRmxvYXQoc3R5bGVzLmJvcmRlclRvcFdpZHRoKTtcbiAgdmFyIGJvcmRlckxlZnRXaWR0aCA9IHBhcnNlRmxvYXQoc3R5bGVzLmJvcmRlckxlZnRXaWR0aCk7XG5cbiAgLy8gSW4gY2FzZXMgd2hlcmUgdGhlIHBhcmVudCBpcyBmaXhlZCwgd2UgbXVzdCBpZ25vcmUgbmVnYXRpdmUgc2Nyb2xsIGluIG9mZnNldCBjYWxjXG4gIGlmIChmaXhlZFBvc2l0aW9uICYmIGlzSFRNTCkge1xuICAgIHBhcmVudFJlY3QudG9wID0gTWF0aC5tYXgocGFyZW50UmVjdC50b3AsIDApO1xuICAgIHBhcmVudFJlY3QubGVmdCA9IE1hdGgubWF4KHBhcmVudFJlY3QubGVmdCwgMCk7XG4gIH1cbiAgdmFyIG9mZnNldHMgPSBnZXRDbGllbnRSZWN0KHtcbiAgICB0b3A6IGNoaWxkcmVuUmVjdC50b3AgLSBwYXJlbnRSZWN0LnRvcCAtIGJvcmRlclRvcFdpZHRoLFxuICAgIGxlZnQ6IGNoaWxkcmVuUmVjdC5sZWZ0IC0gcGFyZW50UmVjdC5sZWZ0IC0gYm9yZGVyTGVmdFdpZHRoLFxuICAgIHdpZHRoOiBjaGlsZHJlblJlY3Qud2lkdGgsXG4gICAgaGVpZ2h0OiBjaGlsZHJlblJlY3QuaGVpZ2h0XG4gIH0pO1xuICBvZmZzZXRzLm1hcmdpblRvcCA9IDA7XG4gIG9mZnNldHMubWFyZ2luTGVmdCA9IDA7XG5cbiAgLy8gU3VidHJhY3QgbWFyZ2lucyBvZiBkb2N1bWVudEVsZW1lbnQgaW4gY2FzZSBpdCdzIGJlaW5nIHVzZWQgYXMgcGFyZW50XG4gIC8vIHdlIGRvIHRoaXMgb25seSBvbiBIVE1MIGJlY2F1c2UgaXQncyB0aGUgb25seSBlbGVtZW50IHRoYXQgYmVoYXZlc1xuICAvLyBkaWZmZXJlbnRseSB3aGVuIG1hcmdpbnMgYXJlIGFwcGxpZWQgdG8gaXQuIFRoZSBtYXJnaW5zIGFyZSBpbmNsdWRlZCBpblxuICAvLyB0aGUgYm94IG9mIHRoZSBkb2N1bWVudEVsZW1lbnQsIGluIHRoZSBvdGhlciBjYXNlcyBub3QuXG4gIGlmICghaXNJRTEwICYmIGlzSFRNTCkge1xuICAgIHZhciBtYXJnaW5Ub3AgPSBwYXJzZUZsb2F0KHN0eWxlcy5tYXJnaW5Ub3ApO1xuICAgIHZhciBtYXJnaW5MZWZ0ID0gcGFyc2VGbG9hdChzdHlsZXMubWFyZ2luTGVmdCk7XG5cbiAgICBvZmZzZXRzLnRvcCAtPSBib3JkZXJUb3BXaWR0aCAtIG1hcmdpblRvcDtcbiAgICBvZmZzZXRzLmJvdHRvbSAtPSBib3JkZXJUb3BXaWR0aCAtIG1hcmdpblRvcDtcbiAgICBvZmZzZXRzLmxlZnQgLT0gYm9yZGVyTGVmdFdpZHRoIC0gbWFyZ2luTGVmdDtcbiAgICBvZmZzZXRzLnJpZ2h0IC09IGJvcmRlckxlZnRXaWR0aCAtIG1hcmdpbkxlZnQ7XG5cbiAgICAvLyBBdHRhY2ggbWFyZ2luVG9wIGFuZCBtYXJnaW5MZWZ0IGJlY2F1c2UgaW4gc29tZSBjaXJjdW1zdGFuY2VzIHdlIG1heSBuZWVkIHRoZW1cbiAgICBvZmZzZXRzLm1hcmdpblRvcCA9IG1hcmdpblRvcDtcbiAgICBvZmZzZXRzLm1hcmdpbkxlZnQgPSBtYXJnaW5MZWZ0O1xuICB9XG5cbiAgaWYgKGlzSUUxMCAmJiAhZml4ZWRQb3NpdGlvbiA/IHBhcmVudC5jb250YWlucyhzY3JvbGxQYXJlbnQpIDogcGFyZW50ID09PSBzY3JvbGxQYXJlbnQgJiYgc2Nyb2xsUGFyZW50Lm5vZGVOYW1lICE9PSAnQk9EWScpIHtcbiAgICBvZmZzZXRzID0gaW5jbHVkZVNjcm9sbChvZmZzZXRzLCBwYXJlbnQpO1xuICB9XG5cbiAgcmV0dXJuIG9mZnNldHM7XG59XG5cbmZ1bmN0aW9uIGdldFZpZXdwb3J0T2Zmc2V0UmVjdFJlbGF0aXZlVG9BcnRiaXRyYXJ5Tm9kZShlbGVtZW50KSB7XG4gIHZhciBleGNsdWRlU2Nyb2xsID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcblxuICB2YXIgaHRtbCA9IGVsZW1lbnQub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gIHZhciByZWxhdGl2ZU9mZnNldCA9IGdldE9mZnNldFJlY3RSZWxhdGl2ZVRvQXJiaXRyYXJ5Tm9kZShlbGVtZW50LCBodG1sKTtcbiAgdmFyIHdpZHRoID0gTWF0aC5tYXgoaHRtbC5jbGllbnRXaWR0aCwgd2luZG93LmlubmVyV2lkdGggfHwgMCk7XG4gIHZhciBoZWlnaHQgPSBNYXRoLm1heChodG1sLmNsaWVudEhlaWdodCwgd2luZG93LmlubmVySGVpZ2h0IHx8IDApO1xuXG4gIHZhciBzY3JvbGxUb3AgPSAhZXhjbHVkZVNjcm9sbCA/IGdldFNjcm9sbChodG1sKSA6IDA7XG4gIHZhciBzY3JvbGxMZWZ0ID0gIWV4Y2x1ZGVTY3JvbGwgPyBnZXRTY3JvbGwoaHRtbCwgJ2xlZnQnKSA6IDA7XG5cbiAgdmFyIG9mZnNldCA9IHtcbiAgICB0b3A6IHNjcm9sbFRvcCAtIHJlbGF0aXZlT2Zmc2V0LnRvcCArIHJlbGF0aXZlT2Zmc2V0Lm1hcmdpblRvcCxcbiAgICBsZWZ0OiBzY3JvbGxMZWZ0IC0gcmVsYXRpdmVPZmZzZXQubGVmdCArIHJlbGF0aXZlT2Zmc2V0Lm1hcmdpbkxlZnQsXG4gICAgd2lkdGg6IHdpZHRoLFxuICAgIGhlaWdodDogaGVpZ2h0XG4gIH07XG5cbiAgcmV0dXJuIGdldENsaWVudFJlY3Qob2Zmc2V0KTtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgZ2l2ZW4gZWxlbWVudCBpcyBmaXhlZCBvciBpcyBpbnNpZGUgYSBmaXhlZCBwYXJlbnRcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7RWxlbWVudH0gZWxlbWVudFxuICogQGFyZ3VtZW50IHtFbGVtZW50fSBjdXN0b21Db250YWluZXJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBhbnN3ZXIgdG8gXCJpc0ZpeGVkP1wiXG4gKi9cbmZ1bmN0aW9uIGlzRml4ZWQoZWxlbWVudCkge1xuICB2YXIgbm9kZU5hbWUgPSBlbGVtZW50Lm5vZGVOYW1lO1xuICBpZiAobm9kZU5hbWUgPT09ICdCT0RZJyB8fCBub2RlTmFtZSA9PT0gJ0hUTUwnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChnZXRTdHlsZUNvbXB1dGVkUHJvcGVydHkoZWxlbWVudCwgJ3Bvc2l0aW9uJykgPT09ICdmaXhlZCcpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICB2YXIgcGFyZW50Tm9kZSA9IGdldFBhcmVudE5vZGUoZWxlbWVudCk7XG4gIGlmICghcGFyZW50Tm9kZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gaXNGaXhlZChwYXJlbnROb2RlKTtcbn1cblxuLyoqXG4gKiBGaW5kcyB0aGUgZmlyc3QgcGFyZW50IG9mIGFuIGVsZW1lbnQgdGhhdCBoYXMgYSB0cmFuc2Zvcm1lZCBwcm9wZXJ0eSBkZWZpbmVkXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm5zIHtFbGVtZW50fSBmaXJzdCB0cmFuc2Zvcm1lZCBwYXJlbnQgb3IgZG9jdW1lbnRFbGVtZW50XG4gKi9cblxuZnVuY3Rpb24gZ2V0Rml4ZWRQb3NpdGlvbk9mZnNldFBhcmVudChlbGVtZW50KSB7XG4gIC8vIFRoaXMgY2hlY2sgaXMgbmVlZGVkIHRvIGF2b2lkIGVycm9ycyBpbiBjYXNlIG9uZSBvZiB0aGUgZWxlbWVudHMgaXNuJ3QgZGVmaW5lZCBmb3IgYW55IHJlYXNvblxuICBpZiAoIWVsZW1lbnQgfHwgIWVsZW1lbnQucGFyZW50RWxlbWVudCB8fCBpc0lFKCkpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICB9XG4gIHZhciBlbCA9IGVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgd2hpbGUgKGVsICYmIGdldFN0eWxlQ29tcHV0ZWRQcm9wZXJ0eShlbCwgJ3RyYW5zZm9ybScpID09PSAnbm9uZScpIHtcbiAgICBlbCA9IGVsLnBhcmVudEVsZW1lbnQ7XG4gIH1cbiAgcmV0dXJuIGVsIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbn1cblxuLyoqXG4gKiBDb21wdXRlZCB0aGUgYm91bmRhcmllcyBsaW1pdHMgYW5kIHJldHVybiB0aGVtXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwb3BwZXJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHJlZmVyZW5jZVxuICogQHBhcmFtIHtudW1iZXJ9IHBhZGRpbmdcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGJvdW5kYXJpZXNFbGVtZW50IC0gRWxlbWVudCB1c2VkIHRvIGRlZmluZSB0aGUgYm91bmRhcmllc1xuICogQHBhcmFtIHtCb29sZWFufSBmaXhlZFBvc2l0aW9uIC0gSXMgaW4gZml4ZWQgcG9zaXRpb24gbW9kZVxuICogQHJldHVybnMge09iamVjdH0gQ29vcmRpbmF0ZXMgb2YgdGhlIGJvdW5kYXJpZXNcbiAqL1xuZnVuY3Rpb24gZ2V0Qm91bmRhcmllcyhwb3BwZXIsIHJlZmVyZW5jZSwgcGFkZGluZywgYm91bmRhcmllc0VsZW1lbnQpIHtcbiAgdmFyIGZpeGVkUG9zaXRpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IGZhbHNlO1xuXG4gIC8vIE5PVEU6IDEgRE9NIGFjY2VzcyBoZXJlXG5cbiAgdmFyIGJvdW5kYXJpZXMgPSB7IHRvcDogMCwgbGVmdDogMCB9O1xuICB2YXIgb2Zmc2V0UGFyZW50ID0gZml4ZWRQb3NpdGlvbiA/IGdldEZpeGVkUG9zaXRpb25PZmZzZXRQYXJlbnQocG9wcGVyKSA6IGZpbmRDb21tb25PZmZzZXRQYXJlbnQocG9wcGVyLCBnZXRSZWZlcmVuY2VOb2RlKHJlZmVyZW5jZSkpO1xuXG4gIC8vIEhhbmRsZSB2aWV3cG9ydCBjYXNlXG4gIGlmIChib3VuZGFyaWVzRWxlbWVudCA9PT0gJ3ZpZXdwb3J0Jykge1xuICAgIGJvdW5kYXJpZXMgPSBnZXRWaWV3cG9ydE9mZnNldFJlY3RSZWxhdGl2ZVRvQXJ0Yml0cmFyeU5vZGUob2Zmc2V0UGFyZW50LCBmaXhlZFBvc2l0aW9uKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBIYW5kbGUgb3RoZXIgY2FzZXMgYmFzZWQgb24gRE9NIGVsZW1lbnQgdXNlZCBhcyBib3VuZGFyaWVzXG4gICAgdmFyIGJvdW5kYXJpZXNOb2RlID0gdm9pZCAwO1xuICAgIGlmIChib3VuZGFyaWVzRWxlbWVudCA9PT0gJ3Njcm9sbFBhcmVudCcpIHtcbiAgICAgIGJvdW5kYXJpZXNOb2RlID0gZ2V0U2Nyb2xsUGFyZW50KGdldFBhcmVudE5vZGUocmVmZXJlbmNlKSk7XG4gICAgICBpZiAoYm91bmRhcmllc05vZGUubm9kZU5hbWUgPT09ICdCT0RZJykge1xuICAgICAgICBib3VuZGFyaWVzTm9kZSA9IHBvcHBlci5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGJvdW5kYXJpZXNFbGVtZW50ID09PSAnd2luZG93Jykge1xuICAgICAgYm91bmRhcmllc05vZGUgPSBwb3BwZXIub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJvdW5kYXJpZXNOb2RlID0gYm91bmRhcmllc0VsZW1lbnQ7XG4gICAgfVxuXG4gICAgdmFyIG9mZnNldHMgPSBnZXRPZmZzZXRSZWN0UmVsYXRpdmVUb0FyYml0cmFyeU5vZGUoYm91bmRhcmllc05vZGUsIG9mZnNldFBhcmVudCwgZml4ZWRQb3NpdGlvbik7XG5cbiAgICAvLyBJbiBjYXNlIG9mIEhUTUwsIHdlIG5lZWQgYSBkaWZmZXJlbnQgY29tcHV0YXRpb25cbiAgICBpZiAoYm91bmRhcmllc05vZGUubm9kZU5hbWUgPT09ICdIVE1MJyAmJiAhaXNGaXhlZChvZmZzZXRQYXJlbnQpKSB7XG4gICAgICB2YXIgX2dldFdpbmRvd1NpemVzID0gZ2V0V2luZG93U2l6ZXMocG9wcGVyLm93bmVyRG9jdW1lbnQpLFxuICAgICAgICAgIGhlaWdodCA9IF9nZXRXaW5kb3dTaXplcy5oZWlnaHQsXG4gICAgICAgICAgd2lkdGggPSBfZ2V0V2luZG93U2l6ZXMud2lkdGg7XG5cbiAgICAgIGJvdW5kYXJpZXMudG9wICs9IG9mZnNldHMudG9wIC0gb2Zmc2V0cy5tYXJnaW5Ub3A7XG4gICAgICBib3VuZGFyaWVzLmJvdHRvbSA9IGhlaWdodCArIG9mZnNldHMudG9wO1xuICAgICAgYm91bmRhcmllcy5sZWZ0ICs9IG9mZnNldHMubGVmdCAtIG9mZnNldHMubWFyZ2luTGVmdDtcbiAgICAgIGJvdW5kYXJpZXMucmlnaHQgPSB3aWR0aCArIG9mZnNldHMubGVmdDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZm9yIGFsbCB0aGUgb3RoZXIgRE9NIGVsZW1lbnRzLCB0aGlzIG9uZSBpcyBnb29kXG4gICAgICBib3VuZGFyaWVzID0gb2Zmc2V0cztcbiAgICB9XG4gIH1cblxuICAvLyBBZGQgcGFkZGluZ3NcbiAgcGFkZGluZyA9IHBhZGRpbmcgfHwgMDtcbiAgdmFyIGlzUGFkZGluZ051bWJlciA9IHR5cGVvZiBwYWRkaW5nID09PSAnbnVtYmVyJztcbiAgYm91bmRhcmllcy5sZWZ0ICs9IGlzUGFkZGluZ051bWJlciA/IHBhZGRpbmcgOiBwYWRkaW5nLmxlZnQgfHwgMDtcbiAgYm91bmRhcmllcy50b3AgKz0gaXNQYWRkaW5nTnVtYmVyID8gcGFkZGluZyA6IHBhZGRpbmcudG9wIHx8IDA7XG4gIGJvdW5kYXJpZXMucmlnaHQgLT0gaXNQYWRkaW5nTnVtYmVyID8gcGFkZGluZyA6IHBhZGRpbmcucmlnaHQgfHwgMDtcbiAgYm91bmRhcmllcy5ib3R0b20gLT0gaXNQYWRkaW5nTnVtYmVyID8gcGFkZGluZyA6IHBhZGRpbmcuYm90dG9tIHx8IDA7XG5cbiAgcmV0dXJuIGJvdW5kYXJpZXM7XG59XG5cbmZ1bmN0aW9uIGdldEFyZWEoX3JlZikge1xuICB2YXIgd2lkdGggPSBfcmVmLndpZHRoLFxuICAgICAgaGVpZ2h0ID0gX3JlZi5oZWlnaHQ7XG5cbiAgcmV0dXJuIHdpZHRoICogaGVpZ2h0O1xufVxuXG4vKipcbiAqIFV0aWxpdHkgdXNlZCB0byB0cmFuc2Zvcm0gdGhlIGBhdXRvYCBwbGFjZW1lbnQgdG8gdGhlIHBsYWNlbWVudCB3aXRoIG1vcmVcbiAqIGF2YWlsYWJsZSBzcGFjZS5cbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSB1cGRhdGUgbWV0aG9kXG4gKiBAYXJndW1lbnQge09iamVjdH0gb3B0aW9ucyAtIE1vZGlmaWVycyBjb25maWd1cmF0aW9uIGFuZCBvcHRpb25zXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgZGF0YSBvYmplY3QsIHByb3Blcmx5IG1vZGlmaWVkXG4gKi9cbmZ1bmN0aW9uIGNvbXB1dGVBdXRvUGxhY2VtZW50KHBsYWNlbWVudCwgcmVmUmVjdCwgcG9wcGVyLCByZWZlcmVuY2UsIGJvdW5kYXJpZXNFbGVtZW50KSB7XG4gIHZhciBwYWRkaW5nID0gYXJndW1lbnRzLmxlbmd0aCA+IDUgJiYgYXJndW1lbnRzWzVdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNV0gOiAwO1xuXG4gIGlmIChwbGFjZW1lbnQuaW5kZXhPZignYXV0bycpID09PSAtMSkge1xuICAgIHJldHVybiBwbGFjZW1lbnQ7XG4gIH1cblxuICB2YXIgYm91bmRhcmllcyA9IGdldEJvdW5kYXJpZXMocG9wcGVyLCByZWZlcmVuY2UsIHBhZGRpbmcsIGJvdW5kYXJpZXNFbGVtZW50KTtcblxuICB2YXIgcmVjdHMgPSB7XG4gICAgdG9wOiB7XG4gICAgICB3aWR0aDogYm91bmRhcmllcy53aWR0aCxcbiAgICAgIGhlaWdodDogcmVmUmVjdC50b3AgLSBib3VuZGFyaWVzLnRvcFxuICAgIH0sXG4gICAgcmlnaHQ6IHtcbiAgICAgIHdpZHRoOiBib3VuZGFyaWVzLnJpZ2h0IC0gcmVmUmVjdC5yaWdodCxcbiAgICAgIGhlaWdodDogYm91bmRhcmllcy5oZWlnaHRcbiAgICB9LFxuICAgIGJvdHRvbToge1xuICAgICAgd2lkdGg6IGJvdW5kYXJpZXMud2lkdGgsXG4gICAgICBoZWlnaHQ6IGJvdW5kYXJpZXMuYm90dG9tIC0gcmVmUmVjdC5ib3R0b21cbiAgICB9LFxuICAgIGxlZnQ6IHtcbiAgICAgIHdpZHRoOiByZWZSZWN0LmxlZnQgLSBib3VuZGFyaWVzLmxlZnQsXG4gICAgICBoZWlnaHQ6IGJvdW5kYXJpZXMuaGVpZ2h0XG4gICAgfVxuICB9O1xuXG4gIHZhciBzb3J0ZWRBcmVhcyA9IE9iamVjdC5rZXlzKHJlY3RzKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiBfZXh0ZW5kcyh7XG4gICAgICBrZXk6IGtleVxuICAgIH0sIHJlY3RzW2tleV0sIHtcbiAgICAgIGFyZWE6IGdldEFyZWEocmVjdHNba2V5XSlcbiAgICB9KTtcbiAgfSkuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBiLmFyZWEgLSBhLmFyZWE7XG4gIH0pO1xuXG4gIHZhciBmaWx0ZXJlZEFyZWFzID0gc29ydGVkQXJlYXMuZmlsdGVyKGZ1bmN0aW9uIChfcmVmMikge1xuICAgIHZhciB3aWR0aCA9IF9yZWYyLndpZHRoLFxuICAgICAgICBoZWlnaHQgPSBfcmVmMi5oZWlnaHQ7XG4gICAgcmV0dXJuIHdpZHRoID49IHBvcHBlci5jbGllbnRXaWR0aCAmJiBoZWlnaHQgPj0gcG9wcGVyLmNsaWVudEhlaWdodDtcbiAgfSk7XG5cbiAgdmFyIGNvbXB1dGVkUGxhY2VtZW50ID0gZmlsdGVyZWRBcmVhcy5sZW5ndGggPiAwID8gZmlsdGVyZWRBcmVhc1swXS5rZXkgOiBzb3J0ZWRBcmVhc1swXS5rZXk7XG5cbiAgdmFyIHZhcmlhdGlvbiA9IHBsYWNlbWVudC5zcGxpdCgnLScpWzFdO1xuXG4gIHJldHVybiBjb21wdXRlZFBsYWNlbWVudCArICh2YXJpYXRpb24gPyAnLScgKyB2YXJpYXRpb24gOiAnJyk7XG59XG5cbi8qKlxuICogR2V0IG9mZnNldHMgdG8gdGhlIHJlZmVyZW5jZSBlbGVtZW50XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcGFyYW0ge09iamVjdH0gc3RhdGVcbiAqIEBwYXJhbSB7RWxlbWVudH0gcG9wcGVyIC0gdGhlIHBvcHBlciBlbGVtZW50XG4gKiBAcGFyYW0ge0VsZW1lbnR9IHJlZmVyZW5jZSAtIHRoZSByZWZlcmVuY2UgZWxlbWVudCAodGhlIHBvcHBlciB3aWxsIGJlIHJlbGF0aXZlIHRvIHRoaXMpXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGZpeGVkUG9zaXRpb24gLSBpcyBpbiBmaXhlZCBwb3NpdGlvbiBtb2RlXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgb2Zmc2V0cyB3aGljaCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIHBvcHBlclxuICovXG5mdW5jdGlvbiBnZXRSZWZlcmVuY2VPZmZzZXRzKHN0YXRlLCBwb3BwZXIsIHJlZmVyZW5jZSkge1xuICB2YXIgZml4ZWRQb3NpdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogbnVsbDtcblxuICB2YXIgY29tbW9uT2Zmc2V0UGFyZW50ID0gZml4ZWRQb3NpdGlvbiA/IGdldEZpeGVkUG9zaXRpb25PZmZzZXRQYXJlbnQocG9wcGVyKSA6IGZpbmRDb21tb25PZmZzZXRQYXJlbnQocG9wcGVyLCBnZXRSZWZlcmVuY2VOb2RlKHJlZmVyZW5jZSkpO1xuICByZXR1cm4gZ2V0T2Zmc2V0UmVjdFJlbGF0aXZlVG9BcmJpdHJhcnlOb2RlKHJlZmVyZW5jZSwgY29tbW9uT2Zmc2V0UGFyZW50LCBmaXhlZFBvc2l0aW9uKTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIG91dGVyIHNpemVzIG9mIHRoZSBnaXZlbiBlbGVtZW50IChvZmZzZXQgc2l6ZSArIG1hcmdpbnMpXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm5zIHtPYmplY3R9IG9iamVjdCBjb250YWluaW5nIHdpZHRoIGFuZCBoZWlnaHQgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBnZXRPdXRlclNpemVzKGVsZW1lbnQpIHtcbiAgdmFyIHdpbmRvdyA9IGVsZW1lbnQub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldztcbiAgdmFyIHN0eWxlcyA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICB2YXIgeCA9IHBhcnNlRmxvYXQoc3R5bGVzLm1hcmdpblRvcCB8fCAwKSArIHBhcnNlRmxvYXQoc3R5bGVzLm1hcmdpbkJvdHRvbSB8fCAwKTtcbiAgdmFyIHkgPSBwYXJzZUZsb2F0KHN0eWxlcy5tYXJnaW5MZWZ0IHx8IDApICsgcGFyc2VGbG9hdChzdHlsZXMubWFyZ2luUmlnaHQgfHwgMCk7XG4gIHZhciByZXN1bHQgPSB7XG4gICAgd2lkdGg6IGVsZW1lbnQub2Zmc2V0V2lkdGggKyB5LFxuICAgIGhlaWdodDogZWxlbWVudC5vZmZzZXRIZWlnaHQgKyB4XG4gIH07XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogR2V0IHRoZSBvcHBvc2l0ZSBwbGFjZW1lbnQgb2YgdGhlIGdpdmVuIG9uZVxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtTdHJpbmd9IHBsYWNlbWVudFxuICogQHJldHVybnMge1N0cmluZ30gZmxpcHBlZCBwbGFjZW1lbnRcbiAqL1xuZnVuY3Rpb24gZ2V0T3Bwb3NpdGVQbGFjZW1lbnQocGxhY2VtZW50KSB7XG4gIHZhciBoYXNoID0geyBsZWZ0OiAncmlnaHQnLCByaWdodDogJ2xlZnQnLCBib3R0b206ICd0b3AnLCB0b3A6ICdib3R0b20nIH07XG4gIHJldHVybiBwbGFjZW1lbnQucmVwbGFjZSgvbGVmdHxyaWdodHxib3R0b218dG9wL2csIGZ1bmN0aW9uIChtYXRjaGVkKSB7XG4gICAgcmV0dXJuIGhhc2hbbWF0Y2hlZF07XG4gIH0pO1xufVxuXG4vKipcbiAqIEdldCBvZmZzZXRzIHRvIHRoZSBwb3BwZXJcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBwYXJhbSB7T2JqZWN0fSBwb3NpdGlvbiAtIENTUyBwb3NpdGlvbiB0aGUgUG9wcGVyIHdpbGwgZ2V0IGFwcGxpZWRcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBvcHBlciAtIHRoZSBwb3BwZXIgZWxlbWVudFxuICogQHBhcmFtIHtPYmplY3R9IHJlZmVyZW5jZU9mZnNldHMgLSB0aGUgcmVmZXJlbmNlIG9mZnNldHMgKHRoZSBwb3BwZXIgd2lsbCBiZSByZWxhdGl2ZSB0byB0aGlzKVxuICogQHBhcmFtIHtTdHJpbmd9IHBsYWNlbWVudCAtIG9uZSBvZiB0aGUgdmFsaWQgcGxhY2VtZW50IG9wdGlvbnNcbiAqIEByZXR1cm5zIHtPYmplY3R9IHBvcHBlck9mZnNldHMgLSBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgb2Zmc2V0cyB3aGljaCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIHBvcHBlclxuICovXG5mdW5jdGlvbiBnZXRQb3BwZXJPZmZzZXRzKHBvcHBlciwgcmVmZXJlbmNlT2Zmc2V0cywgcGxhY2VtZW50KSB7XG4gIHBsYWNlbWVudCA9IHBsYWNlbWVudC5zcGxpdCgnLScpWzBdO1xuXG4gIC8vIEdldCBwb3BwZXIgbm9kZSBzaXplc1xuICB2YXIgcG9wcGVyUmVjdCA9IGdldE91dGVyU2l6ZXMocG9wcGVyKTtcblxuICAvLyBBZGQgcG9zaXRpb24sIHdpZHRoIGFuZCBoZWlnaHQgdG8gb3VyIG9mZnNldHMgb2JqZWN0XG4gIHZhciBwb3BwZXJPZmZzZXRzID0ge1xuICAgIHdpZHRoOiBwb3BwZXJSZWN0LndpZHRoLFxuICAgIGhlaWdodDogcG9wcGVyUmVjdC5oZWlnaHRcbiAgfTtcblxuICAvLyBkZXBlbmRpbmcgYnkgdGhlIHBvcHBlciBwbGFjZW1lbnQgd2UgaGF2ZSB0byBjb21wdXRlIGl0cyBvZmZzZXRzIHNsaWdodGx5IGRpZmZlcmVudGx5XG4gIHZhciBpc0hvcml6ID0gWydyaWdodCcsICdsZWZ0J10uaW5kZXhPZihwbGFjZW1lbnQpICE9PSAtMTtcbiAgdmFyIG1haW5TaWRlID0gaXNIb3JpeiA/ICd0b3AnIDogJ2xlZnQnO1xuICB2YXIgc2Vjb25kYXJ5U2lkZSA9IGlzSG9yaXogPyAnbGVmdCcgOiAndG9wJztcbiAgdmFyIG1lYXN1cmVtZW50ID0gaXNIb3JpeiA/ICdoZWlnaHQnIDogJ3dpZHRoJztcbiAgdmFyIHNlY29uZGFyeU1lYXN1cmVtZW50ID0gIWlzSG9yaXogPyAnaGVpZ2h0JyA6ICd3aWR0aCc7XG5cbiAgcG9wcGVyT2Zmc2V0c1ttYWluU2lkZV0gPSByZWZlcmVuY2VPZmZzZXRzW21haW5TaWRlXSArIHJlZmVyZW5jZU9mZnNldHNbbWVhc3VyZW1lbnRdIC8gMiAtIHBvcHBlclJlY3RbbWVhc3VyZW1lbnRdIC8gMjtcbiAgaWYgKHBsYWNlbWVudCA9PT0gc2Vjb25kYXJ5U2lkZSkge1xuICAgIHBvcHBlck9mZnNldHNbc2Vjb25kYXJ5U2lkZV0gPSByZWZlcmVuY2VPZmZzZXRzW3NlY29uZGFyeVNpZGVdIC0gcG9wcGVyUmVjdFtzZWNvbmRhcnlNZWFzdXJlbWVudF07XG4gIH0gZWxzZSB7XG4gICAgcG9wcGVyT2Zmc2V0c1tzZWNvbmRhcnlTaWRlXSA9IHJlZmVyZW5jZU9mZnNldHNbZ2V0T3Bwb3NpdGVQbGFjZW1lbnQoc2Vjb25kYXJ5U2lkZSldO1xuICB9XG5cbiAgcmV0dXJuIHBvcHBlck9mZnNldHM7XG59XG5cbi8qKlxuICogTWltaWNzIHRoZSBgZmluZGAgbWV0aG9kIG9mIEFycmF5XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0FycmF5fSBhcnJcbiAqIEBhcmd1bWVudCBwcm9wXG4gKiBAYXJndW1lbnQgdmFsdWVcbiAqIEByZXR1cm5zIGluZGV4IG9yIC0xXG4gKi9cbmZ1bmN0aW9uIGZpbmQoYXJyLCBjaGVjaykge1xuICAvLyB1c2UgbmF0aXZlIGZpbmQgaWYgc3VwcG9ydGVkXG4gIGlmIChBcnJheS5wcm90b3R5cGUuZmluZCkge1xuICAgIHJldHVybiBhcnIuZmluZChjaGVjayk7XG4gIH1cblxuICAvLyB1c2UgYGZpbHRlcmAgdG8gb2J0YWluIHRoZSBzYW1lIGJlaGF2aW9yIG9mIGBmaW5kYFxuICByZXR1cm4gYXJyLmZpbHRlcihjaGVjaylbMF07XG59XG5cbi8qKlxuICogUmV0dXJuIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hpbmcgb2JqZWN0XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0FycmF5fSBhcnJcbiAqIEBhcmd1bWVudCBwcm9wXG4gKiBAYXJndW1lbnQgdmFsdWVcbiAqIEByZXR1cm5zIGluZGV4IG9yIC0xXG4gKi9cbmZ1bmN0aW9uIGZpbmRJbmRleChhcnIsIHByb3AsIHZhbHVlKSB7XG4gIC8vIHVzZSBuYXRpdmUgZmluZEluZGV4IGlmIHN1cHBvcnRlZFxuICBpZiAoQXJyYXkucHJvdG90eXBlLmZpbmRJbmRleCkge1xuICAgIHJldHVybiBhcnIuZmluZEluZGV4KGZ1bmN0aW9uIChjdXIpIHtcbiAgICAgIHJldHVybiBjdXJbcHJvcF0gPT09IHZhbHVlO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gdXNlIGBmaW5kYCArIGBpbmRleE9mYCBpZiBgZmluZEluZGV4YCBpc24ndCBzdXBwb3J0ZWRcbiAgdmFyIG1hdGNoID0gZmluZChhcnIsIGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gb2JqW3Byb3BdID09PSB2YWx1ZTtcbiAgfSk7XG4gIHJldHVybiBhcnIuaW5kZXhPZihtYXRjaCk7XG59XG5cbi8qKlxuICogTG9vcCB0cm91Z2ggdGhlIGxpc3Qgb2YgbW9kaWZpZXJzIGFuZCBydW4gdGhlbSBpbiBvcmRlcixcbiAqIGVhY2ggb2YgdGhlbSB3aWxsIHRoZW4gZWRpdCB0aGUgZGF0YSBvYmplY3QuXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcGFyYW0ge2RhdGFPYmplY3R9IGRhdGFcbiAqIEBwYXJhbSB7QXJyYXl9IG1vZGlmaWVyc1xuICogQHBhcmFtIHtTdHJpbmd9IGVuZHMgLSBPcHRpb25hbCBtb2RpZmllciBuYW1lIHVzZWQgYXMgc3RvcHBlclxuICogQHJldHVybnMge2RhdGFPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIHJ1bk1vZGlmaWVycyhtb2RpZmllcnMsIGRhdGEsIGVuZHMpIHtcbiAgdmFyIG1vZGlmaWVyc1RvUnVuID0gZW5kcyA9PT0gdW5kZWZpbmVkID8gbW9kaWZpZXJzIDogbW9kaWZpZXJzLnNsaWNlKDAsIGZpbmRJbmRleChtb2RpZmllcnMsICduYW1lJywgZW5kcykpO1xuXG4gIG1vZGlmaWVyc1RvUnVuLmZvckVhY2goZnVuY3Rpb24gKG1vZGlmaWVyKSB7XG4gICAgaWYgKG1vZGlmaWVyWydmdW5jdGlvbiddKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGRvdC1ub3RhdGlvblxuICAgICAgY29uc29sZS53YXJuKCdgbW9kaWZpZXIuZnVuY3Rpb25gIGlzIGRlcHJlY2F0ZWQsIHVzZSBgbW9kaWZpZXIuZm5gIScpO1xuICAgIH1cbiAgICB2YXIgZm4gPSBtb2RpZmllclsnZnVuY3Rpb24nXSB8fCBtb2RpZmllci5mbjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBkb3Qtbm90YXRpb25cbiAgICBpZiAobW9kaWZpZXIuZW5hYmxlZCAmJiBpc0Z1bmN0aW9uKGZuKSkge1xuICAgICAgLy8gQWRkIHByb3BlcnRpZXMgdG8gb2Zmc2V0cyB0byBtYWtlIHRoZW0gYSBjb21wbGV0ZSBjbGllbnRSZWN0IG9iamVjdFxuICAgICAgLy8gd2UgZG8gdGhpcyBiZWZvcmUgZWFjaCBtb2RpZmllciB0byBtYWtlIHN1cmUgdGhlIHByZXZpb3VzIG9uZSBkb2Vzbid0XG4gICAgICAvLyBtZXNzIHdpdGggdGhlc2UgdmFsdWVzXG4gICAgICBkYXRhLm9mZnNldHMucG9wcGVyID0gZ2V0Q2xpZW50UmVjdChkYXRhLm9mZnNldHMucG9wcGVyKTtcbiAgICAgIGRhdGEub2Zmc2V0cy5yZWZlcmVuY2UgPSBnZXRDbGllbnRSZWN0KGRhdGEub2Zmc2V0cy5yZWZlcmVuY2UpO1xuXG4gICAgICBkYXRhID0gZm4oZGF0YSwgbW9kaWZpZXIpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogVXBkYXRlcyB0aGUgcG9zaXRpb24gb2YgdGhlIHBvcHBlciwgY29tcHV0aW5nIHRoZSBuZXcgb2Zmc2V0cyBhbmQgYXBwbHlpbmdcbiAqIHRoZSBuZXcgc3R5bGUuPGJyIC8+XG4gKiBQcmVmZXIgYHNjaGVkdWxlVXBkYXRlYCBvdmVyIGB1cGRhdGVgIGJlY2F1c2Ugb2YgcGVyZm9ybWFuY2UgcmVhc29ucy5cbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXJcbiAqL1xuZnVuY3Rpb24gdXBkYXRlKCkge1xuICAvLyBpZiBwb3BwZXIgaXMgZGVzdHJveWVkLCBkb24ndCBwZXJmb3JtIGFueSBmdXJ0aGVyIHVwZGF0ZVxuICBpZiAodGhpcy5zdGF0ZS5pc0Rlc3Ryb3llZCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBkYXRhID0ge1xuICAgIGluc3RhbmNlOiB0aGlzLFxuICAgIHN0eWxlczoge30sXG4gICAgYXJyb3dTdHlsZXM6IHt9LFxuICAgIGF0dHJpYnV0ZXM6IHt9LFxuICAgIGZsaXBwZWQ6IGZhbHNlLFxuICAgIG9mZnNldHM6IHt9XG4gIH07XG5cbiAgLy8gY29tcHV0ZSByZWZlcmVuY2UgZWxlbWVudCBvZmZzZXRzXG4gIGRhdGEub2Zmc2V0cy5yZWZlcmVuY2UgPSBnZXRSZWZlcmVuY2VPZmZzZXRzKHRoaXMuc3RhdGUsIHRoaXMucG9wcGVyLCB0aGlzLnJlZmVyZW5jZSwgdGhpcy5vcHRpb25zLnBvc2l0aW9uRml4ZWQpO1xuXG4gIC8vIGNvbXB1dGUgYXV0byBwbGFjZW1lbnQsIHN0b3JlIHBsYWNlbWVudCBpbnNpZGUgdGhlIGRhdGEgb2JqZWN0LFxuICAvLyBtb2RpZmllcnMgd2lsbCBiZSBhYmxlIHRvIGVkaXQgYHBsYWNlbWVudGAgaWYgbmVlZGVkXG4gIC8vIGFuZCByZWZlciB0byBvcmlnaW5hbFBsYWNlbWVudCB0byBrbm93IHRoZSBvcmlnaW5hbCB2YWx1ZVxuICBkYXRhLnBsYWNlbWVudCA9IGNvbXB1dGVBdXRvUGxhY2VtZW50KHRoaXMub3B0aW9ucy5wbGFjZW1lbnQsIGRhdGEub2Zmc2V0cy5yZWZlcmVuY2UsIHRoaXMucG9wcGVyLCB0aGlzLnJlZmVyZW5jZSwgdGhpcy5vcHRpb25zLm1vZGlmaWVycy5mbGlwLmJvdW5kYXJpZXNFbGVtZW50LCB0aGlzLm9wdGlvbnMubW9kaWZpZXJzLmZsaXAucGFkZGluZyk7XG5cbiAgLy8gc3RvcmUgdGhlIGNvbXB1dGVkIHBsYWNlbWVudCBpbnNpZGUgYG9yaWdpbmFsUGxhY2VtZW50YFxuICBkYXRhLm9yaWdpbmFsUGxhY2VtZW50ID0gZGF0YS5wbGFjZW1lbnQ7XG5cbiAgZGF0YS5wb3NpdGlvbkZpeGVkID0gdGhpcy5vcHRpb25zLnBvc2l0aW9uRml4ZWQ7XG5cbiAgLy8gY29tcHV0ZSB0aGUgcG9wcGVyIG9mZnNldHNcbiAgZGF0YS5vZmZzZXRzLnBvcHBlciA9IGdldFBvcHBlck9mZnNldHModGhpcy5wb3BwZXIsIGRhdGEub2Zmc2V0cy5yZWZlcmVuY2UsIGRhdGEucGxhY2VtZW50KTtcblxuICBkYXRhLm9mZnNldHMucG9wcGVyLnBvc2l0aW9uID0gdGhpcy5vcHRpb25zLnBvc2l0aW9uRml4ZWQgPyAnZml4ZWQnIDogJ2Fic29sdXRlJztcblxuICAvLyBydW4gdGhlIG1vZGlmaWVyc1xuICBkYXRhID0gcnVuTW9kaWZpZXJzKHRoaXMubW9kaWZpZXJzLCBkYXRhKTtcblxuICAvLyB0aGUgZmlyc3QgYHVwZGF0ZWAgd2lsbCBjYWxsIGBvbkNyZWF0ZWAgY2FsbGJhY2tcbiAgLy8gdGhlIG90aGVyIG9uZXMgd2lsbCBjYWxsIGBvblVwZGF0ZWAgY2FsbGJhY2tcbiAgaWYgKCF0aGlzLnN0YXRlLmlzQ3JlYXRlZCkge1xuICAgIHRoaXMuc3RhdGUuaXNDcmVhdGVkID0gdHJ1ZTtcbiAgICB0aGlzLm9wdGlvbnMub25DcmVhdGUoZGF0YSk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5vcHRpb25zLm9uVXBkYXRlKGRhdGEpO1xuICB9XG59XG5cbi8qKlxuICogSGVscGVyIHVzZWQgdG8ga25vdyBpZiB0aGUgZ2l2ZW4gbW9kaWZpZXIgaXMgZW5hYmxlZC5cbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEByZXR1cm5zIHtCb29sZWFufVxuICovXG5mdW5jdGlvbiBpc01vZGlmaWVyRW5hYmxlZChtb2RpZmllcnMsIG1vZGlmaWVyTmFtZSkge1xuICByZXR1cm4gbW9kaWZpZXJzLnNvbWUoZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgbmFtZSA9IF9yZWYubmFtZSxcbiAgICAgICAgZW5hYmxlZCA9IF9yZWYuZW5hYmxlZDtcbiAgICByZXR1cm4gZW5hYmxlZCAmJiBuYW1lID09PSBtb2RpZmllck5hbWU7XG4gIH0pO1xufVxuXG4vKipcbiAqIEdldCB0aGUgcHJlZml4ZWQgc3VwcG9ydGVkIHByb3BlcnR5IG5hbWVcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7U3RyaW5nfSBwcm9wZXJ0eSAoY2FtZWxDYXNlKVxuICogQHJldHVybnMge1N0cmluZ30gcHJlZml4ZWQgcHJvcGVydHkgKGNhbWVsQ2FzZSBvciBQYXNjYWxDYXNlLCBkZXBlbmRpbmcgb24gdGhlIHZlbmRvciBwcmVmaXgpXG4gKi9cbmZ1bmN0aW9uIGdldFN1cHBvcnRlZFByb3BlcnR5TmFtZShwcm9wZXJ0eSkge1xuICB2YXIgcHJlZml4ZXMgPSBbZmFsc2UsICdtcycsICdXZWJraXQnLCAnTW96JywgJ08nXTtcbiAgdmFyIHVwcGVyUHJvcCA9IHByb3BlcnR5LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcHJvcGVydHkuc2xpY2UoMSk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcmVmaXhlcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBwcmVmaXggPSBwcmVmaXhlc1tpXTtcbiAgICB2YXIgdG9DaGVjayA9IHByZWZpeCA/ICcnICsgcHJlZml4ICsgdXBwZXJQcm9wIDogcHJvcGVydHk7XG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudC5ib2R5LnN0eWxlW3RvQ2hlY2tdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIHRvQ2hlY2s7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIERlc3Ryb3lzIHRoZSBwb3BwZXIuXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyXG4gKi9cbmZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gIHRoaXMuc3RhdGUuaXNEZXN0cm95ZWQgPSB0cnVlO1xuXG4gIC8vIHRvdWNoIERPTSBvbmx5IGlmIGBhcHBseVN0eWxlYCBtb2RpZmllciBpcyBlbmFibGVkXG4gIGlmIChpc01vZGlmaWVyRW5hYmxlZCh0aGlzLm1vZGlmaWVycywgJ2FwcGx5U3R5bGUnKSkge1xuICAgIHRoaXMucG9wcGVyLnJlbW92ZUF0dHJpYnV0ZSgneC1wbGFjZW1lbnQnKTtcbiAgICB0aGlzLnBvcHBlci5zdHlsZS5wb3NpdGlvbiA9ICcnO1xuICAgIHRoaXMucG9wcGVyLnN0eWxlLnRvcCA9ICcnO1xuICAgIHRoaXMucG9wcGVyLnN0eWxlLmxlZnQgPSAnJztcbiAgICB0aGlzLnBvcHBlci5zdHlsZS5yaWdodCA9ICcnO1xuICAgIHRoaXMucG9wcGVyLnN0eWxlLmJvdHRvbSA9ICcnO1xuICAgIHRoaXMucG9wcGVyLnN0eWxlLndpbGxDaGFuZ2UgPSAnJztcbiAgICB0aGlzLnBvcHBlci5zdHlsZVtnZXRTdXBwb3J0ZWRQcm9wZXJ0eU5hbWUoJ3RyYW5zZm9ybScpXSA9ICcnO1xuICB9XG5cbiAgdGhpcy5kaXNhYmxlRXZlbnRMaXN0ZW5lcnMoKTtcblxuICAvLyByZW1vdmUgdGhlIHBvcHBlciBpZiB1c2VyIGV4cGxpY2l0bHkgYXNrZWQgZm9yIHRoZSBkZWxldGlvbiBvbiBkZXN0cm95XG4gIC8vIGRvIG5vdCB1c2UgYHJlbW92ZWAgYmVjYXVzZSBJRTExIGRvZXNuJ3Qgc3VwcG9ydCBpdFxuICBpZiAodGhpcy5vcHRpb25zLnJlbW92ZU9uRGVzdHJveSkge1xuICAgIHRoaXMucG9wcGVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5wb3BwZXIpO1xuICB9XG4gIHJldHVybiB0aGlzO1xufVxuXG4vKipcbiAqIEdldCB0aGUgd2luZG93IGFzc29jaWF0ZWQgd2l0aCB0aGUgZWxlbWVudFxuICogQGFyZ3VtZW50IHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJucyB7V2luZG93fVxuICovXG5mdW5jdGlvbiBnZXRXaW5kb3coZWxlbWVudCkge1xuICB2YXIgb3duZXJEb2N1bWVudCA9IGVsZW1lbnQub3duZXJEb2N1bWVudDtcbiAgcmV0dXJuIG93bmVyRG9jdW1lbnQgPyBvd25lckRvY3VtZW50LmRlZmF1bHRWaWV3IDogd2luZG93O1xufVxuXG5mdW5jdGlvbiBhdHRhY2hUb1Njcm9sbFBhcmVudHMoc2Nyb2xsUGFyZW50LCBldmVudCwgY2FsbGJhY2ssIHNjcm9sbFBhcmVudHMpIHtcbiAgdmFyIGlzQm9keSA9IHNjcm9sbFBhcmVudC5ub2RlTmFtZSA9PT0gJ0JPRFknO1xuICB2YXIgdGFyZ2V0ID0gaXNCb2R5ID8gc2Nyb2xsUGFyZW50Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcgOiBzY3JvbGxQYXJlbnQ7XG4gIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBjYWxsYmFjaywgeyBwYXNzaXZlOiB0cnVlIH0pO1xuXG4gIGlmICghaXNCb2R5KSB7XG4gICAgYXR0YWNoVG9TY3JvbGxQYXJlbnRzKGdldFNjcm9sbFBhcmVudCh0YXJnZXQucGFyZW50Tm9kZSksIGV2ZW50LCBjYWxsYmFjaywgc2Nyb2xsUGFyZW50cyk7XG4gIH1cbiAgc2Nyb2xsUGFyZW50cy5wdXNoKHRhcmdldCk7XG59XG5cbi8qKlxuICogU2V0dXAgbmVlZGVkIGV2ZW50IGxpc3RlbmVycyB1c2VkIHRvIHVwZGF0ZSB0aGUgcG9wcGVyIHBvc2l0aW9uXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBzZXR1cEV2ZW50TGlzdGVuZXJzKHJlZmVyZW5jZSwgb3B0aW9ucywgc3RhdGUsIHVwZGF0ZUJvdW5kKSB7XG4gIC8vIFJlc2l6ZSBldmVudCBsaXN0ZW5lciBvbiB3aW5kb3dcbiAgc3RhdGUudXBkYXRlQm91bmQgPSB1cGRhdGVCb3VuZDtcbiAgZ2V0V2luZG93KHJlZmVyZW5jZSkuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgc3RhdGUudXBkYXRlQm91bmQsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcblxuICAvLyBTY3JvbGwgZXZlbnQgbGlzdGVuZXIgb24gc2Nyb2xsIHBhcmVudHNcbiAgdmFyIHNjcm9sbEVsZW1lbnQgPSBnZXRTY3JvbGxQYXJlbnQocmVmZXJlbmNlKTtcbiAgYXR0YWNoVG9TY3JvbGxQYXJlbnRzKHNjcm9sbEVsZW1lbnQsICdzY3JvbGwnLCBzdGF0ZS51cGRhdGVCb3VuZCwgc3RhdGUuc2Nyb2xsUGFyZW50cyk7XG4gIHN0YXRlLnNjcm9sbEVsZW1lbnQgPSBzY3JvbGxFbGVtZW50O1xuICBzdGF0ZS5ldmVudHNFbmFibGVkID0gdHJ1ZTtcblxuICByZXR1cm4gc3RhdGU7XG59XG5cbi8qKlxuICogSXQgd2lsbCBhZGQgcmVzaXplL3Njcm9sbCBldmVudHMgYW5kIHN0YXJ0IHJlY2FsY3VsYXRpbmdcbiAqIHBvc2l0aW9uIG9mIHRoZSBwb3BwZXIgZWxlbWVudCB3aGVuIHRoZXkgYXJlIHRyaWdnZXJlZC5cbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXJcbiAqL1xuZnVuY3Rpb24gZW5hYmxlRXZlbnRMaXN0ZW5lcnMoKSB7XG4gIGlmICghdGhpcy5zdGF0ZS5ldmVudHNFbmFibGVkKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHNldHVwRXZlbnRMaXN0ZW5lcnModGhpcy5yZWZlcmVuY2UsIHRoaXMub3B0aW9ucywgdGhpcy5zdGF0ZSwgdGhpcy5zY2hlZHVsZVVwZGF0ZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmUgZXZlbnQgbGlzdGVuZXJzIHVzZWQgdG8gdXBkYXRlIHRoZSBwb3BwZXIgcG9zaXRpb25cbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXJzKHJlZmVyZW5jZSwgc3RhdGUpIHtcbiAgLy8gUmVtb3ZlIHJlc2l6ZSBldmVudCBsaXN0ZW5lciBvbiB3aW5kb3dcbiAgZ2V0V2luZG93KHJlZmVyZW5jZSkucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgc3RhdGUudXBkYXRlQm91bmQpO1xuXG4gIC8vIFJlbW92ZSBzY3JvbGwgZXZlbnQgbGlzdGVuZXIgb24gc2Nyb2xsIHBhcmVudHNcbiAgc3RhdGUuc2Nyb2xsUGFyZW50cy5mb3JFYWNoKGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgc3RhdGUudXBkYXRlQm91bmQpO1xuICB9KTtcblxuICAvLyBSZXNldCBzdGF0ZVxuICBzdGF0ZS51cGRhdGVCb3VuZCA9IG51bGw7XG4gIHN0YXRlLnNjcm9sbFBhcmVudHMgPSBbXTtcbiAgc3RhdGUuc2Nyb2xsRWxlbWVudCA9IG51bGw7XG4gIHN0YXRlLmV2ZW50c0VuYWJsZWQgPSBmYWxzZTtcbiAgcmV0dXJuIHN0YXRlO1xufVxuXG4vKipcbiAqIEl0IHdpbGwgcmVtb3ZlIHJlc2l6ZS9zY3JvbGwgZXZlbnRzIGFuZCB3b24ndCByZWNhbGN1bGF0ZSBwb3BwZXIgcG9zaXRpb25cbiAqIHdoZW4gdGhleSBhcmUgdHJpZ2dlcmVkLiBJdCBhbHNvIHdvbid0IHRyaWdnZXIgYG9uVXBkYXRlYCBjYWxsYmFjayBhbnltb3JlLFxuICogdW5sZXNzIHlvdSBjYWxsIGB1cGRhdGVgIG1ldGhvZCBtYW51YWxseS5cbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXJcbiAqL1xuZnVuY3Rpb24gZGlzYWJsZUV2ZW50TGlzdGVuZXJzKCkge1xuICBpZiAodGhpcy5zdGF0ZS5ldmVudHNFbmFibGVkKSB7XG4gICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5zY2hlZHVsZVVwZGF0ZSk7XG4gICAgdGhpcy5zdGF0ZSA9IHJlbW92ZUV2ZW50TGlzdGVuZXJzKHRoaXMucmVmZXJlbmNlLCB0aGlzLnN0YXRlKTtcbiAgfVxufVxuXG4vKipcbiAqIFRlbGxzIGlmIGEgZ2l2ZW4gaW5wdXQgaXMgYSBudW1iZXJcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBwYXJhbSB7Kn0gaW5wdXQgdG8gY2hlY2tcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzTnVtZXJpYyhuKSB7XG4gIHJldHVybiBuICE9PSAnJyAmJiAhaXNOYU4ocGFyc2VGbG9hdChuKSkgJiYgaXNGaW5pdGUobik7XG59XG5cbi8qKlxuICogU2V0IHRoZSBzdHlsZSB0byB0aGUgZ2l2ZW4gcG9wcGVyXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0VsZW1lbnR9IGVsZW1lbnQgLSBFbGVtZW50IHRvIGFwcGx5IHRoZSBzdHlsZSB0b1xuICogQGFyZ3VtZW50IHtPYmplY3R9IHN0eWxlc1xuICogT2JqZWN0IHdpdGggYSBsaXN0IG9mIHByb3BlcnRpZXMgYW5kIHZhbHVlcyB3aGljaCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gc2V0U3R5bGVzKGVsZW1lbnQsIHN0eWxlcykge1xuICBPYmplY3Qua2V5cyhzdHlsZXMpLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgICB2YXIgdW5pdCA9ICcnO1xuICAgIC8vIGFkZCB1bml0IGlmIHRoZSB2YWx1ZSBpcyBudW1lcmljIGFuZCBpcyBvbmUgb2YgdGhlIGZvbGxvd2luZ1xuICAgIGlmIChbJ3dpZHRoJywgJ2hlaWdodCcsICd0b3AnLCAncmlnaHQnLCAnYm90dG9tJywgJ2xlZnQnXS5pbmRleE9mKHByb3ApICE9PSAtMSAmJiBpc051bWVyaWMoc3R5bGVzW3Byb3BdKSkge1xuICAgICAgdW5pdCA9ICdweCc7XG4gICAgfVxuICAgIGVsZW1lbnQuc3R5bGVbcHJvcF0gPSBzdHlsZXNbcHJvcF0gKyB1bml0O1xuICB9KTtcbn1cblxuLyoqXG4gKiBTZXQgdGhlIGF0dHJpYnV0ZXMgdG8gdGhlIGdpdmVuIHBvcHBlclxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtFbGVtZW50fSBlbGVtZW50IC0gRWxlbWVudCB0byBhcHBseSB0aGUgYXR0cmlidXRlcyB0b1xuICogQGFyZ3VtZW50IHtPYmplY3R9IHN0eWxlc1xuICogT2JqZWN0IHdpdGggYSBsaXN0IG9mIHByb3BlcnRpZXMgYW5kIHZhbHVlcyB3aGljaCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gc2V0QXR0cmlidXRlcyhlbGVtZW50LCBhdHRyaWJ1dGVzKSB7XG4gIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgICB2YXIgdmFsdWUgPSBhdHRyaWJ1dGVzW3Byb3BdO1xuICAgIGlmICh2YWx1ZSAhPT0gZmFsc2UpIHtcbiAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKHByb3AsIGF0dHJpYnV0ZXNbcHJvcF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShwcm9wKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIE1vZGlmaWVyc1xuICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEgLSBUaGUgZGF0YSBvYmplY3QgZ2VuZXJhdGVkIGJ5IGB1cGRhdGVgIG1ldGhvZFxuICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEuc3R5bGVzIC0gTGlzdCBvZiBzdHlsZSBwcm9wZXJ0aWVzIC0gdmFsdWVzIHRvIGFwcGx5IHRvIHBvcHBlciBlbGVtZW50XG4gKiBAYXJndW1lbnQge09iamVjdH0gZGF0YS5hdHRyaWJ1dGVzIC0gTGlzdCBvZiBhdHRyaWJ1dGUgcHJvcGVydGllcyAtIHZhbHVlcyB0byBhcHBseSB0byBwb3BwZXIgZWxlbWVudFxuICogQGFyZ3VtZW50IHtPYmplY3R9IG9wdGlvbnMgLSBNb2RpZmllcnMgY29uZmlndXJhdGlvbiBhbmQgb3B0aW9uc1xuICogQHJldHVybnMge09iamVjdH0gVGhlIHNhbWUgZGF0YSBvYmplY3RcbiAqL1xuZnVuY3Rpb24gYXBwbHlTdHlsZShkYXRhKSB7XG4gIC8vIGFueSBwcm9wZXJ0eSBwcmVzZW50IGluIGBkYXRhLnN0eWxlc2Agd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBwb3BwZXIsXG4gIC8vIGluIHRoaXMgd2F5IHdlIGNhbiBtYWtlIHRoZSAzcmQgcGFydHkgbW9kaWZpZXJzIGFkZCBjdXN0b20gc3R5bGVzIHRvIGl0XG4gIC8vIEJlIGF3YXJlLCBtb2RpZmllcnMgY291bGQgb3ZlcnJpZGUgdGhlIHByb3BlcnRpZXMgZGVmaW5lZCBpbiB0aGUgcHJldmlvdXNcbiAgLy8gbGluZXMgb2YgdGhpcyBtb2RpZmllciFcbiAgc2V0U3R5bGVzKGRhdGEuaW5zdGFuY2UucG9wcGVyLCBkYXRhLnN0eWxlcyk7XG5cbiAgLy8gYW55IHByb3BlcnR5IHByZXNlbnQgaW4gYGRhdGEuYXR0cmlidXRlc2Agd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBwb3BwZXIsXG4gIC8vIHRoZXkgd2lsbCBiZSBzZXQgYXMgSFRNTCBhdHRyaWJ1dGVzIG9mIHRoZSBlbGVtZW50XG4gIHNldEF0dHJpYnV0ZXMoZGF0YS5pbnN0YW5jZS5wb3BwZXIsIGRhdGEuYXR0cmlidXRlcyk7XG5cbiAgLy8gaWYgYXJyb3dFbGVtZW50IGlzIGRlZmluZWQgYW5kIGFycm93U3R5bGVzIGhhcyBzb21lIHByb3BlcnRpZXNcbiAgaWYgKGRhdGEuYXJyb3dFbGVtZW50ICYmIE9iamVjdC5rZXlzKGRhdGEuYXJyb3dTdHlsZXMpLmxlbmd0aCkge1xuICAgIHNldFN0eWxlcyhkYXRhLmFycm93RWxlbWVudCwgZGF0YS5hcnJvd1N0eWxlcyk7XG4gIH1cblxuICByZXR1cm4gZGF0YTtcbn1cblxuLyoqXG4gKiBTZXQgdGhlIHgtcGxhY2VtZW50IGF0dHJpYnV0ZSBiZWZvcmUgZXZlcnl0aGluZyBlbHNlIGJlY2F1c2UgaXQgY291bGQgYmUgdXNlZFxuICogdG8gYWRkIG1hcmdpbnMgdG8gdGhlIHBvcHBlciBtYXJnaW5zIG5lZWRzIHRvIGJlIGNhbGN1bGF0ZWQgdG8gZ2V0IHRoZVxuICogY29ycmVjdCBwb3BwZXIgb2Zmc2V0cy5cbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIubW9kaWZpZXJzXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSByZWZlcmVuY2UgLSBUaGUgcmVmZXJlbmNlIGVsZW1lbnQgdXNlZCB0byBwb3NpdGlvbiB0aGUgcG9wcGVyXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwb3BwZXIgLSBUaGUgSFRNTCBlbGVtZW50IHVzZWQgYXMgcG9wcGVyXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIFBvcHBlci5qcyBvcHRpb25zXG4gKi9cbmZ1bmN0aW9uIGFwcGx5U3R5bGVPbkxvYWQocmVmZXJlbmNlLCBwb3BwZXIsIG9wdGlvbnMsIG1vZGlmaWVyT3B0aW9ucywgc3RhdGUpIHtcbiAgLy8gY29tcHV0ZSByZWZlcmVuY2UgZWxlbWVudCBvZmZzZXRzXG4gIHZhciByZWZlcmVuY2VPZmZzZXRzID0gZ2V0UmVmZXJlbmNlT2Zmc2V0cyhzdGF0ZSwgcG9wcGVyLCByZWZlcmVuY2UsIG9wdGlvbnMucG9zaXRpb25GaXhlZCk7XG5cbiAgLy8gY29tcHV0ZSBhdXRvIHBsYWNlbWVudCwgc3RvcmUgcGxhY2VtZW50IGluc2lkZSB0aGUgZGF0YSBvYmplY3QsXG4gIC8vIG1vZGlmaWVycyB3aWxsIGJlIGFibGUgdG8gZWRpdCBgcGxhY2VtZW50YCBpZiBuZWVkZWRcbiAgLy8gYW5kIHJlZmVyIHRvIG9yaWdpbmFsUGxhY2VtZW50IHRvIGtub3cgdGhlIG9yaWdpbmFsIHZhbHVlXG4gIHZhciBwbGFjZW1lbnQgPSBjb21wdXRlQXV0b1BsYWNlbWVudChvcHRpb25zLnBsYWNlbWVudCwgcmVmZXJlbmNlT2Zmc2V0cywgcG9wcGVyLCByZWZlcmVuY2UsIG9wdGlvbnMubW9kaWZpZXJzLmZsaXAuYm91bmRhcmllc0VsZW1lbnQsIG9wdGlvbnMubW9kaWZpZXJzLmZsaXAucGFkZGluZyk7XG5cbiAgcG9wcGVyLnNldEF0dHJpYnV0ZSgneC1wbGFjZW1lbnQnLCBwbGFjZW1lbnQpO1xuXG4gIC8vIEFwcGx5IGBwb3NpdGlvbmAgdG8gcG9wcGVyIGJlZm9yZSBhbnl0aGluZyBlbHNlIGJlY2F1c2VcbiAgLy8gd2l0aG91dCB0aGUgcG9zaXRpb24gYXBwbGllZCB3ZSBjYW4ndCBndWFyYW50ZWUgY29ycmVjdCBjb21wdXRhdGlvbnNcbiAgc2V0U3R5bGVzKHBvcHBlciwgeyBwb3NpdGlvbjogb3B0aW9ucy5wb3NpdGlvbkZpeGVkID8gJ2ZpeGVkJyA6ICdhYnNvbHV0ZScgfSk7XG5cbiAgcmV0dXJuIG9wdGlvbnM7XG59XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge09iamVjdH0gZGF0YSAtIFRoZSBkYXRhIG9iamVjdCBnZW5lcmF0ZWQgYnkgYHVwZGF0ZWAgbWV0aG9kXG4gKiBAYXJndW1lbnQge0Jvb2xlYW59IHNob3VsZFJvdW5kIC0gSWYgdGhlIG9mZnNldHMgc2hvdWxkIGJlIHJvdW5kZWQgYXQgYWxsXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgcG9wcGVyJ3MgcG9zaXRpb24gb2Zmc2V0cyByb3VuZGVkXG4gKlxuICogVGhlIHRhbGUgb2YgcGl4ZWwtcGVyZmVjdCBwb3NpdGlvbmluZy4gSXQncyBzdGlsbCBub3QgMTAwJSBwZXJmZWN0LCBidXQgYXNcbiAqIGdvb2QgYXMgaXQgY2FuIGJlIHdpdGhpbiByZWFzb24uXG4gKiBEaXNjdXNzaW9uIGhlcmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9GZXpWcmFzdGEvcG9wcGVyLmpzL3B1bGwvNzE1XG4gKlxuICogTG93IERQSSBzY3JlZW5zIGNhdXNlIGEgcG9wcGVyIHRvIGJlIGJsdXJyeSBpZiBub3QgdXNpbmcgZnVsbCBwaXhlbHMgKFNhZmFyaVxuICogYXMgd2VsbCBvbiBIaWdoIERQSSBzY3JlZW5zKS5cbiAqXG4gKiBGaXJlZm94IHByZWZlcnMgbm8gcm91bmRpbmcgZm9yIHBvc2l0aW9uaW5nIGFuZCBkb2VzIG5vdCBoYXZlIGJsdXJyaW5lc3Mgb25cbiAqIGhpZ2ggRFBJIHNjcmVlbnMuXG4gKlxuICogT25seSBob3Jpem9udGFsIHBsYWNlbWVudCBhbmQgbGVmdC9yaWdodCB2YWx1ZXMgbmVlZCB0byBiZSBjb25zaWRlcmVkLlxuICovXG5mdW5jdGlvbiBnZXRSb3VuZGVkT2Zmc2V0cyhkYXRhLCBzaG91bGRSb3VuZCkge1xuICB2YXIgX2RhdGEkb2Zmc2V0cyA9IGRhdGEub2Zmc2V0cyxcbiAgICAgIHBvcHBlciA9IF9kYXRhJG9mZnNldHMucG9wcGVyLFxuICAgICAgcmVmZXJlbmNlID0gX2RhdGEkb2Zmc2V0cy5yZWZlcmVuY2U7XG4gIHZhciByb3VuZCA9IE1hdGgucm91bmQsXG4gICAgICBmbG9vciA9IE1hdGguZmxvb3I7XG5cbiAgdmFyIG5vUm91bmQgPSBmdW5jdGlvbiBub1JvdW5kKHYpIHtcbiAgICByZXR1cm4gdjtcbiAgfTtcblxuICB2YXIgcmVmZXJlbmNlV2lkdGggPSByb3VuZChyZWZlcmVuY2Uud2lkdGgpO1xuICB2YXIgcG9wcGVyV2lkdGggPSByb3VuZChwb3BwZXIud2lkdGgpO1xuXG4gIHZhciBpc1ZlcnRpY2FsID0gWydsZWZ0JywgJ3JpZ2h0J10uaW5kZXhPZihkYXRhLnBsYWNlbWVudCkgIT09IC0xO1xuICB2YXIgaXNWYXJpYXRpb24gPSBkYXRhLnBsYWNlbWVudC5pbmRleE9mKCctJykgIT09IC0xO1xuICB2YXIgc2FtZVdpZHRoUGFyaXR5ID0gcmVmZXJlbmNlV2lkdGggJSAyID09PSBwb3BwZXJXaWR0aCAlIDI7XG4gIHZhciBib3RoT2RkV2lkdGggPSByZWZlcmVuY2VXaWR0aCAlIDIgPT09IDEgJiYgcG9wcGVyV2lkdGggJSAyID09PSAxO1xuXG4gIHZhciBob3Jpem9udGFsVG9JbnRlZ2VyID0gIXNob3VsZFJvdW5kID8gbm9Sb3VuZCA6IGlzVmVydGljYWwgfHwgaXNWYXJpYXRpb24gfHwgc2FtZVdpZHRoUGFyaXR5ID8gcm91bmQgOiBmbG9vcjtcbiAgdmFyIHZlcnRpY2FsVG9JbnRlZ2VyID0gIXNob3VsZFJvdW5kID8gbm9Sb3VuZCA6IHJvdW5kO1xuXG4gIHJldHVybiB7XG4gICAgbGVmdDogaG9yaXpvbnRhbFRvSW50ZWdlcihib3RoT2RkV2lkdGggJiYgIWlzVmFyaWF0aW9uICYmIHNob3VsZFJvdW5kID8gcG9wcGVyLmxlZnQgLSAxIDogcG9wcGVyLmxlZnQpLFxuICAgIHRvcDogdmVydGljYWxUb0ludGVnZXIocG9wcGVyLnRvcCksXG4gICAgYm90dG9tOiB2ZXJ0aWNhbFRvSW50ZWdlcihwb3BwZXIuYm90dG9tKSxcbiAgICByaWdodDogaG9yaXpvbnRhbFRvSW50ZWdlcihwb3BwZXIucmlnaHQpXG4gIH07XG59XG5cbnZhciBpc0ZpcmVmb3ggPSBpc0Jyb3dzZXIgJiYgL0ZpcmVmb3gvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuXG4vKipcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIE1vZGlmaWVyc1xuICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEgLSBUaGUgZGF0YSBvYmplY3QgZ2VuZXJhdGVkIGJ5IGB1cGRhdGVgIG1ldGhvZFxuICogQGFyZ3VtZW50IHtPYmplY3R9IG9wdGlvbnMgLSBNb2RpZmllcnMgY29uZmlndXJhdGlvbiBhbmQgb3B0aW9uc1xuICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZFxuICovXG5mdW5jdGlvbiBjb21wdXRlU3R5bGUoZGF0YSwgb3B0aW9ucykge1xuICB2YXIgeCA9IG9wdGlvbnMueCxcbiAgICAgIHkgPSBvcHRpb25zLnk7XG4gIHZhciBwb3BwZXIgPSBkYXRhLm9mZnNldHMucG9wcGVyO1xuXG4gIC8vIFJlbW92ZSB0aGlzIGxlZ2FjeSBzdXBwb3J0IGluIFBvcHBlci5qcyB2MlxuXG4gIHZhciBsZWdhY3lHcHVBY2NlbGVyYXRpb25PcHRpb24gPSBmaW5kKGRhdGEuaW5zdGFuY2UubW9kaWZpZXJzLCBmdW5jdGlvbiAobW9kaWZpZXIpIHtcbiAgICByZXR1cm4gbW9kaWZpZXIubmFtZSA9PT0gJ2FwcGx5U3R5bGUnO1xuICB9KS5ncHVBY2NlbGVyYXRpb247XG4gIGlmIChsZWdhY3lHcHVBY2NlbGVyYXRpb25PcHRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbnNvbGUud2FybignV0FSTklORzogYGdwdUFjY2VsZXJhdGlvbmAgb3B0aW9uIG1vdmVkIHRvIGBjb21wdXRlU3R5bGVgIG1vZGlmaWVyIGFuZCB3aWxsIG5vdCBiZSBzdXBwb3J0ZWQgaW4gZnV0dXJlIHZlcnNpb25zIG9mIFBvcHBlci5qcyEnKTtcbiAgfVxuICB2YXIgZ3B1QWNjZWxlcmF0aW9uID0gbGVnYWN5R3B1QWNjZWxlcmF0aW9uT3B0aW9uICE9PSB1bmRlZmluZWQgPyBsZWdhY3lHcHVBY2NlbGVyYXRpb25PcHRpb24gOiBvcHRpb25zLmdwdUFjY2VsZXJhdGlvbjtcblxuICB2YXIgb2Zmc2V0UGFyZW50ID0gZ2V0T2Zmc2V0UGFyZW50KGRhdGEuaW5zdGFuY2UucG9wcGVyKTtcbiAgdmFyIG9mZnNldFBhcmVudFJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3Qob2Zmc2V0UGFyZW50KTtcblxuICAvLyBTdHlsZXNcbiAgdmFyIHN0eWxlcyA9IHtcbiAgICBwb3NpdGlvbjogcG9wcGVyLnBvc2l0aW9uXG4gIH07XG5cbiAgdmFyIG9mZnNldHMgPSBnZXRSb3VuZGVkT2Zmc2V0cyhkYXRhLCB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyA8IDIgfHwgIWlzRmlyZWZveCk7XG5cbiAgdmFyIHNpZGVBID0geCA9PT0gJ2JvdHRvbScgPyAndG9wJyA6ICdib3R0b20nO1xuICB2YXIgc2lkZUIgPSB5ID09PSAncmlnaHQnID8gJ2xlZnQnIDogJ3JpZ2h0JztcblxuICAvLyBpZiBncHVBY2NlbGVyYXRpb24gaXMgc2V0IHRvIGB0cnVlYCBhbmQgdHJhbnNmb3JtIGlzIHN1cHBvcnRlZCxcbiAgLy8gIHdlIHVzZSBgdHJhbnNsYXRlM2RgIHRvIGFwcGx5IHRoZSBwb3NpdGlvbiB0byB0aGUgcG9wcGVyIHdlXG4gIC8vIGF1dG9tYXRpY2FsbHkgdXNlIHRoZSBzdXBwb3J0ZWQgcHJlZml4ZWQgdmVyc2lvbiBpZiBuZWVkZWRcbiAgdmFyIHByZWZpeGVkUHJvcGVydHkgPSBnZXRTdXBwb3J0ZWRQcm9wZXJ0eU5hbWUoJ3RyYW5zZm9ybScpO1xuXG4gIC8vIG5vdywgbGV0J3MgbWFrZSBhIHN0ZXAgYmFjayBhbmQgbG9vayBhdCB0aGlzIGNvZGUgY2xvc2VseSAod3RmPylcbiAgLy8gSWYgdGhlIGNvbnRlbnQgb2YgdGhlIHBvcHBlciBncm93cyBvbmNlIGl0J3MgYmVlbiBwb3NpdGlvbmVkLCBpdFxuICAvLyBtYXkgaGFwcGVuIHRoYXQgdGhlIHBvcHBlciBnZXRzIG1pc3BsYWNlZCBiZWNhdXNlIG9mIHRoZSBuZXcgY29udGVudFxuICAvLyBvdmVyZmxvd2luZyBpdHMgcmVmZXJlbmNlIGVsZW1lbnRcbiAgLy8gVG8gYXZvaWQgdGhpcyBwcm9ibGVtLCB3ZSBwcm92aWRlIHR3byBvcHRpb25zICh4IGFuZCB5KSwgd2hpY2ggYWxsb3dcbiAgLy8gdGhlIGNvbnN1bWVyIHRvIGRlZmluZSB0aGUgb2Zmc2V0IG9yaWdpbi5cbiAgLy8gSWYgd2UgcG9zaXRpb24gYSBwb3BwZXIgb24gdG9wIG9mIGEgcmVmZXJlbmNlIGVsZW1lbnQsIHdlIGNhbiBzZXRcbiAgLy8gYHhgIHRvIGB0b3BgIHRvIG1ha2UgdGhlIHBvcHBlciBncm93IHRvd2FyZHMgaXRzIHRvcCBpbnN0ZWFkIG9mXG4gIC8vIGl0cyBib3R0b20uXG4gIHZhciBsZWZ0ID0gdm9pZCAwLFxuICAgICAgdG9wID0gdm9pZCAwO1xuICBpZiAoc2lkZUEgPT09ICdib3R0b20nKSB7XG4gICAgLy8gd2hlbiBvZmZzZXRQYXJlbnQgaXMgPGh0bWw+IHRoZSBwb3NpdGlvbmluZyBpcyByZWxhdGl2ZSB0byB0aGUgYm90dG9tIG9mIHRoZSBzY3JlZW4gKGV4Y2x1ZGluZyB0aGUgc2Nyb2xsYmFyKVxuICAgIC8vIGFuZCBub3QgdGhlIGJvdHRvbSBvZiB0aGUgaHRtbCBlbGVtZW50XG4gICAgaWYgKG9mZnNldFBhcmVudC5ub2RlTmFtZSA9PT0gJ0hUTUwnKSB7XG4gICAgICB0b3AgPSAtb2Zmc2V0UGFyZW50LmNsaWVudEhlaWdodCArIG9mZnNldHMuYm90dG9tO1xuICAgIH0gZWxzZSB7XG4gICAgICB0b3AgPSAtb2Zmc2V0UGFyZW50UmVjdC5oZWlnaHQgKyBvZmZzZXRzLmJvdHRvbTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdG9wID0gb2Zmc2V0cy50b3A7XG4gIH1cbiAgaWYgKHNpZGVCID09PSAncmlnaHQnKSB7XG4gICAgaWYgKG9mZnNldFBhcmVudC5ub2RlTmFtZSA9PT0gJ0hUTUwnKSB7XG4gICAgICBsZWZ0ID0gLW9mZnNldFBhcmVudC5jbGllbnRXaWR0aCArIG9mZnNldHMucmlnaHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxlZnQgPSAtb2Zmc2V0UGFyZW50UmVjdC53aWR0aCArIG9mZnNldHMucmlnaHQ7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGxlZnQgPSBvZmZzZXRzLmxlZnQ7XG4gIH1cbiAgaWYgKGdwdUFjY2VsZXJhdGlvbiAmJiBwcmVmaXhlZFByb3BlcnR5KSB7XG4gICAgc3R5bGVzW3ByZWZpeGVkUHJvcGVydHldID0gJ3RyYW5zbGF0ZTNkKCcgKyBsZWZ0ICsgJ3B4LCAnICsgdG9wICsgJ3B4LCAwKSc7XG4gICAgc3R5bGVzW3NpZGVBXSA9IDA7XG4gICAgc3R5bGVzW3NpZGVCXSA9IDA7XG4gICAgc3R5bGVzLndpbGxDaGFuZ2UgPSAndHJhbnNmb3JtJztcbiAgfSBlbHNlIHtcbiAgICAvLyBvdGh3ZXJpc2UsIHdlIHVzZSB0aGUgc3RhbmRhcmQgYHRvcGAsIGBsZWZ0YCwgYGJvdHRvbWAgYW5kIGByaWdodGAgcHJvcGVydGllc1xuICAgIHZhciBpbnZlcnRUb3AgPSBzaWRlQSA9PT0gJ2JvdHRvbScgPyAtMSA6IDE7XG4gICAgdmFyIGludmVydExlZnQgPSBzaWRlQiA9PT0gJ3JpZ2h0JyA/IC0xIDogMTtcbiAgICBzdHlsZXNbc2lkZUFdID0gdG9wICogaW52ZXJ0VG9wO1xuICAgIHN0eWxlc1tzaWRlQl0gPSBsZWZ0ICogaW52ZXJ0TGVmdDtcbiAgICBzdHlsZXMud2lsbENoYW5nZSA9IHNpZGVBICsgJywgJyArIHNpZGVCO1xuICB9XG5cbiAgLy8gQXR0cmlidXRlc1xuICB2YXIgYXR0cmlidXRlcyA9IHtcbiAgICAneC1wbGFjZW1lbnQnOiBkYXRhLnBsYWNlbWVudFxuICB9O1xuXG4gIC8vIFVwZGF0ZSBgZGF0YWAgYXR0cmlidXRlcywgc3R5bGVzIGFuZCBhcnJvd1N0eWxlc1xuICBkYXRhLmF0dHJpYnV0ZXMgPSBfZXh0ZW5kcyh7fSwgYXR0cmlidXRlcywgZGF0YS5hdHRyaWJ1dGVzKTtcbiAgZGF0YS5zdHlsZXMgPSBfZXh0ZW5kcyh7fSwgc3R5bGVzLCBkYXRhLnN0eWxlcyk7XG4gIGRhdGEuYXJyb3dTdHlsZXMgPSBfZXh0ZW5kcyh7fSwgZGF0YS5vZmZzZXRzLmFycm93LCBkYXRhLmFycm93U3R5bGVzKTtcblxuICByZXR1cm4gZGF0YTtcbn1cblxuLyoqXG4gKiBIZWxwZXIgdXNlZCB0byBrbm93IGlmIHRoZSBnaXZlbiBtb2RpZmllciBkZXBlbmRzIGZyb20gYW5vdGhlciBvbmUuPGJyIC8+XG4gKiBJdCBjaGVja3MgaWYgdGhlIG5lZWRlZCBtb2RpZmllciBpcyBsaXN0ZWQgYW5kIGVuYWJsZWQuXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcGFyYW0ge0FycmF5fSBtb2RpZmllcnMgLSBsaXN0IG9mIG1vZGlmaWVyc1xuICogQHBhcmFtIHtTdHJpbmd9IHJlcXVlc3RpbmdOYW1lIC0gbmFtZSBvZiByZXF1ZXN0aW5nIG1vZGlmaWVyXG4gKiBAcGFyYW0ge1N0cmluZ30gcmVxdWVzdGVkTmFtZSAtIG5hbWUgb2YgcmVxdWVzdGVkIG1vZGlmaWVyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNNb2RpZmllclJlcXVpcmVkKG1vZGlmaWVycywgcmVxdWVzdGluZ05hbWUsIHJlcXVlc3RlZE5hbWUpIHtcbiAgdmFyIHJlcXVlc3RpbmcgPSBmaW5kKG1vZGlmaWVycywgZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgbmFtZSA9IF9yZWYubmFtZTtcbiAgICByZXR1cm4gbmFtZSA9PT0gcmVxdWVzdGluZ05hbWU7XG4gIH0pO1xuXG4gIHZhciBpc1JlcXVpcmVkID0gISFyZXF1ZXN0aW5nICYmIG1vZGlmaWVycy5zb21lKGZ1bmN0aW9uIChtb2RpZmllcikge1xuICAgIHJldHVybiBtb2RpZmllci5uYW1lID09PSByZXF1ZXN0ZWROYW1lICYmIG1vZGlmaWVyLmVuYWJsZWQgJiYgbW9kaWZpZXIub3JkZXIgPCByZXF1ZXN0aW5nLm9yZGVyO1xuICB9KTtcblxuICBpZiAoIWlzUmVxdWlyZWQpIHtcbiAgICB2YXIgX3JlcXVlc3RpbmcgPSAnYCcgKyByZXF1ZXN0aW5nTmFtZSArICdgJztcbiAgICB2YXIgcmVxdWVzdGVkID0gJ2AnICsgcmVxdWVzdGVkTmFtZSArICdgJztcbiAgICBjb25zb2xlLndhcm4ocmVxdWVzdGVkICsgJyBtb2RpZmllciBpcyByZXF1aXJlZCBieSAnICsgX3JlcXVlc3RpbmcgKyAnIG1vZGlmaWVyIGluIG9yZGVyIHRvIHdvcmssIGJlIHN1cmUgdG8gaW5jbHVkZSBpdCBiZWZvcmUgJyArIF9yZXF1ZXN0aW5nICsgJyEnKTtcbiAgfVxuICByZXR1cm4gaXNSZXF1aXJlZDtcbn1cblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBNb2RpZmllcnNcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSB1cGRhdGUgbWV0aG9kXG4gKiBAYXJndW1lbnQge09iamVjdH0gb3B0aW9ucyAtIE1vZGlmaWVycyBjb25maWd1cmF0aW9uIGFuZCBvcHRpb25zXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgZGF0YSBvYmplY3QsIHByb3Blcmx5IG1vZGlmaWVkXG4gKi9cbmZ1bmN0aW9uIGFycm93KGRhdGEsIG9wdGlvbnMpIHtcbiAgdmFyIF9kYXRhJG9mZnNldHMkYXJyb3c7XG5cbiAgLy8gYXJyb3cgZGVwZW5kcyBvbiBrZWVwVG9nZXRoZXIgaW4gb3JkZXIgdG8gd29ya1xuICBpZiAoIWlzTW9kaWZpZXJSZXF1aXJlZChkYXRhLmluc3RhbmNlLm1vZGlmaWVycywgJ2Fycm93JywgJ2tlZXBUb2dldGhlcicpKSB7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICB2YXIgYXJyb3dFbGVtZW50ID0gb3B0aW9ucy5lbGVtZW50O1xuXG4gIC8vIGlmIGFycm93RWxlbWVudCBpcyBhIHN0cmluZywgc3VwcG9zZSBpdCdzIGEgQ1NTIHNlbGVjdG9yXG4gIGlmICh0eXBlb2YgYXJyb3dFbGVtZW50ID09PSAnc3RyaW5nJykge1xuICAgIGFycm93RWxlbWVudCA9IGRhdGEuaW5zdGFuY2UucG9wcGVyLnF1ZXJ5U2VsZWN0b3IoYXJyb3dFbGVtZW50KTtcblxuICAgIC8vIGlmIGFycm93RWxlbWVudCBpcyBub3QgZm91bmQsIGRvbid0IHJ1biB0aGUgbW9kaWZpZXJcbiAgICBpZiAoIWFycm93RWxlbWVudCkge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIGlmIHRoZSBhcnJvd0VsZW1lbnQgaXNuJ3QgYSBxdWVyeSBzZWxlY3RvciB3ZSBtdXN0IGNoZWNrIHRoYXQgdGhlXG4gICAgLy8gcHJvdmlkZWQgRE9NIG5vZGUgaXMgY2hpbGQgb2YgaXRzIHBvcHBlciBub2RlXG4gICAgaWYgKCFkYXRhLmluc3RhbmNlLnBvcHBlci5jb250YWlucyhhcnJvd0VsZW1lbnQpKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1dBUk5JTkc6IGBhcnJvdy5lbGVtZW50YCBtdXN0IGJlIGNoaWxkIG9mIGl0cyBwb3BwZXIgZWxlbWVudCEnKTtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgfVxuXG4gIHZhciBwbGFjZW1lbnQgPSBkYXRhLnBsYWNlbWVudC5zcGxpdCgnLScpWzBdO1xuICB2YXIgX2RhdGEkb2Zmc2V0cyA9IGRhdGEub2Zmc2V0cyxcbiAgICAgIHBvcHBlciA9IF9kYXRhJG9mZnNldHMucG9wcGVyLFxuICAgICAgcmVmZXJlbmNlID0gX2RhdGEkb2Zmc2V0cy5yZWZlcmVuY2U7XG5cbiAgdmFyIGlzVmVydGljYWwgPSBbJ2xlZnQnLCAncmlnaHQnXS5pbmRleE9mKHBsYWNlbWVudCkgIT09IC0xO1xuXG4gIHZhciBsZW4gPSBpc1ZlcnRpY2FsID8gJ2hlaWdodCcgOiAnd2lkdGgnO1xuICB2YXIgc2lkZUNhcGl0YWxpemVkID0gaXNWZXJ0aWNhbCA/ICdUb3AnIDogJ0xlZnQnO1xuICB2YXIgc2lkZSA9IHNpZGVDYXBpdGFsaXplZC50b0xvd2VyQ2FzZSgpO1xuICB2YXIgYWx0U2lkZSA9IGlzVmVydGljYWwgPyAnbGVmdCcgOiAndG9wJztcbiAgdmFyIG9wU2lkZSA9IGlzVmVydGljYWwgPyAnYm90dG9tJyA6ICdyaWdodCc7XG4gIHZhciBhcnJvd0VsZW1lbnRTaXplID0gZ2V0T3V0ZXJTaXplcyhhcnJvd0VsZW1lbnQpW2xlbl07XG5cbiAgLy9cbiAgLy8gZXh0ZW5kcyBrZWVwVG9nZXRoZXIgYmVoYXZpb3IgbWFraW5nIHN1cmUgdGhlIHBvcHBlciBhbmQgaXRzXG4gIC8vIHJlZmVyZW5jZSBoYXZlIGVub3VnaCBwaXhlbHMgaW4gY29uanVuY3Rpb25cbiAgLy9cblxuICAvLyB0b3AvbGVmdCBzaWRlXG4gIGlmIChyZWZlcmVuY2Vbb3BTaWRlXSAtIGFycm93RWxlbWVudFNpemUgPCBwb3BwZXJbc2lkZV0pIHtcbiAgICBkYXRhLm9mZnNldHMucG9wcGVyW3NpZGVdIC09IHBvcHBlcltzaWRlXSAtIChyZWZlcmVuY2Vbb3BTaWRlXSAtIGFycm93RWxlbWVudFNpemUpO1xuICB9XG4gIC8vIGJvdHRvbS9yaWdodCBzaWRlXG4gIGlmIChyZWZlcmVuY2Vbc2lkZV0gKyBhcnJvd0VsZW1lbnRTaXplID4gcG9wcGVyW29wU2lkZV0pIHtcbiAgICBkYXRhLm9mZnNldHMucG9wcGVyW3NpZGVdICs9IHJlZmVyZW5jZVtzaWRlXSArIGFycm93RWxlbWVudFNpemUgLSBwb3BwZXJbb3BTaWRlXTtcbiAgfVxuICBkYXRhLm9mZnNldHMucG9wcGVyID0gZ2V0Q2xpZW50UmVjdChkYXRhLm9mZnNldHMucG9wcGVyKTtcblxuICAvLyBjb21wdXRlIGNlbnRlciBvZiB0aGUgcG9wcGVyXG4gIHZhciBjZW50ZXIgPSByZWZlcmVuY2Vbc2lkZV0gKyByZWZlcmVuY2VbbGVuXSAvIDIgLSBhcnJvd0VsZW1lbnRTaXplIC8gMjtcblxuICAvLyBDb21wdXRlIHRoZSBzaWRlVmFsdWUgdXNpbmcgdGhlIHVwZGF0ZWQgcG9wcGVyIG9mZnNldHNcbiAgLy8gdGFrZSBwb3BwZXIgbWFyZ2luIGluIGFjY291bnQgYmVjYXVzZSB3ZSBkb24ndCBoYXZlIHRoaXMgaW5mbyBhdmFpbGFibGVcbiAgdmFyIGNzcyA9IGdldFN0eWxlQ29tcHV0ZWRQcm9wZXJ0eShkYXRhLmluc3RhbmNlLnBvcHBlcik7XG4gIHZhciBwb3BwZXJNYXJnaW5TaWRlID0gcGFyc2VGbG9hdChjc3NbJ21hcmdpbicgKyBzaWRlQ2FwaXRhbGl6ZWRdKTtcbiAgdmFyIHBvcHBlckJvcmRlclNpZGUgPSBwYXJzZUZsb2F0KGNzc1snYm9yZGVyJyArIHNpZGVDYXBpdGFsaXplZCArICdXaWR0aCddKTtcbiAgdmFyIHNpZGVWYWx1ZSA9IGNlbnRlciAtIGRhdGEub2Zmc2V0cy5wb3BwZXJbc2lkZV0gLSBwb3BwZXJNYXJnaW5TaWRlIC0gcG9wcGVyQm9yZGVyU2lkZTtcblxuICAvLyBwcmV2ZW50IGFycm93RWxlbWVudCBmcm9tIGJlaW5nIHBsYWNlZCBub3QgY29udGlndW91c2x5IHRvIGl0cyBwb3BwZXJcbiAgc2lkZVZhbHVlID0gTWF0aC5tYXgoTWF0aC5taW4ocG9wcGVyW2xlbl0gLSBhcnJvd0VsZW1lbnRTaXplLCBzaWRlVmFsdWUpLCAwKTtcblxuICBkYXRhLmFycm93RWxlbWVudCA9IGFycm93RWxlbWVudDtcbiAgZGF0YS5vZmZzZXRzLmFycm93ID0gKF9kYXRhJG9mZnNldHMkYXJyb3cgPSB7fSwgZGVmaW5lUHJvcGVydHkoX2RhdGEkb2Zmc2V0cyRhcnJvdywgc2lkZSwgTWF0aC5yb3VuZChzaWRlVmFsdWUpKSwgZGVmaW5lUHJvcGVydHkoX2RhdGEkb2Zmc2V0cyRhcnJvdywgYWx0U2lkZSwgJycpLCBfZGF0YSRvZmZzZXRzJGFycm93KTtcblxuICByZXR1cm4gZGF0YTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIG9wcG9zaXRlIHBsYWNlbWVudCB2YXJpYXRpb24gb2YgdGhlIGdpdmVuIG9uZVxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtTdHJpbmd9IHBsYWNlbWVudCB2YXJpYXRpb25cbiAqIEByZXR1cm5zIHtTdHJpbmd9IGZsaXBwZWQgcGxhY2VtZW50IHZhcmlhdGlvblxuICovXG5mdW5jdGlvbiBnZXRPcHBvc2l0ZVZhcmlhdGlvbih2YXJpYXRpb24pIHtcbiAgaWYgKHZhcmlhdGlvbiA9PT0gJ2VuZCcpIHtcbiAgICByZXR1cm4gJ3N0YXJ0JztcbiAgfSBlbHNlIGlmICh2YXJpYXRpb24gPT09ICdzdGFydCcpIHtcbiAgICByZXR1cm4gJ2VuZCc7XG4gIH1cbiAgcmV0dXJuIHZhcmlhdGlvbjtcbn1cblxuLyoqXG4gKiBMaXN0IG9mIGFjY2VwdGVkIHBsYWNlbWVudHMgdG8gdXNlIGFzIHZhbHVlcyBvZiB0aGUgYHBsYWNlbWVudGAgb3B0aW9uLjxiciAvPlxuICogVmFsaWQgcGxhY2VtZW50cyBhcmU6XG4gKiAtIGBhdXRvYFxuICogLSBgdG9wYFxuICogLSBgcmlnaHRgXG4gKiAtIGBib3R0b21gXG4gKiAtIGBsZWZ0YFxuICpcbiAqIEVhY2ggcGxhY2VtZW50IGNhbiBoYXZlIGEgdmFyaWF0aW9uIGZyb20gdGhpcyBsaXN0OlxuICogLSBgLXN0YXJ0YFxuICogLSBgLWVuZGBcbiAqXG4gKiBWYXJpYXRpb25zIGFyZSBpbnRlcnByZXRlZCBlYXNpbHkgaWYgeW91IHRoaW5rIG9mIHRoZW0gYXMgdGhlIGxlZnQgdG8gcmlnaHRcbiAqIHdyaXR0ZW4gbGFuZ3VhZ2VzLiBIb3Jpem9udGFsbHkgKGB0b3BgIGFuZCBgYm90dG9tYCksIGBzdGFydGAgaXMgbGVmdCBhbmQgYGVuZGBcbiAqIGlzIHJpZ2h0LjxiciAvPlxuICogVmVydGljYWxseSAoYGxlZnRgIGFuZCBgcmlnaHRgKSwgYHN0YXJ0YCBpcyB0b3AgYW5kIGBlbmRgIGlzIGJvdHRvbS5cbiAqXG4gKiBTb21lIHZhbGlkIGV4YW1wbGVzIGFyZTpcbiAqIC0gYHRvcC1lbmRgIChvbiB0b3Agb2YgcmVmZXJlbmNlLCByaWdodCBhbGlnbmVkKVxuICogLSBgcmlnaHQtc3RhcnRgIChvbiByaWdodCBvZiByZWZlcmVuY2UsIHRvcCBhbGlnbmVkKVxuICogLSBgYm90dG9tYCAob24gYm90dG9tLCBjZW50ZXJlZClcbiAqIC0gYGF1dG8tZW5kYCAob24gdGhlIHNpZGUgd2l0aCBtb3JlIHNwYWNlIGF2YWlsYWJsZSwgYWxpZ25tZW50IGRlcGVuZHMgYnkgcGxhY2VtZW50KVxuICpcbiAqIEBzdGF0aWNcbiAqIEB0eXBlIHtBcnJheX1cbiAqIEBlbnVtIHtTdHJpbmd9XG4gKiBAcmVhZG9ubHlcbiAqIEBtZXRob2QgcGxhY2VtZW50c1xuICogQG1lbWJlcm9mIFBvcHBlclxuICovXG52YXIgcGxhY2VtZW50cyA9IFsnYXV0by1zdGFydCcsICdhdXRvJywgJ2F1dG8tZW5kJywgJ3RvcC1zdGFydCcsICd0b3AnLCAndG9wLWVuZCcsICdyaWdodC1zdGFydCcsICdyaWdodCcsICdyaWdodC1lbmQnLCAnYm90dG9tLWVuZCcsICdib3R0b20nLCAnYm90dG9tLXN0YXJ0JywgJ2xlZnQtZW5kJywgJ2xlZnQnLCAnbGVmdC1zdGFydCddO1xuXG4vLyBHZXQgcmlkIG9mIGBhdXRvYCBgYXV0by1zdGFydGAgYW5kIGBhdXRvLWVuZGBcbnZhciB2YWxpZFBsYWNlbWVudHMgPSBwbGFjZW1lbnRzLnNsaWNlKDMpO1xuXG4vKipcbiAqIEdpdmVuIGFuIGluaXRpYWwgcGxhY2VtZW50LCByZXR1cm5zIGFsbCB0aGUgc3Vic2VxdWVudCBwbGFjZW1lbnRzXG4gKiBjbG9ja3dpc2UgKG9yIGNvdW50ZXItY2xvY2t3aXNlKS5cbiAqXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge1N0cmluZ30gcGxhY2VtZW50IC0gQSB2YWxpZCBwbGFjZW1lbnQgKGl0IGFjY2VwdHMgdmFyaWF0aW9ucylcbiAqIEBhcmd1bWVudCB7Qm9vbGVhbn0gY291bnRlciAtIFNldCB0byB0cnVlIHRvIHdhbGsgdGhlIHBsYWNlbWVudHMgY291bnRlcmNsb2Nrd2lzZVxuICogQHJldHVybnMge0FycmF5fSBwbGFjZW1lbnRzIGluY2x1ZGluZyB0aGVpciB2YXJpYXRpb25zXG4gKi9cbmZ1bmN0aW9uIGNsb2Nrd2lzZShwbGFjZW1lbnQpIHtcbiAgdmFyIGNvdW50ZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuXG4gIHZhciBpbmRleCA9IHZhbGlkUGxhY2VtZW50cy5pbmRleE9mKHBsYWNlbWVudCk7XG4gIHZhciBhcnIgPSB2YWxpZFBsYWNlbWVudHMuc2xpY2UoaW5kZXggKyAxKS5jb25jYXQodmFsaWRQbGFjZW1lbnRzLnNsaWNlKDAsIGluZGV4KSk7XG4gIHJldHVybiBjb3VudGVyID8gYXJyLnJldmVyc2UoKSA6IGFycjtcbn1cblxudmFyIEJFSEFWSU9SUyA9IHtcbiAgRkxJUDogJ2ZsaXAnLFxuICBDTE9DS1dJU0U6ICdjbG9ja3dpc2UnLFxuICBDT1VOVEVSQ0xPQ0tXSVNFOiAnY291bnRlcmNsb2Nrd2lzZSdcbn07XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgTW9kaWZpZXJzXG4gKiBAYXJndW1lbnQge09iamVjdH0gZGF0YSAtIFRoZSBkYXRhIG9iamVjdCBnZW5lcmF0ZWQgYnkgdXBkYXRlIG1ldGhvZFxuICogQGFyZ3VtZW50IHtPYmplY3R9IG9wdGlvbnMgLSBNb2RpZmllcnMgY29uZmlndXJhdGlvbiBhbmQgb3B0aW9uc1xuICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZFxuICovXG5mdW5jdGlvbiBmbGlwKGRhdGEsIG9wdGlvbnMpIHtcbiAgLy8gaWYgYGlubmVyYCBtb2RpZmllciBpcyBlbmFibGVkLCB3ZSBjYW4ndCB1c2UgdGhlIGBmbGlwYCBtb2RpZmllclxuICBpZiAoaXNNb2RpZmllckVuYWJsZWQoZGF0YS5pbnN0YW5jZS5tb2RpZmllcnMsICdpbm5lcicpKSB7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICBpZiAoZGF0YS5mbGlwcGVkICYmIGRhdGEucGxhY2VtZW50ID09PSBkYXRhLm9yaWdpbmFsUGxhY2VtZW50KSB7XG4gICAgLy8gc2VlbXMgbGlrZSBmbGlwIGlzIHRyeWluZyB0byBsb29wLCBwcm9iYWJseSB0aGVyZSdzIG5vdCBlbm91Z2ggc3BhY2Ugb24gYW55IG9mIHRoZSBmbGlwcGFibGUgc2lkZXNcbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIHZhciBib3VuZGFyaWVzID0gZ2V0Qm91bmRhcmllcyhkYXRhLmluc3RhbmNlLnBvcHBlciwgZGF0YS5pbnN0YW5jZS5yZWZlcmVuY2UsIG9wdGlvbnMucGFkZGluZywgb3B0aW9ucy5ib3VuZGFyaWVzRWxlbWVudCwgZGF0YS5wb3NpdGlvbkZpeGVkKTtcblxuICB2YXIgcGxhY2VtZW50ID0gZGF0YS5wbGFjZW1lbnQuc3BsaXQoJy0nKVswXTtcbiAgdmFyIHBsYWNlbWVudE9wcG9zaXRlID0gZ2V0T3Bwb3NpdGVQbGFjZW1lbnQocGxhY2VtZW50KTtcbiAgdmFyIHZhcmlhdGlvbiA9IGRhdGEucGxhY2VtZW50LnNwbGl0KCctJylbMV0gfHwgJyc7XG5cbiAgdmFyIGZsaXBPcmRlciA9IFtdO1xuXG4gIHN3aXRjaCAob3B0aW9ucy5iZWhhdmlvcikge1xuICAgIGNhc2UgQkVIQVZJT1JTLkZMSVA6XG4gICAgICBmbGlwT3JkZXIgPSBbcGxhY2VtZW50LCBwbGFjZW1lbnRPcHBvc2l0ZV07XG4gICAgICBicmVhaztcbiAgICBjYXNlIEJFSEFWSU9SUy5DTE9DS1dJU0U6XG4gICAgICBmbGlwT3JkZXIgPSBjbG9ja3dpc2UocGxhY2VtZW50KTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQkVIQVZJT1JTLkNPVU5URVJDTE9DS1dJU0U6XG4gICAgICBmbGlwT3JkZXIgPSBjbG9ja3dpc2UocGxhY2VtZW50LCB0cnVlKTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBmbGlwT3JkZXIgPSBvcHRpb25zLmJlaGF2aW9yO1xuICB9XG5cbiAgZmxpcE9yZGVyLmZvckVhY2goZnVuY3Rpb24gKHN0ZXAsIGluZGV4KSB7XG4gICAgaWYgKHBsYWNlbWVudCAhPT0gc3RlcCB8fCBmbGlwT3JkZXIubGVuZ3RoID09PSBpbmRleCArIDEpIHtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIHBsYWNlbWVudCA9IGRhdGEucGxhY2VtZW50LnNwbGl0KCctJylbMF07XG4gICAgcGxhY2VtZW50T3Bwb3NpdGUgPSBnZXRPcHBvc2l0ZVBsYWNlbWVudChwbGFjZW1lbnQpO1xuXG4gICAgdmFyIHBvcHBlck9mZnNldHMgPSBkYXRhLm9mZnNldHMucG9wcGVyO1xuICAgIHZhciByZWZPZmZzZXRzID0gZGF0YS5vZmZzZXRzLnJlZmVyZW5jZTtcblxuICAgIC8vIHVzaW5nIGZsb29yIGJlY2F1c2UgdGhlIHJlZmVyZW5jZSBvZmZzZXRzIG1heSBjb250YWluIGRlY2ltYWxzIHdlIGFyZSBub3QgZ29pbmcgdG8gY29uc2lkZXIgaGVyZVxuICAgIHZhciBmbG9vciA9IE1hdGguZmxvb3I7XG4gICAgdmFyIG92ZXJsYXBzUmVmID0gcGxhY2VtZW50ID09PSAnbGVmdCcgJiYgZmxvb3IocG9wcGVyT2Zmc2V0cy5yaWdodCkgPiBmbG9vcihyZWZPZmZzZXRzLmxlZnQpIHx8IHBsYWNlbWVudCA9PT0gJ3JpZ2h0JyAmJiBmbG9vcihwb3BwZXJPZmZzZXRzLmxlZnQpIDwgZmxvb3IocmVmT2Zmc2V0cy5yaWdodCkgfHwgcGxhY2VtZW50ID09PSAndG9wJyAmJiBmbG9vcihwb3BwZXJPZmZzZXRzLmJvdHRvbSkgPiBmbG9vcihyZWZPZmZzZXRzLnRvcCkgfHwgcGxhY2VtZW50ID09PSAnYm90dG9tJyAmJiBmbG9vcihwb3BwZXJPZmZzZXRzLnRvcCkgPCBmbG9vcihyZWZPZmZzZXRzLmJvdHRvbSk7XG5cbiAgICB2YXIgb3ZlcmZsb3dzTGVmdCA9IGZsb29yKHBvcHBlck9mZnNldHMubGVmdCkgPCBmbG9vcihib3VuZGFyaWVzLmxlZnQpO1xuICAgIHZhciBvdmVyZmxvd3NSaWdodCA9IGZsb29yKHBvcHBlck9mZnNldHMucmlnaHQpID4gZmxvb3IoYm91bmRhcmllcy5yaWdodCk7XG4gICAgdmFyIG92ZXJmbG93c1RvcCA9IGZsb29yKHBvcHBlck9mZnNldHMudG9wKSA8IGZsb29yKGJvdW5kYXJpZXMudG9wKTtcbiAgICB2YXIgb3ZlcmZsb3dzQm90dG9tID0gZmxvb3IocG9wcGVyT2Zmc2V0cy5ib3R0b20pID4gZmxvb3IoYm91bmRhcmllcy5ib3R0b20pO1xuXG4gICAgdmFyIG92ZXJmbG93c0JvdW5kYXJpZXMgPSBwbGFjZW1lbnQgPT09ICdsZWZ0JyAmJiBvdmVyZmxvd3NMZWZ0IHx8IHBsYWNlbWVudCA9PT0gJ3JpZ2h0JyAmJiBvdmVyZmxvd3NSaWdodCB8fCBwbGFjZW1lbnQgPT09ICd0b3AnICYmIG92ZXJmbG93c1RvcCB8fCBwbGFjZW1lbnQgPT09ICdib3R0b20nICYmIG92ZXJmbG93c0JvdHRvbTtcblxuICAgIC8vIGZsaXAgdGhlIHZhcmlhdGlvbiBpZiByZXF1aXJlZFxuICAgIHZhciBpc1ZlcnRpY2FsID0gWyd0b3AnLCAnYm90dG9tJ10uaW5kZXhPZihwbGFjZW1lbnQpICE9PSAtMTtcblxuICAgIC8vIGZsaXBzIHZhcmlhdGlvbiBpZiByZWZlcmVuY2UgZWxlbWVudCBvdmVyZmxvd3MgYm91bmRhcmllc1xuICAgIHZhciBmbGlwcGVkVmFyaWF0aW9uQnlSZWYgPSAhIW9wdGlvbnMuZmxpcFZhcmlhdGlvbnMgJiYgKGlzVmVydGljYWwgJiYgdmFyaWF0aW9uID09PSAnc3RhcnQnICYmIG92ZXJmbG93c0xlZnQgfHwgaXNWZXJ0aWNhbCAmJiB2YXJpYXRpb24gPT09ICdlbmQnICYmIG92ZXJmbG93c1JpZ2h0IHx8ICFpc1ZlcnRpY2FsICYmIHZhcmlhdGlvbiA9PT0gJ3N0YXJ0JyAmJiBvdmVyZmxvd3NUb3AgfHwgIWlzVmVydGljYWwgJiYgdmFyaWF0aW9uID09PSAnZW5kJyAmJiBvdmVyZmxvd3NCb3R0b20pO1xuXG4gICAgLy8gZmxpcHMgdmFyaWF0aW9uIGlmIHBvcHBlciBjb250ZW50IG92ZXJmbG93cyBib3VuZGFyaWVzXG4gICAgdmFyIGZsaXBwZWRWYXJpYXRpb25CeUNvbnRlbnQgPSAhIW9wdGlvbnMuZmxpcFZhcmlhdGlvbnNCeUNvbnRlbnQgJiYgKGlzVmVydGljYWwgJiYgdmFyaWF0aW9uID09PSAnc3RhcnQnICYmIG92ZXJmbG93c1JpZ2h0IHx8IGlzVmVydGljYWwgJiYgdmFyaWF0aW9uID09PSAnZW5kJyAmJiBvdmVyZmxvd3NMZWZ0IHx8ICFpc1ZlcnRpY2FsICYmIHZhcmlhdGlvbiA9PT0gJ3N0YXJ0JyAmJiBvdmVyZmxvd3NCb3R0b20gfHwgIWlzVmVydGljYWwgJiYgdmFyaWF0aW9uID09PSAnZW5kJyAmJiBvdmVyZmxvd3NUb3ApO1xuXG4gICAgdmFyIGZsaXBwZWRWYXJpYXRpb24gPSBmbGlwcGVkVmFyaWF0aW9uQnlSZWYgfHwgZmxpcHBlZFZhcmlhdGlvbkJ5Q29udGVudDtcblxuICAgIGlmIChvdmVybGFwc1JlZiB8fCBvdmVyZmxvd3NCb3VuZGFyaWVzIHx8IGZsaXBwZWRWYXJpYXRpb24pIHtcbiAgICAgIC8vIHRoaXMgYm9vbGVhbiB0byBkZXRlY3QgYW55IGZsaXAgbG9vcFxuICAgICAgZGF0YS5mbGlwcGVkID0gdHJ1ZTtcblxuICAgICAgaWYgKG92ZXJsYXBzUmVmIHx8IG92ZXJmbG93c0JvdW5kYXJpZXMpIHtcbiAgICAgICAgcGxhY2VtZW50ID0gZmxpcE9yZGVyW2luZGV4ICsgMV07XG4gICAgICB9XG5cbiAgICAgIGlmIChmbGlwcGVkVmFyaWF0aW9uKSB7XG4gICAgICAgIHZhcmlhdGlvbiA9IGdldE9wcG9zaXRlVmFyaWF0aW9uKHZhcmlhdGlvbik7XG4gICAgICB9XG5cbiAgICAgIGRhdGEucGxhY2VtZW50ID0gcGxhY2VtZW50ICsgKHZhcmlhdGlvbiA/ICctJyArIHZhcmlhdGlvbiA6ICcnKTtcblxuICAgICAgLy8gdGhpcyBvYmplY3QgY29udGFpbnMgYHBvc2l0aW9uYCwgd2Ugd2FudCB0byBwcmVzZXJ2ZSBpdCBhbG9uZyB3aXRoXG4gICAgICAvLyBhbnkgYWRkaXRpb25hbCBwcm9wZXJ0eSB3ZSBtYXkgYWRkIGluIHRoZSBmdXR1cmVcbiAgICAgIGRhdGEub2Zmc2V0cy5wb3BwZXIgPSBfZXh0ZW5kcyh7fSwgZGF0YS5vZmZzZXRzLnBvcHBlciwgZ2V0UG9wcGVyT2Zmc2V0cyhkYXRhLmluc3RhbmNlLnBvcHBlciwgZGF0YS5vZmZzZXRzLnJlZmVyZW5jZSwgZGF0YS5wbGFjZW1lbnQpKTtcblxuICAgICAgZGF0YSA9IHJ1bk1vZGlmaWVycyhkYXRhLmluc3RhbmNlLm1vZGlmaWVycywgZGF0YSwgJ2ZsaXAnKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gZGF0YTtcbn1cblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBNb2RpZmllcnNcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSB1cGRhdGUgbWV0aG9kXG4gKiBAYXJndW1lbnQge09iamVjdH0gb3B0aW9ucyAtIE1vZGlmaWVycyBjb25maWd1cmF0aW9uIGFuZCBvcHRpb25zXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgZGF0YSBvYmplY3QsIHByb3Blcmx5IG1vZGlmaWVkXG4gKi9cbmZ1bmN0aW9uIGtlZXBUb2dldGhlcihkYXRhKSB7XG4gIHZhciBfZGF0YSRvZmZzZXRzID0gZGF0YS5vZmZzZXRzLFxuICAgICAgcG9wcGVyID0gX2RhdGEkb2Zmc2V0cy5wb3BwZXIsXG4gICAgICByZWZlcmVuY2UgPSBfZGF0YSRvZmZzZXRzLnJlZmVyZW5jZTtcblxuICB2YXIgcGxhY2VtZW50ID0gZGF0YS5wbGFjZW1lbnQuc3BsaXQoJy0nKVswXTtcbiAgdmFyIGZsb29yID0gTWF0aC5mbG9vcjtcbiAgdmFyIGlzVmVydGljYWwgPSBbJ3RvcCcsICdib3R0b20nXS5pbmRleE9mKHBsYWNlbWVudCkgIT09IC0xO1xuICB2YXIgc2lkZSA9IGlzVmVydGljYWwgPyAncmlnaHQnIDogJ2JvdHRvbSc7XG4gIHZhciBvcFNpZGUgPSBpc1ZlcnRpY2FsID8gJ2xlZnQnIDogJ3RvcCc7XG4gIHZhciBtZWFzdXJlbWVudCA9IGlzVmVydGljYWwgPyAnd2lkdGgnIDogJ2hlaWdodCc7XG5cbiAgaWYgKHBvcHBlcltzaWRlXSA8IGZsb29yKHJlZmVyZW5jZVtvcFNpZGVdKSkge1xuICAgIGRhdGEub2Zmc2V0cy5wb3BwZXJbb3BTaWRlXSA9IGZsb29yKHJlZmVyZW5jZVtvcFNpZGVdKSAtIHBvcHBlclttZWFzdXJlbWVudF07XG4gIH1cbiAgaWYgKHBvcHBlcltvcFNpZGVdID4gZmxvb3IocmVmZXJlbmNlW3NpZGVdKSkge1xuICAgIGRhdGEub2Zmc2V0cy5wb3BwZXJbb3BTaWRlXSA9IGZsb29yKHJlZmVyZW5jZVtzaWRlXSk7XG4gIH1cblxuICByZXR1cm4gZGF0YTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhIHN0cmluZyBjb250YWluaW5nIHZhbHVlICsgdW5pdCBpbnRvIGEgcHggdmFsdWUgbnVtYmVyXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiB7bW9kaWZpZXJzfm9mZnNldH1cbiAqIEBwcml2YXRlXG4gKiBAYXJndW1lbnQge1N0cmluZ30gc3RyIC0gVmFsdWUgKyB1bml0IHN0cmluZ1xuICogQGFyZ3VtZW50IHtTdHJpbmd9IG1lYXN1cmVtZW50IC0gYGhlaWdodGAgb3IgYHdpZHRoYFxuICogQGFyZ3VtZW50IHtPYmplY3R9IHBvcHBlck9mZnNldHNcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSByZWZlcmVuY2VPZmZzZXRzXG4gKiBAcmV0dXJucyB7TnVtYmVyfFN0cmluZ31cbiAqIFZhbHVlIGluIHBpeGVscywgb3Igb3JpZ2luYWwgc3RyaW5nIGlmIG5vIHZhbHVlcyB3ZXJlIGV4dHJhY3RlZFxuICovXG5mdW5jdGlvbiB0b1ZhbHVlKHN0ciwgbWVhc3VyZW1lbnQsIHBvcHBlck9mZnNldHMsIHJlZmVyZW5jZU9mZnNldHMpIHtcbiAgLy8gc2VwYXJhdGUgdmFsdWUgZnJvbSB1bml0XG4gIHZhciBzcGxpdCA9IHN0ci5tYXRjaCgvKCg/OlxcLXxcXCspP1xcZCpcXC4/XFxkKikoLiopLyk7XG4gIHZhciB2YWx1ZSA9ICtzcGxpdFsxXTtcbiAgdmFyIHVuaXQgPSBzcGxpdFsyXTtcblxuICAvLyBJZiBpdCdzIG5vdCBhIG51bWJlciBpdCdzIGFuIG9wZXJhdG9yLCBJIGd1ZXNzXG4gIGlmICghdmFsdWUpIHtcbiAgICByZXR1cm4gc3RyO1xuICB9XG5cbiAgaWYgKHVuaXQuaW5kZXhPZignJScpID09PSAwKSB7XG4gICAgdmFyIGVsZW1lbnQgPSB2b2lkIDA7XG4gICAgc3dpdGNoICh1bml0KSB7XG4gICAgICBjYXNlICclcCc6XG4gICAgICAgIGVsZW1lbnQgPSBwb3BwZXJPZmZzZXRzO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJyUnOlxuICAgICAgY2FzZSAnJXInOlxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgZWxlbWVudCA9IHJlZmVyZW5jZU9mZnNldHM7XG4gICAgfVxuXG4gICAgdmFyIHJlY3QgPSBnZXRDbGllbnRSZWN0KGVsZW1lbnQpO1xuICAgIHJldHVybiByZWN0W21lYXN1cmVtZW50XSAvIDEwMCAqIHZhbHVlO1xuICB9IGVsc2UgaWYgKHVuaXQgPT09ICd2aCcgfHwgdW5pdCA9PT0gJ3Z3Jykge1xuICAgIC8vIGlmIGlzIGEgdmggb3IgdncsIHdlIGNhbGN1bGF0ZSB0aGUgc2l6ZSBiYXNlZCBvbiB0aGUgdmlld3BvcnRcbiAgICB2YXIgc2l6ZSA9IHZvaWQgMDtcbiAgICBpZiAodW5pdCA9PT0gJ3ZoJykge1xuICAgICAgc2l6ZSA9IE1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsIHdpbmRvdy5pbm5lckhlaWdodCB8fCAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2l6ZSA9IE1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCwgd2luZG93LmlubmVyV2lkdGggfHwgMCk7XG4gICAgfVxuICAgIHJldHVybiBzaXplIC8gMTAwICogdmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgLy8gaWYgaXMgYW4gZXhwbGljaXQgcGl4ZWwgdW5pdCwgd2UgZ2V0IHJpZCBvZiB0aGUgdW5pdCBhbmQga2VlcCB0aGUgdmFsdWVcbiAgICAvLyBpZiBpcyBhbiBpbXBsaWNpdCB1bml0LCBpdCdzIHB4LCBhbmQgd2UgcmV0dXJuIGp1c3QgdGhlIHZhbHVlXG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG59XG5cbi8qKlxuICogUGFyc2UgYW4gYG9mZnNldGAgc3RyaW5nIHRvIGV4dHJhcG9sYXRlIGB4YCBhbmQgYHlgIG51bWVyaWMgb2Zmc2V0cy5cbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIHttb2RpZmllcnN+b2Zmc2V0fVxuICogQHByaXZhdGVcbiAqIEBhcmd1bWVudCB7U3RyaW5nfSBvZmZzZXRcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBwb3BwZXJPZmZzZXRzXG4gKiBAYXJndW1lbnQge09iamVjdH0gcmVmZXJlbmNlT2Zmc2V0c1xuICogQGFyZ3VtZW50IHtTdHJpbmd9IGJhc2VQbGFjZW1lbnRcbiAqIEByZXR1cm5zIHtBcnJheX0gYSB0d28gY2VsbHMgYXJyYXkgd2l0aCB4IGFuZCB5IG9mZnNldHMgaW4gbnVtYmVyc1xuICovXG5mdW5jdGlvbiBwYXJzZU9mZnNldChvZmZzZXQsIHBvcHBlck9mZnNldHMsIHJlZmVyZW5jZU9mZnNldHMsIGJhc2VQbGFjZW1lbnQpIHtcbiAgdmFyIG9mZnNldHMgPSBbMCwgMF07XG5cbiAgLy8gVXNlIGhlaWdodCBpZiBwbGFjZW1lbnQgaXMgbGVmdCBvciByaWdodCBhbmQgaW5kZXggaXMgMCBvdGhlcndpc2UgdXNlIHdpZHRoXG4gIC8vIGluIHRoaXMgd2F5IHRoZSBmaXJzdCBvZmZzZXQgd2lsbCB1c2UgYW4gYXhpcyBhbmQgdGhlIHNlY29uZCBvbmVcbiAgLy8gd2lsbCB1c2UgdGhlIG90aGVyIG9uZVxuICB2YXIgdXNlSGVpZ2h0ID0gWydyaWdodCcsICdsZWZ0J10uaW5kZXhPZihiYXNlUGxhY2VtZW50KSAhPT0gLTE7XG5cbiAgLy8gU3BsaXQgdGhlIG9mZnNldCBzdHJpbmcgdG8gb2J0YWluIGEgbGlzdCBvZiB2YWx1ZXMgYW5kIG9wZXJhbmRzXG4gIC8vIFRoZSByZWdleCBhZGRyZXNzZXMgdmFsdWVzIHdpdGggdGhlIHBsdXMgb3IgbWludXMgc2lnbiBpbiBmcm9udCAoKzEwLCAtMjAsIGV0YylcbiAgdmFyIGZyYWdtZW50cyA9IG9mZnNldC5zcGxpdCgvKFxcK3xcXC0pLykubWFwKGZ1bmN0aW9uIChmcmFnKSB7XG4gICAgcmV0dXJuIGZyYWcudHJpbSgpO1xuICB9KTtcblxuICAvLyBEZXRlY3QgaWYgdGhlIG9mZnNldCBzdHJpbmcgY29udGFpbnMgYSBwYWlyIG9mIHZhbHVlcyBvciBhIHNpbmdsZSBvbmVcbiAgLy8gdGhleSBjb3VsZCBiZSBzZXBhcmF0ZWQgYnkgY29tbWEgb3Igc3BhY2VcbiAgdmFyIGRpdmlkZXIgPSBmcmFnbWVudHMuaW5kZXhPZihmaW5kKGZyYWdtZW50cywgZnVuY3Rpb24gKGZyYWcpIHtcbiAgICByZXR1cm4gZnJhZy5zZWFyY2goLyx8XFxzLykgIT09IC0xO1xuICB9KSk7XG5cbiAgaWYgKGZyYWdtZW50c1tkaXZpZGVyXSAmJiBmcmFnbWVudHNbZGl2aWRlcl0uaW5kZXhPZignLCcpID09PSAtMSkge1xuICAgIGNvbnNvbGUud2FybignT2Zmc2V0cyBzZXBhcmF0ZWQgYnkgd2hpdGUgc3BhY2UocykgYXJlIGRlcHJlY2F0ZWQsIHVzZSBhIGNvbW1hICgsKSBpbnN0ZWFkLicpO1xuICB9XG5cbiAgLy8gSWYgZGl2aWRlciBpcyBmb3VuZCwgd2UgZGl2aWRlIHRoZSBsaXN0IG9mIHZhbHVlcyBhbmQgb3BlcmFuZHMgdG8gZGl2aWRlXG4gIC8vIHRoZW0gYnkgb2ZzZXQgWCBhbmQgWS5cbiAgdmFyIHNwbGl0UmVnZXggPSAvXFxzKixcXHMqfFxccysvO1xuICB2YXIgb3BzID0gZGl2aWRlciAhPT0gLTEgPyBbZnJhZ21lbnRzLnNsaWNlKDAsIGRpdmlkZXIpLmNvbmNhdChbZnJhZ21lbnRzW2RpdmlkZXJdLnNwbGl0KHNwbGl0UmVnZXgpWzBdXSksIFtmcmFnbWVudHNbZGl2aWRlcl0uc3BsaXQoc3BsaXRSZWdleClbMV1dLmNvbmNhdChmcmFnbWVudHMuc2xpY2UoZGl2aWRlciArIDEpKV0gOiBbZnJhZ21lbnRzXTtcblxuICAvLyBDb252ZXJ0IHRoZSB2YWx1ZXMgd2l0aCB1bml0cyB0byBhYnNvbHV0ZSBwaXhlbHMgdG8gYWxsb3cgb3VyIGNvbXB1dGF0aW9uc1xuICBvcHMgPSBvcHMubWFwKGZ1bmN0aW9uIChvcCwgaW5kZXgpIHtcbiAgICAvLyBNb3N0IG9mIHRoZSB1bml0cyByZWx5IG9uIHRoZSBvcmllbnRhdGlvbiBvZiB0aGUgcG9wcGVyXG4gICAgdmFyIG1lYXN1cmVtZW50ID0gKGluZGV4ID09PSAxID8gIXVzZUhlaWdodCA6IHVzZUhlaWdodCkgPyAnaGVpZ2h0JyA6ICd3aWR0aCc7XG4gICAgdmFyIG1lcmdlV2l0aFByZXZpb3VzID0gZmFsc2U7XG4gICAgcmV0dXJuIG9wXG4gICAgLy8gVGhpcyBhZ2dyZWdhdGVzIGFueSBgK2Agb3IgYC1gIHNpZ24gdGhhdCBhcmVuJ3QgY29uc2lkZXJlZCBvcGVyYXRvcnNcbiAgICAvLyBlLmcuOiAxMCArICs1ID0+IFsxMCwgKywgKzVdXG4gICAgLnJlZHVjZShmdW5jdGlvbiAoYSwgYikge1xuICAgICAgaWYgKGFbYS5sZW5ndGggLSAxXSA9PT0gJycgJiYgWycrJywgJy0nXS5pbmRleE9mKGIpICE9PSAtMSkge1xuICAgICAgICBhW2EubGVuZ3RoIC0gMV0gPSBiO1xuICAgICAgICBtZXJnZVdpdGhQcmV2aW91cyA9IHRydWU7XG4gICAgICAgIHJldHVybiBhO1xuICAgICAgfSBlbHNlIGlmIChtZXJnZVdpdGhQcmV2aW91cykge1xuICAgICAgICBhW2EubGVuZ3RoIC0gMV0gKz0gYjtcbiAgICAgICAgbWVyZ2VXaXRoUHJldmlvdXMgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIGE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gYS5jb25jYXQoYik7XG4gICAgICB9XG4gICAgfSwgW10pXG4gICAgLy8gSGVyZSB3ZSBjb252ZXJ0IHRoZSBzdHJpbmcgdmFsdWVzIGludG8gbnVtYmVyIHZhbHVlcyAoaW4gcHgpXG4gICAgLm1hcChmdW5jdGlvbiAoc3RyKSB7XG4gICAgICByZXR1cm4gdG9WYWx1ZShzdHIsIG1lYXN1cmVtZW50LCBwb3BwZXJPZmZzZXRzLCByZWZlcmVuY2VPZmZzZXRzKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gTG9vcCB0cm91Z2ggdGhlIG9mZnNldHMgYXJyYXlzIGFuZCBleGVjdXRlIHRoZSBvcGVyYXRpb25zXG4gIG9wcy5mb3JFYWNoKGZ1bmN0aW9uIChvcCwgaW5kZXgpIHtcbiAgICBvcC5mb3JFYWNoKGZ1bmN0aW9uIChmcmFnLCBpbmRleDIpIHtcbiAgICAgIGlmIChpc051bWVyaWMoZnJhZykpIHtcbiAgICAgICAgb2Zmc2V0c1tpbmRleF0gKz0gZnJhZyAqIChvcFtpbmRleDIgLSAxXSA9PT0gJy0nID8gLTEgOiAxKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiBvZmZzZXRzO1xufVxuXG4vKipcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIE1vZGlmaWVyc1xuICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEgLSBUaGUgZGF0YSBvYmplY3QgZ2VuZXJhdGVkIGJ5IHVwZGF0ZSBtZXRob2RcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBvcHRpb25zIC0gTW9kaWZpZXJzIGNvbmZpZ3VyYXRpb24gYW5kIG9wdGlvbnNcbiAqIEBhcmd1bWVudCB7TnVtYmVyfFN0cmluZ30gb3B0aW9ucy5vZmZzZXQ9MFxuICogVGhlIG9mZnNldCB2YWx1ZSBhcyBkZXNjcmliZWQgaW4gdGhlIG1vZGlmaWVyIGRlc2NyaXB0aW9uXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgZGF0YSBvYmplY3QsIHByb3Blcmx5IG1vZGlmaWVkXG4gKi9cbmZ1bmN0aW9uIG9mZnNldChkYXRhLCBfcmVmKSB7XG4gIHZhciBvZmZzZXQgPSBfcmVmLm9mZnNldDtcbiAgdmFyIHBsYWNlbWVudCA9IGRhdGEucGxhY2VtZW50LFxuICAgICAgX2RhdGEkb2Zmc2V0cyA9IGRhdGEub2Zmc2V0cyxcbiAgICAgIHBvcHBlciA9IF9kYXRhJG9mZnNldHMucG9wcGVyLFxuICAgICAgcmVmZXJlbmNlID0gX2RhdGEkb2Zmc2V0cy5yZWZlcmVuY2U7XG5cbiAgdmFyIGJhc2VQbGFjZW1lbnQgPSBwbGFjZW1lbnQuc3BsaXQoJy0nKVswXTtcblxuICB2YXIgb2Zmc2V0cyA9IHZvaWQgMDtcbiAgaWYgKGlzTnVtZXJpYygrb2Zmc2V0KSkge1xuICAgIG9mZnNldHMgPSBbK29mZnNldCwgMF07XG4gIH0gZWxzZSB7XG4gICAgb2Zmc2V0cyA9IHBhcnNlT2Zmc2V0KG9mZnNldCwgcG9wcGVyLCByZWZlcmVuY2UsIGJhc2VQbGFjZW1lbnQpO1xuICB9XG5cbiAgaWYgKGJhc2VQbGFjZW1lbnQgPT09ICdsZWZ0Jykge1xuICAgIHBvcHBlci50b3AgKz0gb2Zmc2V0c1swXTtcbiAgICBwb3BwZXIubGVmdCAtPSBvZmZzZXRzWzFdO1xuICB9IGVsc2UgaWYgKGJhc2VQbGFjZW1lbnQgPT09ICdyaWdodCcpIHtcbiAgICBwb3BwZXIudG9wICs9IG9mZnNldHNbMF07XG4gICAgcG9wcGVyLmxlZnQgKz0gb2Zmc2V0c1sxXTtcbiAgfSBlbHNlIGlmIChiYXNlUGxhY2VtZW50ID09PSAndG9wJykge1xuICAgIHBvcHBlci5sZWZ0ICs9IG9mZnNldHNbMF07XG4gICAgcG9wcGVyLnRvcCAtPSBvZmZzZXRzWzFdO1xuICB9IGVsc2UgaWYgKGJhc2VQbGFjZW1lbnQgPT09ICdib3R0b20nKSB7XG4gICAgcG9wcGVyLmxlZnQgKz0gb2Zmc2V0c1swXTtcbiAgICBwb3BwZXIudG9wICs9IG9mZnNldHNbMV07XG4gIH1cblxuICBkYXRhLnBvcHBlciA9IHBvcHBlcjtcbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgTW9kaWZpZXJzXG4gKiBAYXJndW1lbnQge09iamVjdH0gZGF0YSAtIFRoZSBkYXRhIG9iamVjdCBnZW5lcmF0ZWQgYnkgYHVwZGF0ZWAgbWV0aG9kXG4gKiBAYXJndW1lbnQge09iamVjdH0gb3B0aW9ucyAtIE1vZGlmaWVycyBjb25maWd1cmF0aW9uIGFuZCBvcHRpb25zXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgZGF0YSBvYmplY3QsIHByb3Blcmx5IG1vZGlmaWVkXG4gKi9cbmZ1bmN0aW9uIHByZXZlbnRPdmVyZmxvdyhkYXRhLCBvcHRpb25zKSB7XG4gIHZhciBib3VuZGFyaWVzRWxlbWVudCA9IG9wdGlvbnMuYm91bmRhcmllc0VsZW1lbnQgfHwgZ2V0T2Zmc2V0UGFyZW50KGRhdGEuaW5zdGFuY2UucG9wcGVyKTtcblxuICAvLyBJZiBvZmZzZXRQYXJlbnQgaXMgdGhlIHJlZmVyZW5jZSBlbGVtZW50LCB3ZSByZWFsbHkgd2FudCB0b1xuICAvLyBnbyBvbmUgc3RlcCB1cCBhbmQgdXNlIHRoZSBuZXh0IG9mZnNldFBhcmVudCBhcyByZWZlcmVuY2UgdG9cbiAgLy8gYXZvaWQgdG8gbWFrZSB0aGlzIG1vZGlmaWVyIGNvbXBsZXRlbHkgdXNlbGVzcyBhbmQgbG9vayBsaWtlIGJyb2tlblxuICBpZiAoZGF0YS5pbnN0YW5jZS5yZWZlcmVuY2UgPT09IGJvdW5kYXJpZXNFbGVtZW50KSB7XG4gICAgYm91bmRhcmllc0VsZW1lbnQgPSBnZXRPZmZzZXRQYXJlbnQoYm91bmRhcmllc0VsZW1lbnQpO1xuICB9XG5cbiAgLy8gTk9URTogRE9NIGFjY2VzcyBoZXJlXG4gIC8vIHJlc2V0cyB0aGUgcG9wcGVyJ3MgcG9zaXRpb24gc28gdGhhdCB0aGUgZG9jdW1lbnQgc2l6ZSBjYW4gYmUgY2FsY3VsYXRlZCBleGNsdWRpbmdcbiAgLy8gdGhlIHNpemUgb2YgdGhlIHBvcHBlciBlbGVtZW50IGl0c2VsZlxuICB2YXIgdHJhbnNmb3JtUHJvcCA9IGdldFN1cHBvcnRlZFByb3BlcnR5TmFtZSgndHJhbnNmb3JtJyk7XG4gIHZhciBwb3BwZXJTdHlsZXMgPSBkYXRhLmluc3RhbmNlLnBvcHBlci5zdHlsZTsgLy8gYXNzaWdubWVudCB0byBoZWxwIG1pbmlmaWNhdGlvblxuICB2YXIgdG9wID0gcG9wcGVyU3R5bGVzLnRvcCxcbiAgICAgIGxlZnQgPSBwb3BwZXJTdHlsZXMubGVmdCxcbiAgICAgIHRyYW5zZm9ybSA9IHBvcHBlclN0eWxlc1t0cmFuc2Zvcm1Qcm9wXTtcblxuICBwb3BwZXJTdHlsZXMudG9wID0gJyc7XG4gIHBvcHBlclN0eWxlcy5sZWZ0ID0gJyc7XG4gIHBvcHBlclN0eWxlc1t0cmFuc2Zvcm1Qcm9wXSA9ICcnO1xuXG4gIHZhciBib3VuZGFyaWVzID0gZ2V0Qm91bmRhcmllcyhkYXRhLmluc3RhbmNlLnBvcHBlciwgZGF0YS5pbnN0YW5jZS5yZWZlcmVuY2UsIG9wdGlvbnMucGFkZGluZywgYm91bmRhcmllc0VsZW1lbnQsIGRhdGEucG9zaXRpb25GaXhlZCk7XG5cbiAgLy8gTk9URTogRE9NIGFjY2VzcyBoZXJlXG4gIC8vIHJlc3RvcmVzIHRoZSBvcmlnaW5hbCBzdHlsZSBwcm9wZXJ0aWVzIGFmdGVyIHRoZSBvZmZzZXRzIGhhdmUgYmVlbiBjb21wdXRlZFxuICBwb3BwZXJTdHlsZXMudG9wID0gdG9wO1xuICBwb3BwZXJTdHlsZXMubGVmdCA9IGxlZnQ7XG4gIHBvcHBlclN0eWxlc1t0cmFuc2Zvcm1Qcm9wXSA9IHRyYW5zZm9ybTtcblxuICBvcHRpb25zLmJvdW5kYXJpZXMgPSBib3VuZGFyaWVzO1xuXG4gIHZhciBvcmRlciA9IG9wdGlvbnMucHJpb3JpdHk7XG4gIHZhciBwb3BwZXIgPSBkYXRhLm9mZnNldHMucG9wcGVyO1xuXG4gIHZhciBjaGVjayA9IHtcbiAgICBwcmltYXJ5OiBmdW5jdGlvbiBwcmltYXJ5KHBsYWNlbWVudCkge1xuICAgICAgdmFyIHZhbHVlID0gcG9wcGVyW3BsYWNlbWVudF07XG4gICAgICBpZiAocG9wcGVyW3BsYWNlbWVudF0gPCBib3VuZGFyaWVzW3BsYWNlbWVudF0gJiYgIW9wdGlvbnMuZXNjYXBlV2l0aFJlZmVyZW5jZSkge1xuICAgICAgICB2YWx1ZSA9IE1hdGgubWF4KHBvcHBlcltwbGFjZW1lbnRdLCBib3VuZGFyaWVzW3BsYWNlbWVudF0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRlZmluZVByb3BlcnR5KHt9LCBwbGFjZW1lbnQsIHZhbHVlKTtcbiAgICB9LFxuICAgIHNlY29uZGFyeTogZnVuY3Rpb24gc2Vjb25kYXJ5KHBsYWNlbWVudCkge1xuICAgICAgdmFyIG1haW5TaWRlID0gcGxhY2VtZW50ID09PSAncmlnaHQnID8gJ2xlZnQnIDogJ3RvcCc7XG4gICAgICB2YXIgdmFsdWUgPSBwb3BwZXJbbWFpblNpZGVdO1xuICAgICAgaWYgKHBvcHBlcltwbGFjZW1lbnRdID4gYm91bmRhcmllc1twbGFjZW1lbnRdICYmICFvcHRpb25zLmVzY2FwZVdpdGhSZWZlcmVuY2UpIHtcbiAgICAgICAgdmFsdWUgPSBNYXRoLm1pbihwb3BwZXJbbWFpblNpZGVdLCBib3VuZGFyaWVzW3BsYWNlbWVudF0gLSAocGxhY2VtZW50ID09PSAncmlnaHQnID8gcG9wcGVyLndpZHRoIDogcG9wcGVyLmhlaWdodCkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRlZmluZVByb3BlcnR5KHt9LCBtYWluU2lkZSwgdmFsdWUpO1xuICAgIH1cbiAgfTtcblxuICBvcmRlci5mb3JFYWNoKGZ1bmN0aW9uIChwbGFjZW1lbnQpIHtcbiAgICB2YXIgc2lkZSA9IFsnbGVmdCcsICd0b3AnXS5pbmRleE9mKHBsYWNlbWVudCkgIT09IC0xID8gJ3ByaW1hcnknIDogJ3NlY29uZGFyeSc7XG4gICAgcG9wcGVyID0gX2V4dGVuZHMoe30sIHBvcHBlciwgY2hlY2tbc2lkZV0ocGxhY2VtZW50KSk7XG4gIH0pO1xuXG4gIGRhdGEub2Zmc2V0cy5wb3BwZXIgPSBwb3BwZXI7XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgTW9kaWZpZXJzXG4gKiBAYXJndW1lbnQge09iamVjdH0gZGF0YSAtIFRoZSBkYXRhIG9iamVjdCBnZW5lcmF0ZWQgYnkgYHVwZGF0ZWAgbWV0aG9kXG4gKiBAYXJndW1lbnQge09iamVjdH0gb3B0aW9ucyAtIE1vZGlmaWVycyBjb25maWd1cmF0aW9uIGFuZCBvcHRpb25zXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgZGF0YSBvYmplY3QsIHByb3Blcmx5IG1vZGlmaWVkXG4gKi9cbmZ1bmN0aW9uIHNoaWZ0KGRhdGEpIHtcbiAgdmFyIHBsYWNlbWVudCA9IGRhdGEucGxhY2VtZW50O1xuICB2YXIgYmFzZVBsYWNlbWVudCA9IHBsYWNlbWVudC5zcGxpdCgnLScpWzBdO1xuICB2YXIgc2hpZnR2YXJpYXRpb24gPSBwbGFjZW1lbnQuc3BsaXQoJy0nKVsxXTtcblxuICAvLyBpZiBzaGlmdCBzaGlmdHZhcmlhdGlvbiBpcyBzcGVjaWZpZWQsIHJ1biB0aGUgbW9kaWZpZXJcbiAgaWYgKHNoaWZ0dmFyaWF0aW9uKSB7XG4gICAgdmFyIF9kYXRhJG9mZnNldHMgPSBkYXRhLm9mZnNldHMsXG4gICAgICAgIHJlZmVyZW5jZSA9IF9kYXRhJG9mZnNldHMucmVmZXJlbmNlLFxuICAgICAgICBwb3BwZXIgPSBfZGF0YSRvZmZzZXRzLnBvcHBlcjtcblxuICAgIHZhciBpc1ZlcnRpY2FsID0gWydib3R0b20nLCAndG9wJ10uaW5kZXhPZihiYXNlUGxhY2VtZW50KSAhPT0gLTE7XG4gICAgdmFyIHNpZGUgPSBpc1ZlcnRpY2FsID8gJ2xlZnQnIDogJ3RvcCc7XG4gICAgdmFyIG1lYXN1cmVtZW50ID0gaXNWZXJ0aWNhbCA/ICd3aWR0aCcgOiAnaGVpZ2h0JztcblxuICAgIHZhciBzaGlmdE9mZnNldHMgPSB7XG4gICAgICBzdGFydDogZGVmaW5lUHJvcGVydHkoe30sIHNpZGUsIHJlZmVyZW5jZVtzaWRlXSksXG4gICAgICBlbmQ6IGRlZmluZVByb3BlcnR5KHt9LCBzaWRlLCByZWZlcmVuY2Vbc2lkZV0gKyByZWZlcmVuY2VbbWVhc3VyZW1lbnRdIC0gcG9wcGVyW21lYXN1cmVtZW50XSlcbiAgICB9O1xuXG4gICAgZGF0YS5vZmZzZXRzLnBvcHBlciA9IF9leHRlbmRzKHt9LCBwb3BwZXIsIHNoaWZ0T2Zmc2V0c1tzaGlmdHZhcmlhdGlvbl0pO1xuICB9XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgTW9kaWZpZXJzXG4gKiBAYXJndW1lbnQge09iamVjdH0gZGF0YSAtIFRoZSBkYXRhIG9iamVjdCBnZW5lcmF0ZWQgYnkgdXBkYXRlIG1ldGhvZFxuICogQGFyZ3VtZW50IHtPYmplY3R9IG9wdGlvbnMgLSBNb2RpZmllcnMgY29uZmlndXJhdGlvbiBhbmQgb3B0aW9uc1xuICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZFxuICovXG5mdW5jdGlvbiBoaWRlKGRhdGEpIHtcbiAgaWYgKCFpc01vZGlmaWVyUmVxdWlyZWQoZGF0YS5pbnN0YW5jZS5tb2RpZmllcnMsICdoaWRlJywgJ3ByZXZlbnRPdmVyZmxvdycpKSB7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICB2YXIgcmVmUmVjdCA9IGRhdGEub2Zmc2V0cy5yZWZlcmVuY2U7XG4gIHZhciBib3VuZCA9IGZpbmQoZGF0YS5pbnN0YW5jZS5tb2RpZmllcnMsIGZ1bmN0aW9uIChtb2RpZmllcikge1xuICAgIHJldHVybiBtb2RpZmllci5uYW1lID09PSAncHJldmVudE92ZXJmbG93JztcbiAgfSkuYm91bmRhcmllcztcblxuICBpZiAocmVmUmVjdC5ib3R0b20gPCBib3VuZC50b3AgfHwgcmVmUmVjdC5sZWZ0ID4gYm91bmQucmlnaHQgfHwgcmVmUmVjdC50b3AgPiBib3VuZC5ib3R0b20gfHwgcmVmUmVjdC5yaWdodCA8IGJvdW5kLmxlZnQpIHtcbiAgICAvLyBBdm9pZCB1bm5lY2Vzc2FyeSBET00gYWNjZXNzIGlmIHZpc2liaWxpdHkgaGFzbid0IGNoYW5nZWRcbiAgICBpZiAoZGF0YS5oaWRlID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICBkYXRhLmhpZGUgPSB0cnVlO1xuICAgIGRhdGEuYXR0cmlidXRlc1sneC1vdXQtb2YtYm91bmRhcmllcyddID0gJyc7XG4gIH0gZWxzZSB7XG4gICAgLy8gQXZvaWQgdW5uZWNlc3NhcnkgRE9NIGFjY2VzcyBpZiB2aXNpYmlsaXR5IGhhc24ndCBjaGFuZ2VkXG4gICAgaWYgKGRhdGEuaGlkZSA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIGRhdGEuaGlkZSA9IGZhbHNlO1xuICAgIGRhdGEuYXR0cmlidXRlc1sneC1vdXQtb2YtYm91bmRhcmllcyddID0gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gZGF0YTtcbn1cblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBNb2RpZmllcnNcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSBgdXBkYXRlYCBtZXRob2RcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBvcHRpb25zIC0gTW9kaWZpZXJzIGNvbmZpZ3VyYXRpb24gYW5kIG9wdGlvbnNcbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBkYXRhIG9iamVjdCwgcHJvcGVybHkgbW9kaWZpZWRcbiAqL1xuZnVuY3Rpb24gaW5uZXIoZGF0YSkge1xuICB2YXIgcGxhY2VtZW50ID0gZGF0YS5wbGFjZW1lbnQ7XG4gIHZhciBiYXNlUGxhY2VtZW50ID0gcGxhY2VtZW50LnNwbGl0KCctJylbMF07XG4gIHZhciBfZGF0YSRvZmZzZXRzID0gZGF0YS5vZmZzZXRzLFxuICAgICAgcG9wcGVyID0gX2RhdGEkb2Zmc2V0cy5wb3BwZXIsXG4gICAgICByZWZlcmVuY2UgPSBfZGF0YSRvZmZzZXRzLnJlZmVyZW5jZTtcblxuICB2YXIgaXNIb3JpeiA9IFsnbGVmdCcsICdyaWdodCddLmluZGV4T2YoYmFzZVBsYWNlbWVudCkgIT09IC0xO1xuXG4gIHZhciBzdWJ0cmFjdExlbmd0aCA9IFsndG9wJywgJ2xlZnQnXS5pbmRleE9mKGJhc2VQbGFjZW1lbnQpID09PSAtMTtcblxuICBwb3BwZXJbaXNIb3JpeiA/ICdsZWZ0JyA6ICd0b3AnXSA9IHJlZmVyZW5jZVtiYXNlUGxhY2VtZW50XSAtIChzdWJ0cmFjdExlbmd0aCA/IHBvcHBlcltpc0hvcml6ID8gJ3dpZHRoJyA6ICdoZWlnaHQnXSA6IDApO1xuXG4gIGRhdGEucGxhY2VtZW50ID0gZ2V0T3Bwb3NpdGVQbGFjZW1lbnQocGxhY2VtZW50KTtcbiAgZGF0YS5vZmZzZXRzLnBvcHBlciA9IGdldENsaWVudFJlY3QocG9wcGVyKTtcblxuICByZXR1cm4gZGF0YTtcbn1cblxuLyoqXG4gKiBNb2RpZmllciBmdW5jdGlvbiwgZWFjaCBtb2RpZmllciBjYW4gaGF2ZSBhIGZ1bmN0aW9uIG9mIHRoaXMgdHlwZSBhc3NpZ25lZFxuICogdG8gaXRzIGBmbmAgcHJvcGVydHkuPGJyIC8+XG4gKiBUaGVzZSBmdW5jdGlvbnMgd2lsbCBiZSBjYWxsZWQgb24gZWFjaCB1cGRhdGUsIHRoaXMgbWVhbnMgdGhhdCB5b3UgbXVzdFxuICogbWFrZSBzdXJlIHRoZXkgYXJlIHBlcmZvcm1hbnQgZW5vdWdoIHRvIGF2b2lkIHBlcmZvcm1hbmNlIGJvdHRsZW5lY2tzLlxuICpcbiAqIEBmdW5jdGlvbiBNb2RpZmllckZuXG4gKiBAYXJndW1lbnQge2RhdGFPYmplY3R9IGRhdGEgLSBUaGUgZGF0YSBvYmplY3QgZ2VuZXJhdGVkIGJ5IGB1cGRhdGVgIG1ldGhvZFxuICogQGFyZ3VtZW50IHtPYmplY3R9IG9wdGlvbnMgLSBNb2RpZmllcnMgY29uZmlndXJhdGlvbiBhbmQgb3B0aW9uc1xuICogQHJldHVybnMge2RhdGFPYmplY3R9IFRoZSBkYXRhIG9iamVjdCwgcHJvcGVybHkgbW9kaWZpZWRcbiAqL1xuXG4vKipcbiAqIE1vZGlmaWVycyBhcmUgcGx1Z2lucyB1c2VkIHRvIGFsdGVyIHRoZSBiZWhhdmlvciBvZiB5b3VyIHBvcHBlcnMuPGJyIC8+XG4gKiBQb3BwZXIuanMgdXNlcyBhIHNldCBvZiA5IG1vZGlmaWVycyB0byBwcm92aWRlIGFsbCB0aGUgYmFzaWMgZnVuY3Rpb25hbGl0aWVzXG4gKiBuZWVkZWQgYnkgdGhlIGxpYnJhcnkuXG4gKlxuICogVXN1YWxseSB5b3UgZG9uJ3Qgd2FudCB0byBvdmVycmlkZSB0aGUgYG9yZGVyYCwgYGZuYCBhbmQgYG9uTG9hZGAgcHJvcHMuXG4gKiBBbGwgdGhlIG90aGVyIHByb3BlcnRpZXMgYXJlIGNvbmZpZ3VyYXRpb25zIHRoYXQgY291bGQgYmUgdHdlYWtlZC5cbiAqIEBuYW1lc3BhY2UgbW9kaWZpZXJzXG4gKi9cbnZhciBtb2RpZmllcnMgPSB7XG4gIC8qKlxuICAgKiBNb2RpZmllciB1c2VkIHRvIHNoaWZ0IHRoZSBwb3BwZXIgb24gdGhlIHN0YXJ0IG9yIGVuZCBvZiBpdHMgcmVmZXJlbmNlXG4gICAqIGVsZW1lbnQuPGJyIC8+XG4gICAqIEl0IHdpbGwgcmVhZCB0aGUgdmFyaWF0aW9uIG9mIHRoZSBgcGxhY2VtZW50YCBwcm9wZXJ0eS48YnIgLz5cbiAgICogSXQgY2FuIGJlIG9uZSBlaXRoZXIgYC1lbmRgIG9yIGAtc3RhcnRgLlxuICAgKiBAbWVtYmVyb2YgbW9kaWZpZXJzXG4gICAqIEBpbm5lclxuICAgKi9cbiAgc2hpZnQ6IHtcbiAgICAvKiogQHByb3Age251bWJlcn0gb3JkZXI9MTAwIC0gSW5kZXggdXNlZCB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiAqL1xuICAgIG9yZGVyOiAxMDAsXG4gICAgLyoqIEBwcm9wIHtCb29sZWFufSBlbmFibGVkPXRydWUgLSBXaGV0aGVyIHRoZSBtb2RpZmllciBpcyBlbmFibGVkIG9yIG5vdCAqL1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgLyoqIEBwcm9wIHtNb2RpZmllckZufSAqL1xuICAgIGZuOiBzaGlmdFxuICB9LFxuXG4gIC8qKlxuICAgKiBUaGUgYG9mZnNldGAgbW9kaWZpZXIgY2FuIHNoaWZ0IHlvdXIgcG9wcGVyIG9uIGJvdGggaXRzIGF4aXMuXG4gICAqXG4gICAqIEl0IGFjY2VwdHMgdGhlIGZvbGxvd2luZyB1bml0czpcbiAgICogLSBgcHhgIG9yIHVuaXQtbGVzcywgaW50ZXJwcmV0ZWQgYXMgcGl4ZWxzXG4gICAqIC0gYCVgIG9yIGAlcmAsIHBlcmNlbnRhZ2UgcmVsYXRpdmUgdG8gdGhlIGxlbmd0aCBvZiB0aGUgcmVmZXJlbmNlIGVsZW1lbnRcbiAgICogLSBgJXBgLCBwZXJjZW50YWdlIHJlbGF0aXZlIHRvIHRoZSBsZW5ndGggb2YgdGhlIHBvcHBlciBlbGVtZW50XG4gICAqIC0gYHZ3YCwgQ1NTIHZpZXdwb3J0IHdpZHRoIHVuaXRcbiAgICogLSBgdmhgLCBDU1Mgdmlld3BvcnQgaGVpZ2h0IHVuaXRcbiAgICpcbiAgICogRm9yIGxlbmd0aCBpcyBpbnRlbmRlZCB0aGUgbWFpbiBheGlzIHJlbGF0aXZlIHRvIHRoZSBwbGFjZW1lbnQgb2YgdGhlIHBvcHBlci48YnIgLz5cbiAgICogVGhpcyBtZWFucyB0aGF0IGlmIHRoZSBwbGFjZW1lbnQgaXMgYHRvcGAgb3IgYGJvdHRvbWAsIHRoZSBsZW5ndGggd2lsbCBiZSB0aGVcbiAgICogYHdpZHRoYC4gSW4gY2FzZSBvZiBgbGVmdGAgb3IgYHJpZ2h0YCwgaXQgd2lsbCBiZSB0aGUgYGhlaWdodGAuXG4gICAqXG4gICAqIFlvdSBjYW4gcHJvdmlkZSBhIHNpbmdsZSB2YWx1ZSAoYXMgYE51bWJlcmAgb3IgYFN0cmluZ2ApLCBvciBhIHBhaXIgb2YgdmFsdWVzXG4gICAqIGFzIGBTdHJpbmdgIGRpdmlkZWQgYnkgYSBjb21tYSBvciBvbmUgKG9yIG1vcmUpIHdoaXRlIHNwYWNlcy48YnIgLz5cbiAgICogVGhlIGxhdHRlciBpcyBhIGRlcHJlY2F0ZWQgbWV0aG9kIGJlY2F1c2UgaXQgbGVhZHMgdG8gY29uZnVzaW9uIGFuZCB3aWxsIGJlXG4gICAqIHJlbW92ZWQgaW4gdjIuPGJyIC8+XG4gICAqIEFkZGl0aW9uYWxseSwgaXQgYWNjZXB0cyBhZGRpdGlvbnMgYW5kIHN1YnRyYWN0aW9ucyBiZXR3ZWVuIGRpZmZlcmVudCB1bml0cy5cbiAgICogTm90ZSB0aGF0IG11bHRpcGxpY2F0aW9ucyBhbmQgZGl2aXNpb25zIGFyZW4ndCBzdXBwb3J0ZWQuXG4gICAqXG4gICAqIFZhbGlkIGV4YW1wbGVzIGFyZTpcbiAgICogYGBgXG4gICAqIDEwXG4gICAqICcxMCUnXG4gICAqICcxMCwgMTAnXG4gICAqICcxMCUsIDEwJ1xuICAgKiAnMTAgKyAxMCUnXG4gICAqICcxMCAtIDV2aCArIDMlJ1xuICAgKiAnLTEwcHggKyA1dmgsIDVweCAtIDYlJ1xuICAgKiBgYGBcbiAgICogPiAqKk5CKio6IElmIHlvdSBkZXNpcmUgdG8gYXBwbHkgb2Zmc2V0cyB0byB5b3VyIHBvcHBlcnMgaW4gYSB3YXkgdGhhdCBtYXkgbWFrZSB0aGVtIG92ZXJsYXBcbiAgICogPiB3aXRoIHRoZWlyIHJlZmVyZW5jZSBlbGVtZW50LCB1bmZvcnR1bmF0ZWx5LCB5b3Ugd2lsbCBoYXZlIHRvIGRpc2FibGUgdGhlIGBmbGlwYCBtb2RpZmllci5cbiAgICogPiBZb3UgY2FuIHJlYWQgbW9yZSBvbiB0aGlzIGF0IHRoaXMgW2lzc3VlXShodHRwczovL2dpdGh1Yi5jb20vRmV6VnJhc3RhL3BvcHBlci5qcy9pc3N1ZXMvMzczKS5cbiAgICpcbiAgICogQG1lbWJlcm9mIG1vZGlmaWVyc1xuICAgKiBAaW5uZXJcbiAgICovXG4gIG9mZnNldDoge1xuICAgIC8qKiBAcHJvcCB7bnVtYmVyfSBvcmRlcj0yMDAgLSBJbmRleCB1c2VkIHRvIGRlZmluZSB0aGUgb3JkZXIgb2YgZXhlY3V0aW9uICovXG4gICAgb3JkZXI6IDIwMCxcbiAgICAvKiogQHByb3Age0Jvb2xlYW59IGVuYWJsZWQ9dHJ1ZSAtIFdoZXRoZXIgdGhlIG1vZGlmaWVyIGlzIGVuYWJsZWQgb3Igbm90ICovXG4gICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAvKiogQHByb3Age01vZGlmaWVyRm59ICovXG4gICAgZm46IG9mZnNldCxcbiAgICAvKiogQHByb3Age051bWJlcnxTdHJpbmd9IG9mZnNldD0wXG4gICAgICogVGhlIG9mZnNldCB2YWx1ZSBhcyBkZXNjcmliZWQgaW4gdGhlIG1vZGlmaWVyIGRlc2NyaXB0aW9uXG4gICAgICovXG4gICAgb2Zmc2V0OiAwXG4gIH0sXG5cbiAgLyoqXG4gICAqIE1vZGlmaWVyIHVzZWQgdG8gcHJldmVudCB0aGUgcG9wcGVyIGZyb20gYmVpbmcgcG9zaXRpb25lZCBvdXRzaWRlIHRoZSBib3VuZGFyeS5cbiAgICpcbiAgICogQSBzY2VuYXJpbyBleGlzdHMgd2hlcmUgdGhlIHJlZmVyZW5jZSBpdHNlbGYgaXMgbm90IHdpdGhpbiB0aGUgYm91bmRhcmllcy48YnIgLz5cbiAgICogV2UgY2FuIHNheSBpdCBoYXMgXCJlc2NhcGVkIHRoZSBib3VuZGFyaWVzXCIg4oCUIG9yIGp1c3QgXCJlc2NhcGVkXCIuPGJyIC8+XG4gICAqIEluIHRoaXMgY2FzZSB3ZSBuZWVkIHRvIGRlY2lkZSB3aGV0aGVyIHRoZSBwb3BwZXIgc2hvdWxkIGVpdGhlcjpcbiAgICpcbiAgICogLSBkZXRhY2ggZnJvbSB0aGUgcmVmZXJlbmNlIGFuZCByZW1haW4gXCJ0cmFwcGVkXCIgaW4gdGhlIGJvdW5kYXJpZXMsIG9yXG4gICAqIC0gaWYgaXQgc2hvdWxkIGlnbm9yZSB0aGUgYm91bmRhcnkgYW5kIFwiZXNjYXBlIHdpdGggaXRzIHJlZmVyZW5jZVwiXG4gICAqXG4gICAqIFdoZW4gYGVzY2FwZVdpdGhSZWZlcmVuY2VgIGlzIHNldCB0b2B0cnVlYCBhbmQgcmVmZXJlbmNlIGlzIGNvbXBsZXRlbHlcbiAgICogb3V0c2lkZSBpdHMgYm91bmRhcmllcywgdGhlIHBvcHBlciB3aWxsIG92ZXJmbG93IChvciBjb21wbGV0ZWx5IGxlYXZlKVxuICAgKiB0aGUgYm91bmRhcmllcyBpbiBvcmRlciB0byByZW1haW4gYXR0YWNoZWQgdG8gdGhlIGVkZ2Ugb2YgdGhlIHJlZmVyZW5jZS5cbiAgICpcbiAgICogQG1lbWJlcm9mIG1vZGlmaWVyc1xuICAgKiBAaW5uZXJcbiAgICovXG4gIHByZXZlbnRPdmVyZmxvdzoge1xuICAgIC8qKiBAcHJvcCB7bnVtYmVyfSBvcmRlcj0zMDAgLSBJbmRleCB1c2VkIHRvIGRlZmluZSB0aGUgb3JkZXIgb2YgZXhlY3V0aW9uICovXG4gICAgb3JkZXI6IDMwMCxcbiAgICAvKiogQHByb3Age0Jvb2xlYW59IGVuYWJsZWQ9dHJ1ZSAtIFdoZXRoZXIgdGhlIG1vZGlmaWVyIGlzIGVuYWJsZWQgb3Igbm90ICovXG4gICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAvKiogQHByb3Age01vZGlmaWVyRm59ICovXG4gICAgZm46IHByZXZlbnRPdmVyZmxvdyxcbiAgICAvKipcbiAgICAgKiBAcHJvcCB7QXJyYXl9IFtwcmlvcml0eT1bJ2xlZnQnLCdyaWdodCcsJ3RvcCcsJ2JvdHRvbSddXVxuICAgICAqIFBvcHBlciB3aWxsIHRyeSB0byBwcmV2ZW50IG92ZXJmbG93IGZvbGxvd2luZyB0aGVzZSBwcmlvcml0aWVzIGJ5IGRlZmF1bHQsXG4gICAgICogdGhlbiwgaXQgY291bGQgb3ZlcmZsb3cgb24gdGhlIGxlZnQgYW5kIG9uIHRvcCBvZiB0aGUgYGJvdW5kYXJpZXNFbGVtZW50YFxuICAgICAqL1xuICAgIHByaW9yaXR5OiBbJ2xlZnQnLCAncmlnaHQnLCAndG9wJywgJ2JvdHRvbSddLFxuICAgIC8qKlxuICAgICAqIEBwcm9wIHtudW1iZXJ9IHBhZGRpbmc9NVxuICAgICAqIEFtb3VudCBvZiBwaXhlbCB1c2VkIHRvIGRlZmluZSBhIG1pbmltdW0gZGlzdGFuY2UgYmV0d2VlbiB0aGUgYm91bmRhcmllc1xuICAgICAqIGFuZCB0aGUgcG9wcGVyLiBUaGlzIG1ha2VzIHN1cmUgdGhlIHBvcHBlciBhbHdheXMgaGFzIGEgbGl0dGxlIHBhZGRpbmdcbiAgICAgKiBiZXR3ZWVuIHRoZSBlZGdlcyBvZiBpdHMgY29udGFpbmVyXG4gICAgICovXG4gICAgcGFkZGluZzogNSxcbiAgICAvKipcbiAgICAgKiBAcHJvcCB7U3RyaW5nfEhUTUxFbGVtZW50fSBib3VuZGFyaWVzRWxlbWVudD0nc2Nyb2xsUGFyZW50J1xuICAgICAqIEJvdW5kYXJpZXMgdXNlZCBieSB0aGUgbW9kaWZpZXIuIENhbiBiZSBgc2Nyb2xsUGFyZW50YCwgYHdpbmRvd2AsXG4gICAgICogYHZpZXdwb3J0YCBvciBhbnkgRE9NIGVsZW1lbnQuXG4gICAgICovXG4gICAgYm91bmRhcmllc0VsZW1lbnQ6ICdzY3JvbGxQYXJlbnQnXG4gIH0sXG5cbiAgLyoqXG4gICAqIE1vZGlmaWVyIHVzZWQgdG8gbWFrZSBzdXJlIHRoZSByZWZlcmVuY2UgYW5kIGl0cyBwb3BwZXIgc3RheSBuZWFyIGVhY2ggb3RoZXJcbiAgICogd2l0aG91dCBsZWF2aW5nIGFueSBnYXAgYmV0d2VlbiB0aGUgdHdvLiBFc3BlY2lhbGx5IHVzZWZ1bCB3aGVuIHRoZSBhcnJvdyBpc1xuICAgKiBlbmFibGVkIGFuZCB5b3Ugd2FudCB0byBlbnN1cmUgdGhhdCBpdCBwb2ludHMgdG8gaXRzIHJlZmVyZW5jZSBlbGVtZW50LlxuICAgKiBJdCBjYXJlcyBvbmx5IGFib3V0IHRoZSBmaXJzdCBheGlzLiBZb3UgY2FuIHN0aWxsIGhhdmUgcG9wcGVycyB3aXRoIG1hcmdpblxuICAgKiBiZXR3ZWVuIHRoZSBwb3BwZXIgYW5kIGl0cyByZWZlcmVuY2UgZWxlbWVudC5cbiAgICogQG1lbWJlcm9mIG1vZGlmaWVyc1xuICAgKiBAaW5uZXJcbiAgICovXG4gIGtlZXBUb2dldGhlcjoge1xuICAgIC8qKiBAcHJvcCB7bnVtYmVyfSBvcmRlcj00MDAgLSBJbmRleCB1c2VkIHRvIGRlZmluZSB0aGUgb3JkZXIgb2YgZXhlY3V0aW9uICovXG4gICAgb3JkZXI6IDQwMCxcbiAgICAvKiogQHByb3Age0Jvb2xlYW59IGVuYWJsZWQ9dHJ1ZSAtIFdoZXRoZXIgdGhlIG1vZGlmaWVyIGlzIGVuYWJsZWQgb3Igbm90ICovXG4gICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAvKiogQHByb3Age01vZGlmaWVyRm59ICovXG4gICAgZm46IGtlZXBUb2dldGhlclxuICB9LFxuXG4gIC8qKlxuICAgKiBUaGlzIG1vZGlmaWVyIGlzIHVzZWQgdG8gbW92ZSB0aGUgYGFycm93RWxlbWVudGAgb2YgdGhlIHBvcHBlciB0byBtYWtlXG4gICAqIHN1cmUgaXQgaXMgcG9zaXRpb25lZCBiZXR3ZWVuIHRoZSByZWZlcmVuY2UgZWxlbWVudCBhbmQgaXRzIHBvcHBlciBlbGVtZW50LlxuICAgKiBJdCB3aWxsIHJlYWQgdGhlIG91dGVyIHNpemUgb2YgdGhlIGBhcnJvd0VsZW1lbnRgIG5vZGUgdG8gZGV0ZWN0IGhvdyBtYW55XG4gICAqIHBpeGVscyBvZiBjb25qdW5jdGlvbiBhcmUgbmVlZGVkLlxuICAgKlxuICAgKiBJdCBoYXMgbm8gZWZmZWN0IGlmIG5vIGBhcnJvd0VsZW1lbnRgIGlzIHByb3ZpZGVkLlxuICAgKiBAbWVtYmVyb2YgbW9kaWZpZXJzXG4gICAqIEBpbm5lclxuICAgKi9cbiAgYXJyb3c6IHtcbiAgICAvKiogQHByb3Age251bWJlcn0gb3JkZXI9NTAwIC0gSW5kZXggdXNlZCB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiAqL1xuICAgIG9yZGVyOiA1MDAsXG4gICAgLyoqIEBwcm9wIHtCb29sZWFufSBlbmFibGVkPXRydWUgLSBXaGV0aGVyIHRoZSBtb2RpZmllciBpcyBlbmFibGVkIG9yIG5vdCAqL1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgLyoqIEBwcm9wIHtNb2RpZmllckZufSAqL1xuICAgIGZuOiBhcnJvdyxcbiAgICAvKiogQHByb3Age1N0cmluZ3xIVE1MRWxlbWVudH0gZWxlbWVudD0nW3gtYXJyb3ddJyAtIFNlbGVjdG9yIG9yIG5vZGUgdXNlZCBhcyBhcnJvdyAqL1xuICAgIGVsZW1lbnQ6ICdbeC1hcnJvd10nXG4gIH0sXG5cbiAgLyoqXG4gICAqIE1vZGlmaWVyIHVzZWQgdG8gZmxpcCB0aGUgcG9wcGVyJ3MgcGxhY2VtZW50IHdoZW4gaXQgc3RhcnRzIHRvIG92ZXJsYXAgaXRzXG4gICAqIHJlZmVyZW5jZSBlbGVtZW50LlxuICAgKlxuICAgKiBSZXF1aXJlcyB0aGUgYHByZXZlbnRPdmVyZmxvd2AgbW9kaWZpZXIgYmVmb3JlIGl0IGluIG9yZGVyIHRvIHdvcmsuXG4gICAqXG4gICAqICoqTk9URToqKiB0aGlzIG1vZGlmaWVyIHdpbGwgaW50ZXJydXB0IHRoZSBjdXJyZW50IHVwZGF0ZSBjeWNsZSBhbmQgd2lsbFxuICAgKiByZXN0YXJ0IGl0IGlmIGl0IGRldGVjdHMgdGhlIG5lZWQgdG8gZmxpcCB0aGUgcGxhY2VtZW50LlxuICAgKiBAbWVtYmVyb2YgbW9kaWZpZXJzXG4gICAqIEBpbm5lclxuICAgKi9cbiAgZmxpcDoge1xuICAgIC8qKiBAcHJvcCB7bnVtYmVyfSBvcmRlcj02MDAgLSBJbmRleCB1c2VkIHRvIGRlZmluZSB0aGUgb3JkZXIgb2YgZXhlY3V0aW9uICovXG4gICAgb3JkZXI6IDYwMCxcbiAgICAvKiogQHByb3Age0Jvb2xlYW59IGVuYWJsZWQ9dHJ1ZSAtIFdoZXRoZXIgdGhlIG1vZGlmaWVyIGlzIGVuYWJsZWQgb3Igbm90ICovXG4gICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAvKiogQHByb3Age01vZGlmaWVyRm59ICovXG4gICAgZm46IGZsaXAsXG4gICAgLyoqXG4gICAgICogQHByb3Age1N0cmluZ3xBcnJheX0gYmVoYXZpb3I9J2ZsaXAnXG4gICAgICogVGhlIGJlaGF2aW9yIHVzZWQgdG8gY2hhbmdlIHRoZSBwb3BwZXIncyBwbGFjZW1lbnQuIEl0IGNhbiBiZSBvbmUgb2ZcbiAgICAgKiBgZmxpcGAsIGBjbG9ja3dpc2VgLCBgY291bnRlcmNsb2Nrd2lzZWAgb3IgYW4gYXJyYXkgd2l0aCBhIGxpc3Qgb2YgdmFsaWRcbiAgICAgKiBwbGFjZW1lbnRzICh3aXRoIG9wdGlvbmFsIHZhcmlhdGlvbnMpXG4gICAgICovXG4gICAgYmVoYXZpb3I6ICdmbGlwJyxcbiAgICAvKipcbiAgICAgKiBAcHJvcCB7bnVtYmVyfSBwYWRkaW5nPTVcbiAgICAgKiBUaGUgcG9wcGVyIHdpbGwgZmxpcCBpZiBpdCBoaXRzIHRoZSBlZGdlcyBvZiB0aGUgYGJvdW5kYXJpZXNFbGVtZW50YFxuICAgICAqL1xuICAgIHBhZGRpbmc6IDUsXG4gICAgLyoqXG4gICAgICogQHByb3Age1N0cmluZ3xIVE1MRWxlbWVudH0gYm91bmRhcmllc0VsZW1lbnQ9J3ZpZXdwb3J0J1xuICAgICAqIFRoZSBlbGVtZW50IHdoaWNoIHdpbGwgZGVmaW5lIHRoZSBib3VuZGFyaWVzIG9mIHRoZSBwb3BwZXIgcG9zaXRpb24uXG4gICAgICogVGhlIHBvcHBlciB3aWxsIG5ldmVyIGJlIHBsYWNlZCBvdXRzaWRlIG9mIHRoZSBkZWZpbmVkIGJvdW5kYXJpZXNcbiAgICAgKiAoZXhjZXB0IGlmIGBrZWVwVG9nZXRoZXJgIGlzIGVuYWJsZWQpXG4gICAgICovXG4gICAgYm91bmRhcmllc0VsZW1lbnQ6ICd2aWV3cG9ydCcsXG4gICAgLyoqXG4gICAgICogQHByb3Age0Jvb2xlYW59IGZsaXBWYXJpYXRpb25zPWZhbHNlXG4gICAgICogVGhlIHBvcHBlciB3aWxsIHN3aXRjaCBwbGFjZW1lbnQgdmFyaWF0aW9uIGJldHdlZW4gYC1zdGFydGAgYW5kIGAtZW5kYCB3aGVuXG4gICAgICogdGhlIHJlZmVyZW5jZSBlbGVtZW50IG92ZXJsYXBzIGl0cyBib3VuZGFyaWVzLlxuICAgICAqXG4gICAgICogVGhlIG9yaWdpbmFsIHBsYWNlbWVudCBzaG91bGQgaGF2ZSBhIHNldCB2YXJpYXRpb24uXG4gICAgICovXG4gICAgZmxpcFZhcmlhdGlvbnM6IGZhbHNlLFxuICAgIC8qKlxuICAgICAqIEBwcm9wIHtCb29sZWFufSBmbGlwVmFyaWF0aW9uc0J5Q29udGVudD1mYWxzZVxuICAgICAqIFRoZSBwb3BwZXIgd2lsbCBzd2l0Y2ggcGxhY2VtZW50IHZhcmlhdGlvbiBiZXR3ZWVuIGAtc3RhcnRgIGFuZCBgLWVuZGAgd2hlblxuICAgICAqIHRoZSBwb3BwZXIgZWxlbWVudCBvdmVybGFwcyBpdHMgcmVmZXJlbmNlIGJvdW5kYXJpZXMuXG4gICAgICpcbiAgICAgKiBUaGUgb3JpZ2luYWwgcGxhY2VtZW50IHNob3VsZCBoYXZlIGEgc2V0IHZhcmlhdGlvbi5cbiAgICAgKi9cbiAgICBmbGlwVmFyaWF0aW9uc0J5Q29udGVudDogZmFsc2VcbiAgfSxcblxuICAvKipcbiAgICogTW9kaWZpZXIgdXNlZCB0byBtYWtlIHRoZSBwb3BwZXIgZmxvdyB0b3dhcmQgdGhlIGlubmVyIG9mIHRoZSByZWZlcmVuY2UgZWxlbWVudC5cbiAgICogQnkgZGVmYXVsdCwgd2hlbiB0aGlzIG1vZGlmaWVyIGlzIGRpc2FibGVkLCB0aGUgcG9wcGVyIHdpbGwgYmUgcGxhY2VkIG91dHNpZGVcbiAgICogdGhlIHJlZmVyZW5jZSBlbGVtZW50LlxuICAgKiBAbWVtYmVyb2YgbW9kaWZpZXJzXG4gICAqIEBpbm5lclxuICAgKi9cbiAgaW5uZXI6IHtcbiAgICAvKiogQHByb3Age251bWJlcn0gb3JkZXI9NzAwIC0gSW5kZXggdXNlZCB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiAqL1xuICAgIG9yZGVyOiA3MDAsXG4gICAgLyoqIEBwcm9wIHtCb29sZWFufSBlbmFibGVkPWZhbHNlIC0gV2hldGhlciB0aGUgbW9kaWZpZXIgaXMgZW5hYmxlZCBvciBub3QgKi9cbiAgICBlbmFibGVkOiBmYWxzZSxcbiAgICAvKiogQHByb3Age01vZGlmaWVyRm59ICovXG4gICAgZm46IGlubmVyXG4gIH0sXG5cbiAgLyoqXG4gICAqIE1vZGlmaWVyIHVzZWQgdG8gaGlkZSB0aGUgcG9wcGVyIHdoZW4gaXRzIHJlZmVyZW5jZSBlbGVtZW50IGlzIG91dHNpZGUgb2YgdGhlXG4gICAqIHBvcHBlciBib3VuZGFyaWVzLiBJdCB3aWxsIHNldCBhIGB4LW91dC1vZi1ib3VuZGFyaWVzYCBhdHRyaWJ1dGUgd2hpY2ggY2FuXG4gICAqIGJlIHVzZWQgdG8gaGlkZSB3aXRoIGEgQ1NTIHNlbGVjdG9yIHRoZSBwb3BwZXIgd2hlbiBpdHMgcmVmZXJlbmNlIGlzXG4gICAqIG91dCBvZiBib3VuZGFyaWVzLlxuICAgKlxuICAgKiBSZXF1aXJlcyB0aGUgYHByZXZlbnRPdmVyZmxvd2AgbW9kaWZpZXIgYmVmb3JlIGl0IGluIG9yZGVyIHRvIHdvcmsuXG4gICAqIEBtZW1iZXJvZiBtb2RpZmllcnNcbiAgICogQGlubmVyXG4gICAqL1xuICBoaWRlOiB7XG4gICAgLyoqIEBwcm9wIHtudW1iZXJ9IG9yZGVyPTgwMCAtIEluZGV4IHVzZWQgdG8gZGVmaW5lIHRoZSBvcmRlciBvZiBleGVjdXRpb24gKi9cbiAgICBvcmRlcjogODAwLFxuICAgIC8qKiBAcHJvcCB7Qm9vbGVhbn0gZW5hYmxlZD10cnVlIC0gV2hldGhlciB0aGUgbW9kaWZpZXIgaXMgZW5hYmxlZCBvciBub3QgKi9cbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIC8qKiBAcHJvcCB7TW9kaWZpZXJGbn0gKi9cbiAgICBmbjogaGlkZVxuICB9LFxuXG4gIC8qKlxuICAgKiBDb21wdXRlcyB0aGUgc3R5bGUgdGhhdCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIHBvcHBlciBlbGVtZW50IHRvIGdldHNcbiAgICogcHJvcGVybHkgcG9zaXRpb25lZC5cbiAgICpcbiAgICogTm90ZSB0aGF0IHRoaXMgbW9kaWZpZXIgd2lsbCBub3QgdG91Y2ggdGhlIERPTSwgaXQganVzdCBwcmVwYXJlcyB0aGUgc3R5bGVzXG4gICAqIHNvIHRoYXQgYGFwcGx5U3R5bGVgIG1vZGlmaWVyIGNhbiBhcHBseSBpdC4gVGhpcyBzZXBhcmF0aW9uIGlzIHVzZWZ1bFxuICAgKiBpbiBjYXNlIHlvdSBuZWVkIHRvIHJlcGxhY2UgYGFwcGx5U3R5bGVgIHdpdGggYSBjdXN0b20gaW1wbGVtZW50YXRpb24uXG4gICAqXG4gICAqIFRoaXMgbW9kaWZpZXIgaGFzIGA4NTBgIGFzIGBvcmRlcmAgdmFsdWUgdG8gbWFpbnRhaW4gYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuICAgKiB3aXRoIHByZXZpb3VzIHZlcnNpb25zIG9mIFBvcHBlci5qcy4gRXhwZWN0IHRoZSBtb2RpZmllcnMgb3JkZXJpbmcgbWV0aG9kXG4gICAqIHRvIGNoYW5nZSBpbiBmdXR1cmUgbWFqb3IgdmVyc2lvbnMgb2YgdGhlIGxpYnJhcnkuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBtb2RpZmllcnNcbiAgICogQGlubmVyXG4gICAqL1xuICBjb21wdXRlU3R5bGU6IHtcbiAgICAvKiogQHByb3Age251bWJlcn0gb3JkZXI9ODUwIC0gSW5kZXggdXNlZCB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiAqL1xuICAgIG9yZGVyOiA4NTAsXG4gICAgLyoqIEBwcm9wIHtCb29sZWFufSBlbmFibGVkPXRydWUgLSBXaGV0aGVyIHRoZSBtb2RpZmllciBpcyBlbmFibGVkIG9yIG5vdCAqL1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgLyoqIEBwcm9wIHtNb2RpZmllckZufSAqL1xuICAgIGZuOiBjb21wdXRlU3R5bGUsXG4gICAgLyoqXG4gICAgICogQHByb3Age0Jvb2xlYW59IGdwdUFjY2VsZXJhdGlvbj10cnVlXG4gICAgICogSWYgdHJ1ZSwgaXQgdXNlcyB0aGUgQ1NTIDNEIHRyYW5zZm9ybWF0aW9uIHRvIHBvc2l0aW9uIHRoZSBwb3BwZXIuXG4gICAgICogT3RoZXJ3aXNlLCBpdCB3aWxsIHVzZSB0aGUgYHRvcGAgYW5kIGBsZWZ0YCBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgZ3B1QWNjZWxlcmF0aW9uOiB0cnVlLFxuICAgIC8qKlxuICAgICAqIEBwcm9wIHtzdHJpbmd9IFt4PSdib3R0b20nXVxuICAgICAqIFdoZXJlIHRvIGFuY2hvciB0aGUgWCBheGlzIChgYm90dG9tYCBvciBgdG9wYCkuIEFLQSBYIG9mZnNldCBvcmlnaW4uXG4gICAgICogQ2hhbmdlIHRoaXMgaWYgeW91ciBwb3BwZXIgc2hvdWxkIGdyb3cgaW4gYSBkaXJlY3Rpb24gZGlmZmVyZW50IGZyb20gYGJvdHRvbWBcbiAgICAgKi9cbiAgICB4OiAnYm90dG9tJyxcbiAgICAvKipcbiAgICAgKiBAcHJvcCB7c3RyaW5nfSBbeD0nbGVmdCddXG4gICAgICogV2hlcmUgdG8gYW5jaG9yIHRoZSBZIGF4aXMgKGBsZWZ0YCBvciBgcmlnaHRgKS4gQUtBIFkgb2Zmc2V0IG9yaWdpbi5cbiAgICAgKiBDaGFuZ2UgdGhpcyBpZiB5b3VyIHBvcHBlciBzaG91bGQgZ3JvdyBpbiBhIGRpcmVjdGlvbiBkaWZmZXJlbnQgZnJvbSBgcmlnaHRgXG4gICAgICovXG4gICAgeTogJ3JpZ2h0J1xuICB9LFxuXG4gIC8qKlxuICAgKiBBcHBsaWVzIHRoZSBjb21wdXRlZCBzdHlsZXMgdG8gdGhlIHBvcHBlciBlbGVtZW50LlxuICAgKlxuICAgKiBBbGwgdGhlIERPTSBtYW5pcHVsYXRpb25zIGFyZSBsaW1pdGVkIHRvIHRoaXMgbW9kaWZpZXIuIFRoaXMgaXMgdXNlZnVsIGluIGNhc2VcbiAgICogeW91IHdhbnQgdG8gaW50ZWdyYXRlIFBvcHBlci5qcyBpbnNpZGUgYSBmcmFtZXdvcmsgb3IgdmlldyBsaWJyYXJ5IGFuZCB5b3VcbiAgICogd2FudCB0byBkZWxlZ2F0ZSBhbGwgdGhlIERPTSBtYW5pcHVsYXRpb25zIHRvIGl0LlxuICAgKlxuICAgKiBOb3RlIHRoYXQgaWYgeW91IGRpc2FibGUgdGhpcyBtb2RpZmllciwgeW91IG11c3QgbWFrZSBzdXJlIHRoZSBwb3BwZXIgZWxlbWVudFxuICAgKiBoYXMgaXRzIHBvc2l0aW9uIHNldCB0byBgYWJzb2x1dGVgIGJlZm9yZSBQb3BwZXIuanMgY2FuIGRvIGl0cyB3b3JrIVxuICAgKlxuICAgKiBKdXN0IGRpc2FibGUgdGhpcyBtb2RpZmllciBhbmQgZGVmaW5lIHlvdXIgb3duIHRvIGFjaGlldmUgdGhlIGRlc2lyZWQgZWZmZWN0LlxuICAgKlxuICAgKiBAbWVtYmVyb2YgbW9kaWZpZXJzXG4gICAqIEBpbm5lclxuICAgKi9cbiAgYXBwbHlTdHlsZToge1xuICAgIC8qKiBAcHJvcCB7bnVtYmVyfSBvcmRlcj05MDAgLSBJbmRleCB1c2VkIHRvIGRlZmluZSB0aGUgb3JkZXIgb2YgZXhlY3V0aW9uICovXG4gICAgb3JkZXI6IDkwMCxcbiAgICAvKiogQHByb3Age0Jvb2xlYW59IGVuYWJsZWQ9dHJ1ZSAtIFdoZXRoZXIgdGhlIG1vZGlmaWVyIGlzIGVuYWJsZWQgb3Igbm90ICovXG4gICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAvKiogQHByb3Age01vZGlmaWVyRm59ICovXG4gICAgZm46IGFwcGx5U3R5bGUsXG4gICAgLyoqIEBwcm9wIHtGdW5jdGlvbn0gKi9cbiAgICBvbkxvYWQ6IGFwcGx5U3R5bGVPbkxvYWQsXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAxLjEwLjAsIHRoZSBwcm9wZXJ0eSBtb3ZlZCB0byBgY29tcHV0ZVN0eWxlYCBtb2RpZmllclxuICAgICAqIEBwcm9wIHtCb29sZWFufSBncHVBY2NlbGVyYXRpb249dHJ1ZVxuICAgICAqIElmIHRydWUsIGl0IHVzZXMgdGhlIENTUyAzRCB0cmFuc2Zvcm1hdGlvbiB0byBwb3NpdGlvbiB0aGUgcG9wcGVyLlxuICAgICAqIE90aGVyd2lzZSwgaXQgd2lsbCB1c2UgdGhlIGB0b3BgIGFuZCBgbGVmdGAgcHJvcGVydGllc1xuICAgICAqL1xuICAgIGdwdUFjY2VsZXJhdGlvbjogdW5kZWZpbmVkXG4gIH1cbn07XG5cbi8qKlxuICogVGhlIGBkYXRhT2JqZWN0YCBpcyBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIGluZm9ybWF0aW9uIHVzZWQgYnkgUG9wcGVyLmpzLlxuICogVGhpcyBvYmplY3QgaXMgcGFzc2VkIHRvIG1vZGlmaWVycyBhbmQgdG8gdGhlIGBvbkNyZWF0ZWAgYW5kIGBvblVwZGF0ZWAgY2FsbGJhY2tzLlxuICogQG5hbWUgZGF0YU9iamVjdFxuICogQHByb3BlcnR5IHtPYmplY3R9IGRhdGEuaW5zdGFuY2UgVGhlIFBvcHBlci5qcyBpbnN0YW5jZVxuICogQHByb3BlcnR5IHtTdHJpbmd9IGRhdGEucGxhY2VtZW50IFBsYWNlbWVudCBhcHBsaWVkIHRvIHBvcHBlclxuICogQHByb3BlcnR5IHtTdHJpbmd9IGRhdGEub3JpZ2luYWxQbGFjZW1lbnQgUGxhY2VtZW50IG9yaWdpbmFsbHkgZGVmaW5lZCBvbiBpbml0XG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IGRhdGEuZmxpcHBlZCBUcnVlIGlmIHBvcHBlciBoYXMgYmVlbiBmbGlwcGVkIGJ5IGZsaXAgbW9kaWZpZXJcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gZGF0YS5oaWRlIFRydWUgaWYgdGhlIHJlZmVyZW5jZSBlbGVtZW50IGlzIG91dCBvZiBib3VuZGFyaWVzLCB1c2VmdWwgdG8ga25vdyB3aGVuIHRvIGhpZGUgdGhlIHBvcHBlclxuICogQHByb3BlcnR5IHtIVE1MRWxlbWVudH0gZGF0YS5hcnJvd0VsZW1lbnQgTm9kZSB1c2VkIGFzIGFycm93IGJ5IGFycm93IG1vZGlmaWVyXG4gKiBAcHJvcGVydHkge09iamVjdH0gZGF0YS5zdHlsZXMgQW55IENTUyBwcm9wZXJ0eSBkZWZpbmVkIGhlcmUgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBwb3BwZXIuIEl0IGV4cGVjdHMgdGhlIEphdmFTY3JpcHQgbm9tZW5jbGF0dXJlIChlZy4gYG1hcmdpbkJvdHRvbWApXG4gKiBAcHJvcGVydHkge09iamVjdH0gZGF0YS5hcnJvd1N0eWxlcyBBbnkgQ1NTIHByb3BlcnR5IGRlZmluZWQgaGVyZSB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIHBvcHBlciBhcnJvdy4gSXQgZXhwZWN0cyB0aGUgSmF2YVNjcmlwdCBub21lbmNsYXR1cmUgKGVnLiBgbWFyZ2luQm90dG9tYClcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBkYXRhLmJvdW5kYXJpZXMgT2Zmc2V0cyBvZiB0aGUgcG9wcGVyIGJvdW5kYXJpZXNcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBkYXRhLm9mZnNldHMgVGhlIG1lYXN1cmVtZW50cyBvZiBwb3BwZXIsIHJlZmVyZW5jZSBhbmQgYXJyb3cgZWxlbWVudHNcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBkYXRhLm9mZnNldHMucG9wcGVyIGB0b3BgLCBgbGVmdGAsIGB3aWR0aGAsIGBoZWlnaHRgIHZhbHVlc1xuICogQHByb3BlcnR5IHtPYmplY3R9IGRhdGEub2Zmc2V0cy5yZWZlcmVuY2UgYHRvcGAsIGBsZWZ0YCwgYHdpZHRoYCwgYGhlaWdodGAgdmFsdWVzXG4gKiBAcHJvcGVydHkge09iamVjdH0gZGF0YS5vZmZzZXRzLmFycm93XSBgdG9wYCBhbmQgYGxlZnRgIG9mZnNldHMsIG9ubHkgb25lIG9mIHRoZW0gd2lsbCBiZSBkaWZmZXJlbnQgZnJvbSAwXG4gKi9cblxuLyoqXG4gKiBEZWZhdWx0IG9wdGlvbnMgcHJvdmlkZWQgdG8gUG9wcGVyLmpzIGNvbnN0cnVjdG9yLjxiciAvPlxuICogVGhlc2UgY2FuIGJlIG92ZXJyaWRkZW4gdXNpbmcgdGhlIGBvcHRpb25zYCBhcmd1bWVudCBvZiBQb3BwZXIuanMuPGJyIC8+XG4gKiBUbyBvdmVycmlkZSBhbiBvcHRpb24sIHNpbXBseSBwYXNzIGFuIG9iamVjdCB3aXRoIHRoZSBzYW1lXG4gKiBzdHJ1Y3R1cmUgb2YgdGhlIGBvcHRpb25zYCBvYmplY3QsIGFzIHRoZSAzcmQgYXJndW1lbnQuIEZvciBleGFtcGxlOlxuICogYGBgXG4gKiBuZXcgUG9wcGVyKHJlZiwgcG9wLCB7XG4gKiAgIG1vZGlmaWVyczoge1xuICogICAgIHByZXZlbnRPdmVyZmxvdzogeyBlbmFibGVkOiBmYWxzZSB9XG4gKiAgIH1cbiAqIH0pXG4gKiBgYGBcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUG9wcGVyXG4gKi9cbnZhciBEZWZhdWx0cyA9IHtcbiAgLyoqXG4gICAqIFBvcHBlcidzIHBsYWNlbWVudC5cbiAgICogQHByb3Age1BvcHBlci5wbGFjZW1lbnRzfSBwbGFjZW1lbnQ9J2JvdHRvbSdcbiAgICovXG4gIHBsYWNlbWVudDogJ2JvdHRvbScsXG5cbiAgLyoqXG4gICAqIFNldCB0aGlzIHRvIHRydWUgaWYgeW91IHdhbnQgcG9wcGVyIHRvIHBvc2l0aW9uIGl0IHNlbGYgaW4gJ2ZpeGVkJyBtb2RlXG4gICAqIEBwcm9wIHtCb29sZWFufSBwb3NpdGlvbkZpeGVkPWZhbHNlXG4gICAqL1xuICBwb3NpdGlvbkZpeGVkOiBmYWxzZSxcblxuICAvKipcbiAgICogV2hldGhlciBldmVudHMgKHJlc2l6ZSwgc2Nyb2xsKSBhcmUgaW5pdGlhbGx5IGVuYWJsZWQuXG4gICAqIEBwcm9wIHtCb29sZWFufSBldmVudHNFbmFibGVkPXRydWVcbiAgICovXG4gIGV2ZW50c0VuYWJsZWQ6IHRydWUsXG5cbiAgLyoqXG4gICAqIFNldCB0byB0cnVlIGlmIHlvdSB3YW50IHRvIGF1dG9tYXRpY2FsbHkgcmVtb3ZlIHRoZSBwb3BwZXIgd2hlblxuICAgKiB5b3UgY2FsbCB0aGUgYGRlc3Ryb3lgIG1ldGhvZC5cbiAgICogQHByb3Age0Jvb2xlYW59IHJlbW92ZU9uRGVzdHJveT1mYWxzZVxuICAgKi9cbiAgcmVtb3ZlT25EZXN0cm95OiBmYWxzZSxcblxuICAvKipcbiAgICogQ2FsbGJhY2sgY2FsbGVkIHdoZW4gdGhlIHBvcHBlciBpcyBjcmVhdGVkLjxiciAvPlxuICAgKiBCeSBkZWZhdWx0LCBpdCBpcyBzZXQgdG8gbm8tb3AuPGJyIC8+XG4gICAqIEFjY2VzcyBQb3BwZXIuanMgaW5zdGFuY2Ugd2l0aCBgZGF0YS5pbnN0YW5jZWAuXG4gICAqIEBwcm9wIHtvbkNyZWF0ZX1cbiAgICovXG4gIG9uQ3JlYXRlOiBmdW5jdGlvbiBvbkNyZWF0ZSgpIHt9LFxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayBjYWxsZWQgd2hlbiB0aGUgcG9wcGVyIGlzIHVwZGF0ZWQuIFRoaXMgY2FsbGJhY2sgaXMgbm90IGNhbGxlZFxuICAgKiBvbiB0aGUgaW5pdGlhbGl6YXRpb24vY3JlYXRpb24gb2YgdGhlIHBvcHBlciwgYnV0IG9ubHkgb24gc3Vic2VxdWVudFxuICAgKiB1cGRhdGVzLjxiciAvPlxuICAgKiBCeSBkZWZhdWx0LCBpdCBpcyBzZXQgdG8gbm8tb3AuPGJyIC8+XG4gICAqIEFjY2VzcyBQb3BwZXIuanMgaW5zdGFuY2Ugd2l0aCBgZGF0YS5pbnN0YW5jZWAuXG4gICAqIEBwcm9wIHtvblVwZGF0ZX1cbiAgICovXG4gIG9uVXBkYXRlOiBmdW5jdGlvbiBvblVwZGF0ZSgpIHt9LFxuXG4gIC8qKlxuICAgKiBMaXN0IG9mIG1vZGlmaWVycyB1c2VkIHRvIG1vZGlmeSB0aGUgb2Zmc2V0cyBiZWZvcmUgdGhleSBhcmUgYXBwbGllZCB0byB0aGUgcG9wcGVyLlxuICAgKiBUaGV5IHByb3ZpZGUgbW9zdCBvZiB0aGUgZnVuY3Rpb25hbGl0aWVzIG9mIFBvcHBlci5qcy5cbiAgICogQHByb3Age21vZGlmaWVyc31cbiAgICovXG4gIG1vZGlmaWVyczogbW9kaWZpZXJzXG59O1xuXG4vKipcbiAqIEBjYWxsYmFjayBvbkNyZWF0ZVxuICogQHBhcmFtIHtkYXRhT2JqZWN0fSBkYXRhXG4gKi9cblxuLyoqXG4gKiBAY2FsbGJhY2sgb25VcGRhdGVcbiAqIEBwYXJhbSB7ZGF0YU9iamVjdH0gZGF0YVxuICovXG5cbi8vIFV0aWxzXG4vLyBNZXRob2RzXG52YXIgUG9wcGVyID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBQb3BwZXIuanMgaW5zdGFuY2UuXG4gICAqIEBjbGFzcyBQb3BwZXJcbiAgICogQHBhcmFtIHtFbGVtZW50fHJlZmVyZW5jZU9iamVjdH0gcmVmZXJlbmNlIC0gVGhlIHJlZmVyZW5jZSBlbGVtZW50IHVzZWQgdG8gcG9zaXRpb24gdGhlIHBvcHBlclxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IHBvcHBlciAtIFRoZSBIVE1MIC8gWE1MIGVsZW1lbnQgdXNlZCBhcyB0aGUgcG9wcGVyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gWW91ciBjdXN0b20gb3B0aW9ucyB0byBvdmVycmlkZSB0aGUgb25lcyBkZWZpbmVkIGluIFtEZWZhdWx0c10oI2RlZmF1bHRzKVxuICAgKiBAcmV0dXJuIHtPYmplY3R9IGluc3RhbmNlIC0gVGhlIGdlbmVyYXRlZCBQb3BwZXIuanMgaW5zdGFuY2VcbiAgICovXG4gIGZ1bmN0aW9uIFBvcHBlcihyZWZlcmVuY2UsIHBvcHBlcikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgUG9wcGVyKTtcblxuICAgIHRoaXMuc2NoZWR1bGVVcGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKF90aGlzLnVwZGF0ZSk7XG4gICAgfTtcblxuICAgIC8vIG1ha2UgdXBkYXRlKCkgZGVib3VuY2VkLCBzbyB0aGF0IGl0IG9ubHkgcnVucyBhdCBtb3N0IG9uY2UtcGVyLXRpY2tcbiAgICB0aGlzLnVwZGF0ZSA9IGRlYm91bmNlKHRoaXMudXBkYXRlLmJpbmQodGhpcykpO1xuXG4gICAgLy8gd2l0aCB7fSB3ZSBjcmVhdGUgYSBuZXcgb2JqZWN0IHdpdGggdGhlIG9wdGlvbnMgaW5zaWRlIGl0XG4gICAgdGhpcy5vcHRpb25zID0gX2V4dGVuZHMoe30sIFBvcHBlci5EZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAvLyBpbml0IHN0YXRlXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzRGVzdHJveWVkOiBmYWxzZSxcbiAgICAgIGlzQ3JlYXRlZDogZmFsc2UsXG4gICAgICBzY3JvbGxQYXJlbnRzOiBbXVxuICAgIH07XG5cbiAgICAvLyBnZXQgcmVmZXJlbmNlIGFuZCBwb3BwZXIgZWxlbWVudHMgKGFsbG93IGpRdWVyeSB3cmFwcGVycylcbiAgICB0aGlzLnJlZmVyZW5jZSA9IHJlZmVyZW5jZSAmJiByZWZlcmVuY2UuanF1ZXJ5ID8gcmVmZXJlbmNlWzBdIDogcmVmZXJlbmNlO1xuICAgIHRoaXMucG9wcGVyID0gcG9wcGVyICYmIHBvcHBlci5qcXVlcnkgPyBwb3BwZXJbMF0gOiBwb3BwZXI7XG5cbiAgICAvLyBEZWVwIG1lcmdlIG1vZGlmaWVycyBvcHRpb25zXG4gICAgdGhpcy5vcHRpb25zLm1vZGlmaWVycyA9IHt9O1xuICAgIE9iamVjdC5rZXlzKF9leHRlbmRzKHt9LCBQb3BwZXIuRGVmYXVsdHMubW9kaWZpZXJzLCBvcHRpb25zLm1vZGlmaWVycykpLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgIF90aGlzLm9wdGlvbnMubW9kaWZpZXJzW25hbWVdID0gX2V4dGVuZHMoe30sIFBvcHBlci5EZWZhdWx0cy5tb2RpZmllcnNbbmFtZV0gfHwge30sIG9wdGlvbnMubW9kaWZpZXJzID8gb3B0aW9ucy5tb2RpZmllcnNbbmFtZV0gOiB7fSk7XG4gICAgfSk7XG5cbiAgICAvLyBSZWZhY3RvcmluZyBtb2RpZmllcnMnIGxpc3QgKE9iamVjdCA9PiBBcnJheSlcbiAgICB0aGlzLm1vZGlmaWVycyA9IE9iamVjdC5rZXlzKHRoaXMub3B0aW9ucy5tb2RpZmllcnMpLm1hcChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgcmV0dXJuIF9leHRlbmRzKHtcbiAgICAgICAgbmFtZTogbmFtZVxuICAgICAgfSwgX3RoaXMub3B0aW9ucy5tb2RpZmllcnNbbmFtZV0pO1xuICAgIH0pXG4gICAgLy8gc29ydCB0aGUgbW9kaWZpZXJzIGJ5IG9yZGVyXG4gICAgLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHJldHVybiBhLm9yZGVyIC0gYi5vcmRlcjtcbiAgICB9KTtcblxuICAgIC8vIG1vZGlmaWVycyBoYXZlIHRoZSBhYmlsaXR5IHRvIGV4ZWN1dGUgYXJiaXRyYXJ5IGNvZGUgd2hlbiBQb3BwZXIuanMgZ2V0IGluaXRlZFxuICAgIC8vIHN1Y2ggY29kZSBpcyBleGVjdXRlZCBpbiB0aGUgc2FtZSBvcmRlciBvZiBpdHMgbW9kaWZpZXJcbiAgICAvLyB0aGV5IGNvdWxkIGFkZCBuZXcgcHJvcGVydGllcyB0byB0aGVpciBvcHRpb25zIGNvbmZpZ3VyYXRpb25cbiAgICAvLyBCRSBBV0FSRTogZG9uJ3QgYWRkIG9wdGlvbnMgdG8gYG9wdGlvbnMubW9kaWZpZXJzLm5hbWVgIGJ1dCB0byBgbW9kaWZpZXJPcHRpb25zYCFcbiAgICB0aGlzLm1vZGlmaWVycy5mb3JFYWNoKGZ1bmN0aW9uIChtb2RpZmllck9wdGlvbnMpIHtcbiAgICAgIGlmIChtb2RpZmllck9wdGlvbnMuZW5hYmxlZCAmJiBpc0Z1bmN0aW9uKG1vZGlmaWVyT3B0aW9ucy5vbkxvYWQpKSB7XG4gICAgICAgIG1vZGlmaWVyT3B0aW9ucy5vbkxvYWQoX3RoaXMucmVmZXJlbmNlLCBfdGhpcy5wb3BwZXIsIF90aGlzLm9wdGlvbnMsIG1vZGlmaWVyT3B0aW9ucywgX3RoaXMuc3RhdGUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gZmlyZSB0aGUgZmlyc3QgdXBkYXRlIHRvIHBvc2l0aW9uIHRoZSBwb3BwZXIgaW4gdGhlIHJpZ2h0IHBsYWNlXG4gICAgdGhpcy51cGRhdGUoKTtcblxuICAgIHZhciBldmVudHNFbmFibGVkID0gdGhpcy5vcHRpb25zLmV2ZW50c0VuYWJsZWQ7XG4gICAgaWYgKGV2ZW50c0VuYWJsZWQpIHtcbiAgICAgIC8vIHNldHVwIGV2ZW50IGxpc3RlbmVycywgdGhleSB3aWxsIHRha2UgY2FyZSBvZiB1cGRhdGUgdGhlIHBvc2l0aW9uIGluIHNwZWNpZmljIHNpdHVhdGlvbnNcbiAgICAgIHRoaXMuZW5hYmxlRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB9XG5cbiAgICB0aGlzLnN0YXRlLmV2ZW50c0VuYWJsZWQgPSBldmVudHNFbmFibGVkO1xuICB9XG5cbiAgLy8gV2UgY2FuJ3QgdXNlIGNsYXNzIHByb3BlcnRpZXMgYmVjYXVzZSB0aGV5IGRvbid0IGdldCBsaXN0ZWQgaW4gdGhlXG4gIC8vIGNsYXNzIHByb3RvdHlwZSBhbmQgYnJlYWsgc3R1ZmYgbGlrZSBTaW5vbiBzdHVic1xuXG5cbiAgY3JlYXRlQ2xhc3MoUG9wcGVyLCBbe1xuICAgIGtleTogJ3VwZGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZSQkMSgpIHtcbiAgICAgIHJldHVybiB1cGRhdGUuY2FsbCh0aGlzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdkZXN0cm95JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSQkMSgpIHtcbiAgICAgIHJldHVybiBkZXN0cm95LmNhbGwodGhpcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZW5hYmxlRXZlbnRMaXN0ZW5lcnMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlbmFibGVFdmVudExpc3RlbmVycyQkMSgpIHtcbiAgICAgIHJldHVybiBlbmFibGVFdmVudExpc3RlbmVycy5jYWxsKHRoaXMpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2Rpc2FibGVFdmVudExpc3RlbmVycycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRpc2FibGVFdmVudExpc3RlbmVycyQkMSgpIHtcbiAgICAgIHJldHVybiBkaXNhYmxlRXZlbnRMaXN0ZW5lcnMuY2FsbCh0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTY2hlZHVsZXMgYW4gdXBkYXRlLiBJdCB3aWxsIHJ1biBvbiB0aGUgbmV4dCBVSSB1cGRhdGUgYXZhaWxhYmxlLlxuICAgICAqIEBtZXRob2Qgc2NoZWR1bGVVcGRhdGVcbiAgICAgKiBAbWVtYmVyb2YgUG9wcGVyXG4gICAgICovXG5cblxuICAgIC8qKlxuICAgICAqIENvbGxlY3Rpb24gb2YgdXRpbGl0aWVzIHVzZWZ1bCB3aGVuIHdyaXRpbmcgY3VzdG9tIG1vZGlmaWVycy5cbiAgICAgKiBTdGFydGluZyBmcm9tIHZlcnNpb24gMS43LCB0aGlzIG1ldGhvZCBpcyBhdmFpbGFibGUgb25seSBpZiB5b3VcbiAgICAgKiBpbmNsdWRlIGBwb3BwZXItdXRpbHMuanNgIGJlZm9yZSBgcG9wcGVyLmpzYC5cbiAgICAgKlxuICAgICAqICoqREVQUkVDQVRJT04qKjogVGhpcyB3YXkgdG8gYWNjZXNzIFBvcHBlclV0aWxzIGlzIGRlcHJlY2F0ZWRcbiAgICAgKiBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHYyISBVc2UgdGhlIFBvcHBlclV0aWxzIG1vZHVsZSBkaXJlY3RseSBpbnN0ZWFkLlxuICAgICAqIER1ZSB0byB0aGUgaGlnaCBpbnN0YWJpbGl0eSBvZiB0aGUgbWV0aG9kcyBjb250YWluZWQgaW4gVXRpbHMsIHdlIGNhbid0XG4gICAgICogZ3VhcmFudGVlIHRoZW0gdG8gZm9sbG93IHNlbXZlci4gVXNlIHRoZW0gYXQgeW91ciBvd24gcmlzayFcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIHZlcnNpb24gMS44XG4gICAgICogQG1lbWJlciBVdGlsc1xuICAgICAqIEBtZW1iZXJvZiBQb3BwZXJcbiAgICAgKi9cblxuICB9XSk7XG4gIHJldHVybiBQb3BwZXI7XG59KCk7XG5cbi8qKlxuICogVGhlIGByZWZlcmVuY2VPYmplY3RgIGlzIGFuIG9iamVjdCB0aGF0IHByb3ZpZGVzIGFuIGludGVyZmFjZSBjb21wYXRpYmxlIHdpdGggUG9wcGVyLmpzXG4gKiBhbmQgbGV0cyB5b3UgdXNlIGl0IGFzIHJlcGxhY2VtZW50IG9mIGEgcmVhbCBET00gbm9kZS48YnIgLz5cbiAqIFlvdSBjYW4gdXNlIHRoaXMgbWV0aG9kIHRvIHBvc2l0aW9uIGEgcG9wcGVyIHJlbGF0aXZlbHkgdG8gYSBzZXQgb2YgY29vcmRpbmF0ZXNcbiAqIGluIGNhc2UgeW91IGRvbid0IGhhdmUgYSBET00gbm9kZSB0byB1c2UgYXMgcmVmZXJlbmNlLlxuICpcbiAqIGBgYFxuICogbmV3IFBvcHBlcihyZWZlcmVuY2VPYmplY3QsIHBvcHBlck5vZGUpO1xuICogYGBgXG4gKlxuICogTkI6IFRoaXMgZmVhdHVyZSBpc24ndCBzdXBwb3J0ZWQgaW4gSW50ZXJuZXQgRXhwbG9yZXIgMTAuXG4gKiBAbmFtZSByZWZlcmVuY2VPYmplY3RcbiAqIEBwcm9wZXJ0eSB7RnVuY3Rpb259IGRhdGEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0XG4gKiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHNldCBvZiBjb29yZGluYXRlcyBjb21wYXRpYmxlIHdpdGggdGhlIG5hdGl2ZSBgZ2V0Qm91bmRpbmdDbGllbnRSZWN0YCBtZXRob2QuXG4gKiBAcHJvcGVydHkge251bWJlcn0gZGF0YS5jbGllbnRXaWR0aFxuICogQW4gRVM2IGdldHRlciB0aGF0IHdpbGwgcmV0dXJuIHRoZSB3aWR0aCBvZiB0aGUgdmlydHVhbCByZWZlcmVuY2UgZWxlbWVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkYXRhLmNsaWVudEhlaWdodFxuICogQW4gRVM2IGdldHRlciB0aGF0IHdpbGwgcmV0dXJuIHRoZSBoZWlnaHQgb2YgdGhlIHZpcnR1YWwgcmVmZXJlbmNlIGVsZW1lbnQuXG4gKi9cblxuXG5Qb3BwZXIuVXRpbHMgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiBnbG9iYWwpLlBvcHBlclV0aWxzO1xuUG9wcGVyLnBsYWNlbWVudHMgPSBwbGFjZW1lbnRzO1xuUG9wcGVyLkRlZmF1bHRzID0gRGVmYXVsdHM7XG5cbmV4cG9ydCBkZWZhdWx0IFBvcHBlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBvcHBlci5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/popper.js/dist/esm/popper.js\n");

/***/ }),

/***/ "./node_modules/pusher-js/dist/web/pusher.js":
/*!***************************************************!*\
  !*** ./node_modules/pusher-js/dist/web/pusher.js ***!
  \***************************************************/
/***/ ((module) => {

eval("/*!\n * Pusher JavaScript Library v7.6.0\n * https://pusher.com/\n *\n * Copyright 2020, Pusher\n * Released under the MIT licence.\n */\n\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(true)\n\t\tmodule.exports = factory();\n\telse {}\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __nested_webpack_require_669__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __nested_webpack_require_669__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__nested_webpack_require_669__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__nested_webpack_require_669__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__nested_webpack_require_669__.d = function(exports, name, getter) {\n/******/ \t\tif(!__nested_webpack_require_669__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__nested_webpack_require_669__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__nested_webpack_require_669__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __nested_webpack_require_669__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__nested_webpack_require_669__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __nested_webpack_require_669__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__nested_webpack_require_669__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__nested_webpack_require_669__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__nested_webpack_require_669__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__nested_webpack_require_669__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __nested_webpack_require_669__(__nested_webpack_require_669__.s = 2);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// Copyright (C) 2016 Dmitry Chestnykh\n// MIT License. See LICENSE file for details.\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Package base64 implements Base64 encoding and decoding.\n */\n// Invalid character used in decoding to indicate\n// that the character to decode is out of range of\n// alphabet and cannot be decoded.\nvar INVALID_BYTE = 256;\n/**\n * Implements standard Base64 encoding.\n *\n * Operates in constant time.\n */\nvar Coder = /** @class */ (function () {\n    // TODO(dchest): methods to encode chunk-by-chunk.\n    function Coder(_paddingCharacter) {\n        if (_paddingCharacter === void 0) { _paddingCharacter = \"=\"; }\n        this._paddingCharacter = _paddingCharacter;\n    }\n    Coder.prototype.encodedLength = function (length) {\n        if (!this._paddingCharacter) {\n            return (length * 8 + 5) / 6 | 0;\n        }\n        return (length + 2) / 3 * 4 | 0;\n    };\n    Coder.prototype.encode = function (data) {\n        var out = \"\";\n        var i = 0;\n        for (; i < data.length - 2; i += 3) {\n            var c = (data[i] << 16) | (data[i + 1] << 8) | (data[i + 2]);\n            out += this._encodeByte((c >>> 3 * 6) & 63);\n            out += this._encodeByte((c >>> 2 * 6) & 63);\n            out += this._encodeByte((c >>> 1 * 6) & 63);\n            out += this._encodeByte((c >>> 0 * 6) & 63);\n        }\n        var left = data.length - i;\n        if (left > 0) {\n            var c = (data[i] << 16) | (left === 2 ? data[i + 1] << 8 : 0);\n            out += this._encodeByte((c >>> 3 * 6) & 63);\n            out += this._encodeByte((c >>> 2 * 6) & 63);\n            if (left === 2) {\n                out += this._encodeByte((c >>> 1 * 6) & 63);\n            }\n            else {\n                out += this._paddingCharacter || \"\";\n            }\n            out += this._paddingCharacter || \"\";\n        }\n        return out;\n    };\n    Coder.prototype.maxDecodedLength = function (length) {\n        if (!this._paddingCharacter) {\n            return (length * 6 + 7) / 8 | 0;\n        }\n        return length / 4 * 3 | 0;\n    };\n    Coder.prototype.decodedLength = function (s) {\n        return this.maxDecodedLength(s.length - this._getPaddingLength(s));\n    };\n    Coder.prototype.decode = function (s) {\n        if (s.length === 0) {\n            return new Uint8Array(0);\n        }\n        var paddingLength = this._getPaddingLength(s);\n        var length = s.length - paddingLength;\n        var out = new Uint8Array(this.maxDecodedLength(length));\n        var op = 0;\n        var i = 0;\n        var haveBad = 0;\n        var v0 = 0, v1 = 0, v2 = 0, v3 = 0;\n        for (; i < length - 4; i += 4) {\n            v0 = this._decodeChar(s.charCodeAt(i + 0));\n            v1 = this._decodeChar(s.charCodeAt(i + 1));\n            v2 = this._decodeChar(s.charCodeAt(i + 2));\n            v3 = this._decodeChar(s.charCodeAt(i + 3));\n            out[op++] = (v0 << 2) | (v1 >>> 4);\n            out[op++] = (v1 << 4) | (v2 >>> 2);\n            out[op++] = (v2 << 6) | v3;\n            haveBad |= v0 & INVALID_BYTE;\n            haveBad |= v1 & INVALID_BYTE;\n            haveBad |= v2 & INVALID_BYTE;\n            haveBad |= v3 & INVALID_BYTE;\n        }\n        if (i < length - 1) {\n            v0 = this._decodeChar(s.charCodeAt(i));\n            v1 = this._decodeChar(s.charCodeAt(i + 1));\n            out[op++] = (v0 << 2) | (v1 >>> 4);\n            haveBad |= v0 & INVALID_BYTE;\n            haveBad |= v1 & INVALID_BYTE;\n        }\n        if (i < length - 2) {\n            v2 = this._decodeChar(s.charCodeAt(i + 2));\n            out[op++] = (v1 << 4) | (v2 >>> 2);\n            haveBad |= v2 & INVALID_BYTE;\n        }\n        if (i < length - 3) {\n            v3 = this._decodeChar(s.charCodeAt(i + 3));\n            out[op++] = (v2 << 6) | v3;\n            haveBad |= v3 & INVALID_BYTE;\n        }\n        if (haveBad !== 0) {\n            throw new Error(\"Base64Coder: incorrect characters for decoding\");\n        }\n        return out;\n    };\n    // Standard encoding have the following encoded/decoded ranges,\n    // which we need to convert between.\n    //\n    // ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz 0123456789  +   /\n    // Index:   0 - 25                    26 - 51              52 - 61   62  63\n    // ASCII:  65 - 90                    97 - 122             48 - 57   43  47\n    //\n    // Encode 6 bits in b into a new character.\n    Coder.prototype._encodeByte = function (b) {\n        // Encoding uses constant time operations as follows:\n        //\n        // 1. Define comparison of A with B using (A - B) >>> 8:\n        //          if A > B, then result is positive integer\n        //          if A <= B, then result is 0\n        //\n        // 2. Define selection of C or 0 using bitwise AND: X & C:\n        //          if X == 0, then result is 0\n        //          if X != 0, then result is C\n        //\n        // 3. Start with the smallest comparison (b >= 0), which is always\n        //    true, so set the result to the starting ASCII value (65).\n        //\n        // 4. Continue comparing b to higher ASCII values, and selecting\n        //    zero if comparison isn't true, otherwise selecting a value\n        //    to add to result, which:\n        //\n        //          a) undoes the previous addition\n        //          b) provides new value to add\n        //\n        var result = b;\n        // b >= 0\n        result += 65;\n        // b > 25\n        result += ((25 - b) >>> 8) & ((0 - 65) - 26 + 97);\n        // b > 51\n        result += ((51 - b) >>> 8) & ((26 - 97) - 52 + 48);\n        // b > 61\n        result += ((61 - b) >>> 8) & ((52 - 48) - 62 + 43);\n        // b > 62\n        result += ((62 - b) >>> 8) & ((62 - 43) - 63 + 47);\n        return String.fromCharCode(result);\n    };\n    // Decode a character code into a byte.\n    // Must return 256 if character is out of alphabet range.\n    Coder.prototype._decodeChar = function (c) {\n        // Decoding works similar to encoding: using the same comparison\n        // function, but now it works on ranges: result is always incremented\n        // by value, but this value becomes zero if the range is not\n        // satisfied.\n        //\n        // Decoding starts with invalid value, 256, which is then\n        // subtracted when the range is satisfied. If none of the ranges\n        // apply, the function returns 256, which is then checked by\n        // the caller to throw error.\n        var result = INVALID_BYTE; // start with invalid character\n        // c == 43 (c > 42 and c < 44)\n        result += (((42 - c) & (c - 44)) >>> 8) & (-INVALID_BYTE + c - 43 + 62);\n        // c == 47 (c > 46 and c < 48)\n        result += (((46 - c) & (c - 48)) >>> 8) & (-INVALID_BYTE + c - 47 + 63);\n        // c > 47 and c < 58\n        result += (((47 - c) & (c - 58)) >>> 8) & (-INVALID_BYTE + c - 48 + 52);\n        // c > 64 and c < 91\n        result += (((64 - c) & (c - 91)) >>> 8) & (-INVALID_BYTE + c - 65 + 0);\n        // c > 96 and c < 123\n        result += (((96 - c) & (c - 123)) >>> 8) & (-INVALID_BYTE + c - 97 + 26);\n        return result;\n    };\n    Coder.prototype._getPaddingLength = function (s) {\n        var paddingLength = 0;\n        if (this._paddingCharacter) {\n            for (var i = s.length - 1; i >= 0; i--) {\n                if (s[i] !== this._paddingCharacter) {\n                    break;\n                }\n                paddingLength++;\n            }\n            if (s.length < 4 || paddingLength > 2) {\n                throw new Error(\"Base64Coder: incorrect padding\");\n            }\n        }\n        return paddingLength;\n    };\n    return Coder;\n}());\nexports.Coder = Coder;\nvar stdCoder = new Coder();\nfunction encode(data) {\n    return stdCoder.encode(data);\n}\nexports.encode = encode;\nfunction decode(s) {\n    return stdCoder.decode(s);\n}\nexports.decode = decode;\n/**\n * Implements URL-safe Base64 encoding.\n * (Same as Base64, but '+' is replaced with '-', and '/' with '_').\n *\n * Operates in constant time.\n */\nvar URLSafeCoder = /** @class */ (function (_super) {\n    __extends(URLSafeCoder, _super);\n    function URLSafeCoder() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    // URL-safe encoding have the following encoded/decoded ranges:\n    //\n    // ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz 0123456789  -   _\n    // Index:   0 - 25                    26 - 51              52 - 61   62  63\n    // ASCII:  65 - 90                    97 - 122             48 - 57   45  95\n    //\n    URLSafeCoder.prototype._encodeByte = function (b) {\n        var result = b;\n        // b >= 0\n        result += 65;\n        // b > 25\n        result += ((25 - b) >>> 8) & ((0 - 65) - 26 + 97);\n        // b > 51\n        result += ((51 - b) >>> 8) & ((26 - 97) - 52 + 48);\n        // b > 61\n        result += ((61 - b) >>> 8) & ((52 - 48) - 62 + 45);\n        // b > 62\n        result += ((62 - b) >>> 8) & ((62 - 45) - 63 + 95);\n        return String.fromCharCode(result);\n    };\n    URLSafeCoder.prototype._decodeChar = function (c) {\n        var result = INVALID_BYTE;\n        // c == 45 (c > 44 and c < 46)\n        result += (((44 - c) & (c - 46)) >>> 8) & (-INVALID_BYTE + c - 45 + 62);\n        // c == 95 (c > 94 and c < 96)\n        result += (((94 - c) & (c - 96)) >>> 8) & (-INVALID_BYTE + c - 95 + 63);\n        // c > 47 and c < 58\n        result += (((47 - c) & (c - 58)) >>> 8) & (-INVALID_BYTE + c - 48 + 52);\n        // c > 64 and c < 91\n        result += (((64 - c) & (c - 91)) >>> 8) & (-INVALID_BYTE + c - 65 + 0);\n        // c > 96 and c < 123\n        result += (((96 - c) & (c - 123)) >>> 8) & (-INVALID_BYTE + c - 97 + 26);\n        return result;\n    };\n    return URLSafeCoder;\n}(Coder));\nexports.URLSafeCoder = URLSafeCoder;\nvar urlSafeCoder = new URLSafeCoder();\nfunction encodeURLSafe(data) {\n    return urlSafeCoder.encode(data);\n}\nexports.encodeURLSafe = encodeURLSafe;\nfunction decodeURLSafe(s) {\n    return urlSafeCoder.decode(s);\n}\nexports.decodeURLSafe = decodeURLSafe;\nexports.encodedLength = function (length) {\n    return stdCoder.encodedLength(length);\n};\nexports.maxDecodedLength = function (length) {\n    return stdCoder.maxDecodedLength(length);\n};\nexports.decodedLength = function (s) {\n    return stdCoder.decodedLength(s);\n};\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// Copyright (C) 2016 Dmitry Chestnykh\n// MIT License. See LICENSE file for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Package utf8 implements UTF-8 encoding and decoding.\n */\nvar INVALID_UTF16 = \"utf8: invalid string\";\nvar INVALID_UTF8 = \"utf8: invalid source encoding\";\n/**\n * Encodes the given string into UTF-8 byte array.\n * Throws if the source string has invalid UTF-16 encoding.\n */\nfunction encode(s) {\n    // Calculate result length and allocate output array.\n    // encodedLength() also validates string and throws errors,\n    // so we don't need repeat validation here.\n    var arr = new Uint8Array(encodedLength(s));\n    var pos = 0;\n    for (var i = 0; i < s.length; i++) {\n        var c = s.charCodeAt(i);\n        if (c < 0x80) {\n            arr[pos++] = c;\n        }\n        else if (c < 0x800) {\n            arr[pos++] = 0xc0 | c >> 6;\n            arr[pos++] = 0x80 | c & 0x3f;\n        }\n        else if (c < 0xd800) {\n            arr[pos++] = 0xe0 | c >> 12;\n            arr[pos++] = 0x80 | (c >> 6) & 0x3f;\n            arr[pos++] = 0x80 | c & 0x3f;\n        }\n        else {\n            i++; // get one more character\n            c = (c & 0x3ff) << 10;\n            c |= s.charCodeAt(i) & 0x3ff;\n            c += 0x10000;\n            arr[pos++] = 0xf0 | c >> 18;\n            arr[pos++] = 0x80 | (c >> 12) & 0x3f;\n            arr[pos++] = 0x80 | (c >> 6) & 0x3f;\n            arr[pos++] = 0x80 | c & 0x3f;\n        }\n    }\n    return arr;\n}\nexports.encode = encode;\n/**\n * Returns the number of bytes required to encode the given string into UTF-8.\n * Throws if the source string has invalid UTF-16 encoding.\n */\nfunction encodedLength(s) {\n    var result = 0;\n    for (var i = 0; i < s.length; i++) {\n        var c = s.charCodeAt(i);\n        if (c < 0x80) {\n            result += 1;\n        }\n        else if (c < 0x800) {\n            result += 2;\n        }\n        else if (c < 0xd800) {\n            result += 3;\n        }\n        else if (c <= 0xdfff) {\n            if (i >= s.length - 1) {\n                throw new Error(INVALID_UTF16);\n            }\n            i++; // \"eat\" next character\n            result += 4;\n        }\n        else {\n            throw new Error(INVALID_UTF16);\n        }\n    }\n    return result;\n}\nexports.encodedLength = encodedLength;\n/**\n * Decodes the given byte array from UTF-8 into a string.\n * Throws if encoding is invalid.\n */\nfunction decode(arr) {\n    var chars = [];\n    for (var i = 0; i < arr.length; i++) {\n        var b = arr[i];\n        if (b & 0x80) {\n            var min = void 0;\n            if (b < 0xe0) {\n                // Need 1 more byte.\n                if (i >= arr.length) {\n                    throw new Error(INVALID_UTF8);\n                }\n                var n1 = arr[++i];\n                if ((n1 & 0xc0) !== 0x80) {\n                    throw new Error(INVALID_UTF8);\n                }\n                b = (b & 0x1f) << 6 | (n1 & 0x3f);\n                min = 0x80;\n            }\n            else if (b < 0xf0) {\n                // Need 2 more bytes.\n                if (i >= arr.length - 1) {\n                    throw new Error(INVALID_UTF8);\n                }\n                var n1 = arr[++i];\n                var n2 = arr[++i];\n                if ((n1 & 0xc0) !== 0x80 || (n2 & 0xc0) !== 0x80) {\n                    throw new Error(INVALID_UTF8);\n                }\n                b = (b & 0x0f) << 12 | (n1 & 0x3f) << 6 | (n2 & 0x3f);\n                min = 0x800;\n            }\n            else if (b < 0xf8) {\n                // Need 3 more bytes.\n                if (i >= arr.length - 2) {\n                    throw new Error(INVALID_UTF8);\n                }\n                var n1 = arr[++i];\n                var n2 = arr[++i];\n                var n3 = arr[++i];\n                if ((n1 & 0xc0) !== 0x80 || (n2 & 0xc0) !== 0x80 || (n3 & 0xc0) !== 0x80) {\n                    throw new Error(INVALID_UTF8);\n                }\n                b = (b & 0x0f) << 18 | (n1 & 0x3f) << 12 | (n2 & 0x3f) << 6 | (n3 & 0x3f);\n                min = 0x10000;\n            }\n            else {\n                throw new Error(INVALID_UTF8);\n            }\n            if (b < min || (b >= 0xd800 && b <= 0xdfff)) {\n                throw new Error(INVALID_UTF8);\n            }\n            if (b >= 0x10000) {\n                // Surrogate pair.\n                if (b > 0x10ffff) {\n                    throw new Error(INVALID_UTF8);\n                }\n                b -= 0x10000;\n                chars.push(String.fromCharCode(0xd800 | (b >> 10)));\n                b = 0xdc00 | (b & 0x3ff);\n            }\n        }\n        chars.push(String.fromCharCode(b));\n    }\n    return chars.join(\"\");\n}\nexports.decode = decode;\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __nested_webpack_require_19901__) {\n\n// required so we don't have to do require('pusher').default etc.\nmodule.exports = __nested_webpack_require_19901__(3).default;\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, __nested_webpack_exports__, __nested_webpack_require_20105__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__nested_webpack_require_20105__.r(__nested_webpack_exports__);\n\n// CONCATENATED MODULE: ./src/runtimes/web/dom/script_receiver_factory.ts\nvar ScriptReceiverFactory = (function () {\n    function ScriptReceiverFactory(prefix, name) {\n        this.lastId = 0;\n        this.prefix = prefix;\n        this.name = name;\n    }\n    ScriptReceiverFactory.prototype.create = function (callback) {\n        this.lastId++;\n        var number = this.lastId;\n        var id = this.prefix + number;\n        var name = this.name + '[' + number + ']';\n        var called = false;\n        var callbackWrapper = function () {\n            if (!called) {\n                callback.apply(null, arguments);\n                called = true;\n            }\n        };\n        this[number] = callbackWrapper;\n        return { number: number, id: id, name: name, callback: callbackWrapper };\n    };\n    ScriptReceiverFactory.prototype.remove = function (receiver) {\n        delete this[receiver.number];\n    };\n    return ScriptReceiverFactory;\n}());\n\nvar ScriptReceivers = new ScriptReceiverFactory('_pusher_script_', 'Pusher.ScriptReceivers');\n\n// CONCATENATED MODULE: ./src/core/defaults.ts\nvar Defaults = {\n    VERSION: \"7.6.0\",\n    PROTOCOL: 7,\n    wsPort: 80,\n    wssPort: 443,\n    wsPath: '',\n    httpHost: 'sockjs.pusher.com',\n    httpPort: 80,\n    httpsPort: 443,\n    httpPath: '/pusher',\n    stats_host: 'stats.pusher.com',\n    authEndpoint: '/pusher/auth',\n    authTransport: 'ajax',\n    activityTimeout: 120000,\n    pongTimeout: 30000,\n    unavailableTimeout: 10000,\n    cluster: 'mt1',\n    userAuthentication: {\n        endpoint: '/pusher/user-auth',\n        transport: 'ajax'\n    },\n    channelAuthorization: {\n        endpoint: '/pusher/auth',\n        transport: 'ajax'\n    },\n    cdn_http: \"http://js.pusher.com\",\n    cdn_https: \"https://js.pusher.com\",\n    dependency_suffix: \"\"\n};\n/* harmony default export */ var defaults = (Defaults);\n\n// CONCATENATED MODULE: ./src/runtimes/web/dom/dependency_loader.ts\n\n\nvar dependency_loader_DependencyLoader = (function () {\n    function DependencyLoader(options) {\n        this.options = options;\n        this.receivers = options.receivers || ScriptReceivers;\n        this.loading = {};\n    }\n    DependencyLoader.prototype.load = function (name, options, callback) {\n        var self = this;\n        if (self.loading[name] && self.loading[name].length > 0) {\n            self.loading[name].push(callback);\n        }\n        else {\n            self.loading[name] = [callback];\n            var request = runtime.createScriptRequest(self.getPath(name, options));\n            var receiver = self.receivers.create(function (error) {\n                self.receivers.remove(receiver);\n                if (self.loading[name]) {\n                    var callbacks = self.loading[name];\n                    delete self.loading[name];\n                    var successCallback = function (wasSuccessful) {\n                        if (!wasSuccessful) {\n                            request.cleanup();\n                        }\n                    };\n                    for (var i = 0; i < callbacks.length; i++) {\n                        callbacks[i](error, successCallback);\n                    }\n                }\n            });\n            request.send(receiver);\n        }\n    };\n    DependencyLoader.prototype.getRoot = function (options) {\n        var cdn;\n        var protocol = runtime.getDocument().location.protocol;\n        if ((options && options.useTLS) || protocol === 'https:') {\n            cdn = this.options.cdn_https;\n        }\n        else {\n            cdn = this.options.cdn_http;\n        }\n        return cdn.replace(/\\/*$/, '') + '/' + this.options.version;\n    };\n    DependencyLoader.prototype.getPath = function (name, options) {\n        return this.getRoot(options) + '/' + name + this.options.suffix + '.js';\n    };\n    return DependencyLoader;\n}());\n/* harmony default export */ var dependency_loader = (dependency_loader_DependencyLoader);\n\n// CONCATENATED MODULE: ./src/runtimes/web/dom/dependencies.ts\n\n\n\nvar DependenciesReceivers = new ScriptReceiverFactory('_pusher_dependencies', 'Pusher.DependenciesReceivers');\nvar Dependencies = new dependency_loader({\n    cdn_http: defaults.cdn_http,\n    cdn_https: defaults.cdn_https,\n    version: defaults.VERSION,\n    suffix: defaults.dependency_suffix,\n    receivers: DependenciesReceivers\n});\n\n// CONCATENATED MODULE: ./src/core/utils/url_store.ts\nvar urlStore = {\n    baseUrl: 'https://pusher.com',\n    urls: {\n        authenticationEndpoint: {\n            path: '/docs/channels/server_api/authenticating_users'\n        },\n        authorizationEndpoint: {\n            path: '/docs/channels/server_api/authorizing-users/'\n        },\n        javascriptQuickStart: {\n            path: '/docs/javascript_quick_start'\n        },\n        triggeringClientEvents: {\n            path: '/docs/client_api_guide/client_events#trigger-events'\n        },\n        encryptedChannelSupport: {\n            fullUrl: 'https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support'\n        }\n    }\n};\nvar buildLogSuffix = function (key) {\n    var urlPrefix = 'See:';\n    var urlObj = urlStore.urls[key];\n    if (!urlObj)\n        return '';\n    var url;\n    if (urlObj.fullUrl) {\n        url = urlObj.fullUrl;\n    }\n    else if (urlObj.path) {\n        url = urlStore.baseUrl + urlObj.path;\n    }\n    if (!url)\n        return '';\n    return urlPrefix + \" \" + url;\n};\n/* harmony default export */ var url_store = ({ buildLogSuffix: buildLogSuffix });\n\n// CONCATENATED MODULE: ./src/core/auth/options.ts\nvar AuthRequestType;\n(function (AuthRequestType) {\n    AuthRequestType[\"UserAuthentication\"] = \"user-authentication\";\n    AuthRequestType[\"ChannelAuthorization\"] = \"channel-authorization\";\n})(AuthRequestType || (AuthRequestType = {}));\n\n// CONCATENATED MODULE: ./src/core/errors.ts\nvar __extends = ( false) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar BadEventName = (function (_super) {\n    __extends(BadEventName, _super);\n    function BadEventName(msg) {\n        var _newTarget = this.constructor;\n        var _this = _super.call(this, msg) || this;\n        Object.setPrototypeOf(_this, _newTarget.prototype);\n        return _this;\n    }\n    return BadEventName;\n}(Error));\n\nvar BadChannelName = (function (_super) {\n    __extends(BadChannelName, _super);\n    function BadChannelName(msg) {\n        var _newTarget = this.constructor;\n        var _this = _super.call(this, msg) || this;\n        Object.setPrototypeOf(_this, _newTarget.prototype);\n        return _this;\n    }\n    return BadChannelName;\n}(Error));\n\nvar RequestTimedOut = (function (_super) {\n    __extends(RequestTimedOut, _super);\n    function RequestTimedOut(msg) {\n        var _newTarget = this.constructor;\n        var _this = _super.call(this, msg) || this;\n        Object.setPrototypeOf(_this, _newTarget.prototype);\n        return _this;\n    }\n    return RequestTimedOut;\n}(Error));\n\nvar TransportPriorityTooLow = (function (_super) {\n    __extends(TransportPriorityTooLow, _super);\n    function TransportPriorityTooLow(msg) {\n        var _newTarget = this.constructor;\n        var _this = _super.call(this, msg) || this;\n        Object.setPrototypeOf(_this, _newTarget.prototype);\n        return _this;\n    }\n    return TransportPriorityTooLow;\n}(Error));\n\nvar TransportClosed = (function (_super) {\n    __extends(TransportClosed, _super);\n    function TransportClosed(msg) {\n        var _newTarget = this.constructor;\n        var _this = _super.call(this, msg) || this;\n        Object.setPrototypeOf(_this, _newTarget.prototype);\n        return _this;\n    }\n    return TransportClosed;\n}(Error));\n\nvar UnsupportedFeature = (function (_super) {\n    __extends(UnsupportedFeature, _super);\n    function UnsupportedFeature(msg) {\n        var _newTarget = this.constructor;\n        var _this = _super.call(this, msg) || this;\n        Object.setPrototypeOf(_this, _newTarget.prototype);\n        return _this;\n    }\n    return UnsupportedFeature;\n}(Error));\n\nvar UnsupportedTransport = (function (_super) {\n    __extends(UnsupportedTransport, _super);\n    function UnsupportedTransport(msg) {\n        var _newTarget = this.constructor;\n        var _this = _super.call(this, msg) || this;\n        Object.setPrototypeOf(_this, _newTarget.prototype);\n        return _this;\n    }\n    return UnsupportedTransport;\n}(Error));\n\nvar UnsupportedStrategy = (function (_super) {\n    __extends(UnsupportedStrategy, _super);\n    function UnsupportedStrategy(msg) {\n        var _newTarget = this.constructor;\n        var _this = _super.call(this, msg) || this;\n        Object.setPrototypeOf(_this, _newTarget.prototype);\n        return _this;\n    }\n    return UnsupportedStrategy;\n}(Error));\n\nvar HTTPAuthError = (function (_super) {\n    __extends(HTTPAuthError, _super);\n    function HTTPAuthError(status, msg) {\n        var _newTarget = this.constructor;\n        var _this = _super.call(this, msg) || this;\n        _this.status = status;\n        Object.setPrototypeOf(_this, _newTarget.prototype);\n        return _this;\n    }\n    return HTTPAuthError;\n}(Error));\n\n\n// CONCATENATED MODULE: ./src/runtimes/isomorphic/auth/xhr_auth.ts\n\n\n\n\nvar ajax = function (context, query, authOptions, authRequestType, callback) {\n    var xhr = runtime.createXHR();\n    xhr.open('POST', authOptions.endpoint, true);\n    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    for (var headerName in authOptions.headers) {\n        xhr.setRequestHeader(headerName, authOptions.headers[headerName]);\n    }\n    if (authOptions.headersProvider != null) {\n        var dynamicHeaders = authOptions.headersProvider();\n        for (var headerName in dynamicHeaders) {\n            xhr.setRequestHeader(headerName, dynamicHeaders[headerName]);\n        }\n    }\n    xhr.onreadystatechange = function () {\n        if (xhr.readyState === 4) {\n            if (xhr.status === 200) {\n                var data = void 0;\n                var parsed = false;\n                try {\n                    data = JSON.parse(xhr.responseText);\n                    parsed = true;\n                }\n                catch (e) {\n                    callback(new HTTPAuthError(200, \"JSON returned from \" + authRequestType.toString() + \" endpoint was invalid, yet status code was 200. Data was: \" + xhr.responseText), null);\n                }\n                if (parsed) {\n                    callback(null, data);\n                }\n            }\n            else {\n                var suffix = '';\n                switch (authRequestType) {\n                    case AuthRequestType.UserAuthentication:\n                        suffix = url_store.buildLogSuffix('authenticationEndpoint');\n                        break;\n                    case AuthRequestType.ChannelAuthorization:\n                        suffix = \"Clients must be authorized to join private or presence channels. \" + url_store.buildLogSuffix('authorizationEndpoint');\n                        break;\n                }\n                callback(new HTTPAuthError(xhr.status, \"Unable to retrieve auth string from \" + authRequestType.toString() + \" endpoint - \" +\n                    (\"received status: \" + xhr.status + \" from \" + authOptions.endpoint + \". \" + suffix)), null);\n            }\n        }\n    };\n    xhr.send(query);\n    return xhr;\n};\n/* harmony default export */ var xhr_auth = (ajax);\n\n// CONCATENATED MODULE: ./src/core/base64.ts\nfunction encode(s) {\n    return btoa(utob(s));\n}\nvar fromCharCode = String.fromCharCode;\nvar b64chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\nvar b64tab = {};\nfor (var base64_i = 0, l = b64chars.length; base64_i < l; base64_i++) {\n    b64tab[b64chars.charAt(base64_i)] = base64_i;\n}\nvar cb_utob = function (c) {\n    var cc = c.charCodeAt(0);\n    return cc < 0x80\n        ? c\n        : cc < 0x800\n            ? fromCharCode(0xc0 | (cc >>> 6)) + fromCharCode(0x80 | (cc & 0x3f))\n            : fromCharCode(0xe0 | ((cc >>> 12) & 0x0f)) +\n                fromCharCode(0x80 | ((cc >>> 6) & 0x3f)) +\n                fromCharCode(0x80 | (cc & 0x3f));\n};\nvar utob = function (u) {\n    return u.replace(/[^\\x00-\\x7F]/g, cb_utob);\n};\nvar cb_encode = function (ccc) {\n    var padlen = [0, 2, 1][ccc.length % 3];\n    var ord = (ccc.charCodeAt(0) << 16) |\n        ((ccc.length > 1 ? ccc.charCodeAt(1) : 0) << 8) |\n        (ccc.length > 2 ? ccc.charCodeAt(2) : 0);\n    var chars = [\n        b64chars.charAt(ord >>> 18),\n        b64chars.charAt((ord >>> 12) & 63),\n        padlen >= 2 ? '=' : b64chars.charAt((ord >>> 6) & 63),\n        padlen >= 1 ? '=' : b64chars.charAt(ord & 63)\n    ];\n    return chars.join('');\n};\nvar btoa = window.btoa ||\n    function (b) {\n        return b.replace(/[\\s\\S]{1,3}/g, cb_encode);\n    };\n\n// CONCATENATED MODULE: ./src/core/utils/timers/abstract_timer.ts\nvar Timer = (function () {\n    function Timer(set, clear, delay, callback) {\n        var _this = this;\n        this.clear = clear;\n        this.timer = set(function () {\n            if (_this.timer) {\n                _this.timer = callback(_this.timer);\n            }\n        }, delay);\n    }\n    Timer.prototype.isRunning = function () {\n        return this.timer !== null;\n    };\n    Timer.prototype.ensureAborted = function () {\n        if (this.timer) {\n            this.clear(this.timer);\n            this.timer = null;\n        }\n    };\n    return Timer;\n}());\n/* harmony default export */ var abstract_timer = (Timer);\n\n// CONCATENATED MODULE: ./src/core/utils/timers/index.ts\nvar timers_extends = ( false) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nfunction timers_clearTimeout(timer) {\n    window.clearTimeout(timer);\n}\nfunction timers_clearInterval(timer) {\n    window.clearInterval(timer);\n}\nvar OneOffTimer = (function (_super) {\n    timers_extends(OneOffTimer, _super);\n    function OneOffTimer(delay, callback) {\n        return _super.call(this, setTimeout, timers_clearTimeout, delay, function (timer) {\n            callback();\n            return null;\n        }) || this;\n    }\n    return OneOffTimer;\n}(abstract_timer));\n\nvar PeriodicTimer = (function (_super) {\n    timers_extends(PeriodicTimer, _super);\n    function PeriodicTimer(delay, callback) {\n        return _super.call(this, setInterval, timers_clearInterval, delay, function (timer) {\n            callback();\n            return timer;\n        }) || this;\n    }\n    return PeriodicTimer;\n}(abstract_timer));\n\n\n// CONCATENATED MODULE: ./src/core/util.ts\n\nvar Util = {\n    now: function () {\n        if (Date.now) {\n            return Date.now();\n        }\n        else {\n            return new Date().valueOf();\n        }\n    },\n    defer: function (callback) {\n        return new OneOffTimer(0, callback);\n    },\n    method: function (name) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var boundArguments = Array.prototype.slice.call(arguments, 1);\n        return function (object) {\n            return object[name].apply(object, boundArguments.concat(arguments));\n        };\n    }\n};\n/* harmony default export */ var util = (Util);\n\n// CONCATENATED MODULE: ./src/core/utils/collections.ts\n\n\nfunction extend(target) {\n    var sources = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        sources[_i - 1] = arguments[_i];\n    }\n    for (var i = 0; i < sources.length; i++) {\n        var extensions = sources[i];\n        for (var property in extensions) {\n            if (extensions[property] &&\n                extensions[property].constructor &&\n                extensions[property].constructor === Object) {\n                target[property] = extend(target[property] || {}, extensions[property]);\n            }\n            else {\n                target[property] = extensions[property];\n            }\n        }\n    }\n    return target;\n}\nfunction stringify() {\n    var m = ['Pusher'];\n    for (var i = 0; i < arguments.length; i++) {\n        if (typeof arguments[i] === 'string') {\n            m.push(arguments[i]);\n        }\n        else {\n            m.push(safeJSONStringify(arguments[i]));\n        }\n    }\n    return m.join(' : ');\n}\nfunction arrayIndexOf(array, item) {\n    var nativeIndexOf = Array.prototype.indexOf;\n    if (array === null) {\n        return -1;\n    }\n    if (nativeIndexOf && array.indexOf === nativeIndexOf) {\n        return array.indexOf(item);\n    }\n    for (var i = 0, l = array.length; i < l; i++) {\n        if (array[i] === item) {\n            return i;\n        }\n    }\n    return -1;\n}\nfunction objectApply(object, f) {\n    for (var key in object) {\n        if (Object.prototype.hasOwnProperty.call(object, key)) {\n            f(object[key], key, object);\n        }\n    }\n}\nfunction keys(object) {\n    var keys = [];\n    objectApply(object, function (_, key) {\n        keys.push(key);\n    });\n    return keys;\n}\nfunction values(object) {\n    var values = [];\n    objectApply(object, function (value) {\n        values.push(value);\n    });\n    return values;\n}\nfunction apply(array, f, context) {\n    for (var i = 0; i < array.length; i++) {\n        f.call(context || window, array[i], i, array);\n    }\n}\nfunction map(array, f) {\n    var result = [];\n    for (var i = 0; i < array.length; i++) {\n        result.push(f(array[i], i, array, result));\n    }\n    return result;\n}\nfunction mapObject(object, f) {\n    var result = {};\n    objectApply(object, function (value, key) {\n        result[key] = f(value);\n    });\n    return result;\n}\nfunction filter(array, test) {\n    test =\n        test ||\n            function (value) {\n                return !!value;\n            };\n    var result = [];\n    for (var i = 0; i < array.length; i++) {\n        if (test(array[i], i, array, result)) {\n            result.push(array[i]);\n        }\n    }\n    return result;\n}\nfunction filterObject(object, test) {\n    var result = {};\n    objectApply(object, function (value, key) {\n        if ((test && test(value, key, object, result)) || Boolean(value)) {\n            result[key] = value;\n        }\n    });\n    return result;\n}\nfunction flatten(object) {\n    var result = [];\n    objectApply(object, function (value, key) {\n        result.push([key, value]);\n    });\n    return result;\n}\nfunction any(array, test) {\n    for (var i = 0; i < array.length; i++) {\n        if (test(array[i], i, array)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction collections_all(array, test) {\n    for (var i = 0; i < array.length; i++) {\n        if (!test(array[i], i, array)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction encodeParamsObject(data) {\n    return mapObject(data, function (value) {\n        if (typeof value === 'object') {\n            value = safeJSONStringify(value);\n        }\n        return encodeURIComponent(encode(value.toString()));\n    });\n}\nfunction buildQueryString(data) {\n    var params = filterObject(data, function (value) {\n        return value !== undefined;\n    });\n    var query = map(flatten(encodeParamsObject(params)), util.method('join', '=')).join('&');\n    return query;\n}\nfunction decycleObject(object) {\n    var objects = [], paths = [];\n    return (function derez(value, path) {\n        var i, name, nu;\n        switch (typeof value) {\n            case 'object':\n                if (!value) {\n                    return null;\n                }\n                for (i = 0; i < objects.length; i += 1) {\n                    if (objects[i] === value) {\n                        return { $ref: paths[i] };\n                    }\n                }\n                objects.push(value);\n                paths.push(path);\n                if (Object.prototype.toString.apply(value) === '[object Array]') {\n                    nu = [];\n                    for (i = 0; i < value.length; i += 1) {\n                        nu[i] = derez(value[i], path + '[' + i + ']');\n                    }\n                }\n                else {\n                    nu = {};\n                    for (name in value) {\n                        if (Object.prototype.hasOwnProperty.call(value, name)) {\n                            nu[name] = derez(value[name], path + '[' + JSON.stringify(name) + ']');\n                        }\n                    }\n                }\n                return nu;\n            case 'number':\n            case 'string':\n            case 'boolean':\n                return value;\n        }\n    })(object, '$');\n}\nfunction safeJSONStringify(source) {\n    try {\n        return JSON.stringify(source);\n    }\n    catch (e) {\n        return JSON.stringify(decycleObject(source));\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/logger.ts\n\n\nvar logger_Logger = (function () {\n    function Logger() {\n        this.globalLog = function (message) {\n            if (window.console && window.console.log) {\n                window.console.log(message);\n            }\n        };\n    }\n    Logger.prototype.debug = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        this.log(this.globalLog, args);\n    };\n    Logger.prototype.warn = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        this.log(this.globalLogWarn, args);\n    };\n    Logger.prototype.error = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        this.log(this.globalLogError, args);\n    };\n    Logger.prototype.globalLogWarn = function (message) {\n        if (window.console && window.console.warn) {\n            window.console.warn(message);\n        }\n        else {\n            this.globalLog(message);\n        }\n    };\n    Logger.prototype.globalLogError = function (message) {\n        if (window.console && window.console.error) {\n            window.console.error(message);\n        }\n        else {\n            this.globalLogWarn(message);\n        }\n    };\n    Logger.prototype.log = function (defaultLoggingFunction) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var message = stringify.apply(this, arguments);\n        if (core_pusher.log) {\n            core_pusher.log(message);\n        }\n        else if (core_pusher.logToConsole) {\n            var log = defaultLoggingFunction.bind(this);\n            log(message);\n        }\n    };\n    return Logger;\n}());\n/* harmony default export */ var logger = (new logger_Logger());\n\n// CONCATENATED MODULE: ./src/runtimes/web/auth/jsonp_auth.ts\n\nvar jsonp = function (context, query, authOptions, authRequestType, callback) {\n    if (authOptions.headers !== undefined ||\n        authOptions.headersProvider != null) {\n        logger.warn(\"To send headers with the \" + authRequestType.toString() + \" request, you must use AJAX, rather than JSONP.\");\n    }\n    var callbackName = context.nextAuthCallbackID.toString();\n    context.nextAuthCallbackID++;\n    var document = context.getDocument();\n    var script = document.createElement('script');\n    context.auth_callbacks[callbackName] = function (data) {\n        callback(null, data);\n    };\n    var callback_name = \"Pusher.auth_callbacks['\" + callbackName + \"']\";\n    script.src =\n        authOptions.endpoint +\n            '?callback=' +\n            encodeURIComponent(callback_name) +\n            '&' +\n            query;\n    var head = document.getElementsByTagName('head')[0] || document.documentElement;\n    head.insertBefore(script, head.firstChild);\n};\n/* harmony default export */ var jsonp_auth = (jsonp);\n\n// CONCATENATED MODULE: ./src/runtimes/web/dom/script_request.ts\nvar ScriptRequest = (function () {\n    function ScriptRequest(src) {\n        this.src = src;\n    }\n    ScriptRequest.prototype.send = function (receiver) {\n        var self = this;\n        var errorString = 'Error loading ' + self.src;\n        self.script = document.createElement('script');\n        self.script.id = receiver.id;\n        self.script.src = self.src;\n        self.script.type = 'text/javascript';\n        self.script.charset = 'UTF-8';\n        if (self.script.addEventListener) {\n            self.script.onerror = function () {\n                receiver.callback(errorString);\n            };\n            self.script.onload = function () {\n                receiver.callback(null);\n            };\n        }\n        else {\n            self.script.onreadystatechange = function () {\n                if (self.script.readyState === 'loaded' ||\n                    self.script.readyState === 'complete') {\n                    receiver.callback(null);\n                }\n            };\n        }\n        if (self.script.async === undefined &&\n            document.attachEvent &&\n            /opera/i.test(navigator.userAgent)) {\n            self.errorScript = document.createElement('script');\n            self.errorScript.id = receiver.id + '_error';\n            self.errorScript.text = receiver.name + \"('\" + errorString + \"');\";\n            self.script.async = self.errorScript.async = false;\n        }\n        else {\n            self.script.async = true;\n        }\n        var head = document.getElementsByTagName('head')[0];\n        head.insertBefore(self.script, head.firstChild);\n        if (self.errorScript) {\n            head.insertBefore(self.errorScript, self.script.nextSibling);\n        }\n    };\n    ScriptRequest.prototype.cleanup = function () {\n        if (this.script) {\n            this.script.onload = this.script.onerror = null;\n            this.script.onreadystatechange = null;\n        }\n        if (this.script && this.script.parentNode) {\n            this.script.parentNode.removeChild(this.script);\n        }\n        if (this.errorScript && this.errorScript.parentNode) {\n            this.errorScript.parentNode.removeChild(this.errorScript);\n        }\n        this.script = null;\n        this.errorScript = null;\n    };\n    return ScriptRequest;\n}());\n/* harmony default export */ var script_request = (ScriptRequest);\n\n// CONCATENATED MODULE: ./src/runtimes/web/dom/jsonp_request.ts\n\n\nvar jsonp_request_JSONPRequest = (function () {\n    function JSONPRequest(url, data) {\n        this.url = url;\n        this.data = data;\n    }\n    JSONPRequest.prototype.send = function (receiver) {\n        if (this.request) {\n            return;\n        }\n        var query = buildQueryString(this.data);\n        var url = this.url + '/' + receiver.number + '?' + query;\n        this.request = runtime.createScriptRequest(url);\n        this.request.send(receiver);\n    };\n    JSONPRequest.prototype.cleanup = function () {\n        if (this.request) {\n            this.request.cleanup();\n        }\n    };\n    return JSONPRequest;\n}());\n/* harmony default export */ var jsonp_request = (jsonp_request_JSONPRequest);\n\n// CONCATENATED MODULE: ./src/runtimes/web/timeline/jsonp_timeline.ts\n\n\nvar getAgent = function (sender, useTLS) {\n    return function (data, callback) {\n        var scheme = 'http' + (useTLS ? 's' : '') + '://';\n        var url = scheme + (sender.host || sender.options.host) + sender.options.path;\n        var request = runtime.createJSONPRequest(url, data);\n        var receiver = runtime.ScriptReceivers.create(function (error, result) {\n            ScriptReceivers.remove(receiver);\n            request.cleanup();\n            if (result && result.host) {\n                sender.host = result.host;\n            }\n            if (callback) {\n                callback(error, result);\n            }\n        });\n        request.send(receiver);\n    };\n};\nvar jsonp_timeline_jsonp = {\n    name: 'jsonp',\n    getAgent: getAgent\n};\n/* harmony default export */ var jsonp_timeline = (jsonp_timeline_jsonp);\n\n// CONCATENATED MODULE: ./src/core/transports/url_schemes.ts\n\nfunction getGenericURL(baseScheme, params, path) {\n    var scheme = baseScheme + (params.useTLS ? 's' : '');\n    var host = params.useTLS ? params.hostTLS : params.hostNonTLS;\n    return scheme + '://' + host + path;\n}\nfunction getGenericPath(key, queryString) {\n    var path = '/app/' + key;\n    var query = '?protocol=' +\n        defaults.PROTOCOL +\n        '&client=js' +\n        '&version=' +\n        defaults.VERSION +\n        (queryString ? '&' + queryString : '');\n    return path + query;\n}\nvar ws = {\n    getInitial: function (key, params) {\n        var path = (params.httpPath || '') + getGenericPath(key, 'flash=false');\n        return getGenericURL('ws', params, path);\n    }\n};\nvar http = {\n    getInitial: function (key, params) {\n        var path = (params.httpPath || '/pusher') + getGenericPath(key);\n        return getGenericURL('http', params, path);\n    }\n};\nvar sockjs = {\n    getInitial: function (key, params) {\n        return getGenericURL('http', params, params.httpPath || '/pusher');\n    },\n    getPath: function (key, params) {\n        return getGenericPath(key);\n    }\n};\n\n// CONCATENATED MODULE: ./src/core/events/callback_registry.ts\n\nvar callback_registry_CallbackRegistry = (function () {\n    function CallbackRegistry() {\n        this._callbacks = {};\n    }\n    CallbackRegistry.prototype.get = function (name) {\n        return this._callbacks[prefix(name)];\n    };\n    CallbackRegistry.prototype.add = function (name, callback, context) {\n        var prefixedEventName = prefix(name);\n        this._callbacks[prefixedEventName] =\n            this._callbacks[prefixedEventName] || [];\n        this._callbacks[prefixedEventName].push({\n            fn: callback,\n            context: context\n        });\n    };\n    CallbackRegistry.prototype.remove = function (name, callback, context) {\n        if (!name && !callback && !context) {\n            this._callbacks = {};\n            return;\n        }\n        var names = name ? [prefix(name)] : keys(this._callbacks);\n        if (callback || context) {\n            this.removeCallback(names, callback, context);\n        }\n        else {\n            this.removeAllCallbacks(names);\n        }\n    };\n    CallbackRegistry.prototype.removeCallback = function (names, callback, context) {\n        apply(names, function (name) {\n            this._callbacks[name] = filter(this._callbacks[name] || [], function (binding) {\n                return ((callback && callback !== binding.fn) ||\n                    (context && context !== binding.context));\n            });\n            if (this._callbacks[name].length === 0) {\n                delete this._callbacks[name];\n            }\n        }, this);\n    };\n    CallbackRegistry.prototype.removeAllCallbacks = function (names) {\n        apply(names, function (name) {\n            delete this._callbacks[name];\n        }, this);\n    };\n    return CallbackRegistry;\n}());\n/* harmony default export */ var callback_registry = (callback_registry_CallbackRegistry);\nfunction prefix(name) {\n    return '_' + name;\n}\n\n// CONCATENATED MODULE: ./src/core/events/dispatcher.ts\n\n\nvar dispatcher_Dispatcher = (function () {\n    function Dispatcher(failThrough) {\n        this.callbacks = new callback_registry();\n        this.global_callbacks = [];\n        this.failThrough = failThrough;\n    }\n    Dispatcher.prototype.bind = function (eventName, callback, context) {\n        this.callbacks.add(eventName, callback, context);\n        return this;\n    };\n    Dispatcher.prototype.bind_global = function (callback) {\n        this.global_callbacks.push(callback);\n        return this;\n    };\n    Dispatcher.prototype.unbind = function (eventName, callback, context) {\n        this.callbacks.remove(eventName, callback, context);\n        return this;\n    };\n    Dispatcher.prototype.unbind_global = function (callback) {\n        if (!callback) {\n            this.global_callbacks = [];\n            return this;\n        }\n        this.global_callbacks = filter(this.global_callbacks || [], function (c) { return c !== callback; });\n        return this;\n    };\n    Dispatcher.prototype.unbind_all = function () {\n        this.unbind();\n        this.unbind_global();\n        return this;\n    };\n    Dispatcher.prototype.emit = function (eventName, data, metadata) {\n        for (var i = 0; i < this.global_callbacks.length; i++) {\n            this.global_callbacks[i](eventName, data);\n        }\n        var callbacks = this.callbacks.get(eventName);\n        var args = [];\n        if (metadata) {\n            args.push(data, metadata);\n        }\n        else if (data) {\n            args.push(data);\n        }\n        if (callbacks && callbacks.length > 0) {\n            for (var i = 0; i < callbacks.length; i++) {\n                callbacks[i].fn.apply(callbacks[i].context || window, args);\n            }\n        }\n        else if (this.failThrough) {\n            this.failThrough(eventName, data);\n        }\n        return this;\n    };\n    return Dispatcher;\n}());\n/* harmony default export */ var dispatcher = (dispatcher_Dispatcher);\n\n// CONCATENATED MODULE: ./src/core/transports/transport_connection.ts\nvar transport_connection_extends = ( false) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar transport_connection_TransportConnection = (function (_super) {\n    transport_connection_extends(TransportConnection, _super);\n    function TransportConnection(hooks, name, priority, key, options) {\n        var _this = _super.call(this) || this;\n        _this.initialize = runtime.transportConnectionInitializer;\n        _this.hooks = hooks;\n        _this.name = name;\n        _this.priority = priority;\n        _this.key = key;\n        _this.options = options;\n        _this.state = 'new';\n        _this.timeline = options.timeline;\n        _this.activityTimeout = options.activityTimeout;\n        _this.id = _this.timeline.generateUniqueID();\n        return _this;\n    }\n    TransportConnection.prototype.handlesActivityChecks = function () {\n        return Boolean(this.hooks.handlesActivityChecks);\n    };\n    TransportConnection.prototype.supportsPing = function () {\n        return Boolean(this.hooks.supportsPing);\n    };\n    TransportConnection.prototype.connect = function () {\n        var _this = this;\n        if (this.socket || this.state !== 'initialized') {\n            return false;\n        }\n        var url = this.hooks.urls.getInitial(this.key, this.options);\n        try {\n            this.socket = this.hooks.getSocket(url, this.options);\n        }\n        catch (e) {\n            util.defer(function () {\n                _this.onError(e);\n                _this.changeState('closed');\n            });\n            return false;\n        }\n        this.bindListeners();\n        logger.debug('Connecting', { transport: this.name, url: url });\n        this.changeState('connecting');\n        return true;\n    };\n    TransportConnection.prototype.close = function () {\n        if (this.socket) {\n            this.socket.close();\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    TransportConnection.prototype.send = function (data) {\n        var _this = this;\n        if (this.state === 'open') {\n            util.defer(function () {\n                if (_this.socket) {\n                    _this.socket.send(data);\n                }\n            });\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    TransportConnection.prototype.ping = function () {\n        if (this.state === 'open' && this.supportsPing()) {\n            this.socket.ping();\n        }\n    };\n    TransportConnection.prototype.onOpen = function () {\n        if (this.hooks.beforeOpen) {\n            this.hooks.beforeOpen(this.socket, this.hooks.urls.getPath(this.key, this.options));\n        }\n        this.changeState('open');\n        this.socket.onopen = undefined;\n    };\n    TransportConnection.prototype.onError = function (error) {\n        this.emit('error', { type: 'WebSocketError', error: error });\n        this.timeline.error(this.buildTimelineMessage({ error: error.toString() }));\n    };\n    TransportConnection.prototype.onClose = function (closeEvent) {\n        if (closeEvent) {\n            this.changeState('closed', {\n                code: closeEvent.code,\n                reason: closeEvent.reason,\n                wasClean: closeEvent.wasClean\n            });\n        }\n        else {\n            this.changeState('closed');\n        }\n        this.unbindListeners();\n        this.socket = undefined;\n    };\n    TransportConnection.prototype.onMessage = function (message) {\n        this.emit('message', message);\n    };\n    TransportConnection.prototype.onActivity = function () {\n        this.emit('activity');\n    };\n    TransportConnection.prototype.bindListeners = function () {\n        var _this = this;\n        this.socket.onopen = function () {\n            _this.onOpen();\n        };\n        this.socket.onerror = function (error) {\n            _this.onError(error);\n        };\n        this.socket.onclose = function (closeEvent) {\n            _this.onClose(closeEvent);\n        };\n        this.socket.onmessage = function (message) {\n            _this.onMessage(message);\n        };\n        if (this.supportsPing()) {\n            this.socket.onactivity = function () {\n                _this.onActivity();\n            };\n        }\n    };\n    TransportConnection.prototype.unbindListeners = function () {\n        if (this.socket) {\n            this.socket.onopen = undefined;\n            this.socket.onerror = undefined;\n            this.socket.onclose = undefined;\n            this.socket.onmessage = undefined;\n            if (this.supportsPing()) {\n                this.socket.onactivity = undefined;\n            }\n        }\n    };\n    TransportConnection.prototype.changeState = function (state, params) {\n        this.state = state;\n        this.timeline.info(this.buildTimelineMessage({\n            state: state,\n            params: params\n        }));\n        this.emit(state, params);\n    };\n    TransportConnection.prototype.buildTimelineMessage = function (message) {\n        return extend({ cid: this.id }, message);\n    };\n    return TransportConnection;\n}(dispatcher));\n/* harmony default export */ var transport_connection = (transport_connection_TransportConnection);\n\n// CONCATENATED MODULE: ./src/core/transports/transport.ts\n\nvar transport_Transport = (function () {\n    function Transport(hooks) {\n        this.hooks = hooks;\n    }\n    Transport.prototype.isSupported = function (environment) {\n        return this.hooks.isSupported(environment);\n    };\n    Transport.prototype.createConnection = function (name, priority, key, options) {\n        return new transport_connection(this.hooks, name, priority, key, options);\n    };\n    return Transport;\n}());\n/* harmony default export */ var transports_transport = (transport_Transport);\n\n// CONCATENATED MODULE: ./src/runtimes/isomorphic/transports/transports.ts\n\n\n\n\nvar WSTransport = new transports_transport({\n    urls: ws,\n    handlesActivityChecks: false,\n    supportsPing: false,\n    isInitialized: function () {\n        return Boolean(runtime.getWebSocketAPI());\n    },\n    isSupported: function () {\n        return Boolean(runtime.getWebSocketAPI());\n    },\n    getSocket: function (url) {\n        return runtime.createWebSocket(url);\n    }\n});\nvar httpConfiguration = {\n    urls: http,\n    handlesActivityChecks: false,\n    supportsPing: true,\n    isInitialized: function () {\n        return true;\n    }\n};\nvar streamingConfiguration = extend({\n    getSocket: function (url) {\n        return runtime.HTTPFactory.createStreamingSocket(url);\n    }\n}, httpConfiguration);\nvar pollingConfiguration = extend({\n    getSocket: function (url) {\n        return runtime.HTTPFactory.createPollingSocket(url);\n    }\n}, httpConfiguration);\nvar xhrConfiguration = {\n    isSupported: function () {\n        return runtime.isXHRSupported();\n    }\n};\nvar XHRStreamingTransport = new transports_transport((extend({}, streamingConfiguration, xhrConfiguration)));\nvar XHRPollingTransport = new transports_transport(extend({}, pollingConfiguration, xhrConfiguration));\nvar Transports = {\n    ws: WSTransport,\n    xhr_streaming: XHRStreamingTransport,\n    xhr_polling: XHRPollingTransport\n};\n/* harmony default export */ var transports = (Transports);\n\n// CONCATENATED MODULE: ./src/runtimes/web/transports/transports.ts\n\n\n\n\n\n\nvar SockJSTransport = new transports_transport({\n    file: 'sockjs',\n    urls: sockjs,\n    handlesActivityChecks: true,\n    supportsPing: false,\n    isSupported: function () {\n        return true;\n    },\n    isInitialized: function () {\n        return window.SockJS !== undefined;\n    },\n    getSocket: function (url, options) {\n        return new window.SockJS(url, null, {\n            js_path: Dependencies.getPath('sockjs', {\n                useTLS: options.useTLS\n            }),\n            ignore_null_origin: options.ignoreNullOrigin\n        });\n    },\n    beforeOpen: function (socket, path) {\n        socket.send(JSON.stringify({\n            path: path\n        }));\n    }\n});\nvar xdrConfiguration = {\n    isSupported: function (environment) {\n        var yes = runtime.isXDRSupported(environment.useTLS);\n        return yes;\n    }\n};\nvar XDRStreamingTransport = new transports_transport((extend({}, streamingConfiguration, xdrConfiguration)));\nvar XDRPollingTransport = new transports_transport(extend({}, pollingConfiguration, xdrConfiguration));\ntransports.xdr_streaming = XDRStreamingTransport;\ntransports.xdr_polling = XDRPollingTransport;\ntransports.sockjs = SockJSTransport;\n/* harmony default export */ var transports_transports = (transports);\n\n// CONCATENATED MODULE: ./src/runtimes/web/net_info.ts\nvar net_info_extends = ( false) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar NetInfo = (function (_super) {\n    net_info_extends(NetInfo, _super);\n    function NetInfo() {\n        var _this = _super.call(this) || this;\n        var self = _this;\n        if (window.addEventListener !== undefined) {\n            window.addEventListener('online', function () {\n                self.emit('online');\n            }, false);\n            window.addEventListener('offline', function () {\n                self.emit('offline');\n            }, false);\n        }\n        return _this;\n    }\n    NetInfo.prototype.isOnline = function () {\n        if (window.navigator.onLine === undefined) {\n            return true;\n        }\n        else {\n            return window.navigator.onLine;\n        }\n    };\n    return NetInfo;\n}(dispatcher));\n\nvar net_info_Network = new NetInfo();\n\n// CONCATENATED MODULE: ./src/core/transports/assistant_to_the_transport_manager.ts\n\n\nvar assistant_to_the_transport_manager_AssistantToTheTransportManager = (function () {\n    function AssistantToTheTransportManager(manager, transport, options) {\n        this.manager = manager;\n        this.transport = transport;\n        this.minPingDelay = options.minPingDelay;\n        this.maxPingDelay = options.maxPingDelay;\n        this.pingDelay = undefined;\n    }\n    AssistantToTheTransportManager.prototype.createConnection = function (name, priority, key, options) {\n        var _this = this;\n        options = extend({}, options, {\n            activityTimeout: this.pingDelay\n        });\n        var connection = this.transport.createConnection(name, priority, key, options);\n        var openTimestamp = null;\n        var onOpen = function () {\n            connection.unbind('open', onOpen);\n            connection.bind('closed', onClosed);\n            openTimestamp = util.now();\n        };\n        var onClosed = function (closeEvent) {\n            connection.unbind('closed', onClosed);\n            if (closeEvent.code === 1002 || closeEvent.code === 1003) {\n                _this.manager.reportDeath();\n            }\n            else if (!closeEvent.wasClean && openTimestamp) {\n                var lifespan = util.now() - openTimestamp;\n                if (lifespan < 2 * _this.maxPingDelay) {\n                    _this.manager.reportDeath();\n                    _this.pingDelay = Math.max(lifespan / 2, _this.minPingDelay);\n                }\n            }\n        };\n        connection.bind('open', onOpen);\n        return connection;\n    };\n    AssistantToTheTransportManager.prototype.isSupported = function (environment) {\n        return this.manager.isAlive() && this.transport.isSupported(environment);\n    };\n    return AssistantToTheTransportManager;\n}());\n/* harmony default export */ var assistant_to_the_transport_manager = (assistant_to_the_transport_manager_AssistantToTheTransportManager);\n\n// CONCATENATED MODULE: ./src/core/connection/protocol/protocol.ts\nvar Protocol = {\n    decodeMessage: function (messageEvent) {\n        try {\n            var messageData = JSON.parse(messageEvent.data);\n            var pusherEventData = messageData.data;\n            if (typeof pusherEventData === 'string') {\n                try {\n                    pusherEventData = JSON.parse(messageData.data);\n                }\n                catch (e) { }\n            }\n            var pusherEvent = {\n                event: messageData.event,\n                channel: messageData.channel,\n                data: pusherEventData\n            };\n            if (messageData.user_id) {\n                pusherEvent.user_id = messageData.user_id;\n            }\n            return pusherEvent;\n        }\n        catch (e) {\n            throw { type: 'MessageParseError', error: e, data: messageEvent.data };\n        }\n    },\n    encodeMessage: function (event) {\n        return JSON.stringify(event);\n    },\n    processHandshake: function (messageEvent) {\n        var message = Protocol.decodeMessage(messageEvent);\n        if (message.event === 'pusher:connection_established') {\n            if (!message.data.activity_timeout) {\n                throw 'No activity timeout specified in handshake';\n            }\n            return {\n                action: 'connected',\n                id: message.data.socket_id,\n                activityTimeout: message.data.activity_timeout * 1000\n            };\n        }\n        else if (message.event === 'pusher:error') {\n            return {\n                action: this.getCloseAction(message.data),\n                error: this.getCloseError(message.data)\n            };\n        }\n        else {\n            throw 'Invalid handshake';\n        }\n    },\n    getCloseAction: function (closeEvent) {\n        if (closeEvent.code < 4000) {\n            if (closeEvent.code >= 1002 && closeEvent.code <= 1004) {\n                return 'backoff';\n            }\n            else {\n                return null;\n            }\n        }\n        else if (closeEvent.code === 4000) {\n            return 'tls_only';\n        }\n        else if (closeEvent.code < 4100) {\n            return 'refused';\n        }\n        else if (closeEvent.code < 4200) {\n            return 'backoff';\n        }\n        else if (closeEvent.code < 4300) {\n            return 'retry';\n        }\n        else {\n            return 'refused';\n        }\n    },\n    getCloseError: function (closeEvent) {\n        if (closeEvent.code !== 1000 && closeEvent.code !== 1001) {\n            return {\n                type: 'PusherError',\n                data: {\n                    code: closeEvent.code,\n                    message: closeEvent.reason || closeEvent.message\n                }\n            };\n        }\n        else {\n            return null;\n        }\n    }\n};\n/* harmony default export */ var protocol_protocol = (Protocol);\n\n// CONCATENATED MODULE: ./src/core/connection/connection.ts\nvar connection_extends = ( false) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar connection_Connection = (function (_super) {\n    connection_extends(Connection, _super);\n    function Connection(id, transport) {\n        var _this = _super.call(this) || this;\n        _this.id = id;\n        _this.transport = transport;\n        _this.activityTimeout = transport.activityTimeout;\n        _this.bindListeners();\n        return _this;\n    }\n    Connection.prototype.handlesActivityChecks = function () {\n        return this.transport.handlesActivityChecks();\n    };\n    Connection.prototype.send = function (data) {\n        return this.transport.send(data);\n    };\n    Connection.prototype.send_event = function (name, data, channel) {\n        var event = { event: name, data: data };\n        if (channel) {\n            event.channel = channel;\n        }\n        logger.debug('Event sent', event);\n        return this.send(protocol_protocol.encodeMessage(event));\n    };\n    Connection.prototype.ping = function () {\n        if (this.transport.supportsPing()) {\n            this.transport.ping();\n        }\n        else {\n            this.send_event('pusher:ping', {});\n        }\n    };\n    Connection.prototype.close = function () {\n        this.transport.close();\n    };\n    Connection.prototype.bindListeners = function () {\n        var _this = this;\n        var listeners = {\n            message: function (messageEvent) {\n                var pusherEvent;\n                try {\n                    pusherEvent = protocol_protocol.decodeMessage(messageEvent);\n                }\n                catch (e) {\n                    _this.emit('error', {\n                        type: 'MessageParseError',\n                        error: e,\n                        data: messageEvent.data\n                    });\n                }\n                if (pusherEvent !== undefined) {\n                    logger.debug('Event recd', pusherEvent);\n                    switch (pusherEvent.event) {\n                        case 'pusher:error':\n                            _this.emit('error', {\n                                type: 'PusherError',\n                                data: pusherEvent.data\n                            });\n                            break;\n                        case 'pusher:ping':\n                            _this.emit('ping');\n                            break;\n                        case 'pusher:pong':\n                            _this.emit('pong');\n                            break;\n                    }\n                    _this.emit('message', pusherEvent);\n                }\n            },\n            activity: function () {\n                _this.emit('activity');\n            },\n            error: function (error) {\n                _this.emit('error', error);\n            },\n            closed: function (closeEvent) {\n                unbindListeners();\n                if (closeEvent && closeEvent.code) {\n                    _this.handleCloseEvent(closeEvent);\n                }\n                _this.transport = null;\n                _this.emit('closed');\n            }\n        };\n        var unbindListeners = function () {\n            objectApply(listeners, function (listener, event) {\n                _this.transport.unbind(event, listener);\n            });\n        };\n        objectApply(listeners, function (listener, event) {\n            _this.transport.bind(event, listener);\n        });\n    };\n    Connection.prototype.handleCloseEvent = function (closeEvent) {\n        var action = protocol_protocol.getCloseAction(closeEvent);\n        var error = protocol_protocol.getCloseError(closeEvent);\n        if (error) {\n            this.emit('error', error);\n        }\n        if (action) {\n            this.emit(action, { action: action, error: error });\n        }\n    };\n    return Connection;\n}(dispatcher));\n/* harmony default export */ var connection_connection = (connection_Connection);\n\n// CONCATENATED MODULE: ./src/core/connection/handshake/index.ts\n\n\n\nvar handshake_Handshake = (function () {\n    function Handshake(transport, callback) {\n        this.transport = transport;\n        this.callback = callback;\n        this.bindListeners();\n    }\n    Handshake.prototype.close = function () {\n        this.unbindListeners();\n        this.transport.close();\n    };\n    Handshake.prototype.bindListeners = function () {\n        var _this = this;\n        this.onMessage = function (m) {\n            _this.unbindListeners();\n            var result;\n            try {\n                result = protocol_protocol.processHandshake(m);\n            }\n            catch (e) {\n                _this.finish('error', { error: e });\n                _this.transport.close();\n                return;\n            }\n            if (result.action === 'connected') {\n                _this.finish('connected', {\n                    connection: new connection_connection(result.id, _this.transport),\n                    activityTimeout: result.activityTimeout\n                });\n            }\n            else {\n                _this.finish(result.action, { error: result.error });\n                _this.transport.close();\n            }\n        };\n        this.onClosed = function (closeEvent) {\n            _this.unbindListeners();\n            var action = protocol_protocol.getCloseAction(closeEvent) || 'backoff';\n            var error = protocol_protocol.getCloseError(closeEvent);\n            _this.finish(action, { error: error });\n        };\n        this.transport.bind('message', this.onMessage);\n        this.transport.bind('closed', this.onClosed);\n    };\n    Handshake.prototype.unbindListeners = function () {\n        this.transport.unbind('message', this.onMessage);\n        this.transport.unbind('closed', this.onClosed);\n    };\n    Handshake.prototype.finish = function (action, params) {\n        this.callback(extend({ transport: this.transport, action: action }, params));\n    };\n    return Handshake;\n}());\n/* harmony default export */ var connection_handshake = (handshake_Handshake);\n\n// CONCATENATED MODULE: ./src/core/timeline/timeline_sender.ts\n\nvar timeline_sender_TimelineSender = (function () {\n    function TimelineSender(timeline, options) {\n        this.timeline = timeline;\n        this.options = options || {};\n    }\n    TimelineSender.prototype.send = function (useTLS, callback) {\n        if (this.timeline.isEmpty()) {\n            return;\n        }\n        this.timeline.send(runtime.TimelineTransport.getAgent(this, useTLS), callback);\n    };\n    return TimelineSender;\n}());\n/* harmony default export */ var timeline_sender = (timeline_sender_TimelineSender);\n\n// CONCATENATED MODULE: ./src/core/channels/channel.ts\nvar channel_extends = ( false) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar channel_Channel = (function (_super) {\n    channel_extends(Channel, _super);\n    function Channel(name, pusher) {\n        var _this = _super.call(this, function (event, data) {\n            logger.debug('No callbacks on ' + name + ' for ' + event);\n        }) || this;\n        _this.name = name;\n        _this.pusher = pusher;\n        _this.subscribed = false;\n        _this.subscriptionPending = false;\n        _this.subscriptionCancelled = false;\n        return _this;\n    }\n    Channel.prototype.authorize = function (socketId, callback) {\n        return callback(null, { auth: '' });\n    };\n    Channel.prototype.trigger = function (event, data) {\n        if (event.indexOf('client-') !== 0) {\n            throw new BadEventName(\"Event '\" + event + \"' does not start with 'client-'\");\n        }\n        if (!this.subscribed) {\n            var suffix = url_store.buildLogSuffix('triggeringClientEvents');\n            logger.warn(\"Client event triggered before channel 'subscription_succeeded' event . \" + suffix);\n        }\n        return this.pusher.send_event(event, data, this.name);\n    };\n    Channel.prototype.disconnect = function () {\n        this.subscribed = false;\n        this.subscriptionPending = false;\n    };\n    Channel.prototype.handleEvent = function (event) {\n        var eventName = event.event;\n        var data = event.data;\n        if (eventName === 'pusher_internal:subscription_succeeded') {\n            this.handleSubscriptionSucceededEvent(event);\n        }\n        else if (eventName === 'pusher_internal:subscription_count') {\n            this.handleSubscriptionCountEvent(event);\n        }\n        else if (eventName.indexOf('pusher_internal:') !== 0) {\n            var metadata = {};\n            this.emit(eventName, data, metadata);\n        }\n    };\n    Channel.prototype.handleSubscriptionSucceededEvent = function (event) {\n        this.subscriptionPending = false;\n        this.subscribed = true;\n        if (this.subscriptionCancelled) {\n            this.pusher.unsubscribe(this.name);\n        }\n        else {\n            this.emit('pusher:subscription_succeeded', event.data);\n        }\n    };\n    Channel.prototype.handleSubscriptionCountEvent = function (event) {\n        if (event.data.subscription_count) {\n            this.subscriptionCount = event.data.subscription_count;\n        }\n        this.emit('pusher:subscription_count', event.data);\n    };\n    Channel.prototype.subscribe = function () {\n        var _this = this;\n        if (this.subscribed) {\n            return;\n        }\n        this.subscriptionPending = true;\n        this.subscriptionCancelled = false;\n        this.authorize(this.pusher.connection.socket_id, function (error, data) {\n            if (error) {\n                _this.subscriptionPending = false;\n                logger.error(error.toString());\n                _this.emit('pusher:subscription_error', Object.assign({}, {\n                    type: 'AuthError',\n                    error: error.message\n                }, error instanceof HTTPAuthError ? { status: error.status } : {}));\n            }\n            else {\n                _this.pusher.send_event('pusher:subscribe', {\n                    auth: data.auth,\n                    channel_data: data.channel_data,\n                    channel: _this.name\n                });\n            }\n        });\n    };\n    Channel.prototype.unsubscribe = function () {\n        this.subscribed = false;\n        this.pusher.send_event('pusher:unsubscribe', {\n            channel: this.name\n        });\n    };\n    Channel.prototype.cancelSubscription = function () {\n        this.subscriptionCancelled = true;\n    };\n    Channel.prototype.reinstateSubscription = function () {\n        this.subscriptionCancelled = false;\n    };\n    return Channel;\n}(dispatcher));\n/* harmony default export */ var channels_channel = (channel_Channel);\n\n// CONCATENATED MODULE: ./src/core/channels/private_channel.ts\nvar private_channel_extends = ( false) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar PrivateChannel = (function (_super) {\n    private_channel_extends(PrivateChannel, _super);\n    function PrivateChannel() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PrivateChannel.prototype.authorize = function (socketId, callback) {\n        return this.pusher.config.channelAuthorizer({\n            channelName: this.name,\n            socketId: socketId\n        }, callback);\n    };\n    return PrivateChannel;\n}(channels_channel));\n/* harmony default export */ var private_channel = (PrivateChannel);\n\n// CONCATENATED MODULE: ./src/core/channels/members.ts\n\nvar members_Members = (function () {\n    function Members() {\n        this.reset();\n    }\n    Members.prototype.get = function (id) {\n        if (Object.prototype.hasOwnProperty.call(this.members, id)) {\n            return {\n                id: id,\n                info: this.members[id]\n            };\n        }\n        else {\n            return null;\n        }\n    };\n    Members.prototype.each = function (callback) {\n        var _this = this;\n        objectApply(this.members, function (member, id) {\n            callback(_this.get(id));\n        });\n    };\n    Members.prototype.setMyID = function (id) {\n        this.myID = id;\n    };\n    Members.prototype.onSubscription = function (subscriptionData) {\n        this.members = subscriptionData.presence.hash;\n        this.count = subscriptionData.presence.count;\n        this.me = this.get(this.myID);\n    };\n    Members.prototype.addMember = function (memberData) {\n        if (this.get(memberData.user_id) === null) {\n            this.count++;\n        }\n        this.members[memberData.user_id] = memberData.user_info;\n        return this.get(memberData.user_id);\n    };\n    Members.prototype.removeMember = function (memberData) {\n        var member = this.get(memberData.user_id);\n        if (member) {\n            delete this.members[memberData.user_id];\n            this.count--;\n        }\n        return member;\n    };\n    Members.prototype.reset = function () {\n        this.members = {};\n        this.count = 0;\n        this.myID = null;\n        this.me = null;\n    };\n    return Members;\n}());\n/* harmony default export */ var members = (members_Members);\n\n// CONCATENATED MODULE: ./src/core/channels/presence_channel.ts\nvar presence_channel_extends = ( false) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = ( false) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = ( false) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\n\nvar presence_channel_PresenceChannel = (function (_super) {\n    presence_channel_extends(PresenceChannel, _super);\n    function PresenceChannel(name, pusher) {\n        var _this = _super.call(this, name, pusher) || this;\n        _this.members = new members();\n        return _this;\n    }\n    PresenceChannel.prototype.authorize = function (socketId, callback) {\n        var _this = this;\n        _super.prototype.authorize.call(this, socketId, function (error, authData) { return __awaiter(_this, void 0, void 0, function () {\n            var channelData, suffix;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!!error) return [3, 3];\n                        authData = authData;\n                        if (!(authData.channel_data != null)) return [3, 1];\n                        channelData = JSON.parse(authData.channel_data);\n                        this.members.setMyID(channelData.user_id);\n                        return [3, 3];\n                    case 1: return [4, this.pusher.user.signinDonePromise];\n                    case 2:\n                        _a.sent();\n                        if (this.pusher.user.user_data != null) {\n                            this.members.setMyID(this.pusher.user.user_data.id);\n                        }\n                        else {\n                            suffix = url_store.buildLogSuffix('authorizationEndpoint');\n                            logger.error(\"Invalid auth response for channel '\" + this.name + \"', \" +\n                                (\"expected 'channel_data' field. \" + suffix + \", \") +\n                                \"or the user should be signed in.\");\n                            callback('Invalid auth response');\n                            return [2];\n                        }\n                        _a.label = 3;\n                    case 3:\n                        callback(error, authData);\n                        return [2];\n                }\n            });\n        }); });\n    };\n    PresenceChannel.prototype.handleEvent = function (event) {\n        var eventName = event.event;\n        if (eventName.indexOf('pusher_internal:') === 0) {\n            this.handleInternalEvent(event);\n        }\n        else {\n            var data = event.data;\n            var metadata = {};\n            if (event.user_id) {\n                metadata.user_id = event.user_id;\n            }\n            this.emit(eventName, data, metadata);\n        }\n    };\n    PresenceChannel.prototype.handleInternalEvent = function (event) {\n        var eventName = event.event;\n        var data = event.data;\n        switch (eventName) {\n            case 'pusher_internal:subscription_succeeded':\n                this.handleSubscriptionSucceededEvent(event);\n                break;\n            case 'pusher_internal:subscription_count':\n                this.handleSubscriptionCountEvent(event);\n                break;\n            case 'pusher_internal:member_added':\n                var addedMember = this.members.addMember(data);\n                this.emit('pusher:member_added', addedMember);\n                break;\n            case 'pusher_internal:member_removed':\n                var removedMember = this.members.removeMember(data);\n                if (removedMember) {\n                    this.emit('pusher:member_removed', removedMember);\n                }\n                break;\n        }\n    };\n    PresenceChannel.prototype.handleSubscriptionSucceededEvent = function (event) {\n        this.subscriptionPending = false;\n        this.subscribed = true;\n        if (this.subscriptionCancelled) {\n            this.pusher.unsubscribe(this.name);\n        }\n        else {\n            this.members.onSubscription(event.data);\n            this.emit('pusher:subscription_succeeded', this.members);\n        }\n    };\n    PresenceChannel.prototype.disconnect = function () {\n        this.members.reset();\n        _super.prototype.disconnect.call(this);\n    };\n    return PresenceChannel;\n}(private_channel));\n/* harmony default export */ var presence_channel = (presence_channel_PresenceChannel);\n\n// EXTERNAL MODULE: ./node_modules/@stablelib/utf8/lib/utf8.js\nvar utf8 = __nested_webpack_require_20105__(1);\n\n// EXTERNAL MODULE: ./node_modules/@stablelib/base64/lib/base64.js\nvar base64 = __nested_webpack_require_20105__(0);\n\n// CONCATENATED MODULE: ./src/core/channels/encrypted_channel.ts\nvar encrypted_channel_extends = ( false) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar encrypted_channel_EncryptedChannel = (function (_super) {\n    encrypted_channel_extends(EncryptedChannel, _super);\n    function EncryptedChannel(name, pusher, nacl) {\n        var _this = _super.call(this, name, pusher) || this;\n        _this.key = null;\n        _this.nacl = nacl;\n        return _this;\n    }\n    EncryptedChannel.prototype.authorize = function (socketId, callback) {\n        var _this = this;\n        _super.prototype.authorize.call(this, socketId, function (error, authData) {\n            if (error) {\n                callback(error, authData);\n                return;\n            }\n            var sharedSecret = authData['shared_secret'];\n            if (!sharedSecret) {\n                callback(new Error(\"No shared_secret key in auth payload for encrypted channel: \" + _this.name), null);\n                return;\n            }\n            _this.key = Object(base64[\"decode\"])(sharedSecret);\n            delete authData['shared_secret'];\n            callback(null, authData);\n        });\n    };\n    EncryptedChannel.prototype.trigger = function (event, data) {\n        throw new UnsupportedFeature('Client events are not currently supported for encrypted channels');\n    };\n    EncryptedChannel.prototype.handleEvent = function (event) {\n        var eventName = event.event;\n        var data = event.data;\n        if (eventName.indexOf('pusher_internal:') === 0 ||\n            eventName.indexOf('pusher:') === 0) {\n            _super.prototype.handleEvent.call(this, event);\n            return;\n        }\n        this.handleEncryptedEvent(eventName, data);\n    };\n    EncryptedChannel.prototype.handleEncryptedEvent = function (event, data) {\n        var _this = this;\n        if (!this.key) {\n            logger.debug('Received encrypted event before key has been retrieved from the authEndpoint');\n            return;\n        }\n        if (!data.ciphertext || !data.nonce) {\n            logger.error('Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: ' +\n                data);\n            return;\n        }\n        var cipherText = Object(base64[\"decode\"])(data.ciphertext);\n        if (cipherText.length < this.nacl.secretbox.overheadLength) {\n            logger.error(\"Expected encrypted event ciphertext length to be \" + this.nacl.secretbox.overheadLength + \", got: \" + cipherText.length);\n            return;\n        }\n        var nonce = Object(base64[\"decode\"])(data.nonce);\n        if (nonce.length < this.nacl.secretbox.nonceLength) {\n            logger.error(\"Expected encrypted event nonce length to be \" + this.nacl.secretbox.nonceLength + \", got: \" + nonce.length);\n            return;\n        }\n        var bytes = this.nacl.secretbox.open(cipherText, nonce, this.key);\n        if (bytes === null) {\n            logger.debug('Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint...');\n            this.authorize(this.pusher.connection.socket_id, function (error, authData) {\n                if (error) {\n                    logger.error(\"Failed to make a request to the authEndpoint: \" + authData + \". Unable to fetch new key, so dropping encrypted event\");\n                    return;\n                }\n                bytes = _this.nacl.secretbox.open(cipherText, nonce, _this.key);\n                if (bytes === null) {\n                    logger.error(\"Failed to decrypt event with new key. Dropping encrypted event\");\n                    return;\n                }\n                _this.emit(event, _this.getDataToEmit(bytes));\n                return;\n            });\n            return;\n        }\n        this.emit(event, this.getDataToEmit(bytes));\n    };\n    EncryptedChannel.prototype.getDataToEmit = function (bytes) {\n        var raw = Object(utf8[\"decode\"])(bytes);\n        try {\n            return JSON.parse(raw);\n        }\n        catch (_a) {\n            return raw;\n        }\n    };\n    return EncryptedChannel;\n}(private_channel));\n/* harmony default export */ var encrypted_channel = (encrypted_channel_EncryptedChannel);\n\n// CONCATENATED MODULE: ./src/core/connection/connection_manager.ts\nvar connection_manager_extends = ( false) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar connection_manager_ConnectionManager = (function (_super) {\n    connection_manager_extends(ConnectionManager, _super);\n    function ConnectionManager(key, options) {\n        var _this = _super.call(this) || this;\n        _this.state = 'initialized';\n        _this.connection = null;\n        _this.key = key;\n        _this.options = options;\n        _this.timeline = _this.options.timeline;\n        _this.usingTLS = _this.options.useTLS;\n        _this.errorCallbacks = _this.buildErrorCallbacks();\n        _this.connectionCallbacks = _this.buildConnectionCallbacks(_this.errorCallbacks);\n        _this.handshakeCallbacks = _this.buildHandshakeCallbacks(_this.errorCallbacks);\n        var Network = runtime.getNetwork();\n        Network.bind('online', function () {\n            _this.timeline.info({ netinfo: 'online' });\n            if (_this.state === 'connecting' || _this.state === 'unavailable') {\n                _this.retryIn(0);\n            }\n        });\n        Network.bind('offline', function () {\n            _this.timeline.info({ netinfo: 'offline' });\n            if (_this.connection) {\n                _this.sendActivityCheck();\n            }\n        });\n        _this.updateStrategy();\n        return _this;\n    }\n    ConnectionManager.prototype.connect = function () {\n        if (this.connection || this.runner) {\n            return;\n        }\n        if (!this.strategy.isSupported()) {\n            this.updateState('failed');\n            return;\n        }\n        this.updateState('connecting');\n        this.startConnecting();\n        this.setUnavailableTimer();\n    };\n    ConnectionManager.prototype.send = function (data) {\n        if (this.connection) {\n            return this.connection.send(data);\n        }\n        else {\n            return false;\n        }\n    };\n    ConnectionManager.prototype.send_event = function (name, data, channel) {\n        if (this.connection) {\n            return this.connection.send_event(name, data, channel);\n        }\n        else {\n            return false;\n        }\n    };\n    ConnectionManager.prototype.disconnect = function () {\n        this.disconnectInternally();\n        this.updateState('disconnected');\n    };\n    ConnectionManager.prototype.isUsingTLS = function () {\n        return this.usingTLS;\n    };\n    ConnectionManager.prototype.startConnecting = function () {\n        var _this = this;\n        var callback = function (error, handshake) {\n            if (error) {\n                _this.runner = _this.strategy.connect(0, callback);\n            }\n            else {\n                if (handshake.action === 'error') {\n                    _this.emit('error', {\n                        type: 'HandshakeError',\n                        error: handshake.error\n                    });\n                    _this.timeline.error({ handshakeError: handshake.error });\n                }\n                else {\n                    _this.abortConnecting();\n                    _this.handshakeCallbacks[handshake.action](handshake);\n                }\n            }\n        };\n        this.runner = this.strategy.connect(0, callback);\n    };\n    ConnectionManager.prototype.abortConnecting = function () {\n        if (this.runner) {\n            this.runner.abort();\n            this.runner = null;\n        }\n    };\n    ConnectionManager.prototype.disconnectInternally = function () {\n        this.abortConnecting();\n        this.clearRetryTimer();\n        this.clearUnavailableTimer();\n        if (this.connection) {\n            var connection = this.abandonConnection();\n            connection.close();\n        }\n    };\n    ConnectionManager.prototype.updateStrategy = function () {\n        this.strategy = this.options.getStrategy({\n            key: this.key,\n            timeline: this.timeline,\n            useTLS: this.usingTLS\n        });\n    };\n    ConnectionManager.prototype.retryIn = function (delay) {\n        var _this = this;\n        this.timeline.info({ action: 'retry', delay: delay });\n        if (delay > 0) {\n            this.emit('connecting_in', Math.round(delay / 1000));\n        }\n        this.retryTimer = new OneOffTimer(delay || 0, function () {\n            _this.disconnectInternally();\n            _this.connect();\n        });\n    };\n    ConnectionManager.prototype.clearRetryTimer = function () {\n        if (this.retryTimer) {\n            this.retryTimer.ensureAborted();\n            this.retryTimer = null;\n        }\n    };\n    ConnectionManager.prototype.setUnavailableTimer = function () {\n        var _this = this;\n        this.unavailableTimer = new OneOffTimer(this.options.unavailableTimeout, function () {\n            _this.updateState('unavailable');\n        });\n    };\n    ConnectionManager.prototype.clearUnavailableTimer = function () {\n        if (this.unavailableTimer) {\n            this.unavailableTimer.ensureAborted();\n        }\n    };\n    ConnectionManager.prototype.sendActivityCheck = function () {\n        var _this = this;\n        this.stopActivityCheck();\n        this.connection.ping();\n        this.activityTimer = new OneOffTimer(this.options.pongTimeout, function () {\n            _this.timeline.error({ pong_timed_out: _this.options.pongTimeout });\n            _this.retryIn(0);\n        });\n    };\n    ConnectionManager.prototype.resetActivityCheck = function () {\n        var _this = this;\n        this.stopActivityCheck();\n        if (this.connection && !this.connection.handlesActivityChecks()) {\n            this.activityTimer = new OneOffTimer(this.activityTimeout, function () {\n                _this.sendActivityCheck();\n            });\n        }\n    };\n    ConnectionManager.prototype.stopActivityCheck = function () {\n        if (this.activityTimer) {\n            this.activityTimer.ensureAborted();\n        }\n    };\n    ConnectionManager.prototype.buildConnectionCallbacks = function (errorCallbacks) {\n        var _this = this;\n        return extend({}, errorCallbacks, {\n            message: function (message) {\n                _this.resetActivityCheck();\n                _this.emit('message', message);\n            },\n            ping: function () {\n                _this.send_event('pusher:pong', {});\n            },\n            activity: function () {\n                _this.resetActivityCheck();\n            },\n            error: function (error) {\n                _this.emit('error', error);\n            },\n            closed: function () {\n                _this.abandonConnection();\n                if (_this.shouldRetry()) {\n                    _this.retryIn(1000);\n                }\n            }\n        });\n    };\n    ConnectionManager.prototype.buildHandshakeCallbacks = function (errorCallbacks) {\n        var _this = this;\n        return extend({}, errorCallbacks, {\n            connected: function (handshake) {\n                _this.activityTimeout = Math.min(_this.options.activityTimeout, handshake.activityTimeout, handshake.connection.activityTimeout || Infinity);\n                _this.clearUnavailableTimer();\n                _this.setConnection(handshake.connection);\n                _this.socket_id = _this.connection.id;\n                _this.updateState('connected', { socket_id: _this.socket_id });\n            }\n        });\n    };\n    ConnectionManager.prototype.buildErrorCallbacks = function () {\n        var _this = this;\n        var withErrorEmitted = function (callback) {\n            return function (result) {\n                if (result.error) {\n                    _this.emit('error', { type: 'WebSocketError', error: result.error });\n                }\n                callback(result);\n            };\n        };\n        return {\n            tls_only: withErrorEmitted(function () {\n                _this.usingTLS = true;\n                _this.updateStrategy();\n                _this.retryIn(0);\n            }),\n            refused: withErrorEmitted(function () {\n                _this.disconnect();\n            }),\n            backoff: withErrorEmitted(function () {\n                _this.retryIn(1000);\n            }),\n            retry: withErrorEmitted(function () {\n                _this.retryIn(0);\n            })\n        };\n    };\n    ConnectionManager.prototype.setConnection = function (connection) {\n        this.connection = connection;\n        for (var event in this.connectionCallbacks) {\n            this.connection.bind(event, this.connectionCallbacks[event]);\n        }\n        this.resetActivityCheck();\n    };\n    ConnectionManager.prototype.abandonConnection = function () {\n        if (!this.connection) {\n            return;\n        }\n        this.stopActivityCheck();\n        for (var event in this.connectionCallbacks) {\n            this.connection.unbind(event, this.connectionCallbacks[event]);\n        }\n        var connection = this.connection;\n        this.connection = null;\n        return connection;\n    };\n    ConnectionManager.prototype.updateState = function (newState, data) {\n        var previousState = this.state;\n        this.state = newState;\n        if (previousState !== newState) {\n            var newStateDescription = newState;\n            if (newStateDescription === 'connected') {\n                newStateDescription += ' with new socket ID ' + data.socket_id;\n            }\n            logger.debug('State changed', previousState + ' -> ' + newStateDescription);\n            this.timeline.info({ state: newState, params: data });\n            this.emit('state_change', { previous: previousState, current: newState });\n            this.emit(newState, data);\n        }\n    };\n    ConnectionManager.prototype.shouldRetry = function () {\n        return this.state === 'connecting' || this.state === 'connected';\n    };\n    return ConnectionManager;\n}(dispatcher));\n/* harmony default export */ var connection_manager = (connection_manager_ConnectionManager);\n\n// CONCATENATED MODULE: ./src/core/channels/channels.ts\n\n\n\n\nvar channels_Channels = (function () {\n    function Channels() {\n        this.channels = {};\n    }\n    Channels.prototype.add = function (name, pusher) {\n        if (!this.channels[name]) {\n            this.channels[name] = createChannel(name, pusher);\n        }\n        return this.channels[name];\n    };\n    Channels.prototype.all = function () {\n        return values(this.channels);\n    };\n    Channels.prototype.find = function (name) {\n        return this.channels[name];\n    };\n    Channels.prototype.remove = function (name) {\n        var channel = this.channels[name];\n        delete this.channels[name];\n        return channel;\n    };\n    Channels.prototype.disconnect = function () {\n        objectApply(this.channels, function (channel) {\n            channel.disconnect();\n        });\n    };\n    return Channels;\n}());\n/* harmony default export */ var channels = (channels_Channels);\nfunction createChannel(name, pusher) {\n    if (name.indexOf('private-encrypted-') === 0) {\n        if (pusher.config.nacl) {\n            return factory.createEncryptedChannel(name, pusher, pusher.config.nacl);\n        }\n        var errMsg = 'Tried to subscribe to a private-encrypted- channel but no nacl implementation available';\n        var suffix = url_store.buildLogSuffix('encryptedChannelSupport');\n        throw new UnsupportedFeature(errMsg + \". \" + suffix);\n    }\n    else if (name.indexOf('private-') === 0) {\n        return factory.createPrivateChannel(name, pusher);\n    }\n    else if (name.indexOf('presence-') === 0) {\n        return factory.createPresenceChannel(name, pusher);\n    }\n    else if (name.indexOf('#') === 0) {\n        throw new BadChannelName('Cannot create a channel with name \"' + name + '\".');\n    }\n    else {\n        return factory.createChannel(name, pusher);\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/utils/factory.ts\n\n\n\n\n\n\n\n\n\nvar Factory = {\n    createChannels: function () {\n        return new channels();\n    },\n    createConnectionManager: function (key, options) {\n        return new connection_manager(key, options);\n    },\n    createChannel: function (name, pusher) {\n        return new channels_channel(name, pusher);\n    },\n    createPrivateChannel: function (name, pusher) {\n        return new private_channel(name, pusher);\n    },\n    createPresenceChannel: function (name, pusher) {\n        return new presence_channel(name, pusher);\n    },\n    createEncryptedChannel: function (name, pusher, nacl) {\n        return new encrypted_channel(name, pusher, nacl);\n    },\n    createTimelineSender: function (timeline, options) {\n        return new timeline_sender(timeline, options);\n    },\n    createHandshake: function (transport, callback) {\n        return new connection_handshake(transport, callback);\n    },\n    createAssistantToTheTransportManager: function (manager, transport, options) {\n        return new assistant_to_the_transport_manager(manager, transport, options);\n    }\n};\n/* harmony default export */ var factory = (Factory);\n\n// CONCATENATED MODULE: ./src/core/transports/transport_manager.ts\n\nvar transport_manager_TransportManager = (function () {\n    function TransportManager(options) {\n        this.options = options || {};\n        this.livesLeft = this.options.lives || Infinity;\n    }\n    TransportManager.prototype.getAssistant = function (transport) {\n        return factory.createAssistantToTheTransportManager(this, transport, {\n            minPingDelay: this.options.minPingDelay,\n            maxPingDelay: this.options.maxPingDelay\n        });\n    };\n    TransportManager.prototype.isAlive = function () {\n        return this.livesLeft > 0;\n    };\n    TransportManager.prototype.reportDeath = function () {\n        this.livesLeft -= 1;\n    };\n    return TransportManager;\n}());\n/* harmony default export */ var transport_manager = (transport_manager_TransportManager);\n\n// CONCATENATED MODULE: ./src/core/strategies/sequential_strategy.ts\n\n\n\nvar sequential_strategy_SequentialStrategy = (function () {\n    function SequentialStrategy(strategies, options) {\n        this.strategies = strategies;\n        this.loop = Boolean(options.loop);\n        this.failFast = Boolean(options.failFast);\n        this.timeout = options.timeout;\n        this.timeoutLimit = options.timeoutLimit;\n    }\n    SequentialStrategy.prototype.isSupported = function () {\n        return any(this.strategies, util.method('isSupported'));\n    };\n    SequentialStrategy.prototype.connect = function (minPriority, callback) {\n        var _this = this;\n        var strategies = this.strategies;\n        var current = 0;\n        var timeout = this.timeout;\n        var runner = null;\n        var tryNextStrategy = function (error, handshake) {\n            if (handshake) {\n                callback(null, handshake);\n            }\n            else {\n                current = current + 1;\n                if (_this.loop) {\n                    current = current % strategies.length;\n                }\n                if (current < strategies.length) {\n                    if (timeout) {\n                        timeout = timeout * 2;\n                        if (_this.timeoutLimit) {\n                            timeout = Math.min(timeout, _this.timeoutLimit);\n                        }\n                    }\n                    runner = _this.tryStrategy(strategies[current], minPriority, { timeout: timeout, failFast: _this.failFast }, tryNextStrategy);\n                }\n                else {\n                    callback(true);\n                }\n            }\n        };\n        runner = this.tryStrategy(strategies[current], minPriority, { timeout: timeout, failFast: this.failFast }, tryNextStrategy);\n        return {\n            abort: function () {\n                runner.abort();\n            },\n            forceMinPriority: function (p) {\n                minPriority = p;\n                if (runner) {\n                    runner.forceMinPriority(p);\n                }\n            }\n        };\n    };\n    SequentialStrategy.prototype.tryStrategy = function (strategy, minPriority, options, callback) {\n        var timer = null;\n        var runner = null;\n        if (options.timeout > 0) {\n            timer = new OneOffTimer(options.timeout, function () {\n                runner.abort();\n                callback(true);\n            });\n        }\n        runner = strategy.connect(minPriority, function (error, handshake) {\n            if (error && timer && timer.isRunning() && !options.failFast) {\n                return;\n            }\n            if (timer) {\n                timer.ensureAborted();\n            }\n            callback(error, handshake);\n        });\n        return {\n            abort: function () {\n                if (timer) {\n                    timer.ensureAborted();\n                }\n                runner.abort();\n            },\n            forceMinPriority: function (p) {\n                runner.forceMinPriority(p);\n            }\n        };\n    };\n    return SequentialStrategy;\n}());\n/* harmony default export */ var sequential_strategy = (sequential_strategy_SequentialStrategy);\n\n// CONCATENATED MODULE: ./src/core/strategies/best_connected_ever_strategy.ts\n\n\nvar best_connected_ever_strategy_BestConnectedEverStrategy = (function () {\n    function BestConnectedEverStrategy(strategies) {\n        this.strategies = strategies;\n    }\n    BestConnectedEverStrategy.prototype.isSupported = function () {\n        return any(this.strategies, util.method('isSupported'));\n    };\n    BestConnectedEverStrategy.prototype.connect = function (minPriority, callback) {\n        return connect(this.strategies, minPriority, function (i, runners) {\n            return function (error, handshake) {\n                runners[i].error = error;\n                if (error) {\n                    if (allRunnersFailed(runners)) {\n                        callback(true);\n                    }\n                    return;\n                }\n                apply(runners, function (runner) {\n                    runner.forceMinPriority(handshake.transport.priority);\n                });\n                callback(null, handshake);\n            };\n        });\n    };\n    return BestConnectedEverStrategy;\n}());\n/* harmony default export */ var best_connected_ever_strategy = (best_connected_ever_strategy_BestConnectedEverStrategy);\nfunction connect(strategies, minPriority, callbackBuilder) {\n    var runners = map(strategies, function (strategy, i, _, rs) {\n        return strategy.connect(minPriority, callbackBuilder(i, rs));\n    });\n    return {\n        abort: function () {\n            apply(runners, abortRunner);\n        },\n        forceMinPriority: function (p) {\n            apply(runners, function (runner) {\n                runner.forceMinPriority(p);\n            });\n        }\n    };\n}\nfunction allRunnersFailed(runners) {\n    return collections_all(runners, function (runner) {\n        return Boolean(runner.error);\n    });\n}\nfunction abortRunner(runner) {\n    if (!runner.error && !runner.aborted) {\n        runner.abort();\n        runner.aborted = true;\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/strategies/cached_strategy.ts\n\n\n\n\nvar cached_strategy_CachedStrategy = (function () {\n    function CachedStrategy(strategy, transports, options) {\n        this.strategy = strategy;\n        this.transports = transports;\n        this.ttl = options.ttl || 1800 * 1000;\n        this.usingTLS = options.useTLS;\n        this.timeline = options.timeline;\n    }\n    CachedStrategy.prototype.isSupported = function () {\n        return this.strategy.isSupported();\n    };\n    CachedStrategy.prototype.connect = function (minPriority, callback) {\n        var usingTLS = this.usingTLS;\n        var info = fetchTransportCache(usingTLS);\n        var strategies = [this.strategy];\n        if (info && info.timestamp + this.ttl >= util.now()) {\n            var transport = this.transports[info.transport];\n            if (transport) {\n                this.timeline.info({\n                    cached: true,\n                    transport: info.transport,\n                    latency: info.latency\n                });\n                strategies.push(new sequential_strategy([transport], {\n                    timeout: info.latency * 2 + 1000,\n                    failFast: true\n                }));\n            }\n        }\n        var startTimestamp = util.now();\n        var runner = strategies\n            .pop()\n            .connect(minPriority, function cb(error, handshake) {\n            if (error) {\n                flushTransportCache(usingTLS);\n                if (strategies.length > 0) {\n                    startTimestamp = util.now();\n                    runner = strategies.pop().connect(minPriority, cb);\n                }\n                else {\n                    callback(error);\n                }\n            }\n            else {\n                storeTransportCache(usingTLS, handshake.transport.name, util.now() - startTimestamp);\n                callback(null, handshake);\n            }\n        });\n        return {\n            abort: function () {\n                runner.abort();\n            },\n            forceMinPriority: function (p) {\n                minPriority = p;\n                if (runner) {\n                    runner.forceMinPriority(p);\n                }\n            }\n        };\n    };\n    return CachedStrategy;\n}());\n/* harmony default export */ var cached_strategy = (cached_strategy_CachedStrategy);\nfunction getTransportCacheKey(usingTLS) {\n    return 'pusherTransport' + (usingTLS ? 'TLS' : 'NonTLS');\n}\nfunction fetchTransportCache(usingTLS) {\n    var storage = runtime.getLocalStorage();\n    if (storage) {\n        try {\n            var serializedCache = storage[getTransportCacheKey(usingTLS)];\n            if (serializedCache) {\n                return JSON.parse(serializedCache);\n            }\n        }\n        catch (e) {\n            flushTransportCache(usingTLS);\n        }\n    }\n    return null;\n}\nfunction storeTransportCache(usingTLS, transport, latency) {\n    var storage = runtime.getLocalStorage();\n    if (storage) {\n        try {\n            storage[getTransportCacheKey(usingTLS)] = safeJSONStringify({\n                timestamp: util.now(),\n                transport: transport,\n                latency: latency\n            });\n        }\n        catch (e) {\n        }\n    }\n}\nfunction flushTransportCache(usingTLS) {\n    var storage = runtime.getLocalStorage();\n    if (storage) {\n        try {\n            delete storage[getTransportCacheKey(usingTLS)];\n        }\n        catch (e) {\n        }\n    }\n}\n\n// CONCATENATED MODULE: ./src/core/strategies/delayed_strategy.ts\n\nvar delayed_strategy_DelayedStrategy = (function () {\n    function DelayedStrategy(strategy, _a) {\n        var number = _a.delay;\n        this.strategy = strategy;\n        this.options = { delay: number };\n    }\n    DelayedStrategy.prototype.isSupported = function () {\n        return this.strategy.isSupported();\n    };\n    DelayedStrategy.prototype.connect = function (minPriority, callback) {\n        var strategy = this.strategy;\n        var runner;\n        var timer = new OneOffTimer(this.options.delay, function () {\n            runner = strategy.connect(minPriority, callback);\n        });\n        return {\n            abort: function () {\n                timer.ensureAborted();\n                if (runner) {\n                    runner.abort();\n                }\n            },\n            forceMinPriority: function (p) {\n                minPriority = p;\n                if (runner) {\n                    runner.forceMinPriority(p);\n                }\n            }\n        };\n    };\n    return DelayedStrategy;\n}());\n/* harmony default export */ var delayed_strategy = (delayed_strategy_DelayedStrategy);\n\n// CONCATENATED MODULE: ./src/core/strategies/if_strategy.ts\nvar IfStrategy = (function () {\n    function IfStrategy(test, trueBranch, falseBranch) {\n        this.test = test;\n        this.trueBranch = trueBranch;\n        this.falseBranch = falseBranch;\n    }\n    IfStrategy.prototype.isSupported = function () {\n        var branch = this.test() ? this.trueBranch : this.falseBranch;\n        return branch.isSupported();\n    };\n    IfStrategy.prototype.connect = function (minPriority, callback) {\n        var branch = this.test() ? this.trueBranch : this.falseBranch;\n        return branch.connect(minPriority, callback);\n    };\n    return IfStrategy;\n}());\n/* harmony default export */ var if_strategy = (IfStrategy);\n\n// CONCATENATED MODULE: ./src/core/strategies/first_connected_strategy.ts\nvar FirstConnectedStrategy = (function () {\n    function FirstConnectedStrategy(strategy) {\n        this.strategy = strategy;\n    }\n    FirstConnectedStrategy.prototype.isSupported = function () {\n        return this.strategy.isSupported();\n    };\n    FirstConnectedStrategy.prototype.connect = function (minPriority, callback) {\n        var runner = this.strategy.connect(minPriority, function (error, handshake) {\n            if (handshake) {\n                runner.abort();\n            }\n            callback(error, handshake);\n        });\n        return runner;\n    };\n    return FirstConnectedStrategy;\n}());\n/* harmony default export */ var first_connected_strategy = (FirstConnectedStrategy);\n\n// CONCATENATED MODULE: ./src/runtimes/web/default_strategy.ts\n\n\n\n\n\n\n\nfunction testSupportsStrategy(strategy) {\n    return function () {\n        return strategy.isSupported();\n    };\n}\nvar getDefaultStrategy = function (config, baseOptions, defineTransport) {\n    var definedTransports = {};\n    function defineTransportStrategy(name, type, priority, options, manager) {\n        var transport = defineTransport(config, name, type, priority, options, manager);\n        definedTransports[name] = transport;\n        return transport;\n    }\n    var ws_options = Object.assign({}, baseOptions, {\n        hostNonTLS: config.wsHost + ':' + config.wsPort,\n        hostTLS: config.wsHost + ':' + config.wssPort,\n        httpPath: config.wsPath\n    });\n    var wss_options = Object.assign({}, ws_options, {\n        useTLS: true\n    });\n    var sockjs_options = Object.assign({}, baseOptions, {\n        hostNonTLS: config.httpHost + ':' + config.httpPort,\n        hostTLS: config.httpHost + ':' + config.httpsPort,\n        httpPath: config.httpPath\n    });\n    var timeouts = {\n        loop: true,\n        timeout: 15000,\n        timeoutLimit: 60000\n    };\n    var ws_manager = new transport_manager({\n        lives: 2,\n        minPingDelay: 10000,\n        maxPingDelay: config.activityTimeout\n    });\n    var streaming_manager = new transport_manager({\n        lives: 2,\n        minPingDelay: 10000,\n        maxPingDelay: config.activityTimeout\n    });\n    var ws_transport = defineTransportStrategy('ws', 'ws', 3, ws_options, ws_manager);\n    var wss_transport = defineTransportStrategy('wss', 'ws', 3, wss_options, ws_manager);\n    var sockjs_transport = defineTransportStrategy('sockjs', 'sockjs', 1, sockjs_options);\n    var xhr_streaming_transport = defineTransportStrategy('xhr_streaming', 'xhr_streaming', 1, sockjs_options, streaming_manager);\n    var xdr_streaming_transport = defineTransportStrategy('xdr_streaming', 'xdr_streaming', 1, sockjs_options, streaming_manager);\n    var xhr_polling_transport = defineTransportStrategy('xhr_polling', 'xhr_polling', 1, sockjs_options);\n    var xdr_polling_transport = defineTransportStrategy('xdr_polling', 'xdr_polling', 1, sockjs_options);\n    var ws_loop = new sequential_strategy([ws_transport], timeouts);\n    var wss_loop = new sequential_strategy([wss_transport], timeouts);\n    var sockjs_loop = new sequential_strategy([sockjs_transport], timeouts);\n    var streaming_loop = new sequential_strategy([\n        new if_strategy(testSupportsStrategy(xhr_streaming_transport), xhr_streaming_transport, xdr_streaming_transport)\n    ], timeouts);\n    var polling_loop = new sequential_strategy([\n        new if_strategy(testSupportsStrategy(xhr_polling_transport), xhr_polling_transport, xdr_polling_transport)\n    ], timeouts);\n    var http_loop = new sequential_strategy([\n        new if_strategy(testSupportsStrategy(streaming_loop), new best_connected_ever_strategy([\n            streaming_loop,\n            new delayed_strategy(polling_loop, { delay: 4000 })\n        ]), polling_loop)\n    ], timeouts);\n    var http_fallback_loop = new if_strategy(testSupportsStrategy(http_loop), http_loop, sockjs_loop);\n    var wsStrategy;\n    if (baseOptions.useTLS) {\n        wsStrategy = new best_connected_ever_strategy([\n            ws_loop,\n            new delayed_strategy(http_fallback_loop, { delay: 2000 })\n        ]);\n    }\n    else {\n        wsStrategy = new best_connected_ever_strategy([\n            ws_loop,\n            new delayed_strategy(wss_loop, { delay: 2000 }),\n            new delayed_strategy(http_fallback_loop, { delay: 5000 })\n        ]);\n    }\n    return new cached_strategy(new first_connected_strategy(new if_strategy(testSupportsStrategy(ws_transport), wsStrategy, http_fallback_loop)), definedTransports, {\n        ttl: 1800000,\n        timeline: baseOptions.timeline,\n        useTLS: baseOptions.useTLS\n    });\n};\n/* harmony default export */ var default_strategy = (getDefaultStrategy);\n\n// CONCATENATED MODULE: ./src/runtimes/web/transports/transport_connection_initializer.ts\n\n/* harmony default export */ var transport_connection_initializer = (function () {\n    var self = this;\n    self.timeline.info(self.buildTimelineMessage({\n        transport: self.name + (self.options.useTLS ? 's' : '')\n    }));\n    if (self.hooks.isInitialized()) {\n        self.changeState('initialized');\n    }\n    else if (self.hooks.file) {\n        self.changeState('initializing');\n        Dependencies.load(self.hooks.file, { useTLS: self.options.useTLS }, function (error, callback) {\n            if (self.hooks.isInitialized()) {\n                self.changeState('initialized');\n                callback(true);\n            }\n            else {\n                if (error) {\n                    self.onError(error);\n                }\n                self.onClose();\n                callback(false);\n            }\n        });\n    }\n    else {\n        self.onClose();\n    }\n});\n\n// CONCATENATED MODULE: ./src/runtimes/web/http/http_xdomain_request.ts\n\nvar http_xdomain_request_hooks = {\n    getRequest: function (socket) {\n        var xdr = new window.XDomainRequest();\n        xdr.ontimeout = function () {\n            socket.emit('error', new RequestTimedOut());\n            socket.close();\n        };\n        xdr.onerror = function (e) {\n            socket.emit('error', e);\n            socket.close();\n        };\n        xdr.onprogress = function () {\n            if (xdr.responseText && xdr.responseText.length > 0) {\n                socket.onChunk(200, xdr.responseText);\n            }\n        };\n        xdr.onload = function () {\n            if (xdr.responseText && xdr.responseText.length > 0) {\n                socket.onChunk(200, xdr.responseText);\n            }\n            socket.emit('finished', 200);\n            socket.close();\n        };\n        return xdr;\n    },\n    abortRequest: function (xdr) {\n        xdr.ontimeout = xdr.onerror = xdr.onprogress = xdr.onload = null;\n        xdr.abort();\n    }\n};\n/* harmony default export */ var http_xdomain_request = (http_xdomain_request_hooks);\n\n// CONCATENATED MODULE: ./src/core/http/http_request.ts\nvar http_request_extends = ( false) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar MAX_BUFFER_LENGTH = 256 * 1024;\nvar http_request_HTTPRequest = (function (_super) {\n    http_request_extends(HTTPRequest, _super);\n    function HTTPRequest(hooks, method, url) {\n        var _this = _super.call(this) || this;\n        _this.hooks = hooks;\n        _this.method = method;\n        _this.url = url;\n        return _this;\n    }\n    HTTPRequest.prototype.start = function (payload) {\n        var _this = this;\n        this.position = 0;\n        this.xhr = this.hooks.getRequest(this);\n        this.unloader = function () {\n            _this.close();\n        };\n        runtime.addUnloadListener(this.unloader);\n        this.xhr.open(this.method, this.url, true);\n        if (this.xhr.setRequestHeader) {\n            this.xhr.setRequestHeader('Content-Type', 'application/json');\n        }\n        this.xhr.send(payload);\n    };\n    HTTPRequest.prototype.close = function () {\n        if (this.unloader) {\n            runtime.removeUnloadListener(this.unloader);\n            this.unloader = null;\n        }\n        if (this.xhr) {\n            this.hooks.abortRequest(this.xhr);\n            this.xhr = null;\n        }\n    };\n    HTTPRequest.prototype.onChunk = function (status, data) {\n        while (true) {\n            var chunk = this.advanceBuffer(data);\n            if (chunk) {\n                this.emit('chunk', { status: status, data: chunk });\n            }\n            else {\n                break;\n            }\n        }\n        if (this.isBufferTooLong(data)) {\n            this.emit('buffer_too_long');\n        }\n    };\n    HTTPRequest.prototype.advanceBuffer = function (buffer) {\n        var unreadData = buffer.slice(this.position);\n        var endOfLinePosition = unreadData.indexOf('\\n');\n        if (endOfLinePosition !== -1) {\n            this.position += endOfLinePosition + 1;\n            return unreadData.slice(0, endOfLinePosition);\n        }\n        else {\n            return null;\n        }\n    };\n    HTTPRequest.prototype.isBufferTooLong = function (buffer) {\n        return this.position === buffer.length && buffer.length > MAX_BUFFER_LENGTH;\n    };\n    return HTTPRequest;\n}(dispatcher));\n/* harmony default export */ var http_request = (http_request_HTTPRequest);\n\n// CONCATENATED MODULE: ./src/core/http/state.ts\nvar State;\n(function (State) {\n    State[State[\"CONNECTING\"] = 0] = \"CONNECTING\";\n    State[State[\"OPEN\"] = 1] = \"OPEN\";\n    State[State[\"CLOSED\"] = 3] = \"CLOSED\";\n})(State || (State = {}));\n/* harmony default export */ var state = (State);\n\n// CONCATENATED MODULE: ./src/core/http/http_socket.ts\n\n\n\nvar autoIncrement = 1;\nvar http_socket_HTTPSocket = (function () {\n    function HTTPSocket(hooks, url) {\n        this.hooks = hooks;\n        this.session = randomNumber(1000) + '/' + randomString(8);\n        this.location = getLocation(url);\n        this.readyState = state.CONNECTING;\n        this.openStream();\n    }\n    HTTPSocket.prototype.send = function (payload) {\n        return this.sendRaw(JSON.stringify([payload]));\n    };\n    HTTPSocket.prototype.ping = function () {\n        this.hooks.sendHeartbeat(this);\n    };\n    HTTPSocket.prototype.close = function (code, reason) {\n        this.onClose(code, reason, true);\n    };\n    HTTPSocket.prototype.sendRaw = function (payload) {\n        if (this.readyState === state.OPEN) {\n            try {\n                runtime.createSocketRequest('POST', getUniqueURL(getSendURL(this.location, this.session))).start(payload);\n                return true;\n            }\n            catch (e) {\n                return false;\n            }\n        }\n        else {\n            return false;\n        }\n    };\n    HTTPSocket.prototype.reconnect = function () {\n        this.closeStream();\n        this.openStream();\n    };\n    HTTPSocket.prototype.onClose = function (code, reason, wasClean) {\n        this.closeStream();\n        this.readyState = state.CLOSED;\n        if (this.onclose) {\n            this.onclose({\n                code: code,\n                reason: reason,\n                wasClean: wasClean\n            });\n        }\n    };\n    HTTPSocket.prototype.onChunk = function (chunk) {\n        if (chunk.status !== 200) {\n            return;\n        }\n        if (this.readyState === state.OPEN) {\n            this.onActivity();\n        }\n        var payload;\n        var type = chunk.data.slice(0, 1);\n        switch (type) {\n            case 'o':\n                payload = JSON.parse(chunk.data.slice(1) || '{}');\n                this.onOpen(payload);\n                break;\n            case 'a':\n                payload = JSON.parse(chunk.data.slice(1) || '[]');\n                for (var i = 0; i < payload.length; i++) {\n                    this.onEvent(payload[i]);\n                }\n                break;\n            case 'm':\n                payload = JSON.parse(chunk.data.slice(1) || 'null');\n                this.onEvent(payload);\n                break;\n            case 'h':\n                this.hooks.onHeartbeat(this);\n                break;\n            case 'c':\n                payload = JSON.parse(chunk.data.slice(1) || '[]');\n                this.onClose(payload[0], payload[1], true);\n                break;\n        }\n    };\n    HTTPSocket.prototype.onOpen = function (options) {\n        if (this.readyState === state.CONNECTING) {\n            if (options && options.hostname) {\n                this.location.base = replaceHost(this.location.base, options.hostname);\n            }\n            this.readyState = state.OPEN;\n            if (this.onopen) {\n                this.onopen();\n            }\n        }\n        else {\n            this.onClose(1006, 'Server lost session', true);\n        }\n    };\n    HTTPSocket.prototype.onEvent = function (event) {\n        if (this.readyState === state.OPEN && this.onmessage) {\n            this.onmessage({ data: event });\n        }\n    };\n    HTTPSocket.prototype.onActivity = function () {\n        if (this.onactivity) {\n            this.onactivity();\n        }\n    };\n    HTTPSocket.prototype.onError = function (error) {\n        if (this.onerror) {\n            this.onerror(error);\n        }\n    };\n    HTTPSocket.prototype.openStream = function () {\n        var _this = this;\n        this.stream = runtime.createSocketRequest('POST', getUniqueURL(this.hooks.getReceiveURL(this.location, this.session)));\n        this.stream.bind('chunk', function (chunk) {\n            _this.onChunk(chunk);\n        });\n        this.stream.bind('finished', function (status) {\n            _this.hooks.onFinished(_this, status);\n        });\n        this.stream.bind('buffer_too_long', function () {\n            _this.reconnect();\n        });\n        try {\n            this.stream.start();\n        }\n        catch (error) {\n            util.defer(function () {\n                _this.onError(error);\n                _this.onClose(1006, 'Could not start streaming', false);\n            });\n        }\n    };\n    HTTPSocket.prototype.closeStream = function () {\n        if (this.stream) {\n            this.stream.unbind_all();\n            this.stream.close();\n            this.stream = null;\n        }\n    };\n    return HTTPSocket;\n}());\nfunction getLocation(url) {\n    var parts = /([^\\?]*)\\/*(\\??.*)/.exec(url);\n    return {\n        base: parts[1],\n        queryString: parts[2]\n    };\n}\nfunction getSendURL(url, session) {\n    return url.base + '/' + session + '/xhr_send';\n}\nfunction getUniqueURL(url) {\n    var separator = url.indexOf('?') === -1 ? '?' : '&';\n    return url + separator + 't=' + +new Date() + '&n=' + autoIncrement++;\n}\nfunction replaceHost(url, hostname) {\n    var urlParts = /(https?:\\/\\/)([^\\/:]+)((\\/|:)?.*)/.exec(url);\n    return urlParts[1] + hostname + urlParts[3];\n}\nfunction randomNumber(max) {\n    return runtime.randomInt(max);\n}\nfunction randomString(length) {\n    var result = [];\n    for (var i = 0; i < length; i++) {\n        result.push(randomNumber(32).toString(32));\n    }\n    return result.join('');\n}\n/* harmony default export */ var http_socket = (http_socket_HTTPSocket);\n\n// CONCATENATED MODULE: ./src/core/http/http_streaming_socket.ts\nvar http_streaming_socket_hooks = {\n    getReceiveURL: function (url, session) {\n        return url.base + '/' + session + '/xhr_streaming' + url.queryString;\n    },\n    onHeartbeat: function (socket) {\n        socket.sendRaw('[]');\n    },\n    sendHeartbeat: function (socket) {\n        socket.sendRaw('[]');\n    },\n    onFinished: function (socket, status) {\n        socket.onClose(1006, 'Connection interrupted (' + status + ')', false);\n    }\n};\n/* harmony default export */ var http_streaming_socket = (http_streaming_socket_hooks);\n\n// CONCATENATED MODULE: ./src/core/http/http_polling_socket.ts\nvar http_polling_socket_hooks = {\n    getReceiveURL: function (url, session) {\n        return url.base + '/' + session + '/xhr' + url.queryString;\n    },\n    onHeartbeat: function () {\n    },\n    sendHeartbeat: function (socket) {\n        socket.sendRaw('[]');\n    },\n    onFinished: function (socket, status) {\n        if (status === 200) {\n            socket.reconnect();\n        }\n        else {\n            socket.onClose(1006, 'Connection interrupted (' + status + ')', false);\n        }\n    }\n};\n/* harmony default export */ var http_polling_socket = (http_polling_socket_hooks);\n\n// CONCATENATED MODULE: ./src/runtimes/isomorphic/http/http_xhr_request.ts\n\nvar http_xhr_request_hooks = {\n    getRequest: function (socket) {\n        var Constructor = runtime.getXHRAPI();\n        var xhr = new Constructor();\n        xhr.onreadystatechange = xhr.onprogress = function () {\n            switch (xhr.readyState) {\n                case 3:\n                    if (xhr.responseText && xhr.responseText.length > 0) {\n                        socket.onChunk(xhr.status, xhr.responseText);\n                    }\n                    break;\n                case 4:\n                    if (xhr.responseText && xhr.responseText.length > 0) {\n                        socket.onChunk(xhr.status, xhr.responseText);\n                    }\n                    socket.emit('finished', xhr.status);\n                    socket.close();\n                    break;\n            }\n        };\n        return xhr;\n    },\n    abortRequest: function (xhr) {\n        xhr.onreadystatechange = null;\n        xhr.abort();\n    }\n};\n/* harmony default export */ var http_xhr_request = (http_xhr_request_hooks);\n\n// CONCATENATED MODULE: ./src/runtimes/isomorphic/http/http.ts\n\n\n\n\n\nvar HTTP = {\n    createStreamingSocket: function (url) {\n        return this.createSocket(http_streaming_socket, url);\n    },\n    createPollingSocket: function (url) {\n        return this.createSocket(http_polling_socket, url);\n    },\n    createSocket: function (hooks, url) {\n        return new http_socket(hooks, url);\n    },\n    createXHR: function (method, url) {\n        return this.createRequest(http_xhr_request, method, url);\n    },\n    createRequest: function (hooks, method, url) {\n        return new http_request(hooks, method, url);\n    }\n};\n/* harmony default export */ var http_http = (HTTP);\n\n// CONCATENATED MODULE: ./src/runtimes/web/http/http.ts\n\n\nhttp_http.createXDR = function (method, url) {\n    return this.createRequest(http_xdomain_request, method, url);\n};\n/* harmony default export */ var web_http_http = (http_http);\n\n// CONCATENATED MODULE: ./src/runtimes/web/runtime.ts\n\n\n\n\n\n\n\n\n\n\n\n\nvar Runtime = {\n    nextAuthCallbackID: 1,\n    auth_callbacks: {},\n    ScriptReceivers: ScriptReceivers,\n    DependenciesReceivers: DependenciesReceivers,\n    getDefaultStrategy: default_strategy,\n    Transports: transports_transports,\n    transportConnectionInitializer: transport_connection_initializer,\n    HTTPFactory: web_http_http,\n    TimelineTransport: jsonp_timeline,\n    getXHRAPI: function () {\n        return window.XMLHttpRequest;\n    },\n    getWebSocketAPI: function () {\n        return window.WebSocket || window.MozWebSocket;\n    },\n    setup: function (PusherClass) {\n        var _this = this;\n        window.Pusher = PusherClass;\n        var initializeOnDocumentBody = function () {\n            _this.onDocumentBody(PusherClass.ready);\n        };\n        if (!window.JSON) {\n            Dependencies.load('json2', {}, initializeOnDocumentBody);\n        }\n        else {\n            initializeOnDocumentBody();\n        }\n    },\n    getDocument: function () {\n        return document;\n    },\n    getProtocol: function () {\n        return this.getDocument().location.protocol;\n    },\n    getAuthorizers: function () {\n        return { ajax: xhr_auth, jsonp: jsonp_auth };\n    },\n    onDocumentBody: function (callback) {\n        var _this = this;\n        if (document.body) {\n            callback();\n        }\n        else {\n            setTimeout(function () {\n                _this.onDocumentBody(callback);\n            }, 0);\n        }\n    },\n    createJSONPRequest: function (url, data) {\n        return new jsonp_request(url, data);\n    },\n    createScriptRequest: function (src) {\n        return new script_request(src);\n    },\n    getLocalStorage: function () {\n        try {\n            return window.localStorage;\n        }\n        catch (e) {\n            return undefined;\n        }\n    },\n    createXHR: function () {\n        if (this.getXHRAPI()) {\n            return this.createXMLHttpRequest();\n        }\n        else {\n            return this.createMicrosoftXHR();\n        }\n    },\n    createXMLHttpRequest: function () {\n        var Constructor = this.getXHRAPI();\n        return new Constructor();\n    },\n    createMicrosoftXHR: function () {\n        return new ActiveXObject('Microsoft.XMLHTTP');\n    },\n    getNetwork: function () {\n        return net_info_Network;\n    },\n    createWebSocket: function (url) {\n        var Constructor = this.getWebSocketAPI();\n        return new Constructor(url);\n    },\n    createSocketRequest: function (method, url) {\n        if (this.isXHRSupported()) {\n            return this.HTTPFactory.createXHR(method, url);\n        }\n        else if (this.isXDRSupported(url.indexOf('https:') === 0)) {\n            return this.HTTPFactory.createXDR(method, url);\n        }\n        else {\n            throw 'Cross-origin HTTP requests are not supported';\n        }\n    },\n    isXHRSupported: function () {\n        var Constructor = this.getXHRAPI();\n        return (Boolean(Constructor) && new Constructor().withCredentials !== undefined);\n    },\n    isXDRSupported: function (useTLS) {\n        var protocol = useTLS ? 'https:' : 'http:';\n        var documentProtocol = this.getProtocol();\n        return (Boolean(window['XDomainRequest']) && documentProtocol === protocol);\n    },\n    addUnloadListener: function (listener) {\n        if (window.addEventListener !== undefined) {\n            window.addEventListener('unload', listener, false);\n        }\n        else if (window.attachEvent !== undefined) {\n            window.attachEvent('onunload', listener);\n        }\n    },\n    removeUnloadListener: function (listener) {\n        if (window.addEventListener !== undefined) {\n            window.removeEventListener('unload', listener, false);\n        }\n        else if (window.detachEvent !== undefined) {\n            window.detachEvent('onunload', listener);\n        }\n    },\n    randomInt: function (max) {\n        var random = function () {\n            var crypto = window.crypto || window['msCrypto'];\n            var random = crypto.getRandomValues(new Uint32Array(1))[0];\n            return random / Math.pow(2, 32);\n        };\n        return Math.floor(random() * max);\n    }\n};\n/* harmony default export */ var runtime = (Runtime);\n\n// CONCATENATED MODULE: ./src/core/timeline/level.ts\nvar TimelineLevel;\n(function (TimelineLevel) {\n    TimelineLevel[TimelineLevel[\"ERROR\"] = 3] = \"ERROR\";\n    TimelineLevel[TimelineLevel[\"INFO\"] = 6] = \"INFO\";\n    TimelineLevel[TimelineLevel[\"DEBUG\"] = 7] = \"DEBUG\";\n})(TimelineLevel || (TimelineLevel = {}));\n/* harmony default export */ var timeline_level = (TimelineLevel);\n\n// CONCATENATED MODULE: ./src/core/timeline/timeline.ts\n\n\n\nvar timeline_Timeline = (function () {\n    function Timeline(key, session, options) {\n        this.key = key;\n        this.session = session;\n        this.events = [];\n        this.options = options || {};\n        this.sent = 0;\n        this.uniqueID = 0;\n    }\n    Timeline.prototype.log = function (level, event) {\n        if (level <= this.options.level) {\n            this.events.push(extend({}, event, { timestamp: util.now() }));\n            if (this.options.limit && this.events.length > this.options.limit) {\n                this.events.shift();\n            }\n        }\n    };\n    Timeline.prototype.error = function (event) {\n        this.log(timeline_level.ERROR, event);\n    };\n    Timeline.prototype.info = function (event) {\n        this.log(timeline_level.INFO, event);\n    };\n    Timeline.prototype.debug = function (event) {\n        this.log(timeline_level.DEBUG, event);\n    };\n    Timeline.prototype.isEmpty = function () {\n        return this.events.length === 0;\n    };\n    Timeline.prototype.send = function (sendfn, callback) {\n        var _this = this;\n        var data = extend({\n            session: this.session,\n            bundle: this.sent + 1,\n            key: this.key,\n            lib: 'js',\n            version: this.options.version,\n            cluster: this.options.cluster,\n            features: this.options.features,\n            timeline: this.events\n        }, this.options.params);\n        this.events = [];\n        sendfn(data, function (error, result) {\n            if (!error) {\n                _this.sent++;\n            }\n            if (callback) {\n                callback(error, result);\n            }\n        });\n        return true;\n    };\n    Timeline.prototype.generateUniqueID = function () {\n        this.uniqueID++;\n        return this.uniqueID;\n    };\n    return Timeline;\n}());\n/* harmony default export */ var timeline_timeline = (timeline_Timeline);\n\n// CONCATENATED MODULE: ./src/core/strategies/transport_strategy.ts\n\n\n\n\nvar transport_strategy_TransportStrategy = (function () {\n    function TransportStrategy(name, priority, transport, options) {\n        this.name = name;\n        this.priority = priority;\n        this.transport = transport;\n        this.options = options || {};\n    }\n    TransportStrategy.prototype.isSupported = function () {\n        return this.transport.isSupported({\n            useTLS: this.options.useTLS\n        });\n    };\n    TransportStrategy.prototype.connect = function (minPriority, callback) {\n        var _this = this;\n        if (!this.isSupported()) {\n            return failAttempt(new UnsupportedStrategy(), callback);\n        }\n        else if (this.priority < minPriority) {\n            return failAttempt(new TransportPriorityTooLow(), callback);\n        }\n        var connected = false;\n        var transport = this.transport.createConnection(this.name, this.priority, this.options.key, this.options);\n        var handshake = null;\n        var onInitialized = function () {\n            transport.unbind('initialized', onInitialized);\n            transport.connect();\n        };\n        var onOpen = function () {\n            handshake = factory.createHandshake(transport, function (result) {\n                connected = true;\n                unbindListeners();\n                callback(null, result);\n            });\n        };\n        var onError = function (error) {\n            unbindListeners();\n            callback(error);\n        };\n        var onClosed = function () {\n            unbindListeners();\n            var serializedTransport;\n            serializedTransport = safeJSONStringify(transport);\n            callback(new TransportClosed(serializedTransport));\n        };\n        var unbindListeners = function () {\n            transport.unbind('initialized', onInitialized);\n            transport.unbind('open', onOpen);\n            transport.unbind('error', onError);\n            transport.unbind('closed', onClosed);\n        };\n        transport.bind('initialized', onInitialized);\n        transport.bind('open', onOpen);\n        transport.bind('error', onError);\n        transport.bind('closed', onClosed);\n        transport.initialize();\n        return {\n            abort: function () {\n                if (connected) {\n                    return;\n                }\n                unbindListeners();\n                if (handshake) {\n                    handshake.close();\n                }\n                else {\n                    transport.close();\n                }\n            },\n            forceMinPriority: function (p) {\n                if (connected) {\n                    return;\n                }\n                if (_this.priority < p) {\n                    if (handshake) {\n                        handshake.close();\n                    }\n                    else {\n                        transport.close();\n                    }\n                }\n            }\n        };\n    };\n    return TransportStrategy;\n}());\n/* harmony default export */ var transport_strategy = (transport_strategy_TransportStrategy);\nfunction failAttempt(error, callback) {\n    util.defer(function () {\n        callback(error);\n    });\n    return {\n        abort: function () { },\n        forceMinPriority: function () { }\n    };\n}\n\n// CONCATENATED MODULE: ./src/core/strategies/strategy_builder.ts\n\n\n\n\n\nvar strategy_builder_Transports = runtime.Transports;\nvar strategy_builder_defineTransport = function (config, name, type, priority, options, manager) {\n    var transportClass = strategy_builder_Transports[type];\n    if (!transportClass) {\n        throw new UnsupportedTransport(type);\n    }\n    var enabled = (!config.enabledTransports ||\n        arrayIndexOf(config.enabledTransports, name) !== -1) &&\n        (!config.disabledTransports ||\n            arrayIndexOf(config.disabledTransports, name) === -1);\n    var transport;\n    if (enabled) {\n        options = Object.assign({ ignoreNullOrigin: config.ignoreNullOrigin }, options);\n        transport = new transport_strategy(name, priority, manager ? manager.getAssistant(transportClass) : transportClass, options);\n    }\n    else {\n        transport = strategy_builder_UnsupportedStrategy;\n    }\n    return transport;\n};\nvar strategy_builder_UnsupportedStrategy = {\n    isSupported: function () {\n        return false;\n    },\n    connect: function (_, callback) {\n        var deferred = util.defer(function () {\n            callback(new UnsupportedStrategy());\n        });\n        return {\n            abort: function () {\n                deferred.ensureAborted();\n            },\n            forceMinPriority: function () { }\n        };\n    }\n};\n\n// CONCATENATED MODULE: ./src/core/auth/user_authenticator.ts\n\n\nvar composeChannelQuery = function (params, authOptions) {\n    var query = 'socket_id=' + encodeURIComponent(params.socketId);\n    for (var key in authOptions.params) {\n        query +=\n            '&' +\n                encodeURIComponent(key) +\n                '=' +\n                encodeURIComponent(authOptions.params[key]);\n    }\n    if (authOptions.paramsProvider != null) {\n        var dynamicParams = authOptions.paramsProvider();\n        for (var key in dynamicParams) {\n            query +=\n                '&' +\n                    encodeURIComponent(key) +\n                    '=' +\n                    encodeURIComponent(dynamicParams[key]);\n        }\n    }\n    return query;\n};\nvar UserAuthenticator = function (authOptions) {\n    if (typeof runtime.getAuthorizers()[authOptions.transport] === 'undefined') {\n        throw \"'\" + authOptions.transport + \"' is not a recognized auth transport\";\n    }\n    return function (params, callback) {\n        var query = composeChannelQuery(params, authOptions);\n        runtime.getAuthorizers()[authOptions.transport](runtime, query, authOptions, AuthRequestType.UserAuthentication, callback);\n    };\n};\n/* harmony default export */ var user_authenticator = (UserAuthenticator);\n\n// CONCATENATED MODULE: ./src/core/auth/channel_authorizer.ts\n\n\nvar channel_authorizer_composeChannelQuery = function (params, authOptions) {\n    var query = 'socket_id=' + encodeURIComponent(params.socketId);\n    query += '&channel_name=' + encodeURIComponent(params.channelName);\n    for (var key in authOptions.params) {\n        query +=\n            '&' +\n                encodeURIComponent(key) +\n                '=' +\n                encodeURIComponent(authOptions.params[key]);\n    }\n    if (authOptions.paramsProvider != null) {\n        var dynamicParams = authOptions.paramsProvider();\n        for (var key in dynamicParams) {\n            query +=\n                '&' +\n                    encodeURIComponent(key) +\n                    '=' +\n                    encodeURIComponent(dynamicParams[key]);\n        }\n    }\n    return query;\n};\nvar ChannelAuthorizer = function (authOptions) {\n    if (typeof runtime.getAuthorizers()[authOptions.transport] === 'undefined') {\n        throw \"'\" + authOptions.transport + \"' is not a recognized auth transport\";\n    }\n    return function (params, callback) {\n        var query = channel_authorizer_composeChannelQuery(params, authOptions);\n        runtime.getAuthorizers()[authOptions.transport](runtime, query, authOptions, AuthRequestType.ChannelAuthorization, callback);\n    };\n};\n/* harmony default export */ var channel_authorizer = (ChannelAuthorizer);\n\n// CONCATENATED MODULE: ./src/core/auth/deprecated_channel_authorizer.ts\nvar ChannelAuthorizerProxy = function (pusher, authOptions, channelAuthorizerGenerator) {\n    var deprecatedAuthorizerOptions = {\n        authTransport: authOptions.transport,\n        authEndpoint: authOptions.endpoint,\n        auth: {\n            params: authOptions.params,\n            headers: authOptions.headers\n        }\n    };\n    return function (params, callback) {\n        var channel = pusher.channel(params.channelName);\n        var channelAuthorizer = channelAuthorizerGenerator(channel, deprecatedAuthorizerOptions);\n        channelAuthorizer.authorize(params.socketId, callback);\n    };\n};\n\n// CONCATENATED MODULE: ./src/core/config.ts\nvar __assign = ( false) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n\n\n\n\n\nfunction getConfig(opts, pusher) {\n    var config = {\n        activityTimeout: opts.activityTimeout || defaults.activityTimeout,\n        cluster: opts.cluster || defaults.cluster,\n        httpPath: opts.httpPath || defaults.httpPath,\n        httpPort: opts.httpPort || defaults.httpPort,\n        httpsPort: opts.httpsPort || defaults.httpsPort,\n        pongTimeout: opts.pongTimeout || defaults.pongTimeout,\n        statsHost: opts.statsHost || defaults.stats_host,\n        unavailableTimeout: opts.unavailableTimeout || defaults.unavailableTimeout,\n        wsPath: opts.wsPath || defaults.wsPath,\n        wsPort: opts.wsPort || defaults.wsPort,\n        wssPort: opts.wssPort || defaults.wssPort,\n        enableStats: getEnableStatsConfig(opts),\n        httpHost: getHttpHost(opts),\n        useTLS: shouldUseTLS(opts),\n        wsHost: getWebsocketHost(opts),\n        userAuthenticator: buildUserAuthenticator(opts),\n        channelAuthorizer: buildChannelAuthorizer(opts, pusher)\n    };\n    if ('disabledTransports' in opts)\n        config.disabledTransports = opts.disabledTransports;\n    if ('enabledTransports' in opts)\n        config.enabledTransports = opts.enabledTransports;\n    if ('ignoreNullOrigin' in opts)\n        config.ignoreNullOrigin = opts.ignoreNullOrigin;\n    if ('timelineParams' in opts)\n        config.timelineParams = opts.timelineParams;\n    if ('nacl' in opts) {\n        config.nacl = opts.nacl;\n    }\n    return config;\n}\nfunction getHttpHost(opts) {\n    if (opts.httpHost) {\n        return opts.httpHost;\n    }\n    if (opts.cluster) {\n        return \"sockjs-\" + opts.cluster + \".pusher.com\";\n    }\n    return defaults.httpHost;\n}\nfunction getWebsocketHost(opts) {\n    if (opts.wsHost) {\n        return opts.wsHost;\n    }\n    if (opts.cluster) {\n        return getWebsocketHostFromCluster(opts.cluster);\n    }\n    return getWebsocketHostFromCluster(defaults.cluster);\n}\nfunction getWebsocketHostFromCluster(cluster) {\n    return \"ws-\" + cluster + \".pusher.com\";\n}\nfunction shouldUseTLS(opts) {\n    if (runtime.getProtocol() === 'https:') {\n        return true;\n    }\n    else if (opts.forceTLS === false) {\n        return false;\n    }\n    return true;\n}\nfunction getEnableStatsConfig(opts) {\n    if ('enableStats' in opts) {\n        return opts.enableStats;\n    }\n    if ('disableStats' in opts) {\n        return !opts.disableStats;\n    }\n    return false;\n}\nfunction buildUserAuthenticator(opts) {\n    var userAuthentication = __assign(__assign({}, defaults.userAuthentication), opts.userAuthentication);\n    if ('customHandler' in userAuthentication &&\n        userAuthentication['customHandler'] != null) {\n        return userAuthentication['customHandler'];\n    }\n    return user_authenticator(userAuthentication);\n}\nfunction buildChannelAuth(opts, pusher) {\n    var channelAuthorization;\n    if ('channelAuthorization' in opts) {\n        channelAuthorization = __assign(__assign({}, defaults.channelAuthorization), opts.channelAuthorization);\n    }\n    else {\n        channelAuthorization = {\n            transport: opts.authTransport || defaults.authTransport,\n            endpoint: opts.authEndpoint || defaults.authEndpoint\n        };\n        if ('auth' in opts) {\n            if ('params' in opts.auth)\n                channelAuthorization.params = opts.auth.params;\n            if ('headers' in opts.auth)\n                channelAuthorization.headers = opts.auth.headers;\n        }\n        if ('authorizer' in opts)\n            channelAuthorization.customHandler = ChannelAuthorizerProxy(pusher, channelAuthorization, opts.authorizer);\n    }\n    return channelAuthorization;\n}\nfunction buildChannelAuthorizer(opts, pusher) {\n    var channelAuthorization = buildChannelAuth(opts, pusher);\n    if ('customHandler' in channelAuthorization &&\n        channelAuthorization['customHandler'] != null) {\n        return channelAuthorization['customHandler'];\n    }\n    return channel_authorizer(channelAuthorization);\n}\n\n// CONCATENATED MODULE: ./src/core/watchlist.ts\nvar watchlist_extends = ( false) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar watchlist_WatchlistFacade = (function (_super) {\n    watchlist_extends(WatchlistFacade, _super);\n    function WatchlistFacade(pusher) {\n        var _this = _super.call(this, function (eventName, data) {\n            logger.debug(\"No callbacks on watchlist events for \" + eventName);\n        }) || this;\n        _this.pusher = pusher;\n        _this.bindWatchlistInternalEvent();\n        return _this;\n    }\n    WatchlistFacade.prototype.handleEvent = function (pusherEvent) {\n        var _this = this;\n        pusherEvent.data.events.forEach(function (watchlistEvent) {\n            _this.emit(watchlistEvent.name, watchlistEvent);\n        });\n    };\n    WatchlistFacade.prototype.bindWatchlistInternalEvent = function () {\n        var _this = this;\n        this.pusher.connection.bind('message', function (pusherEvent) {\n            var eventName = pusherEvent.event;\n            if (eventName === 'pusher_internal:watchlist_events') {\n                _this.handleEvent(pusherEvent);\n            }\n        });\n    };\n    return WatchlistFacade;\n}(dispatcher));\n/* harmony default export */ var watchlist = (watchlist_WatchlistFacade);\n\n// CONCATENATED MODULE: ./src/core/utils/flat_promise.ts\nfunction flatPromise() {\n    var resolve, reject;\n    var promise = new Promise(function (res, rej) {\n        resolve = res;\n        reject = rej;\n    });\n    return { promise: promise, resolve: resolve, reject: reject };\n}\n/* harmony default export */ var flat_promise = (flatPromise);\n\n// CONCATENATED MODULE: ./src/core/user.ts\nvar user_extends = ( false) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar user_UserFacade = (function (_super) {\n    user_extends(UserFacade, _super);\n    function UserFacade(pusher) {\n        var _this = _super.call(this, function (eventName, data) {\n            logger.debug('No callbacks on user for ' + eventName);\n        }) || this;\n        _this.signin_requested = false;\n        _this.user_data = null;\n        _this.serverToUserChannel = null;\n        _this.signinDonePromise = null;\n        _this._signinDoneResolve = null;\n        _this._onAuthorize = function (err, authData) {\n            if (err) {\n                logger.warn(\"Error during signin: \" + err);\n                _this._cleanup();\n                return;\n            }\n            _this.pusher.send_event('pusher:signin', {\n                auth: authData.auth,\n                user_data: authData.user_data\n            });\n        };\n        _this.pusher = pusher;\n        _this.pusher.connection.bind('state_change', function (_a) {\n            var previous = _a.previous, current = _a.current;\n            if (previous !== 'connected' && current === 'connected') {\n                _this._signin();\n            }\n            if (previous === 'connected' && current !== 'connected') {\n                _this._cleanup();\n                _this._newSigninPromiseIfNeeded();\n            }\n        });\n        _this.watchlist = new watchlist(pusher);\n        _this.pusher.connection.bind('message', function (event) {\n            var eventName = event.event;\n            if (eventName === 'pusher:signin_success') {\n                _this._onSigninSuccess(event.data);\n            }\n            if (_this.serverToUserChannel &&\n                _this.serverToUserChannel.name === event.channel) {\n                _this.serverToUserChannel.handleEvent(event);\n            }\n        });\n        return _this;\n    }\n    UserFacade.prototype.signin = function () {\n        if (this.signin_requested) {\n            return;\n        }\n        this.signin_requested = true;\n        this._signin();\n    };\n    UserFacade.prototype._signin = function () {\n        if (!this.signin_requested) {\n            return;\n        }\n        this._newSigninPromiseIfNeeded();\n        if (this.pusher.connection.state !== 'connected') {\n            return;\n        }\n        this.pusher.config.userAuthenticator({\n            socketId: this.pusher.connection.socket_id\n        }, this._onAuthorize);\n    };\n    UserFacade.prototype._onSigninSuccess = function (data) {\n        try {\n            this.user_data = JSON.parse(data.user_data);\n        }\n        catch (e) {\n            logger.error(\"Failed parsing user data after signin: \" + data.user_data);\n            this._cleanup();\n            return;\n        }\n        if (typeof this.user_data.id !== 'string' || this.user_data.id === '') {\n            logger.error(\"user_data doesn't contain an id. user_data: \" + this.user_data);\n            this._cleanup();\n            return;\n        }\n        this._signinDoneResolve();\n        this._subscribeChannels();\n    };\n    UserFacade.prototype._subscribeChannels = function () {\n        var _this = this;\n        var ensure_subscribed = function (channel) {\n            if (channel.subscriptionPending && channel.subscriptionCancelled) {\n                channel.reinstateSubscription();\n            }\n            else if (!channel.subscriptionPending &&\n                _this.pusher.connection.state === 'connected') {\n                channel.subscribe();\n            }\n        };\n        this.serverToUserChannel = new channels_channel(\"#server-to-user-\" + this.user_data.id, this.pusher);\n        this.serverToUserChannel.bind_global(function (eventName, data) {\n            if (eventName.indexOf('pusher_internal:') === 0 ||\n                eventName.indexOf('pusher:') === 0) {\n                return;\n            }\n            _this.emit(eventName, data);\n        });\n        ensure_subscribed(this.serverToUserChannel);\n    };\n    UserFacade.prototype._cleanup = function () {\n        this.user_data = null;\n        if (this.serverToUserChannel) {\n            this.serverToUserChannel.unbind_all();\n            this.serverToUserChannel.disconnect();\n            this.serverToUserChannel = null;\n        }\n        if (this.signin_requested) {\n            this._signinDoneResolve();\n        }\n    };\n    UserFacade.prototype._newSigninPromiseIfNeeded = function () {\n        if (!this.signin_requested) {\n            return;\n        }\n        if (this.signinDonePromise && !this.signinDonePromise.done) {\n            return;\n        }\n        var _a = flat_promise(), promise = _a.promise, resolve = _a.resolve, _ = _a.reject;\n        promise.done = false;\n        var setDone = function () {\n            promise.done = true;\n        };\n        promise.then(setDone)[\"catch\"](setDone);\n        this.signinDonePromise = promise;\n        this._signinDoneResolve = resolve;\n    };\n    return UserFacade;\n}(dispatcher));\n/* harmony default export */ var user = (user_UserFacade);\n\n// CONCATENATED MODULE: ./src/core/pusher.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar pusher_Pusher = (function () {\n    function Pusher(app_key, options) {\n        var _this = this;\n        checkAppKey(app_key);\n        options = options || {};\n        if (!options.cluster && !(options.wsHost || options.httpHost)) {\n            var suffix = url_store.buildLogSuffix('javascriptQuickStart');\n            logger.warn(\"You should always specify a cluster when connecting. \" + suffix);\n        }\n        if ('disableStats' in options) {\n            logger.warn('The disableStats option is deprecated in favor of enableStats');\n        }\n        this.key = app_key;\n        this.config = getConfig(options, this);\n        this.channels = factory.createChannels();\n        this.global_emitter = new dispatcher();\n        this.sessionID = runtime.randomInt(1000000000);\n        this.timeline = new timeline_timeline(this.key, this.sessionID, {\n            cluster: this.config.cluster,\n            features: Pusher.getClientFeatures(),\n            params: this.config.timelineParams || {},\n            limit: 50,\n            level: timeline_level.INFO,\n            version: defaults.VERSION\n        });\n        if (this.config.enableStats) {\n            this.timelineSender = factory.createTimelineSender(this.timeline, {\n                host: this.config.statsHost,\n                path: '/timeline/v2/' + runtime.TimelineTransport.name\n            });\n        }\n        var getStrategy = function (options) {\n            return runtime.getDefaultStrategy(_this.config, options, strategy_builder_defineTransport);\n        };\n        this.connection = factory.createConnectionManager(this.key, {\n            getStrategy: getStrategy,\n            timeline: this.timeline,\n            activityTimeout: this.config.activityTimeout,\n            pongTimeout: this.config.pongTimeout,\n            unavailableTimeout: this.config.unavailableTimeout,\n            useTLS: Boolean(this.config.useTLS)\n        });\n        this.connection.bind('connected', function () {\n            _this.subscribeAll();\n            if (_this.timelineSender) {\n                _this.timelineSender.send(_this.connection.isUsingTLS());\n            }\n        });\n        this.connection.bind('message', function (event) {\n            var eventName = event.event;\n            var internal = eventName.indexOf('pusher_internal:') === 0;\n            if (event.channel) {\n                var channel = _this.channel(event.channel);\n                if (channel) {\n                    channel.handleEvent(event);\n                }\n            }\n            if (!internal) {\n                _this.global_emitter.emit(event.event, event.data);\n            }\n        });\n        this.connection.bind('connecting', function () {\n            _this.channels.disconnect();\n        });\n        this.connection.bind('disconnected', function () {\n            _this.channels.disconnect();\n        });\n        this.connection.bind('error', function (err) {\n            logger.warn(err);\n        });\n        Pusher.instances.push(this);\n        this.timeline.info({ instances: Pusher.instances.length });\n        this.user = new user(this);\n        if (Pusher.isReady) {\n            this.connect();\n        }\n    }\n    Pusher.ready = function () {\n        Pusher.isReady = true;\n        for (var i = 0, l = Pusher.instances.length; i < l; i++) {\n            Pusher.instances[i].connect();\n        }\n    };\n    Pusher.getClientFeatures = function () {\n        return keys(filterObject({ ws: runtime.Transports.ws }, function (t) {\n            return t.isSupported({});\n        }));\n    };\n    Pusher.prototype.channel = function (name) {\n        return this.channels.find(name);\n    };\n    Pusher.prototype.allChannels = function () {\n        return this.channels.all();\n    };\n    Pusher.prototype.connect = function () {\n        this.connection.connect();\n        if (this.timelineSender) {\n            if (!this.timelineSenderTimer) {\n                var usingTLS = this.connection.isUsingTLS();\n                var timelineSender = this.timelineSender;\n                this.timelineSenderTimer = new PeriodicTimer(60000, function () {\n                    timelineSender.send(usingTLS);\n                });\n            }\n        }\n    };\n    Pusher.prototype.disconnect = function () {\n        this.connection.disconnect();\n        if (this.timelineSenderTimer) {\n            this.timelineSenderTimer.ensureAborted();\n            this.timelineSenderTimer = null;\n        }\n    };\n    Pusher.prototype.bind = function (event_name, callback, context) {\n        this.global_emitter.bind(event_name, callback, context);\n        return this;\n    };\n    Pusher.prototype.unbind = function (event_name, callback, context) {\n        this.global_emitter.unbind(event_name, callback, context);\n        return this;\n    };\n    Pusher.prototype.bind_global = function (callback) {\n        this.global_emitter.bind_global(callback);\n        return this;\n    };\n    Pusher.prototype.unbind_global = function (callback) {\n        this.global_emitter.unbind_global(callback);\n        return this;\n    };\n    Pusher.prototype.unbind_all = function (callback) {\n        this.global_emitter.unbind_all();\n        return this;\n    };\n    Pusher.prototype.subscribeAll = function () {\n        var channelName;\n        for (channelName in this.channels.channels) {\n            if (this.channels.channels.hasOwnProperty(channelName)) {\n                this.subscribe(channelName);\n            }\n        }\n    };\n    Pusher.prototype.subscribe = function (channel_name) {\n        var channel = this.channels.add(channel_name, this);\n        if (channel.subscriptionPending && channel.subscriptionCancelled) {\n            channel.reinstateSubscription();\n        }\n        else if (!channel.subscriptionPending &&\n            this.connection.state === 'connected') {\n            channel.subscribe();\n        }\n        return channel;\n    };\n    Pusher.prototype.unsubscribe = function (channel_name) {\n        var channel = this.channels.find(channel_name);\n        if (channel && channel.subscriptionPending) {\n            channel.cancelSubscription();\n        }\n        else {\n            channel = this.channels.remove(channel_name);\n            if (channel && channel.subscribed) {\n                channel.unsubscribe();\n            }\n        }\n    };\n    Pusher.prototype.send_event = function (event_name, data, channel) {\n        return this.connection.send_event(event_name, data, channel);\n    };\n    Pusher.prototype.shouldUseTLS = function () {\n        return this.config.useTLS;\n    };\n    Pusher.prototype.signin = function () {\n        this.user.signin();\n    };\n    Pusher.instances = [];\n    Pusher.isReady = false;\n    Pusher.logToConsole = false;\n    Pusher.Runtime = runtime;\n    Pusher.ScriptReceivers = runtime.ScriptReceivers;\n    Pusher.DependenciesReceivers = runtime.DependenciesReceivers;\n    Pusher.auth_callbacks = runtime.auth_callbacks;\n    return Pusher;\n}());\n/* harmony default export */ var core_pusher = __nested_webpack_exports__[\"default\"] = (pusher_Pusher);\nfunction checkAppKey(key) {\n    if (key === null || key === undefined) {\n        throw 'You must pass your app key when you instantiate Pusher.';\n    }\n}\nruntime.setup(pusher_Pusher);\n\n\n/***/ })\n/******/ ]);\n});\n//# sourceMappingURL=pusher.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHVzaGVyLWpzL2Rpc3Qvd2ViL3B1c2hlci5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUksSUFBeUQ7QUFDN0Q7QUFDQSxNQUFNLEVBS3VCO0FBQzdCLENBQUM7QUFDRCxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsOEJBQW1CO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEVBQTBFLDhCQUFtQjtBQUM3RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsOEJBQW1CO0FBQzdCO0FBQ0E7QUFDQSxVQUFVLDhCQUFtQjtBQUM3QjtBQUNBO0FBQ0EsVUFBVSw4QkFBbUI7QUFDN0IsZUFBZSw4QkFBbUI7QUFDbEMsbURBQW1ELCtCQUErQjtBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsOEJBQW1CO0FBQzdCO0FBQ0EsaUVBQWlFLGlCQUFpQjtBQUNsRjtBQUNBLDBEQUEwRCxhQUFhO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSw4QkFBbUI7QUFDN0IsZ0NBQWdDLDhCQUFtQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQSxXQUFXLDhCQUFtQjtBQUM5QixrREFBa0QsZ0NBQWdDO0FBQ2xGLDBFQUEwRSw4QkFBbUIsNEJBQTRCLG9CQUFvQjtBQUM3STtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsOEJBQW1CO0FBQzdCO0FBQ0Esb0NBQW9DLDRCQUE0QjtBQUNoRSwwQ0FBMEM7QUFDMUMsV0FBVyw4QkFBbUI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLDhCQUFtQixrQ0FBa0M7QUFDL0Q7QUFDQTtBQUNBLFVBQVUsOEJBQW1CO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiw4QkFBbUIsQ0FBQyw4QkFBbUI7QUFDeEQsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ3ZGLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0EsQ0FBQztBQUNELCtDQUErQyxhQUFhO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxxQkFBcUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0JBQWdCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxRQUFRO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsK0NBQStDLGFBQWE7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGNBQWM7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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LHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7OztBQUdEOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxjQUFjO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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Q0FBQztBQUNEOztBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRkFBbUYsd0JBQXdCO0FBQzNHO0FBQ0E7QUFDQTtBQUNBO0FB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Riw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7O0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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LEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1GQUFtRiw0Q0FBNEM7QUFDL0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0VBQXNFLDJDQUEyQztBQUNqSDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBOzs7Ozs7OztBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsc0NBQXNDO0FBQ3RDO0FBQ0EsS0FBSztBQUNMLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELGFBQWE7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsYUFBYTtBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLGFBQWE7QUFDMUQsdURBQXVELGFBQWE7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2Qyw2QkFBNkI7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7Ozs7OztBQU1BO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7Ozs7Ozs7Ozs7OztBQWFBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsaUJBQWlCO0FBQ2pCLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxzQ0FBc0M7QUFDdkM7O0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLFdBQVcsdUJBQXVCO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRUE7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTs7QUFFQTs7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLDJDQUEyQztBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsK0NBQStDLDBCQUFtQjtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBLE9BQU87QUFDUDtBQUNBLENBQUM7QUFDRCIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wdXNoZXItanMvZGlzdC93ZWIvcHVzaGVyLmpzP2RjOGUiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBQdXNoZXIgSmF2YVNjcmlwdCBMaWJyYXJ5IHY3LjYuMFxuICogaHR0cHM6Ly9wdXNoZXIuY29tL1xuICpcbiAqIENvcHlyaWdodCAyMDIwLCBQdXNoZXJcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5jZS5cbiAqL1xuXG4oZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJQdXNoZXJcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiUHVzaGVyXCJdID0gZmFjdG9yeSgpO1xufSkod2luZG93LCBmdW5jdGlvbigpIHtcbnJldHVybiAvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGk6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bDogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuLyoqKioqKi8gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbi8qKioqKiovIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuLyoqKioqKi8gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3Rcbi8qKioqKiovIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4vKioqKioqLyBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuLyoqKioqKi8gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3Rcbi8qKioqKiovIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuLyoqKioqKi8gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuLyoqKioqKi8gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4vKioqKioqLyBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbi8qKioqKiovIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuLyoqKioqKi8gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4vKioqKioqLyBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuLyoqKioqKi8gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbi8qKioqKiovIFx0XHRyZXR1cm4gbnM7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbi8qKioqKiovIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuLyoqKioqKi8gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbi8qKioqKiovIFx0XHRyZXR1cm4gZ2V0dGVyO1xuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDIpO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLy8gQ29weXJpZ2h0IChDKSAyMDE2IERtaXRyeSBDaGVzdG55a2hcbi8vIE1JVCBMaWNlbnNlLiBTZWUgTElDRU5TRSBmaWxlIGZvciBkZXRhaWxzLlxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIFBhY2thZ2UgYmFzZTY0IGltcGxlbWVudHMgQmFzZTY0IGVuY29kaW5nIGFuZCBkZWNvZGluZy5cbiAqL1xuLy8gSW52YWxpZCBjaGFyYWN0ZXIgdXNlZCBpbiBkZWNvZGluZyB0byBpbmRpY2F0ZVxuLy8gdGhhdCB0aGUgY2hhcmFjdGVyIHRvIGRlY29kZSBpcyBvdXQgb2YgcmFuZ2Ugb2Zcbi8vIGFscGhhYmV0IGFuZCBjYW5ub3QgYmUgZGVjb2RlZC5cbnZhciBJTlZBTElEX0JZVEUgPSAyNTY7XG4vKipcbiAqIEltcGxlbWVudHMgc3RhbmRhcmQgQmFzZTY0IGVuY29kaW5nLlxuICpcbiAqIE9wZXJhdGVzIGluIGNvbnN0YW50IHRpbWUuXG4gKi9cbnZhciBDb2RlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvLyBUT0RPKGRjaGVzdCk6IG1ldGhvZHMgdG8gZW5jb2RlIGNodW5rLWJ5LWNodW5rLlxuICAgIGZ1bmN0aW9uIENvZGVyKF9wYWRkaW5nQ2hhcmFjdGVyKSB7XG4gICAgICAgIGlmIChfcGFkZGluZ0NoYXJhY3RlciA9PT0gdm9pZCAwKSB7IF9wYWRkaW5nQ2hhcmFjdGVyID0gXCI9XCI7IH1cbiAgICAgICAgdGhpcy5fcGFkZGluZ0NoYXJhY3RlciA9IF9wYWRkaW5nQ2hhcmFjdGVyO1xuICAgIH1cbiAgICBDb2Rlci5wcm90b3R5cGUuZW5jb2RlZExlbmd0aCA9IGZ1bmN0aW9uIChsZW5ndGgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9wYWRkaW5nQ2hhcmFjdGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gKGxlbmd0aCAqIDggKyA1KSAvIDYgfCAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAobGVuZ3RoICsgMikgLyAzICogNCB8IDA7XG4gICAgfTtcbiAgICBDb2Rlci5wcm90b3R5cGUuZW5jb2RlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIG91dCA9IFwiXCI7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgZm9yICg7IGkgPCBkYXRhLmxlbmd0aCAtIDI7IGkgKz0gMykge1xuICAgICAgICAgICAgdmFyIGMgPSAoZGF0YVtpXSA8PCAxNikgfCAoZGF0YVtpICsgMV0gPDwgOCkgfCAoZGF0YVtpICsgMl0pO1xuICAgICAgICAgICAgb3V0ICs9IHRoaXMuX2VuY29kZUJ5dGUoKGMgPj4+IDMgKiA2KSAmIDYzKTtcbiAgICAgICAgICAgIG91dCArPSB0aGlzLl9lbmNvZGVCeXRlKChjID4+PiAyICogNikgJiA2Myk7XG4gICAgICAgICAgICBvdXQgKz0gdGhpcy5fZW5jb2RlQnl0ZSgoYyA+Pj4gMSAqIDYpICYgNjMpO1xuICAgICAgICAgICAgb3V0ICs9IHRoaXMuX2VuY29kZUJ5dGUoKGMgPj4+IDAgKiA2KSAmIDYzKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGVmdCA9IGRhdGEubGVuZ3RoIC0gaTtcbiAgICAgICAgaWYgKGxlZnQgPiAwKSB7XG4gICAgICAgICAgICB2YXIgYyA9IChkYXRhW2ldIDw8IDE2KSB8IChsZWZ0ID09PSAyID8gZGF0YVtpICsgMV0gPDwgOCA6IDApO1xuICAgICAgICAgICAgb3V0ICs9IHRoaXMuX2VuY29kZUJ5dGUoKGMgPj4+IDMgKiA2KSAmIDYzKTtcbiAgICAgICAgICAgIG91dCArPSB0aGlzLl9lbmNvZGVCeXRlKChjID4+PiAyICogNikgJiA2Myk7XG4gICAgICAgICAgICBpZiAobGVmdCA9PT0gMikge1xuICAgICAgICAgICAgICAgIG91dCArPSB0aGlzLl9lbmNvZGVCeXRlKChjID4+PiAxICogNikgJiA2Myk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBvdXQgKz0gdGhpcy5fcGFkZGluZ0NoYXJhY3RlciB8fCBcIlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3V0ICs9IHRoaXMuX3BhZGRpbmdDaGFyYWN0ZXIgfHwgXCJcIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH07XG4gICAgQ29kZXIucHJvdG90eXBlLm1heERlY29kZWRMZW5ndGggPSBmdW5jdGlvbiAobGVuZ3RoKSB7XG4gICAgICAgIGlmICghdGhpcy5fcGFkZGluZ0NoYXJhY3Rlcikge1xuICAgICAgICAgICAgcmV0dXJuIChsZW5ndGggKiA2ICsgNykgLyA4IHwgMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGVuZ3RoIC8gNCAqIDMgfCAwO1xuICAgIH07XG4gICAgQ29kZXIucHJvdG90eXBlLmRlY29kZWRMZW5ndGggPSBmdW5jdGlvbiAocykge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXhEZWNvZGVkTGVuZ3RoKHMubGVuZ3RoIC0gdGhpcy5fZ2V0UGFkZGluZ0xlbmd0aChzKSk7XG4gICAgfTtcbiAgICBDb2Rlci5wcm90b3R5cGUuZGVjb2RlID0gZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgaWYgKHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoMCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBhZGRpbmdMZW5ndGggPSB0aGlzLl9nZXRQYWRkaW5nTGVuZ3RoKHMpO1xuICAgICAgICB2YXIgbGVuZ3RoID0gcy5sZW5ndGggLSBwYWRkaW5nTGVuZ3RoO1xuICAgICAgICB2YXIgb3V0ID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5tYXhEZWNvZGVkTGVuZ3RoKGxlbmd0aCkpO1xuICAgICAgICB2YXIgb3AgPSAwO1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHZhciBoYXZlQmFkID0gMDtcbiAgICAgICAgdmFyIHYwID0gMCwgdjEgPSAwLCB2MiA9IDAsIHYzID0gMDtcbiAgICAgICAgZm9yICg7IGkgPCBsZW5ndGggLSA0OyBpICs9IDQpIHtcbiAgICAgICAgICAgIHYwID0gdGhpcy5fZGVjb2RlQ2hhcihzLmNoYXJDb2RlQXQoaSArIDApKTtcbiAgICAgICAgICAgIHYxID0gdGhpcy5fZGVjb2RlQ2hhcihzLmNoYXJDb2RlQXQoaSArIDEpKTtcbiAgICAgICAgICAgIHYyID0gdGhpcy5fZGVjb2RlQ2hhcihzLmNoYXJDb2RlQXQoaSArIDIpKTtcbiAgICAgICAgICAgIHYzID0gdGhpcy5fZGVjb2RlQ2hhcihzLmNoYXJDb2RlQXQoaSArIDMpKTtcbiAgICAgICAgICAgIG91dFtvcCsrXSA9ICh2MCA8PCAyKSB8ICh2MSA+Pj4gNCk7XG4gICAgICAgICAgICBvdXRbb3ArK10gPSAodjEgPDwgNCkgfCAodjIgPj4+IDIpO1xuICAgICAgICAgICAgb3V0W29wKytdID0gKHYyIDw8IDYpIHwgdjM7XG4gICAgICAgICAgICBoYXZlQmFkIHw9IHYwICYgSU5WQUxJRF9CWVRFO1xuICAgICAgICAgICAgaGF2ZUJhZCB8PSB2MSAmIElOVkFMSURfQllURTtcbiAgICAgICAgICAgIGhhdmVCYWQgfD0gdjIgJiBJTlZBTElEX0JZVEU7XG4gICAgICAgICAgICBoYXZlQmFkIHw9IHYzICYgSU5WQUxJRF9CWVRFO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpIDwgbGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgdjAgPSB0aGlzLl9kZWNvZGVDaGFyKHMuY2hhckNvZGVBdChpKSk7XG4gICAgICAgICAgICB2MSA9IHRoaXMuX2RlY29kZUNoYXIocy5jaGFyQ29kZUF0KGkgKyAxKSk7XG4gICAgICAgICAgICBvdXRbb3ArK10gPSAodjAgPDwgMikgfCAodjEgPj4+IDQpO1xuICAgICAgICAgICAgaGF2ZUJhZCB8PSB2MCAmIElOVkFMSURfQllURTtcbiAgICAgICAgICAgIGhhdmVCYWQgfD0gdjEgJiBJTlZBTElEX0JZVEU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGkgPCBsZW5ndGggLSAyKSB7XG4gICAgICAgICAgICB2MiA9IHRoaXMuX2RlY29kZUNoYXIocy5jaGFyQ29kZUF0KGkgKyAyKSk7XG4gICAgICAgICAgICBvdXRbb3ArK10gPSAodjEgPDwgNCkgfCAodjIgPj4+IDIpO1xuICAgICAgICAgICAgaGF2ZUJhZCB8PSB2MiAmIElOVkFMSURfQllURTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaSA8IGxlbmd0aCAtIDMpIHtcbiAgICAgICAgICAgIHYzID0gdGhpcy5fZGVjb2RlQ2hhcihzLmNoYXJDb2RlQXQoaSArIDMpKTtcbiAgICAgICAgICAgIG91dFtvcCsrXSA9ICh2MiA8PCA2KSB8IHYzO1xuICAgICAgICAgICAgaGF2ZUJhZCB8PSB2MyAmIElOVkFMSURfQllURTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGF2ZUJhZCAhPT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQmFzZTY0Q29kZXI6IGluY29ycmVjdCBjaGFyYWN0ZXJzIGZvciBkZWNvZGluZ1wiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH07XG4gICAgLy8gU3RhbmRhcmQgZW5jb2RpbmcgaGF2ZSB0aGUgZm9sbG93aW5nIGVuY29kZWQvZGVjb2RlZCByYW5nZXMsXG4gICAgLy8gd2hpY2ggd2UgbmVlZCB0byBjb252ZXJ0IGJldHdlZW4uXG4gICAgLy9cbiAgICAvLyBBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWiBhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eiAwMTIzNDU2Nzg5ICArICAgL1xuICAgIC8vIEluZGV4OiAgIDAgLSAyNSAgICAgICAgICAgICAgICAgICAgMjYgLSA1MSAgICAgICAgICAgICAgNTIgLSA2MSAgIDYyICA2M1xuICAgIC8vIEFTQ0lJOiAgNjUgLSA5MCAgICAgICAgICAgICAgICAgICAgOTcgLSAxMjIgICAgICAgICAgICAgNDggLSA1NyAgIDQzICA0N1xuICAgIC8vXG4gICAgLy8gRW5jb2RlIDYgYml0cyBpbiBiIGludG8gYSBuZXcgY2hhcmFjdGVyLlxuICAgIENvZGVyLnByb3RvdHlwZS5fZW5jb2RlQnl0ZSA9IGZ1bmN0aW9uIChiKSB7XG4gICAgICAgIC8vIEVuY29kaW5nIHVzZXMgY29uc3RhbnQgdGltZSBvcGVyYXRpb25zIGFzIGZvbGxvd3M6XG4gICAgICAgIC8vXG4gICAgICAgIC8vIDEuIERlZmluZSBjb21wYXJpc29uIG9mIEEgd2l0aCBCIHVzaW5nIChBIC0gQikgPj4+IDg6XG4gICAgICAgIC8vICAgICAgICAgIGlmIEEgPiBCLCB0aGVuIHJlc3VsdCBpcyBwb3NpdGl2ZSBpbnRlZ2VyXG4gICAgICAgIC8vICAgICAgICAgIGlmIEEgPD0gQiwgdGhlbiByZXN1bHQgaXMgMFxuICAgICAgICAvL1xuICAgICAgICAvLyAyLiBEZWZpbmUgc2VsZWN0aW9uIG9mIEMgb3IgMCB1c2luZyBiaXR3aXNlIEFORDogWCAmIEM6XG4gICAgICAgIC8vICAgICAgICAgIGlmIFggPT0gMCwgdGhlbiByZXN1bHQgaXMgMFxuICAgICAgICAvLyAgICAgICAgICBpZiBYICE9IDAsIHRoZW4gcmVzdWx0IGlzIENcbiAgICAgICAgLy9cbiAgICAgICAgLy8gMy4gU3RhcnQgd2l0aCB0aGUgc21hbGxlc3QgY29tcGFyaXNvbiAoYiA+PSAwKSwgd2hpY2ggaXMgYWx3YXlzXG4gICAgICAgIC8vICAgIHRydWUsIHNvIHNldCB0aGUgcmVzdWx0IHRvIHRoZSBzdGFydGluZyBBU0NJSSB2YWx1ZSAoNjUpLlxuICAgICAgICAvL1xuICAgICAgICAvLyA0LiBDb250aW51ZSBjb21wYXJpbmcgYiB0byBoaWdoZXIgQVNDSUkgdmFsdWVzLCBhbmQgc2VsZWN0aW5nXG4gICAgICAgIC8vICAgIHplcm8gaWYgY29tcGFyaXNvbiBpc24ndCB0cnVlLCBvdGhlcndpc2Ugc2VsZWN0aW5nIGEgdmFsdWVcbiAgICAgICAgLy8gICAgdG8gYWRkIHRvIHJlc3VsdCwgd2hpY2g6XG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgICAgICAgIGEpIHVuZG9lcyB0aGUgcHJldmlvdXMgYWRkaXRpb25cbiAgICAgICAgLy8gICAgICAgICAgYikgcHJvdmlkZXMgbmV3IHZhbHVlIHRvIGFkZFxuICAgICAgICAvL1xuICAgICAgICB2YXIgcmVzdWx0ID0gYjtcbiAgICAgICAgLy8gYiA+PSAwXG4gICAgICAgIHJlc3VsdCArPSA2NTtcbiAgICAgICAgLy8gYiA+IDI1XG4gICAgICAgIHJlc3VsdCArPSAoKDI1IC0gYikgPj4+IDgpICYgKCgwIC0gNjUpIC0gMjYgKyA5Nyk7XG4gICAgICAgIC8vIGIgPiA1MVxuICAgICAgICByZXN1bHQgKz0gKCg1MSAtIGIpID4+PiA4KSAmICgoMjYgLSA5NykgLSA1MiArIDQ4KTtcbiAgICAgICAgLy8gYiA+IDYxXG4gICAgICAgIHJlc3VsdCArPSAoKDYxIC0gYikgPj4+IDgpICYgKCg1MiAtIDQ4KSAtIDYyICsgNDMpO1xuICAgICAgICAvLyBiID4gNjJcbiAgICAgICAgcmVzdWx0ICs9ICgoNjIgLSBiKSA+Pj4gOCkgJiAoKDYyIC0gNDMpIC0gNjMgKyA0Nyk7XG4gICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKHJlc3VsdCk7XG4gICAgfTtcbiAgICAvLyBEZWNvZGUgYSBjaGFyYWN0ZXIgY29kZSBpbnRvIGEgYnl0ZS5cbiAgICAvLyBNdXN0IHJldHVybiAyNTYgaWYgY2hhcmFjdGVyIGlzIG91dCBvZiBhbHBoYWJldCByYW5nZS5cbiAgICBDb2Rlci5wcm90b3R5cGUuX2RlY29kZUNoYXIgPSBmdW5jdGlvbiAoYykge1xuICAgICAgICAvLyBEZWNvZGluZyB3b3JrcyBzaW1pbGFyIHRvIGVuY29kaW5nOiB1c2luZyB0aGUgc2FtZSBjb21wYXJpc29uXG4gICAgICAgIC8vIGZ1bmN0aW9uLCBidXQgbm93IGl0IHdvcmtzIG9uIHJhbmdlczogcmVzdWx0IGlzIGFsd2F5cyBpbmNyZW1lbnRlZFxuICAgICAgICAvLyBieSB2YWx1ZSwgYnV0IHRoaXMgdmFsdWUgYmVjb21lcyB6ZXJvIGlmIHRoZSByYW5nZSBpcyBub3RcbiAgICAgICAgLy8gc2F0aXNmaWVkLlxuICAgICAgICAvL1xuICAgICAgICAvLyBEZWNvZGluZyBzdGFydHMgd2l0aCBpbnZhbGlkIHZhbHVlLCAyNTYsIHdoaWNoIGlzIHRoZW5cbiAgICAgICAgLy8gc3VidHJhY3RlZCB3aGVuIHRoZSByYW5nZSBpcyBzYXRpc2ZpZWQuIElmIG5vbmUgb2YgdGhlIHJhbmdlc1xuICAgICAgICAvLyBhcHBseSwgdGhlIGZ1bmN0aW9uIHJldHVybnMgMjU2LCB3aGljaCBpcyB0aGVuIGNoZWNrZWQgYnlcbiAgICAgICAgLy8gdGhlIGNhbGxlciB0byB0aHJvdyBlcnJvci5cbiAgICAgICAgdmFyIHJlc3VsdCA9IElOVkFMSURfQllURTsgLy8gc3RhcnQgd2l0aCBpbnZhbGlkIGNoYXJhY3RlclxuICAgICAgICAvLyBjID09IDQzIChjID4gNDIgYW5kIGMgPCA0NClcbiAgICAgICAgcmVzdWx0ICs9ICgoKDQyIC0gYykgJiAoYyAtIDQ0KSkgPj4+IDgpICYgKC1JTlZBTElEX0JZVEUgKyBjIC0gNDMgKyA2Mik7XG4gICAgICAgIC8vIGMgPT0gNDcgKGMgPiA0NiBhbmQgYyA8IDQ4KVxuICAgICAgICByZXN1bHQgKz0gKCgoNDYgLSBjKSAmIChjIC0gNDgpKSA+Pj4gOCkgJiAoLUlOVkFMSURfQllURSArIGMgLSA0NyArIDYzKTtcbiAgICAgICAgLy8gYyA+IDQ3IGFuZCBjIDwgNThcbiAgICAgICAgcmVzdWx0ICs9ICgoKDQ3IC0gYykgJiAoYyAtIDU4KSkgPj4+IDgpICYgKC1JTlZBTElEX0JZVEUgKyBjIC0gNDggKyA1Mik7XG4gICAgICAgIC8vIGMgPiA2NCBhbmQgYyA8IDkxXG4gICAgICAgIHJlc3VsdCArPSAoKCg2NCAtIGMpICYgKGMgLSA5MSkpID4+PiA4KSAmICgtSU5WQUxJRF9CWVRFICsgYyAtIDY1ICsgMCk7XG4gICAgICAgIC8vIGMgPiA5NiBhbmQgYyA8IDEyM1xuICAgICAgICByZXN1bHQgKz0gKCgoOTYgLSBjKSAmIChjIC0gMTIzKSkgPj4+IDgpICYgKC1JTlZBTElEX0JZVEUgKyBjIC0gOTcgKyAyNik7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBDb2Rlci5wcm90b3R5cGUuX2dldFBhZGRpbmdMZW5ndGggPSBmdW5jdGlvbiAocykge1xuICAgICAgICB2YXIgcGFkZGluZ0xlbmd0aCA9IDA7XG4gICAgICAgIGlmICh0aGlzLl9wYWRkaW5nQ2hhcmFjdGVyKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgIGlmIChzW2ldICE9PSB0aGlzLl9wYWRkaW5nQ2hhcmFjdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYWRkaW5nTGVuZ3RoKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocy5sZW5ndGggPCA0IHx8IHBhZGRpbmdMZW5ndGggPiAyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQmFzZTY0Q29kZXI6IGluY29ycmVjdCBwYWRkaW5nXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYWRkaW5nTGVuZ3RoO1xuICAgIH07XG4gICAgcmV0dXJuIENvZGVyO1xufSgpKTtcbmV4cG9ydHMuQ29kZXIgPSBDb2RlcjtcbnZhciBzdGRDb2RlciA9IG5ldyBDb2RlcigpO1xuZnVuY3Rpb24gZW5jb2RlKGRhdGEpIHtcbiAgICByZXR1cm4gc3RkQ29kZXIuZW5jb2RlKGRhdGEpO1xufVxuZXhwb3J0cy5lbmNvZGUgPSBlbmNvZGU7XG5mdW5jdGlvbiBkZWNvZGUocykge1xuICAgIHJldHVybiBzdGRDb2Rlci5kZWNvZGUocyk7XG59XG5leHBvcnRzLmRlY29kZSA9IGRlY29kZTtcbi8qKlxuICogSW1wbGVtZW50cyBVUkwtc2FmZSBCYXNlNjQgZW5jb2RpbmcuXG4gKiAoU2FtZSBhcyBCYXNlNjQsIGJ1dCAnKycgaXMgcmVwbGFjZWQgd2l0aCAnLScsIGFuZCAnLycgd2l0aCAnXycpLlxuICpcbiAqIE9wZXJhdGVzIGluIGNvbnN0YW50IHRpbWUuXG4gKi9cbnZhciBVUkxTYWZlQ29kZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFVSTFNhZmVDb2RlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBVUkxTYWZlQ29kZXIoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgLy8gVVJMLXNhZmUgZW5jb2RpbmcgaGF2ZSB0aGUgZm9sbG93aW5nIGVuY29kZWQvZGVjb2RlZCByYW5nZXM6XG4gICAgLy9cbiAgICAvLyBBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWiBhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eiAwMTIzNDU2Nzg5ICAtICAgX1xuICAgIC8vIEluZGV4OiAgIDAgLSAyNSAgICAgICAgICAgICAgICAgICAgMjYgLSA1MSAgICAgICAgICAgICAgNTIgLSA2MSAgIDYyICA2M1xuICAgIC8vIEFTQ0lJOiAgNjUgLSA5MCAgICAgICAgICAgICAgICAgICAgOTcgLSAxMjIgICAgICAgICAgICAgNDggLSA1NyAgIDQ1ICA5NVxuICAgIC8vXG4gICAgVVJMU2FmZUNvZGVyLnByb3RvdHlwZS5fZW5jb2RlQnl0ZSA9IGZ1bmN0aW9uIChiKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBiO1xuICAgICAgICAvLyBiID49IDBcbiAgICAgICAgcmVzdWx0ICs9IDY1O1xuICAgICAgICAvLyBiID4gMjVcbiAgICAgICAgcmVzdWx0ICs9ICgoMjUgLSBiKSA+Pj4gOCkgJiAoKDAgLSA2NSkgLSAyNiArIDk3KTtcbiAgICAgICAgLy8gYiA+IDUxXG4gICAgICAgIHJlc3VsdCArPSAoKDUxIC0gYikgPj4+IDgpICYgKCgyNiAtIDk3KSAtIDUyICsgNDgpO1xuICAgICAgICAvLyBiID4gNjFcbiAgICAgICAgcmVzdWx0ICs9ICgoNjEgLSBiKSA+Pj4gOCkgJiAoKDUyIC0gNDgpIC0gNjIgKyA0NSk7XG4gICAgICAgIC8vIGIgPiA2MlxuICAgICAgICByZXN1bHQgKz0gKCg2MiAtIGIpID4+PiA4KSAmICgoNjIgLSA0NSkgLSA2MyArIDk1KTtcbiAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUocmVzdWx0KTtcbiAgICB9O1xuICAgIFVSTFNhZmVDb2Rlci5wcm90b3R5cGUuX2RlY29kZUNoYXIgPSBmdW5jdGlvbiAoYykge1xuICAgICAgICB2YXIgcmVzdWx0ID0gSU5WQUxJRF9CWVRFO1xuICAgICAgICAvLyBjID09IDQ1IChjID4gNDQgYW5kIGMgPCA0NilcbiAgICAgICAgcmVzdWx0ICs9ICgoKDQ0IC0gYykgJiAoYyAtIDQ2KSkgPj4+IDgpICYgKC1JTlZBTElEX0JZVEUgKyBjIC0gNDUgKyA2Mik7XG4gICAgICAgIC8vIGMgPT0gOTUgKGMgPiA5NCBhbmQgYyA8IDk2KVxuICAgICAgICByZXN1bHQgKz0gKCgoOTQgLSBjKSAmIChjIC0gOTYpKSA+Pj4gOCkgJiAoLUlOVkFMSURfQllURSArIGMgLSA5NSArIDYzKTtcbiAgICAgICAgLy8gYyA+IDQ3IGFuZCBjIDwgNThcbiAgICAgICAgcmVzdWx0ICs9ICgoKDQ3IC0gYykgJiAoYyAtIDU4KSkgPj4+IDgpICYgKC1JTlZBTElEX0JZVEUgKyBjIC0gNDggKyA1Mik7XG4gICAgICAgIC8vIGMgPiA2NCBhbmQgYyA8IDkxXG4gICAgICAgIHJlc3VsdCArPSAoKCg2NCAtIGMpICYgKGMgLSA5MSkpID4+PiA4KSAmICgtSU5WQUxJRF9CWVRFICsgYyAtIDY1ICsgMCk7XG4gICAgICAgIC8vIGMgPiA5NiBhbmQgYyA8IDEyM1xuICAgICAgICByZXN1bHQgKz0gKCgoOTYgLSBjKSAmIChjIC0gMTIzKSkgPj4+IDgpICYgKC1JTlZBTElEX0JZVEUgKyBjIC0gOTcgKyAyNik7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICByZXR1cm4gVVJMU2FmZUNvZGVyO1xufShDb2RlcikpO1xuZXhwb3J0cy5VUkxTYWZlQ29kZXIgPSBVUkxTYWZlQ29kZXI7XG52YXIgdXJsU2FmZUNvZGVyID0gbmV3IFVSTFNhZmVDb2RlcigpO1xuZnVuY3Rpb24gZW5jb2RlVVJMU2FmZShkYXRhKSB7XG4gICAgcmV0dXJuIHVybFNhZmVDb2Rlci5lbmNvZGUoZGF0YSk7XG59XG5leHBvcnRzLmVuY29kZVVSTFNhZmUgPSBlbmNvZGVVUkxTYWZlO1xuZnVuY3Rpb24gZGVjb2RlVVJMU2FmZShzKSB7XG4gICAgcmV0dXJuIHVybFNhZmVDb2Rlci5kZWNvZGUocyk7XG59XG5leHBvcnRzLmRlY29kZVVSTFNhZmUgPSBkZWNvZGVVUkxTYWZlO1xuZXhwb3J0cy5lbmNvZGVkTGVuZ3RoID0gZnVuY3Rpb24gKGxlbmd0aCkge1xuICAgIHJldHVybiBzdGRDb2Rlci5lbmNvZGVkTGVuZ3RoKGxlbmd0aCk7XG59O1xuZXhwb3J0cy5tYXhEZWNvZGVkTGVuZ3RoID0gZnVuY3Rpb24gKGxlbmd0aCkge1xuICAgIHJldHVybiBzdGRDb2Rlci5tYXhEZWNvZGVkTGVuZ3RoKGxlbmd0aCk7XG59O1xuZXhwb3J0cy5kZWNvZGVkTGVuZ3RoID0gZnVuY3Rpb24gKHMpIHtcbiAgICByZXR1cm4gc3RkQ29kZXIuZGVjb2RlZExlbmd0aChzKTtcbn07XG5cblxuLyoqKi8gfSksXG4vKiAxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vLyBDb3B5cmlnaHQgKEMpIDIwMTYgRG1pdHJ5IENoZXN0bnlraFxuLy8gTUlUIExpY2Vuc2UuIFNlZSBMSUNFTlNFIGZpbGUgZm9yIGRldGFpbHMuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIFBhY2thZ2UgdXRmOCBpbXBsZW1lbnRzIFVURi04IGVuY29kaW5nIGFuZCBkZWNvZGluZy5cbiAqL1xudmFyIElOVkFMSURfVVRGMTYgPSBcInV0Zjg6IGludmFsaWQgc3RyaW5nXCI7XG52YXIgSU5WQUxJRF9VVEY4ID0gXCJ1dGY4OiBpbnZhbGlkIHNvdXJjZSBlbmNvZGluZ1wiO1xuLyoqXG4gKiBFbmNvZGVzIHRoZSBnaXZlbiBzdHJpbmcgaW50byBVVEYtOCBieXRlIGFycmF5LlxuICogVGhyb3dzIGlmIHRoZSBzb3VyY2Ugc3RyaW5nIGhhcyBpbnZhbGlkIFVURi0xNiBlbmNvZGluZy5cbiAqL1xuZnVuY3Rpb24gZW5jb2RlKHMpIHtcbiAgICAvLyBDYWxjdWxhdGUgcmVzdWx0IGxlbmd0aCBhbmQgYWxsb2NhdGUgb3V0cHV0IGFycmF5LlxuICAgIC8vIGVuY29kZWRMZW5ndGgoKSBhbHNvIHZhbGlkYXRlcyBzdHJpbmcgYW5kIHRocm93cyBlcnJvcnMsXG4gICAgLy8gc28gd2UgZG9uJ3QgbmVlZCByZXBlYXQgdmFsaWRhdGlvbiBoZXJlLlxuICAgIHZhciBhcnIgPSBuZXcgVWludDhBcnJheShlbmNvZGVkTGVuZ3RoKHMpKTtcbiAgICB2YXIgcG9zID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGMgPSBzLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIGlmIChjIDwgMHg4MCkge1xuICAgICAgICAgICAgYXJyW3BvcysrXSA9IGM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYyA8IDB4ODAwKSB7XG4gICAgICAgICAgICBhcnJbcG9zKytdID0gMHhjMCB8IGMgPj4gNjtcbiAgICAgICAgICAgIGFycltwb3MrK10gPSAweDgwIHwgYyAmIDB4M2Y7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYyA8IDB4ZDgwMCkge1xuICAgICAgICAgICAgYXJyW3BvcysrXSA9IDB4ZTAgfCBjID4+IDEyO1xuICAgICAgICAgICAgYXJyW3BvcysrXSA9IDB4ODAgfCAoYyA+PiA2KSAmIDB4M2Y7XG4gICAgICAgICAgICBhcnJbcG9zKytdID0gMHg4MCB8IGMgJiAweDNmO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaSsrOyAvLyBnZXQgb25lIG1vcmUgY2hhcmFjdGVyXG4gICAgICAgICAgICBjID0gKGMgJiAweDNmZikgPDwgMTA7XG4gICAgICAgICAgICBjIHw9IHMuY2hhckNvZGVBdChpKSAmIDB4M2ZmO1xuICAgICAgICAgICAgYyArPSAweDEwMDAwO1xuICAgICAgICAgICAgYXJyW3BvcysrXSA9IDB4ZjAgfCBjID4+IDE4O1xuICAgICAgICAgICAgYXJyW3BvcysrXSA9IDB4ODAgfCAoYyA+PiAxMikgJiAweDNmO1xuICAgICAgICAgICAgYXJyW3BvcysrXSA9IDB4ODAgfCAoYyA+PiA2KSAmIDB4M2Y7XG4gICAgICAgICAgICBhcnJbcG9zKytdID0gMHg4MCB8IGMgJiAweDNmO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG59XG5leHBvcnRzLmVuY29kZSA9IGVuY29kZTtcbi8qKlxuICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIGJ5dGVzIHJlcXVpcmVkIHRvIGVuY29kZSB0aGUgZ2l2ZW4gc3RyaW5nIGludG8gVVRGLTguXG4gKiBUaHJvd3MgaWYgdGhlIHNvdXJjZSBzdHJpbmcgaGFzIGludmFsaWQgVVRGLTE2IGVuY29kaW5nLlxuICovXG5mdW5jdGlvbiBlbmNvZGVkTGVuZ3RoKHMpIHtcbiAgICB2YXIgcmVzdWx0ID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGMgPSBzLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIGlmIChjIDwgMHg4MCkge1xuICAgICAgICAgICAgcmVzdWx0ICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYyA8IDB4ODAwKSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjIDwgMHhkODAwKSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gMztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjIDw9IDB4ZGZmZikge1xuICAgICAgICAgICAgaWYgKGkgPj0gcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKElOVkFMSURfVVRGMTYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSsrOyAvLyBcImVhdFwiIG5leHQgY2hhcmFjdGVyXG4gICAgICAgICAgICByZXN1bHQgKz0gNDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihJTlZBTElEX1VURjE2KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0cy5lbmNvZGVkTGVuZ3RoID0gZW5jb2RlZExlbmd0aDtcbi8qKlxuICogRGVjb2RlcyB0aGUgZ2l2ZW4gYnl0ZSBhcnJheSBmcm9tIFVURi04IGludG8gYSBzdHJpbmcuXG4gKiBUaHJvd3MgaWYgZW5jb2RpbmcgaXMgaW52YWxpZC5cbiAqL1xuZnVuY3Rpb24gZGVjb2RlKGFycikge1xuICAgIHZhciBjaGFycyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBiID0gYXJyW2ldO1xuICAgICAgICBpZiAoYiAmIDB4ODApIHtcbiAgICAgICAgICAgIHZhciBtaW4gPSB2b2lkIDA7XG4gICAgICAgICAgICBpZiAoYiA8IDB4ZTApIHtcbiAgICAgICAgICAgICAgICAvLyBOZWVkIDEgbW9yZSBieXRlLlxuICAgICAgICAgICAgICAgIGlmIChpID49IGFyci5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKElOVkFMSURfVVRGOCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBuMSA9IGFyclsrK2ldO1xuICAgICAgICAgICAgICAgIGlmICgobjEgJiAweGMwKSAhPT0gMHg4MCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoSU5WQUxJRF9VVEY4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYiA9IChiICYgMHgxZikgPDwgNiB8IChuMSAmIDB4M2YpO1xuICAgICAgICAgICAgICAgIG1pbiA9IDB4ODA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChiIDwgMHhmMCkge1xuICAgICAgICAgICAgICAgIC8vIE5lZWQgMiBtb3JlIGJ5dGVzLlxuICAgICAgICAgICAgICAgIGlmIChpID49IGFyci5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihJTlZBTElEX1VURjgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgbjEgPSBhcnJbKytpXTtcbiAgICAgICAgICAgICAgICB2YXIgbjIgPSBhcnJbKytpXTtcbiAgICAgICAgICAgICAgICBpZiAoKG4xICYgMHhjMCkgIT09IDB4ODAgfHwgKG4yICYgMHhjMCkgIT09IDB4ODApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKElOVkFMSURfVVRGOCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGIgPSAoYiAmIDB4MGYpIDw8IDEyIHwgKG4xICYgMHgzZikgPDwgNiB8IChuMiAmIDB4M2YpO1xuICAgICAgICAgICAgICAgIG1pbiA9IDB4ODAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYiA8IDB4ZjgpIHtcbiAgICAgICAgICAgICAgICAvLyBOZWVkIDMgbW9yZSBieXRlcy5cbiAgICAgICAgICAgICAgICBpZiAoaSA+PSBhcnIubGVuZ3RoIC0gMikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoSU5WQUxJRF9VVEY4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIG4xID0gYXJyWysraV07XG4gICAgICAgICAgICAgICAgdmFyIG4yID0gYXJyWysraV07XG4gICAgICAgICAgICAgICAgdmFyIG4zID0gYXJyWysraV07XG4gICAgICAgICAgICAgICAgaWYgKChuMSAmIDB4YzApICE9PSAweDgwIHx8IChuMiAmIDB4YzApICE9PSAweDgwIHx8IChuMyAmIDB4YzApICE9PSAweDgwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihJTlZBTElEX1VURjgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBiID0gKGIgJiAweDBmKSA8PCAxOCB8IChuMSAmIDB4M2YpIDw8IDEyIHwgKG4yICYgMHgzZikgPDwgNiB8IChuMyAmIDB4M2YpO1xuICAgICAgICAgICAgICAgIG1pbiA9IDB4MTAwMDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoSU5WQUxJRF9VVEY4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChiIDwgbWluIHx8IChiID49IDB4ZDgwMCAmJiBiIDw9IDB4ZGZmZikpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoSU5WQUxJRF9VVEY4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChiID49IDB4MTAwMDApIHtcbiAgICAgICAgICAgICAgICAvLyBTdXJyb2dhdGUgcGFpci5cbiAgICAgICAgICAgICAgICBpZiAoYiA+IDB4MTBmZmZmKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihJTlZBTElEX1VURjgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBiIC09IDB4MTAwMDA7XG4gICAgICAgICAgICAgICAgY2hhcnMucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKDB4ZDgwMCB8IChiID4+IDEwKSkpO1xuICAgICAgICAgICAgICAgIGIgPSAweGRjMDAgfCAoYiAmIDB4M2ZmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjaGFycy5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoYikpO1xuICAgIH1cbiAgICByZXR1cm4gY2hhcnMuam9pbihcIlwiKTtcbn1cbmV4cG9ydHMuZGVjb2RlID0gZGVjb2RlO1xuXG5cbi8qKiovIH0pLFxuLyogMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyByZXF1aXJlZCBzbyB3ZSBkb24ndCBoYXZlIHRvIGRvIHJlcXVpcmUoJ3B1c2hlcicpLmRlZmF1bHQgZXRjLlxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpLmRlZmF1bHQ7XG5cblxuLyoqKi8gfSksXG4vKiAzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLy8gRVNNIENPTVBBVCBGTEFHXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL3J1bnRpbWVzL3dlYi9kb20vc2NyaXB0X3JlY2VpdmVyX2ZhY3RvcnkudHNcbnZhciBTY3JpcHRSZWNlaXZlckZhY3RvcnkgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNjcmlwdFJlY2VpdmVyRmFjdG9yeShwcmVmaXgsIG5hbWUpIHtcbiAgICAgICAgdGhpcy5sYXN0SWQgPSAwO1xuICAgICAgICB0aGlzLnByZWZpeCA9IHByZWZpeDtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB9XG4gICAgU2NyaXB0UmVjZWl2ZXJGYWN0b3J5LnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5sYXN0SWQrKztcbiAgICAgICAgdmFyIG51bWJlciA9IHRoaXMubGFzdElkO1xuICAgICAgICB2YXIgaWQgPSB0aGlzLnByZWZpeCArIG51bWJlcjtcbiAgICAgICAgdmFyIG5hbWUgPSB0aGlzLm5hbWUgKyAnWycgKyBudW1iZXIgKyAnXSc7XG4gICAgICAgIHZhciBjYWxsZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGNhbGxiYWNrV3JhcHBlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghY2FsbGVkKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzW251bWJlcl0gPSBjYWxsYmFja1dyYXBwZXI7XG4gICAgICAgIHJldHVybiB7IG51bWJlcjogbnVtYmVyLCBpZDogaWQsIG5hbWU6IG5hbWUsIGNhbGxiYWNrOiBjYWxsYmFja1dyYXBwZXIgfTtcbiAgICB9O1xuICAgIFNjcmlwdFJlY2VpdmVyRmFjdG9yeS5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKHJlY2VpdmVyKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzW3JlY2VpdmVyLm51bWJlcl07XG4gICAgfTtcbiAgICByZXR1cm4gU2NyaXB0UmVjZWl2ZXJGYWN0b3J5O1xufSgpKTtcblxudmFyIFNjcmlwdFJlY2VpdmVycyA9IG5ldyBTY3JpcHRSZWNlaXZlckZhY3RvcnkoJ19wdXNoZXJfc2NyaXB0XycsICdQdXNoZXIuU2NyaXB0UmVjZWl2ZXJzJyk7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvcmUvZGVmYXVsdHMudHNcbnZhciBEZWZhdWx0cyA9IHtcbiAgICBWRVJTSU9OOiBcIjcuNi4wXCIsXG4gICAgUFJPVE9DT0w6IDcsXG4gICAgd3NQb3J0OiA4MCxcbiAgICB3c3NQb3J0OiA0NDMsXG4gICAgd3NQYXRoOiAnJyxcbiAgICBodHRwSG9zdDogJ3NvY2tqcy5wdXNoZXIuY29tJyxcbiAgICBodHRwUG9ydDogODAsXG4gICAgaHR0cHNQb3J0OiA0NDMsXG4gICAgaHR0cFBhdGg6ICcvcHVzaGVyJyxcbiAgICBzdGF0c19ob3N0OiAnc3RhdHMucHVzaGVyLmNvbScsXG4gICAgYXV0aEVuZHBvaW50OiAnL3B1c2hlci9hdXRoJyxcbiAgICBhdXRoVHJhbnNwb3J0OiAnYWpheCcsXG4gICAgYWN0aXZpdHlUaW1lb3V0OiAxMjAwMDAsXG4gICAgcG9uZ1RpbWVvdXQ6IDMwMDAwLFxuICAgIHVuYXZhaWxhYmxlVGltZW91dDogMTAwMDAsXG4gICAgY2x1c3RlcjogJ210MScsXG4gICAgdXNlckF1dGhlbnRpY2F0aW9uOiB7XG4gICAgICAgIGVuZHBvaW50OiAnL3B1c2hlci91c2VyLWF1dGgnLFxuICAgICAgICB0cmFuc3BvcnQ6ICdhamF4J1xuICAgIH0sXG4gICAgY2hhbm5lbEF1dGhvcml6YXRpb246IHtcbiAgICAgICAgZW5kcG9pbnQ6ICcvcHVzaGVyL2F1dGgnLFxuICAgICAgICB0cmFuc3BvcnQ6ICdhamF4J1xuICAgIH0sXG4gICAgY2RuX2h0dHA6IFwiaHR0cDovL2pzLnB1c2hlci5jb21cIixcbiAgICBjZG5faHR0cHM6IFwiaHR0cHM6Ly9qcy5wdXNoZXIuY29tXCIsXG4gICAgZGVwZW5kZW5jeV9zdWZmaXg6IFwiXCJcbn07XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBkZWZhdWx0cyA9IChEZWZhdWx0cyk7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL3J1bnRpbWVzL3dlYi9kb20vZGVwZW5kZW5jeV9sb2FkZXIudHNcblxuXG52YXIgZGVwZW5kZW5jeV9sb2FkZXJfRGVwZW5kZW5jeUxvYWRlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGVwZW5kZW5jeUxvYWRlcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMucmVjZWl2ZXJzID0gb3B0aW9ucy5yZWNlaXZlcnMgfHwgU2NyaXB0UmVjZWl2ZXJzO1xuICAgICAgICB0aGlzLmxvYWRpbmcgPSB7fTtcbiAgICB9XG4gICAgRGVwZW5kZW5jeUxvYWRlci5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uIChuYW1lLCBvcHRpb25zLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIGlmIChzZWxmLmxvYWRpbmdbbmFtZV0gJiYgc2VsZi5sb2FkaW5nW25hbWVdLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHNlbGYubG9hZGluZ1tuYW1lXS5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNlbGYubG9hZGluZ1tuYW1lXSA9IFtjYWxsYmFja107XG4gICAgICAgICAgICB2YXIgcmVxdWVzdCA9IHJ1bnRpbWUuY3JlYXRlU2NyaXB0UmVxdWVzdChzZWxmLmdldFBhdGgobmFtZSwgb3B0aW9ucykpO1xuICAgICAgICAgICAgdmFyIHJlY2VpdmVyID0gc2VsZi5yZWNlaXZlcnMuY3JlYXRlKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHNlbGYucmVjZWl2ZXJzLnJlbW92ZShyZWNlaXZlcik7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGYubG9hZGluZ1tuYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2FsbGJhY2tzID0gc2VsZi5sb2FkaW5nW25hbWVdO1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgc2VsZi5sb2FkaW5nW25hbWVdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3VjY2Vzc0NhbGxiYWNrID0gZnVuY3Rpb24gKHdhc1N1Y2Nlc3NmdWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghd2FzU3VjY2Vzc2Z1bCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3QuY2xlYW51cCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tzW2ldKGVycm9yLCBzdWNjZXNzQ2FsbGJhY2spO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXF1ZXN0LnNlbmQocmVjZWl2ZXIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEZXBlbmRlbmN5TG9hZGVyLnByb3RvdHlwZS5nZXRSb290ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGNkbjtcbiAgICAgICAgdmFyIHByb3RvY29sID0gcnVudGltZS5nZXREb2N1bWVudCgpLmxvY2F0aW9uLnByb3RvY29sO1xuICAgICAgICBpZiAoKG9wdGlvbnMgJiYgb3B0aW9ucy51c2VUTFMpIHx8IHByb3RvY29sID09PSAnaHR0cHM6Jykge1xuICAgICAgICAgICAgY2RuID0gdGhpcy5vcHRpb25zLmNkbl9odHRwcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNkbiA9IHRoaXMub3B0aW9ucy5jZG5faHR0cDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2RuLnJlcGxhY2UoL1xcLyokLywgJycpICsgJy8nICsgdGhpcy5vcHRpb25zLnZlcnNpb247XG4gICAgfTtcbiAgICBEZXBlbmRlbmN5TG9hZGVyLnByb3RvdHlwZS5nZXRQYXRoID0gZnVuY3Rpb24gKG5hbWUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Um9vdChvcHRpb25zKSArICcvJyArIG5hbWUgKyB0aGlzLm9wdGlvbnMuc3VmZml4ICsgJy5qcyc7XG4gICAgfTtcbiAgICByZXR1cm4gRGVwZW5kZW5jeUxvYWRlcjtcbn0oKSk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBkZXBlbmRlbmN5X2xvYWRlciA9IChkZXBlbmRlbmN5X2xvYWRlcl9EZXBlbmRlbmN5TG9hZGVyKTtcblxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvcnVudGltZXMvd2ViL2RvbS9kZXBlbmRlbmNpZXMudHNcblxuXG5cbnZhciBEZXBlbmRlbmNpZXNSZWNlaXZlcnMgPSBuZXcgU2NyaXB0UmVjZWl2ZXJGYWN0b3J5KCdfcHVzaGVyX2RlcGVuZGVuY2llcycsICdQdXNoZXIuRGVwZW5kZW5jaWVzUmVjZWl2ZXJzJyk7XG52YXIgRGVwZW5kZW5jaWVzID0gbmV3IGRlcGVuZGVuY3lfbG9hZGVyKHtcbiAgICBjZG5faHR0cDogZGVmYXVsdHMuY2RuX2h0dHAsXG4gICAgY2RuX2h0dHBzOiBkZWZhdWx0cy5jZG5faHR0cHMsXG4gICAgdmVyc2lvbjogZGVmYXVsdHMuVkVSU0lPTixcbiAgICBzdWZmaXg6IGRlZmF1bHRzLmRlcGVuZGVuY3lfc3VmZml4LFxuICAgIHJlY2VpdmVyczogRGVwZW5kZW5jaWVzUmVjZWl2ZXJzXG59KTtcblxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29yZS91dGlscy91cmxfc3RvcmUudHNcbnZhciB1cmxTdG9yZSA9IHtcbiAgICBiYXNlVXJsOiAnaHR0cHM6Ly9wdXNoZXIuY29tJyxcbiAgICB1cmxzOiB7XG4gICAgICAgIGF1dGhlbnRpY2F0aW9uRW5kcG9pbnQ6IHtcbiAgICAgICAgICAgIHBhdGg6ICcvZG9jcy9jaGFubmVscy9zZXJ2ZXJfYXBpL2F1dGhlbnRpY2F0aW5nX3VzZXJzJ1xuICAgICAgICB9LFxuICAgICAgICBhdXRob3JpemF0aW9uRW5kcG9pbnQ6IHtcbiAgICAgICAgICAgIHBhdGg6ICcvZG9jcy9jaGFubmVscy9zZXJ2ZXJfYXBpL2F1dGhvcml6aW5nLXVzZXJzLydcbiAgICAgICAgfSxcbiAgICAgICAgamF2YXNjcmlwdFF1aWNrU3RhcnQ6IHtcbiAgICAgICAgICAgIHBhdGg6ICcvZG9jcy9qYXZhc2NyaXB0X3F1aWNrX3N0YXJ0J1xuICAgICAgICB9LFxuICAgICAgICB0cmlnZ2VyaW5nQ2xpZW50RXZlbnRzOiB7XG4gICAgICAgICAgICBwYXRoOiAnL2RvY3MvY2xpZW50X2FwaV9ndWlkZS9jbGllbnRfZXZlbnRzI3RyaWdnZXItZXZlbnRzJ1xuICAgICAgICB9LFxuICAgICAgICBlbmNyeXB0ZWRDaGFubmVsU3VwcG9ydDoge1xuICAgICAgICAgICAgZnVsbFVybDogJ2h0dHBzOi8vZ2l0aHViLmNvbS9wdXNoZXIvcHVzaGVyLWpzL3RyZWUvY2M0OTEwMTUzNzFhNGJkZTU3NDNkMWM4N2EwZmJhYzBmZWI1MzE5NSNlbmNyeXB0ZWQtY2hhbm5lbC1zdXBwb3J0J1xuICAgICAgICB9XG4gICAgfVxufTtcbnZhciBidWlsZExvZ1N1ZmZpeCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgdXJsUHJlZml4ID0gJ1NlZTonO1xuICAgIHZhciB1cmxPYmogPSB1cmxTdG9yZS51cmxzW2tleV07XG4gICAgaWYgKCF1cmxPYmopXG4gICAgICAgIHJldHVybiAnJztcbiAgICB2YXIgdXJsO1xuICAgIGlmICh1cmxPYmouZnVsbFVybCkge1xuICAgICAgICB1cmwgPSB1cmxPYmouZnVsbFVybDtcbiAgICB9XG4gICAgZWxzZSBpZiAodXJsT2JqLnBhdGgpIHtcbiAgICAgICAgdXJsID0gdXJsU3RvcmUuYmFzZVVybCArIHVybE9iai5wYXRoO1xuICAgIH1cbiAgICBpZiAoIXVybClcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIHJldHVybiB1cmxQcmVmaXggKyBcIiBcIiArIHVybDtcbn07XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciB1cmxfc3RvcmUgPSAoeyBidWlsZExvZ1N1ZmZpeDogYnVpbGRMb2dTdWZmaXggfSk7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvcmUvYXV0aC9vcHRpb25zLnRzXG52YXIgQXV0aFJlcXVlc3RUeXBlO1xuKGZ1bmN0aW9uIChBdXRoUmVxdWVzdFR5cGUpIHtcbiAgICBBdXRoUmVxdWVzdFR5cGVbXCJVc2VyQXV0aGVudGljYXRpb25cIl0gPSBcInVzZXItYXV0aGVudGljYXRpb25cIjtcbiAgICBBdXRoUmVxdWVzdFR5cGVbXCJDaGFubmVsQXV0aG9yaXphdGlvblwiXSA9IFwiY2hhbm5lbC1hdXRob3JpemF0aW9uXCI7XG59KShBdXRoUmVxdWVzdFR5cGUgfHwgKEF1dGhSZXF1ZXN0VHlwZSA9IHt9KSk7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvcmUvZXJyb3JzLnRzXG52YXIgX19leHRlbmRzID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgQmFkRXZlbnROYW1lID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQmFkRXZlbnROYW1lLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEJhZEV2ZW50TmFtZShtc2cpIHtcbiAgICAgICAgdmFyIF9uZXdUYXJnZXQgPSB0aGlzLmNvbnN0cnVjdG9yO1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtc2cpIHx8IHRoaXM7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihfdGhpcywgX25ld1RhcmdldC5wcm90b3R5cGUpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBCYWRFdmVudE5hbWU7XG59KEVycm9yKSk7XG5cbnZhciBCYWRDaGFubmVsTmFtZSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJhZENoYW5uZWxOYW1lLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEJhZENoYW5uZWxOYW1lKG1zZykge1xuICAgICAgICB2YXIgX25ld1RhcmdldCA9IHRoaXMuY29uc3RydWN0b3I7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG1zZykgfHwgdGhpcztcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKF90aGlzLCBfbmV3VGFyZ2V0LnByb3RvdHlwZSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIEJhZENoYW5uZWxOYW1lO1xufShFcnJvcikpO1xuXG52YXIgUmVxdWVzdFRpbWVkT3V0ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUmVxdWVzdFRpbWVkT3V0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJlcXVlc3RUaW1lZE91dChtc2cpIHtcbiAgICAgICAgdmFyIF9uZXdUYXJnZXQgPSB0aGlzLmNvbnN0cnVjdG9yO1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtc2cpIHx8IHRoaXM7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihfdGhpcywgX25ld1RhcmdldC5wcm90b3R5cGUpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBSZXF1ZXN0VGltZWRPdXQ7XG59KEVycm9yKSk7XG5cbnZhciBUcmFuc3BvcnRQcmlvcml0eVRvb0xvdyA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFRyYW5zcG9ydFByaW9yaXR5VG9vTG93LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFRyYW5zcG9ydFByaW9yaXR5VG9vTG93KG1zZykge1xuICAgICAgICB2YXIgX25ld1RhcmdldCA9IHRoaXMuY29uc3RydWN0b3I7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG1zZykgfHwgdGhpcztcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKF90aGlzLCBfbmV3VGFyZ2V0LnByb3RvdHlwZSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFRyYW5zcG9ydFByaW9yaXR5VG9vTG93O1xufShFcnJvcikpO1xuXG52YXIgVHJhbnNwb3J0Q2xvc2VkID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVHJhbnNwb3J0Q2xvc2VkLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFRyYW5zcG9ydENsb3NlZChtc2cpIHtcbiAgICAgICAgdmFyIF9uZXdUYXJnZXQgPSB0aGlzLmNvbnN0cnVjdG9yO1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtc2cpIHx8IHRoaXM7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihfdGhpcywgX25ld1RhcmdldC5wcm90b3R5cGUpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBUcmFuc3BvcnRDbG9zZWQ7XG59KEVycm9yKSk7XG5cbnZhciBVbnN1cHBvcnRlZEZlYXR1cmUgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhVbnN1cHBvcnRlZEZlYXR1cmUsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gVW5zdXBwb3J0ZWRGZWF0dXJlKG1zZykge1xuICAgICAgICB2YXIgX25ld1RhcmdldCA9IHRoaXMuY29uc3RydWN0b3I7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG1zZykgfHwgdGhpcztcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKF90aGlzLCBfbmV3VGFyZ2V0LnByb3RvdHlwZSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFVuc3VwcG9ydGVkRmVhdHVyZTtcbn0oRXJyb3IpKTtcblxudmFyIFVuc3VwcG9ydGVkVHJhbnNwb3J0ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVW5zdXBwb3J0ZWRUcmFuc3BvcnQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gVW5zdXBwb3J0ZWRUcmFuc3BvcnQobXNnKSB7XG4gICAgICAgIHZhciBfbmV3VGFyZ2V0ID0gdGhpcy5jb25zdHJ1Y3RvcjtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbXNnKSB8fCB0aGlzO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoX3RoaXMsIF9uZXdUYXJnZXQucHJvdG90eXBlKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gVW5zdXBwb3J0ZWRUcmFuc3BvcnQ7XG59KEVycm9yKSk7XG5cbnZhciBVbnN1cHBvcnRlZFN0cmF0ZWd5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVW5zdXBwb3J0ZWRTdHJhdGVneSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBVbnN1cHBvcnRlZFN0cmF0ZWd5KG1zZykge1xuICAgICAgICB2YXIgX25ld1RhcmdldCA9IHRoaXMuY29uc3RydWN0b3I7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG1zZykgfHwgdGhpcztcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKF90aGlzLCBfbmV3VGFyZ2V0LnByb3RvdHlwZSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFVuc3VwcG9ydGVkU3RyYXRlZ3k7XG59KEVycm9yKSk7XG5cbnZhciBIVFRQQXV0aEVycm9yID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoSFRUUEF1dGhFcnJvciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBIVFRQQXV0aEVycm9yKHN0YXR1cywgbXNnKSB7XG4gICAgICAgIHZhciBfbmV3VGFyZ2V0ID0gdGhpcy5jb25zdHJ1Y3RvcjtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbXNnKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihfdGhpcywgX25ld1RhcmdldC5wcm90b3R5cGUpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBIVFRQQXV0aEVycm9yO1xufShFcnJvcikpO1xuXG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL3J1bnRpbWVzL2lzb21vcnBoaWMvYXV0aC94aHJfYXV0aC50c1xuXG5cblxuXG52YXIgYWpheCA9IGZ1bmN0aW9uIChjb250ZXh0LCBxdWVyeSwgYXV0aE9wdGlvbnMsIGF1dGhSZXF1ZXN0VHlwZSwgY2FsbGJhY2spIHtcbiAgICB2YXIgeGhyID0gcnVudGltZS5jcmVhdGVYSFIoKTtcbiAgICB4aHIub3BlbignUE9TVCcsIGF1dGhPcHRpb25zLmVuZHBvaW50LCB0cnVlKTtcbiAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcpO1xuICAgIGZvciAodmFyIGhlYWRlck5hbWUgaW4gYXV0aE9wdGlvbnMuaGVhZGVycykge1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihoZWFkZXJOYW1lLCBhdXRoT3B0aW9ucy5oZWFkZXJzW2hlYWRlck5hbWVdKTtcbiAgICB9XG4gICAgaWYgKGF1dGhPcHRpb25zLmhlYWRlcnNQcm92aWRlciAhPSBudWxsKSB7XG4gICAgICAgIHZhciBkeW5hbWljSGVhZGVycyA9IGF1dGhPcHRpb25zLmhlYWRlcnNQcm92aWRlcigpO1xuICAgICAgICBmb3IgKHZhciBoZWFkZXJOYW1lIGluIGR5bmFtaWNIZWFkZXJzKSB7XG4gICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihoZWFkZXJOYW1lLCBkeW5hbWljSGVhZGVyc1toZWFkZXJOYW1lXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7XG4gICAgICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgdmFyIHBhcnNlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgICAgICAgICBwYXJzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhuZXcgSFRUUEF1dGhFcnJvcigyMDAsIFwiSlNPTiByZXR1cm5lZCBmcm9tIFwiICsgYXV0aFJlcXVlc3RUeXBlLnRvU3RyaW5nKCkgKyBcIiBlbmRwb2ludCB3YXMgaW52YWxpZCwgeWV0IHN0YXR1cyBjb2RlIHdhcyAyMDAuIERhdGEgd2FzOiBcIiArIHhoci5yZXNwb25zZVRleHQpLCBudWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHBhcnNlZCkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCBkYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgc3VmZml4ID0gJyc7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChhdXRoUmVxdWVzdFR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBBdXRoUmVxdWVzdFR5cGUuVXNlckF1dGhlbnRpY2F0aW9uOlxuICAgICAgICAgICAgICAgICAgICAgICAgc3VmZml4ID0gdXJsX3N0b3JlLmJ1aWxkTG9nU3VmZml4KCdhdXRoZW50aWNhdGlvbkVuZHBvaW50Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBBdXRoUmVxdWVzdFR5cGUuQ2hhbm5lbEF1dGhvcml6YXRpb246XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWZmaXggPSBcIkNsaWVudHMgbXVzdCBiZSBhdXRob3JpemVkIHRvIGpvaW4gcHJpdmF0ZSBvciBwcmVzZW5jZSBjaGFubmVscy4gXCIgKyB1cmxfc3RvcmUuYnVpbGRMb2dTdWZmaXgoJ2F1dGhvcml6YXRpb25FbmRwb2ludCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBIVFRQQXV0aEVycm9yKHhoci5zdGF0dXMsIFwiVW5hYmxlIHRvIHJldHJpZXZlIGF1dGggc3RyaW5nIGZyb20gXCIgKyBhdXRoUmVxdWVzdFR5cGUudG9TdHJpbmcoKSArIFwiIGVuZHBvaW50IC0gXCIgK1xuICAgICAgICAgICAgICAgICAgICAoXCJyZWNlaXZlZCBzdGF0dXM6IFwiICsgeGhyLnN0YXR1cyArIFwiIGZyb20gXCIgKyBhdXRoT3B0aW9ucy5lbmRwb2ludCArIFwiLiBcIiArIHN1ZmZpeCkpLCBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgeGhyLnNlbmQocXVlcnkpO1xuICAgIHJldHVybiB4aHI7XG59O1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgeGhyX2F1dGggPSAoYWpheCk7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvcmUvYmFzZTY0LnRzXG5mdW5jdGlvbiBlbmNvZGUocykge1xuICAgIHJldHVybiBidG9hKHV0b2IocykpO1xufVxudmFyIGZyb21DaGFyQ29kZSA9IFN0cmluZy5mcm9tQ2hhckNvZGU7XG52YXIgYjY0Y2hhcnMgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyc7XG52YXIgYjY0dGFiID0ge307XG5mb3IgKHZhciBiYXNlNjRfaSA9IDAsIGwgPSBiNjRjaGFycy5sZW5ndGg7IGJhc2U2NF9pIDwgbDsgYmFzZTY0X2krKykge1xuICAgIGI2NHRhYltiNjRjaGFycy5jaGFyQXQoYmFzZTY0X2kpXSA9IGJhc2U2NF9pO1xufVxudmFyIGNiX3V0b2IgPSBmdW5jdGlvbiAoYykge1xuICAgIHZhciBjYyA9IGMuY2hhckNvZGVBdCgwKTtcbiAgICByZXR1cm4gY2MgPCAweDgwXG4gICAgICAgID8gY1xuICAgICAgICA6IGNjIDwgMHg4MDBcbiAgICAgICAgICAgID8gZnJvbUNoYXJDb2RlKDB4YzAgfCAoY2MgPj4+IDYpKSArIGZyb21DaGFyQ29kZSgweDgwIHwgKGNjICYgMHgzZikpXG4gICAgICAgICAgICA6IGZyb21DaGFyQ29kZSgweGUwIHwgKChjYyA+Pj4gMTIpICYgMHgwZikpICtcbiAgICAgICAgICAgICAgICBmcm9tQ2hhckNvZGUoMHg4MCB8ICgoY2MgPj4+IDYpICYgMHgzZikpICtcbiAgICAgICAgICAgICAgICBmcm9tQ2hhckNvZGUoMHg4MCB8IChjYyAmIDB4M2YpKTtcbn07XG52YXIgdXRvYiA9IGZ1bmN0aW9uICh1KSB7XG4gICAgcmV0dXJuIHUucmVwbGFjZSgvW15cXHgwMC1cXHg3Rl0vZywgY2JfdXRvYik7XG59O1xudmFyIGNiX2VuY29kZSA9IGZ1bmN0aW9uIChjY2MpIHtcbiAgICB2YXIgcGFkbGVuID0gWzAsIDIsIDFdW2NjYy5sZW5ndGggJSAzXTtcbiAgICB2YXIgb3JkID0gKGNjYy5jaGFyQ29kZUF0KDApIDw8IDE2KSB8XG4gICAgICAgICgoY2NjLmxlbmd0aCA+IDEgPyBjY2MuY2hhckNvZGVBdCgxKSA6IDApIDw8IDgpIHxcbiAgICAgICAgKGNjYy5sZW5ndGggPiAyID8gY2NjLmNoYXJDb2RlQXQoMikgOiAwKTtcbiAgICB2YXIgY2hhcnMgPSBbXG4gICAgICAgIGI2NGNoYXJzLmNoYXJBdChvcmQgPj4+IDE4KSxcbiAgICAgICAgYjY0Y2hhcnMuY2hhckF0KChvcmQgPj4+IDEyKSAmIDYzKSxcbiAgICAgICAgcGFkbGVuID49IDIgPyAnPScgOiBiNjRjaGFycy5jaGFyQXQoKG9yZCA+Pj4gNikgJiA2MyksXG4gICAgICAgIHBhZGxlbiA+PSAxID8gJz0nIDogYjY0Y2hhcnMuY2hhckF0KG9yZCAmIDYzKVxuICAgIF07XG4gICAgcmV0dXJuIGNoYXJzLmpvaW4oJycpO1xufTtcbnZhciBidG9hID0gd2luZG93LmJ0b2EgfHxcbiAgICBmdW5jdGlvbiAoYikge1xuICAgICAgICByZXR1cm4gYi5yZXBsYWNlKC9bXFxzXFxTXXsxLDN9L2csIGNiX2VuY29kZSk7XG4gICAgfTtcblxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29yZS91dGlscy90aW1lcnMvYWJzdHJhY3RfdGltZXIudHNcbnZhciBUaW1lciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVGltZXIoc2V0LCBjbGVhciwgZGVsYXksIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuY2xlYXIgPSBjbGVhcjtcbiAgICAgICAgdGhpcy50aW1lciA9IHNldChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMudGltZXIpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy50aW1lciA9IGNhbGxiYWNrKF90aGlzLnRpbWVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZGVsYXkpO1xuICAgIH1cbiAgICBUaW1lci5wcm90b3R5cGUuaXNSdW5uaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50aW1lciAhPT0gbnVsbDtcbiAgICB9O1xuICAgIFRpbWVyLnByb3RvdHlwZS5lbnN1cmVBYm9ydGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy50aW1lcikge1xuICAgICAgICAgICAgdGhpcy5jbGVhcih0aGlzLnRpbWVyKTtcbiAgICAgICAgICAgIHRoaXMudGltZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gVGltZXI7XG59KCkpO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgYWJzdHJhY3RfdGltZXIgPSAoVGltZXIpO1xuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb3JlL3V0aWxzL3RpbWVycy9pbmRleC50c1xudmFyIHRpbWVyc19leHRlbmRzID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5cbmZ1bmN0aW9uIHRpbWVyc19jbGVhclRpbWVvdXQodGltZXIpIHtcbiAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRpbWVyKTtcbn1cbmZ1bmN0aW9uIHRpbWVyc19jbGVhckludGVydmFsKHRpbWVyKSB7XG4gICAgd2luZG93LmNsZWFySW50ZXJ2YWwodGltZXIpO1xufVxudmFyIE9uZU9mZlRpbWVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0aW1lcnNfZXh0ZW5kcyhPbmVPZmZUaW1lciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBPbmVPZmZUaW1lcihkZWxheSwgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIHNldFRpbWVvdXQsIHRpbWVyc19jbGVhclRpbWVvdXQsIGRlbGF5LCBmdW5jdGlvbiAodGltZXIpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSkgfHwgdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIE9uZU9mZlRpbWVyO1xufShhYnN0cmFjdF90aW1lcikpO1xuXG52YXIgUGVyaW9kaWNUaW1lciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdGltZXJzX2V4dGVuZHMoUGVyaW9kaWNUaW1lciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBQZXJpb2RpY1RpbWVyKGRlbGF5LCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgc2V0SW50ZXJ2YWwsIHRpbWVyc19jbGVhckludGVydmFsLCBkZWxheSwgZnVuY3Rpb24gKHRpbWVyKSB7XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgcmV0dXJuIHRpbWVyO1xuICAgICAgICB9KSB8fCB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gUGVyaW9kaWNUaW1lcjtcbn0oYWJzdHJhY3RfdGltZXIpKTtcblxuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb3JlL3V0aWwudHNcblxudmFyIFV0aWwgPSB7XG4gICAgbm93OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChEYXRlLm5vdykge1xuICAgICAgICAgICAgcmV0dXJuIERhdGUubm93KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoKS52YWx1ZU9mKCk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGRlZmVyOiBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPbmVPZmZUaW1lcigwLCBjYWxsYmFjayk7XG4gICAgfSxcbiAgICBtZXRob2Q6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBib3VuZEFyZ3VtZW50cyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqZWN0W25hbWVdLmFwcGx5KG9iamVjdCwgYm91bmRBcmd1bWVudHMuY29uY2F0KGFyZ3VtZW50cykpO1xuICAgICAgICB9O1xuICAgIH1cbn07XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciB1dGlsID0gKFV0aWwpO1xuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb3JlL3V0aWxzL2NvbGxlY3Rpb25zLnRzXG5cblxuZnVuY3Rpb24gZXh0ZW5kKHRhcmdldCkge1xuICAgIHZhciBzb3VyY2VzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgc291cmNlc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3VyY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBleHRlbnNpb25zID0gc291cmNlc1tpXTtcbiAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gZXh0ZW5zaW9ucykge1xuICAgICAgICAgICAgaWYgKGV4dGVuc2lvbnNbcHJvcGVydHldICYmXG4gICAgICAgICAgICAgICAgZXh0ZW5zaW9uc1twcm9wZXJ0eV0uY29uc3RydWN0b3IgJiZcbiAgICAgICAgICAgICAgICBleHRlbnNpb25zW3Byb3BlcnR5XS5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0W3Byb3BlcnR5XSA9IGV4dGVuZCh0YXJnZXRbcHJvcGVydHldIHx8IHt9LCBleHRlbnNpb25zW3Byb3BlcnR5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRbcHJvcGVydHldID0gZXh0ZW5zaW9uc1twcm9wZXJ0eV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbn1cbmZ1bmN0aW9uIHN0cmluZ2lmeSgpIHtcbiAgICB2YXIgbSA9IFsnUHVzaGVyJ107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbaV0gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBtLnB1c2goYXJndW1lbnRzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG0ucHVzaChzYWZlSlNPTlN0cmluZ2lmeShhcmd1bWVudHNbaV0pKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbS5qb2luKCcgOiAnKTtcbn1cbmZ1bmN0aW9uIGFycmF5SW5kZXhPZihhcnJheSwgaXRlbSkge1xuICAgIHZhciBuYXRpdmVJbmRleE9mID0gQXJyYXkucHJvdG90eXBlLmluZGV4T2Y7XG4gICAgaWYgKGFycmF5ID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgaWYgKG5hdGl2ZUluZGV4T2YgJiYgYXJyYXkuaW5kZXhPZiA9PT0gbmF0aXZlSW5kZXhPZikge1xuICAgICAgICByZXR1cm4gYXJyYXkuaW5kZXhPZihpdGVtKTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBhcnJheS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgaWYgKGFycmF5W2ldID09PSBpdGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG59XG5mdW5jdGlvbiBvYmplY3RBcHBseShvYmplY3QsIGYpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSB7XG4gICAgICAgICAgICBmKG9iamVjdFtrZXldLCBrZXksIG9iamVjdCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBrZXlzKG9iamVjdCkge1xuICAgIHZhciBrZXlzID0gW107XG4gICAgb2JqZWN0QXBwbHkob2JqZWN0LCBmdW5jdGlvbiAoXywga2V5KSB7XG4gICAgICAgIGtleXMucHVzaChrZXkpO1xuICAgIH0pO1xuICAgIHJldHVybiBrZXlzO1xufVxuZnVuY3Rpb24gdmFsdWVzKG9iamVjdCkge1xuICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICBvYmplY3RBcHBseShvYmplY3QsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YWx1ZXMucHVzaCh2YWx1ZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHZhbHVlcztcbn1cbmZ1bmN0aW9uIGFwcGx5KGFycmF5LCBmLCBjb250ZXh0KSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICBmLmNhbGwoY29udGV4dCB8fCB3aW5kb3csIGFycmF5W2ldLCBpLCBhcnJheSk7XG4gICAgfVxufVxuZnVuY3Rpb24gbWFwKGFycmF5LCBmKSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcmVzdWx0LnB1c2goZihhcnJheVtpXSwgaSwgYXJyYXksIHJlc3VsdCkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gbWFwT2JqZWN0KG9iamVjdCwgZikge1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBvYmplY3RBcHBseShvYmplY3QsIGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgICAgIHJlc3VsdFtrZXldID0gZih2YWx1ZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGZpbHRlcihhcnJheSwgdGVzdCkge1xuICAgIHRlc3QgPVxuICAgICAgICB0ZXN0IHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gISF2YWx1ZTtcbiAgICAgICAgICAgIH07XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHRlc3QoYXJyYXlbaV0sIGksIGFycmF5LCByZXN1bHQpKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChhcnJheVtpXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGZpbHRlck9iamVjdChvYmplY3QsIHRlc3QpIHtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgb2JqZWN0QXBwbHkob2JqZWN0LCBmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgICAgICBpZiAoKHRlc3QgJiYgdGVzdCh2YWx1ZSwga2V5LCBvYmplY3QsIHJlc3VsdCkpIHx8IEJvb2xlYW4odmFsdWUpKSB7XG4gICAgICAgICAgICByZXN1bHRba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGZsYXR0ZW4ob2JqZWN0KSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIG9iamVjdEFwcGx5KG9iamVjdCwgZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgcmVzdWx0LnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gYW55KGFycmF5LCB0ZXN0KSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAodGVzdChhcnJheVtpXSwgaSwgYXJyYXkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBjb2xsZWN0aW9uc19hbGwoYXJyYXksIHRlc3QpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghdGVzdChhcnJheVtpXSwgaSwgYXJyYXkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBlbmNvZGVQYXJhbXNPYmplY3QoZGF0YSkge1xuICAgIHJldHVybiBtYXBPYmplY3QoZGF0YSwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHNhZmVKU09OU3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGVuY29kZSh2YWx1ZS50b1N0cmluZygpKSk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBidWlsZFF1ZXJ5U3RyaW5nKGRhdGEpIHtcbiAgICB2YXIgcGFyYW1zID0gZmlsdGVyT2JqZWN0KGRhdGEsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZDtcbiAgICB9KTtcbiAgICB2YXIgcXVlcnkgPSBtYXAoZmxhdHRlbihlbmNvZGVQYXJhbXNPYmplY3QocGFyYW1zKSksIHV0aWwubWV0aG9kKCdqb2luJywgJz0nKSkuam9pbignJicpO1xuICAgIHJldHVybiBxdWVyeTtcbn1cbmZ1bmN0aW9uIGRlY3ljbGVPYmplY3Qob2JqZWN0KSB7XG4gICAgdmFyIG9iamVjdHMgPSBbXSwgcGF0aHMgPSBbXTtcbiAgICByZXR1cm4gKGZ1bmN0aW9uIGRlcmV6KHZhbHVlLCBwYXRoKSB7XG4gICAgICAgIHZhciBpLCBuYW1lLCBudTtcbiAgICAgICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IG9iamVjdHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdHNbaV0gPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAkcmVmOiBwYXRoc1tpXSB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9iamVjdHMucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgcGF0aHMucHVzaChwYXRoKTtcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5hcHBseSh2YWx1ZSkgPT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgICAgICAgICAgICAgICAgbnUgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBudVtpXSA9IGRlcmV6KHZhbHVlW2ldLCBwYXRoICsgJ1snICsgaSArICddJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG51ID0ge307XG4gICAgICAgICAgICAgICAgICAgIGZvciAobmFtZSBpbiB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgbmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBudVtuYW1lXSA9IGRlcmV6KHZhbHVlW25hbWVdLCBwYXRoICsgJ1snICsgSlNPTi5zdHJpbmdpZnkobmFtZSkgKyAnXScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBudTtcbiAgICAgICAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgfSkob2JqZWN0LCAnJCcpO1xufVxuZnVuY3Rpb24gc2FmZUpTT05TdHJpbmdpZnkoc291cmNlKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHNvdXJjZSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShkZWN5Y2xlT2JqZWN0KHNvdXJjZSkpO1xuICAgIH1cbn1cblxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29yZS9sb2dnZXIudHNcblxuXG52YXIgbG9nZ2VyX0xvZ2dlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTG9nZ2VyKCkge1xuICAgICAgICB0aGlzLmdsb2JhbExvZyA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgICAgICBpZiAod2luZG93LmNvbnNvbGUgJiYgd2luZG93LmNvbnNvbGUubG9nKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKG1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBMb2dnZXIucHJvdG90eXBlLmRlYnVnID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubG9nKHRoaXMuZ2xvYmFsTG9nLCBhcmdzKTtcbiAgICB9O1xuICAgIExvZ2dlci5wcm90b3R5cGUud2FybiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvZyh0aGlzLmdsb2JhbExvZ1dhcm4sIGFyZ3MpO1xuICAgIH07XG4gICAgTG9nZ2VyLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvZyh0aGlzLmdsb2JhbExvZ0Vycm9yLCBhcmdzKTtcbiAgICB9O1xuICAgIExvZ2dlci5wcm90b3R5cGUuZ2xvYmFsTG9nV2FybiA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgIGlmICh3aW5kb3cuY29uc29sZSAmJiB3aW5kb3cuY29uc29sZS53YXJuKSB7XG4gICAgICAgICAgICB3aW5kb3cuY29uc29sZS53YXJuKG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5nbG9iYWxMb2cobWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExvZ2dlci5wcm90b3R5cGUuZ2xvYmFsTG9nRXJyb3IgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICBpZiAod2luZG93LmNvbnNvbGUgJiYgd2luZG93LmNvbnNvbGUuZXJyb3IpIHtcbiAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5nbG9iYWxMb2dXYXJuKG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBMb2dnZXIucHJvdG90eXBlLmxvZyA9IGZ1bmN0aW9uIChkZWZhdWx0TG9nZ2luZ0Z1bmN0aW9uKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtZXNzYWdlID0gc3RyaW5naWZ5LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIGlmIChjb3JlX3B1c2hlci5sb2cpIHtcbiAgICAgICAgICAgIGNvcmVfcHVzaGVyLmxvZyhtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjb3JlX3B1c2hlci5sb2dUb0NvbnNvbGUpIHtcbiAgICAgICAgICAgIHZhciBsb2cgPSBkZWZhdWx0TG9nZ2luZ0Z1bmN0aW9uLmJpbmQodGhpcyk7XG4gICAgICAgICAgICBsb2cobWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBMb2dnZXI7XG59KCkpO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgbG9nZ2VyID0gKG5ldyBsb2dnZXJfTG9nZ2VyKCkpO1xuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9ydW50aW1lcy93ZWIvYXV0aC9qc29ucF9hdXRoLnRzXG5cbnZhciBqc29ucCA9IGZ1bmN0aW9uIChjb250ZXh0LCBxdWVyeSwgYXV0aE9wdGlvbnMsIGF1dGhSZXF1ZXN0VHlwZSwgY2FsbGJhY2spIHtcbiAgICBpZiAoYXV0aE9wdGlvbnMuaGVhZGVycyAhPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgIGF1dGhPcHRpb25zLmhlYWRlcnNQcm92aWRlciAhPSBudWxsKSB7XG4gICAgICAgIGxvZ2dlci53YXJuKFwiVG8gc2VuZCBoZWFkZXJzIHdpdGggdGhlIFwiICsgYXV0aFJlcXVlc3RUeXBlLnRvU3RyaW5nKCkgKyBcIiByZXF1ZXN0LCB5b3UgbXVzdCB1c2UgQUpBWCwgcmF0aGVyIHRoYW4gSlNPTlAuXCIpO1xuICAgIH1cbiAgICB2YXIgY2FsbGJhY2tOYW1lID0gY29udGV4dC5uZXh0QXV0aENhbGxiYWNrSUQudG9TdHJpbmcoKTtcbiAgICBjb250ZXh0Lm5leHRBdXRoQ2FsbGJhY2tJRCsrO1xuICAgIHZhciBkb2N1bWVudCA9IGNvbnRleHQuZ2V0RG9jdW1lbnQoKTtcbiAgICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgY29udGV4dC5hdXRoX2NhbGxiYWNrc1tjYWxsYmFja05hbWVdID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwgZGF0YSk7XG4gICAgfTtcbiAgICB2YXIgY2FsbGJhY2tfbmFtZSA9IFwiUHVzaGVyLmF1dGhfY2FsbGJhY2tzWydcIiArIGNhbGxiYWNrTmFtZSArIFwiJ11cIjtcbiAgICBzY3JpcHQuc3JjID1cbiAgICAgICAgYXV0aE9wdGlvbnMuZW5kcG9pbnQgK1xuICAgICAgICAgICAgJz9jYWxsYmFjaz0nICtcbiAgICAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChjYWxsYmFja19uYW1lKSArXG4gICAgICAgICAgICAnJicgK1xuICAgICAgICAgICAgcXVlcnk7XG4gICAgdmFyIGhlYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICBoZWFkLmluc2VydEJlZm9yZShzY3JpcHQsIGhlYWQuZmlyc3RDaGlsZCk7XG59O1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIganNvbnBfYXV0aCA9IChqc29ucCk7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL3J1bnRpbWVzL3dlYi9kb20vc2NyaXB0X3JlcXVlc3QudHNcbnZhciBTY3JpcHRSZXF1ZXN0ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTY3JpcHRSZXF1ZXN0KHNyYykge1xuICAgICAgICB0aGlzLnNyYyA9IHNyYztcbiAgICB9XG4gICAgU2NyaXB0UmVxdWVzdC5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uIChyZWNlaXZlcikge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBlcnJvclN0cmluZyA9ICdFcnJvciBsb2FkaW5nICcgKyBzZWxmLnNyYztcbiAgICAgICAgc2VsZi5zY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICAgICAgc2VsZi5zY3JpcHQuaWQgPSByZWNlaXZlci5pZDtcbiAgICAgICAgc2VsZi5zY3JpcHQuc3JjID0gc2VsZi5zcmM7XG4gICAgICAgIHNlbGYuc2NyaXB0LnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0JztcbiAgICAgICAgc2VsZi5zY3JpcHQuY2hhcnNldCA9ICdVVEYtOCc7XG4gICAgICAgIGlmIChzZWxmLnNjcmlwdC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICBzZWxmLnNjcmlwdC5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJlY2VpdmVyLmNhbGxiYWNrKGVycm9yU3RyaW5nKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzZWxmLnNjcmlwdC5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmVjZWl2ZXIuY2FsbGJhY2sobnVsbCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2VsZi5zY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChzZWxmLnNjcmlwdC5yZWFkeVN0YXRlID09PSAnbG9hZGVkJyB8fFxuICAgICAgICAgICAgICAgICAgICBzZWxmLnNjcmlwdC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlY2VpdmVyLmNhbGxiYWNrKG51bGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlbGYuc2NyaXB0LmFzeW5jID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIGRvY3VtZW50LmF0dGFjaEV2ZW50ICYmXG4gICAgICAgICAgICAvb3BlcmEvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKSB7XG4gICAgICAgICAgICBzZWxmLmVycm9yU2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgICAgICAgICBzZWxmLmVycm9yU2NyaXB0LmlkID0gcmVjZWl2ZXIuaWQgKyAnX2Vycm9yJztcbiAgICAgICAgICAgIHNlbGYuZXJyb3JTY3JpcHQudGV4dCA9IHJlY2VpdmVyLm5hbWUgKyBcIignXCIgKyBlcnJvclN0cmluZyArIFwiJyk7XCI7XG4gICAgICAgICAgICBzZWxmLnNjcmlwdC5hc3luYyA9IHNlbGYuZXJyb3JTY3JpcHQuYXN5bmMgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNlbGYuc2NyaXB0LmFzeW5jID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaGVhZCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF07XG4gICAgICAgIGhlYWQuaW5zZXJ0QmVmb3JlKHNlbGYuc2NyaXB0LCBoZWFkLmZpcnN0Q2hpbGQpO1xuICAgICAgICBpZiAoc2VsZi5lcnJvclNjcmlwdCkge1xuICAgICAgICAgICAgaGVhZC5pbnNlcnRCZWZvcmUoc2VsZi5lcnJvclNjcmlwdCwgc2VsZi5zY3JpcHQubmV4dFNpYmxpbmcpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTY3JpcHRSZXF1ZXN0LnByb3RvdHlwZS5jbGVhbnVwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zY3JpcHQpIHtcbiAgICAgICAgICAgIHRoaXMuc2NyaXB0Lm9ubG9hZCA9IHRoaXMuc2NyaXB0Lm9uZXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5zY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zY3JpcHQgJiYgdGhpcy5zY3JpcHQucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgdGhpcy5zY3JpcHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnNjcmlwdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZXJyb3JTY3JpcHQgJiYgdGhpcy5lcnJvclNjcmlwdC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICB0aGlzLmVycm9yU2NyaXB0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5lcnJvclNjcmlwdCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zY3JpcHQgPSBudWxsO1xuICAgICAgICB0aGlzLmVycm9yU2NyaXB0ID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBTY3JpcHRSZXF1ZXN0O1xufSgpKTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIHNjcmlwdF9yZXF1ZXN0ID0gKFNjcmlwdFJlcXVlc3QpO1xuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9ydW50aW1lcy93ZWIvZG9tL2pzb25wX3JlcXVlc3QudHNcblxuXG52YXIganNvbnBfcmVxdWVzdF9KU09OUFJlcXVlc3QgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEpTT05QUmVxdWVzdCh1cmwsIGRhdGEpIHtcbiAgICAgICAgdGhpcy51cmwgPSB1cmw7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgfVxuICAgIEpTT05QUmVxdWVzdC5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uIChyZWNlaXZlcikge1xuICAgICAgICBpZiAodGhpcy5yZXF1ZXN0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHF1ZXJ5ID0gYnVpbGRRdWVyeVN0cmluZyh0aGlzLmRhdGEpO1xuICAgICAgICB2YXIgdXJsID0gdGhpcy51cmwgKyAnLycgKyByZWNlaXZlci5udW1iZXIgKyAnPycgKyBxdWVyeTtcbiAgICAgICAgdGhpcy5yZXF1ZXN0ID0gcnVudGltZS5jcmVhdGVTY3JpcHRSZXF1ZXN0KHVybCk7XG4gICAgICAgIHRoaXMucmVxdWVzdC5zZW5kKHJlY2VpdmVyKTtcbiAgICB9O1xuICAgIEpTT05QUmVxdWVzdC5wcm90b3R5cGUuY2xlYW51cCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMucmVxdWVzdCkge1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0LmNsZWFudXAoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEpTT05QUmVxdWVzdDtcbn0oKSk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBqc29ucF9yZXF1ZXN0ID0gKGpzb25wX3JlcXVlc3RfSlNPTlBSZXF1ZXN0KTtcblxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvcnVudGltZXMvd2ViL3RpbWVsaW5lL2pzb25wX3RpbWVsaW5lLnRzXG5cblxudmFyIGdldEFnZW50ID0gZnVuY3Rpb24gKHNlbmRlciwgdXNlVExTKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkYXRhLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgc2NoZW1lID0gJ2h0dHAnICsgKHVzZVRMUyA/ICdzJyA6ICcnKSArICc6Ly8nO1xuICAgICAgICB2YXIgdXJsID0gc2NoZW1lICsgKHNlbmRlci5ob3N0IHx8IHNlbmRlci5vcHRpb25zLmhvc3QpICsgc2VuZGVyLm9wdGlvbnMucGF0aDtcbiAgICAgICAgdmFyIHJlcXVlc3QgPSBydW50aW1lLmNyZWF0ZUpTT05QUmVxdWVzdCh1cmwsIGRhdGEpO1xuICAgICAgICB2YXIgcmVjZWl2ZXIgPSBydW50aW1lLlNjcmlwdFJlY2VpdmVycy5jcmVhdGUoZnVuY3Rpb24gKGVycm9yLCByZXN1bHQpIHtcbiAgICAgICAgICAgIFNjcmlwdFJlY2VpdmVycy5yZW1vdmUocmVjZWl2ZXIpO1xuICAgICAgICAgICAgcmVxdWVzdC5jbGVhbnVwKCk7XG4gICAgICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC5ob3N0KSB7XG4gICAgICAgICAgICAgICAgc2VuZGVyLmhvc3QgPSByZXN1bHQuaG9zdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yLCByZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmVxdWVzdC5zZW5kKHJlY2VpdmVyKTtcbiAgICB9O1xufTtcbnZhciBqc29ucF90aW1lbGluZV9qc29ucCA9IHtcbiAgICBuYW1lOiAnanNvbnAnLFxuICAgIGdldEFnZW50OiBnZXRBZ2VudFxufTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIGpzb25wX3RpbWVsaW5lID0gKGpzb25wX3RpbWVsaW5lX2pzb25wKTtcblxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29yZS90cmFuc3BvcnRzL3VybF9zY2hlbWVzLnRzXG5cbmZ1bmN0aW9uIGdldEdlbmVyaWNVUkwoYmFzZVNjaGVtZSwgcGFyYW1zLCBwYXRoKSB7XG4gICAgdmFyIHNjaGVtZSA9IGJhc2VTY2hlbWUgKyAocGFyYW1zLnVzZVRMUyA/ICdzJyA6ICcnKTtcbiAgICB2YXIgaG9zdCA9IHBhcmFtcy51c2VUTFMgPyBwYXJhbXMuaG9zdFRMUyA6IHBhcmFtcy5ob3N0Tm9uVExTO1xuICAgIHJldHVybiBzY2hlbWUgKyAnOi8vJyArIGhvc3QgKyBwYXRoO1xufVxuZnVuY3Rpb24gZ2V0R2VuZXJpY1BhdGgoa2V5LCBxdWVyeVN0cmluZykge1xuICAgIHZhciBwYXRoID0gJy9hcHAvJyArIGtleTtcbiAgICB2YXIgcXVlcnkgPSAnP3Byb3RvY29sPScgK1xuICAgICAgICBkZWZhdWx0cy5QUk9UT0NPTCArXG4gICAgICAgICcmY2xpZW50PWpzJyArXG4gICAgICAgICcmdmVyc2lvbj0nICtcbiAgICAgICAgZGVmYXVsdHMuVkVSU0lPTiArXG4gICAgICAgIChxdWVyeVN0cmluZyA/ICcmJyArIHF1ZXJ5U3RyaW5nIDogJycpO1xuICAgIHJldHVybiBwYXRoICsgcXVlcnk7XG59XG52YXIgd3MgPSB7XG4gICAgZ2V0SW5pdGlhbDogZnVuY3Rpb24gKGtleSwgcGFyYW1zKSB7XG4gICAgICAgIHZhciBwYXRoID0gKHBhcmFtcy5odHRwUGF0aCB8fCAnJykgKyBnZXRHZW5lcmljUGF0aChrZXksICdmbGFzaD1mYWxzZScpO1xuICAgICAgICByZXR1cm4gZ2V0R2VuZXJpY1VSTCgnd3MnLCBwYXJhbXMsIHBhdGgpO1xuICAgIH1cbn07XG52YXIgaHR0cCA9IHtcbiAgICBnZXRJbml0aWFsOiBmdW5jdGlvbiAoa2V5LCBwYXJhbXMpIHtcbiAgICAgICAgdmFyIHBhdGggPSAocGFyYW1zLmh0dHBQYXRoIHx8ICcvcHVzaGVyJykgKyBnZXRHZW5lcmljUGF0aChrZXkpO1xuICAgICAgICByZXR1cm4gZ2V0R2VuZXJpY1VSTCgnaHR0cCcsIHBhcmFtcywgcGF0aCk7XG4gICAgfVxufTtcbnZhciBzb2NranMgPSB7XG4gICAgZ2V0SW5pdGlhbDogZnVuY3Rpb24gKGtleSwgcGFyYW1zKSB7XG4gICAgICAgIHJldHVybiBnZXRHZW5lcmljVVJMKCdodHRwJywgcGFyYW1zLCBwYXJhbXMuaHR0cFBhdGggfHwgJy9wdXNoZXInKTtcbiAgICB9LFxuICAgIGdldFBhdGg6IGZ1bmN0aW9uIChrZXksIHBhcmFtcykge1xuICAgICAgICByZXR1cm4gZ2V0R2VuZXJpY1BhdGgoa2V5KTtcbiAgICB9XG59O1xuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb3JlL2V2ZW50cy9jYWxsYmFja19yZWdpc3RyeS50c1xuXG52YXIgY2FsbGJhY2tfcmVnaXN0cnlfQ2FsbGJhY2tSZWdpc3RyeSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ2FsbGJhY2tSZWdpc3RyeSgpIHtcbiAgICAgICAgdGhpcy5fY2FsbGJhY2tzID0ge307XG4gICAgfVxuICAgIENhbGxiYWNrUmVnaXN0cnkucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWxsYmFja3NbcHJlZml4KG5hbWUpXTtcbiAgICB9O1xuICAgIENhbGxiYWNrUmVnaXN0cnkucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChuYW1lLCBjYWxsYmFjaywgY29udGV4dCkge1xuICAgICAgICB2YXIgcHJlZml4ZWRFdmVudE5hbWUgPSBwcmVmaXgobmFtZSk7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrc1twcmVmaXhlZEV2ZW50TmFtZV0gPVxuICAgICAgICAgICAgdGhpcy5fY2FsbGJhY2tzW3ByZWZpeGVkRXZlbnROYW1lXSB8fCBbXTtcbiAgICAgICAgdGhpcy5fY2FsbGJhY2tzW3ByZWZpeGVkRXZlbnROYW1lXS5wdXNoKHtcbiAgICAgICAgICAgIGZuOiBjYWxsYmFjayxcbiAgICAgICAgICAgIGNvbnRleHQ6IGNvbnRleHRcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBDYWxsYmFja1JlZ2lzdHJ5LnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAobmFtZSwgY2FsbGJhY2ssIGNvbnRleHQpIHtcbiAgICAgICAgaWYgKCFuYW1lICYmICFjYWxsYmFjayAmJiAhY29udGV4dCkge1xuICAgICAgICAgICAgdGhpcy5fY2FsbGJhY2tzID0ge307XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5hbWVzID0gbmFtZSA/IFtwcmVmaXgobmFtZSldIDoga2V5cyh0aGlzLl9jYWxsYmFja3MpO1xuICAgICAgICBpZiAoY2FsbGJhY2sgfHwgY29udGV4dCkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVDYWxsYmFjayhuYW1lcywgY2FsbGJhY2ssIGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVBbGxDYWxsYmFja3MobmFtZXMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDYWxsYmFja1JlZ2lzdHJ5LnByb3RvdHlwZS5yZW1vdmVDYWxsYmFjayA9IGZ1bmN0aW9uIChuYW1lcywgY2FsbGJhY2ssIGNvbnRleHQpIHtcbiAgICAgICAgYXBwbHkobmFtZXMsIGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICB0aGlzLl9jYWxsYmFja3NbbmFtZV0gPSBmaWx0ZXIodGhpcy5fY2FsbGJhY2tzW25hbWVdIHx8IFtdLCBmdW5jdGlvbiAoYmluZGluZykge1xuICAgICAgICAgICAgICAgIHJldHVybiAoKGNhbGxiYWNrICYmIGNhbGxiYWNrICE9PSBiaW5kaW5nLmZuKSB8fFxuICAgICAgICAgICAgICAgICAgICAoY29udGV4dCAmJiBjb250ZXh0ICE9PSBiaW5kaW5nLmNvbnRleHQpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NhbGxiYWNrc1tuYW1lXS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fY2FsbGJhY2tzW25hbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0aGlzKTtcbiAgICB9O1xuICAgIENhbGxiYWNrUmVnaXN0cnkucHJvdG90eXBlLnJlbW92ZUFsbENhbGxiYWNrcyA9IGZ1bmN0aW9uIChuYW1lcykge1xuICAgICAgICBhcHBseShuYW1lcywgZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9jYWxsYmFja3NbbmFtZV07XG4gICAgICAgIH0sIHRoaXMpO1xuICAgIH07XG4gICAgcmV0dXJuIENhbGxiYWNrUmVnaXN0cnk7XG59KCkpO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgY2FsbGJhY2tfcmVnaXN0cnkgPSAoY2FsbGJhY2tfcmVnaXN0cnlfQ2FsbGJhY2tSZWdpc3RyeSk7XG5mdW5jdGlvbiBwcmVmaXgobmFtZSkge1xuICAgIHJldHVybiAnXycgKyBuYW1lO1xufVxuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb3JlL2V2ZW50cy9kaXNwYXRjaGVyLnRzXG5cblxudmFyIGRpc3BhdGNoZXJfRGlzcGF0Y2hlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGlzcGF0Y2hlcihmYWlsVGhyb3VnaCkge1xuICAgICAgICB0aGlzLmNhbGxiYWNrcyA9IG5ldyBjYWxsYmFja19yZWdpc3RyeSgpO1xuICAgICAgICB0aGlzLmdsb2JhbF9jYWxsYmFja3MgPSBbXTtcbiAgICAgICAgdGhpcy5mYWlsVGhyb3VnaCA9IGZhaWxUaHJvdWdoO1xuICAgIH1cbiAgICBEaXNwYXRjaGVyLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgY2FsbGJhY2ssIGNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jYWxsYmFja3MuYWRkKGV2ZW50TmFtZSwgY2FsbGJhY2ssIGNvbnRleHQpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIERpc3BhdGNoZXIucHJvdG90eXBlLmJpbmRfZ2xvYmFsID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuZ2xvYmFsX2NhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBEaXNwYXRjaGVyLnByb3RvdHlwZS51bmJpbmQgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaywgY29udGV4dCkge1xuICAgICAgICB0aGlzLmNhbGxiYWNrcy5yZW1vdmUoZXZlbnROYW1lLCBjYWxsYmFjaywgY29udGV4dCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgRGlzcGF0Y2hlci5wcm90b3R5cGUudW5iaW5kX2dsb2JhbCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICBpZiAoIWNhbGxiYWNrKSB7XG4gICAgICAgICAgICB0aGlzLmdsb2JhbF9jYWxsYmFja3MgPSBbXTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZ2xvYmFsX2NhbGxiYWNrcyA9IGZpbHRlcih0aGlzLmdsb2JhbF9jYWxsYmFja3MgfHwgW10sIGZ1bmN0aW9uIChjKSB7IHJldHVybiBjICE9PSBjYWxsYmFjazsgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgRGlzcGF0Y2hlci5wcm90b3R5cGUudW5iaW5kX2FsbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy51bmJpbmQoKTtcbiAgICAgICAgdGhpcy51bmJpbmRfZ2xvYmFsKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgRGlzcGF0Y2hlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGRhdGEsIG1ldGFkYXRhKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5nbG9iYWxfY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmdsb2JhbF9jYWxsYmFja3NbaV0oZXZlbnROYW1lLCBkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY2FsbGJhY2tzID0gdGhpcy5jYWxsYmFja3MuZ2V0KGV2ZW50TmFtZSk7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGlmIChtZXRhZGF0YSkge1xuICAgICAgICAgICAgYXJncy5wdXNoKGRhdGEsIG1ldGFkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkYXRhKSB7XG4gICAgICAgICAgICBhcmdzLnB1c2goZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNhbGxiYWNrcyAmJiBjYWxsYmFja3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFja3NbaV0uZm4uYXBwbHkoY2FsbGJhY2tzW2ldLmNvbnRleHQgfHwgd2luZG93LCBhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmZhaWxUaHJvdWdoKSB7XG4gICAgICAgICAgICB0aGlzLmZhaWxUaHJvdWdoKGV2ZW50TmFtZSwgZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICByZXR1cm4gRGlzcGF0Y2hlcjtcbn0oKSk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBkaXNwYXRjaGVyID0gKGRpc3BhdGNoZXJfRGlzcGF0Y2hlcik7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvcmUvdHJhbnNwb3J0cy90cmFuc3BvcnRfY29ubmVjdGlvbi50c1xudmFyIHRyYW5zcG9ydF9jb25uZWN0aW9uX2V4dGVuZHMgPSAodW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcblxuXG5cblxuXG52YXIgdHJhbnNwb3J0X2Nvbm5lY3Rpb25fVHJhbnNwb3J0Q29ubmVjdGlvbiA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHJhbnNwb3J0X2Nvbm5lY3Rpb25fZXh0ZW5kcyhUcmFuc3BvcnRDb25uZWN0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFRyYW5zcG9ydENvbm5lY3Rpb24oaG9va3MsIG5hbWUsIHByaW9yaXR5LCBrZXksIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuaW5pdGlhbGl6ZSA9IHJ1bnRpbWUudHJhbnNwb3J0Q29ubmVjdGlvbkluaXRpYWxpemVyO1xuICAgICAgICBfdGhpcy5ob29rcyA9IGhvb2tzO1xuICAgICAgICBfdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgX3RoaXMucHJpb3JpdHkgPSBwcmlvcml0eTtcbiAgICAgICAgX3RoaXMua2V5ID0ga2V5O1xuICAgICAgICBfdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgX3RoaXMuc3RhdGUgPSAnbmV3JztcbiAgICAgICAgX3RoaXMudGltZWxpbmUgPSBvcHRpb25zLnRpbWVsaW5lO1xuICAgICAgICBfdGhpcy5hY3Rpdml0eVRpbWVvdXQgPSBvcHRpb25zLmFjdGl2aXR5VGltZW91dDtcbiAgICAgICAgX3RoaXMuaWQgPSBfdGhpcy50aW1lbGluZS5nZW5lcmF0ZVVuaXF1ZUlEKCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgVHJhbnNwb3J0Q29ubmVjdGlvbi5wcm90b3R5cGUuaGFuZGxlc0FjdGl2aXR5Q2hlY2tzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gQm9vbGVhbih0aGlzLmhvb2tzLmhhbmRsZXNBY3Rpdml0eUNoZWNrcyk7XG4gICAgfTtcbiAgICBUcmFuc3BvcnRDb25uZWN0aW9uLnByb3RvdHlwZS5zdXBwb3J0c1BpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBCb29sZWFuKHRoaXMuaG9va3Muc3VwcG9ydHNQaW5nKTtcbiAgICB9O1xuICAgIFRyYW5zcG9ydENvbm5lY3Rpb24ucHJvdG90eXBlLmNvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLnNvY2tldCB8fCB0aGlzLnN0YXRlICE9PSAnaW5pdGlhbGl6ZWQnKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHVybCA9IHRoaXMuaG9va3MudXJscy5nZXRJbml0aWFsKHRoaXMua2V5LCB0aGlzLm9wdGlvbnMpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5zb2NrZXQgPSB0aGlzLmhvb2tzLmdldFNvY2tldCh1cmwsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHV0aWwuZGVmZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLm9uRXJyb3IoZSk7XG4gICAgICAgICAgICAgICAgX3RoaXMuY2hhbmdlU3RhdGUoJ2Nsb3NlZCcpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5iaW5kTGlzdGVuZXJzKCk7XG4gICAgICAgIGxvZ2dlci5kZWJ1ZygnQ29ubmVjdGluZycsIHsgdHJhbnNwb3J0OiB0aGlzLm5hbWUsIHVybDogdXJsIH0pO1xuICAgICAgICB0aGlzLmNoYW5nZVN0YXRlKCdjb25uZWN0aW5nJyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgVHJhbnNwb3J0Q29ubmVjdGlvbi5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnNvY2tldCkge1xuICAgICAgICAgICAgdGhpcy5zb2NrZXQuY2xvc2UoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBUcmFuc3BvcnRDb25uZWN0aW9uLnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT09ICdvcGVuJykge1xuICAgICAgICAgICAgdXRpbC5kZWZlcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnNvY2tldCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zb2NrZXQuc2VuZChkYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBUcmFuc3BvcnRDb25uZWN0aW9uLnByb3RvdHlwZS5waW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gJ29wZW4nICYmIHRoaXMuc3VwcG9ydHNQaW5nKCkpIHtcbiAgICAgICAgICAgIHRoaXMuc29ja2V0LnBpbmcoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVHJhbnNwb3J0Q29ubmVjdGlvbi5wcm90b3R5cGUub25PcGVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5ob29rcy5iZWZvcmVPcGVuKSB7XG4gICAgICAgICAgICB0aGlzLmhvb2tzLmJlZm9yZU9wZW4odGhpcy5zb2NrZXQsIHRoaXMuaG9va3MudXJscy5nZXRQYXRoKHRoaXMua2V5LCB0aGlzLm9wdGlvbnMpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNoYW5nZVN0YXRlKCdvcGVuJyk7XG4gICAgICAgIHRoaXMuc29ja2V0Lm9ub3BlbiA9IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIFRyYW5zcG9ydENvbm5lY3Rpb24ucHJvdG90eXBlLm9uRXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5lbWl0KCdlcnJvcicsIHsgdHlwZTogJ1dlYlNvY2tldEVycm9yJywgZXJyb3I6IGVycm9yIH0pO1xuICAgICAgICB0aGlzLnRpbWVsaW5lLmVycm9yKHRoaXMuYnVpbGRUaW1lbGluZU1lc3NhZ2UoeyBlcnJvcjogZXJyb3IudG9TdHJpbmcoKSB9KSk7XG4gICAgfTtcbiAgICBUcmFuc3BvcnRDb25uZWN0aW9uLnByb3RvdHlwZS5vbkNsb3NlID0gZnVuY3Rpb24gKGNsb3NlRXZlbnQpIHtcbiAgICAgICAgaWYgKGNsb3NlRXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlU3RhdGUoJ2Nsb3NlZCcsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBjbG9zZUV2ZW50LmNvZGUsXG4gICAgICAgICAgICAgICAgcmVhc29uOiBjbG9zZUV2ZW50LnJlYXNvbixcbiAgICAgICAgICAgICAgICB3YXNDbGVhbjogY2xvc2VFdmVudC53YXNDbGVhblxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNoYW5nZVN0YXRlKCdjbG9zZWQnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVuYmluZExpc3RlbmVycygpO1xuICAgICAgICB0aGlzLnNvY2tldCA9IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIFRyYW5zcG9ydENvbm5lY3Rpb24ucHJvdG90eXBlLm9uTWVzc2FnZSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgIHRoaXMuZW1pdCgnbWVzc2FnZScsIG1lc3NhZ2UpO1xuICAgIH07XG4gICAgVHJhbnNwb3J0Q29ubmVjdGlvbi5wcm90b3R5cGUub25BY3Rpdml0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5lbWl0KCdhY3Rpdml0eScpO1xuICAgIH07XG4gICAgVHJhbnNwb3J0Q29ubmVjdGlvbi5wcm90b3R5cGUuYmluZExpc3RlbmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5zb2NrZXQub25vcGVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMub25PcGVuKCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc29ja2V0Lm9uZXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIF90aGlzLm9uRXJyb3IoZXJyb3IpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNvY2tldC5vbmNsb3NlID0gZnVuY3Rpb24gKGNsb3NlRXZlbnQpIHtcbiAgICAgICAgICAgIF90aGlzLm9uQ2xvc2UoY2xvc2VFdmVudCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc29ja2V0Lm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgICAgICBfdGhpcy5vbk1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzUGluZygpKSB7XG4gICAgICAgICAgICB0aGlzLnNvY2tldC5vbmFjdGl2aXR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLm9uQWN0aXZpdHkoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRyYW5zcG9ydENvbm5lY3Rpb24ucHJvdG90eXBlLnVuYmluZExpc3RlbmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc29ja2V0KSB7XG4gICAgICAgICAgICB0aGlzLnNvY2tldC5vbm9wZW4gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLnNvY2tldC5vbmVycm9yID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5zb2NrZXQub25jbG9zZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMuc29ja2V0Lm9ubWVzc2FnZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmICh0aGlzLnN1cHBvcnRzUGluZygpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zb2NrZXQub25hY3Rpdml0eSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgVHJhbnNwb3J0Q29ubmVjdGlvbi5wcm90b3R5cGUuY2hhbmdlU3RhdGUgPSBmdW5jdGlvbiAoc3RhdGUsIHBhcmFtcykge1xuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgIHRoaXMudGltZWxpbmUuaW5mbyh0aGlzLmJ1aWxkVGltZWxpbmVNZXNzYWdlKHtcbiAgICAgICAgICAgIHN0YXRlOiBzdGF0ZSxcbiAgICAgICAgICAgIHBhcmFtczogcGFyYW1zXG4gICAgICAgIH0pKTtcbiAgICAgICAgdGhpcy5lbWl0KHN0YXRlLCBwYXJhbXMpO1xuICAgIH07XG4gICAgVHJhbnNwb3J0Q29ubmVjdGlvbi5wcm90b3R5cGUuYnVpbGRUaW1lbGluZU1lc3NhZ2UgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gZXh0ZW5kKHsgY2lkOiB0aGlzLmlkIH0sIG1lc3NhZ2UpO1xuICAgIH07XG4gICAgcmV0dXJuIFRyYW5zcG9ydENvbm5lY3Rpb247XG59KGRpc3BhdGNoZXIpKTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIHRyYW5zcG9ydF9jb25uZWN0aW9uID0gKHRyYW5zcG9ydF9jb25uZWN0aW9uX1RyYW5zcG9ydENvbm5lY3Rpb24pO1xuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb3JlL3RyYW5zcG9ydHMvdHJhbnNwb3J0LnRzXG5cbnZhciB0cmFuc3BvcnRfVHJhbnNwb3J0ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUcmFuc3BvcnQoaG9va3MpIHtcbiAgICAgICAgdGhpcy5ob29rcyA9IGhvb2tzO1xuICAgIH1cbiAgICBUcmFuc3BvcnQucHJvdG90eXBlLmlzU3VwcG9ydGVkID0gZnVuY3Rpb24gKGVudmlyb25tZW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhvb2tzLmlzU3VwcG9ydGVkKGVudmlyb25tZW50KTtcbiAgICB9O1xuICAgIFRyYW5zcG9ydC5wcm90b3R5cGUuY3JlYXRlQ29ubmVjdGlvbiA9IGZ1bmN0aW9uIChuYW1lLCBwcmlvcml0eSwga2V5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgdHJhbnNwb3J0X2Nvbm5lY3Rpb24odGhpcy5ob29rcywgbmFtZSwgcHJpb3JpdHksIGtleSwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICByZXR1cm4gVHJhbnNwb3J0O1xufSgpKTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIHRyYW5zcG9ydHNfdHJhbnNwb3J0ID0gKHRyYW5zcG9ydF9UcmFuc3BvcnQpO1xuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9ydW50aW1lcy9pc29tb3JwaGljL3RyYW5zcG9ydHMvdHJhbnNwb3J0cy50c1xuXG5cblxuXG52YXIgV1NUcmFuc3BvcnQgPSBuZXcgdHJhbnNwb3J0c190cmFuc3BvcnQoe1xuICAgIHVybHM6IHdzLFxuICAgIGhhbmRsZXNBY3Rpdml0eUNoZWNrczogZmFsc2UsXG4gICAgc3VwcG9ydHNQaW5nOiBmYWxzZSxcbiAgICBpc0luaXRpYWxpemVkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBCb29sZWFuKHJ1bnRpbWUuZ2V0V2ViU29ja2V0QVBJKCkpO1xuICAgIH0sXG4gICAgaXNTdXBwb3J0ZWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIEJvb2xlYW4ocnVudGltZS5nZXRXZWJTb2NrZXRBUEkoKSk7XG4gICAgfSxcbiAgICBnZXRTb2NrZXQ6IGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgcmV0dXJuIHJ1bnRpbWUuY3JlYXRlV2ViU29ja2V0KHVybCk7XG4gICAgfVxufSk7XG52YXIgaHR0cENvbmZpZ3VyYXRpb24gPSB7XG4gICAgdXJsczogaHR0cCxcbiAgICBoYW5kbGVzQWN0aXZpdHlDaGVja3M6IGZhbHNlLFxuICAgIHN1cHBvcnRzUGluZzogdHJ1ZSxcbiAgICBpc0luaXRpYWxpemVkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn07XG52YXIgc3RyZWFtaW5nQ29uZmlndXJhdGlvbiA9IGV4dGVuZCh7XG4gICAgZ2V0U29ja2V0OiBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgIHJldHVybiBydW50aW1lLkhUVFBGYWN0b3J5LmNyZWF0ZVN0cmVhbWluZ1NvY2tldCh1cmwpO1xuICAgIH1cbn0sIGh0dHBDb25maWd1cmF0aW9uKTtcbnZhciBwb2xsaW5nQ29uZmlndXJhdGlvbiA9IGV4dGVuZCh7XG4gICAgZ2V0U29ja2V0OiBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgIHJldHVybiBydW50aW1lLkhUVFBGYWN0b3J5LmNyZWF0ZVBvbGxpbmdTb2NrZXQodXJsKTtcbiAgICB9XG59LCBodHRwQ29uZmlndXJhdGlvbik7XG52YXIgeGhyQ29uZmlndXJhdGlvbiA9IHtcbiAgICBpc1N1cHBvcnRlZDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gcnVudGltZS5pc1hIUlN1cHBvcnRlZCgpO1xuICAgIH1cbn07XG52YXIgWEhSU3RyZWFtaW5nVHJhbnNwb3J0ID0gbmV3IHRyYW5zcG9ydHNfdHJhbnNwb3J0KChleHRlbmQoe30sIHN0cmVhbWluZ0NvbmZpZ3VyYXRpb24sIHhockNvbmZpZ3VyYXRpb24pKSk7XG52YXIgWEhSUG9sbGluZ1RyYW5zcG9ydCA9IG5ldyB0cmFuc3BvcnRzX3RyYW5zcG9ydChleHRlbmQoe30sIHBvbGxpbmdDb25maWd1cmF0aW9uLCB4aHJDb25maWd1cmF0aW9uKSk7XG52YXIgVHJhbnNwb3J0cyA9IHtcbiAgICB3czogV1NUcmFuc3BvcnQsXG4gICAgeGhyX3N0cmVhbWluZzogWEhSU3RyZWFtaW5nVHJhbnNwb3J0LFxuICAgIHhocl9wb2xsaW5nOiBYSFJQb2xsaW5nVHJhbnNwb3J0XG59O1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgdHJhbnNwb3J0cyA9IChUcmFuc3BvcnRzKTtcblxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvcnVudGltZXMvd2ViL3RyYW5zcG9ydHMvdHJhbnNwb3J0cy50c1xuXG5cblxuXG5cblxudmFyIFNvY2tKU1RyYW5zcG9ydCA9IG5ldyB0cmFuc3BvcnRzX3RyYW5zcG9ydCh7XG4gICAgZmlsZTogJ3NvY2tqcycsXG4gICAgdXJsczogc29ja2pzLFxuICAgIGhhbmRsZXNBY3Rpdml0eUNoZWNrczogdHJ1ZSxcbiAgICBzdXBwb3J0c1Bpbmc6IGZhbHNlLFxuICAgIGlzU3VwcG9ydGVkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgaXNJbml0aWFsaXplZDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gd2luZG93LlNvY2tKUyAhPT0gdW5kZWZpbmVkO1xuICAgIH0sXG4gICAgZ2V0U29ja2V0OiBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgd2luZG93LlNvY2tKUyh1cmwsIG51bGwsIHtcbiAgICAgICAgICAgIGpzX3BhdGg6IERlcGVuZGVuY2llcy5nZXRQYXRoKCdzb2NranMnLCB7XG4gICAgICAgICAgICAgICAgdXNlVExTOiBvcHRpb25zLnVzZVRMU1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBpZ25vcmVfbnVsbF9vcmlnaW46IG9wdGlvbnMuaWdub3JlTnVsbE9yaWdpblxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGJlZm9yZU9wZW46IGZ1bmN0aW9uIChzb2NrZXQsIHBhdGgpIHtcbiAgICAgICAgc29ja2V0LnNlbmQoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgcGF0aDogcGF0aFxuICAgICAgICB9KSk7XG4gICAgfVxufSk7XG52YXIgeGRyQ29uZmlndXJhdGlvbiA9IHtcbiAgICBpc1N1cHBvcnRlZDogZnVuY3Rpb24gKGVudmlyb25tZW50KSB7XG4gICAgICAgIHZhciB5ZXMgPSBydW50aW1lLmlzWERSU3VwcG9ydGVkKGVudmlyb25tZW50LnVzZVRMUyk7XG4gICAgICAgIHJldHVybiB5ZXM7XG4gICAgfVxufTtcbnZhciBYRFJTdHJlYW1pbmdUcmFuc3BvcnQgPSBuZXcgdHJhbnNwb3J0c190cmFuc3BvcnQoKGV4dGVuZCh7fSwgc3RyZWFtaW5nQ29uZmlndXJhdGlvbiwgeGRyQ29uZmlndXJhdGlvbikpKTtcbnZhciBYRFJQb2xsaW5nVHJhbnNwb3J0ID0gbmV3IHRyYW5zcG9ydHNfdHJhbnNwb3J0KGV4dGVuZCh7fSwgcG9sbGluZ0NvbmZpZ3VyYXRpb24sIHhkckNvbmZpZ3VyYXRpb24pKTtcbnRyYW5zcG9ydHMueGRyX3N0cmVhbWluZyA9IFhEUlN0cmVhbWluZ1RyYW5zcG9ydDtcbnRyYW5zcG9ydHMueGRyX3BvbGxpbmcgPSBYRFJQb2xsaW5nVHJhbnNwb3J0O1xudHJhbnNwb3J0cy5zb2NranMgPSBTb2NrSlNUcmFuc3BvcnQ7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciB0cmFuc3BvcnRzX3RyYW5zcG9ydHMgPSAodHJhbnNwb3J0cyk7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL3J1bnRpbWVzL3dlYi9uZXRfaW5mby50c1xudmFyIG5ldF9pbmZvX2V4dGVuZHMgPSAodW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcblxudmFyIE5ldEluZm8gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIG5ldF9pbmZvX2V4dGVuZHMoTmV0SW5mbywgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBOZXRJbmZvKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICB2YXIgc2VsZiA9IF90aGlzO1xuICAgICAgICBpZiAod2luZG93LmFkZEV2ZW50TGlzdGVuZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29ubGluZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmVtaXQoJ29ubGluZScpO1xuICAgICAgICAgICAgfSwgZmFsc2UpO1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29mZmxpbmUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5lbWl0KCdvZmZsaW5lJyk7XG4gICAgICAgICAgICB9LCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBOZXRJbmZvLnByb3RvdHlwZS5pc09ubGluZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHdpbmRvdy5uYXZpZ2F0b3Iub25MaW5lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5uYXZpZ2F0b3Iub25MaW5lO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTmV0SW5mbztcbn0oZGlzcGF0Y2hlcikpO1xuXG52YXIgbmV0X2luZm9fTmV0d29yayA9IG5ldyBOZXRJbmZvKCk7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvcmUvdHJhbnNwb3J0cy9hc3Npc3RhbnRfdG9fdGhlX3RyYW5zcG9ydF9tYW5hZ2VyLnRzXG5cblxudmFyIGFzc2lzdGFudF90b190aGVfdHJhbnNwb3J0X21hbmFnZXJfQXNzaXN0YW50VG9UaGVUcmFuc3BvcnRNYW5hZ2VyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBBc3Npc3RhbnRUb1RoZVRyYW5zcG9ydE1hbmFnZXIobWFuYWdlciwgdHJhbnNwb3J0LCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMubWFuYWdlciA9IG1hbmFnZXI7XG4gICAgICAgIHRoaXMudHJhbnNwb3J0ID0gdHJhbnNwb3J0O1xuICAgICAgICB0aGlzLm1pblBpbmdEZWxheSA9IG9wdGlvbnMubWluUGluZ0RlbGF5O1xuICAgICAgICB0aGlzLm1heFBpbmdEZWxheSA9IG9wdGlvbnMubWF4UGluZ0RlbGF5O1xuICAgICAgICB0aGlzLnBpbmdEZWxheSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgQXNzaXN0YW50VG9UaGVUcmFuc3BvcnRNYW5hZ2VyLnByb3RvdHlwZS5jcmVhdGVDb25uZWN0aW9uID0gZnVuY3Rpb24gKG5hbWUsIHByaW9yaXR5LCBrZXksIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgb3B0aW9ucyA9IGV4dGVuZCh7fSwgb3B0aW9ucywge1xuICAgICAgICAgICAgYWN0aXZpdHlUaW1lb3V0OiB0aGlzLnBpbmdEZWxheVxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGNvbm5lY3Rpb24gPSB0aGlzLnRyYW5zcG9ydC5jcmVhdGVDb25uZWN0aW9uKG5hbWUsIHByaW9yaXR5LCBrZXksIG9wdGlvbnMpO1xuICAgICAgICB2YXIgb3BlblRpbWVzdGFtcCA9IG51bGw7XG4gICAgICAgIHZhciBvbk9wZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb25uZWN0aW9uLnVuYmluZCgnb3BlbicsIG9uT3Blbik7XG4gICAgICAgICAgICBjb25uZWN0aW9uLmJpbmQoJ2Nsb3NlZCcsIG9uQ2xvc2VkKTtcbiAgICAgICAgICAgIG9wZW5UaW1lc3RhbXAgPSB1dGlsLm5vdygpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgb25DbG9zZWQgPSBmdW5jdGlvbiAoY2xvc2VFdmVudCkge1xuICAgICAgICAgICAgY29ubmVjdGlvbi51bmJpbmQoJ2Nsb3NlZCcsIG9uQ2xvc2VkKTtcbiAgICAgICAgICAgIGlmIChjbG9zZUV2ZW50LmNvZGUgPT09IDEwMDIgfHwgY2xvc2VFdmVudC5jb2RlID09PSAxMDAzKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMubWFuYWdlci5yZXBvcnREZWF0aCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIWNsb3NlRXZlbnQud2FzQ2xlYW4gJiYgb3BlblRpbWVzdGFtcCkge1xuICAgICAgICAgICAgICAgIHZhciBsaWZlc3BhbiA9IHV0aWwubm93KCkgLSBvcGVuVGltZXN0YW1wO1xuICAgICAgICAgICAgICAgIGlmIChsaWZlc3BhbiA8IDIgKiBfdGhpcy5tYXhQaW5nRGVsYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMubWFuYWdlci5yZXBvcnREZWF0aCgpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5waW5nRGVsYXkgPSBNYXRoLm1heChsaWZlc3BhbiAvIDIsIF90aGlzLm1pblBpbmdEZWxheSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25uZWN0aW9uLmJpbmQoJ29wZW4nLCBvbk9wZW4pO1xuICAgICAgICByZXR1cm4gY29ubmVjdGlvbjtcbiAgICB9O1xuICAgIEFzc2lzdGFudFRvVGhlVHJhbnNwb3J0TWFuYWdlci5wcm90b3R5cGUuaXNTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoZW52aXJvbm1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFuYWdlci5pc0FsaXZlKCkgJiYgdGhpcy50cmFuc3BvcnQuaXNTdXBwb3J0ZWQoZW52aXJvbm1lbnQpO1xuICAgIH07XG4gICAgcmV0dXJuIEFzc2lzdGFudFRvVGhlVHJhbnNwb3J0TWFuYWdlcjtcbn0oKSk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBhc3Npc3RhbnRfdG9fdGhlX3RyYW5zcG9ydF9tYW5hZ2VyID0gKGFzc2lzdGFudF90b190aGVfdHJhbnNwb3J0X21hbmFnZXJfQXNzaXN0YW50VG9UaGVUcmFuc3BvcnRNYW5hZ2VyKTtcblxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29yZS9jb25uZWN0aW9uL3Byb3RvY29sL3Byb3RvY29sLnRzXG52YXIgUHJvdG9jb2wgPSB7XG4gICAgZGVjb2RlTWVzc2FnZTogZnVuY3Rpb24gKG1lc3NhZ2VFdmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIG1lc3NhZ2VEYXRhID0gSlNPTi5wYXJzZShtZXNzYWdlRXZlbnQuZGF0YSk7XG4gICAgICAgICAgICB2YXIgcHVzaGVyRXZlbnREYXRhID0gbWVzc2FnZURhdGEuZGF0YTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcHVzaGVyRXZlbnREYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHB1c2hlckV2ZW50RGF0YSA9IEpTT04ucGFyc2UobWVzc2FnZURhdGEuZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBwdXNoZXJFdmVudCA9IHtcbiAgICAgICAgICAgICAgICBldmVudDogbWVzc2FnZURhdGEuZXZlbnQsXG4gICAgICAgICAgICAgICAgY2hhbm5lbDogbWVzc2FnZURhdGEuY2hhbm5lbCxcbiAgICAgICAgICAgICAgICBkYXRhOiBwdXNoZXJFdmVudERhdGFcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAobWVzc2FnZURhdGEudXNlcl9pZCkge1xuICAgICAgICAgICAgICAgIHB1c2hlckV2ZW50LnVzZXJfaWQgPSBtZXNzYWdlRGF0YS51c2VyX2lkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHB1c2hlckV2ZW50O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aHJvdyB7IHR5cGU6ICdNZXNzYWdlUGFyc2VFcnJvcicsIGVycm9yOiBlLCBkYXRhOiBtZXNzYWdlRXZlbnQuZGF0YSB9O1xuICAgICAgICB9XG4gICAgfSxcbiAgICBlbmNvZGVNZXNzYWdlOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGV2ZW50KTtcbiAgICB9LFxuICAgIHByb2Nlc3NIYW5kc2hha2U6IGZ1bmN0aW9uIChtZXNzYWdlRXZlbnQpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSBQcm90b2NvbC5kZWNvZGVNZXNzYWdlKG1lc3NhZ2VFdmVudCk7XG4gICAgICAgIGlmIChtZXNzYWdlLmV2ZW50ID09PSAncHVzaGVyOmNvbm5lY3Rpb25fZXN0YWJsaXNoZWQnKSB7XG4gICAgICAgICAgICBpZiAoIW1lc3NhZ2UuZGF0YS5hY3Rpdml0eV90aW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgJ05vIGFjdGl2aXR5IHRpbWVvdXQgc3BlY2lmaWVkIGluIGhhbmRzaGFrZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGFjdGlvbjogJ2Nvbm5lY3RlZCcsXG4gICAgICAgICAgICAgICAgaWQ6IG1lc3NhZ2UuZGF0YS5zb2NrZXRfaWQsXG4gICAgICAgICAgICAgICAgYWN0aXZpdHlUaW1lb3V0OiBtZXNzYWdlLmRhdGEuYWN0aXZpdHlfdGltZW91dCAqIDEwMDBcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobWVzc2FnZS5ldmVudCA9PT0gJ3B1c2hlcjplcnJvcicpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYWN0aW9uOiB0aGlzLmdldENsb3NlQWN0aW9uKG1lc3NhZ2UuZGF0YSksXG4gICAgICAgICAgICAgICAgZXJyb3I6IHRoaXMuZ2V0Q2xvc2VFcnJvcihtZXNzYWdlLmRhdGEpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgJ0ludmFsaWQgaGFuZHNoYWtlJztcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZ2V0Q2xvc2VBY3Rpb246IGZ1bmN0aW9uIChjbG9zZUV2ZW50KSB7XG4gICAgICAgIGlmIChjbG9zZUV2ZW50LmNvZGUgPCA0MDAwKSB7XG4gICAgICAgICAgICBpZiAoY2xvc2VFdmVudC5jb2RlID49IDEwMDIgJiYgY2xvc2VFdmVudC5jb2RlIDw9IDEwMDQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2JhY2tvZmYnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2xvc2VFdmVudC5jb2RlID09PSA0MDAwKSB7XG4gICAgICAgICAgICByZXR1cm4gJ3Rsc19vbmx5JztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjbG9zZUV2ZW50LmNvZGUgPCA0MTAwKSB7XG4gICAgICAgICAgICByZXR1cm4gJ3JlZnVzZWQnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNsb3NlRXZlbnQuY29kZSA8IDQyMDApIHtcbiAgICAgICAgICAgIHJldHVybiAnYmFja29mZic7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2xvc2VFdmVudC5jb2RlIDwgNDMwMCkge1xuICAgICAgICAgICAgcmV0dXJuICdyZXRyeSc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gJ3JlZnVzZWQnO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBnZXRDbG9zZUVycm9yOiBmdW5jdGlvbiAoY2xvc2VFdmVudCkge1xuICAgICAgICBpZiAoY2xvc2VFdmVudC5jb2RlICE9PSAxMDAwICYmIGNsb3NlRXZlbnQuY29kZSAhPT0gMTAwMSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnUHVzaGVyRXJyb3InLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogY2xvc2VFdmVudC5jb2RlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjbG9zZUV2ZW50LnJlYXNvbiB8fCBjbG9zZUV2ZW50Lm1lc3NhZ2VcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59O1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgcHJvdG9jb2xfcHJvdG9jb2wgPSAoUHJvdG9jb2wpO1xuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb3JlL2Nvbm5lY3Rpb24vY29ubmVjdGlvbi50c1xudmFyIGNvbm5lY3Rpb25fZXh0ZW5kcyA9ICh1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuXG5cblxuXG52YXIgY29ubmVjdGlvbl9Db25uZWN0aW9uID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBjb25uZWN0aW9uX2V4dGVuZHMoQ29ubmVjdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDb25uZWN0aW9uKGlkLCB0cmFuc3BvcnQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuaWQgPSBpZDtcbiAgICAgICAgX3RoaXMudHJhbnNwb3J0ID0gdHJhbnNwb3J0O1xuICAgICAgICBfdGhpcy5hY3Rpdml0eVRpbWVvdXQgPSB0cmFuc3BvcnQuYWN0aXZpdHlUaW1lb3V0O1xuICAgICAgICBfdGhpcy5iaW5kTGlzdGVuZXJzKCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQ29ubmVjdGlvbi5wcm90b3R5cGUuaGFuZGxlc0FjdGl2aXR5Q2hlY2tzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc3BvcnQuaGFuZGxlc0FjdGl2aXR5Q2hlY2tzKCk7XG4gICAgfTtcbiAgICBDb25uZWN0aW9uLnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNwb3J0LnNlbmQoZGF0YSk7XG4gICAgfTtcbiAgICBDb25uZWN0aW9uLnByb3RvdHlwZS5zZW5kX2V2ZW50ID0gZnVuY3Rpb24gKG5hbWUsIGRhdGEsIGNoYW5uZWwpIHtcbiAgICAgICAgdmFyIGV2ZW50ID0geyBldmVudDogbmFtZSwgZGF0YTogZGF0YSB9O1xuICAgICAgICBpZiAoY2hhbm5lbCkge1xuICAgICAgICAgICAgZXZlbnQuY2hhbm5lbCA9IGNoYW5uZWw7XG4gICAgICAgIH1cbiAgICAgICAgbG9nZ2VyLmRlYnVnKCdFdmVudCBzZW50JywgZXZlbnQpO1xuICAgICAgICByZXR1cm4gdGhpcy5zZW5kKHByb3RvY29sX3Byb3RvY29sLmVuY29kZU1lc3NhZ2UoZXZlbnQpKTtcbiAgICB9O1xuICAgIENvbm5lY3Rpb24ucHJvdG90eXBlLnBpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnRyYW5zcG9ydC5zdXBwb3J0c1BpbmcoKSkge1xuICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQucGluZygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZW5kX2V2ZW50KCdwdXNoZXI6cGluZycsIHt9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ29ubmVjdGlvbi5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudHJhbnNwb3J0LmNsb3NlKCk7XG4gICAgfTtcbiAgICBDb25uZWN0aW9uLnByb3RvdHlwZS5iaW5kTGlzdGVuZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgbGlzdGVuZXJzID0ge1xuICAgICAgICAgICAgbWVzc2FnZTogZnVuY3Rpb24gKG1lc3NhZ2VFdmVudCkge1xuICAgICAgICAgICAgICAgIHZhciBwdXNoZXJFdmVudDtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBwdXNoZXJFdmVudCA9IHByb3RvY29sX3Byb3RvY29sLmRlY29kZU1lc3NhZ2UobWVzc2FnZUV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZW1pdCgnZXJyb3InLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnTWVzc2FnZVBhcnNlRXJyb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBtZXNzYWdlRXZlbnQuZGF0YVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHB1c2hlckV2ZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKCdFdmVudCByZWNkJywgcHVzaGVyRXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHB1c2hlckV2ZW50LmV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdwdXNoZXI6ZXJyb3InOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmVtaXQoJ2Vycm9yJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUHVzaGVyRXJyb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBwdXNoZXJFdmVudC5kYXRhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdwdXNoZXI6cGluZyc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZW1pdCgncGluZycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAncHVzaGVyOnBvbmcnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmVtaXQoJ3BvbmcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5lbWl0KCdtZXNzYWdlJywgcHVzaGVyRXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhY3Rpdml0eTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmVtaXQoJ2FjdGl2aXR5Jyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgIF90aGlzLmVtaXQoJ2Vycm9yJywgZXJyb3IpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNsb3NlZDogZnVuY3Rpb24gKGNsb3NlRXZlbnQpIHtcbiAgICAgICAgICAgICAgICB1bmJpbmRMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgICAgICBpZiAoY2xvc2VFdmVudCAmJiBjbG9zZUV2ZW50LmNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuaGFuZGxlQ2xvc2VFdmVudChjbG9zZUV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX3RoaXMudHJhbnNwb3J0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBfdGhpcy5lbWl0KCdjbG9zZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHVuYmluZExpc3RlbmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG9iamVjdEFwcGx5KGxpc3RlbmVycywgZnVuY3Rpb24gKGxpc3RlbmVyLCBldmVudCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnRyYW5zcG9ydC51bmJpbmQoZXZlbnQsIGxpc3RlbmVyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBvYmplY3RBcHBseShsaXN0ZW5lcnMsIGZ1bmN0aW9uIChsaXN0ZW5lciwgZXZlbnQpIHtcbiAgICAgICAgICAgIF90aGlzLnRyYW5zcG9ydC5iaW5kKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgQ29ubmVjdGlvbi5wcm90b3R5cGUuaGFuZGxlQ2xvc2VFdmVudCA9IGZ1bmN0aW9uIChjbG9zZUV2ZW50KSB7XG4gICAgICAgIHZhciBhY3Rpb24gPSBwcm90b2NvbF9wcm90b2NvbC5nZXRDbG9zZUFjdGlvbihjbG9zZUV2ZW50KTtcbiAgICAgICAgdmFyIGVycm9yID0gcHJvdG9jb2xfcHJvdG9jb2wuZ2V0Q2xvc2VFcnJvcihjbG9zZUV2ZW50KTtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdChhY3Rpb24sIHsgYWN0aW9uOiBhY3Rpb24sIGVycm9yOiBlcnJvciB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIENvbm5lY3Rpb247XG59KGRpc3BhdGNoZXIpKTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIGNvbm5lY3Rpb25fY29ubmVjdGlvbiA9IChjb25uZWN0aW9uX0Nvbm5lY3Rpb24pO1xuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb3JlL2Nvbm5lY3Rpb24vaGFuZHNoYWtlL2luZGV4LnRzXG5cblxuXG52YXIgaGFuZHNoYWtlX0hhbmRzaGFrZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSGFuZHNoYWtlKHRyYW5zcG9ydCwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy50cmFuc3BvcnQgPSB0cmFuc3BvcnQ7XG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICAgICAgdGhpcy5iaW5kTGlzdGVuZXJzKCk7XG4gICAgfVxuICAgIEhhbmRzaGFrZS5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudW5iaW5kTGlzdGVuZXJzKCk7XG4gICAgICAgIHRoaXMudHJhbnNwb3J0LmNsb3NlKCk7XG4gICAgfTtcbiAgICBIYW5kc2hha2UucHJvdG90eXBlLmJpbmRMaXN0ZW5lcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMub25NZXNzYWdlID0gZnVuY3Rpb24gKG0pIHtcbiAgICAgICAgICAgIF90aGlzLnVuYmluZExpc3RlbmVycygpO1xuICAgICAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gcHJvdG9jb2xfcHJvdG9jb2wucHJvY2Vzc0hhbmRzaGFrZShtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZmluaXNoKCdlcnJvcicsIHsgZXJyb3I6IGUgfSk7XG4gICAgICAgICAgICAgICAgX3RoaXMudHJhbnNwb3J0LmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlc3VsdC5hY3Rpb24gPT09ICdjb25uZWN0ZWQnKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZmluaXNoKCdjb25uZWN0ZWQnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb246IG5ldyBjb25uZWN0aW9uX2Nvbm5lY3Rpb24ocmVzdWx0LmlkLCBfdGhpcy50cmFuc3BvcnQpLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpdml0eVRpbWVvdXQ6IHJlc3VsdC5hY3Rpdml0eVRpbWVvdXRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIF90aGlzLmZpbmlzaChyZXN1bHQuYWN0aW9uLCB7IGVycm9yOiByZXN1bHQuZXJyb3IgfSk7XG4gICAgICAgICAgICAgICAgX3RoaXMudHJhbnNwb3J0LmNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub25DbG9zZWQgPSBmdW5jdGlvbiAoY2xvc2VFdmVudCkge1xuICAgICAgICAgICAgX3RoaXMudW5iaW5kTGlzdGVuZXJzKCk7XG4gICAgICAgICAgICB2YXIgYWN0aW9uID0gcHJvdG9jb2xfcHJvdG9jb2wuZ2V0Q2xvc2VBY3Rpb24oY2xvc2VFdmVudCkgfHwgJ2JhY2tvZmYnO1xuICAgICAgICAgICAgdmFyIGVycm9yID0gcHJvdG9jb2xfcHJvdG9jb2wuZ2V0Q2xvc2VFcnJvcihjbG9zZUV2ZW50KTtcbiAgICAgICAgICAgIF90aGlzLmZpbmlzaChhY3Rpb24sIHsgZXJyb3I6IGVycm9yIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnRyYW5zcG9ydC5iaW5kKCdtZXNzYWdlJywgdGhpcy5vbk1lc3NhZ2UpO1xuICAgICAgICB0aGlzLnRyYW5zcG9ydC5iaW5kKCdjbG9zZWQnLCB0aGlzLm9uQ2xvc2VkKTtcbiAgICB9O1xuICAgIEhhbmRzaGFrZS5wcm90b3R5cGUudW5iaW5kTGlzdGVuZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnRyYW5zcG9ydC51bmJpbmQoJ21lc3NhZ2UnLCB0aGlzLm9uTWVzc2FnZSk7XG4gICAgICAgIHRoaXMudHJhbnNwb3J0LnVuYmluZCgnY2xvc2VkJywgdGhpcy5vbkNsb3NlZCk7XG4gICAgfTtcbiAgICBIYW5kc2hha2UucHJvdG90eXBlLmZpbmlzaCA9IGZ1bmN0aW9uIChhY3Rpb24sIHBhcmFtcykge1xuICAgICAgICB0aGlzLmNhbGxiYWNrKGV4dGVuZCh7IHRyYW5zcG9ydDogdGhpcy50cmFuc3BvcnQsIGFjdGlvbjogYWN0aW9uIH0sIHBhcmFtcykpO1xuICAgIH07XG4gICAgcmV0dXJuIEhhbmRzaGFrZTtcbn0oKSk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBjb25uZWN0aW9uX2hhbmRzaGFrZSA9IChoYW5kc2hha2VfSGFuZHNoYWtlKTtcblxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29yZS90aW1lbGluZS90aW1lbGluZV9zZW5kZXIudHNcblxudmFyIHRpbWVsaW5lX3NlbmRlcl9UaW1lbGluZVNlbmRlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVGltZWxpbmVTZW5kZXIodGltZWxpbmUsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy50aW1lbGluZSA9IHRpbWVsaW5lO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIH1cbiAgICBUaW1lbGluZVNlbmRlci5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uICh1c2VUTFMsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICh0aGlzLnRpbWVsaW5lLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGltZWxpbmUuc2VuZChydW50aW1lLlRpbWVsaW5lVHJhbnNwb3J0LmdldEFnZW50KHRoaXMsIHVzZVRMUyksIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIHJldHVybiBUaW1lbGluZVNlbmRlcjtcbn0oKSk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciB0aW1lbGluZV9zZW5kZXIgPSAodGltZWxpbmVfc2VuZGVyX1RpbWVsaW5lU2VuZGVyKTtcblxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29yZS9jaGFubmVscy9jaGFubmVsLnRzXG52YXIgY2hhbm5lbF9leHRlbmRzID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5cblxuXG5cblxudmFyIGNoYW5uZWxfQ2hhbm5lbCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgY2hhbm5lbF9leHRlbmRzKENoYW5uZWwsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ2hhbm5lbChuYW1lLCBwdXNoZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZnVuY3Rpb24gKGV2ZW50LCBkYXRhKSB7XG4gICAgICAgICAgICBsb2dnZXIuZGVidWcoJ05vIGNhbGxiYWNrcyBvbiAnICsgbmFtZSArICcgZm9yICcgKyBldmVudCk7XG4gICAgICAgIH0pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICBfdGhpcy5wdXNoZXIgPSBwdXNoZXI7XG4gICAgICAgIF90aGlzLnN1YnNjcmliZWQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuc3Vic2NyaXB0aW9uUGVuZGluZyA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5zdWJzY3JpcHRpb25DYW5jZWxsZWQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBDaGFubmVsLnByb3RvdHlwZS5hdXRob3JpemUgPSBmdW5jdGlvbiAoc29ja2V0SWQsIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhudWxsLCB7IGF1dGg6ICcnIH0pO1xuICAgIH07XG4gICAgQ2hhbm5lbC5wcm90b3R5cGUudHJpZ2dlciA9IGZ1bmN0aW9uIChldmVudCwgZGF0YSkge1xuICAgICAgICBpZiAoZXZlbnQuaW5kZXhPZignY2xpZW50LScpICE9PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQmFkRXZlbnROYW1lKFwiRXZlbnQgJ1wiICsgZXZlbnQgKyBcIicgZG9lcyBub3Qgc3RhcnQgd2l0aCAnY2xpZW50LSdcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLnN1YnNjcmliZWQpIHtcbiAgICAgICAgICAgIHZhciBzdWZmaXggPSB1cmxfc3RvcmUuYnVpbGRMb2dTdWZmaXgoJ3RyaWdnZXJpbmdDbGllbnRFdmVudHMnKTtcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKFwiQ2xpZW50IGV2ZW50IHRyaWdnZXJlZCBiZWZvcmUgY2hhbm5lbCAnc3Vic2NyaXB0aW9uX3N1Y2NlZWRlZCcgZXZlbnQgLiBcIiArIHN1ZmZpeCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucHVzaGVyLnNlbmRfZXZlbnQoZXZlbnQsIGRhdGEsIHRoaXMubmFtZSk7XG4gICAgfTtcbiAgICBDaGFubmVsLnByb3RvdHlwZS5kaXNjb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnN1YnNjcmliZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25QZW5kaW5nID0gZmFsc2U7XG4gICAgfTtcbiAgICBDaGFubmVsLnByb3RvdHlwZS5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgZXZlbnROYW1lID0gZXZlbnQuZXZlbnQ7XG4gICAgICAgIHZhciBkYXRhID0gZXZlbnQuZGF0YTtcbiAgICAgICAgaWYgKGV2ZW50TmFtZSA9PT0gJ3B1c2hlcl9pbnRlcm5hbDpzdWJzY3JpcHRpb25fc3VjY2VlZGVkJykge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVTdWJzY3JpcHRpb25TdWNjZWVkZWRFdmVudChldmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZXZlbnROYW1lID09PSAncHVzaGVyX2ludGVybmFsOnN1YnNjcmlwdGlvbl9jb3VudCcpIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlU3Vic2NyaXB0aW9uQ291bnRFdmVudChldmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZXZlbnROYW1lLmluZGV4T2YoJ3B1c2hlcl9pbnRlcm5hbDonKSAhPT0gMCkge1xuICAgICAgICAgICAgdmFyIG1ldGFkYXRhID0ge307XG4gICAgICAgICAgICB0aGlzLmVtaXQoZXZlbnROYW1lLCBkYXRhLCBtZXRhZGF0YSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENoYW5uZWwucHJvdG90eXBlLmhhbmRsZVN1YnNjcmlwdGlvblN1Y2NlZWRlZEV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9uUGVuZGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnN1YnNjcmliZWQgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5zdWJzY3JpcHRpb25DYW5jZWxsZWQpIHtcbiAgICAgICAgICAgIHRoaXMucHVzaGVyLnVuc3Vic2NyaWJlKHRoaXMubmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3B1c2hlcjpzdWJzY3JpcHRpb25fc3VjY2VlZGVkJywgZXZlbnQuZGF0YSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENoYW5uZWwucHJvdG90eXBlLmhhbmRsZVN1YnNjcmlwdGlvbkNvdW50RXZlbnQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LmRhdGEuc3Vic2NyaXB0aW9uX2NvdW50KSB7XG4gICAgICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbkNvdW50ID0gZXZlbnQuZGF0YS5zdWJzY3JpcHRpb25fY291bnQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbWl0KCdwdXNoZXI6c3Vic2NyaXB0aW9uX2NvdW50JywgZXZlbnQuZGF0YSk7XG4gICAgfTtcbiAgICBDaGFubmVsLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLnN1YnNjcmliZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvblBlbmRpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbkNhbmNlbGxlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmF1dGhvcml6ZSh0aGlzLnB1c2hlci5jb25uZWN0aW9uLnNvY2tldF9pZCwgZnVuY3Rpb24gKGVycm9yLCBkYXRhKSB7XG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zdWJzY3JpcHRpb25QZW5kaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKGVycm9yLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIF90aGlzLmVtaXQoJ3B1c2hlcjpzdWJzY3JpcHRpb25fZXJyb3InLCBPYmplY3QuYXNzaWduKHt9LCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdBdXRoRXJyb3InLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZVxuICAgICAgICAgICAgICAgIH0sIGVycm9yIGluc3RhbmNlb2YgSFRUUEF1dGhFcnJvciA/IHsgc3RhdHVzOiBlcnJvci5zdGF0dXMgfSA6IHt9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5wdXNoZXIuc2VuZF9ldmVudCgncHVzaGVyOnN1YnNjcmliZScsIHtcbiAgICAgICAgICAgICAgICAgICAgYXV0aDogZGF0YS5hdXRoLFxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsX2RhdGE6IGRhdGEuY2hhbm5lbF9kYXRhLFxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsOiBfdGhpcy5uYW1lXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgQ2hhbm5lbC5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnB1c2hlci5zZW5kX2V2ZW50KCdwdXNoZXI6dW5zdWJzY3JpYmUnLCB7XG4gICAgICAgICAgICBjaGFubmVsOiB0aGlzLm5hbWVcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBDaGFubmVsLnByb3RvdHlwZS5jYW5jZWxTdWJzY3JpcHRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9uQ2FuY2VsbGVkID0gdHJ1ZTtcbiAgICB9O1xuICAgIENoYW5uZWwucHJvdG90eXBlLnJlaW5zdGF0ZVN1YnNjcmlwdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25DYW5jZWxsZWQgPSBmYWxzZTtcbiAgICB9O1xuICAgIHJldHVybiBDaGFubmVsO1xufShkaXNwYXRjaGVyKSk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBjaGFubmVsc19jaGFubmVsID0gKGNoYW5uZWxfQ2hhbm5lbCk7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvcmUvY2hhbm5lbHMvcHJpdmF0ZV9jaGFubmVsLnRzXG52YXIgcHJpdmF0ZV9jaGFubmVsX2V4dGVuZHMgPSAodW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcblxudmFyIFByaXZhdGVDaGFubmVsID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBwcml2YXRlX2NoYW5uZWxfZXh0ZW5kcyhQcml2YXRlQ2hhbm5lbCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBQcml2YXRlQ2hhbm5lbCgpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBQcml2YXRlQ2hhbm5lbC5wcm90b3R5cGUuYXV0aG9yaXplID0gZnVuY3Rpb24gKHNvY2tldElkLCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gdGhpcy5wdXNoZXIuY29uZmlnLmNoYW5uZWxBdXRob3JpemVyKHtcbiAgICAgICAgICAgIGNoYW5uZWxOYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICBzb2NrZXRJZDogc29ja2V0SWRcbiAgICAgICAgfSwgY2FsbGJhY2spO1xuICAgIH07XG4gICAgcmV0dXJuIFByaXZhdGVDaGFubmVsO1xufShjaGFubmVsc19jaGFubmVsKSk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBwcml2YXRlX2NoYW5uZWwgPSAoUHJpdmF0ZUNoYW5uZWwpO1xuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb3JlL2NoYW5uZWxzL21lbWJlcnMudHNcblxudmFyIG1lbWJlcnNfTWVtYmVycyA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTWVtYmVycygpIHtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cbiAgICBNZW1iZXJzLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLm1lbWJlcnMsIGlkKSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgaW5mbzogdGhpcy5tZW1iZXJzW2lkXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNZW1iZXJzLnByb3RvdHlwZS5lYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIG9iamVjdEFwcGx5KHRoaXMubWVtYmVycywgZnVuY3Rpb24gKG1lbWJlciwgaWQpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKF90aGlzLmdldChpZCkpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE1lbWJlcnMucHJvdG90eXBlLnNldE15SUQgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgdGhpcy5teUlEID0gaWQ7XG4gICAgfTtcbiAgICBNZW1iZXJzLnByb3RvdHlwZS5vblN1YnNjcmlwdGlvbiA9IGZ1bmN0aW9uIChzdWJzY3JpcHRpb25EYXRhKSB7XG4gICAgICAgIHRoaXMubWVtYmVycyA9IHN1YnNjcmlwdGlvbkRhdGEucHJlc2VuY2UuaGFzaDtcbiAgICAgICAgdGhpcy5jb3VudCA9IHN1YnNjcmlwdGlvbkRhdGEucHJlc2VuY2UuY291bnQ7XG4gICAgICAgIHRoaXMubWUgPSB0aGlzLmdldCh0aGlzLm15SUQpO1xuICAgIH07XG4gICAgTWVtYmVycy5wcm90b3R5cGUuYWRkTWVtYmVyID0gZnVuY3Rpb24gKG1lbWJlckRhdGEpIHtcbiAgICAgICAgaWYgKHRoaXMuZ2V0KG1lbWJlckRhdGEudXNlcl9pZCkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuY291bnQrKztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1lbWJlcnNbbWVtYmVyRGF0YS51c2VyX2lkXSA9IG1lbWJlckRhdGEudXNlcl9pbmZvO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXQobWVtYmVyRGF0YS51c2VyX2lkKTtcbiAgICB9O1xuICAgIE1lbWJlcnMucHJvdG90eXBlLnJlbW92ZU1lbWJlciA9IGZ1bmN0aW9uIChtZW1iZXJEYXRhKSB7XG4gICAgICAgIHZhciBtZW1iZXIgPSB0aGlzLmdldChtZW1iZXJEYXRhLnVzZXJfaWQpO1xuICAgICAgICBpZiAobWVtYmVyKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5tZW1iZXJzW21lbWJlckRhdGEudXNlcl9pZF07XG4gICAgICAgICAgICB0aGlzLmNvdW50LS07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lbWJlcjtcbiAgICB9O1xuICAgIE1lbWJlcnMucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLm1lbWJlcnMgPSB7fTtcbiAgICAgICAgdGhpcy5jb3VudCA9IDA7XG4gICAgICAgIHRoaXMubXlJRCA9IG51bGw7XG4gICAgICAgIHRoaXMubWUgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIE1lbWJlcnM7XG59KCkpO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgbWVtYmVycyA9IChtZW1iZXJzX01lbWJlcnMpO1xuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb3JlL2NoYW5uZWxzL3ByZXNlbmNlX2NoYW5uZWwudHNcbnZhciBwcmVzZW5jZV9jaGFubmVsX2V4dGVuZHMgPSAodW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX2F3YWl0ZXIgPSAodW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2dlbmVyYXRvciA9ICh1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgfVxufTtcblxuXG5cblxudmFyIHByZXNlbmNlX2NoYW5uZWxfUHJlc2VuY2VDaGFubmVsID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBwcmVzZW5jZV9jaGFubmVsX2V4dGVuZHMoUHJlc2VuY2VDaGFubmVsLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFByZXNlbmNlQ2hhbm5lbChuYW1lLCBwdXNoZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbmFtZSwgcHVzaGVyKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5tZW1iZXJzID0gbmV3IG1lbWJlcnMoKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBQcmVzZW5jZUNoYW5uZWwucHJvdG90eXBlLmF1dGhvcml6ZSA9IGZ1bmN0aW9uIChzb2NrZXRJZCwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5hdXRob3JpemUuY2FsbCh0aGlzLCBzb2NrZXRJZCwgZnVuY3Rpb24gKGVycm9yLCBhdXRoRGF0YSkgeyByZXR1cm4gX19hd2FpdGVyKF90aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGNoYW5uZWxEYXRhLCBzdWZmaXg7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISFlcnJvcikgcmV0dXJuIFszLCAzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhEYXRhID0gYXV0aERhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShhdXRoRGF0YS5jaGFubmVsX2RhdGEgIT0gbnVsbCkpIHJldHVybiBbMywgMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVsRGF0YSA9IEpTT04ucGFyc2UoYXV0aERhdGEuY2hhbm5lbF9kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVtYmVycy5zZXRNeUlEKGNoYW5uZWxEYXRhLnVzZXJfaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszLCAzXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOiByZXR1cm4gWzQsIHRoaXMucHVzaGVyLnVzZXIuc2lnbmluRG9uZVByb21pc2VdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wdXNoZXIudXNlci51c2VyX2RhdGEgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVtYmVycy5zZXRNeUlEKHRoaXMucHVzaGVyLnVzZXIudXNlcl9kYXRhLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1ZmZpeCA9IHVybF9zdG9yZS5idWlsZExvZ1N1ZmZpeCgnYXV0aG9yaXphdGlvbkVuZHBvaW50Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKFwiSW52YWxpZCBhdXRoIHJlc3BvbnNlIGZvciBjaGFubmVsICdcIiArIHRoaXMubmFtZSArIFwiJywgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXCJleHBlY3RlZCAnY2hhbm5lbF9kYXRhJyBmaWVsZC4gXCIgKyBzdWZmaXggKyBcIiwgXCIpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJvciB0aGUgdXNlciBzaG91bGQgYmUgc2lnbmVkIGluLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygnSW52YWxpZCBhdXRoIHJlc3BvbnNlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyb3IsIGF1dGhEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMl07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pOyB9KTtcbiAgICB9O1xuICAgIFByZXNlbmNlQ2hhbm5lbC5wcm90b3R5cGUuaGFuZGxlRXZlbnQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIGV2ZW50TmFtZSA9IGV2ZW50LmV2ZW50O1xuICAgICAgICBpZiAoZXZlbnROYW1lLmluZGV4T2YoJ3B1c2hlcl9pbnRlcm5hbDonKSA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVJbnRlcm5hbEV2ZW50KGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gZXZlbnQuZGF0YTtcbiAgICAgICAgICAgIHZhciBtZXRhZGF0YSA9IHt9O1xuICAgICAgICAgICAgaWYgKGV2ZW50LnVzZXJfaWQpIHtcbiAgICAgICAgICAgICAgICBtZXRhZGF0YS51c2VyX2lkID0gZXZlbnQudXNlcl9pZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZW1pdChldmVudE5hbWUsIGRhdGEsIG1ldGFkYXRhKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUHJlc2VuY2VDaGFubmVsLnByb3RvdHlwZS5oYW5kbGVJbnRlcm5hbEV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBldmVudE5hbWUgPSBldmVudC5ldmVudDtcbiAgICAgICAgdmFyIGRhdGEgPSBldmVudC5kYXRhO1xuICAgICAgICBzd2l0Y2ggKGV2ZW50TmFtZSkge1xuICAgICAgICAgICAgY2FzZSAncHVzaGVyX2ludGVybmFsOnN1YnNjcmlwdGlvbl9zdWNjZWVkZWQnOlxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlU3Vic2NyaXB0aW9uU3VjY2VlZGVkRXZlbnQoZXZlbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncHVzaGVyX2ludGVybmFsOnN1YnNjcmlwdGlvbl9jb3VudCc6XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVTdWJzY3JpcHRpb25Db3VudEV2ZW50KGV2ZW50KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3B1c2hlcl9pbnRlcm5hbDptZW1iZXJfYWRkZWQnOlxuICAgICAgICAgICAgICAgIHZhciBhZGRlZE1lbWJlciA9IHRoaXMubWVtYmVycy5hZGRNZW1iZXIoZGF0YSk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdwdXNoZXI6bWVtYmVyX2FkZGVkJywgYWRkZWRNZW1iZXIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncHVzaGVyX2ludGVybmFsOm1lbWJlcl9yZW1vdmVkJzpcbiAgICAgICAgICAgICAgICB2YXIgcmVtb3ZlZE1lbWJlciA9IHRoaXMubWVtYmVycy5yZW1vdmVNZW1iZXIoZGF0YSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlbW92ZWRNZW1iZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdwdXNoZXI6bWVtYmVyX3JlbW92ZWQnLCByZW1vdmVkTWVtYmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFByZXNlbmNlQ2hhbm5lbC5wcm90b3R5cGUuaGFuZGxlU3Vic2NyaXB0aW9uU3VjY2VlZGVkRXZlbnQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25QZW5kaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlZCA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLnN1YnNjcmlwdGlvbkNhbmNlbGxlZCkge1xuICAgICAgICAgICAgdGhpcy5wdXNoZXIudW5zdWJzY3JpYmUodGhpcy5uYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubWVtYmVycy5vblN1YnNjcmlwdGlvbihldmVudC5kYXRhKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgncHVzaGVyOnN1YnNjcmlwdGlvbl9zdWNjZWVkZWQnLCB0aGlzLm1lbWJlcnMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQcmVzZW5jZUNoYW5uZWwucHJvdG90eXBlLmRpc2Nvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubWVtYmVycy5yZXNldCgpO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRpc2Nvbm5lY3QuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIHJldHVybiBQcmVzZW5jZUNoYW5uZWw7XG59KHByaXZhdGVfY2hhbm5lbCkpO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgcHJlc2VuY2VfY2hhbm5lbCA9IChwcmVzZW5jZV9jaGFubmVsX1ByZXNlbmNlQ2hhbm5lbCk7XG5cbi8vIEVYVEVSTkFMIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvQHN0YWJsZWxpYi91dGY4L2xpYi91dGY4LmpzXG52YXIgdXRmOCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbi8vIEVYVEVSTkFMIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvQHN0YWJsZWxpYi9iYXNlNjQvbGliL2Jhc2U2NC5qc1xudmFyIGJhc2U2NCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvcmUvY2hhbm5lbHMvZW5jcnlwdGVkX2NoYW5uZWwudHNcbnZhciBlbmNyeXB0ZWRfY2hhbm5lbF9leHRlbmRzID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5cblxuXG5cblxudmFyIGVuY3J5cHRlZF9jaGFubmVsX0VuY3J5cHRlZENoYW5uZWwgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIGVuY3J5cHRlZF9jaGFubmVsX2V4dGVuZHMoRW5jcnlwdGVkQ2hhbm5lbCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBFbmNyeXB0ZWRDaGFubmVsKG5hbWUsIHB1c2hlciwgbmFjbCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBuYW1lLCBwdXNoZXIpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmtleSA9IG51bGw7XG4gICAgICAgIF90aGlzLm5hY2wgPSBuYWNsO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEVuY3J5cHRlZENoYW5uZWwucHJvdG90eXBlLmF1dGhvcml6ZSA9IGZ1bmN0aW9uIChzb2NrZXRJZCwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5hdXRob3JpemUuY2FsbCh0aGlzLCBzb2NrZXRJZCwgZnVuY3Rpb24gKGVycm9yLCBhdXRoRGF0YSkge1xuICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyb3IsIGF1dGhEYXRhKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc2hhcmVkU2VjcmV0ID0gYXV0aERhdGFbJ3NoYXJlZF9zZWNyZXQnXTtcbiAgICAgICAgICAgIGlmICghc2hhcmVkU2VjcmV0KSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKFwiTm8gc2hhcmVkX3NlY3JldCBrZXkgaW4gYXV0aCBwYXlsb2FkIGZvciBlbmNyeXB0ZWQgY2hhbm5lbDogXCIgKyBfdGhpcy5uYW1lKSwgbnVsbCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMua2V5ID0gT2JqZWN0KGJhc2U2NFtcImRlY29kZVwiXSkoc2hhcmVkU2VjcmV0KTtcbiAgICAgICAgICAgIGRlbGV0ZSBhdXRoRGF0YVsnc2hhcmVkX3NlY3JldCddO1xuICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgYXV0aERhdGEpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEVuY3J5cHRlZENoYW5uZWwucHJvdG90eXBlLnRyaWdnZXIgPSBmdW5jdGlvbiAoZXZlbnQsIGRhdGEpIHtcbiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkRmVhdHVyZSgnQ2xpZW50IGV2ZW50cyBhcmUgbm90IGN1cnJlbnRseSBzdXBwb3J0ZWQgZm9yIGVuY3J5cHRlZCBjaGFubmVscycpO1xuICAgIH07XG4gICAgRW5jcnlwdGVkQ2hhbm5lbC5wcm90b3R5cGUuaGFuZGxlRXZlbnQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIGV2ZW50TmFtZSA9IGV2ZW50LmV2ZW50O1xuICAgICAgICB2YXIgZGF0YSA9IGV2ZW50LmRhdGE7XG4gICAgICAgIGlmIChldmVudE5hbWUuaW5kZXhPZigncHVzaGVyX2ludGVybmFsOicpID09PSAwIHx8XG4gICAgICAgICAgICBldmVudE5hbWUuaW5kZXhPZigncHVzaGVyOicpID09PSAwKSB7XG4gICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLmhhbmRsZUV2ZW50LmNhbGwodGhpcywgZXZlbnQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGFuZGxlRW5jcnlwdGVkRXZlbnQoZXZlbnROYW1lLCBkYXRhKTtcbiAgICB9O1xuICAgIEVuY3J5cHRlZENoYW5uZWwucHJvdG90eXBlLmhhbmRsZUVuY3J5cHRlZEV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50LCBkYXRhKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy5rZXkpIHtcbiAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZygnUmVjZWl2ZWQgZW5jcnlwdGVkIGV2ZW50IGJlZm9yZSBrZXkgaGFzIGJlZW4gcmV0cmlldmVkIGZyb20gdGhlIGF1dGhFbmRwb2ludCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZGF0YS5jaXBoZXJ0ZXh0IHx8ICFkYXRhLm5vbmNlKSB7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoJ1VuZXhwZWN0ZWQgZm9ybWF0IGZvciBlbmNyeXB0ZWQgZXZlbnQsIGV4cGVjdGVkIG9iamVjdCB3aXRoIGBjaXBoZXJ0ZXh0YCBhbmQgYG5vbmNlYCBmaWVsZHMsIGdvdDogJyArXG4gICAgICAgICAgICAgICAgZGF0YSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNpcGhlclRleHQgPSBPYmplY3QoYmFzZTY0W1wiZGVjb2RlXCJdKShkYXRhLmNpcGhlcnRleHQpO1xuICAgICAgICBpZiAoY2lwaGVyVGV4dC5sZW5ndGggPCB0aGlzLm5hY2wuc2VjcmV0Ym94Lm92ZXJoZWFkTGVuZ3RoKSB7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoXCJFeHBlY3RlZCBlbmNyeXB0ZWQgZXZlbnQgY2lwaGVydGV4dCBsZW5ndGggdG8gYmUgXCIgKyB0aGlzLm5hY2wuc2VjcmV0Ym94Lm92ZXJoZWFkTGVuZ3RoICsgXCIsIGdvdDogXCIgKyBjaXBoZXJUZXh0Lmxlbmd0aCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5vbmNlID0gT2JqZWN0KGJhc2U2NFtcImRlY29kZVwiXSkoZGF0YS5ub25jZSk7XG4gICAgICAgIGlmIChub25jZS5sZW5ndGggPCB0aGlzLm5hY2wuc2VjcmV0Ym94Lm5vbmNlTGVuZ3RoKSB7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoXCJFeHBlY3RlZCBlbmNyeXB0ZWQgZXZlbnQgbm9uY2UgbGVuZ3RoIHRvIGJlIFwiICsgdGhpcy5uYWNsLnNlY3JldGJveC5ub25jZUxlbmd0aCArIFwiLCBnb3Q6IFwiICsgbm9uY2UubGVuZ3RoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYnl0ZXMgPSB0aGlzLm5hY2wuc2VjcmV0Ym94Lm9wZW4oY2lwaGVyVGV4dCwgbm9uY2UsIHRoaXMua2V5KTtcbiAgICAgICAgaWYgKGJ5dGVzID09PSBudWxsKSB7XG4gICAgICAgICAgICBsb2dnZXIuZGVidWcoJ0ZhaWxlZCB0byBkZWNyeXB0IGFuIGV2ZW50LCBwcm9iYWJseSBiZWNhdXNlIGl0IHdhcyBlbmNyeXB0ZWQgd2l0aCBhIGRpZmZlcmVudCBrZXkuIEZldGNoaW5nIGEgbmV3IGtleSBmcm9tIHRoZSBhdXRoRW5kcG9pbnQuLi4nKTtcbiAgICAgICAgICAgIHRoaXMuYXV0aG9yaXplKHRoaXMucHVzaGVyLmNvbm5lY3Rpb24uc29ja2V0X2lkLCBmdW5jdGlvbiAoZXJyb3IsIGF1dGhEYXRhKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlci5lcnJvcihcIkZhaWxlZCB0byBtYWtlIGEgcmVxdWVzdCB0byB0aGUgYXV0aEVuZHBvaW50OiBcIiArIGF1dGhEYXRhICsgXCIuIFVuYWJsZSB0byBmZXRjaCBuZXcga2V5LCBzbyBkcm9wcGluZyBlbmNyeXB0ZWQgZXZlbnRcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnl0ZXMgPSBfdGhpcy5uYWNsLnNlY3JldGJveC5vcGVuKGNpcGhlclRleHQsIG5vbmNlLCBfdGhpcy5rZXkpO1xuICAgICAgICAgICAgICAgIGlmIChieXRlcyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXIuZXJyb3IoXCJGYWlsZWQgdG8gZGVjcnlwdCBldmVudCB3aXRoIG5ldyBrZXkuIERyb3BwaW5nIGVuY3J5cHRlZCBldmVudFwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGhpcy5lbWl0KGV2ZW50LCBfdGhpcy5nZXREYXRhVG9FbWl0KGJ5dGVzKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbWl0KGV2ZW50LCB0aGlzLmdldERhdGFUb0VtaXQoYnl0ZXMpKTtcbiAgICB9O1xuICAgIEVuY3J5cHRlZENoYW5uZWwucHJvdG90eXBlLmdldERhdGFUb0VtaXQgPSBmdW5jdGlvbiAoYnl0ZXMpIHtcbiAgICAgICAgdmFyIHJhdyA9IE9iamVjdCh1dGY4W1wiZGVjb2RlXCJdKShieXRlcyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShyYXcpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChfYSkge1xuICAgICAgICAgICAgcmV0dXJuIHJhdztcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEVuY3J5cHRlZENoYW5uZWw7XG59KHByaXZhdGVfY2hhbm5lbCkpO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgZW5jcnlwdGVkX2NoYW5uZWwgPSAoZW5jcnlwdGVkX2NoYW5uZWxfRW5jcnlwdGVkQ2hhbm5lbCk7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvcmUvY29ubmVjdGlvbi9jb25uZWN0aW9uX21hbmFnZXIudHNcbnZhciBjb25uZWN0aW9uX21hbmFnZXJfZXh0ZW5kcyA9ICh1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuXG5cblxuXG5cbnZhciBjb25uZWN0aW9uX21hbmFnZXJfQ29ubmVjdGlvbk1hbmFnZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIGNvbm5lY3Rpb25fbWFuYWdlcl9leHRlbmRzKENvbm5lY3Rpb25NYW5hZ2VyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENvbm5lY3Rpb25NYW5hZ2VyKGtleSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zdGF0ZSA9ICdpbml0aWFsaXplZCc7XG4gICAgICAgIF90aGlzLmNvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICBfdGhpcy5rZXkgPSBrZXk7XG4gICAgICAgIF90aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICBfdGhpcy50aW1lbGluZSA9IF90aGlzLm9wdGlvbnMudGltZWxpbmU7XG4gICAgICAgIF90aGlzLnVzaW5nVExTID0gX3RoaXMub3B0aW9ucy51c2VUTFM7XG4gICAgICAgIF90aGlzLmVycm9yQ2FsbGJhY2tzID0gX3RoaXMuYnVpbGRFcnJvckNhbGxiYWNrcygpO1xuICAgICAgICBfdGhpcy5jb25uZWN0aW9uQ2FsbGJhY2tzID0gX3RoaXMuYnVpbGRDb25uZWN0aW9uQ2FsbGJhY2tzKF90aGlzLmVycm9yQ2FsbGJhY2tzKTtcbiAgICAgICAgX3RoaXMuaGFuZHNoYWtlQ2FsbGJhY2tzID0gX3RoaXMuYnVpbGRIYW5kc2hha2VDYWxsYmFja3MoX3RoaXMuZXJyb3JDYWxsYmFja3MpO1xuICAgICAgICB2YXIgTmV0d29yayA9IHJ1bnRpbWUuZ2V0TmV0d29yaygpO1xuICAgICAgICBOZXR3b3JrLmJpbmQoJ29ubGluZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLnRpbWVsaW5lLmluZm8oeyBuZXRpbmZvOiAnb25saW5lJyB9KTtcbiAgICAgICAgICAgIGlmIChfdGhpcy5zdGF0ZSA9PT0gJ2Nvbm5lY3RpbmcnIHx8IF90aGlzLnN0YXRlID09PSAndW5hdmFpbGFibGUnKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucmV0cnlJbigwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIE5ldHdvcmsuYmluZCgnb2ZmbGluZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLnRpbWVsaW5lLmluZm8oeyBuZXRpbmZvOiAnb2ZmbGluZScgfSk7XG4gICAgICAgICAgICBpZiAoX3RoaXMuY29ubmVjdGlvbikge1xuICAgICAgICAgICAgICAgIF90aGlzLnNlbmRBY3Rpdml0eUNoZWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBfdGhpcy51cGRhdGVTdHJhdGVneSgpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIENvbm5lY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5jb25uZWN0aW9uIHx8IHRoaXMucnVubmVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLnN0cmF0ZWd5LmlzU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdGUoJ2ZhaWxlZCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlU3RhdGUoJ2Nvbm5lY3RpbmcnKTtcbiAgICAgICAgdGhpcy5zdGFydENvbm5lY3RpbmcoKTtcbiAgICAgICAgdGhpcy5zZXRVbmF2YWlsYWJsZVRpbWVyKCk7XG4gICAgfTtcbiAgICBDb25uZWN0aW9uTWFuYWdlci5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbm5lY3Rpb24uc2VuZChkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ29ubmVjdGlvbk1hbmFnZXIucHJvdG90eXBlLnNlbmRfZXZlbnQgPSBmdW5jdGlvbiAobmFtZSwgZGF0YSwgY2hhbm5lbCkge1xuICAgICAgICBpZiAodGhpcy5jb25uZWN0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb25uZWN0aW9uLnNlbmRfZXZlbnQobmFtZSwgZGF0YSwgY2hhbm5lbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENvbm5lY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5kaXNjb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRpc2Nvbm5lY3RJbnRlcm5hbGx5KCk7XG4gICAgICAgIHRoaXMudXBkYXRlU3RhdGUoJ2Rpc2Nvbm5lY3RlZCcpO1xuICAgIH07XG4gICAgQ29ubmVjdGlvbk1hbmFnZXIucHJvdG90eXBlLmlzVXNpbmdUTFMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVzaW5nVExTO1xuICAgIH07XG4gICAgQ29ubmVjdGlvbk1hbmFnZXIucHJvdG90eXBlLnN0YXJ0Q29ubmVjdGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKGVycm9yLCBoYW5kc2hha2UpIHtcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgIF90aGlzLnJ1bm5lciA9IF90aGlzLnN0cmF0ZWd5LmNvbm5lY3QoMCwgY2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhbmRzaGFrZS5hY3Rpb24gPT09ICdlcnJvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZW1pdCgnZXJyb3InLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnSGFuZHNoYWtlRXJyb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGhhbmRzaGFrZS5lcnJvclxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMudGltZWxpbmUuZXJyb3IoeyBoYW5kc2hha2VFcnJvcjogaGFuZHNoYWtlLmVycm9yIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWJvcnRDb25uZWN0aW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmhhbmRzaGFrZUNhbGxiYWNrc1toYW5kc2hha2UuYWN0aW9uXShoYW5kc2hha2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5ydW5uZXIgPSB0aGlzLnN0cmF0ZWd5LmNvbm5lY3QoMCwgY2FsbGJhY2spO1xuICAgIH07XG4gICAgQ29ubmVjdGlvbk1hbmFnZXIucHJvdG90eXBlLmFib3J0Q29ubmVjdGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMucnVubmVyKSB7XG4gICAgICAgICAgICB0aGlzLnJ1bm5lci5hYm9ydCgpO1xuICAgICAgICAgICAgdGhpcy5ydW5uZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDb25uZWN0aW9uTWFuYWdlci5wcm90b3R5cGUuZGlzY29ubmVjdEludGVybmFsbHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuYWJvcnRDb25uZWN0aW5nKCk7XG4gICAgICAgIHRoaXMuY2xlYXJSZXRyeVRpbWVyKCk7XG4gICAgICAgIHRoaXMuY2xlYXJVbmF2YWlsYWJsZVRpbWVyKCk7XG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgIHZhciBjb25uZWN0aW9uID0gdGhpcy5hYmFuZG9uQ29ubmVjdGlvbigpO1xuICAgICAgICAgICAgY29ubmVjdGlvbi5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDb25uZWN0aW9uTWFuYWdlci5wcm90b3R5cGUudXBkYXRlU3RyYXRlZ3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc3RyYXRlZ3kgPSB0aGlzLm9wdGlvbnMuZ2V0U3RyYXRlZ3koe1xuICAgICAgICAgICAga2V5OiB0aGlzLmtleSxcbiAgICAgICAgICAgIHRpbWVsaW5lOiB0aGlzLnRpbWVsaW5lLFxuICAgICAgICAgICAgdXNlVExTOiB0aGlzLnVzaW5nVExTXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgQ29ubmVjdGlvbk1hbmFnZXIucHJvdG90eXBlLnJldHJ5SW4gPSBmdW5jdGlvbiAoZGVsYXkpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy50aW1lbGluZS5pbmZvKHsgYWN0aW9uOiAncmV0cnknLCBkZWxheTogZGVsYXkgfSk7XG4gICAgICAgIGlmIChkZWxheSA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY29ubmVjdGluZ19pbicsIE1hdGgucm91bmQoZGVsYXkgLyAxMDAwKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZXRyeVRpbWVyID0gbmV3IE9uZU9mZlRpbWVyKGRlbGF5IHx8IDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmRpc2Nvbm5lY3RJbnRlcm5hbGx5KCk7XG4gICAgICAgICAgICBfdGhpcy5jb25uZWN0KCk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgQ29ubmVjdGlvbk1hbmFnZXIucHJvdG90eXBlLmNsZWFyUmV0cnlUaW1lciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMucmV0cnlUaW1lcikge1xuICAgICAgICAgICAgdGhpcy5yZXRyeVRpbWVyLmVuc3VyZUFib3J0ZWQoKTtcbiAgICAgICAgICAgIHRoaXMucmV0cnlUaW1lciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENvbm5lY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5zZXRVbmF2YWlsYWJsZVRpbWVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnVuYXZhaWxhYmxlVGltZXIgPSBuZXcgT25lT2ZmVGltZXIodGhpcy5vcHRpb25zLnVuYXZhaWxhYmxlVGltZW91dCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMudXBkYXRlU3RhdGUoJ3VuYXZhaWxhYmxlJyk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgQ29ubmVjdGlvbk1hbmFnZXIucHJvdG90eXBlLmNsZWFyVW5hdmFpbGFibGVUaW1lciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMudW5hdmFpbGFibGVUaW1lcikge1xuICAgICAgICAgICAgdGhpcy51bmF2YWlsYWJsZVRpbWVyLmVuc3VyZUFib3J0ZWQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ29ubmVjdGlvbk1hbmFnZXIucHJvdG90eXBlLnNlbmRBY3Rpdml0eUNoZWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnN0b3BBY3Rpdml0eUNoZWNrKCk7XG4gICAgICAgIHRoaXMuY29ubmVjdGlvbi5waW5nKCk7XG4gICAgICAgIHRoaXMuYWN0aXZpdHlUaW1lciA9IG5ldyBPbmVPZmZUaW1lcih0aGlzLm9wdGlvbnMucG9uZ1RpbWVvdXQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLnRpbWVsaW5lLmVycm9yKHsgcG9uZ190aW1lZF9vdXQ6IF90aGlzLm9wdGlvbnMucG9uZ1RpbWVvdXQgfSk7XG4gICAgICAgICAgICBfdGhpcy5yZXRyeUluKDApO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIENvbm5lY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5yZXNldEFjdGl2aXR5Q2hlY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuc3RvcEFjdGl2aXR5Q2hlY2soKTtcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvbiAmJiAhdGhpcy5jb25uZWN0aW9uLmhhbmRsZXNBY3Rpdml0eUNoZWNrcygpKSB7XG4gICAgICAgICAgICB0aGlzLmFjdGl2aXR5VGltZXIgPSBuZXcgT25lT2ZmVGltZXIodGhpcy5hY3Rpdml0eVRpbWVvdXQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zZW5kQWN0aXZpdHlDaGVjaygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENvbm5lY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5zdG9wQWN0aXZpdHlDaGVjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZpdHlUaW1lcikge1xuICAgICAgICAgICAgdGhpcy5hY3Rpdml0eVRpbWVyLmVuc3VyZUFib3J0ZWQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ29ubmVjdGlvbk1hbmFnZXIucHJvdG90eXBlLmJ1aWxkQ29ubmVjdGlvbkNhbGxiYWNrcyA9IGZ1bmN0aW9uIChlcnJvckNhbGxiYWNrcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gZXh0ZW5kKHt9LCBlcnJvckNhbGxiYWNrcywge1xuICAgICAgICAgICAgbWVzc2FnZTogZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5yZXNldEFjdGl2aXR5Q2hlY2soKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5lbWl0KCdtZXNzYWdlJywgbWVzc2FnZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnNlbmRfZXZlbnQoJ3B1c2hlcjpwb25nJywge30pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFjdGl2aXR5OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucmVzZXRBY3Rpdml0eUNoZWNrKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgIF90aGlzLmVtaXQoJ2Vycm9yJywgZXJyb3IpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNsb3NlZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmFiYW5kb25Db25uZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnNob3VsZFJldHJ5KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucmV0cnlJbigxMDAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgQ29ubmVjdGlvbk1hbmFnZXIucHJvdG90eXBlLmJ1aWxkSGFuZHNoYWtlQ2FsbGJhY2tzID0gZnVuY3Rpb24gKGVycm9yQ2FsbGJhY2tzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHJldHVybiBleHRlbmQoe30sIGVycm9yQ2FsbGJhY2tzLCB7XG4gICAgICAgICAgICBjb25uZWN0ZWQ6IGZ1bmN0aW9uIChoYW5kc2hha2UpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5hY3Rpdml0eVRpbWVvdXQgPSBNYXRoLm1pbihfdGhpcy5vcHRpb25zLmFjdGl2aXR5VGltZW91dCwgaGFuZHNoYWtlLmFjdGl2aXR5VGltZW91dCwgaGFuZHNoYWtlLmNvbm5lY3Rpb24uYWN0aXZpdHlUaW1lb3V0IHx8IEluZmluaXR5KTtcbiAgICAgICAgICAgICAgICBfdGhpcy5jbGVhclVuYXZhaWxhYmxlVGltZXIoKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRDb25uZWN0aW9uKGhhbmRzaGFrZS5jb25uZWN0aW9uKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5zb2NrZXRfaWQgPSBfdGhpcy5jb25uZWN0aW9uLmlkO1xuICAgICAgICAgICAgICAgIF90aGlzLnVwZGF0ZVN0YXRlKCdjb25uZWN0ZWQnLCB7IHNvY2tldF9pZDogX3RoaXMuc29ja2V0X2lkIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIENvbm5lY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5idWlsZEVycm9yQ2FsbGJhY2tzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgd2l0aEVycm9yRW1pdHRlZCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmVtaXQoJ2Vycm9yJywgeyB0eXBlOiAnV2ViU29ja2V0RXJyb3InLCBlcnJvcjogcmVzdWx0LmVycm9yIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYWxsYmFjayhyZXN1bHQpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRsc19vbmx5OiB3aXRoRXJyb3JFbWl0dGVkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy51c2luZ1RMUyA9IHRydWU7XG4gICAgICAgICAgICAgICAgX3RoaXMudXBkYXRlU3RyYXRlZ3koKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5yZXRyeUluKDApO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICByZWZ1c2VkOiB3aXRoRXJyb3JFbWl0dGVkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGJhY2tvZmY6IHdpdGhFcnJvckVtaXR0ZWQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnJldHJ5SW4oMTAwMCk7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHJldHJ5OiB3aXRoRXJyb3JFbWl0dGVkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5yZXRyeUluKDApO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIENvbm5lY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5zZXRDb25uZWN0aW9uID0gZnVuY3Rpb24gKGNvbm5lY3Rpb24pIHtcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uID0gY29ubmVjdGlvbjtcbiAgICAgICAgZm9yICh2YXIgZXZlbnQgaW4gdGhpcy5jb25uZWN0aW9uQ2FsbGJhY2tzKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb24uYmluZChldmVudCwgdGhpcy5jb25uZWN0aW9uQ2FsbGJhY2tzW2V2ZW50XSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZXNldEFjdGl2aXR5Q2hlY2soKTtcbiAgICB9O1xuICAgIENvbm5lY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5hYmFuZG9uQ29ubmVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0b3BBY3Rpdml0eUNoZWNrKCk7XG4gICAgICAgIGZvciAodmFyIGV2ZW50IGluIHRoaXMuY29ubmVjdGlvbkNhbGxiYWNrcykge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uLnVuYmluZChldmVudCwgdGhpcy5jb25uZWN0aW9uQ2FsbGJhY2tzW2V2ZW50XSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbm5lY3Rpb24gPSB0aGlzLmNvbm5lY3Rpb247XG4gICAgICAgIHRoaXMuY29ubmVjdGlvbiA9IG51bGw7XG4gICAgICAgIHJldHVybiBjb25uZWN0aW9uO1xuICAgIH07XG4gICAgQ29ubmVjdGlvbk1hbmFnZXIucHJvdG90eXBlLnVwZGF0ZVN0YXRlID0gZnVuY3Rpb24gKG5ld1N0YXRlLCBkYXRhKSB7XG4gICAgICAgIHZhciBwcmV2aW91c1N0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IG5ld1N0YXRlO1xuICAgICAgICBpZiAocHJldmlvdXNTdGF0ZSAhPT0gbmV3U3RhdGUpIHtcbiAgICAgICAgICAgIHZhciBuZXdTdGF0ZURlc2NyaXB0aW9uID0gbmV3U3RhdGU7XG4gICAgICAgICAgICBpZiAobmV3U3RhdGVEZXNjcmlwdGlvbiA9PT0gJ2Nvbm5lY3RlZCcpIHtcbiAgICAgICAgICAgICAgICBuZXdTdGF0ZURlc2NyaXB0aW9uICs9ICcgd2l0aCBuZXcgc29ja2V0IElEICcgKyBkYXRhLnNvY2tldF9pZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZygnU3RhdGUgY2hhbmdlZCcsIHByZXZpb3VzU3RhdGUgKyAnIC0+ICcgKyBuZXdTdGF0ZURlc2NyaXB0aW9uKTtcbiAgICAgICAgICAgIHRoaXMudGltZWxpbmUuaW5mbyh7IHN0YXRlOiBuZXdTdGF0ZSwgcGFyYW1zOiBkYXRhIH0pO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdzdGF0ZV9jaGFuZ2UnLCB7IHByZXZpb3VzOiBwcmV2aW91c1N0YXRlLCBjdXJyZW50OiBuZXdTdGF0ZSB9KTtcbiAgICAgICAgICAgIHRoaXMuZW1pdChuZXdTdGF0ZSwgZGF0YSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENvbm5lY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5zaG91bGRSZXRyeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUgPT09ICdjb25uZWN0aW5nJyB8fCB0aGlzLnN0YXRlID09PSAnY29ubmVjdGVkJztcbiAgICB9O1xuICAgIHJldHVybiBDb25uZWN0aW9uTWFuYWdlcjtcbn0oZGlzcGF0Y2hlcikpO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgY29ubmVjdGlvbl9tYW5hZ2VyID0gKGNvbm5lY3Rpb25fbWFuYWdlcl9Db25uZWN0aW9uTWFuYWdlcik7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvcmUvY2hhbm5lbHMvY2hhbm5lbHMudHNcblxuXG5cblxudmFyIGNoYW5uZWxzX0NoYW5uZWxzID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDaGFubmVscygpIHtcbiAgICAgICAgdGhpcy5jaGFubmVscyA9IHt9O1xuICAgIH1cbiAgICBDaGFubmVscy5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKG5hbWUsIHB1c2hlcikge1xuICAgICAgICBpZiAoIXRoaXMuY2hhbm5lbHNbbmFtZV0pIHtcbiAgICAgICAgICAgIHRoaXMuY2hhbm5lbHNbbmFtZV0gPSBjcmVhdGVDaGFubmVsKG5hbWUsIHB1c2hlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhbm5lbHNbbmFtZV07XG4gICAgfTtcbiAgICBDaGFubmVscy5wcm90b3R5cGUuYWxsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdmFsdWVzKHRoaXMuY2hhbm5lbHMpO1xuICAgIH07XG4gICAgQ2hhbm5lbHMucHJvdG90eXBlLmZpbmQgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFubmVsc1tuYW1lXTtcbiAgICB9O1xuICAgIENoYW5uZWxzLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICB2YXIgY2hhbm5lbCA9IHRoaXMuY2hhbm5lbHNbbmFtZV07XG4gICAgICAgIGRlbGV0ZSB0aGlzLmNoYW5uZWxzW25hbWVdO1xuICAgICAgICByZXR1cm4gY2hhbm5lbDtcbiAgICB9O1xuICAgIENoYW5uZWxzLnByb3RvdHlwZS5kaXNjb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBvYmplY3RBcHBseSh0aGlzLmNoYW5uZWxzLCBmdW5jdGlvbiAoY2hhbm5lbCkge1xuICAgICAgICAgICAgY2hhbm5lbC5kaXNjb25uZWN0KCk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIENoYW5uZWxzO1xufSgpKTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIGNoYW5uZWxzID0gKGNoYW5uZWxzX0NoYW5uZWxzKTtcbmZ1bmN0aW9uIGNyZWF0ZUNoYW5uZWwobmFtZSwgcHVzaGVyKSB7XG4gICAgaWYgKG5hbWUuaW5kZXhPZigncHJpdmF0ZS1lbmNyeXB0ZWQtJykgPT09IDApIHtcbiAgICAgICAgaWYgKHB1c2hlci5jb25maWcubmFjbCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhY3RvcnkuY3JlYXRlRW5jcnlwdGVkQ2hhbm5lbChuYW1lLCBwdXNoZXIsIHB1c2hlci5jb25maWcubmFjbCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVyck1zZyA9ICdUcmllZCB0byBzdWJzY3JpYmUgdG8gYSBwcml2YXRlLWVuY3J5cHRlZC0gY2hhbm5lbCBidXQgbm8gbmFjbCBpbXBsZW1lbnRhdGlvbiBhdmFpbGFibGUnO1xuICAgICAgICB2YXIgc3VmZml4ID0gdXJsX3N0b3JlLmJ1aWxkTG9nU3VmZml4KCdlbmNyeXB0ZWRDaGFubmVsU3VwcG9ydCcpO1xuICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRGZWF0dXJlKGVyck1zZyArIFwiLiBcIiArIHN1ZmZpeCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG5hbWUuaW5kZXhPZigncHJpdmF0ZS0nKSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZmFjdG9yeS5jcmVhdGVQcml2YXRlQ2hhbm5lbChuYW1lLCBwdXNoZXIpO1xuICAgIH1cbiAgICBlbHNlIGlmIChuYW1lLmluZGV4T2YoJ3ByZXNlbmNlLScpID09PSAwKSB7XG4gICAgICAgIHJldHVybiBmYWN0b3J5LmNyZWF0ZVByZXNlbmNlQ2hhbm5lbChuYW1lLCBwdXNoZXIpO1xuICAgIH1cbiAgICBlbHNlIGlmIChuYW1lLmluZGV4T2YoJyMnKSA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgQmFkQ2hhbm5lbE5hbWUoJ0Nhbm5vdCBjcmVhdGUgYSBjaGFubmVsIHdpdGggbmFtZSBcIicgKyBuYW1lICsgJ1wiLicpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhY3RvcnkuY3JlYXRlQ2hhbm5lbChuYW1lLCBwdXNoZXIpO1xuICAgIH1cbn1cblxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29yZS91dGlscy9mYWN0b3J5LnRzXG5cblxuXG5cblxuXG5cblxuXG52YXIgRmFjdG9yeSA9IHtcbiAgICBjcmVhdGVDaGFubmVsczogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IGNoYW5uZWxzKCk7XG4gICAgfSxcbiAgICBjcmVhdGVDb25uZWN0aW9uTWFuYWdlcjogZnVuY3Rpb24gKGtleSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gbmV3IGNvbm5lY3Rpb25fbWFuYWdlcihrZXksIG9wdGlvbnMpO1xuICAgIH0sXG4gICAgY3JlYXRlQ2hhbm5lbDogZnVuY3Rpb24gKG5hbWUsIHB1c2hlcikge1xuICAgICAgICByZXR1cm4gbmV3IGNoYW5uZWxzX2NoYW5uZWwobmFtZSwgcHVzaGVyKTtcbiAgICB9LFxuICAgIGNyZWF0ZVByaXZhdGVDaGFubmVsOiBmdW5jdGlvbiAobmFtZSwgcHVzaGVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgcHJpdmF0ZV9jaGFubmVsKG5hbWUsIHB1c2hlcik7XG4gICAgfSxcbiAgICBjcmVhdGVQcmVzZW5jZUNoYW5uZWw6IGZ1bmN0aW9uIChuYW1lLCBwdXNoZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBwcmVzZW5jZV9jaGFubmVsKG5hbWUsIHB1c2hlcik7XG4gICAgfSxcbiAgICBjcmVhdGVFbmNyeXB0ZWRDaGFubmVsOiBmdW5jdGlvbiAobmFtZSwgcHVzaGVyLCBuYWNsKSB7XG4gICAgICAgIHJldHVybiBuZXcgZW5jcnlwdGVkX2NoYW5uZWwobmFtZSwgcHVzaGVyLCBuYWNsKTtcbiAgICB9LFxuICAgIGNyZWF0ZVRpbWVsaW5lU2VuZGVyOiBmdW5jdGlvbiAodGltZWxpbmUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyB0aW1lbGluZV9zZW5kZXIodGltZWxpbmUsIG9wdGlvbnMpO1xuICAgIH0sXG4gICAgY3JlYXRlSGFuZHNoYWtlOiBmdW5jdGlvbiAodHJhbnNwb3J0LCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gbmV3IGNvbm5lY3Rpb25faGFuZHNoYWtlKHRyYW5zcG9ydCwgY2FsbGJhY2spO1xuICAgIH0sXG4gICAgY3JlYXRlQXNzaXN0YW50VG9UaGVUcmFuc3BvcnRNYW5hZ2VyOiBmdW5jdGlvbiAobWFuYWdlciwgdHJhbnNwb3J0LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgYXNzaXN0YW50X3RvX3RoZV90cmFuc3BvcnRfbWFuYWdlcihtYW5hZ2VyLCB0cmFuc3BvcnQsIG9wdGlvbnMpO1xuICAgIH1cbn07XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBmYWN0b3J5ID0gKEZhY3RvcnkpO1xuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb3JlL3RyYW5zcG9ydHMvdHJhbnNwb3J0X21hbmFnZXIudHNcblxudmFyIHRyYW5zcG9ydF9tYW5hZ2VyX1RyYW5zcG9ydE1hbmFnZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRyYW5zcG9ydE1hbmFnZXIob3B0aW9ucykge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICB0aGlzLmxpdmVzTGVmdCA9IHRoaXMub3B0aW9ucy5saXZlcyB8fCBJbmZpbml0eTtcbiAgICB9XG4gICAgVHJhbnNwb3J0TWFuYWdlci5wcm90b3R5cGUuZ2V0QXNzaXN0YW50ID0gZnVuY3Rpb24gKHRyYW5zcG9ydCkge1xuICAgICAgICByZXR1cm4gZmFjdG9yeS5jcmVhdGVBc3Npc3RhbnRUb1RoZVRyYW5zcG9ydE1hbmFnZXIodGhpcywgdHJhbnNwb3J0LCB7XG4gICAgICAgICAgICBtaW5QaW5nRGVsYXk6IHRoaXMub3B0aW9ucy5taW5QaW5nRGVsYXksXG4gICAgICAgICAgICBtYXhQaW5nRGVsYXk6IHRoaXMub3B0aW9ucy5tYXhQaW5nRGVsYXlcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBUcmFuc3BvcnRNYW5hZ2VyLnByb3RvdHlwZS5pc0FsaXZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5saXZlc0xlZnQgPiAwO1xuICAgIH07XG4gICAgVHJhbnNwb3J0TWFuYWdlci5wcm90b3R5cGUucmVwb3J0RGVhdGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubGl2ZXNMZWZ0IC09IDE7XG4gICAgfTtcbiAgICByZXR1cm4gVHJhbnNwb3J0TWFuYWdlcjtcbn0oKSk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciB0cmFuc3BvcnRfbWFuYWdlciA9ICh0cmFuc3BvcnRfbWFuYWdlcl9UcmFuc3BvcnRNYW5hZ2VyKTtcblxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29yZS9zdHJhdGVnaWVzL3NlcXVlbnRpYWxfc3RyYXRlZ3kudHNcblxuXG5cbnZhciBzZXF1ZW50aWFsX3N0cmF0ZWd5X1NlcXVlbnRpYWxTdHJhdGVneSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2VxdWVudGlhbFN0cmF0ZWd5KHN0cmF0ZWdpZXMsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5zdHJhdGVnaWVzID0gc3RyYXRlZ2llcztcbiAgICAgICAgdGhpcy5sb29wID0gQm9vbGVhbihvcHRpb25zLmxvb3ApO1xuICAgICAgICB0aGlzLmZhaWxGYXN0ID0gQm9vbGVhbihvcHRpb25zLmZhaWxGYXN0KTtcbiAgICAgICAgdGhpcy50aW1lb3V0ID0gb3B0aW9ucy50aW1lb3V0O1xuICAgICAgICB0aGlzLnRpbWVvdXRMaW1pdCA9IG9wdGlvbnMudGltZW91dExpbWl0O1xuICAgIH1cbiAgICBTZXF1ZW50aWFsU3RyYXRlZ3kucHJvdG90eXBlLmlzU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gYW55KHRoaXMuc3RyYXRlZ2llcywgdXRpbC5tZXRob2QoJ2lzU3VwcG9ydGVkJykpO1xuICAgIH07XG4gICAgU2VxdWVudGlhbFN0cmF0ZWd5LnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKG1pblByaW9yaXR5LCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgc3RyYXRlZ2llcyA9IHRoaXMuc3RyYXRlZ2llcztcbiAgICAgICAgdmFyIGN1cnJlbnQgPSAwO1xuICAgICAgICB2YXIgdGltZW91dCA9IHRoaXMudGltZW91dDtcbiAgICAgICAgdmFyIHJ1bm5lciA9IG51bGw7XG4gICAgICAgIHZhciB0cnlOZXh0U3RyYXRlZ3kgPSBmdW5jdGlvbiAoZXJyb3IsIGhhbmRzaGFrZSkge1xuICAgICAgICAgICAgaWYgKGhhbmRzaGFrZSkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIGhhbmRzaGFrZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudCArIDE7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLmxvb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQgJSBzdHJhdGVnaWVzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQgPCBzdHJhdGVnaWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGltZW91dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dCA9IHRpbWVvdXQgKiAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLnRpbWVvdXRMaW1pdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQgPSBNYXRoLm1pbih0aW1lb3V0LCBfdGhpcy50aW1lb3V0TGltaXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJ1bm5lciA9IF90aGlzLnRyeVN0cmF0ZWd5KHN0cmF0ZWdpZXNbY3VycmVudF0sIG1pblByaW9yaXR5LCB7IHRpbWVvdXQ6IHRpbWVvdXQsIGZhaWxGYXN0OiBfdGhpcy5mYWlsRmFzdCB9LCB0cnlOZXh0U3RyYXRlZ3kpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBydW5uZXIgPSB0aGlzLnRyeVN0cmF0ZWd5KHN0cmF0ZWdpZXNbY3VycmVudF0sIG1pblByaW9yaXR5LCB7IHRpbWVvdXQ6IHRpbWVvdXQsIGZhaWxGYXN0OiB0aGlzLmZhaWxGYXN0IH0sIHRyeU5leHRTdHJhdGVneSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhYm9ydDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJ1bm5lci5hYm9ydCgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZvcmNlTWluUHJpb3JpdHk6IGZ1bmN0aW9uIChwKSB7XG4gICAgICAgICAgICAgICAgbWluUHJpb3JpdHkgPSBwO1xuICAgICAgICAgICAgICAgIGlmIChydW5uZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcnVubmVyLmZvcmNlTWluUHJpb3JpdHkocCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG4gICAgU2VxdWVudGlhbFN0cmF0ZWd5LnByb3RvdHlwZS50cnlTdHJhdGVneSA9IGZ1bmN0aW9uIChzdHJhdGVneSwgbWluUHJpb3JpdHksIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciB0aW1lciA9IG51bGw7XG4gICAgICAgIHZhciBydW5uZXIgPSBudWxsO1xuICAgICAgICBpZiAob3B0aW9ucy50aW1lb3V0ID4gMCkge1xuICAgICAgICAgICAgdGltZXIgPSBuZXcgT25lT2ZmVGltZXIob3B0aW9ucy50aW1lb3V0LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcnVubmVyLmFib3J0KCk7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sodHJ1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBydW5uZXIgPSBzdHJhdGVneS5jb25uZWN0KG1pblByaW9yaXR5LCBmdW5jdGlvbiAoZXJyb3IsIGhhbmRzaGFrZSkge1xuICAgICAgICAgICAgaWYgKGVycm9yICYmIHRpbWVyICYmIHRpbWVyLmlzUnVubmluZygpICYmICFvcHRpb25zLmZhaWxGYXN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRpbWVyKSB7XG4gICAgICAgICAgICAgICAgdGltZXIuZW5zdXJlQWJvcnRlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FsbGJhY2soZXJyb3IsIGhhbmRzaGFrZSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYWJvcnQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAodGltZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGltZXIuZW5zdXJlQWJvcnRlZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBydW5uZXIuYWJvcnQoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmb3JjZU1pblByaW9yaXR5OiBmdW5jdGlvbiAocCkge1xuICAgICAgICAgICAgICAgIHJ1bm5lci5mb3JjZU1pblByaW9yaXR5KHApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG4gICAgcmV0dXJuIFNlcXVlbnRpYWxTdHJhdGVneTtcbn0oKSk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBzZXF1ZW50aWFsX3N0cmF0ZWd5ID0gKHNlcXVlbnRpYWxfc3RyYXRlZ3lfU2VxdWVudGlhbFN0cmF0ZWd5KTtcblxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29yZS9zdHJhdGVnaWVzL2Jlc3RfY29ubmVjdGVkX2V2ZXJfc3RyYXRlZ3kudHNcblxuXG52YXIgYmVzdF9jb25uZWN0ZWRfZXZlcl9zdHJhdGVneV9CZXN0Q29ubmVjdGVkRXZlclN0cmF0ZWd5ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCZXN0Q29ubmVjdGVkRXZlclN0cmF0ZWd5KHN0cmF0ZWdpZXMpIHtcbiAgICAgICAgdGhpcy5zdHJhdGVnaWVzID0gc3RyYXRlZ2llcztcbiAgICB9XG4gICAgQmVzdENvbm5lY3RlZEV2ZXJTdHJhdGVneS5wcm90b3R5cGUuaXNTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBhbnkodGhpcy5zdHJhdGVnaWVzLCB1dGlsLm1ldGhvZCgnaXNTdXBwb3J0ZWQnKSk7XG4gICAgfTtcbiAgICBCZXN0Q29ubmVjdGVkRXZlclN0cmF0ZWd5LnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKG1pblByaW9yaXR5LCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gY29ubmVjdCh0aGlzLnN0cmF0ZWdpZXMsIG1pblByaW9yaXR5LCBmdW5jdGlvbiAoaSwgcnVubmVycykge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlcnJvciwgaGFuZHNoYWtlKSB7XG4gICAgICAgICAgICAgICAgcnVubmVyc1tpXS5lcnJvciA9IGVycm9yO1xuICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWxsUnVubmVyc0ZhaWxlZChydW5uZXJzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhcHBseShydW5uZXJzLCBmdW5jdGlvbiAocnVubmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJ1bm5lci5mb3JjZU1pblByaW9yaXR5KGhhbmRzaGFrZS50cmFuc3BvcnQucHJpb3JpdHkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIGhhbmRzaGFrZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBCZXN0Q29ubmVjdGVkRXZlclN0cmF0ZWd5O1xufSgpKTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIGJlc3RfY29ubmVjdGVkX2V2ZXJfc3RyYXRlZ3kgPSAoYmVzdF9jb25uZWN0ZWRfZXZlcl9zdHJhdGVneV9CZXN0Q29ubmVjdGVkRXZlclN0cmF0ZWd5KTtcbmZ1bmN0aW9uIGNvbm5lY3Qoc3RyYXRlZ2llcywgbWluUHJpb3JpdHksIGNhbGxiYWNrQnVpbGRlcikge1xuICAgIHZhciBydW5uZXJzID0gbWFwKHN0cmF0ZWdpZXMsIGZ1bmN0aW9uIChzdHJhdGVneSwgaSwgXywgcnMpIHtcbiAgICAgICAgcmV0dXJuIHN0cmF0ZWd5LmNvbm5lY3QobWluUHJpb3JpdHksIGNhbGxiYWNrQnVpbGRlcihpLCBycykpO1xuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIGFib3J0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBhcHBseShydW5uZXJzLCBhYm9ydFJ1bm5lcik7XG4gICAgICAgIH0sXG4gICAgICAgIGZvcmNlTWluUHJpb3JpdHk6IGZ1bmN0aW9uIChwKSB7XG4gICAgICAgICAgICBhcHBseShydW5uZXJzLCBmdW5jdGlvbiAocnVubmVyKSB7XG4gICAgICAgICAgICAgICAgcnVubmVyLmZvcmNlTWluUHJpb3JpdHkocCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59XG5mdW5jdGlvbiBhbGxSdW5uZXJzRmFpbGVkKHJ1bm5lcnMpIHtcbiAgICByZXR1cm4gY29sbGVjdGlvbnNfYWxsKHJ1bm5lcnMsIGZ1bmN0aW9uIChydW5uZXIpIHtcbiAgICAgICAgcmV0dXJuIEJvb2xlYW4ocnVubmVyLmVycm9yKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGFib3J0UnVubmVyKHJ1bm5lcikge1xuICAgIGlmICghcnVubmVyLmVycm9yICYmICFydW5uZXIuYWJvcnRlZCkge1xuICAgICAgICBydW5uZXIuYWJvcnQoKTtcbiAgICAgICAgcnVubmVyLmFib3J0ZWQgPSB0cnVlO1xuICAgIH1cbn1cblxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29yZS9zdHJhdGVnaWVzL2NhY2hlZF9zdHJhdGVneS50c1xuXG5cblxuXG52YXIgY2FjaGVkX3N0cmF0ZWd5X0NhY2hlZFN0cmF0ZWd5ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDYWNoZWRTdHJhdGVneShzdHJhdGVneSwgdHJhbnNwb3J0cywgb3B0aW9ucykge1xuICAgICAgICB0aGlzLnN0cmF0ZWd5ID0gc3RyYXRlZ3k7XG4gICAgICAgIHRoaXMudHJhbnNwb3J0cyA9IHRyYW5zcG9ydHM7XG4gICAgICAgIHRoaXMudHRsID0gb3B0aW9ucy50dGwgfHwgMTgwMCAqIDEwMDA7XG4gICAgICAgIHRoaXMudXNpbmdUTFMgPSBvcHRpb25zLnVzZVRMUztcbiAgICAgICAgdGhpcy50aW1lbGluZSA9IG9wdGlvbnMudGltZWxpbmU7XG4gICAgfVxuICAgIENhY2hlZFN0cmF0ZWd5LnByb3RvdHlwZS5pc1N1cHBvcnRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RyYXRlZ3kuaXNTdXBwb3J0ZWQoKTtcbiAgICB9O1xuICAgIENhY2hlZFN0cmF0ZWd5LnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKG1pblByaW9yaXR5LCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgdXNpbmdUTFMgPSB0aGlzLnVzaW5nVExTO1xuICAgICAgICB2YXIgaW5mbyA9IGZldGNoVHJhbnNwb3J0Q2FjaGUodXNpbmdUTFMpO1xuICAgICAgICB2YXIgc3RyYXRlZ2llcyA9IFt0aGlzLnN0cmF0ZWd5XTtcbiAgICAgICAgaWYgKGluZm8gJiYgaW5mby50aW1lc3RhbXAgKyB0aGlzLnR0bCA+PSB1dGlsLm5vdygpKSB7XG4gICAgICAgICAgICB2YXIgdHJhbnNwb3J0ID0gdGhpcy50cmFuc3BvcnRzW2luZm8udHJhbnNwb3J0XTtcbiAgICAgICAgICAgIGlmICh0cmFuc3BvcnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRpbWVsaW5lLmluZm8oe1xuICAgICAgICAgICAgICAgICAgICBjYWNoZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zcG9ydDogaW5mby50cmFuc3BvcnQsXG4gICAgICAgICAgICAgICAgICAgIGxhdGVuY3k6IGluZm8ubGF0ZW5jeVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHN0cmF0ZWdpZXMucHVzaChuZXcgc2VxdWVudGlhbF9zdHJhdGVneShbdHJhbnNwb3J0XSwge1xuICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiBpbmZvLmxhdGVuY3kgKiAyICsgMTAwMCxcbiAgICAgICAgICAgICAgICAgICAgZmFpbEZhc3Q6IHRydWVcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0YXJ0VGltZXN0YW1wID0gdXRpbC5ub3coKTtcbiAgICAgICAgdmFyIHJ1bm5lciA9IHN0cmF0ZWdpZXNcbiAgICAgICAgICAgIC5wb3AoKVxuICAgICAgICAgICAgLmNvbm5lY3QobWluUHJpb3JpdHksIGZ1bmN0aW9uIGNiKGVycm9yLCBoYW5kc2hha2UpIHtcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGZsdXNoVHJhbnNwb3J0Q2FjaGUodXNpbmdUTFMpO1xuICAgICAgICAgICAgICAgIGlmIChzdHJhdGVnaWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lc3RhbXAgPSB1dGlsLm5vdygpO1xuICAgICAgICAgICAgICAgICAgICBydW5uZXIgPSBzdHJhdGVnaWVzLnBvcCgpLmNvbm5lY3QobWluUHJpb3JpdHksIGNiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdG9yZVRyYW5zcG9ydENhY2hlKHVzaW5nVExTLCBoYW5kc2hha2UudHJhbnNwb3J0Lm5hbWUsIHV0aWwubm93KCkgLSBzdGFydFRpbWVzdGFtcCk7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgaGFuZHNoYWtlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhYm9ydDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJ1bm5lci5hYm9ydCgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZvcmNlTWluUHJpb3JpdHk6IGZ1bmN0aW9uIChwKSB7XG4gICAgICAgICAgICAgICAgbWluUHJpb3JpdHkgPSBwO1xuICAgICAgICAgICAgICAgIGlmIChydW5uZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcnVubmVyLmZvcmNlTWluUHJpb3JpdHkocCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG4gICAgcmV0dXJuIENhY2hlZFN0cmF0ZWd5O1xufSgpKTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIGNhY2hlZF9zdHJhdGVneSA9IChjYWNoZWRfc3RyYXRlZ3lfQ2FjaGVkU3RyYXRlZ3kpO1xuZnVuY3Rpb24gZ2V0VHJhbnNwb3J0Q2FjaGVLZXkodXNpbmdUTFMpIHtcbiAgICByZXR1cm4gJ3B1c2hlclRyYW5zcG9ydCcgKyAodXNpbmdUTFMgPyAnVExTJyA6ICdOb25UTFMnKTtcbn1cbmZ1bmN0aW9uIGZldGNoVHJhbnNwb3J0Q2FjaGUodXNpbmdUTFMpIHtcbiAgICB2YXIgc3RvcmFnZSA9IHJ1bnRpbWUuZ2V0TG9jYWxTdG9yYWdlKCk7XG4gICAgaWYgKHN0b3JhZ2UpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBzZXJpYWxpemVkQ2FjaGUgPSBzdG9yYWdlW2dldFRyYW5zcG9ydENhY2hlS2V5KHVzaW5nVExTKV07XG4gICAgICAgICAgICBpZiAoc2VyaWFsaXplZENhY2hlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2Uoc2VyaWFsaXplZENhY2hlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgZmx1c2hUcmFuc3BvcnRDYWNoZSh1c2luZ1RMUyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBzdG9yZVRyYW5zcG9ydENhY2hlKHVzaW5nVExTLCB0cmFuc3BvcnQsIGxhdGVuY3kpIHtcbiAgICB2YXIgc3RvcmFnZSA9IHJ1bnRpbWUuZ2V0TG9jYWxTdG9yYWdlKCk7XG4gICAgaWYgKHN0b3JhZ2UpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHN0b3JhZ2VbZ2V0VHJhbnNwb3J0Q2FjaGVLZXkodXNpbmdUTFMpXSA9IHNhZmVKU09OU3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IHV0aWwubm93KCksXG4gICAgICAgICAgICAgICAgdHJhbnNwb3J0OiB0cmFuc3BvcnQsXG4gICAgICAgICAgICAgICAgbGF0ZW5jeTogbGF0ZW5jeVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGZsdXNoVHJhbnNwb3J0Q2FjaGUodXNpbmdUTFMpIHtcbiAgICB2YXIgc3RvcmFnZSA9IHJ1bnRpbWUuZ2V0TG9jYWxTdG9yYWdlKCk7XG4gICAgaWYgKHN0b3JhZ2UpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGRlbGV0ZSBzdG9yYWdlW2dldFRyYW5zcG9ydENhY2hlS2V5KHVzaW5nVExTKV07XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29yZS9zdHJhdGVnaWVzL2RlbGF5ZWRfc3RyYXRlZ3kudHNcblxudmFyIGRlbGF5ZWRfc3RyYXRlZ3lfRGVsYXllZFN0cmF0ZWd5ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEZWxheWVkU3RyYXRlZ3koc3RyYXRlZ3ksIF9hKSB7XG4gICAgICAgIHZhciBudW1iZXIgPSBfYS5kZWxheTtcbiAgICAgICAgdGhpcy5zdHJhdGVneSA9IHN0cmF0ZWd5O1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSB7IGRlbGF5OiBudW1iZXIgfTtcbiAgICB9XG4gICAgRGVsYXllZFN0cmF0ZWd5LnByb3RvdHlwZS5pc1N1cHBvcnRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RyYXRlZ3kuaXNTdXBwb3J0ZWQoKTtcbiAgICB9O1xuICAgIERlbGF5ZWRTdHJhdGVneS5wcm90b3R5cGUuY29ubmVjdCA9IGZ1bmN0aW9uIChtaW5Qcmlvcml0eSwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHN0cmF0ZWd5ID0gdGhpcy5zdHJhdGVneTtcbiAgICAgICAgdmFyIHJ1bm5lcjtcbiAgICAgICAgdmFyIHRpbWVyID0gbmV3IE9uZU9mZlRpbWVyKHRoaXMub3B0aW9ucy5kZWxheSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcnVubmVyID0gc3RyYXRlZ3kuY29ubmVjdChtaW5Qcmlvcml0eSwgY2FsbGJhY2spO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFib3J0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdGltZXIuZW5zdXJlQWJvcnRlZCgpO1xuICAgICAgICAgICAgICAgIGlmIChydW5uZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcnVubmVyLmFib3J0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZvcmNlTWluUHJpb3JpdHk6IGZ1bmN0aW9uIChwKSB7XG4gICAgICAgICAgICAgICAgbWluUHJpb3JpdHkgPSBwO1xuICAgICAgICAgICAgICAgIGlmIChydW5uZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcnVubmVyLmZvcmNlTWluUHJpb3JpdHkocCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG4gICAgcmV0dXJuIERlbGF5ZWRTdHJhdGVneTtcbn0oKSk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBkZWxheWVkX3N0cmF0ZWd5ID0gKGRlbGF5ZWRfc3RyYXRlZ3lfRGVsYXllZFN0cmF0ZWd5KTtcblxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29yZS9zdHJhdGVnaWVzL2lmX3N0cmF0ZWd5LnRzXG52YXIgSWZTdHJhdGVneSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSWZTdHJhdGVneSh0ZXN0LCB0cnVlQnJhbmNoLCBmYWxzZUJyYW5jaCkge1xuICAgICAgICB0aGlzLnRlc3QgPSB0ZXN0O1xuICAgICAgICB0aGlzLnRydWVCcmFuY2ggPSB0cnVlQnJhbmNoO1xuICAgICAgICB0aGlzLmZhbHNlQnJhbmNoID0gZmFsc2VCcmFuY2g7XG4gICAgfVxuICAgIElmU3RyYXRlZ3kucHJvdG90eXBlLmlzU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYnJhbmNoID0gdGhpcy50ZXN0KCkgPyB0aGlzLnRydWVCcmFuY2ggOiB0aGlzLmZhbHNlQnJhbmNoO1xuICAgICAgICByZXR1cm4gYnJhbmNoLmlzU3VwcG9ydGVkKCk7XG4gICAgfTtcbiAgICBJZlN0cmF0ZWd5LnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKG1pblByaW9yaXR5LCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgYnJhbmNoID0gdGhpcy50ZXN0KCkgPyB0aGlzLnRydWVCcmFuY2ggOiB0aGlzLmZhbHNlQnJhbmNoO1xuICAgICAgICByZXR1cm4gYnJhbmNoLmNvbm5lY3QobWluUHJpb3JpdHksIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIHJldHVybiBJZlN0cmF0ZWd5O1xufSgpKTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIGlmX3N0cmF0ZWd5ID0gKElmU3RyYXRlZ3kpO1xuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb3JlL3N0cmF0ZWdpZXMvZmlyc3RfY29ubmVjdGVkX3N0cmF0ZWd5LnRzXG52YXIgRmlyc3RDb25uZWN0ZWRTdHJhdGVneSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRmlyc3RDb25uZWN0ZWRTdHJhdGVneShzdHJhdGVneSkge1xuICAgICAgICB0aGlzLnN0cmF0ZWd5ID0gc3RyYXRlZ3k7XG4gICAgfVxuICAgIEZpcnN0Q29ubmVjdGVkU3RyYXRlZ3kucHJvdG90eXBlLmlzU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHJhdGVneS5pc1N1cHBvcnRlZCgpO1xuICAgIH07XG4gICAgRmlyc3RDb25uZWN0ZWRTdHJhdGVneS5wcm90b3R5cGUuY29ubmVjdCA9IGZ1bmN0aW9uIChtaW5Qcmlvcml0eSwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHJ1bm5lciA9IHRoaXMuc3RyYXRlZ3kuY29ubmVjdChtaW5Qcmlvcml0eSwgZnVuY3Rpb24gKGVycm9yLCBoYW5kc2hha2UpIHtcbiAgICAgICAgICAgIGlmIChoYW5kc2hha2UpIHtcbiAgICAgICAgICAgICAgICBydW5uZXIuYWJvcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yLCBoYW5kc2hha2UpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJ1bm5lcjtcbiAgICB9O1xuICAgIHJldHVybiBGaXJzdENvbm5lY3RlZFN0cmF0ZWd5O1xufSgpKTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIGZpcnN0X2Nvbm5lY3RlZF9zdHJhdGVneSA9IChGaXJzdENvbm5lY3RlZFN0cmF0ZWd5KTtcblxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvcnVudGltZXMvd2ViL2RlZmF1bHRfc3RyYXRlZ3kudHNcblxuXG5cblxuXG5cblxuZnVuY3Rpb24gdGVzdFN1cHBvcnRzU3RyYXRlZ3koc3RyYXRlZ3kpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gc3RyYXRlZ3kuaXNTdXBwb3J0ZWQoKTtcbiAgICB9O1xufVxudmFyIGdldERlZmF1bHRTdHJhdGVneSA9IGZ1bmN0aW9uIChjb25maWcsIGJhc2VPcHRpb25zLCBkZWZpbmVUcmFuc3BvcnQpIHtcbiAgICB2YXIgZGVmaW5lZFRyYW5zcG9ydHMgPSB7fTtcbiAgICBmdW5jdGlvbiBkZWZpbmVUcmFuc3BvcnRTdHJhdGVneShuYW1lLCB0eXBlLCBwcmlvcml0eSwgb3B0aW9ucywgbWFuYWdlcikge1xuICAgICAgICB2YXIgdHJhbnNwb3J0ID0gZGVmaW5lVHJhbnNwb3J0KGNvbmZpZywgbmFtZSwgdHlwZSwgcHJpb3JpdHksIG9wdGlvbnMsIG1hbmFnZXIpO1xuICAgICAgICBkZWZpbmVkVHJhbnNwb3J0c1tuYW1lXSA9IHRyYW5zcG9ydDtcbiAgICAgICAgcmV0dXJuIHRyYW5zcG9ydDtcbiAgICB9XG4gICAgdmFyIHdzX29wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBiYXNlT3B0aW9ucywge1xuICAgICAgICBob3N0Tm9uVExTOiBjb25maWcud3NIb3N0ICsgJzonICsgY29uZmlnLndzUG9ydCxcbiAgICAgICAgaG9zdFRMUzogY29uZmlnLndzSG9zdCArICc6JyArIGNvbmZpZy53c3NQb3J0LFxuICAgICAgICBodHRwUGF0aDogY29uZmlnLndzUGF0aFxuICAgIH0pO1xuICAgIHZhciB3c3Nfb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIHdzX29wdGlvbnMsIHtcbiAgICAgICAgdXNlVExTOiB0cnVlXG4gICAgfSk7XG4gICAgdmFyIHNvY2tqc19vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgYmFzZU9wdGlvbnMsIHtcbiAgICAgICAgaG9zdE5vblRMUzogY29uZmlnLmh0dHBIb3N0ICsgJzonICsgY29uZmlnLmh0dHBQb3J0LFxuICAgICAgICBob3N0VExTOiBjb25maWcuaHR0cEhvc3QgKyAnOicgKyBjb25maWcuaHR0cHNQb3J0LFxuICAgICAgICBodHRwUGF0aDogY29uZmlnLmh0dHBQYXRoXG4gICAgfSk7XG4gICAgdmFyIHRpbWVvdXRzID0ge1xuICAgICAgICBsb29wOiB0cnVlLFxuICAgICAgICB0aW1lb3V0OiAxNTAwMCxcbiAgICAgICAgdGltZW91dExpbWl0OiA2MDAwMFxuICAgIH07XG4gICAgdmFyIHdzX21hbmFnZXIgPSBuZXcgdHJhbnNwb3J0X21hbmFnZXIoe1xuICAgICAgICBsaXZlczogMixcbiAgICAgICAgbWluUGluZ0RlbGF5OiAxMDAwMCxcbiAgICAgICAgbWF4UGluZ0RlbGF5OiBjb25maWcuYWN0aXZpdHlUaW1lb3V0XG4gICAgfSk7XG4gICAgdmFyIHN0cmVhbWluZ19tYW5hZ2VyID0gbmV3IHRyYW5zcG9ydF9tYW5hZ2VyKHtcbiAgICAgICAgbGl2ZXM6IDIsXG4gICAgICAgIG1pblBpbmdEZWxheTogMTAwMDAsXG4gICAgICAgIG1heFBpbmdEZWxheTogY29uZmlnLmFjdGl2aXR5VGltZW91dFxuICAgIH0pO1xuICAgIHZhciB3c190cmFuc3BvcnQgPSBkZWZpbmVUcmFuc3BvcnRTdHJhdGVneSgnd3MnLCAnd3MnLCAzLCB3c19vcHRpb25zLCB3c19tYW5hZ2VyKTtcbiAgICB2YXIgd3NzX3RyYW5zcG9ydCA9IGRlZmluZVRyYW5zcG9ydFN0cmF0ZWd5KCd3c3MnLCAnd3MnLCAzLCB3c3Nfb3B0aW9ucywgd3NfbWFuYWdlcik7XG4gICAgdmFyIHNvY2tqc190cmFuc3BvcnQgPSBkZWZpbmVUcmFuc3BvcnRTdHJhdGVneSgnc29ja2pzJywgJ3NvY2tqcycsIDEsIHNvY2tqc19vcHRpb25zKTtcbiAgICB2YXIgeGhyX3N0cmVhbWluZ190cmFuc3BvcnQgPSBkZWZpbmVUcmFuc3BvcnRTdHJhdGVneSgneGhyX3N0cmVhbWluZycsICd4aHJfc3RyZWFtaW5nJywgMSwgc29ja2pzX29wdGlvbnMsIHN0cmVhbWluZ19tYW5hZ2VyKTtcbiAgICB2YXIgeGRyX3N0cmVhbWluZ190cmFuc3BvcnQgPSBkZWZpbmVUcmFuc3BvcnRTdHJhdGVneSgneGRyX3N0cmVhbWluZycsICd4ZHJfc3RyZWFtaW5nJywgMSwgc29ja2pzX29wdGlvbnMsIHN0cmVhbWluZ19tYW5hZ2VyKTtcbiAgICB2YXIgeGhyX3BvbGxpbmdfdHJhbnNwb3J0ID0gZGVmaW5lVHJhbnNwb3J0U3RyYXRlZ3koJ3hocl9wb2xsaW5nJywgJ3hocl9wb2xsaW5nJywgMSwgc29ja2pzX29wdGlvbnMpO1xuICAgIHZhciB4ZHJfcG9sbGluZ190cmFuc3BvcnQgPSBkZWZpbmVUcmFuc3BvcnRTdHJhdGVneSgneGRyX3BvbGxpbmcnLCAneGRyX3BvbGxpbmcnLCAxLCBzb2NranNfb3B0aW9ucyk7XG4gICAgdmFyIHdzX2xvb3AgPSBuZXcgc2VxdWVudGlhbF9zdHJhdGVneShbd3NfdHJhbnNwb3J0XSwgdGltZW91dHMpO1xuICAgIHZhciB3c3NfbG9vcCA9IG5ldyBzZXF1ZW50aWFsX3N0cmF0ZWd5KFt3c3NfdHJhbnNwb3J0XSwgdGltZW91dHMpO1xuICAgIHZhciBzb2NranNfbG9vcCA9IG5ldyBzZXF1ZW50aWFsX3N0cmF0ZWd5KFtzb2NranNfdHJhbnNwb3J0XSwgdGltZW91dHMpO1xuICAgIHZhciBzdHJlYW1pbmdfbG9vcCA9IG5ldyBzZXF1ZW50aWFsX3N0cmF0ZWd5KFtcbiAgICAgICAgbmV3IGlmX3N0cmF0ZWd5KHRlc3RTdXBwb3J0c1N0cmF0ZWd5KHhocl9zdHJlYW1pbmdfdHJhbnNwb3J0KSwgeGhyX3N0cmVhbWluZ190cmFuc3BvcnQsIHhkcl9zdHJlYW1pbmdfdHJhbnNwb3J0KVxuICAgIF0sIHRpbWVvdXRzKTtcbiAgICB2YXIgcG9sbGluZ19sb29wID0gbmV3IHNlcXVlbnRpYWxfc3RyYXRlZ3koW1xuICAgICAgICBuZXcgaWZfc3RyYXRlZ3kodGVzdFN1cHBvcnRzU3RyYXRlZ3koeGhyX3BvbGxpbmdfdHJhbnNwb3J0KSwgeGhyX3BvbGxpbmdfdHJhbnNwb3J0LCB4ZHJfcG9sbGluZ190cmFuc3BvcnQpXG4gICAgXSwgdGltZW91dHMpO1xuICAgIHZhciBodHRwX2xvb3AgPSBuZXcgc2VxdWVudGlhbF9zdHJhdGVneShbXG4gICAgICAgIG5ldyBpZl9zdHJhdGVneSh0ZXN0U3VwcG9ydHNTdHJhdGVneShzdHJlYW1pbmdfbG9vcCksIG5ldyBiZXN0X2Nvbm5lY3RlZF9ldmVyX3N0cmF0ZWd5KFtcbiAgICAgICAgICAgIHN0cmVhbWluZ19sb29wLFxuICAgICAgICAgICAgbmV3IGRlbGF5ZWRfc3RyYXRlZ3kocG9sbGluZ19sb29wLCB7IGRlbGF5OiA0MDAwIH0pXG4gICAgICAgIF0pLCBwb2xsaW5nX2xvb3ApXG4gICAgXSwgdGltZW91dHMpO1xuICAgIHZhciBodHRwX2ZhbGxiYWNrX2xvb3AgPSBuZXcgaWZfc3RyYXRlZ3kodGVzdFN1cHBvcnRzU3RyYXRlZ3koaHR0cF9sb29wKSwgaHR0cF9sb29wLCBzb2NranNfbG9vcCk7XG4gICAgdmFyIHdzU3RyYXRlZ3k7XG4gICAgaWYgKGJhc2VPcHRpb25zLnVzZVRMUykge1xuICAgICAgICB3c1N0cmF0ZWd5ID0gbmV3IGJlc3RfY29ubmVjdGVkX2V2ZXJfc3RyYXRlZ3koW1xuICAgICAgICAgICAgd3NfbG9vcCxcbiAgICAgICAgICAgIG5ldyBkZWxheWVkX3N0cmF0ZWd5KGh0dHBfZmFsbGJhY2tfbG9vcCwgeyBkZWxheTogMjAwMCB9KVxuICAgICAgICBdKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHdzU3RyYXRlZ3kgPSBuZXcgYmVzdF9jb25uZWN0ZWRfZXZlcl9zdHJhdGVneShbXG4gICAgICAgICAgICB3c19sb29wLFxuICAgICAgICAgICAgbmV3IGRlbGF5ZWRfc3RyYXRlZ3kod3NzX2xvb3AsIHsgZGVsYXk6IDIwMDAgfSksXG4gICAgICAgICAgICBuZXcgZGVsYXllZF9zdHJhdGVneShodHRwX2ZhbGxiYWNrX2xvb3AsIHsgZGVsYXk6IDUwMDAgfSlcbiAgICAgICAgXSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgY2FjaGVkX3N0cmF0ZWd5KG5ldyBmaXJzdF9jb25uZWN0ZWRfc3RyYXRlZ3kobmV3IGlmX3N0cmF0ZWd5KHRlc3RTdXBwb3J0c1N0cmF0ZWd5KHdzX3RyYW5zcG9ydCksIHdzU3RyYXRlZ3ksIGh0dHBfZmFsbGJhY2tfbG9vcCkpLCBkZWZpbmVkVHJhbnNwb3J0cywge1xuICAgICAgICB0dGw6IDE4MDAwMDAsXG4gICAgICAgIHRpbWVsaW5lOiBiYXNlT3B0aW9ucy50aW1lbGluZSxcbiAgICAgICAgdXNlVExTOiBiYXNlT3B0aW9ucy51c2VUTFNcbiAgICB9KTtcbn07XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBkZWZhdWx0X3N0cmF0ZWd5ID0gKGdldERlZmF1bHRTdHJhdGVneSk7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL3J1bnRpbWVzL3dlYi90cmFuc3BvcnRzL3RyYW5zcG9ydF9jb25uZWN0aW9uX2luaXRpYWxpemVyLnRzXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIHRyYW5zcG9ydF9jb25uZWN0aW9uX2luaXRpYWxpemVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgc2VsZi50aW1lbGluZS5pbmZvKHNlbGYuYnVpbGRUaW1lbGluZU1lc3NhZ2Uoe1xuICAgICAgICB0cmFuc3BvcnQ6IHNlbGYubmFtZSArIChzZWxmLm9wdGlvbnMudXNlVExTID8gJ3MnIDogJycpXG4gICAgfSkpO1xuICAgIGlmIChzZWxmLmhvb2tzLmlzSW5pdGlhbGl6ZWQoKSkge1xuICAgICAgICBzZWxmLmNoYW5nZVN0YXRlKCdpbml0aWFsaXplZCcpO1xuICAgIH1cbiAgICBlbHNlIGlmIChzZWxmLmhvb2tzLmZpbGUpIHtcbiAgICAgICAgc2VsZi5jaGFuZ2VTdGF0ZSgnaW5pdGlhbGl6aW5nJyk7XG4gICAgICAgIERlcGVuZGVuY2llcy5sb2FkKHNlbGYuaG9va3MuZmlsZSwgeyB1c2VUTFM6IHNlbGYub3B0aW9ucy51c2VUTFMgfSwgZnVuY3Rpb24gKGVycm9yLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgaWYgKHNlbGYuaG9va3MuaXNJbml0aWFsaXplZCgpKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5jaGFuZ2VTdGF0ZSgnaW5pdGlhbGl6ZWQnKTtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLm9uRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZWxmLm9uQ2xvc2UoKTtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc2VsZi5vbkNsb3NlKCk7XG4gICAgfVxufSk7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL3J1bnRpbWVzL3dlYi9odHRwL2h0dHBfeGRvbWFpbl9yZXF1ZXN0LnRzXG5cbnZhciBodHRwX3hkb21haW5fcmVxdWVzdF9ob29rcyA9IHtcbiAgICBnZXRSZXF1ZXN0OiBmdW5jdGlvbiAoc29ja2V0KSB7XG4gICAgICAgIHZhciB4ZHIgPSBuZXcgd2luZG93LlhEb21haW5SZXF1ZXN0KCk7XG4gICAgICAgIHhkci5vbnRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzb2NrZXQuZW1pdCgnZXJyb3InLCBuZXcgUmVxdWVzdFRpbWVkT3V0KCkpO1xuICAgICAgICAgICAgc29ja2V0LmNsb3NlKCk7XG4gICAgICAgIH07XG4gICAgICAgIHhkci5vbmVycm9yID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHNvY2tldC5lbWl0KCdlcnJvcicsIGUpO1xuICAgICAgICAgICAgc29ja2V0LmNsb3NlKCk7XG4gICAgICAgIH07XG4gICAgICAgIHhkci5vbnByb2dyZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHhkci5yZXNwb25zZVRleHQgJiYgeGRyLnJlc3BvbnNlVGV4dC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgc29ja2V0Lm9uQ2h1bmsoMjAwLCB4ZHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgeGRyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh4ZHIucmVzcG9uc2VUZXh0ICYmIHhkci5yZXNwb25zZVRleHQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHNvY2tldC5vbkNodW5rKDIwMCwgeGRyLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzb2NrZXQuZW1pdCgnZmluaXNoZWQnLCAyMDApO1xuICAgICAgICAgICAgc29ja2V0LmNsb3NlKCk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB4ZHI7XG4gICAgfSxcbiAgICBhYm9ydFJlcXVlc3Q6IGZ1bmN0aW9uICh4ZHIpIHtcbiAgICAgICAgeGRyLm9udGltZW91dCA9IHhkci5vbmVycm9yID0geGRyLm9ucHJvZ3Jlc3MgPSB4ZHIub25sb2FkID0gbnVsbDtcbiAgICAgICAgeGRyLmFib3J0KCk7XG4gICAgfVxufTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIGh0dHBfeGRvbWFpbl9yZXF1ZXN0ID0gKGh0dHBfeGRvbWFpbl9yZXF1ZXN0X2hvb2tzKTtcblxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29yZS9odHRwL2h0dHBfcmVxdWVzdC50c1xudmFyIGh0dHBfcmVxdWVzdF9leHRlbmRzID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5cblxudmFyIE1BWF9CVUZGRVJfTEVOR1RIID0gMjU2ICogMTAyNDtcbnZhciBodHRwX3JlcXVlc3RfSFRUUFJlcXVlc3QgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIGh0dHBfcmVxdWVzdF9leHRlbmRzKEhUVFBSZXF1ZXN0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEhUVFBSZXF1ZXN0KGhvb2tzLCBtZXRob2QsIHVybCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5ob29rcyA9IGhvb2tzO1xuICAgICAgICBfdGhpcy5tZXRob2QgPSBtZXRob2Q7XG4gICAgICAgIF90aGlzLnVybCA9IHVybDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBIVFRQUmVxdWVzdC5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAocGF5bG9hZCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gMDtcbiAgICAgICAgdGhpcy54aHIgPSB0aGlzLmhvb2tzLmdldFJlcXVlc3QodGhpcyk7XG4gICAgICAgIHRoaXMudW5sb2FkZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5jbG9zZSgpO1xuICAgICAgICB9O1xuICAgICAgICBydW50aW1lLmFkZFVubG9hZExpc3RlbmVyKHRoaXMudW5sb2FkZXIpO1xuICAgICAgICB0aGlzLnhoci5vcGVuKHRoaXMubWV0aG9kLCB0aGlzLnVybCwgdHJ1ZSk7XG4gICAgICAgIGlmICh0aGlzLnhoci5zZXRSZXF1ZXN0SGVhZGVyKSB7XG4gICAgICAgICAgICB0aGlzLnhoci5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMueGhyLnNlbmQocGF5bG9hZCk7XG4gICAgfTtcbiAgICBIVFRQUmVxdWVzdC5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnVubG9hZGVyKSB7XG4gICAgICAgICAgICBydW50aW1lLnJlbW92ZVVubG9hZExpc3RlbmVyKHRoaXMudW5sb2FkZXIpO1xuICAgICAgICAgICAgdGhpcy51bmxvYWRlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMueGhyKSB7XG4gICAgICAgICAgICB0aGlzLmhvb2tzLmFib3J0UmVxdWVzdCh0aGlzLnhocik7XG4gICAgICAgICAgICB0aGlzLnhociA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEhUVFBSZXF1ZXN0LnByb3RvdHlwZS5vbkNodW5rID0gZnVuY3Rpb24gKHN0YXR1cywgZGF0YSkge1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgdmFyIGNodW5rID0gdGhpcy5hZHZhbmNlQnVmZmVyKGRhdGEpO1xuICAgICAgICAgICAgaWYgKGNodW5rKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdjaHVuaycsIHsgc3RhdHVzOiBzdGF0dXMsIGRhdGE6IGNodW5rIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaXNCdWZmZXJUb29Mb25nKGRhdGEpKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2J1ZmZlcl90b29fbG9uZycpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBIVFRQUmVxdWVzdC5wcm90b3R5cGUuYWR2YW5jZUJ1ZmZlciA9IGZ1bmN0aW9uIChidWZmZXIpIHtcbiAgICAgICAgdmFyIHVucmVhZERhdGEgPSBidWZmZXIuc2xpY2UodGhpcy5wb3NpdGlvbik7XG4gICAgICAgIHZhciBlbmRPZkxpbmVQb3NpdGlvbiA9IHVucmVhZERhdGEuaW5kZXhPZignXFxuJyk7XG4gICAgICAgIGlmIChlbmRPZkxpbmVQb3NpdGlvbiAhPT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24gKz0gZW5kT2ZMaW5lUG9zaXRpb24gKyAxO1xuICAgICAgICAgICAgcmV0dXJuIHVucmVhZERhdGEuc2xpY2UoMCwgZW5kT2ZMaW5lUG9zaXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEhUVFBSZXF1ZXN0LnByb3RvdHlwZS5pc0J1ZmZlclRvb0xvbmcgPSBmdW5jdGlvbiAoYnVmZmVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBvc2l0aW9uID09PSBidWZmZXIubGVuZ3RoICYmIGJ1ZmZlci5sZW5ndGggPiBNQVhfQlVGRkVSX0xFTkdUSDtcbiAgICB9O1xuICAgIHJldHVybiBIVFRQUmVxdWVzdDtcbn0oZGlzcGF0Y2hlcikpO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgaHR0cF9yZXF1ZXN0ID0gKGh0dHBfcmVxdWVzdF9IVFRQUmVxdWVzdCk7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvcmUvaHR0cC9zdGF0ZS50c1xudmFyIFN0YXRlO1xuKGZ1bmN0aW9uIChTdGF0ZSkge1xuICAgIFN0YXRlW1N0YXRlW1wiQ09OTkVDVElOR1wiXSA9IDBdID0gXCJDT05ORUNUSU5HXCI7XG4gICAgU3RhdGVbU3RhdGVbXCJPUEVOXCJdID0gMV0gPSBcIk9QRU5cIjtcbiAgICBTdGF0ZVtTdGF0ZVtcIkNMT1NFRFwiXSA9IDNdID0gXCJDTE9TRURcIjtcbn0pKFN0YXRlIHx8IChTdGF0ZSA9IHt9KSk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBzdGF0ZSA9IChTdGF0ZSk7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvcmUvaHR0cC9odHRwX3NvY2tldC50c1xuXG5cblxudmFyIGF1dG9JbmNyZW1lbnQgPSAxO1xudmFyIGh0dHBfc29ja2V0X0hUVFBTb2NrZXQgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEhUVFBTb2NrZXQoaG9va3MsIHVybCkge1xuICAgICAgICB0aGlzLmhvb2tzID0gaG9va3M7XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHJhbmRvbU51bWJlcigxMDAwKSArICcvJyArIHJhbmRvbVN0cmluZyg4KTtcbiAgICAgICAgdGhpcy5sb2NhdGlvbiA9IGdldExvY2F0aW9uKHVybCk7XG4gICAgICAgIHRoaXMucmVhZHlTdGF0ZSA9IHN0YXRlLkNPTk5FQ1RJTkc7XG4gICAgICAgIHRoaXMub3BlblN0cmVhbSgpO1xuICAgIH1cbiAgICBIVFRQU29ja2V0LnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24gKHBheWxvYWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VuZFJhdyhKU09OLnN0cmluZ2lmeShbcGF5bG9hZF0pKTtcbiAgICB9O1xuICAgIEhUVFBTb2NrZXQucHJvdG90eXBlLnBpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaG9va3Muc2VuZEhlYXJ0YmVhdCh0aGlzKTtcbiAgICB9O1xuICAgIEhUVFBTb2NrZXQucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKGNvZGUsIHJlYXNvbikge1xuICAgICAgICB0aGlzLm9uQ2xvc2UoY29kZSwgcmVhc29uLCB0cnVlKTtcbiAgICB9O1xuICAgIEhUVFBTb2NrZXQucHJvdG90eXBlLnNlbmRSYXcgPSBmdW5jdGlvbiAocGF5bG9hZCkge1xuICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSBzdGF0ZS5PUEVOKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJ1bnRpbWUuY3JlYXRlU29ja2V0UmVxdWVzdCgnUE9TVCcsIGdldFVuaXF1ZVVSTChnZXRTZW5kVVJMKHRoaXMubG9jYXRpb24sIHRoaXMuc2Vzc2lvbikpKS5zdGFydChwYXlsb2FkKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBIVFRQU29ja2V0LnByb3RvdHlwZS5yZWNvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2xvc2VTdHJlYW0oKTtcbiAgICAgICAgdGhpcy5vcGVuU3RyZWFtKCk7XG4gICAgfTtcbiAgICBIVFRQU29ja2V0LnByb3RvdHlwZS5vbkNsb3NlID0gZnVuY3Rpb24gKGNvZGUsIHJlYXNvbiwgd2FzQ2xlYW4pIHtcbiAgICAgICAgdGhpcy5jbG9zZVN0cmVhbSgpO1xuICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSBzdGF0ZS5DTE9TRUQ7XG4gICAgICAgIGlmICh0aGlzLm9uY2xvc2UpIHtcbiAgICAgICAgICAgIHRoaXMub25jbG9zZSh7XG4gICAgICAgICAgICAgICAgY29kZTogY29kZSxcbiAgICAgICAgICAgICAgICByZWFzb246IHJlYXNvbixcbiAgICAgICAgICAgICAgICB3YXNDbGVhbjogd2FzQ2xlYW5cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBIVFRQU29ja2V0LnByb3RvdHlwZS5vbkNodW5rID0gZnVuY3Rpb24gKGNodW5rKSB7XG4gICAgICAgIGlmIChjaHVuay5zdGF0dXMgIT09IDIwMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT09IHN0YXRlLk9QRU4pIHtcbiAgICAgICAgICAgIHRoaXMub25BY3Rpdml0eSgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwYXlsb2FkO1xuICAgICAgICB2YXIgdHlwZSA9IGNodW5rLmRhdGEuc2xpY2UoMCwgMSk7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnbyc6XG4gICAgICAgICAgICAgICAgcGF5bG9hZCA9IEpTT04ucGFyc2UoY2h1bmsuZGF0YS5zbGljZSgxKSB8fCAne30nKTtcbiAgICAgICAgICAgICAgICB0aGlzLm9uT3BlbihwYXlsb2FkKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2EnOlxuICAgICAgICAgICAgICAgIHBheWxvYWQgPSBKU09OLnBhcnNlKGNodW5rLmRhdGEuc2xpY2UoMSkgfHwgJ1tdJyk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXlsb2FkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25FdmVudChwYXlsb2FkW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdtJzpcbiAgICAgICAgICAgICAgICBwYXlsb2FkID0gSlNPTi5wYXJzZShjaHVuay5kYXRhLnNsaWNlKDEpIHx8ICdudWxsJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkV2ZW50KHBheWxvYWQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnaCc6XG4gICAgICAgICAgICAgICAgdGhpcy5ob29rcy5vbkhlYXJ0YmVhdCh0aGlzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2MnOlxuICAgICAgICAgICAgICAgIHBheWxvYWQgPSBKU09OLnBhcnNlKGNodW5rLmRhdGEuc2xpY2UoMSkgfHwgJ1tdJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkNsb3NlKHBheWxvYWRbMF0sIHBheWxvYWRbMV0sIHRydWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBIVFRQU29ja2V0LnByb3RvdHlwZS5vbk9wZW4gPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSBzdGF0ZS5DT05ORUNUSU5HKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmhvc3RuYW1lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2NhdGlvbi5iYXNlID0gcmVwbGFjZUhvc3QodGhpcy5sb2NhdGlvbi5iYXNlLCBvcHRpb25zLmhvc3RuYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVhZHlTdGF0ZSA9IHN0YXRlLk9QRU47XG4gICAgICAgICAgICBpZiAodGhpcy5vbm9wZW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9ub3BlbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5vbkNsb3NlKDEwMDYsICdTZXJ2ZXIgbG9zdCBzZXNzaW9uJywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEhUVFBTb2NrZXQucHJvdG90eXBlLm9uRXZlbnQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gc3RhdGUuT1BFTiAmJiB0aGlzLm9ubWVzc2FnZSkge1xuICAgICAgICAgICAgdGhpcy5vbm1lc3NhZ2UoeyBkYXRhOiBldmVudCB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSFRUUFNvY2tldC5wcm90b3R5cGUub25BY3Rpdml0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMub25hY3Rpdml0eSkge1xuICAgICAgICAgICAgdGhpcy5vbmFjdGl2aXR5KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEhUVFBTb2NrZXQucHJvdG90eXBlLm9uRXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgaWYgKHRoaXMub25lcnJvcikge1xuICAgICAgICAgICAgdGhpcy5vbmVycm9yKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSFRUUFNvY2tldC5wcm90b3R5cGUub3BlblN0cmVhbSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5zdHJlYW0gPSBydW50aW1lLmNyZWF0ZVNvY2tldFJlcXVlc3QoJ1BPU1QnLCBnZXRVbmlxdWVVUkwodGhpcy5ob29rcy5nZXRSZWNlaXZlVVJMKHRoaXMubG9jYXRpb24sIHRoaXMuc2Vzc2lvbikpKTtcbiAgICAgICAgdGhpcy5zdHJlYW0uYmluZCgnY2h1bmsnLCBmdW5jdGlvbiAoY2h1bmspIHtcbiAgICAgICAgICAgIF90aGlzLm9uQ2h1bmsoY2h1bmspO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zdHJlYW0uYmluZCgnZmluaXNoZWQnLCBmdW5jdGlvbiAoc3RhdHVzKSB7XG4gICAgICAgICAgICBfdGhpcy5ob29rcy5vbkZpbmlzaGVkKF90aGlzLCBzdGF0dXMpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zdHJlYW0uYmluZCgnYnVmZmVyX3Rvb19sb25nJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMucmVjb25uZWN0KCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5zdHJlYW0uc3RhcnQoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHV0aWwuZGVmZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLm9uRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgIF90aGlzLm9uQ2xvc2UoMTAwNiwgJ0NvdWxkIG5vdCBzdGFydCBzdHJlYW1pbmcnLCBmYWxzZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSFRUUFNvY2tldC5wcm90b3R5cGUuY2xvc2VTdHJlYW0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0cmVhbSkge1xuICAgICAgICAgICAgdGhpcy5zdHJlYW0udW5iaW5kX2FsbCgpO1xuICAgICAgICAgICAgdGhpcy5zdHJlYW0uY2xvc2UoKTtcbiAgICAgICAgICAgIHRoaXMuc3RyZWFtID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEhUVFBTb2NrZXQ7XG59KCkpO1xuZnVuY3Rpb24gZ2V0TG9jYXRpb24odXJsKSB7XG4gICAgdmFyIHBhcnRzID0gLyhbXlxcP10qKVxcLyooXFw/Py4qKS8uZXhlYyh1cmwpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGJhc2U6IHBhcnRzWzFdLFxuICAgICAgICBxdWVyeVN0cmluZzogcGFydHNbMl1cbiAgICB9O1xufVxuZnVuY3Rpb24gZ2V0U2VuZFVSTCh1cmwsIHNlc3Npb24pIHtcbiAgICByZXR1cm4gdXJsLmJhc2UgKyAnLycgKyBzZXNzaW9uICsgJy94aHJfc2VuZCc7XG59XG5mdW5jdGlvbiBnZXRVbmlxdWVVUkwodXJsKSB7XG4gICAgdmFyIHNlcGFyYXRvciA9IHVybC5pbmRleE9mKCc/JykgPT09IC0xID8gJz8nIDogJyYnO1xuICAgIHJldHVybiB1cmwgKyBzZXBhcmF0b3IgKyAndD0nICsgK25ldyBEYXRlKCkgKyAnJm49JyArIGF1dG9JbmNyZW1lbnQrKztcbn1cbmZ1bmN0aW9uIHJlcGxhY2VIb3N0KHVybCwgaG9zdG5hbWUpIHtcbiAgICB2YXIgdXJsUGFydHMgPSAvKGh0dHBzPzpcXC9cXC8pKFteXFwvOl0rKSgoXFwvfDopPy4qKS8uZXhlYyh1cmwpO1xuICAgIHJldHVybiB1cmxQYXJ0c1sxXSArIGhvc3RuYW1lICsgdXJsUGFydHNbM107XG59XG5mdW5jdGlvbiByYW5kb21OdW1iZXIobWF4KSB7XG4gICAgcmV0dXJuIHJ1bnRpbWUucmFuZG9tSW50KG1heCk7XG59XG5mdW5jdGlvbiByYW5kb21TdHJpbmcobGVuZ3RoKSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcmVzdWx0LnB1c2gocmFuZG9tTnVtYmVyKDMyKS50b1N0cmluZygzMikpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0LmpvaW4oJycpO1xufVxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgaHR0cF9zb2NrZXQgPSAoaHR0cF9zb2NrZXRfSFRUUFNvY2tldCk7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvcmUvaHR0cC9odHRwX3N0cmVhbWluZ19zb2NrZXQudHNcbnZhciBodHRwX3N0cmVhbWluZ19zb2NrZXRfaG9va3MgPSB7XG4gICAgZ2V0UmVjZWl2ZVVSTDogZnVuY3Rpb24gKHVybCwgc2Vzc2lvbikge1xuICAgICAgICByZXR1cm4gdXJsLmJhc2UgKyAnLycgKyBzZXNzaW9uICsgJy94aHJfc3RyZWFtaW5nJyArIHVybC5xdWVyeVN0cmluZztcbiAgICB9LFxuICAgIG9uSGVhcnRiZWF0OiBmdW5jdGlvbiAoc29ja2V0KSB7XG4gICAgICAgIHNvY2tldC5zZW5kUmF3KCdbXScpO1xuICAgIH0sXG4gICAgc2VuZEhlYXJ0YmVhdDogZnVuY3Rpb24gKHNvY2tldCkge1xuICAgICAgICBzb2NrZXQuc2VuZFJhdygnW10nKTtcbiAgICB9LFxuICAgIG9uRmluaXNoZWQ6IGZ1bmN0aW9uIChzb2NrZXQsIHN0YXR1cykge1xuICAgICAgICBzb2NrZXQub25DbG9zZSgxMDA2LCAnQ29ubmVjdGlvbiBpbnRlcnJ1cHRlZCAoJyArIHN0YXR1cyArICcpJywgZmFsc2UpO1xuICAgIH1cbn07XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBodHRwX3N0cmVhbWluZ19zb2NrZXQgPSAoaHR0cF9zdHJlYW1pbmdfc29ja2V0X2hvb2tzKTtcblxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29yZS9odHRwL2h0dHBfcG9sbGluZ19zb2NrZXQudHNcbnZhciBodHRwX3BvbGxpbmdfc29ja2V0X2hvb2tzID0ge1xuICAgIGdldFJlY2VpdmVVUkw6IGZ1bmN0aW9uICh1cmwsIHNlc3Npb24pIHtcbiAgICAgICAgcmV0dXJuIHVybC5iYXNlICsgJy8nICsgc2Vzc2lvbiArICcveGhyJyArIHVybC5xdWVyeVN0cmluZztcbiAgICB9LFxuICAgIG9uSGVhcnRiZWF0OiBmdW5jdGlvbiAoKSB7XG4gICAgfSxcbiAgICBzZW5kSGVhcnRiZWF0OiBmdW5jdGlvbiAoc29ja2V0KSB7XG4gICAgICAgIHNvY2tldC5zZW5kUmF3KCdbXScpO1xuICAgIH0sXG4gICAgb25GaW5pc2hlZDogZnVuY3Rpb24gKHNvY2tldCwgc3RhdHVzKSB7XG4gICAgICAgIGlmIChzdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgc29ja2V0LnJlY29ubmVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc29ja2V0Lm9uQ2xvc2UoMTAwNiwgJ0Nvbm5lY3Rpb24gaW50ZXJydXB0ZWQgKCcgKyBzdGF0dXMgKyAnKScsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBodHRwX3BvbGxpbmdfc29ja2V0ID0gKGh0dHBfcG9sbGluZ19zb2NrZXRfaG9va3MpO1xuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9ydW50aW1lcy9pc29tb3JwaGljL2h0dHAvaHR0cF94aHJfcmVxdWVzdC50c1xuXG52YXIgaHR0cF94aHJfcmVxdWVzdF9ob29rcyA9IHtcbiAgICBnZXRSZXF1ZXN0OiBmdW5jdGlvbiAoc29ja2V0KSB7XG4gICAgICAgIHZhciBDb25zdHJ1Y3RvciA9IHJ1bnRpbWUuZ2V0WEhSQVBJKCk7XG4gICAgICAgIHZhciB4aHIgPSBuZXcgQ29uc3RydWN0b3IoKTtcbiAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IHhoci5vbnByb2dyZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc3dpdGNoICh4aHIucmVhZHlTdGF0ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHhoci5yZXNwb25zZVRleHQgJiYgeGhyLnJlc3BvbnNlVGV4dC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzb2NrZXQub25DaHVuayh4aHIuc3RhdHVzLCB4aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh4aHIucmVzcG9uc2VUZXh0ICYmIHhoci5yZXNwb25zZVRleHQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc29ja2V0Lm9uQ2h1bmsoeGhyLnN0YXR1cywgeGhyLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc29ja2V0LmVtaXQoJ2ZpbmlzaGVkJywgeGhyLnN0YXR1cyk7XG4gICAgICAgICAgICAgICAgICAgIHNvY2tldC5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHhocjtcbiAgICB9LFxuICAgIGFib3J0UmVxdWVzdDogZnVuY3Rpb24gKHhocikge1xuICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcbiAgICAgICAgeGhyLmFib3J0KCk7XG4gICAgfVxufTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIGh0dHBfeGhyX3JlcXVlc3QgPSAoaHR0cF94aHJfcmVxdWVzdF9ob29rcyk7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL3J1bnRpbWVzL2lzb21vcnBoaWMvaHR0cC9odHRwLnRzXG5cblxuXG5cblxudmFyIEhUVFAgPSB7XG4gICAgY3JlYXRlU3RyZWFtaW5nU29ja2V0OiBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVNvY2tldChodHRwX3N0cmVhbWluZ19zb2NrZXQsIHVybCk7XG4gICAgfSxcbiAgICBjcmVhdGVQb2xsaW5nU29ja2V0OiBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVNvY2tldChodHRwX3BvbGxpbmdfc29ja2V0LCB1cmwpO1xuICAgIH0sXG4gICAgY3JlYXRlU29ja2V0OiBmdW5jdGlvbiAoaG9va3MsIHVybCkge1xuICAgICAgICByZXR1cm4gbmV3IGh0dHBfc29ja2V0KGhvb2tzLCB1cmwpO1xuICAgIH0sXG4gICAgY3JlYXRlWEhSOiBmdW5jdGlvbiAobWV0aG9kLCB1cmwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlUmVxdWVzdChodHRwX3hocl9yZXF1ZXN0LCBtZXRob2QsIHVybCk7XG4gICAgfSxcbiAgICBjcmVhdGVSZXF1ZXN0OiBmdW5jdGlvbiAoaG9va3MsIG1ldGhvZCwgdXJsKSB7XG4gICAgICAgIHJldHVybiBuZXcgaHR0cF9yZXF1ZXN0KGhvb2tzLCBtZXRob2QsIHVybCk7XG4gICAgfVxufTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIGh0dHBfaHR0cCA9IChIVFRQKTtcblxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvcnVudGltZXMvd2ViL2h0dHAvaHR0cC50c1xuXG5cbmh0dHBfaHR0cC5jcmVhdGVYRFIgPSBmdW5jdGlvbiAobWV0aG9kLCB1cmwpIHtcbiAgICByZXR1cm4gdGhpcy5jcmVhdGVSZXF1ZXN0KGh0dHBfeGRvbWFpbl9yZXF1ZXN0LCBtZXRob2QsIHVybCk7XG59O1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgd2ViX2h0dHBfaHR0cCA9IChodHRwX2h0dHApO1xuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9ydW50aW1lcy93ZWIvcnVudGltZS50c1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxudmFyIFJ1bnRpbWUgPSB7XG4gICAgbmV4dEF1dGhDYWxsYmFja0lEOiAxLFxuICAgIGF1dGhfY2FsbGJhY2tzOiB7fSxcbiAgICBTY3JpcHRSZWNlaXZlcnM6IFNjcmlwdFJlY2VpdmVycyxcbiAgICBEZXBlbmRlbmNpZXNSZWNlaXZlcnM6IERlcGVuZGVuY2llc1JlY2VpdmVycyxcbiAgICBnZXREZWZhdWx0U3RyYXRlZ3k6IGRlZmF1bHRfc3RyYXRlZ3ksXG4gICAgVHJhbnNwb3J0czogdHJhbnNwb3J0c190cmFuc3BvcnRzLFxuICAgIHRyYW5zcG9ydENvbm5lY3Rpb25Jbml0aWFsaXplcjogdHJhbnNwb3J0X2Nvbm5lY3Rpb25faW5pdGlhbGl6ZXIsXG4gICAgSFRUUEZhY3Rvcnk6IHdlYl9odHRwX2h0dHAsXG4gICAgVGltZWxpbmVUcmFuc3BvcnQ6IGpzb25wX3RpbWVsaW5lLFxuICAgIGdldFhIUkFQSTogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gd2luZG93LlhNTEh0dHBSZXF1ZXN0O1xuICAgIH0sXG4gICAgZ2V0V2ViU29ja2V0QVBJOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cuV2ViU29ja2V0IHx8IHdpbmRvdy5Nb3pXZWJTb2NrZXQ7XG4gICAgfSxcbiAgICBzZXR1cDogZnVuY3Rpb24gKFB1c2hlckNsYXNzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHdpbmRvdy5QdXNoZXIgPSBQdXNoZXJDbGFzcztcbiAgICAgICAgdmFyIGluaXRpYWxpemVPbkRvY3VtZW50Qm9keSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLm9uRG9jdW1lbnRCb2R5KFB1c2hlckNsYXNzLnJlYWR5KTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCF3aW5kb3cuSlNPTikge1xuICAgICAgICAgICAgRGVwZW5kZW5jaWVzLmxvYWQoJ2pzb24yJywge30sIGluaXRpYWxpemVPbkRvY3VtZW50Qm9keSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpbml0aWFsaXplT25Eb2N1bWVudEJvZHkoKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZ2V0RG9jdW1lbnQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50O1xuICAgIH0sXG4gICAgZ2V0UHJvdG9jb2w6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RG9jdW1lbnQoKS5sb2NhdGlvbi5wcm90b2NvbDtcbiAgICB9LFxuICAgIGdldEF1dGhvcml6ZXJzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB7IGFqYXg6IHhocl9hdXRoLCBqc29ucDoganNvbnBfYXV0aCB9O1xuICAgIH0sXG4gICAgb25Eb2N1bWVudEJvZHk6IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoZG9jdW1lbnQuYm9keSkge1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLm9uRG9jdW1lbnRCb2R5KGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH0sIDApO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBjcmVhdGVKU09OUFJlcXVlc3Q6IGZ1bmN0aW9uICh1cmwsIGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBqc29ucF9yZXF1ZXN0KHVybCwgZGF0YSk7XG4gICAgfSxcbiAgICBjcmVhdGVTY3JpcHRSZXF1ZXN0OiBmdW5jdGlvbiAoc3JjKSB7XG4gICAgICAgIHJldHVybiBuZXcgc2NyaXB0X3JlcXVlc3Qoc3JjKTtcbiAgICB9LFxuICAgIGdldExvY2FsU3RvcmFnZTogZnVuY3Rpb24gKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2U7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGNyZWF0ZVhIUjogZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5nZXRYSFJBUEkoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZU1pY3Jvc29mdFhIUigpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBjcmVhdGVYTUxIdHRwUmVxdWVzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgQ29uc3RydWN0b3IgPSB0aGlzLmdldFhIUkFQSSgpO1xuICAgICAgICByZXR1cm4gbmV3IENvbnN0cnVjdG9yKCk7XG4gICAgfSxcbiAgICBjcmVhdGVNaWNyb3NvZnRYSFI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBY3RpdmVYT2JqZWN0KCdNaWNyb3NvZnQuWE1MSFRUUCcpO1xuICAgIH0sXG4gICAgZ2V0TmV0d29yazogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV0X2luZm9fTmV0d29yaztcbiAgICB9LFxuICAgIGNyZWF0ZVdlYlNvY2tldDogZnVuY3Rpb24gKHVybCkge1xuICAgICAgICB2YXIgQ29uc3RydWN0b3IgPSB0aGlzLmdldFdlYlNvY2tldEFQSSgpO1xuICAgICAgICByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHVybCk7XG4gICAgfSxcbiAgICBjcmVhdGVTb2NrZXRSZXF1ZXN0OiBmdW5jdGlvbiAobWV0aG9kLCB1cmwpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNYSFJTdXBwb3J0ZWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuSFRUUEZhY3RvcnkuY3JlYXRlWEhSKG1ldGhvZCwgdXJsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmlzWERSU3VwcG9ydGVkKHVybC5pbmRleE9mKCdodHRwczonKSA9PT0gMCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLkhUVFBGYWN0b3J5LmNyZWF0ZVhEUihtZXRob2QsIHVybCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyAnQ3Jvc3Mtb3JpZ2luIEhUVFAgcmVxdWVzdHMgYXJlIG5vdCBzdXBwb3J0ZWQnO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBpc1hIUlN1cHBvcnRlZDogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgQ29uc3RydWN0b3IgPSB0aGlzLmdldFhIUkFQSSgpO1xuICAgICAgICByZXR1cm4gKEJvb2xlYW4oQ29uc3RydWN0b3IpICYmIG5ldyBDb25zdHJ1Y3RvcigpLndpdGhDcmVkZW50aWFscyAhPT0gdW5kZWZpbmVkKTtcbiAgICB9LFxuICAgIGlzWERSU3VwcG9ydGVkOiBmdW5jdGlvbiAodXNlVExTKSB7XG4gICAgICAgIHZhciBwcm90b2NvbCA9IHVzZVRMUyA/ICdodHRwczonIDogJ2h0dHA6JztcbiAgICAgICAgdmFyIGRvY3VtZW50UHJvdG9jb2wgPSB0aGlzLmdldFByb3RvY29sKCk7XG4gICAgICAgIHJldHVybiAoQm9vbGVhbih3aW5kb3dbJ1hEb21haW5SZXF1ZXN0J10pICYmIGRvY3VtZW50UHJvdG9jb2wgPT09IHByb3RvY29sKTtcbiAgICB9LFxuICAgIGFkZFVubG9hZExpc3RlbmVyOiBmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd1bmxvYWQnLCBsaXN0ZW5lciwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHdpbmRvdy5hdHRhY2hFdmVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3aW5kb3cuYXR0YWNoRXZlbnQoJ29udW5sb2FkJywgbGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICByZW1vdmVVbmxvYWRMaXN0ZW5lcjogZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICAgIGlmICh3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndW5sb2FkJywgbGlzdGVuZXIsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh3aW5kb3cuZGV0YWNoRXZlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd2luZG93LmRldGFjaEV2ZW50KCdvbnVubG9hZCcsIGxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmFuZG9tSW50OiBmdW5jdGlvbiAobWF4KSB7XG4gICAgICAgIHZhciByYW5kb20gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgY3J5cHRvID0gd2luZG93LmNyeXB0byB8fCB3aW5kb3dbJ21zQ3J5cHRvJ107XG4gICAgICAgICAgICB2YXIgcmFuZG9tID0gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDMyQXJyYXkoMSkpWzBdO1xuICAgICAgICAgICAgcmV0dXJuIHJhbmRvbSAvIE1hdGgucG93KDIsIDMyKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IocmFuZG9tKCkgKiBtYXgpO1xuICAgIH1cbn07XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBydW50aW1lID0gKFJ1bnRpbWUpO1xuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb3JlL3RpbWVsaW5lL2xldmVsLnRzXG52YXIgVGltZWxpbmVMZXZlbDtcbihmdW5jdGlvbiAoVGltZWxpbmVMZXZlbCkge1xuICAgIFRpbWVsaW5lTGV2ZWxbVGltZWxpbmVMZXZlbFtcIkVSUk9SXCJdID0gM10gPSBcIkVSUk9SXCI7XG4gICAgVGltZWxpbmVMZXZlbFtUaW1lbGluZUxldmVsW1wiSU5GT1wiXSA9IDZdID0gXCJJTkZPXCI7XG4gICAgVGltZWxpbmVMZXZlbFtUaW1lbGluZUxldmVsW1wiREVCVUdcIl0gPSA3XSA9IFwiREVCVUdcIjtcbn0pKFRpbWVsaW5lTGV2ZWwgfHwgKFRpbWVsaW5lTGV2ZWwgPSB7fSkpO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgdGltZWxpbmVfbGV2ZWwgPSAoVGltZWxpbmVMZXZlbCk7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvcmUvdGltZWxpbmUvdGltZWxpbmUudHNcblxuXG5cbnZhciB0aW1lbGluZV9UaW1lbGluZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVGltZWxpbmUoa2V5LCBzZXNzaW9uLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMua2V5ID0ga2V5O1xuICAgICAgICB0aGlzLnNlc3Npb24gPSBzZXNzaW9uO1xuICAgICAgICB0aGlzLmV2ZW50cyA9IFtdO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICB0aGlzLnNlbnQgPSAwO1xuICAgICAgICB0aGlzLnVuaXF1ZUlEID0gMDtcbiAgICB9XG4gICAgVGltZWxpbmUucHJvdG90eXBlLmxvZyA9IGZ1bmN0aW9uIChsZXZlbCwgZXZlbnQpIHtcbiAgICAgICAgaWYgKGxldmVsIDw9IHRoaXMub3B0aW9ucy5sZXZlbCkge1xuICAgICAgICAgICAgdGhpcy5ldmVudHMucHVzaChleHRlbmQoe30sIGV2ZW50LCB7IHRpbWVzdGFtcDogdXRpbC5ub3coKSB9KSk7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmxpbWl0ICYmIHRoaXMuZXZlbnRzLmxlbmd0aCA+IHRoaXMub3B0aW9ucy5saW1pdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLnNoaWZ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRpbWVsaW5lLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB0aGlzLmxvZyh0aW1lbGluZV9sZXZlbC5FUlJPUiwgZXZlbnQpO1xuICAgIH07XG4gICAgVGltZWxpbmUucHJvdG90eXBlLmluZm8gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5sb2codGltZWxpbmVfbGV2ZWwuSU5GTywgZXZlbnQpO1xuICAgIH07XG4gICAgVGltZWxpbmUucHJvdG90eXBlLmRlYnVnID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHRoaXMubG9nKHRpbWVsaW5lX2xldmVsLkRFQlVHLCBldmVudCk7XG4gICAgfTtcbiAgICBUaW1lbGluZS5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnRzLmxlbmd0aCA9PT0gMDtcbiAgICB9O1xuICAgIFRpbWVsaW5lLnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24gKHNlbmRmbiwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGRhdGEgPSBleHRlbmQoe1xuICAgICAgICAgICAgc2Vzc2lvbjogdGhpcy5zZXNzaW9uLFxuICAgICAgICAgICAgYnVuZGxlOiB0aGlzLnNlbnQgKyAxLFxuICAgICAgICAgICAga2V5OiB0aGlzLmtleSxcbiAgICAgICAgICAgIGxpYjogJ2pzJyxcbiAgICAgICAgICAgIHZlcnNpb246IHRoaXMub3B0aW9ucy52ZXJzaW9uLFxuICAgICAgICAgICAgY2x1c3RlcjogdGhpcy5vcHRpb25zLmNsdXN0ZXIsXG4gICAgICAgICAgICBmZWF0dXJlczogdGhpcy5vcHRpb25zLmZlYXR1cmVzLFxuICAgICAgICAgICAgdGltZWxpbmU6IHRoaXMuZXZlbnRzXG4gICAgICAgIH0sIHRoaXMub3B0aW9ucy5wYXJhbXMpO1xuICAgICAgICB0aGlzLmV2ZW50cyA9IFtdO1xuICAgICAgICBzZW5kZm4oZGF0YSwgZnVuY3Rpb24gKGVycm9yLCByZXN1bHQpIHtcbiAgICAgICAgICAgIGlmICghZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zZW50Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnJvciwgcmVzdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgVGltZWxpbmUucHJvdG90eXBlLmdlbmVyYXRlVW5pcXVlSUQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudW5pcXVlSUQrKztcbiAgICAgICAgcmV0dXJuIHRoaXMudW5pcXVlSUQ7XG4gICAgfTtcbiAgICByZXR1cm4gVGltZWxpbmU7XG59KCkpO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgdGltZWxpbmVfdGltZWxpbmUgPSAodGltZWxpbmVfVGltZWxpbmUpO1xuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb3JlL3N0cmF0ZWdpZXMvdHJhbnNwb3J0X3N0cmF0ZWd5LnRzXG5cblxuXG5cbnZhciB0cmFuc3BvcnRfc3RyYXRlZ3lfVHJhbnNwb3J0U3RyYXRlZ3kgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRyYW5zcG9ydFN0cmF0ZWd5KG5hbWUsIHByaW9yaXR5LCB0cmFuc3BvcnQsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xuICAgICAgICB0aGlzLnRyYW5zcG9ydCA9IHRyYW5zcG9ydDtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICB9XG4gICAgVHJhbnNwb3J0U3RyYXRlZ3kucHJvdG90eXBlLmlzU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc3BvcnQuaXNTdXBwb3J0ZWQoe1xuICAgICAgICAgICAgdXNlVExTOiB0aGlzLm9wdGlvbnMudXNlVExTXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgVHJhbnNwb3J0U3RyYXRlZ3kucHJvdG90eXBlLmNvbm5lY3QgPSBmdW5jdGlvbiAobWluUHJpb3JpdHksIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy5pc1N1cHBvcnRlZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFpbEF0dGVtcHQobmV3IFVuc3VwcG9ydGVkU3RyYXRlZ3koKSwgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMucHJpb3JpdHkgPCBtaW5Qcmlvcml0eSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhaWxBdHRlbXB0KG5ldyBUcmFuc3BvcnRQcmlvcml0eVRvb0xvdygpLCBjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgdHJhbnNwb3J0ID0gdGhpcy50cmFuc3BvcnQuY3JlYXRlQ29ubmVjdGlvbih0aGlzLm5hbWUsIHRoaXMucHJpb3JpdHksIHRoaXMub3B0aW9ucy5rZXksIHRoaXMub3B0aW9ucyk7XG4gICAgICAgIHZhciBoYW5kc2hha2UgPSBudWxsO1xuICAgICAgICB2YXIgb25Jbml0aWFsaXplZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRyYW5zcG9ydC51bmJpbmQoJ2luaXRpYWxpemVkJywgb25Jbml0aWFsaXplZCk7XG4gICAgICAgICAgICB0cmFuc3BvcnQuY29ubmVjdCgpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgb25PcGVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaGFuZHNoYWtlID0gZmFjdG9yeS5jcmVhdGVIYW5kc2hha2UodHJhbnNwb3J0LCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgY29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB1bmJpbmRMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCByZXN1bHQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBvbkVycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICB1bmJpbmRMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIG9uQ2xvc2VkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdW5iaW5kTGlzdGVuZXJzKCk7XG4gICAgICAgICAgICB2YXIgc2VyaWFsaXplZFRyYW5zcG9ydDtcbiAgICAgICAgICAgIHNlcmlhbGl6ZWRUcmFuc3BvcnQgPSBzYWZlSlNPTlN0cmluZ2lmeSh0cmFuc3BvcnQpO1xuICAgICAgICAgICAgY2FsbGJhY2sobmV3IFRyYW5zcG9ydENsb3NlZChzZXJpYWxpemVkVHJhbnNwb3J0KSk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciB1bmJpbmRMaXN0ZW5lcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0cmFuc3BvcnQudW5iaW5kKCdpbml0aWFsaXplZCcsIG9uSW5pdGlhbGl6ZWQpO1xuICAgICAgICAgICAgdHJhbnNwb3J0LnVuYmluZCgnb3BlbicsIG9uT3Blbik7XG4gICAgICAgICAgICB0cmFuc3BvcnQudW5iaW5kKCdlcnJvcicsIG9uRXJyb3IpO1xuICAgICAgICAgICAgdHJhbnNwb3J0LnVuYmluZCgnY2xvc2VkJywgb25DbG9zZWQpO1xuICAgICAgICB9O1xuICAgICAgICB0cmFuc3BvcnQuYmluZCgnaW5pdGlhbGl6ZWQnLCBvbkluaXRpYWxpemVkKTtcbiAgICAgICAgdHJhbnNwb3J0LmJpbmQoJ29wZW4nLCBvbk9wZW4pO1xuICAgICAgICB0cmFuc3BvcnQuYmluZCgnZXJyb3InLCBvbkVycm9yKTtcbiAgICAgICAgdHJhbnNwb3J0LmJpbmQoJ2Nsb3NlZCcsIG9uQ2xvc2VkKTtcbiAgICAgICAgdHJhbnNwb3J0LmluaXRpYWxpemUoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFib3J0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbm5lY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHVuYmluZExpc3RlbmVycygpO1xuICAgICAgICAgICAgICAgIGlmIChoYW5kc2hha2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZHNoYWtlLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0cmFuc3BvcnQuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZm9yY2VNaW5Qcmlvcml0eTogZnVuY3Rpb24gKHApIHtcbiAgICAgICAgICAgICAgICBpZiAoY29ubmVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnByaW9yaXR5IDwgcCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaGFuZHNoYWtlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kc2hha2UuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zcG9ydC5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG4gICAgcmV0dXJuIFRyYW5zcG9ydFN0cmF0ZWd5O1xufSgpKTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIHRyYW5zcG9ydF9zdHJhdGVneSA9ICh0cmFuc3BvcnRfc3RyYXRlZ3lfVHJhbnNwb3J0U3RyYXRlZ3kpO1xuZnVuY3Rpb24gZmFpbEF0dGVtcHQoZXJyb3IsIGNhbGxiYWNrKSB7XG4gICAgdXRpbC5kZWZlcihmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhbGxiYWNrKGVycm9yKTtcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBhYm9ydDogZnVuY3Rpb24gKCkgeyB9LFxuICAgICAgICBmb3JjZU1pblByaW9yaXR5OiBmdW5jdGlvbiAoKSB7IH1cbiAgICB9O1xufVxuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb3JlL3N0cmF0ZWdpZXMvc3RyYXRlZ3lfYnVpbGRlci50c1xuXG5cblxuXG5cbnZhciBzdHJhdGVneV9idWlsZGVyX1RyYW5zcG9ydHMgPSBydW50aW1lLlRyYW5zcG9ydHM7XG52YXIgc3RyYXRlZ3lfYnVpbGRlcl9kZWZpbmVUcmFuc3BvcnQgPSBmdW5jdGlvbiAoY29uZmlnLCBuYW1lLCB0eXBlLCBwcmlvcml0eSwgb3B0aW9ucywgbWFuYWdlcikge1xuICAgIHZhciB0cmFuc3BvcnRDbGFzcyA9IHN0cmF0ZWd5X2J1aWxkZXJfVHJhbnNwb3J0c1t0eXBlXTtcbiAgICBpZiAoIXRyYW5zcG9ydENsYXNzKSB7XG4gICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZFRyYW5zcG9ydCh0eXBlKTtcbiAgICB9XG4gICAgdmFyIGVuYWJsZWQgPSAoIWNvbmZpZy5lbmFibGVkVHJhbnNwb3J0cyB8fFxuICAgICAgICBhcnJheUluZGV4T2YoY29uZmlnLmVuYWJsZWRUcmFuc3BvcnRzLCBuYW1lKSAhPT0gLTEpICYmXG4gICAgICAgICghY29uZmlnLmRpc2FibGVkVHJhbnNwb3J0cyB8fFxuICAgICAgICAgICAgYXJyYXlJbmRleE9mKGNvbmZpZy5kaXNhYmxlZFRyYW5zcG9ydHMsIG5hbWUpID09PSAtMSk7XG4gICAgdmFyIHRyYW5zcG9ydDtcbiAgICBpZiAoZW5hYmxlZCkge1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7IGlnbm9yZU51bGxPcmlnaW46IGNvbmZpZy5pZ25vcmVOdWxsT3JpZ2luIH0sIG9wdGlvbnMpO1xuICAgICAgICB0cmFuc3BvcnQgPSBuZXcgdHJhbnNwb3J0X3N0cmF0ZWd5KG5hbWUsIHByaW9yaXR5LCBtYW5hZ2VyID8gbWFuYWdlci5nZXRBc3Npc3RhbnQodHJhbnNwb3J0Q2xhc3MpIDogdHJhbnNwb3J0Q2xhc3MsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdHJhbnNwb3J0ID0gc3RyYXRlZ3lfYnVpbGRlcl9VbnN1cHBvcnRlZFN0cmF0ZWd5O1xuICAgIH1cbiAgICByZXR1cm4gdHJhbnNwb3J0O1xufTtcbnZhciBzdHJhdGVneV9idWlsZGVyX1Vuc3VwcG9ydGVkU3RyYXRlZ3kgPSB7XG4gICAgaXNTdXBwb3J0ZWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gICAgY29ubmVjdDogZnVuY3Rpb24gKF8sIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBkZWZlcnJlZCA9IHV0aWwuZGVmZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY2FsbGJhY2sobmV3IFVuc3VwcG9ydGVkU3RyYXRlZ3koKSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYWJvcnQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBkZWZlcnJlZC5lbnN1cmVBYm9ydGVkKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZm9yY2VNaW5Qcmlvcml0eTogZnVuY3Rpb24gKCkgeyB9XG4gICAgICAgIH07XG4gICAgfVxufTtcblxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29yZS9hdXRoL3VzZXJfYXV0aGVudGljYXRvci50c1xuXG5cbnZhciBjb21wb3NlQ2hhbm5lbFF1ZXJ5ID0gZnVuY3Rpb24gKHBhcmFtcywgYXV0aE9wdGlvbnMpIHtcbiAgICB2YXIgcXVlcnkgPSAnc29ja2V0X2lkPScgKyBlbmNvZGVVUklDb21wb25lbnQocGFyYW1zLnNvY2tldElkKTtcbiAgICBmb3IgKHZhciBrZXkgaW4gYXV0aE9wdGlvbnMucGFyYW1zKSB7XG4gICAgICAgIHF1ZXJ5ICs9XG4gICAgICAgICAgICAnJicgK1xuICAgICAgICAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChrZXkpICtcbiAgICAgICAgICAgICAgICAnPScgK1xuICAgICAgICAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChhdXRoT3B0aW9ucy5wYXJhbXNba2V5XSk7XG4gICAgfVxuICAgIGlmIChhdXRoT3B0aW9ucy5wYXJhbXNQcm92aWRlciAhPSBudWxsKSB7XG4gICAgICAgIHZhciBkeW5hbWljUGFyYW1zID0gYXV0aE9wdGlvbnMucGFyYW1zUHJvdmlkZXIoKTtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIGR5bmFtaWNQYXJhbXMpIHtcbiAgICAgICAgICAgIHF1ZXJ5ICs9XG4gICAgICAgICAgICAgICAgJyYnICtcbiAgICAgICAgICAgICAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KGtleSkgK1xuICAgICAgICAgICAgICAgICAgICAnPScgK1xuICAgICAgICAgICAgICAgICAgICBlbmNvZGVVUklDb21wb25lbnQoZHluYW1pY1BhcmFtc1trZXldKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcXVlcnk7XG59O1xudmFyIFVzZXJBdXRoZW50aWNhdG9yID0gZnVuY3Rpb24gKGF1dGhPcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiBydW50aW1lLmdldEF1dGhvcml6ZXJzKClbYXV0aE9wdGlvbnMudHJhbnNwb3J0XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhyb3cgXCInXCIgKyBhdXRoT3B0aW9ucy50cmFuc3BvcnQgKyBcIicgaXMgbm90IGEgcmVjb2duaXplZCBhdXRoIHRyYW5zcG9ydFwiO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKHBhcmFtcywgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHF1ZXJ5ID0gY29tcG9zZUNoYW5uZWxRdWVyeShwYXJhbXMsIGF1dGhPcHRpb25zKTtcbiAgICAgICAgcnVudGltZS5nZXRBdXRob3JpemVycygpW2F1dGhPcHRpb25zLnRyYW5zcG9ydF0ocnVudGltZSwgcXVlcnksIGF1dGhPcHRpb25zLCBBdXRoUmVxdWVzdFR5cGUuVXNlckF1dGhlbnRpY2F0aW9uLCBjYWxsYmFjayk7XG4gICAgfTtcbn07XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciB1c2VyX2F1dGhlbnRpY2F0b3IgPSAoVXNlckF1dGhlbnRpY2F0b3IpO1xuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb3JlL2F1dGgvY2hhbm5lbF9hdXRob3JpemVyLnRzXG5cblxudmFyIGNoYW5uZWxfYXV0aG9yaXplcl9jb21wb3NlQ2hhbm5lbFF1ZXJ5ID0gZnVuY3Rpb24gKHBhcmFtcywgYXV0aE9wdGlvbnMpIHtcbiAgICB2YXIgcXVlcnkgPSAnc29ja2V0X2lkPScgKyBlbmNvZGVVUklDb21wb25lbnQocGFyYW1zLnNvY2tldElkKTtcbiAgICBxdWVyeSArPSAnJmNoYW5uZWxfbmFtZT0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHBhcmFtcy5jaGFubmVsTmFtZSk7XG4gICAgZm9yICh2YXIga2V5IGluIGF1dGhPcHRpb25zLnBhcmFtcykge1xuICAgICAgICBxdWVyeSArPVxuICAgICAgICAgICAgJyYnICtcbiAgICAgICAgICAgICAgICBlbmNvZGVVUklDb21wb25lbnQoa2V5KSArXG4gICAgICAgICAgICAgICAgJz0nICtcbiAgICAgICAgICAgICAgICBlbmNvZGVVUklDb21wb25lbnQoYXV0aE9wdGlvbnMucGFyYW1zW2tleV0pO1xuICAgIH1cbiAgICBpZiAoYXV0aE9wdGlvbnMucGFyYW1zUHJvdmlkZXIgIT0gbnVsbCkge1xuICAgICAgICB2YXIgZHluYW1pY1BhcmFtcyA9IGF1dGhPcHRpb25zLnBhcmFtc1Byb3ZpZGVyKCk7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBkeW5hbWljUGFyYW1zKSB7XG4gICAgICAgICAgICBxdWVyeSArPVxuICAgICAgICAgICAgICAgICcmJyArXG4gICAgICAgICAgICAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChrZXkpICtcbiAgICAgICAgICAgICAgICAgICAgJz0nICtcbiAgICAgICAgICAgICAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KGR5bmFtaWNQYXJhbXNba2V5XSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHF1ZXJ5O1xufTtcbnZhciBDaGFubmVsQXV0aG9yaXplciA9IGZ1bmN0aW9uIChhdXRoT3B0aW9ucykge1xuICAgIGlmICh0eXBlb2YgcnVudGltZS5nZXRBdXRob3JpemVycygpW2F1dGhPcHRpb25zLnRyYW5zcG9ydF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRocm93IFwiJ1wiICsgYXV0aE9wdGlvbnMudHJhbnNwb3J0ICsgXCInIGlzIG5vdCBhIHJlY29nbml6ZWQgYXV0aCB0cmFuc3BvcnRcIjtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChwYXJhbXMsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBxdWVyeSA9IGNoYW5uZWxfYXV0aG9yaXplcl9jb21wb3NlQ2hhbm5lbFF1ZXJ5KHBhcmFtcywgYXV0aE9wdGlvbnMpO1xuICAgICAgICBydW50aW1lLmdldEF1dGhvcml6ZXJzKClbYXV0aE9wdGlvbnMudHJhbnNwb3J0XShydW50aW1lLCBxdWVyeSwgYXV0aE9wdGlvbnMsIEF1dGhSZXF1ZXN0VHlwZS5DaGFubmVsQXV0aG9yaXphdGlvbiwgY2FsbGJhY2spO1xuICAgIH07XG59O1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgY2hhbm5lbF9hdXRob3JpemVyID0gKENoYW5uZWxBdXRob3JpemVyKTtcblxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29yZS9hdXRoL2RlcHJlY2F0ZWRfY2hhbm5lbF9hdXRob3JpemVyLnRzXG52YXIgQ2hhbm5lbEF1dGhvcml6ZXJQcm94eSA9IGZ1bmN0aW9uIChwdXNoZXIsIGF1dGhPcHRpb25zLCBjaGFubmVsQXV0aG9yaXplckdlbmVyYXRvcikge1xuICAgIHZhciBkZXByZWNhdGVkQXV0aG9yaXplck9wdGlvbnMgPSB7XG4gICAgICAgIGF1dGhUcmFuc3BvcnQ6IGF1dGhPcHRpb25zLnRyYW5zcG9ydCxcbiAgICAgICAgYXV0aEVuZHBvaW50OiBhdXRoT3B0aW9ucy5lbmRwb2ludCxcbiAgICAgICAgYXV0aDoge1xuICAgICAgICAgICAgcGFyYW1zOiBhdXRoT3B0aW9ucy5wYXJhbXMsXG4gICAgICAgICAgICBoZWFkZXJzOiBhdXRoT3B0aW9ucy5oZWFkZXJzXG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAocGFyYW1zLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgY2hhbm5lbCA9IHB1c2hlci5jaGFubmVsKHBhcmFtcy5jaGFubmVsTmFtZSk7XG4gICAgICAgIHZhciBjaGFubmVsQXV0aG9yaXplciA9IGNoYW5uZWxBdXRob3JpemVyR2VuZXJhdG9yKGNoYW5uZWwsIGRlcHJlY2F0ZWRBdXRob3JpemVyT3B0aW9ucyk7XG4gICAgICAgIGNoYW5uZWxBdXRob3JpemVyLmF1dGhvcml6ZShwYXJhbXMuc29ja2V0SWQsIGNhbGxiYWNrKTtcbiAgICB9O1xufTtcblxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29yZS9jb25maWcudHNcbnZhciBfX2Fzc2lnbiA9ICh1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuXG5cblxuXG5cbmZ1bmN0aW9uIGdldENvbmZpZyhvcHRzLCBwdXNoZXIpIHtcbiAgICB2YXIgY29uZmlnID0ge1xuICAgICAgICBhY3Rpdml0eVRpbWVvdXQ6IG9wdHMuYWN0aXZpdHlUaW1lb3V0IHx8IGRlZmF1bHRzLmFjdGl2aXR5VGltZW91dCxcbiAgICAgICAgY2x1c3Rlcjogb3B0cy5jbHVzdGVyIHx8IGRlZmF1bHRzLmNsdXN0ZXIsXG4gICAgICAgIGh0dHBQYXRoOiBvcHRzLmh0dHBQYXRoIHx8IGRlZmF1bHRzLmh0dHBQYXRoLFxuICAgICAgICBodHRwUG9ydDogb3B0cy5odHRwUG9ydCB8fCBkZWZhdWx0cy5odHRwUG9ydCxcbiAgICAgICAgaHR0cHNQb3J0OiBvcHRzLmh0dHBzUG9ydCB8fCBkZWZhdWx0cy5odHRwc1BvcnQsXG4gICAgICAgIHBvbmdUaW1lb3V0OiBvcHRzLnBvbmdUaW1lb3V0IHx8IGRlZmF1bHRzLnBvbmdUaW1lb3V0LFxuICAgICAgICBzdGF0c0hvc3Q6IG9wdHMuc3RhdHNIb3N0IHx8IGRlZmF1bHRzLnN0YXRzX2hvc3QsXG4gICAgICAgIHVuYXZhaWxhYmxlVGltZW91dDogb3B0cy51bmF2YWlsYWJsZVRpbWVvdXQgfHwgZGVmYXVsdHMudW5hdmFpbGFibGVUaW1lb3V0LFxuICAgICAgICB3c1BhdGg6IG9wdHMud3NQYXRoIHx8IGRlZmF1bHRzLndzUGF0aCxcbiAgICAgICAgd3NQb3J0OiBvcHRzLndzUG9ydCB8fCBkZWZhdWx0cy53c1BvcnQsXG4gICAgICAgIHdzc1BvcnQ6IG9wdHMud3NzUG9ydCB8fCBkZWZhdWx0cy53c3NQb3J0LFxuICAgICAgICBlbmFibGVTdGF0czogZ2V0RW5hYmxlU3RhdHNDb25maWcob3B0cyksXG4gICAgICAgIGh0dHBIb3N0OiBnZXRIdHRwSG9zdChvcHRzKSxcbiAgICAgICAgdXNlVExTOiBzaG91bGRVc2VUTFMob3B0cyksXG4gICAgICAgIHdzSG9zdDogZ2V0V2Vic29ja2V0SG9zdChvcHRzKSxcbiAgICAgICAgdXNlckF1dGhlbnRpY2F0b3I6IGJ1aWxkVXNlckF1dGhlbnRpY2F0b3Iob3B0cyksXG4gICAgICAgIGNoYW5uZWxBdXRob3JpemVyOiBidWlsZENoYW5uZWxBdXRob3JpemVyKG9wdHMsIHB1c2hlcilcbiAgICB9O1xuICAgIGlmICgnZGlzYWJsZWRUcmFuc3BvcnRzJyBpbiBvcHRzKVxuICAgICAgICBjb25maWcuZGlzYWJsZWRUcmFuc3BvcnRzID0gb3B0cy5kaXNhYmxlZFRyYW5zcG9ydHM7XG4gICAgaWYgKCdlbmFibGVkVHJhbnNwb3J0cycgaW4gb3B0cylcbiAgICAgICAgY29uZmlnLmVuYWJsZWRUcmFuc3BvcnRzID0gb3B0cy5lbmFibGVkVHJhbnNwb3J0cztcbiAgICBpZiAoJ2lnbm9yZU51bGxPcmlnaW4nIGluIG9wdHMpXG4gICAgICAgIGNvbmZpZy5pZ25vcmVOdWxsT3JpZ2luID0gb3B0cy5pZ25vcmVOdWxsT3JpZ2luO1xuICAgIGlmICgndGltZWxpbmVQYXJhbXMnIGluIG9wdHMpXG4gICAgICAgIGNvbmZpZy50aW1lbGluZVBhcmFtcyA9IG9wdHMudGltZWxpbmVQYXJhbXM7XG4gICAgaWYgKCduYWNsJyBpbiBvcHRzKSB7XG4gICAgICAgIGNvbmZpZy5uYWNsID0gb3B0cy5uYWNsO1xuICAgIH1cbiAgICByZXR1cm4gY29uZmlnO1xufVxuZnVuY3Rpb24gZ2V0SHR0cEhvc3Qob3B0cykge1xuICAgIGlmIChvcHRzLmh0dHBIb3N0KSB7XG4gICAgICAgIHJldHVybiBvcHRzLmh0dHBIb3N0O1xuICAgIH1cbiAgICBpZiAob3B0cy5jbHVzdGVyKSB7XG4gICAgICAgIHJldHVybiBcInNvY2tqcy1cIiArIG9wdHMuY2x1c3RlciArIFwiLnB1c2hlci5jb21cIjtcbiAgICB9XG4gICAgcmV0dXJuIGRlZmF1bHRzLmh0dHBIb3N0O1xufVxuZnVuY3Rpb24gZ2V0V2Vic29ja2V0SG9zdChvcHRzKSB7XG4gICAgaWYgKG9wdHMud3NIb3N0KSB7XG4gICAgICAgIHJldHVybiBvcHRzLndzSG9zdDtcbiAgICB9XG4gICAgaWYgKG9wdHMuY2x1c3Rlcikge1xuICAgICAgICByZXR1cm4gZ2V0V2Vic29ja2V0SG9zdEZyb21DbHVzdGVyKG9wdHMuY2x1c3Rlcik7XG4gICAgfVxuICAgIHJldHVybiBnZXRXZWJzb2NrZXRIb3N0RnJvbUNsdXN0ZXIoZGVmYXVsdHMuY2x1c3Rlcik7XG59XG5mdW5jdGlvbiBnZXRXZWJzb2NrZXRIb3N0RnJvbUNsdXN0ZXIoY2x1c3Rlcikge1xuICAgIHJldHVybiBcIndzLVwiICsgY2x1c3RlciArIFwiLnB1c2hlci5jb21cIjtcbn1cbmZ1bmN0aW9uIHNob3VsZFVzZVRMUyhvcHRzKSB7XG4gICAgaWYgKHJ1bnRpbWUuZ2V0UHJvdG9jb2woKSA9PT0gJ2h0dHBzOicpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKG9wdHMuZm9yY2VUTFMgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBnZXRFbmFibGVTdGF0c0NvbmZpZyhvcHRzKSB7XG4gICAgaWYgKCdlbmFibGVTdGF0cycgaW4gb3B0cykge1xuICAgICAgICByZXR1cm4gb3B0cy5lbmFibGVTdGF0cztcbiAgICB9XG4gICAgaWYgKCdkaXNhYmxlU3RhdHMnIGluIG9wdHMpIHtcbiAgICAgICAgcmV0dXJuICFvcHRzLmRpc2FibGVTdGF0cztcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gYnVpbGRVc2VyQXV0aGVudGljYXRvcihvcHRzKSB7XG4gICAgdmFyIHVzZXJBdXRoZW50aWNhdGlvbiA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBkZWZhdWx0cy51c2VyQXV0aGVudGljYXRpb24pLCBvcHRzLnVzZXJBdXRoZW50aWNhdGlvbik7XG4gICAgaWYgKCdjdXN0b21IYW5kbGVyJyBpbiB1c2VyQXV0aGVudGljYXRpb24gJiZcbiAgICAgICAgdXNlckF1dGhlbnRpY2F0aW9uWydjdXN0b21IYW5kbGVyJ10gIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdXNlckF1dGhlbnRpY2F0aW9uWydjdXN0b21IYW5kbGVyJ107XG4gICAgfVxuICAgIHJldHVybiB1c2VyX2F1dGhlbnRpY2F0b3IodXNlckF1dGhlbnRpY2F0aW9uKTtcbn1cbmZ1bmN0aW9uIGJ1aWxkQ2hhbm5lbEF1dGgob3B0cywgcHVzaGVyKSB7XG4gICAgdmFyIGNoYW5uZWxBdXRob3JpemF0aW9uO1xuICAgIGlmICgnY2hhbm5lbEF1dGhvcml6YXRpb24nIGluIG9wdHMpIHtcbiAgICAgICAgY2hhbm5lbEF1dGhvcml6YXRpb24gPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgZGVmYXVsdHMuY2hhbm5lbEF1dGhvcml6YXRpb24pLCBvcHRzLmNoYW5uZWxBdXRob3JpemF0aW9uKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNoYW5uZWxBdXRob3JpemF0aW9uID0ge1xuICAgICAgICAgICAgdHJhbnNwb3J0OiBvcHRzLmF1dGhUcmFuc3BvcnQgfHwgZGVmYXVsdHMuYXV0aFRyYW5zcG9ydCxcbiAgICAgICAgICAgIGVuZHBvaW50OiBvcHRzLmF1dGhFbmRwb2ludCB8fCBkZWZhdWx0cy5hdXRoRW5kcG9pbnRcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCdhdXRoJyBpbiBvcHRzKSB7XG4gICAgICAgICAgICBpZiAoJ3BhcmFtcycgaW4gb3B0cy5hdXRoKVxuICAgICAgICAgICAgICAgIGNoYW5uZWxBdXRob3JpemF0aW9uLnBhcmFtcyA9IG9wdHMuYXV0aC5wYXJhbXM7XG4gICAgICAgICAgICBpZiAoJ2hlYWRlcnMnIGluIG9wdHMuYXV0aClcbiAgICAgICAgICAgICAgICBjaGFubmVsQXV0aG9yaXphdGlvbi5oZWFkZXJzID0gb3B0cy5hdXRoLmhlYWRlcnM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCdhdXRob3JpemVyJyBpbiBvcHRzKVxuICAgICAgICAgICAgY2hhbm5lbEF1dGhvcml6YXRpb24uY3VzdG9tSGFuZGxlciA9IENoYW5uZWxBdXRob3JpemVyUHJveHkocHVzaGVyLCBjaGFubmVsQXV0aG9yaXphdGlvbiwgb3B0cy5hdXRob3JpemVyKTtcbiAgICB9XG4gICAgcmV0dXJuIGNoYW5uZWxBdXRob3JpemF0aW9uO1xufVxuZnVuY3Rpb24gYnVpbGRDaGFubmVsQXV0aG9yaXplcihvcHRzLCBwdXNoZXIpIHtcbiAgICB2YXIgY2hhbm5lbEF1dGhvcml6YXRpb24gPSBidWlsZENoYW5uZWxBdXRoKG9wdHMsIHB1c2hlcik7XG4gICAgaWYgKCdjdXN0b21IYW5kbGVyJyBpbiBjaGFubmVsQXV0aG9yaXphdGlvbiAmJlxuICAgICAgICBjaGFubmVsQXV0aG9yaXphdGlvblsnY3VzdG9tSGFuZGxlciddICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGNoYW5uZWxBdXRob3JpemF0aW9uWydjdXN0b21IYW5kbGVyJ107XG4gICAgfVxuICAgIHJldHVybiBjaGFubmVsX2F1dGhvcml6ZXIoY2hhbm5lbEF1dGhvcml6YXRpb24pO1xufVxuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb3JlL3dhdGNobGlzdC50c1xudmFyIHdhdGNobGlzdF9leHRlbmRzID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5cblxudmFyIHdhdGNobGlzdF9XYXRjaGxpc3RGYWNhZGUgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHdhdGNobGlzdF9leHRlbmRzKFdhdGNobGlzdEZhY2FkZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBXYXRjaGxpc3RGYWNhZGUocHVzaGVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGZ1bmN0aW9uIChldmVudE5hbWUsIGRhdGEpIHtcbiAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZyhcIk5vIGNhbGxiYWNrcyBvbiB3YXRjaGxpc3QgZXZlbnRzIGZvciBcIiArIGV2ZW50TmFtZSk7XG4gICAgICAgIH0pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnB1c2hlciA9IHB1c2hlcjtcbiAgICAgICAgX3RoaXMuYmluZFdhdGNobGlzdEludGVybmFsRXZlbnQoKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBXYXRjaGxpc3RGYWNhZGUucHJvdG90eXBlLmhhbmRsZUV2ZW50ID0gZnVuY3Rpb24gKHB1c2hlckV2ZW50KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHB1c2hlckV2ZW50LmRhdGEuZXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKHdhdGNobGlzdEV2ZW50KSB7XG4gICAgICAgICAgICBfdGhpcy5lbWl0KHdhdGNobGlzdEV2ZW50Lm5hbWUsIHdhdGNobGlzdEV2ZW50KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBXYXRjaGxpc3RGYWNhZGUucHJvdG90eXBlLmJpbmRXYXRjaGxpc3RJbnRlcm5hbEV2ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnB1c2hlci5jb25uZWN0aW9uLmJpbmQoJ21lc3NhZ2UnLCBmdW5jdGlvbiAocHVzaGVyRXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBldmVudE5hbWUgPSBwdXNoZXJFdmVudC5ldmVudDtcbiAgICAgICAgICAgIGlmIChldmVudE5hbWUgPT09ICdwdXNoZXJfaW50ZXJuYWw6d2F0Y2hsaXN0X2V2ZW50cycpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5oYW5kbGVFdmVudChwdXNoZXJFdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIFdhdGNobGlzdEZhY2FkZTtcbn0oZGlzcGF0Y2hlcikpO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgd2F0Y2hsaXN0ID0gKHdhdGNobGlzdF9XYXRjaGxpc3RGYWNhZGUpO1xuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb3JlL3V0aWxzL2ZsYXRfcHJvbWlzZS50c1xuZnVuY3Rpb24gZmxhdFByb21pc2UoKSB7XG4gICAgdmFyIHJlc29sdmUsIHJlamVjdDtcbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXMsIHJlaikge1xuICAgICAgICByZXNvbHZlID0gcmVzO1xuICAgICAgICByZWplY3QgPSByZWo7XG4gICAgfSk7XG4gICAgcmV0dXJuIHsgcHJvbWlzZTogcHJvbWlzZSwgcmVzb2x2ZTogcmVzb2x2ZSwgcmVqZWN0OiByZWplY3QgfTtcbn1cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIGZsYXRfcHJvbWlzZSA9IChmbGF0UHJvbWlzZSk7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvcmUvdXNlci50c1xudmFyIHVzZXJfZXh0ZW5kcyA9ICh1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuXG5cblxuXG5cbnZhciB1c2VyX1VzZXJGYWNhZGUgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHVzZXJfZXh0ZW5kcyhVc2VyRmFjYWRlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFVzZXJGYWNhZGUocHVzaGVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGZ1bmN0aW9uIChldmVudE5hbWUsIGRhdGEpIHtcbiAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZygnTm8gY2FsbGJhY2tzIG9uIHVzZXIgZm9yICcgKyBldmVudE5hbWUpO1xuICAgICAgICB9KSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zaWduaW5fcmVxdWVzdGVkID0gZmFsc2U7XG4gICAgICAgIF90aGlzLnVzZXJfZGF0YSA9IG51bGw7XG4gICAgICAgIF90aGlzLnNlcnZlclRvVXNlckNoYW5uZWwgPSBudWxsO1xuICAgICAgICBfdGhpcy5zaWduaW5Eb25lUHJvbWlzZSA9IG51bGw7XG4gICAgICAgIF90aGlzLl9zaWduaW5Eb25lUmVzb2x2ZSA9IG51bGw7XG4gICAgICAgIF90aGlzLl9vbkF1dGhvcml6ZSA9IGZ1bmN0aW9uIChlcnIsIGF1dGhEYXRhKSB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLndhcm4oXCJFcnJvciBkdXJpbmcgc2lnbmluOiBcIiArIGVycik7XG4gICAgICAgICAgICAgICAgX3RoaXMuX2NsZWFudXAoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5wdXNoZXIuc2VuZF9ldmVudCgncHVzaGVyOnNpZ25pbicsIHtcbiAgICAgICAgICAgICAgICBhdXRoOiBhdXRoRGF0YS5hdXRoLFxuICAgICAgICAgICAgICAgIHVzZXJfZGF0YTogYXV0aERhdGEudXNlcl9kYXRhXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMucHVzaGVyID0gcHVzaGVyO1xuICAgICAgICBfdGhpcy5wdXNoZXIuY29ubmVjdGlvbi5iaW5kKCdzdGF0ZV9jaGFuZ2UnLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHZhciBwcmV2aW91cyA9IF9hLnByZXZpb3VzLCBjdXJyZW50ID0gX2EuY3VycmVudDtcbiAgICAgICAgICAgIGlmIChwcmV2aW91cyAhPT0gJ2Nvbm5lY3RlZCcgJiYgY3VycmVudCA9PT0gJ2Nvbm5lY3RlZCcpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fc2lnbmluKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocHJldmlvdXMgPT09ICdjb25uZWN0ZWQnICYmIGN1cnJlbnQgIT09ICdjb25uZWN0ZWQnKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX2NsZWFudXAoKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5fbmV3U2lnbmluUHJvbWlzZUlmTmVlZGVkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBfdGhpcy53YXRjaGxpc3QgPSBuZXcgd2F0Y2hsaXN0KHB1c2hlcik7XG4gICAgICAgIF90aGlzLnB1c2hlci5jb25uZWN0aW9uLmJpbmQoJ21lc3NhZ2UnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBldmVudE5hbWUgPSBldmVudC5ldmVudDtcbiAgICAgICAgICAgIGlmIChldmVudE5hbWUgPT09ICdwdXNoZXI6c2lnbmluX3N1Y2Nlc3MnKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX29uU2lnbmluU3VjY2VzcyhldmVudC5kYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChfdGhpcy5zZXJ2ZXJUb1VzZXJDaGFubmVsICYmXG4gICAgICAgICAgICAgICAgX3RoaXMuc2VydmVyVG9Vc2VyQ2hhbm5lbC5uYW1lID09PSBldmVudC5jaGFubmVsKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2VydmVyVG9Vc2VyQ2hhbm5lbC5oYW5kbGVFdmVudChldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFVzZXJGYWNhZGUucHJvdG90eXBlLnNpZ25pbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc2lnbmluX3JlcXVlc3RlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2lnbmluX3JlcXVlc3RlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX3NpZ25pbigpO1xuICAgIH07XG4gICAgVXNlckZhY2FkZS5wcm90b3R5cGUuX3NpZ25pbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNpZ25pbl9yZXF1ZXN0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9uZXdTaWduaW5Qcm9taXNlSWZOZWVkZWQoKTtcbiAgICAgICAgaWYgKHRoaXMucHVzaGVyLmNvbm5lY3Rpb24uc3RhdGUgIT09ICdjb25uZWN0ZWQnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wdXNoZXIuY29uZmlnLnVzZXJBdXRoZW50aWNhdG9yKHtcbiAgICAgICAgICAgIHNvY2tldElkOiB0aGlzLnB1c2hlci5jb25uZWN0aW9uLnNvY2tldF9pZFxuICAgICAgICB9LCB0aGlzLl9vbkF1dGhvcml6ZSk7XG4gICAgfTtcbiAgICBVc2VyRmFjYWRlLnByb3RvdHlwZS5fb25TaWduaW5TdWNjZXNzID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMudXNlcl9kYXRhID0gSlNPTi5wYXJzZShkYXRhLnVzZXJfZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcihcIkZhaWxlZCBwYXJzaW5nIHVzZXIgZGF0YSBhZnRlciBzaWduaW46IFwiICsgZGF0YS51c2VyX2RhdGEpO1xuICAgICAgICAgICAgdGhpcy5fY2xlYW51cCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy51c2VyX2RhdGEuaWQgIT09ICdzdHJpbmcnIHx8IHRoaXMudXNlcl9kYXRhLmlkID09PSAnJykge1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKFwidXNlcl9kYXRhIGRvZXNuJ3QgY29udGFpbiBhbiBpZC4gdXNlcl9kYXRhOiBcIiArIHRoaXMudXNlcl9kYXRhKTtcbiAgICAgICAgICAgIHRoaXMuX2NsZWFudXAoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zaWduaW5Eb25lUmVzb2x2ZSgpO1xuICAgICAgICB0aGlzLl9zdWJzY3JpYmVDaGFubmVscygpO1xuICAgIH07XG4gICAgVXNlckZhY2FkZS5wcm90b3R5cGUuX3N1YnNjcmliZUNoYW5uZWxzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgZW5zdXJlX3N1YnNjcmliZWQgPSBmdW5jdGlvbiAoY2hhbm5lbCkge1xuICAgICAgICAgICAgaWYgKGNoYW5uZWwuc3Vic2NyaXB0aW9uUGVuZGluZyAmJiBjaGFubmVsLnN1YnNjcmlwdGlvbkNhbmNlbGxlZCkge1xuICAgICAgICAgICAgICAgIGNoYW5uZWwucmVpbnN0YXRlU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghY2hhbm5lbC5zdWJzY3JpcHRpb25QZW5kaW5nICYmXG4gICAgICAgICAgICAgICAgX3RoaXMucHVzaGVyLmNvbm5lY3Rpb24uc3RhdGUgPT09ICdjb25uZWN0ZWQnKSB7XG4gICAgICAgICAgICAgICAgY2hhbm5lbC5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zZXJ2ZXJUb1VzZXJDaGFubmVsID0gbmV3IGNoYW5uZWxzX2NoYW5uZWwoXCIjc2VydmVyLXRvLXVzZXItXCIgKyB0aGlzLnVzZXJfZGF0YS5pZCwgdGhpcy5wdXNoZXIpO1xuICAgICAgICB0aGlzLnNlcnZlclRvVXNlckNoYW5uZWwuYmluZF9nbG9iYWwoZnVuY3Rpb24gKGV2ZW50TmFtZSwgZGF0YSkge1xuICAgICAgICAgICAgaWYgKGV2ZW50TmFtZS5pbmRleE9mKCdwdXNoZXJfaW50ZXJuYWw6JykgPT09IDAgfHxcbiAgICAgICAgICAgICAgICBldmVudE5hbWUuaW5kZXhPZigncHVzaGVyOicpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuZW1pdChldmVudE5hbWUsIGRhdGEpO1xuICAgICAgICB9KTtcbiAgICAgICAgZW5zdXJlX3N1YnNjcmliZWQodGhpcy5zZXJ2ZXJUb1VzZXJDaGFubmVsKTtcbiAgICB9O1xuICAgIFVzZXJGYWNhZGUucHJvdG90eXBlLl9jbGVhbnVwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnVzZXJfZGF0YSA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLnNlcnZlclRvVXNlckNoYW5uZWwpIHtcbiAgICAgICAgICAgIHRoaXMuc2VydmVyVG9Vc2VyQ2hhbm5lbC51bmJpbmRfYWxsKCk7XG4gICAgICAgICAgICB0aGlzLnNlcnZlclRvVXNlckNoYW5uZWwuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgdGhpcy5zZXJ2ZXJUb1VzZXJDaGFubmVsID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zaWduaW5fcmVxdWVzdGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9zaWduaW5Eb25lUmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBVc2VyRmFjYWRlLnByb3RvdHlwZS5fbmV3U2lnbmluUHJvbWlzZUlmTmVlZGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuc2lnbmluX3JlcXVlc3RlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNpZ25pbkRvbmVQcm9taXNlICYmICF0aGlzLnNpZ25pbkRvbmVQcm9taXNlLmRvbmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2EgPSBmbGF0X3Byb21pc2UoKSwgcHJvbWlzZSA9IF9hLnByb21pc2UsIHJlc29sdmUgPSBfYS5yZXNvbHZlLCBfID0gX2EucmVqZWN0O1xuICAgICAgICBwcm9taXNlLmRvbmUgPSBmYWxzZTtcbiAgICAgICAgdmFyIHNldERvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBwcm9taXNlLmRvbmUgPSB0cnVlO1xuICAgICAgICB9O1xuICAgICAgICBwcm9taXNlLnRoZW4oc2V0RG9uZSlbXCJjYXRjaFwiXShzZXREb25lKTtcbiAgICAgICAgdGhpcy5zaWduaW5Eb25lUHJvbWlzZSA9IHByb21pc2U7XG4gICAgICAgIHRoaXMuX3NpZ25pbkRvbmVSZXNvbHZlID0gcmVzb2x2ZTtcbiAgICB9O1xuICAgIHJldHVybiBVc2VyRmFjYWRlO1xufShkaXNwYXRjaGVyKSk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciB1c2VyID0gKHVzZXJfVXNlckZhY2FkZSk7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvcmUvcHVzaGVyLnRzXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbnZhciBwdXNoZXJfUHVzaGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQdXNoZXIoYXBwX2tleSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBjaGVja0FwcEtleShhcHBfa2V5KTtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIGlmICghb3B0aW9ucy5jbHVzdGVyICYmICEob3B0aW9ucy53c0hvc3QgfHwgb3B0aW9ucy5odHRwSG9zdCkpIHtcbiAgICAgICAgICAgIHZhciBzdWZmaXggPSB1cmxfc3RvcmUuYnVpbGRMb2dTdWZmaXgoJ2phdmFzY3JpcHRRdWlja1N0YXJ0Jyk7XG4gICAgICAgICAgICBsb2dnZXIud2FybihcIllvdSBzaG91bGQgYWx3YXlzIHNwZWNpZnkgYSBjbHVzdGVyIHdoZW4gY29ubmVjdGluZy4gXCIgKyBzdWZmaXgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgnZGlzYWJsZVN0YXRzJyBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICBsb2dnZXIud2FybignVGhlIGRpc2FibGVTdGF0cyBvcHRpb24gaXMgZGVwcmVjYXRlZCBpbiBmYXZvciBvZiBlbmFibGVTdGF0cycpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMua2V5ID0gYXBwX2tleTtcbiAgICAgICAgdGhpcy5jb25maWcgPSBnZXRDb25maWcob3B0aW9ucywgdGhpcyk7XG4gICAgICAgIHRoaXMuY2hhbm5lbHMgPSBmYWN0b3J5LmNyZWF0ZUNoYW5uZWxzKCk7XG4gICAgICAgIHRoaXMuZ2xvYmFsX2VtaXR0ZXIgPSBuZXcgZGlzcGF0Y2hlcigpO1xuICAgICAgICB0aGlzLnNlc3Npb25JRCA9IHJ1bnRpbWUucmFuZG9tSW50KDEwMDAwMDAwMDApO1xuICAgICAgICB0aGlzLnRpbWVsaW5lID0gbmV3IHRpbWVsaW5lX3RpbWVsaW5lKHRoaXMua2V5LCB0aGlzLnNlc3Npb25JRCwge1xuICAgICAgICAgICAgY2x1c3RlcjogdGhpcy5jb25maWcuY2x1c3RlcixcbiAgICAgICAgICAgIGZlYXR1cmVzOiBQdXNoZXIuZ2V0Q2xpZW50RmVhdHVyZXMoKSxcbiAgICAgICAgICAgIHBhcmFtczogdGhpcy5jb25maWcudGltZWxpbmVQYXJhbXMgfHwge30sXG4gICAgICAgICAgICBsaW1pdDogNTAsXG4gICAgICAgICAgICBsZXZlbDogdGltZWxpbmVfbGV2ZWwuSU5GTyxcbiAgICAgICAgICAgIHZlcnNpb246IGRlZmF1bHRzLlZFUlNJT05cbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5lbmFibGVTdGF0cykge1xuICAgICAgICAgICAgdGhpcy50aW1lbGluZVNlbmRlciA9IGZhY3RvcnkuY3JlYXRlVGltZWxpbmVTZW5kZXIodGhpcy50aW1lbGluZSwge1xuICAgICAgICAgICAgICAgIGhvc3Q6IHRoaXMuY29uZmlnLnN0YXRzSG9zdCxcbiAgICAgICAgICAgICAgICBwYXRoOiAnL3RpbWVsaW5lL3YyLycgKyBydW50aW1lLlRpbWVsaW5lVHJhbnNwb3J0Lm5hbWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBnZXRTdHJhdGVneSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gcnVudGltZS5nZXREZWZhdWx0U3RyYXRlZ3koX3RoaXMuY29uZmlnLCBvcHRpb25zLCBzdHJhdGVneV9idWlsZGVyX2RlZmluZVRyYW5zcG9ydCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY29ubmVjdGlvbiA9IGZhY3RvcnkuY3JlYXRlQ29ubmVjdGlvbk1hbmFnZXIodGhpcy5rZXksIHtcbiAgICAgICAgICAgIGdldFN0cmF0ZWd5OiBnZXRTdHJhdGVneSxcbiAgICAgICAgICAgIHRpbWVsaW5lOiB0aGlzLnRpbWVsaW5lLFxuICAgICAgICAgICAgYWN0aXZpdHlUaW1lb3V0OiB0aGlzLmNvbmZpZy5hY3Rpdml0eVRpbWVvdXQsXG4gICAgICAgICAgICBwb25nVGltZW91dDogdGhpcy5jb25maWcucG9uZ1RpbWVvdXQsXG4gICAgICAgICAgICB1bmF2YWlsYWJsZVRpbWVvdXQ6IHRoaXMuY29uZmlnLnVuYXZhaWxhYmxlVGltZW91dCxcbiAgICAgICAgICAgIHVzZVRMUzogQm9vbGVhbih0aGlzLmNvbmZpZy51c2VUTFMpXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb24uYmluZCgnY29ubmVjdGVkJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuc3Vic2NyaWJlQWxsKCk7XG4gICAgICAgICAgICBpZiAoX3RoaXMudGltZWxpbmVTZW5kZXIpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy50aW1lbGluZVNlbmRlci5zZW5kKF90aGlzLmNvbm5lY3Rpb24uaXNVc2luZ1RMUygpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY29ubmVjdGlvbi5iaW5kKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgZXZlbnROYW1lID0gZXZlbnQuZXZlbnQ7XG4gICAgICAgICAgICB2YXIgaW50ZXJuYWwgPSBldmVudE5hbWUuaW5kZXhPZigncHVzaGVyX2ludGVybmFsOicpID09PSAwO1xuICAgICAgICAgICAgaWYgKGV2ZW50LmNoYW5uZWwpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hhbm5lbCA9IF90aGlzLmNoYW5uZWwoZXZlbnQuY2hhbm5lbCk7XG4gICAgICAgICAgICAgICAgaWYgKGNoYW5uZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbC5oYW5kbGVFdmVudChldmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpbnRlcm5hbCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmdsb2JhbF9lbWl0dGVyLmVtaXQoZXZlbnQuZXZlbnQsIGV2ZW50LmRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uLmJpbmQoJ2Nvbm5lY3RpbmcnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5jaGFubmVscy5kaXNjb25uZWN0KCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb24uYmluZCgnZGlzY29ubmVjdGVkJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuY2hhbm5lbHMuZGlzY29ubmVjdCgpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uLmJpbmQoJ2Vycm9yJywgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgbG9nZ2VyLndhcm4oZXJyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIFB1c2hlci5pbnN0YW5jZXMucHVzaCh0aGlzKTtcbiAgICAgICAgdGhpcy50aW1lbGluZS5pbmZvKHsgaW5zdGFuY2VzOiBQdXNoZXIuaW5zdGFuY2VzLmxlbmd0aCB9KTtcbiAgICAgICAgdGhpcy51c2VyID0gbmV3IHVzZXIodGhpcyk7XG4gICAgICAgIGlmIChQdXNoZXIuaXNSZWFkeSkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgUHVzaGVyLnJlYWR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBQdXNoZXIuaXNSZWFkeSA9IHRydWU7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gUHVzaGVyLmluc3RhbmNlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIFB1c2hlci5pbnN0YW5jZXNbaV0uY29ubmVjdCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQdXNoZXIuZ2V0Q2xpZW50RmVhdHVyZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBrZXlzKGZpbHRlck9iamVjdCh7IHdzOiBydW50aW1lLlRyYW5zcG9ydHMud3MgfSwgZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgIHJldHVybiB0LmlzU3VwcG9ydGVkKHt9KTtcbiAgICAgICAgfSkpO1xuICAgIH07XG4gICAgUHVzaGVyLnByb3RvdHlwZS5jaGFubmVsID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhbm5lbHMuZmluZChuYW1lKTtcbiAgICB9O1xuICAgIFB1c2hlci5wcm90b3R5cGUuYWxsQ2hhbm5lbHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoYW5uZWxzLmFsbCgpO1xuICAgIH07XG4gICAgUHVzaGVyLnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb24uY29ubmVjdCgpO1xuICAgICAgICBpZiAodGhpcy50aW1lbGluZVNlbmRlcikge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnRpbWVsaW5lU2VuZGVyVGltZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgdXNpbmdUTFMgPSB0aGlzLmNvbm5lY3Rpb24uaXNVc2luZ1RMUygpO1xuICAgICAgICAgICAgICAgIHZhciB0aW1lbGluZVNlbmRlciA9IHRoaXMudGltZWxpbmVTZW5kZXI7XG4gICAgICAgICAgICAgICAgdGhpcy50aW1lbGluZVNlbmRlclRpbWVyID0gbmV3IFBlcmlvZGljVGltZXIoNjAwMDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGltZWxpbmVTZW5kZXIuc2VuZCh1c2luZ1RMUyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFB1c2hlci5wcm90b3R5cGUuZGlzY29ubmVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgaWYgKHRoaXMudGltZWxpbmVTZW5kZXJUaW1lcikge1xuICAgICAgICAgICAgdGhpcy50aW1lbGluZVNlbmRlclRpbWVyLmVuc3VyZUFib3J0ZWQoKTtcbiAgICAgICAgICAgIHRoaXMudGltZWxpbmVTZW5kZXJUaW1lciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFB1c2hlci5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uIChldmVudF9uYW1lLCBjYWxsYmFjaywgY29udGV4dCkge1xuICAgICAgICB0aGlzLmdsb2JhbF9lbWl0dGVyLmJpbmQoZXZlbnRfbmFtZSwgY2FsbGJhY2ssIGNvbnRleHQpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFB1c2hlci5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24gKGV2ZW50X25hbWUsIGNhbGxiYWNrLCBjb250ZXh0KSB7XG4gICAgICAgIHRoaXMuZ2xvYmFsX2VtaXR0ZXIudW5iaW5kKGV2ZW50X25hbWUsIGNhbGxiYWNrLCBjb250ZXh0KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBQdXNoZXIucHJvdG90eXBlLmJpbmRfZ2xvYmFsID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuZ2xvYmFsX2VtaXR0ZXIuYmluZF9nbG9iYWwoY2FsbGJhY2spO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFB1c2hlci5wcm90b3R5cGUudW5iaW5kX2dsb2JhbCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmdsb2JhbF9lbWl0dGVyLnVuYmluZF9nbG9iYWwoY2FsbGJhY2spO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFB1c2hlci5wcm90b3R5cGUudW5iaW5kX2FsbCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmdsb2JhbF9lbWl0dGVyLnVuYmluZF9hbGwoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBQdXNoZXIucHJvdG90eXBlLnN1YnNjcmliZUFsbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNoYW5uZWxOYW1lO1xuICAgICAgICBmb3IgKGNoYW5uZWxOYW1lIGluIHRoaXMuY2hhbm5lbHMuY2hhbm5lbHMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNoYW5uZWxzLmNoYW5uZWxzLmhhc093blByb3BlcnR5KGNoYW5uZWxOYW1lKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3Vic2NyaWJlKGNoYW5uZWxOYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgUHVzaGVyLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoY2hhbm5lbF9uYW1lKSB7XG4gICAgICAgIHZhciBjaGFubmVsID0gdGhpcy5jaGFubmVscy5hZGQoY2hhbm5lbF9uYW1lLCB0aGlzKTtcbiAgICAgICAgaWYgKGNoYW5uZWwuc3Vic2NyaXB0aW9uUGVuZGluZyAmJiBjaGFubmVsLnN1YnNjcmlwdGlvbkNhbmNlbGxlZCkge1xuICAgICAgICAgICAgY2hhbm5lbC5yZWluc3RhdGVTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghY2hhbm5lbC5zdWJzY3JpcHRpb25QZW5kaW5nICYmXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb24uc3RhdGUgPT09ICdjb25uZWN0ZWQnKSB7XG4gICAgICAgICAgICBjaGFubmVsLnN1YnNjcmliZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGFubmVsO1xuICAgIH07XG4gICAgUHVzaGVyLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uIChjaGFubmVsX25hbWUpIHtcbiAgICAgICAgdmFyIGNoYW5uZWwgPSB0aGlzLmNoYW5uZWxzLmZpbmQoY2hhbm5lbF9uYW1lKTtcbiAgICAgICAgaWYgKGNoYW5uZWwgJiYgY2hhbm5lbC5zdWJzY3JpcHRpb25QZW5kaW5nKSB7XG4gICAgICAgICAgICBjaGFubmVsLmNhbmNlbFN1YnNjcmlwdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2hhbm5lbCA9IHRoaXMuY2hhbm5lbHMucmVtb3ZlKGNoYW5uZWxfbmFtZSk7XG4gICAgICAgICAgICBpZiAoY2hhbm5lbCAmJiBjaGFubmVsLnN1YnNjcmliZWQpIHtcbiAgICAgICAgICAgICAgICBjaGFubmVsLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFB1c2hlci5wcm90b3R5cGUuc2VuZF9ldmVudCA9IGZ1bmN0aW9uIChldmVudF9uYW1lLCBkYXRhLCBjaGFubmVsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbm5lY3Rpb24uc2VuZF9ldmVudChldmVudF9uYW1lLCBkYXRhLCBjaGFubmVsKTtcbiAgICB9O1xuICAgIFB1c2hlci5wcm90b3R5cGUuc2hvdWxkVXNlVExTID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25maWcudXNlVExTO1xuICAgIH07XG4gICAgUHVzaGVyLnByb3RvdHlwZS5zaWduaW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudXNlci5zaWduaW4oKTtcbiAgICB9O1xuICAgIFB1c2hlci5pbnN0YW5jZXMgPSBbXTtcbiAgICBQdXNoZXIuaXNSZWFkeSA9IGZhbHNlO1xuICAgIFB1c2hlci5sb2dUb0NvbnNvbGUgPSBmYWxzZTtcbiAgICBQdXNoZXIuUnVudGltZSA9IHJ1bnRpbWU7XG4gICAgUHVzaGVyLlNjcmlwdFJlY2VpdmVycyA9IHJ1bnRpbWUuU2NyaXB0UmVjZWl2ZXJzO1xuICAgIFB1c2hlci5EZXBlbmRlbmNpZXNSZWNlaXZlcnMgPSBydW50aW1lLkRlcGVuZGVuY2llc1JlY2VpdmVycztcbiAgICBQdXNoZXIuYXV0aF9jYWxsYmFja3MgPSBydW50aW1lLmF1dGhfY2FsbGJhY2tzO1xuICAgIHJldHVybiBQdXNoZXI7XG59KCkpO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgY29yZV9wdXNoZXIgPSBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChwdXNoZXJfUHVzaGVyKTtcbmZ1bmN0aW9uIGNoZWNrQXBwS2V5KGtleSkge1xuICAgIGlmIChrZXkgPT09IG51bGwgfHwga2V5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgJ1lvdSBtdXN0IHBhc3MgeW91ciBhcHAga2V5IHdoZW4geW91IGluc3RhbnRpYXRlIFB1c2hlci4nO1xuICAgIH1cbn1cbnJ1bnRpbWUuc2V0dXAocHVzaGVyX1B1c2hlcik7XG5cblxuLyoqKi8gfSlcbi8qKioqKiovIF0pO1xufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wdXNoZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/pusher-js/dist/web/pusher.js\n");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/index.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NIL: () => (/* reexport safe */ _nil_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]),\n/* harmony export */   parse: () => (/* reexport safe */ _parse_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"]),\n/* harmony export */   stringify: () => (/* reexport safe */ _stringify_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]),\n/* harmony export */   v1: () => (/* reexport safe */ _v1_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   v3: () => (/* reexport safe */ _v3_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]),\n/* harmony export */   v4: () => (/* reexport safe */ _v4_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]),\n/* harmony export */   v5: () => (/* reexport safe */ _v5_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]),\n/* harmony export */   validate: () => (/* reexport safe */ _validate_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]),\n/* harmony export */   version: () => (/* reexport safe */ _version_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _v1_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./v1.js */ \"./node_modules/uuid/dist/esm-browser/v1.js\");\n/* harmony import */ var _v3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./v3.js */ \"./node_modules/uuid/dist/esm-browser/v3.js\");\n/* harmony import */ var _v4_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./v4.js */ \"./node_modules/uuid/dist/esm-browser/v4.js\");\n/* harmony import */ var _v5_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./v5.js */ \"./node_modules/uuid/dist/esm-browser/v5.js\");\n/* harmony import */ var _nil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./nil.js */ \"./node_modules/uuid/dist/esm-browser/nil.js\");\n/* harmony import */ var _version_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./version.js */ \"./node_modules/uuid/dist/esm-browser/version.js\");\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./validate.js */ \"./node_modules/uuid/dist/esm-browser/validate.js\");\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./stringify.js */ \"./node_modules/uuid/dist/esm-browser/stringify.js\");\n/* harmony import */ var _parse_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./parse.js */ \"./node_modules/uuid/dist/esm-browser/parse.js\");\n\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF3QztBQUNBO0FBQ0E7QUFDQTtBQUNFO0FBQ1E7QUFDRTtBQUNFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9pbmRleC5qcz8zYzczIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IGRlZmF1bHQgYXMgdjEgfSBmcm9tICcuL3YxLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdjMgfSBmcm9tICcuL3YzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdjQgfSBmcm9tICcuL3Y0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdjUgfSBmcm9tICcuL3Y1LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTklMIH0gZnJvbSAnLi9uaWwuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB2ZXJzaW9uIH0gZnJvbSAnLi92ZXJzaW9uLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdmFsaWRhdGUgfSBmcm9tICcuL3ZhbGlkYXRlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgc3RyaW5naWZ5IH0gZnJvbSAnLi9zdHJpbmdpZnkuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBwYXJzZSB9IGZyb20gJy4vcGFyc2UuanMnOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/uuid/dist/esm-browser/index.js\n");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/md5.js":
/*!***************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/md5.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/*\n * Browser-compatible JavaScript MD5\n *\n * Modification of JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\nfunction md5(bytes) {\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = new Uint8Array(msg.length);\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes[i] = msg.charCodeAt(i);\n    }\n  }\n\n  return md5ToHexEncodedArray(wordsToMd5(bytesToWords(bytes), bytes.length * 8));\n}\n/*\n * Convert an array of little-endian words to an array of bytes\n */\n\n\nfunction md5ToHexEncodedArray(input) {\n  var output = [];\n  var length32 = input.length * 32;\n  var hexTab = '0123456789abcdef';\n\n  for (var i = 0; i < length32; i += 8) {\n    var x = input[i >> 5] >>> i % 32 & 0xff;\n    var hex = parseInt(hexTab.charAt(x >>> 4 & 0x0f) + hexTab.charAt(x & 0x0f), 16);\n    output.push(hex);\n  }\n\n  return output;\n}\n/**\n * Calculate output length with padding and bit length\n */\n\n\nfunction getOutputLength(inputLength8) {\n  return (inputLength8 + 64 >>> 9 << 4) + 14 + 1;\n}\n/*\n * Calculate the MD5 of an array of little-endian words, and a bit length.\n */\n\n\nfunction wordsToMd5(x, len) {\n  /* append padding */\n  x[len >> 5] |= 0x80 << len % 32;\n  x[getOutputLength(len) - 1] = len;\n  var a = 1732584193;\n  var b = -271733879;\n  var c = -1732584194;\n  var d = 271733878;\n\n  for (var i = 0; i < x.length; i += 16) {\n    var olda = a;\n    var oldb = b;\n    var oldc = c;\n    var oldd = d;\n    a = md5ff(a, b, c, d, x[i], 7, -680876936);\n    d = md5ff(d, a, b, c, x[i + 1], 12, -389564586);\n    c = md5ff(c, d, a, b, x[i + 2], 17, 606105819);\n    b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);\n    a = md5ff(a, b, c, d, x[i + 4], 7, -176418897);\n    d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);\n    c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);\n    b = md5ff(b, c, d, a, x[i + 7], 22, -45705983);\n    a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);\n    d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);\n    c = md5ff(c, d, a, b, x[i + 10], 17, -42063);\n    b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);\n    a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);\n    d = md5ff(d, a, b, c, x[i + 13], 12, -40341101);\n    c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);\n    b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);\n    a = md5gg(a, b, c, d, x[i + 1], 5, -165796510);\n    d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);\n    c = md5gg(c, d, a, b, x[i + 11], 14, 643717713);\n    b = md5gg(b, c, d, a, x[i], 20, -373897302);\n    a = md5gg(a, b, c, d, x[i + 5], 5, -701558691);\n    d = md5gg(d, a, b, c, x[i + 10], 9, 38016083);\n    c = md5gg(c, d, a, b, x[i + 15], 14, -660478335);\n    b = md5gg(b, c, d, a, x[i + 4], 20, -405537848);\n    a = md5gg(a, b, c, d, x[i + 9], 5, 568446438);\n    d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);\n    c = md5gg(c, d, a, b, x[i + 3], 14, -187363961);\n    b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);\n    a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);\n    d = md5gg(d, a, b, c, x[i + 2], 9, -51403784);\n    c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);\n    b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);\n    a = md5hh(a, b, c, d, x[i + 5], 4, -378558);\n    d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);\n    c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);\n    b = md5hh(b, c, d, a, x[i + 14], 23, -35309556);\n    a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);\n    d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);\n    c = md5hh(c, d, a, b, x[i + 7], 16, -155497632);\n    b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);\n    a = md5hh(a, b, c, d, x[i + 13], 4, 681279174);\n    d = md5hh(d, a, b, c, x[i], 11, -358537222);\n    c = md5hh(c, d, a, b, x[i + 3], 16, -722521979);\n    b = md5hh(b, c, d, a, x[i + 6], 23, 76029189);\n    a = md5hh(a, b, c, d, x[i + 9], 4, -640364487);\n    d = md5hh(d, a, b, c, x[i + 12], 11, -421815835);\n    c = md5hh(c, d, a, b, x[i + 15], 16, 530742520);\n    b = md5hh(b, c, d, a, x[i + 2], 23, -995338651);\n    a = md5ii(a, b, c, d, x[i], 6, -198630844);\n    d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);\n    c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);\n    b = md5ii(b, c, d, a, x[i + 5], 21, -57434055);\n    a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);\n    d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);\n    c = md5ii(c, d, a, b, x[i + 10], 15, -1051523);\n    b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);\n    a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);\n    d = md5ii(d, a, b, c, x[i + 15], 10, -30611744);\n    c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);\n    b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);\n    a = md5ii(a, b, c, d, x[i + 4], 6, -145523070);\n    d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);\n    c = md5ii(c, d, a, b, x[i + 2], 15, 718787259);\n    b = md5ii(b, c, d, a, x[i + 9], 21, -343485551);\n    a = safeAdd(a, olda);\n    b = safeAdd(b, oldb);\n    c = safeAdd(c, oldc);\n    d = safeAdd(d, oldd);\n  }\n\n  return [a, b, c, d];\n}\n/*\n * Convert an array bytes to an array of little-endian words\n * Characters >255 have their high-byte silently ignored.\n */\n\n\nfunction bytesToWords(input) {\n  if (input.length === 0) {\n    return [];\n  }\n\n  var length8 = input.length * 8;\n  var output = new Uint32Array(getOutputLength(length8));\n\n  for (var i = 0; i < length8; i += 8) {\n    output[i >> 5] |= (input[i / 8] & 0xff) << i % 32;\n  }\n\n  return output;\n}\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n * to work around bugs in some JS interpreters.\n */\n\n\nfunction safeAdd(x, y) {\n  var lsw = (x & 0xffff) + (y & 0xffff);\n  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return msw << 16 | lsw & 0xffff;\n}\n/*\n * Bitwise rotate a 32-bit number to the left.\n */\n\n\nfunction bitRotateLeft(num, cnt) {\n  return num << cnt | num >>> 32 - cnt;\n}\n/*\n * These functions implement the four basic operations the algorithm uses.\n */\n\n\nfunction md5cmn(q, a, b, x, s, t) {\n  return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b);\n}\n\nfunction md5ff(a, b, c, d, x, s, t) {\n  return md5cmn(b & c | ~b & d, a, b, x, s, t);\n}\n\nfunction md5gg(a, b, c, d, x, s, t) {\n  return md5cmn(b & d | c & ~d, a, b, x, s, t);\n}\n\nfunction md5hh(a, b, c, d, x, s, t) {\n  return md5cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction md5ii(a, b, c, d, x, s, t) {\n  return md5cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (md5);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL21kNS5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQ7O0FBRW5EOztBQUVBLG9CQUFvQixnQkFBZ0I7QUFDcEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGtCQUFrQixjQUFjO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxrQkFBa0IsY0FBYztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsa0JBQWtCLGFBQWE7QUFDL0I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxpRUFBZSxHQUFHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9tZDUuanM/ZmU0YSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQnJvd3Nlci1jb21wYXRpYmxlIEphdmFTY3JpcHQgTUQ1XG4gKlxuICogTW9kaWZpY2F0aW9uIG9mIEphdmFTY3JpcHQgTUQ1XG4gKiBodHRwczovL2dpdGh1Yi5jb20vYmx1ZWltcC9KYXZhU2NyaXB0LU1ENVxuICpcbiAqIENvcHlyaWdodCAyMDExLCBTZWJhc3RpYW4gVHNjaGFuXG4gKiBodHRwczovL2JsdWVpbXAubmV0XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlOlxuICogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcbiAqXG4gKiBCYXNlZCBvblxuICogQSBKYXZhU2NyaXB0IGltcGxlbWVudGF0aW9uIG9mIHRoZSBSU0EgRGF0YSBTZWN1cml0eSwgSW5jLiBNRDUgTWVzc2FnZVxuICogRGlnZXN0IEFsZ29yaXRobSwgYXMgZGVmaW5lZCBpbiBSRkMgMTMyMS5cbiAqIFZlcnNpb24gMi4yIENvcHlyaWdodCAoQykgUGF1bCBKb2huc3RvbiAxOTk5IC0gMjAwOVxuICogT3RoZXIgY29udHJpYnV0b3JzOiBHcmVnIEhvbHQsIEFuZHJldyBLZXBlcnQsIFlkbmFyLCBMb3N0aW5ldFxuICogRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIEJTRCBMaWNlbnNlXG4gKiBTZWUgaHR0cDovL3BhamhvbWUub3JnLnVrL2NyeXB0L21kNSBmb3IgbW9yZSBpbmZvLlxuICovXG5mdW5jdGlvbiBtZDUoYnl0ZXMpIHtcbiAgaWYgKHR5cGVvZiBieXRlcyA9PT0gJ3N0cmluZycpIHtcbiAgICB2YXIgbXNnID0gdW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGJ5dGVzKSk7IC8vIFVURjggZXNjYXBlXG5cbiAgICBieXRlcyA9IG5ldyBVaW50OEFycmF5KG1zZy5sZW5ndGgpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtc2cubGVuZ3RoOyArK2kpIHtcbiAgICAgIGJ5dGVzW2ldID0gbXNnLmNoYXJDb2RlQXQoaSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG1kNVRvSGV4RW5jb2RlZEFycmF5KHdvcmRzVG9NZDUoYnl0ZXNUb1dvcmRzKGJ5dGVzKSwgYnl0ZXMubGVuZ3RoICogOCkpO1xufVxuLypcbiAqIENvbnZlcnQgYW4gYXJyYXkgb2YgbGl0dGxlLWVuZGlhbiB3b3JkcyB0byBhbiBhcnJheSBvZiBieXRlc1xuICovXG5cblxuZnVuY3Rpb24gbWQ1VG9IZXhFbmNvZGVkQXJyYXkoaW5wdXQpIHtcbiAgdmFyIG91dHB1dCA9IFtdO1xuICB2YXIgbGVuZ3RoMzIgPSBpbnB1dC5sZW5ndGggKiAzMjtcbiAgdmFyIGhleFRhYiA9ICcwMTIzNDU2Nzg5YWJjZGVmJztcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDMyOyBpICs9IDgpIHtcbiAgICB2YXIgeCA9IGlucHV0W2kgPj4gNV0gPj4+IGkgJSAzMiAmIDB4ZmY7XG4gICAgdmFyIGhleCA9IHBhcnNlSW50KGhleFRhYi5jaGFyQXQoeCA+Pj4gNCAmIDB4MGYpICsgaGV4VGFiLmNoYXJBdCh4ICYgMHgwZiksIDE2KTtcbiAgICBvdXRwdXQucHVzaChoZXgpO1xuICB9XG5cbiAgcmV0dXJuIG91dHB1dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlIG91dHB1dCBsZW5ndGggd2l0aCBwYWRkaW5nIGFuZCBiaXQgbGVuZ3RoXG4gKi9cblxuXG5mdW5jdGlvbiBnZXRPdXRwdXRMZW5ndGgoaW5wdXRMZW5ndGg4KSB7XG4gIHJldHVybiAoaW5wdXRMZW5ndGg4ICsgNjQgPj4+IDkgPDwgNCkgKyAxNCArIDE7XG59XG4vKlxuICogQ2FsY3VsYXRlIHRoZSBNRDUgb2YgYW4gYXJyYXkgb2YgbGl0dGxlLWVuZGlhbiB3b3JkcywgYW5kIGEgYml0IGxlbmd0aC5cbiAqL1xuXG5cbmZ1bmN0aW9uIHdvcmRzVG9NZDUoeCwgbGVuKSB7XG4gIC8qIGFwcGVuZCBwYWRkaW5nICovXG4gIHhbbGVuID4+IDVdIHw9IDB4ODAgPDwgbGVuICUgMzI7XG4gIHhbZ2V0T3V0cHV0TGVuZ3RoKGxlbikgLSAxXSA9IGxlbjtcbiAgdmFyIGEgPSAxNzMyNTg0MTkzO1xuICB2YXIgYiA9IC0yNzE3MzM4Nzk7XG4gIHZhciBjID0gLTE3MzI1ODQxOTQ7XG4gIHZhciBkID0gMjcxNzMzODc4O1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgeC5sZW5ndGg7IGkgKz0gMTYpIHtcbiAgICB2YXIgb2xkYSA9IGE7XG4gICAgdmFyIG9sZGIgPSBiO1xuICAgIHZhciBvbGRjID0gYztcbiAgICB2YXIgb2xkZCA9IGQ7XG4gICAgYSA9IG1kNWZmKGEsIGIsIGMsIGQsIHhbaV0sIDcsIC02ODA4NzY5MzYpO1xuICAgIGQgPSBtZDVmZihkLCBhLCBiLCBjLCB4W2kgKyAxXSwgMTIsIC0zODk1NjQ1ODYpO1xuICAgIGMgPSBtZDVmZihjLCBkLCBhLCBiLCB4W2kgKyAyXSwgMTcsIDYwNjEwNTgxOSk7XG4gICAgYiA9IG1kNWZmKGIsIGMsIGQsIGEsIHhbaSArIDNdLCAyMiwgLTEwNDQ1MjUzMzApO1xuICAgIGEgPSBtZDVmZihhLCBiLCBjLCBkLCB4W2kgKyA0XSwgNywgLTE3NjQxODg5Nyk7XG4gICAgZCA9IG1kNWZmKGQsIGEsIGIsIGMsIHhbaSArIDVdLCAxMiwgMTIwMDA4MDQyNik7XG4gICAgYyA9IG1kNWZmKGMsIGQsIGEsIGIsIHhbaSArIDZdLCAxNywgLTE0NzMyMzEzNDEpO1xuICAgIGIgPSBtZDVmZihiLCBjLCBkLCBhLCB4W2kgKyA3XSwgMjIsIC00NTcwNTk4Myk7XG4gICAgYSA9IG1kNWZmKGEsIGIsIGMsIGQsIHhbaSArIDhdLCA3LCAxNzcwMDM1NDE2KTtcbiAgICBkID0gbWQ1ZmYoZCwgYSwgYiwgYywgeFtpICsgOV0sIDEyLCAtMTk1ODQxNDQxNyk7XG4gICAgYyA9IG1kNWZmKGMsIGQsIGEsIGIsIHhbaSArIDEwXSwgMTcsIC00MjA2Myk7XG4gICAgYiA9IG1kNWZmKGIsIGMsIGQsIGEsIHhbaSArIDExXSwgMjIsIC0xOTkwNDA0MTYyKTtcbiAgICBhID0gbWQ1ZmYoYSwgYiwgYywgZCwgeFtpICsgMTJdLCA3LCAxODA0NjAzNjgyKTtcbiAgICBkID0gbWQ1ZmYoZCwgYSwgYiwgYywgeFtpICsgMTNdLCAxMiwgLTQwMzQxMTAxKTtcbiAgICBjID0gbWQ1ZmYoYywgZCwgYSwgYiwgeFtpICsgMTRdLCAxNywgLTE1MDIwMDIyOTApO1xuICAgIGIgPSBtZDVmZihiLCBjLCBkLCBhLCB4W2kgKyAxNV0sIDIyLCAxMjM2NTM1MzI5KTtcbiAgICBhID0gbWQ1Z2coYSwgYiwgYywgZCwgeFtpICsgMV0sIDUsIC0xNjU3OTY1MTApO1xuICAgIGQgPSBtZDVnZyhkLCBhLCBiLCBjLCB4W2kgKyA2XSwgOSwgLTEwNjk1MDE2MzIpO1xuICAgIGMgPSBtZDVnZyhjLCBkLCBhLCBiLCB4W2kgKyAxMV0sIDE0LCA2NDM3MTc3MTMpO1xuICAgIGIgPSBtZDVnZyhiLCBjLCBkLCBhLCB4W2ldLCAyMCwgLTM3Mzg5NzMwMik7XG4gICAgYSA9IG1kNWdnKGEsIGIsIGMsIGQsIHhbaSArIDVdLCA1LCAtNzAxNTU4NjkxKTtcbiAgICBkID0gbWQ1Z2coZCwgYSwgYiwgYywgeFtpICsgMTBdLCA5LCAzODAxNjA4Myk7XG4gICAgYyA9IG1kNWdnKGMsIGQsIGEsIGIsIHhbaSArIDE1XSwgMTQsIC02NjA0NzgzMzUpO1xuICAgIGIgPSBtZDVnZyhiLCBjLCBkLCBhLCB4W2kgKyA0XSwgMjAsIC00MDU1Mzc4NDgpO1xuICAgIGEgPSBtZDVnZyhhLCBiLCBjLCBkLCB4W2kgKyA5XSwgNSwgNTY4NDQ2NDM4KTtcbiAgICBkID0gbWQ1Z2coZCwgYSwgYiwgYywgeFtpICsgMTRdLCA5LCAtMTAxOTgwMzY5MCk7XG4gICAgYyA9IG1kNWdnKGMsIGQsIGEsIGIsIHhbaSArIDNdLCAxNCwgLTE4NzM2Mzk2MSk7XG4gICAgYiA9IG1kNWdnKGIsIGMsIGQsIGEsIHhbaSArIDhdLCAyMCwgMTE2MzUzMTUwMSk7XG4gICAgYSA9IG1kNWdnKGEsIGIsIGMsIGQsIHhbaSArIDEzXSwgNSwgLTE0NDQ2ODE0NjcpO1xuICAgIGQgPSBtZDVnZyhkLCBhLCBiLCBjLCB4W2kgKyAyXSwgOSwgLTUxNDAzNzg0KTtcbiAgICBjID0gbWQ1Z2coYywgZCwgYSwgYiwgeFtpICsgN10sIDE0LCAxNzM1MzI4NDczKTtcbiAgICBiID0gbWQ1Z2coYiwgYywgZCwgYSwgeFtpICsgMTJdLCAyMCwgLTE5MjY2MDc3MzQpO1xuICAgIGEgPSBtZDVoaChhLCBiLCBjLCBkLCB4W2kgKyA1XSwgNCwgLTM3ODU1OCk7XG4gICAgZCA9IG1kNWhoKGQsIGEsIGIsIGMsIHhbaSArIDhdLCAxMSwgLTIwMjI1NzQ0NjMpO1xuICAgIGMgPSBtZDVoaChjLCBkLCBhLCBiLCB4W2kgKyAxMV0sIDE2LCAxODM5MDMwNTYyKTtcbiAgICBiID0gbWQ1aGgoYiwgYywgZCwgYSwgeFtpICsgMTRdLCAyMywgLTM1MzA5NTU2KTtcbiAgICBhID0gbWQ1aGgoYSwgYiwgYywgZCwgeFtpICsgMV0sIDQsIC0xNTMwOTkyMDYwKTtcbiAgICBkID0gbWQ1aGgoZCwgYSwgYiwgYywgeFtpICsgNF0sIDExLCAxMjcyODkzMzUzKTtcbiAgICBjID0gbWQ1aGgoYywgZCwgYSwgYiwgeFtpICsgN10sIDE2LCAtMTU1NDk3NjMyKTtcbiAgICBiID0gbWQ1aGgoYiwgYywgZCwgYSwgeFtpICsgMTBdLCAyMywgLTEwOTQ3MzA2NDApO1xuICAgIGEgPSBtZDVoaChhLCBiLCBjLCBkLCB4W2kgKyAxM10sIDQsIDY4MTI3OTE3NCk7XG4gICAgZCA9IG1kNWhoKGQsIGEsIGIsIGMsIHhbaV0sIDExLCAtMzU4NTM3MjIyKTtcbiAgICBjID0gbWQ1aGgoYywgZCwgYSwgYiwgeFtpICsgM10sIDE2LCAtNzIyNTIxOTc5KTtcbiAgICBiID0gbWQ1aGgoYiwgYywgZCwgYSwgeFtpICsgNl0sIDIzLCA3NjAyOTE4OSk7XG4gICAgYSA9IG1kNWhoKGEsIGIsIGMsIGQsIHhbaSArIDldLCA0LCAtNjQwMzY0NDg3KTtcbiAgICBkID0gbWQ1aGgoZCwgYSwgYiwgYywgeFtpICsgMTJdLCAxMSwgLTQyMTgxNTgzNSk7XG4gICAgYyA9IG1kNWhoKGMsIGQsIGEsIGIsIHhbaSArIDE1XSwgMTYsIDUzMDc0MjUyMCk7XG4gICAgYiA9IG1kNWhoKGIsIGMsIGQsIGEsIHhbaSArIDJdLCAyMywgLTk5NTMzODY1MSk7XG4gICAgYSA9IG1kNWlpKGEsIGIsIGMsIGQsIHhbaV0sIDYsIC0xOTg2MzA4NDQpO1xuICAgIGQgPSBtZDVpaShkLCBhLCBiLCBjLCB4W2kgKyA3XSwgMTAsIDExMjY4OTE0MTUpO1xuICAgIGMgPSBtZDVpaShjLCBkLCBhLCBiLCB4W2kgKyAxNF0sIDE1LCAtMTQxNjM1NDkwNSk7XG4gICAgYiA9IG1kNWlpKGIsIGMsIGQsIGEsIHhbaSArIDVdLCAyMSwgLTU3NDM0MDU1KTtcbiAgICBhID0gbWQ1aWkoYSwgYiwgYywgZCwgeFtpICsgMTJdLCA2LCAxNzAwNDg1NTcxKTtcbiAgICBkID0gbWQ1aWkoZCwgYSwgYiwgYywgeFtpICsgM10sIDEwLCAtMTg5NDk4NjYwNik7XG4gICAgYyA9IG1kNWlpKGMsIGQsIGEsIGIsIHhbaSArIDEwXSwgMTUsIC0xMDUxNTIzKTtcbiAgICBiID0gbWQ1aWkoYiwgYywgZCwgYSwgeFtpICsgMV0sIDIxLCAtMjA1NDkyMjc5OSk7XG4gICAgYSA9IG1kNWlpKGEsIGIsIGMsIGQsIHhbaSArIDhdLCA2LCAxODczMzEzMzU5KTtcbiAgICBkID0gbWQ1aWkoZCwgYSwgYiwgYywgeFtpICsgMTVdLCAxMCwgLTMwNjExNzQ0KTtcbiAgICBjID0gbWQ1aWkoYywgZCwgYSwgYiwgeFtpICsgNl0sIDE1LCAtMTU2MDE5ODM4MCk7XG4gICAgYiA9IG1kNWlpKGIsIGMsIGQsIGEsIHhbaSArIDEzXSwgMjEsIDEzMDkxNTE2NDkpO1xuICAgIGEgPSBtZDVpaShhLCBiLCBjLCBkLCB4W2kgKyA0XSwgNiwgLTE0NTUyMzA3MCk7XG4gICAgZCA9IG1kNWlpKGQsIGEsIGIsIGMsIHhbaSArIDExXSwgMTAsIC0xMTIwMjEwMzc5KTtcbiAgICBjID0gbWQ1aWkoYywgZCwgYSwgYiwgeFtpICsgMl0sIDE1LCA3MTg3ODcyNTkpO1xuICAgIGIgPSBtZDVpaShiLCBjLCBkLCBhLCB4W2kgKyA5XSwgMjEsIC0zNDM0ODU1NTEpO1xuICAgIGEgPSBzYWZlQWRkKGEsIG9sZGEpO1xuICAgIGIgPSBzYWZlQWRkKGIsIG9sZGIpO1xuICAgIGMgPSBzYWZlQWRkKGMsIG9sZGMpO1xuICAgIGQgPSBzYWZlQWRkKGQsIG9sZGQpO1xuICB9XG5cbiAgcmV0dXJuIFthLCBiLCBjLCBkXTtcbn1cbi8qXG4gKiBDb252ZXJ0IGFuIGFycmF5IGJ5dGVzIHRvIGFuIGFycmF5IG9mIGxpdHRsZS1lbmRpYW4gd29yZHNcbiAqIENoYXJhY3RlcnMgPjI1NSBoYXZlIHRoZWlyIGhpZ2gtYnl0ZSBzaWxlbnRseSBpZ25vcmVkLlxuICovXG5cblxuZnVuY3Rpb24gYnl0ZXNUb1dvcmRzKGlucHV0KSB7XG4gIGlmIChpbnB1dC5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICB2YXIgbGVuZ3RoOCA9IGlucHV0Lmxlbmd0aCAqIDg7XG4gIHZhciBvdXRwdXQgPSBuZXcgVWludDMyQXJyYXkoZ2V0T3V0cHV0TGVuZ3RoKGxlbmd0aDgpKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDg7IGkgKz0gOCkge1xuICAgIG91dHB1dFtpID4+IDVdIHw9IChpbnB1dFtpIC8gOF0gJiAweGZmKSA8PCBpICUgMzI7XG4gIH1cblxuICByZXR1cm4gb3V0cHV0O1xufVxuLypcbiAqIEFkZCBpbnRlZ2Vycywgd3JhcHBpbmcgYXQgMl4zMi4gVGhpcyB1c2VzIDE2LWJpdCBvcGVyYXRpb25zIGludGVybmFsbHlcbiAqIHRvIHdvcmsgYXJvdW5kIGJ1Z3MgaW4gc29tZSBKUyBpbnRlcnByZXRlcnMuXG4gKi9cblxuXG5mdW5jdGlvbiBzYWZlQWRkKHgsIHkpIHtcbiAgdmFyIGxzdyA9ICh4ICYgMHhmZmZmKSArICh5ICYgMHhmZmZmKTtcbiAgdmFyIG1zdyA9ICh4ID4+IDE2KSArICh5ID4+IDE2KSArIChsc3cgPj4gMTYpO1xuICByZXR1cm4gbXN3IDw8IDE2IHwgbHN3ICYgMHhmZmZmO1xufVxuLypcbiAqIEJpdHdpc2Ugcm90YXRlIGEgMzItYml0IG51bWJlciB0byB0aGUgbGVmdC5cbiAqL1xuXG5cbmZ1bmN0aW9uIGJpdFJvdGF0ZUxlZnQobnVtLCBjbnQpIHtcbiAgcmV0dXJuIG51bSA8PCBjbnQgfCBudW0gPj4+IDMyIC0gY250O1xufVxuLypcbiAqIFRoZXNlIGZ1bmN0aW9ucyBpbXBsZW1lbnQgdGhlIGZvdXIgYmFzaWMgb3BlcmF0aW9ucyB0aGUgYWxnb3JpdGhtIHVzZXMuXG4gKi9cblxuXG5mdW5jdGlvbiBtZDVjbW4ocSwgYSwgYiwgeCwgcywgdCkge1xuICByZXR1cm4gc2FmZUFkZChiaXRSb3RhdGVMZWZ0KHNhZmVBZGQoc2FmZUFkZChhLCBxKSwgc2FmZUFkZCh4LCB0KSksIHMpLCBiKTtcbn1cblxuZnVuY3Rpb24gbWQ1ZmYoYSwgYiwgYywgZCwgeCwgcywgdCkge1xuICByZXR1cm4gbWQ1Y21uKGIgJiBjIHwgfmIgJiBkLCBhLCBiLCB4LCBzLCB0KTtcbn1cblxuZnVuY3Rpb24gbWQ1Z2coYSwgYiwgYywgZCwgeCwgcywgdCkge1xuICByZXR1cm4gbWQ1Y21uKGIgJiBkIHwgYyAmIH5kLCBhLCBiLCB4LCBzLCB0KTtcbn1cblxuZnVuY3Rpb24gbWQ1aGgoYSwgYiwgYywgZCwgeCwgcywgdCkge1xuICByZXR1cm4gbWQ1Y21uKGIgXiBjIF4gZCwgYSwgYiwgeCwgcywgdCk7XG59XG5cbmZ1bmN0aW9uIG1kNWlpKGEsIGIsIGMsIGQsIHgsIHMsIHQpIHtcbiAgcmV0dXJuIG1kNWNtbihjIF4gKGIgfCB+ZCksIGEsIGIsIHgsIHMsIHQpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBtZDU7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/uuid/dist/esm-browser/md5.js\n");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/nil.js":
/*!***************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/nil.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ('00000000-0000-0000-0000-000000000000');//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL25pbC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsaUVBQWUsc0NBQXNDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9uaWwuanM/ODQ1NSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCAnMDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwJzsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/uuid/dist/esm-browser/nil.js\n");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/parse.js":
/*!*****************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/parse.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ \"./node_modules/uuid/dist/esm-browser/validate.js\");\n\n\nfunction parse(uuid) {\n  if (!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  var v;\n  var arr = new Uint8Array(16); // Parse ########-....-....-....-............\n\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v >>> 16 & 0xff;\n  arr[2] = v >>> 8 & 0xff;\n  arr[3] = v & 0xff; // Parse ........-####-....-....-............\n\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff; // Parse ........-....-####-....-............\n\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff; // Parse ........-....-....-####-............\n\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff; // Parse ........-....-....-....-############\n  // (Use \"/\" to avoid 32-bit truncation when bit-shifting high-order bytes)\n\n  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;\n  arr[11] = v / 0x100000000 & 0xff;\n  arr[12] = v >>> 24 & 0xff;\n  arr[13] = v >>> 16 & 0xff;\n  arr[14] = v >>> 8 & 0xff;\n  arr[15] = v & 0xff;\n  return arr;\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (parse);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3BhcnNlLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXFDOztBQUVyQztBQUNBLE9BQU8sd0RBQVE7QUFDZjtBQUNBOztBQUVBO0FBQ0EsZ0NBQWdDOztBQUVoQztBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7O0FBRXJCO0FBQ0EscUJBQXFCOztBQUVyQjtBQUNBLHFCQUFxQjs7QUFFckI7QUFDQSxxQkFBcUI7QUFDckI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxpRUFBZSxLQUFLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9wYXJzZS5qcz85ZGE5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB2YWxpZGF0ZSBmcm9tICcuL3ZhbGlkYXRlLmpzJztcblxuZnVuY3Rpb24gcGFyc2UodXVpZCkge1xuICBpZiAoIXZhbGlkYXRlKHV1aWQpKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKCdJbnZhbGlkIFVVSUQnKTtcbiAgfVxuXG4gIHZhciB2O1xuICB2YXIgYXJyID0gbmV3IFVpbnQ4QXJyYXkoMTYpOyAvLyBQYXJzZSAjIyMjIyMjIy0uLi4uLS4uLi4tLi4uLi0uLi4uLi4uLi4uLi5cblxuICBhcnJbMF0gPSAodiA9IHBhcnNlSW50KHV1aWQuc2xpY2UoMCwgOCksIDE2KSkgPj4+IDI0O1xuICBhcnJbMV0gPSB2ID4+PiAxNiAmIDB4ZmY7XG4gIGFyclsyXSA9IHYgPj4+IDggJiAweGZmO1xuICBhcnJbM10gPSB2ICYgMHhmZjsgLy8gUGFyc2UgLi4uLi4uLi4tIyMjIy0uLi4uLS4uLi4tLi4uLi4uLi4uLi4uXG5cbiAgYXJyWzRdID0gKHYgPSBwYXJzZUludCh1dWlkLnNsaWNlKDksIDEzKSwgMTYpKSA+Pj4gODtcbiAgYXJyWzVdID0gdiAmIDB4ZmY7IC8vIFBhcnNlIC4uLi4uLi4uLS4uLi4tIyMjIy0uLi4uLS4uLi4uLi4uLi4uLlxuXG4gIGFycls2XSA9ICh2ID0gcGFyc2VJbnQodXVpZC5zbGljZSgxNCwgMTgpLCAxNikpID4+PiA4O1xuICBhcnJbN10gPSB2ICYgMHhmZjsgLy8gUGFyc2UgLi4uLi4uLi4tLi4uLi0uLi4uLSMjIyMtLi4uLi4uLi4uLi4uXG5cbiAgYXJyWzhdID0gKHYgPSBwYXJzZUludCh1dWlkLnNsaWNlKDE5LCAyMyksIDE2KSkgPj4+IDg7XG4gIGFycls5XSA9IHYgJiAweGZmOyAvLyBQYXJzZSAuLi4uLi4uLi0uLi4uLS4uLi4tLi4uLi0jIyMjIyMjIyMjIyNcbiAgLy8gKFVzZSBcIi9cIiB0byBhdm9pZCAzMi1iaXQgdHJ1bmNhdGlvbiB3aGVuIGJpdC1zaGlmdGluZyBoaWdoLW9yZGVyIGJ5dGVzKVxuXG4gIGFyclsxMF0gPSAodiA9IHBhcnNlSW50KHV1aWQuc2xpY2UoMjQsIDM2KSwgMTYpKSAvIDB4MTAwMDAwMDAwMDAgJiAweGZmO1xuICBhcnJbMTFdID0gdiAvIDB4MTAwMDAwMDAwICYgMHhmZjtcbiAgYXJyWzEyXSA9IHYgPj4+IDI0ICYgMHhmZjtcbiAgYXJyWzEzXSA9IHYgPj4+IDE2ICYgMHhmZjtcbiAgYXJyWzE0XSA9IHYgPj4+IDggJiAweGZmO1xuICBhcnJbMTVdID0gdiAmIDB4ZmY7XG4gIHJldHVybiBhcnI7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHBhcnNlOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/uuid/dist/esm-browser/parse.js\n");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/regex.js":
/*!*****************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/regex.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3JlZ2V4LmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxpRUFBZSxjQUFjLEVBQUUsVUFBVSxFQUFFLGVBQWUsRUFBRSxnQkFBZ0IsRUFBRSxVQUFVLEdBQUcseUNBQXlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9yZWdleC5qcz81ODdhIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IC9eKD86WzAtOWEtZl17OH0tWzAtOWEtZl17NH0tWzEtNV1bMC05YS1mXXszfS1bODlhYl1bMC05YS1mXXszfS1bMC05YS1mXXsxMn18MDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwKSQvaTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/uuid/dist/esm-browser/regex.js\n");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/rng.js":
/*!***************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/rng.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ rng)\n/* harmony export */ });\n// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nfunction rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3JuZy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9ybmcuanM/NTI3NiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBVbmlxdWUgSUQgY3JlYXRpb24gcmVxdWlyZXMgYSBoaWdoIHF1YWxpdHkgcmFuZG9tICMgZ2VuZXJhdG9yLiBJbiB0aGUgYnJvd3NlciB3ZSB0aGVyZWZvcmVcbi8vIHJlcXVpcmUgdGhlIGNyeXB0byBBUEkgYW5kIGRvIG5vdCBzdXBwb3J0IGJ1aWx0LWluIGZhbGxiYWNrIHRvIGxvd2VyIHF1YWxpdHkgcmFuZG9tIG51bWJlclxuLy8gZ2VuZXJhdG9ycyAobGlrZSBNYXRoLnJhbmRvbSgpKS5cbnZhciBnZXRSYW5kb21WYWx1ZXM7XG52YXIgcm5kczggPSBuZXcgVWludDhBcnJheSgxNik7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBybmcoKSB7XG4gIC8vIGxhenkgbG9hZCBzbyB0aGF0IGVudmlyb25tZW50cyB0aGF0IG5lZWQgdG8gcG9seWZpbGwgaGF2ZSBhIGNoYW5jZSB0byBkbyBzb1xuICBpZiAoIWdldFJhbmRvbVZhbHVlcykge1xuICAgIC8vIGdldFJhbmRvbVZhbHVlcyBuZWVkcyB0byBiZSBpbnZva2VkIGluIGEgY29udGV4dCB3aGVyZSBcInRoaXNcIiBpcyBhIENyeXB0byBpbXBsZW1lbnRhdGlvbi4gQWxzbyxcbiAgICAvLyBmaW5kIHRoZSBjb21wbGV0ZSBpbXBsZW1lbnRhdGlvbiBvZiBjcnlwdG8gKG1zQ3J5cHRvKSBvbiBJRTExLlxuICAgIGdldFJhbmRvbVZhbHVlcyA9IHR5cGVvZiBjcnlwdG8gIT09ICd1bmRlZmluZWQnICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKGNyeXB0bykgfHwgdHlwZW9mIG1zQ3J5cHRvICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgbXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzID09PSAnZnVuY3Rpb24nICYmIG1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKG1zQ3J5cHRvKTtcblxuICAgIGlmICghZ2V0UmFuZG9tVmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NyeXB0by5nZXRSYW5kb21WYWx1ZXMoKSBub3Qgc3VwcG9ydGVkLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkI2dldHJhbmRvbXZhbHVlcy1ub3Qtc3VwcG9ydGVkJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGdldFJhbmRvbVZhbHVlcyhybmRzOCk7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/uuid/dist/esm-browser/rng.js\n");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/sha1.js":
/*!****************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/sha1.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// Adapted from Chris Veness' SHA1 code at\n// http://www.movable-type.co.uk/scripts/sha1.html\nfunction f(s, x, y, z) {\n  switch (s) {\n    case 0:\n      return x & y ^ ~x & z;\n\n    case 1:\n      return x ^ y ^ z;\n\n    case 2:\n      return x & y ^ x & z ^ y & z;\n\n    case 3:\n      return x ^ y ^ z;\n  }\n}\n\nfunction ROTL(x, n) {\n  return x << n | x >>> 32 - n;\n}\n\nfunction sha1(bytes) {\n  var K = [0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xca62c1d6];\n  var H = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];\n\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = [];\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes.push(msg.charCodeAt(i));\n    }\n  } else if (!Array.isArray(bytes)) {\n    // Convert Array-like to Array\n    bytes = Array.prototype.slice.call(bytes);\n  }\n\n  bytes.push(0x80);\n  var l = bytes.length / 4 + 2;\n  var N = Math.ceil(l / 16);\n  var M = new Array(N);\n\n  for (var _i = 0; _i < N; ++_i) {\n    var arr = new Uint32Array(16);\n\n    for (var j = 0; j < 16; ++j) {\n      arr[j] = bytes[_i * 64 + j * 4] << 24 | bytes[_i * 64 + j * 4 + 1] << 16 | bytes[_i * 64 + j * 4 + 2] << 8 | bytes[_i * 64 + j * 4 + 3];\n    }\n\n    M[_i] = arr;\n  }\n\n  M[N - 1][14] = (bytes.length - 1) * 8 / Math.pow(2, 32);\n  M[N - 1][14] = Math.floor(M[N - 1][14]);\n  M[N - 1][15] = (bytes.length - 1) * 8 & 0xffffffff;\n\n  for (var _i2 = 0; _i2 < N; ++_i2) {\n    var W = new Uint32Array(80);\n\n    for (var t = 0; t < 16; ++t) {\n      W[t] = M[_i2][t];\n    }\n\n    for (var _t = 16; _t < 80; ++_t) {\n      W[_t] = ROTL(W[_t - 3] ^ W[_t - 8] ^ W[_t - 14] ^ W[_t - 16], 1);\n    }\n\n    var a = H[0];\n    var b = H[1];\n    var c = H[2];\n    var d = H[3];\n    var e = H[4];\n\n    for (var _t2 = 0; _t2 < 80; ++_t2) {\n      var s = Math.floor(_t2 / 20);\n      var T = ROTL(a, 5) + f(s, b, c, d) + e + K[s] + W[_t2] >>> 0;\n      e = d;\n      d = c;\n      c = ROTL(b, 30) >>> 0;\n      b = a;\n      a = T;\n    }\n\n    H[0] = H[0] + a >>> 0;\n    H[1] = H[1] + b >>> 0;\n    H[2] = H[2] + c >>> 0;\n    H[3] = H[3] + d >>> 0;\n    H[4] = H[4] + e >>> 0;\n  }\n\n  return [H[0] >> 24 & 0xff, H[0] >> 16 & 0xff, H[0] >> 8 & 0xff, H[0] & 0xff, H[1] >> 24 & 0xff, H[1] >> 16 & 0xff, H[1] >> 8 & 0xff, H[1] & 0xff, H[2] >> 24 & 0xff, H[2] >> 16 & 0xff, H[2] >> 8 & 0xff, H[2] & 0xff, H[3] >> 24 & 0xff, H[3] >> 16 & 0xff, H[3] >> 8 & 0xff, H[3] & 0xff, H[4] >> 24 & 0xff, H[4] >> 16 & 0xff, H[4] >> 8 & 0xff, H[4] & 0xff];\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (sha1);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3NoYTEuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1EQUFtRDs7QUFFbkQ7O0FBRUEsb0JBQW9CLGdCQUFnQjtBQUNwQztBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxtQkFBbUIsUUFBUTtBQUMzQjs7QUFFQSxvQkFBb0IsUUFBUTtBQUM1QjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLG9CQUFvQixTQUFTO0FBQzdCOztBQUVBLG9CQUFvQixRQUFRO0FBQzVCO0FBQ0E7O0FBRUEsc0JBQXNCLFNBQVM7QUFDL0I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHNCQUFzQixVQUFVO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsaUVBQWUsSUFBSSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvc2hhMS5qcz8xYzU3Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEFkYXB0ZWQgZnJvbSBDaHJpcyBWZW5lc3MnIFNIQTEgY29kZSBhdFxuLy8gaHR0cDovL3d3dy5tb3ZhYmxlLXR5cGUuY28udWsvc2NyaXB0cy9zaGExLmh0bWxcbmZ1bmN0aW9uIGYocywgeCwgeSwgeikge1xuICBzd2l0Y2ggKHMpIHtcbiAgICBjYXNlIDA6XG4gICAgICByZXR1cm4geCAmIHkgXiB+eCAmIHo7XG5cbiAgICBjYXNlIDE6XG4gICAgICByZXR1cm4geCBeIHkgXiB6O1xuXG4gICAgY2FzZSAyOlxuICAgICAgcmV0dXJuIHggJiB5IF4geCAmIHogXiB5ICYgejtcblxuICAgIGNhc2UgMzpcbiAgICAgIHJldHVybiB4IF4geSBeIHo7XG4gIH1cbn1cblxuZnVuY3Rpb24gUk9UTCh4LCBuKSB7XG4gIHJldHVybiB4IDw8IG4gfCB4ID4+PiAzMiAtIG47XG59XG5cbmZ1bmN0aW9uIHNoYTEoYnl0ZXMpIHtcbiAgdmFyIEsgPSBbMHg1YTgyNzk5OSwgMHg2ZWQ5ZWJhMSwgMHg4ZjFiYmNkYywgMHhjYTYyYzFkNl07XG4gIHZhciBIID0gWzB4Njc0NTIzMDEsIDB4ZWZjZGFiODksIDB4OThiYWRjZmUsIDB4MTAzMjU0NzYsIDB4YzNkMmUxZjBdO1xuXG4gIGlmICh0eXBlb2YgYnl0ZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgdmFyIG1zZyA9IHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChieXRlcykpOyAvLyBVVEY4IGVzY2FwZVxuXG4gICAgYnl0ZXMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbXNnLmxlbmd0aDsgKytpKSB7XG4gICAgICBieXRlcy5wdXNoKG1zZy5jaGFyQ29kZUF0KGkpKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkoYnl0ZXMpKSB7XG4gICAgLy8gQ29udmVydCBBcnJheS1saWtlIHRvIEFycmF5XG4gICAgYnl0ZXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChieXRlcyk7XG4gIH1cblxuICBieXRlcy5wdXNoKDB4ODApO1xuICB2YXIgbCA9IGJ5dGVzLmxlbmd0aCAvIDQgKyAyO1xuICB2YXIgTiA9IE1hdGguY2VpbChsIC8gMTYpO1xuICB2YXIgTSA9IG5ldyBBcnJheShOKTtcblxuICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgTjsgKytfaSkge1xuICAgIHZhciBhcnIgPSBuZXcgVWludDMyQXJyYXkoMTYpO1xuXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCAxNjsgKytqKSB7XG4gICAgICBhcnJbal0gPSBieXRlc1tfaSAqIDY0ICsgaiAqIDRdIDw8IDI0IHwgYnl0ZXNbX2kgKiA2NCArIGogKiA0ICsgMV0gPDwgMTYgfCBieXRlc1tfaSAqIDY0ICsgaiAqIDQgKyAyXSA8PCA4IHwgYnl0ZXNbX2kgKiA2NCArIGogKiA0ICsgM107XG4gICAgfVxuXG4gICAgTVtfaV0gPSBhcnI7XG4gIH1cblxuICBNW04gLSAxXVsxNF0gPSAoYnl0ZXMubGVuZ3RoIC0gMSkgKiA4IC8gTWF0aC5wb3coMiwgMzIpO1xuICBNW04gLSAxXVsxNF0gPSBNYXRoLmZsb29yKE1bTiAtIDFdWzE0XSk7XG4gIE1bTiAtIDFdWzE1XSA9IChieXRlcy5sZW5ndGggLSAxKSAqIDggJiAweGZmZmZmZmZmO1xuXG4gIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IE47ICsrX2kyKSB7XG4gICAgdmFyIFcgPSBuZXcgVWludDMyQXJyYXkoODApO1xuXG4gICAgZm9yICh2YXIgdCA9IDA7IHQgPCAxNjsgKyt0KSB7XG4gICAgICBXW3RdID0gTVtfaTJdW3RdO1xuICAgIH1cblxuICAgIGZvciAodmFyIF90ID0gMTY7IF90IDwgODA7ICsrX3QpIHtcbiAgICAgIFdbX3RdID0gUk9UTChXW190IC0gM10gXiBXW190IC0gOF0gXiBXW190IC0gMTRdIF4gV1tfdCAtIDE2XSwgMSk7XG4gICAgfVxuXG4gICAgdmFyIGEgPSBIWzBdO1xuICAgIHZhciBiID0gSFsxXTtcbiAgICB2YXIgYyA9IEhbMl07XG4gICAgdmFyIGQgPSBIWzNdO1xuICAgIHZhciBlID0gSFs0XTtcblxuICAgIGZvciAodmFyIF90MiA9IDA7IF90MiA8IDgwOyArK190Mikge1xuICAgICAgdmFyIHMgPSBNYXRoLmZsb29yKF90MiAvIDIwKTtcbiAgICAgIHZhciBUID0gUk9UTChhLCA1KSArIGYocywgYiwgYywgZCkgKyBlICsgS1tzXSArIFdbX3QyXSA+Pj4gMDtcbiAgICAgIGUgPSBkO1xuICAgICAgZCA9IGM7XG4gICAgICBjID0gUk9UTChiLCAzMCkgPj4+IDA7XG4gICAgICBiID0gYTtcbiAgICAgIGEgPSBUO1xuICAgIH1cblxuICAgIEhbMF0gPSBIWzBdICsgYSA+Pj4gMDtcbiAgICBIWzFdID0gSFsxXSArIGIgPj4+IDA7XG4gICAgSFsyXSA9IEhbMl0gKyBjID4+PiAwO1xuICAgIEhbM10gPSBIWzNdICsgZCA+Pj4gMDtcbiAgICBIWzRdID0gSFs0XSArIGUgPj4+IDA7XG4gIH1cblxuICByZXR1cm4gW0hbMF0gPj4gMjQgJiAweGZmLCBIWzBdID4+IDE2ICYgMHhmZiwgSFswXSA+PiA4ICYgMHhmZiwgSFswXSAmIDB4ZmYsIEhbMV0gPj4gMjQgJiAweGZmLCBIWzFdID4+IDE2ICYgMHhmZiwgSFsxXSA+PiA4ICYgMHhmZiwgSFsxXSAmIDB4ZmYsIEhbMl0gPj4gMjQgJiAweGZmLCBIWzJdID4+IDE2ICYgMHhmZiwgSFsyXSA+PiA4ICYgMHhmZiwgSFsyXSAmIDB4ZmYsIEhbM10gPj4gMjQgJiAweGZmLCBIWzNdID4+IDE2ICYgMHhmZiwgSFszXSA+PiA4ICYgMHhmZiwgSFszXSAmIDB4ZmYsIEhbNF0gPj4gMjQgJiAweGZmLCBIWzRdID4+IDE2ICYgMHhmZiwgSFs0XSA+PiA4ICYgMHhmZiwgSFs0XSAmIDB4ZmZdO1xufVxuXG5leHBvcnQgZGVmYXVsdCBzaGExOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/uuid/dist/esm-browser/sha1.js\n");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/stringify.js":
/*!*********************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/stringify.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ \"./node_modules/uuid/dist/esm-browser/validate.js\");\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (stringify);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3N0cmluZ2lmeS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxnQkFBZ0IsU0FBUztBQUN6QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMGdCQUEwZ0I7QUFDMWdCO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU8sd0RBQVE7QUFDZjtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsaUVBQWUsU0FBUyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvc3RyaW5naWZ5LmpzPzYzMTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHZhbGlkYXRlIGZyb20gJy4vdmFsaWRhdGUuanMnO1xuLyoqXG4gKiBDb252ZXJ0IGFycmF5IG9mIDE2IGJ5dGUgdmFsdWVzIHRvIFVVSUQgc3RyaW5nIGZvcm1hdCBvZiB0aGUgZm9ybTpcbiAqIFhYWFhYWFhYLVhYWFgtWFhYWC1YWFhYLVhYWFhYWFhYWFhYWFxuICovXG5cbnZhciBieXRlVG9IZXggPSBbXTtcblxuZm9yICh2YXIgaSA9IDA7IGkgPCAyNTY7ICsraSkge1xuICBieXRlVG9IZXgucHVzaCgoaSArIDB4MTAwKS50b1N0cmluZygxNikuc3Vic3RyKDEpKTtcbn1cblxuZnVuY3Rpb24gc3RyaW5naWZ5KGFycikge1xuICB2YXIgb2Zmc2V0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuICAvLyBOb3RlOiBCZSBjYXJlZnVsIGVkaXRpbmcgdGhpcyBjb2RlISAgSXQncyBiZWVuIHR1bmVkIGZvciBwZXJmb3JtYW5jZVxuICAvLyBhbmQgd29ya3MgaW4gd2F5cyB5b3UgbWF5IG5vdCBleHBlY3QuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQvcHVsbC80MzRcbiAgdmFyIHV1aWQgPSAoYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAwXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDFdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAzXV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDRdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNV1dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA2XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDddXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgOF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA5XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEwXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDExXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEyXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEzXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDE0XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDE1XV0pLnRvTG93ZXJDYXNlKCk7IC8vIENvbnNpc3RlbmN5IGNoZWNrIGZvciB2YWxpZCBVVUlELiAgSWYgdGhpcyB0aHJvd3MsIGl0J3MgbGlrZWx5IGR1ZSB0byBvbmVcbiAgLy8gb2YgdGhlIGZvbGxvd2luZzpcbiAgLy8gLSBPbmUgb3IgbW9yZSBpbnB1dCBhcnJheSB2YWx1ZXMgZG9uJ3QgbWFwIHRvIGEgaGV4IG9jdGV0IChsZWFkaW5nIHRvXG4gIC8vIFwidW5kZWZpbmVkXCIgaW4gdGhlIHV1aWQpXG4gIC8vIC0gSW52YWxpZCBpbnB1dCB2YWx1ZXMgZm9yIHRoZSBSRkMgYHZlcnNpb25gIG9yIGB2YXJpYW50YCBmaWVsZHNcblxuICBpZiAoIXZhbGlkYXRlKHV1aWQpKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKCdTdHJpbmdpZmllZCBVVUlEIGlzIGludmFsaWQnKTtcbiAgfVxuXG4gIHJldHVybiB1dWlkO1xufVxuXG5leHBvcnQgZGVmYXVsdCBzdHJpbmdpZnk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/uuid/dist/esm-browser/stringify.js\n");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/v1.js":
/*!**************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/v1.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rng.js */ \"./node_modules/uuid/dist/esm-browser/rng.js\");\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stringify.js */ \"./node_modules/uuid/dist/esm-browser/stringify.js\");\n\n // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\n\nvar _clockseq; // Previous uuid creation time\n\n\nvar _lastMSecs = 0;\nvar _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || new Array(16);\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    var seedBytes = options.random || (options.rng || _rng_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  var msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || (0,_stringify_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(b);\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v1);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3YxLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUEyQjtBQUNZLENBQUM7QUFDeEM7QUFDQTtBQUNBOztBQUVBOztBQUVBLGVBQWU7OztBQUdmO0FBQ0Esb0JBQW9COztBQUVwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0ZBQWdGO0FBQ2hGO0FBQ0E7O0FBRUE7QUFDQSxzREFBc0QsK0NBQUc7O0FBRXpEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7O0FBR0Esd0VBQXdFO0FBQ3hFOztBQUVBLDRFQUE0RTs7QUFFNUUsOERBQThEOztBQUU5RDtBQUNBO0FBQ0EsSUFBSTtBQUNKOzs7QUFHQTtBQUNBO0FBQ0EsSUFBSTs7O0FBR0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx3QkFBd0I7O0FBRXhCLDJCQUEyQjs7QUFFM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7O0FBRXRCO0FBQ0E7QUFDQSx1QkFBdUI7O0FBRXZCLG9DQUFvQzs7QUFFcEMsOEJBQThCOztBQUU5QixrQ0FBa0M7O0FBRWxDLDRCQUE0Qjs7QUFFNUIsa0JBQWtCLE9BQU87QUFDekI7QUFDQTs7QUFFQSxnQkFBZ0IseURBQVM7QUFDekI7O0FBRUEsaUVBQWUsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdjEuanM/NTBjMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm5nIGZyb20gJy4vcm5nLmpzJztcbmltcG9ydCBzdHJpbmdpZnkgZnJvbSAnLi9zdHJpbmdpZnkuanMnOyAvLyAqKmB2MSgpYCAtIEdlbmVyYXRlIHRpbWUtYmFzZWQgVVVJRCoqXG4vL1xuLy8gSW5zcGlyZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL0xpb3NLL1VVSUQuanNcbi8vIGFuZCBodHRwOi8vZG9jcy5weXRob24ub3JnL2xpYnJhcnkvdXVpZC5odG1sXG5cbnZhciBfbm9kZUlkO1xuXG52YXIgX2Nsb2Nrc2VxOyAvLyBQcmV2aW91cyB1dWlkIGNyZWF0aW9uIHRpbWVcblxuXG52YXIgX2xhc3RNU2VjcyA9IDA7XG52YXIgX2xhc3ROU2VjcyA9IDA7IC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQgZm9yIEFQSSBkZXRhaWxzXG5cbmZ1bmN0aW9uIHYxKG9wdGlvbnMsIGJ1Ziwgb2Zmc2V0KSB7XG4gIHZhciBpID0gYnVmICYmIG9mZnNldCB8fCAwO1xuICB2YXIgYiA9IGJ1ZiB8fCBuZXcgQXJyYXkoMTYpO1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgdmFyIG5vZGUgPSBvcHRpb25zLm5vZGUgfHwgX25vZGVJZDtcbiAgdmFyIGNsb2Nrc2VxID0gb3B0aW9ucy5jbG9ja3NlcSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jbG9ja3NlcSA6IF9jbG9ja3NlcTsgLy8gbm9kZSBhbmQgY2xvY2tzZXEgbmVlZCB0byBiZSBpbml0aWFsaXplZCB0byByYW5kb20gdmFsdWVzIGlmIHRoZXkncmUgbm90XG4gIC8vIHNwZWNpZmllZC4gIFdlIGRvIHRoaXMgbGF6aWx5IHRvIG1pbmltaXplIGlzc3VlcyByZWxhdGVkIHRvIGluc3VmZmljaWVudFxuICAvLyBzeXN0ZW0gZW50cm9weS4gIFNlZSAjMTg5XG5cbiAgaWYgKG5vZGUgPT0gbnVsbCB8fCBjbG9ja3NlcSA9PSBudWxsKSB7XG4gICAgdmFyIHNlZWRCeXRlcyA9IG9wdGlvbnMucmFuZG9tIHx8IChvcHRpb25zLnJuZyB8fCBybmcpKCk7XG5cbiAgICBpZiAobm9kZSA9PSBudWxsKSB7XG4gICAgICAvLyBQZXIgNC41LCBjcmVhdGUgYW5kIDQ4LWJpdCBub2RlIGlkLCAoNDcgcmFuZG9tIGJpdHMgKyBtdWx0aWNhc3QgYml0ID0gMSlcbiAgICAgIG5vZGUgPSBfbm9kZUlkID0gW3NlZWRCeXRlc1swXSB8IDB4MDEsIHNlZWRCeXRlc1sxXSwgc2VlZEJ5dGVzWzJdLCBzZWVkQnl0ZXNbM10sIHNlZWRCeXRlc1s0XSwgc2VlZEJ5dGVzWzVdXTtcbiAgICB9XG5cbiAgICBpZiAoY2xvY2tzZXEgPT0gbnVsbCkge1xuICAgICAgLy8gUGVyIDQuMi4yLCByYW5kb21pemUgKDE0IGJpdCkgY2xvY2tzZXFcbiAgICAgIGNsb2Nrc2VxID0gX2Nsb2Nrc2VxID0gKHNlZWRCeXRlc1s2XSA8PCA4IHwgc2VlZEJ5dGVzWzddKSAmIDB4M2ZmZjtcbiAgICB9XG4gIH0gLy8gVVVJRCB0aW1lc3RhbXBzIGFyZSAxMDAgbmFuby1zZWNvbmQgdW5pdHMgc2luY2UgdGhlIEdyZWdvcmlhbiBlcG9jaCxcbiAgLy8gKDE1ODItMTAtMTUgMDA6MDApLiAgSlNOdW1iZXJzIGFyZW4ndCBwcmVjaXNlIGVub3VnaCBmb3IgdGhpcywgc29cbiAgLy8gdGltZSBpcyBoYW5kbGVkIGludGVybmFsbHkgYXMgJ21zZWNzJyAoaW50ZWdlciBtaWxsaXNlY29uZHMpIGFuZCAnbnNlY3MnXG4gIC8vICgxMDAtbmFub3NlY29uZHMgb2Zmc2V0IGZyb20gbXNlY3MpIHNpbmNlIHVuaXggZXBvY2gsIDE5NzAtMDEtMDEgMDA6MDAuXG5cblxuICB2YXIgbXNlY3MgPSBvcHRpb25zLm1zZWNzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1zZWNzIDogRGF0ZS5ub3coKTsgLy8gUGVyIDQuMi4xLjIsIHVzZSBjb3VudCBvZiB1dWlkJ3MgZ2VuZXJhdGVkIGR1cmluZyB0aGUgY3VycmVudCBjbG9ja1xuICAvLyBjeWNsZSB0byBzaW11bGF0ZSBoaWdoZXIgcmVzb2x1dGlvbiBjbG9ja1xuXG4gIHZhciBuc2VjcyA9IG9wdGlvbnMubnNlY3MgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubnNlY3MgOiBfbGFzdE5TZWNzICsgMTsgLy8gVGltZSBzaW5jZSBsYXN0IHV1aWQgY3JlYXRpb24gKGluIG1zZWNzKVxuXG4gIHZhciBkdCA9IG1zZWNzIC0gX2xhc3RNU2VjcyArIChuc2VjcyAtIF9sYXN0TlNlY3MpIC8gMTAwMDA7IC8vIFBlciA0LjIuMS4yLCBCdW1wIGNsb2Nrc2VxIG9uIGNsb2NrIHJlZ3Jlc3Npb25cblxuICBpZiAoZHQgPCAwICYmIG9wdGlvbnMuY2xvY2tzZXEgPT09IHVuZGVmaW5lZCkge1xuICAgIGNsb2Nrc2VxID0gY2xvY2tzZXEgKyAxICYgMHgzZmZmO1xuICB9IC8vIFJlc2V0IG5zZWNzIGlmIGNsb2NrIHJlZ3Jlc3NlcyAobmV3IGNsb2Nrc2VxKSBvciB3ZSd2ZSBtb3ZlZCBvbnRvIGEgbmV3XG4gIC8vIHRpbWUgaW50ZXJ2YWxcblxuXG4gIGlmICgoZHQgPCAwIHx8IG1zZWNzID4gX2xhc3RNU2VjcykgJiYgb3B0aW9ucy5uc2VjcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbnNlY3MgPSAwO1xuICB9IC8vIFBlciA0LjIuMS4yIFRocm93IGVycm9yIGlmIHRvbyBtYW55IHV1aWRzIGFyZSByZXF1ZXN0ZWRcblxuXG4gIGlmIChuc2VjcyA+PSAxMDAwMCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcInV1aWQudjEoKTogQ2FuJ3QgY3JlYXRlIG1vcmUgdGhhbiAxME0gdXVpZHMvc2VjXCIpO1xuICB9XG5cbiAgX2xhc3RNU2VjcyA9IG1zZWNzO1xuICBfbGFzdE5TZWNzID0gbnNlY3M7XG4gIF9jbG9ja3NlcSA9IGNsb2Nrc2VxOyAvLyBQZXIgNC4xLjQgLSBDb252ZXJ0IGZyb20gdW5peCBlcG9jaCB0byBHcmVnb3JpYW4gZXBvY2hcblxuICBtc2VjcyArPSAxMjIxOTI5MjgwMDAwMDsgLy8gYHRpbWVfbG93YFxuXG4gIHZhciB0bCA9ICgobXNlY3MgJiAweGZmZmZmZmYpICogMTAwMDAgKyBuc2VjcykgJSAweDEwMDAwMDAwMDtcbiAgYltpKytdID0gdGwgPj4+IDI0ICYgMHhmZjtcbiAgYltpKytdID0gdGwgPj4+IDE2ICYgMHhmZjtcbiAgYltpKytdID0gdGwgPj4+IDggJiAweGZmO1xuICBiW2krK10gPSB0bCAmIDB4ZmY7IC8vIGB0aW1lX21pZGBcblxuICB2YXIgdG1oID0gbXNlY3MgLyAweDEwMDAwMDAwMCAqIDEwMDAwICYgMHhmZmZmZmZmO1xuICBiW2krK10gPSB0bWggPj4+IDggJiAweGZmO1xuICBiW2krK10gPSB0bWggJiAweGZmOyAvLyBgdGltZV9oaWdoX2FuZF92ZXJzaW9uYFxuXG4gIGJbaSsrXSA9IHRtaCA+Pj4gMjQgJiAweGYgfCAweDEwOyAvLyBpbmNsdWRlIHZlcnNpb25cblxuICBiW2krK10gPSB0bWggPj4+IDE2ICYgMHhmZjsgLy8gYGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWRgIChQZXIgNC4yLjIgLSBpbmNsdWRlIHZhcmlhbnQpXG5cbiAgYltpKytdID0gY2xvY2tzZXEgPj4+IDggfCAweDgwOyAvLyBgY2xvY2tfc2VxX2xvd2BcblxuICBiW2krK10gPSBjbG9ja3NlcSAmIDB4ZmY7IC8vIGBub2RlYFxuXG4gIGZvciAodmFyIG4gPSAwOyBuIDwgNjsgKytuKSB7XG4gICAgYltpICsgbl0gPSBub2RlW25dO1xuICB9XG5cbiAgcmV0dXJuIGJ1ZiB8fCBzdHJpbmdpZnkoYik7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHYxOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/uuid/dist/esm-browser/v1.js\n");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/v3.js":
/*!**************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/v3.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _v35_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./v35.js */ \"./node_modules/uuid/dist/esm-browser/v35.js\");\n/* harmony import */ var _md5_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./md5.js */ \"./node_modules/uuid/dist/esm-browser/md5.js\");\n\n\nvar v3 = (0,_v35_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('v3', 0x30, _md5_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v3);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3YzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUEyQjtBQUNBO0FBQzNCLFNBQVMsbURBQUcsYUFBYSwrQ0FBRztBQUM1QixpRUFBZSxFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92My5qcz8yZWRiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB2MzUgZnJvbSAnLi92MzUuanMnO1xuaW1wb3J0IG1kNSBmcm9tICcuL21kNS5qcyc7XG52YXIgdjMgPSB2MzUoJ3YzJywgMHgzMCwgbWQ1KTtcbmV4cG9ydCBkZWZhdWx0IHYzOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/uuid/dist/esm-browser/v3.js\n");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/v35.js":
/*!***************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/v35.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DNS: () => (/* binding */ DNS),\n/* harmony export */   URL: () => (/* binding */ URL),\n/* harmony export */   \"default\": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stringify.js */ \"./node_modules/uuid/dist/esm-browser/stringify.js\");\n/* harmony import */ var _parse_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parse.js */ \"./node_modules/uuid/dist/esm-browser/parse.js\");\n\n\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  var bytes = [];\n\n  for (var i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nvar DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nvar URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\n/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n\n    if (typeof namespace === 'string') {\n      namespace = (0,_parse_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(namespace);\n    }\n\n    if (namespace.length !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    } // Compute hash of namespace and value, Per 4.3\n    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =\n    // hashfunc([...namespace, ... value])`\n\n\n    var bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = hashfunc(bytes);\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      offset = offset || 0;\n\n      for (var i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n\n      return buf;\n    }\n\n    return (0,_stringify_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3YzNS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUF1QztBQUNSOztBQUUvQjtBQUNBLDJDQUEyQzs7QUFFM0M7O0FBRUEsa0JBQWtCLGdCQUFnQjtBQUNsQztBQUNBOztBQUVBO0FBQ0E7O0FBRU87QUFDQTtBQUNQLDZCQUFlLG9DQUFVO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLHFEQUFLO0FBQ3ZCOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsc0JBQXNCLFFBQVE7QUFDOUI7QUFDQTs7QUFFQTtBQUNBOztBQUVBLFdBQVcseURBQVM7QUFDcEIsSUFBSTs7O0FBR0o7QUFDQSw4QkFBOEI7QUFDOUIsSUFBSSxlQUFlOzs7QUFHbkI7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3YzNS5qcz9kNzlmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzdHJpbmdpZnkgZnJvbSAnLi9zdHJpbmdpZnkuanMnO1xuaW1wb3J0IHBhcnNlIGZyb20gJy4vcGFyc2UuanMnO1xuXG5mdW5jdGlvbiBzdHJpbmdUb0J5dGVzKHN0cikge1xuICBzdHIgPSB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoc3RyKSk7IC8vIFVURjggZXNjYXBlXG5cbiAgdmFyIGJ5dGVzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHtcbiAgICBieXRlcy5wdXNoKHN0ci5jaGFyQ29kZUF0KGkpKTtcbiAgfVxuXG4gIHJldHVybiBieXRlcztcbn1cblxuZXhwb3J0IHZhciBETlMgPSAnNmJhN2I4MTAtOWRhZC0xMWQxLTgwYjQtMDBjMDRmZDQzMGM4JztcbmV4cG9ydCB2YXIgVVJMID0gJzZiYTdiODExLTlkYWQtMTFkMS04MGI0LTAwYzA0ZmQ0MzBjOCc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAobmFtZSwgdmVyc2lvbiwgaGFzaGZ1bmMpIHtcbiAgZnVuY3Rpb24gZ2VuZXJhdGVVVUlEKHZhbHVlLCBuYW1lc3BhY2UsIGJ1Ziwgb2Zmc2V0KSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHZhbHVlID0gc3RyaW5nVG9CeXRlcyh2YWx1ZSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBuYW1lc3BhY2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICBuYW1lc3BhY2UgPSBwYXJzZShuYW1lc3BhY2UpO1xuICAgIH1cblxuICAgIGlmIChuYW1lc3BhY2UubGVuZ3RoICE9PSAxNikge1xuICAgICAgdGhyb3cgVHlwZUVycm9yKCdOYW1lc3BhY2UgbXVzdCBiZSBhcnJheS1saWtlICgxNiBpdGVyYWJsZSBpbnRlZ2VyIHZhbHVlcywgMC0yNTUpJyk7XG4gICAgfSAvLyBDb21wdXRlIGhhc2ggb2YgbmFtZXNwYWNlIGFuZCB2YWx1ZSwgUGVyIDQuM1xuICAgIC8vIEZ1dHVyZTogVXNlIHNwcmVhZCBzeW50YXggd2hlbiBzdXBwb3J0ZWQgb24gYWxsIHBsYXRmb3JtcywgZS5nLiBgYnl0ZXMgPVxuICAgIC8vIGhhc2hmdW5jKFsuLi5uYW1lc3BhY2UsIC4uLiB2YWx1ZV0pYFxuXG5cbiAgICB2YXIgYnl0ZXMgPSBuZXcgVWludDhBcnJheSgxNiArIHZhbHVlLmxlbmd0aCk7XG4gICAgYnl0ZXMuc2V0KG5hbWVzcGFjZSk7XG4gICAgYnl0ZXMuc2V0KHZhbHVlLCBuYW1lc3BhY2UubGVuZ3RoKTtcbiAgICBieXRlcyA9IGhhc2hmdW5jKGJ5dGVzKTtcbiAgICBieXRlc1s2XSA9IGJ5dGVzWzZdICYgMHgwZiB8IHZlcnNpb247XG4gICAgYnl0ZXNbOF0gPSBieXRlc1s4XSAmIDB4M2YgfCAweDgwO1xuXG4gICAgaWYgKGJ1Zikge1xuICAgICAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTY7ICsraSkge1xuICAgICAgICBidWZbb2Zmc2V0ICsgaV0gPSBieXRlc1tpXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGJ1ZjtcbiAgICB9XG5cbiAgICByZXR1cm4gc3RyaW5naWZ5KGJ5dGVzKTtcbiAgfSAvLyBGdW5jdGlvbiNuYW1lIGlzIG5vdCBzZXR0YWJsZSBvbiBzb21lIHBsYXRmb3JtcyAoIzI3MClcblxuXG4gIHRyeSB7XG4gICAgZ2VuZXJhdGVVVUlELm5hbWUgPSBuYW1lOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZW1wdHlcbiAgfSBjYXRjaCAoZXJyKSB7fSAvLyBGb3IgQ29tbW9uSlMgZGVmYXVsdCBleHBvcnQgc3VwcG9ydFxuXG5cbiAgZ2VuZXJhdGVVVUlELkROUyA9IEROUztcbiAgZ2VuZXJhdGVVVUlELlVSTCA9IFVSTDtcbiAgcmV0dXJuIGdlbmVyYXRlVVVJRDtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/uuid/dist/esm-browser/v35.js\n");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/v4.js":
/*!**************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/v4.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rng.js */ \"./node_modules/uuid/dist/esm-browser/rng.js\");\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stringify.js */ \"./node_modules/uuid/dist/esm-browser/stringify.js\");\n\n\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || _rng_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return (0,_stringify_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(rnds);\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v4);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3Y0LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUEyQjtBQUNZOztBQUV2QztBQUNBO0FBQ0EsK0NBQStDLCtDQUFHLEtBQUs7O0FBRXZEO0FBQ0EsbUNBQW1DOztBQUVuQztBQUNBOztBQUVBLG9CQUFvQixRQUFRO0FBQzVCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxTQUFTLHlEQUFTO0FBQ2xCOztBQUVBLGlFQUFlLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3Y0LmpzP2YwNTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJuZyBmcm9tICcuL3JuZy5qcyc7XG5pbXBvcnQgc3RyaW5naWZ5IGZyb20gJy4vc3RyaW5naWZ5LmpzJztcblxuZnVuY3Rpb24gdjQob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciBybmRzID0gb3B0aW9ucy5yYW5kb20gfHwgKG9wdGlvbnMucm5nIHx8IHJuZykoKTsgLy8gUGVyIDQuNCwgc2V0IGJpdHMgZm9yIHZlcnNpb24gYW5kIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYFxuXG4gIHJuZHNbNl0gPSBybmRzWzZdICYgMHgwZiB8IDB4NDA7XG4gIHJuZHNbOF0gPSBybmRzWzhdICYgMHgzZiB8IDB4ODA7IC8vIENvcHkgYnl0ZXMgdG8gYnVmZmVyLCBpZiBwcm92aWRlZFxuXG4gIGlmIChidWYpIHtcbiAgICBvZmZzZXQgPSBvZmZzZXQgfHwgMDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTY7ICsraSkge1xuICAgICAgYnVmW29mZnNldCArIGldID0gcm5kc1tpXTtcbiAgICB9XG5cbiAgICByZXR1cm4gYnVmO1xuICB9XG5cbiAgcmV0dXJuIHN0cmluZ2lmeShybmRzKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdjQ7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/uuid/dist/esm-browser/v4.js\n");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/v5.js":
/*!**************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/v5.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _v35_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./v35.js */ \"./node_modules/uuid/dist/esm-browser/v35.js\");\n/* harmony import */ var _sha1_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sha1.js */ \"./node_modules/uuid/dist/esm-browser/sha1.js\");\n\n\nvar v5 = (0,_v35_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('v5', 0x50, _sha1_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v5);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3Y1LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUEyQjtBQUNFO0FBQzdCLFNBQVMsbURBQUcsYUFBYSxnREFBSTtBQUM3QixpRUFBZSxFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92NS5qcz9hMDcxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB2MzUgZnJvbSAnLi92MzUuanMnO1xuaW1wb3J0IHNoYTEgZnJvbSAnLi9zaGExLmpzJztcbnZhciB2NSA9IHYzNSgndjUnLCAweDUwLCBzaGExKTtcbmV4cG9ydCBkZWZhdWx0IHY1OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/uuid/dist/esm-browser/v5.js\n");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/validate.js":
/*!********************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/validate.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _regex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./regex.js */ \"./node_modules/uuid/dist/esm-browser/regex.js\");\n\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && _regex_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].test(uuid);\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (validate);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3ZhbGlkYXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQStCOztBQUUvQjtBQUNBLHFDQUFxQyxpREFBSztBQUMxQzs7QUFFQSxpRUFBZSxRQUFRIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92YWxpZGF0ZS5qcz80ZTk2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSRUdFWCBmcm9tICcuL3JlZ2V4LmpzJztcblxuZnVuY3Rpb24gdmFsaWRhdGUodXVpZCkge1xuICByZXR1cm4gdHlwZW9mIHV1aWQgPT09ICdzdHJpbmcnICYmIFJFR0VYLnRlc3QodXVpZCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHZhbGlkYXRlOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/uuid/dist/esm-browser/validate.js\n");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/version.js":
/*!*******************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/version.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ \"./node_modules/uuid/dist/esm-browser/validate.js\");\n\n\nfunction version(uuid) {\n  if (!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  return parseInt(uuid.substr(14, 1), 16);\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (version);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3ZlcnNpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBcUM7O0FBRXJDO0FBQ0EsT0FBTyx3REFBUTtBQUNmO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxpRUFBZSxPQUFPIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92ZXJzaW9uLmpzPzgyZjIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHZhbGlkYXRlIGZyb20gJy4vdmFsaWRhdGUuanMnO1xuXG5mdW5jdGlvbiB2ZXJzaW9uKHV1aWQpIHtcbiAgaWYgKCF2YWxpZGF0ZSh1dWlkKSkge1xuICAgIHRocm93IFR5cGVFcnJvcignSW52YWxpZCBVVUlEJyk7XG4gIH1cblxuICByZXR1cm4gcGFyc2VJbnQodXVpZC5zdWJzdHIoMTQsIDEpLCAxNik7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHZlcnNpb247Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/uuid/dist/esm-browser/version.js\n");

/***/ }),

/***/ "./node_modules/axios/dist/browser/axios.cjs":
/*!***************************************************!*\
  !*** ./node_modules/axios/dist/browser/axios.cjs ***!
  \***************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ \"./node_modules/buffer/index.js\")[\"Buffer\"];\n// Axios v1.7.2 Copyright (c) 2024 Matt Zabriskie and contributors\n\n\nfunction bind(fn, thisArg) {\n  return function wrap() {\n    return fn.apply(thisArg, arguments);\n  };\n}\n\n// utils is a library of generic helper functions non-specific to axios\n\nconst {toString} = Object.prototype;\nconst {getPrototypeOf} = Object;\n\nconst kindOf = (cache => thing => {\n    const str = toString.call(thing);\n    return cache[str] || (cache[str] = str.slice(8, -1).toLowerCase());\n})(Object.create(null));\n\nconst kindOfTest = (type) => {\n  type = type.toLowerCase();\n  return (thing) => kindOf(thing) === type\n};\n\nconst typeOfTest = type => thing => typeof thing === type;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n *\n * @returns {boolean} True if value is an Array, otherwise false\n */\nconst {isArray} = Array;\n\n/**\n * Determine if a value is undefined\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nconst isUndefined = typeOfTest('undefined');\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && isFunction(val.constructor.isBuffer) && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nconst isArrayBuffer = kindOfTest('ArrayBuffer');\n\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  let result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a String, otherwise false\n */\nconst isString = typeOfTest('string');\n\n/**\n * Determine if a value is a Function\n *\n * @param {*} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nconst isFunction = typeOfTest('function');\n\n/**\n * Determine if a value is a Number\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Number, otherwise false\n */\nconst isNumber = typeOfTest('number');\n\n/**\n * Determine if a value is an Object\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an Object, otherwise false\n */\nconst isObject = (thing) => thing !== null && typeof thing === 'object';\n\n/**\n * Determine if a value is a Boolean\n *\n * @param {*} thing The value to test\n * @returns {boolean} True if value is a Boolean, otherwise false\n */\nconst isBoolean = thing => thing === true || thing === false;\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a plain Object, otherwise false\n */\nconst isPlainObject = (val) => {\n  if (kindOf(val) !== 'object') {\n    return false;\n  }\n\n  const prototype = getPrototypeOf(val);\n  return (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(Symbol.toStringTag in val) && !(Symbol.iterator in val);\n};\n\n/**\n * Determine if a value is a Date\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Date, otherwise false\n */\nconst isDate = kindOfTest('Date');\n\n/**\n * Determine if a value is a File\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFile = kindOfTest('File');\n\n/**\n * Determine if a value is a Blob\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nconst isBlob = kindOfTest('Blob');\n\n/**\n * Determine if a value is a FileList\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFileList = kindOfTest('FileList');\n\n/**\n * Determine if a value is a Stream\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nconst isStream = (val) => isObject(val) && isFunction(val.pipe);\n\n/**\n * Determine if a value is a FormData\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nconst isFormData = (thing) => {\n  let kind;\n  return thing && (\n    (typeof FormData === 'function' && thing instanceof FormData) || (\n      isFunction(thing.append) && (\n        (kind = kindOf(thing)) === 'formdata' ||\n        // detect form-data instance\n        (kind === 'object' && isFunction(thing.toString) && thing.toString() === '[object FormData]')\n      )\n    )\n  )\n};\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nconst isURLSearchParams = kindOfTest('URLSearchParams');\n\nconst [isReadableStream, isRequest, isResponse, isHeaders] = ['ReadableStream', 'Request', 'Response', 'Headers'].map(kindOfTest);\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n *\n * @returns {String} The String freed of excess whitespace\n */\nconst trim = (str) => str.trim ?\n  str.trim() : str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n *\n * @param {Boolean} [allOwnKeys = false]\n * @returns {any}\n */\nfunction forEach(obj, fn, {allOwnKeys = false} = {}) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  let i;\n  let l;\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    const keys = allOwnKeys ? Object.getOwnPropertyNames(obj) : Object.keys(obj);\n    const len = keys.length;\n    let key;\n\n    for (i = 0; i < len; i++) {\n      key = keys[i];\n      fn.call(null, obj[key], key, obj);\n    }\n  }\n}\n\nfunction findKey(obj, key) {\n  key = key.toLowerCase();\n  const keys = Object.keys(obj);\n  let i = keys.length;\n  let _key;\n  while (i-- > 0) {\n    _key = keys[i];\n    if (key === _key.toLowerCase()) {\n      return _key;\n    }\n  }\n  return null;\n}\n\nconst _global = (() => {\n  /*eslint no-undef:0*/\n  if (typeof globalThis !== \"undefined\") return globalThis;\n  return typeof self !== \"undefined\" ? self : (typeof window !== 'undefined' ? window : __webpack_require__.g)\n})();\n\nconst isContextDefined = (context) => !isUndefined(context) && context !== _global;\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n *\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  const {caseless} = isContextDefined(this) && this || {};\n  const result = {};\n  const assignValue = (val, key) => {\n    const targetKey = caseless && findKey(result, key) || key;\n    if (isPlainObject(result[targetKey]) && isPlainObject(val)) {\n      result[targetKey] = merge(result[targetKey], val);\n    } else if (isPlainObject(val)) {\n      result[targetKey] = merge({}, val);\n    } else if (isArray(val)) {\n      result[targetKey] = val.slice();\n    } else {\n      result[targetKey] = val;\n    }\n  };\n\n  for (let i = 0, l = arguments.length; i < l; i++) {\n    arguments[i] && forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n *\n * @param {Boolean} [allOwnKeys]\n * @returns {Object} The resulting value of object a\n */\nconst extend = (a, b, thisArg, {allOwnKeys}= {}) => {\n  forEach(b, (val, key) => {\n    if (thisArg && isFunction(val)) {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  }, {allOwnKeys});\n  return a;\n};\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n *\n * @returns {string} content value without BOM\n */\nconst stripBOM = (content) => {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n};\n\n/**\n * Inherit the prototype methods from one constructor into another\n * @param {function} constructor\n * @param {function} superConstructor\n * @param {object} [props]\n * @param {object} [descriptors]\n *\n * @returns {void}\n */\nconst inherits = (constructor, superConstructor, props, descriptors) => {\n  constructor.prototype = Object.create(superConstructor.prototype, descriptors);\n  constructor.prototype.constructor = constructor;\n  Object.defineProperty(constructor, 'super', {\n    value: superConstructor.prototype\n  });\n  props && Object.assign(constructor.prototype, props);\n};\n\n/**\n * Resolve object with deep prototype chain to a flat object\n * @param {Object} sourceObj source object\n * @param {Object} [destObj]\n * @param {Function|Boolean} [filter]\n * @param {Function} [propFilter]\n *\n * @returns {Object}\n */\nconst toFlatObject = (sourceObj, destObj, filter, propFilter) => {\n  let props;\n  let i;\n  let prop;\n  const merged = {};\n\n  destObj = destObj || {};\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  if (sourceObj == null) return destObj;\n\n  do {\n    props = Object.getOwnPropertyNames(sourceObj);\n    i = props.length;\n    while (i-- > 0) {\n      prop = props[i];\n      if ((!propFilter || propFilter(prop, sourceObj, destObj)) && !merged[prop]) {\n        destObj[prop] = sourceObj[prop];\n        merged[prop] = true;\n      }\n    }\n    sourceObj = filter !== false && getPrototypeOf(sourceObj);\n  } while (sourceObj && (!filter || filter(sourceObj, destObj)) && sourceObj !== Object.prototype);\n\n  return destObj;\n};\n\n/**\n * Determines whether a string ends with the characters of a specified string\n *\n * @param {String} str\n * @param {String} searchString\n * @param {Number} [position= 0]\n *\n * @returns {boolean}\n */\nconst endsWith = (str, searchString, position) => {\n  str = String(str);\n  if (position === undefined || position > str.length) {\n    position = str.length;\n  }\n  position -= searchString.length;\n  const lastIndex = str.indexOf(searchString, position);\n  return lastIndex !== -1 && lastIndex === position;\n};\n\n\n/**\n * Returns new array from array like object or null if failed\n *\n * @param {*} [thing]\n *\n * @returns {?Array}\n */\nconst toArray = (thing) => {\n  if (!thing) return null;\n  if (isArray(thing)) return thing;\n  let i = thing.length;\n  if (!isNumber(i)) return null;\n  const arr = new Array(i);\n  while (i-- > 0) {\n    arr[i] = thing[i];\n  }\n  return arr;\n};\n\n/**\n * Checking if the Uint8Array exists and if it does, it returns a function that checks if the\n * thing passed in is an instance of Uint8Array\n *\n * @param {TypedArray}\n *\n * @returns {Array}\n */\n// eslint-disable-next-line func-names\nconst isTypedArray = (TypedArray => {\n  // eslint-disable-next-line func-names\n  return thing => {\n    return TypedArray && thing instanceof TypedArray;\n  };\n})(typeof Uint8Array !== 'undefined' && getPrototypeOf(Uint8Array));\n\n/**\n * For each entry in the object, call the function with the key and value.\n *\n * @param {Object<any, any>} obj - The object to iterate over.\n * @param {Function} fn - The function to call for each entry.\n *\n * @returns {void}\n */\nconst forEachEntry = (obj, fn) => {\n  const generator = obj && obj[Symbol.iterator];\n\n  const iterator = generator.call(obj);\n\n  let result;\n\n  while ((result = iterator.next()) && !result.done) {\n    const pair = result.value;\n    fn.call(obj, pair[0], pair[1]);\n  }\n};\n\n/**\n * It takes a regular expression and a string, and returns an array of all the matches\n *\n * @param {string} regExp - The regular expression to match against.\n * @param {string} str - The string to search.\n *\n * @returns {Array<boolean>}\n */\nconst matchAll = (regExp, str) => {\n  let matches;\n  const arr = [];\n\n  while ((matches = regExp.exec(str)) !== null) {\n    arr.push(matches);\n  }\n\n  return arr;\n};\n\n/* Checking if the kindOfTest function returns true when passed an HTMLFormElement. */\nconst isHTMLForm = kindOfTest('HTMLFormElement');\n\nconst toCamelCase = str => {\n  return str.toLowerCase().replace(/[-_\\s]([a-z\\d])(\\w*)/g,\n    function replacer(m, p1, p2) {\n      return p1.toUpperCase() + p2;\n    }\n  );\n};\n\n/* Creating a function that will check if an object has a property. */\nconst hasOwnProperty = (({hasOwnProperty}) => (obj, prop) => hasOwnProperty.call(obj, prop))(Object.prototype);\n\n/**\n * Determine if a value is a RegExp object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a RegExp object, otherwise false\n */\nconst isRegExp = kindOfTest('RegExp');\n\nconst reduceDescriptors = (obj, reducer) => {\n  const descriptors = Object.getOwnPropertyDescriptors(obj);\n  const reducedDescriptors = {};\n\n  forEach(descriptors, (descriptor, name) => {\n    let ret;\n    if ((ret = reducer(descriptor, name, obj)) !== false) {\n      reducedDescriptors[name] = ret || descriptor;\n    }\n  });\n\n  Object.defineProperties(obj, reducedDescriptors);\n};\n\n/**\n * Makes all methods read-only\n * @param {Object} obj\n */\n\nconst freezeMethods = (obj) => {\n  reduceDescriptors(obj, (descriptor, name) => {\n    // skip restricted props in strict mode\n    if (isFunction(obj) && ['arguments', 'caller', 'callee'].indexOf(name) !== -1) {\n      return false;\n    }\n\n    const value = obj[name];\n\n    if (!isFunction(value)) return;\n\n    descriptor.enumerable = false;\n\n    if ('writable' in descriptor) {\n      descriptor.writable = false;\n      return;\n    }\n\n    if (!descriptor.set) {\n      descriptor.set = () => {\n        throw Error('Can not rewrite read-only method \\'' + name + '\\'');\n      };\n    }\n  });\n};\n\nconst toObjectSet = (arrayOrString, delimiter) => {\n  const obj = {};\n\n  const define = (arr) => {\n    arr.forEach(value => {\n      obj[value] = true;\n    });\n  };\n\n  isArray(arrayOrString) ? define(arrayOrString) : define(String(arrayOrString).split(delimiter));\n\n  return obj;\n};\n\nconst noop = () => {};\n\nconst toFiniteNumber = (value, defaultValue) => {\n  return value != null && Number.isFinite(value = +value) ? value : defaultValue;\n};\n\nconst ALPHA = 'abcdefghijklmnopqrstuvwxyz';\n\nconst DIGIT = '0123456789';\n\nconst ALPHABET = {\n  DIGIT,\n  ALPHA,\n  ALPHA_DIGIT: ALPHA + ALPHA.toUpperCase() + DIGIT\n};\n\nconst generateString = (size = 16, alphabet = ALPHABET.ALPHA_DIGIT) => {\n  let str = '';\n  const {length} = alphabet;\n  while (size--) {\n    str += alphabet[Math.random() * length|0];\n  }\n\n  return str;\n};\n\n/**\n * If the thing is a FormData object, return true, otherwise return false.\n *\n * @param {unknown} thing - The thing to check.\n *\n * @returns {boolean}\n */\nfunction isSpecCompliantForm(thing) {\n  return !!(thing && isFunction(thing.append) && thing[Symbol.toStringTag] === 'FormData' && thing[Symbol.iterator]);\n}\n\nconst toJSONObject = (obj) => {\n  const stack = new Array(10);\n\n  const visit = (source, i) => {\n\n    if (isObject(source)) {\n      if (stack.indexOf(source) >= 0) {\n        return;\n      }\n\n      if(!('toJSON' in source)) {\n        stack[i] = source;\n        const target = isArray(source) ? [] : {};\n\n        forEach(source, (value, key) => {\n          const reducedValue = visit(value, i + 1);\n          !isUndefined(reducedValue) && (target[key] = reducedValue);\n        });\n\n        stack[i] = undefined;\n\n        return target;\n      }\n    }\n\n    return source;\n  };\n\n  return visit(obj, 0);\n};\n\nconst isAsyncFn = kindOfTest('AsyncFunction');\n\nconst isThenable = (thing) =>\n  thing && (isObject(thing) || isFunction(thing)) && isFunction(thing.then) && isFunction(thing.catch);\n\nvar utils$1 = {\n  isArray,\n  isArrayBuffer,\n  isBuffer,\n  isFormData,\n  isArrayBufferView,\n  isString,\n  isNumber,\n  isBoolean,\n  isObject,\n  isPlainObject,\n  isReadableStream,\n  isRequest,\n  isResponse,\n  isHeaders,\n  isUndefined,\n  isDate,\n  isFile,\n  isBlob,\n  isRegExp,\n  isFunction,\n  isStream,\n  isURLSearchParams,\n  isTypedArray,\n  isFileList,\n  forEach,\n  merge,\n  extend,\n  trim,\n  stripBOM,\n  inherits,\n  toFlatObject,\n  kindOf,\n  kindOfTest,\n  endsWith,\n  toArray,\n  forEachEntry,\n  matchAll,\n  isHTMLForm,\n  hasOwnProperty,\n  hasOwnProp: hasOwnProperty, // an alias to avoid ESLint no-prototype-builtins detection\n  reduceDescriptors,\n  freezeMethods,\n  toObjectSet,\n  toCamelCase,\n  noop,\n  toFiniteNumber,\n  findKey,\n  global: _global,\n  isContextDefined,\n  ALPHABET,\n  generateString,\n  isSpecCompliantForm,\n  toJSONObject,\n  isAsyncFn,\n  isThenable\n};\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [config] The config.\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n *\n * @returns {Error} The created error.\n */\nfunction AxiosError(message, code, config, request, response) {\n  Error.call(this);\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, this.constructor);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n\n  this.message = message;\n  this.name = 'AxiosError';\n  code && (this.code = code);\n  config && (this.config = config);\n  request && (this.request = request);\n  response && (this.response = response);\n}\n\nutils$1.inherits(AxiosError, Error, {\n  toJSON: function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: utils$1.toJSONObject(this.config),\n      code: this.code,\n      status: this.response && this.response.status ? this.response.status : null\n    };\n  }\n});\n\nconst prototype$1 = AxiosError.prototype;\nconst descriptors = {};\n\n[\n  'ERR_BAD_OPTION_VALUE',\n  'ERR_BAD_OPTION',\n  'ECONNABORTED',\n  'ETIMEDOUT',\n  'ERR_NETWORK',\n  'ERR_FR_TOO_MANY_REDIRECTS',\n  'ERR_DEPRECATED',\n  'ERR_BAD_RESPONSE',\n  'ERR_BAD_REQUEST',\n  'ERR_CANCELED',\n  'ERR_NOT_SUPPORT',\n  'ERR_INVALID_URL'\n// eslint-disable-next-line func-names\n].forEach(code => {\n  descriptors[code] = {value: code};\n});\n\nObject.defineProperties(AxiosError, descriptors);\nObject.defineProperty(prototype$1, 'isAxiosError', {value: true});\n\n// eslint-disable-next-line func-names\nAxiosError.from = (error, code, config, request, response, customProps) => {\n  const axiosError = Object.create(prototype$1);\n\n  utils$1.toFlatObject(error, axiosError, function filter(obj) {\n    return obj !== Error.prototype;\n  }, prop => {\n    return prop !== 'isAxiosError';\n  });\n\n  AxiosError.call(axiosError, error.message, code, config, request, response);\n\n  axiosError.cause = error;\n\n  axiosError.name = error.name;\n\n  customProps && Object.assign(axiosError, customProps);\n\n  return axiosError;\n};\n\n// eslint-disable-next-line strict\nvar httpAdapter = null;\n\n/**\n * Determines if the given thing is a array or js object.\n *\n * @param {string} thing - The object or array to be visited.\n *\n * @returns {boolean}\n */\nfunction isVisitable(thing) {\n  return utils$1.isPlainObject(thing) || utils$1.isArray(thing);\n}\n\n/**\n * It removes the brackets from the end of a string\n *\n * @param {string} key - The key of the parameter.\n *\n * @returns {string} the key without the brackets.\n */\nfunction removeBrackets(key) {\n  return utils$1.endsWith(key, '[]') ? key.slice(0, -2) : key;\n}\n\n/**\n * It takes a path, a key, and a boolean, and returns a string\n *\n * @param {string} path - The path to the current key.\n * @param {string} key - The key of the current object being iterated over.\n * @param {string} dots - If true, the key will be rendered with dots instead of brackets.\n *\n * @returns {string} The path to the current key.\n */\nfunction renderKey(path, key, dots) {\n  if (!path) return key;\n  return path.concat(key).map(function each(token, i) {\n    // eslint-disable-next-line no-param-reassign\n    token = removeBrackets(token);\n    return !dots && i ? '[' + token + ']' : token;\n  }).join(dots ? '.' : '');\n}\n\n/**\n * If the array is an array and none of its elements are visitable, then it's a flat array.\n *\n * @param {Array<any>} arr - The array to check\n *\n * @returns {boolean}\n */\nfunction isFlatArray(arr) {\n  return utils$1.isArray(arr) && !arr.some(isVisitable);\n}\n\nconst predicates = utils$1.toFlatObject(utils$1, {}, null, function filter(prop) {\n  return /^is[A-Z]/.test(prop);\n});\n\n/**\n * Convert a data object to FormData\n *\n * @param {Object} obj\n * @param {?Object} [formData]\n * @param {?Object} [options]\n * @param {Function} [options.visitor]\n * @param {Boolean} [options.metaTokens = true]\n * @param {Boolean} [options.dots = false]\n * @param {?Boolean} [options.indexes = false]\n *\n * @returns {Object}\n **/\n\n/**\n * It converts an object into a FormData object\n *\n * @param {Object<any, any>} obj - The object to convert to form data.\n * @param {string} formData - The FormData object to append to.\n * @param {Object<string, any>} options\n *\n * @returns\n */\nfunction toFormData(obj, formData, options) {\n  if (!utils$1.isObject(obj)) {\n    throw new TypeError('target must be an object');\n  }\n\n  // eslint-disable-next-line no-param-reassign\n  formData = formData || new (FormData)();\n\n  // eslint-disable-next-line no-param-reassign\n  options = utils$1.toFlatObject(options, {\n    metaTokens: true,\n    dots: false,\n    indexes: false\n  }, false, function defined(option, source) {\n    // eslint-disable-next-line no-eq-null,eqeqeq\n    return !utils$1.isUndefined(source[option]);\n  });\n\n  const metaTokens = options.metaTokens;\n  // eslint-disable-next-line no-use-before-define\n  const visitor = options.visitor || defaultVisitor;\n  const dots = options.dots;\n  const indexes = options.indexes;\n  const _Blob = options.Blob || typeof Blob !== 'undefined' && Blob;\n  const useBlob = _Blob && utils$1.isSpecCompliantForm(formData);\n\n  if (!utils$1.isFunction(visitor)) {\n    throw new TypeError('visitor must be a function');\n  }\n\n  function convertValue(value) {\n    if (value === null) return '';\n\n    if (utils$1.isDate(value)) {\n      return value.toISOString();\n    }\n\n    if (!useBlob && utils$1.isBlob(value)) {\n      throw new AxiosError('Blob is not supported. Use a Buffer instead.');\n    }\n\n    if (utils$1.isArrayBuffer(value) || utils$1.isTypedArray(value)) {\n      return useBlob && typeof Blob === 'function' ? new Blob([value]) : Buffer.from(value);\n    }\n\n    return value;\n  }\n\n  /**\n   * Default visitor.\n   *\n   * @param {*} value\n   * @param {String|Number} key\n   * @param {Array<String|Number>} path\n   * @this {FormData}\n   *\n   * @returns {boolean} return true to visit the each prop of the value recursively\n   */\n  function defaultVisitor(value, key, path) {\n    let arr = value;\n\n    if (value && !path && typeof value === 'object') {\n      if (utils$1.endsWith(key, '{}')) {\n        // eslint-disable-next-line no-param-reassign\n        key = metaTokens ? key : key.slice(0, -2);\n        // eslint-disable-next-line no-param-reassign\n        value = JSON.stringify(value);\n      } else if (\n        (utils$1.isArray(value) && isFlatArray(value)) ||\n        ((utils$1.isFileList(value) || utils$1.endsWith(key, '[]')) && (arr = utils$1.toArray(value))\n        )) {\n        // eslint-disable-next-line no-param-reassign\n        key = removeBrackets(key);\n\n        arr.forEach(function each(el, index) {\n          !(utils$1.isUndefined(el) || el === null) && formData.append(\n            // eslint-disable-next-line no-nested-ternary\n            indexes === true ? renderKey([key], index, dots) : (indexes === null ? key : key + '[]'),\n            convertValue(el)\n          );\n        });\n        return false;\n      }\n    }\n\n    if (isVisitable(value)) {\n      return true;\n    }\n\n    formData.append(renderKey(path, key, dots), convertValue(value));\n\n    return false;\n  }\n\n  const stack = [];\n\n  const exposedHelpers = Object.assign(predicates, {\n    defaultVisitor,\n    convertValue,\n    isVisitable\n  });\n\n  function build(value, path) {\n    if (utils$1.isUndefined(value)) return;\n\n    if (stack.indexOf(value) !== -1) {\n      throw Error('Circular reference detected in ' + path.join('.'));\n    }\n\n    stack.push(value);\n\n    utils$1.forEach(value, function each(el, key) {\n      const result = !(utils$1.isUndefined(el) || el === null) && visitor.call(\n        formData, el, utils$1.isString(key) ? key.trim() : key, path, exposedHelpers\n      );\n\n      if (result === true) {\n        build(el, path ? path.concat(key) : [key]);\n      }\n    });\n\n    stack.pop();\n  }\n\n  if (!utils$1.isObject(obj)) {\n    throw new TypeError('data must be an object');\n  }\n\n  build(obj);\n\n  return formData;\n}\n\n/**\n * It encodes a string by replacing all characters that are not in the unreserved set with\n * their percent-encoded equivalents\n *\n * @param {string} str - The string to encode.\n *\n * @returns {string} The encoded string.\n */\nfunction encode$1(str) {\n  const charMap = {\n    '!': '%21',\n    \"'\": '%27',\n    '(': '%28',\n    ')': '%29',\n    '~': '%7E',\n    '%20': '+',\n    '%00': '\\x00'\n  };\n  return encodeURIComponent(str).replace(/[!'()~]|%20|%00/g, function replacer(match) {\n    return charMap[match];\n  });\n}\n\n/**\n * It takes a params object and converts it to a FormData object\n *\n * @param {Object<string, any>} params - The parameters to be converted to a FormData object.\n * @param {Object<string, any>} options - The options object passed to the Axios constructor.\n *\n * @returns {void}\n */\nfunction AxiosURLSearchParams(params, options) {\n  this._pairs = [];\n\n  params && toFormData(params, this, options);\n}\n\nconst prototype = AxiosURLSearchParams.prototype;\n\nprototype.append = function append(name, value) {\n  this._pairs.push([name, value]);\n};\n\nprototype.toString = function toString(encoder) {\n  const _encode = encoder ? function(value) {\n    return encoder.call(this, value, encode$1);\n  } : encode$1;\n\n  return this._pairs.map(function each(pair) {\n    return _encode(pair[0]) + '=' + _encode(pair[1]);\n  }, '').join('&');\n};\n\n/**\n * It replaces all instances of the characters `:`, `$`, `,`, `+`, `[`, and `]` with their\n * URI encoded counterparts\n *\n * @param {string} val The value to be encoded.\n *\n * @returns {string} The encoded value.\n */\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @param {?object} options\n *\n * @returns {string} The formatted url\n */\nfunction buildURL(url, params, options) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n  \n  const _encode = options && options.encode || encode;\n\n  const serializeFn = options && options.serialize;\n\n  let serializedParams;\n\n  if (serializeFn) {\n    serializedParams = serializeFn(params, options);\n  } else {\n    serializedParams = utils$1.isURLSearchParams(params) ?\n      params.toString() :\n      new AxiosURLSearchParams(params, options).toString(_encode);\n  }\n\n  if (serializedParams) {\n    const hashmarkIndex = url.indexOf(\"#\");\n\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n}\n\nclass InterceptorManager {\n  constructor() {\n    this.handlers = [];\n  }\n\n  /**\n   * Add a new interceptor to the stack\n   *\n   * @param {Function} fulfilled The function to handle `then` for a `Promise`\n   * @param {Function} rejected The function to handle `reject` for a `Promise`\n   *\n   * @return {Number} An ID used to remove interceptor later\n   */\n  use(fulfilled, rejected, options) {\n    this.handlers.push({\n      fulfilled,\n      rejected,\n      synchronous: options ? options.synchronous : false,\n      runWhen: options ? options.runWhen : null\n    });\n    return this.handlers.length - 1;\n  }\n\n  /**\n   * Remove an interceptor from the stack\n   *\n   * @param {Number} id The ID that was returned by `use`\n   *\n   * @returns {Boolean} `true` if the interceptor was removed, `false` otherwise\n   */\n  eject(id) {\n    if (this.handlers[id]) {\n      this.handlers[id] = null;\n    }\n  }\n\n  /**\n   * Clear all interceptors from the stack\n   *\n   * @returns {void}\n   */\n  clear() {\n    if (this.handlers) {\n      this.handlers = [];\n    }\n  }\n\n  /**\n   * Iterate over all the registered interceptors\n   *\n   * This method is particularly useful for skipping over any\n   * interceptors that may have become `null` calling `eject`.\n   *\n   * @param {Function} fn The function to call for each interceptor\n   *\n   * @returns {void}\n   */\n  forEach(fn) {\n    utils$1.forEach(this.handlers, function forEachHandler(h) {\n      if (h !== null) {\n        fn(h);\n      }\n    });\n  }\n}\n\nvar InterceptorManager$1 = InterceptorManager;\n\nvar transitionalDefaults = {\n  silentJSONParsing: true,\n  forcedJSONParsing: true,\n  clarifyTimeoutError: false\n};\n\nvar URLSearchParams$1 = typeof URLSearchParams !== 'undefined' ? URLSearchParams : AxiosURLSearchParams;\n\nvar FormData$1 = typeof FormData !== 'undefined' ? FormData : null;\n\nvar Blob$1 = typeof Blob !== 'undefined' ? Blob : null;\n\nvar platform$1 = {\n  isBrowser: true,\n  classes: {\n    URLSearchParams: URLSearchParams$1,\n    FormData: FormData$1,\n    Blob: Blob$1\n  },\n  protocols: ['http', 'https', 'file', 'blob', 'url', 'data']\n};\n\nconst hasBrowserEnv = typeof window !== 'undefined' && typeof document !== 'undefined';\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n *\n * @returns {boolean}\n */\nconst hasStandardBrowserEnv = (\n  (product) => {\n    return hasBrowserEnv && ['ReactNative', 'NativeScript', 'NS'].indexOf(product) < 0\n  })(typeof navigator !== 'undefined' && navigator.product);\n\n/**\n * Determine if we're running in a standard browser webWorker environment\n *\n * Although the `isStandardBrowserEnv` method indicates that\n * `allows axios to run in a web worker`, the WebWorker will still be\n * filtered out due to its judgment standard\n * `typeof window !== 'undefined' && typeof document !== 'undefined'`.\n * This leads to a problem when axios post `FormData` in webWorker\n */\nconst hasStandardBrowserWebWorkerEnv = (() => {\n  return (\n    typeof WorkerGlobalScope !== 'undefined' &&\n    // eslint-disable-next-line no-undef\n    self instanceof WorkerGlobalScope &&\n    typeof self.importScripts === 'function'\n  );\n})();\n\nconst origin = hasBrowserEnv && window.location.href || 'http://localhost';\n\nvar utils = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  hasBrowserEnv: hasBrowserEnv,\n  hasStandardBrowserWebWorkerEnv: hasStandardBrowserWebWorkerEnv,\n  hasStandardBrowserEnv: hasStandardBrowserEnv,\n  origin: origin\n});\n\nvar platform = {\n  ...utils,\n  ...platform$1\n};\n\nfunction toURLEncodedForm(data, options) {\n  return toFormData(data, new platform.classes.URLSearchParams(), Object.assign({\n    visitor: function(value, key, path, helpers) {\n      if (platform.isNode && utils$1.isBuffer(value)) {\n        this.append(key, value.toString('base64'));\n        return false;\n      }\n\n      return helpers.defaultVisitor.apply(this, arguments);\n    }\n  }, options));\n}\n\n/**\n * It takes a string like `foo[x][y][z]` and returns an array like `['foo', 'x', 'y', 'z']\n *\n * @param {string} name - The name of the property to get.\n *\n * @returns An array of strings.\n */\nfunction parsePropPath(name) {\n  // foo[x][y][z]\n  // foo.x.y.z\n  // foo-x-y-z\n  // foo x y z\n  return utils$1.matchAll(/\\w+|\\[(\\w*)]/g, name).map(match => {\n    return match[0] === '[]' ? '' : match[1] || match[0];\n  });\n}\n\n/**\n * Convert an array to an object.\n *\n * @param {Array<any>} arr - The array to convert to an object.\n *\n * @returns An object with the same keys and values as the array.\n */\nfunction arrayToObject(arr) {\n  const obj = {};\n  const keys = Object.keys(arr);\n  let i;\n  const len = keys.length;\n  let key;\n  for (i = 0; i < len; i++) {\n    key = keys[i];\n    obj[key] = arr[key];\n  }\n  return obj;\n}\n\n/**\n * It takes a FormData object and returns a JavaScript object\n *\n * @param {string} formData The FormData object to convert to JSON.\n *\n * @returns {Object<string, any> | null} The converted object.\n */\nfunction formDataToJSON(formData) {\n  function buildPath(path, value, target, index) {\n    let name = path[index++];\n\n    if (name === '__proto__') return true;\n\n    const isNumericKey = Number.isFinite(+name);\n    const isLast = index >= path.length;\n    name = !name && utils$1.isArray(target) ? target.length : name;\n\n    if (isLast) {\n      if (utils$1.hasOwnProp(target, name)) {\n        target[name] = [target[name], value];\n      } else {\n        target[name] = value;\n      }\n\n      return !isNumericKey;\n    }\n\n    if (!target[name] || !utils$1.isObject(target[name])) {\n      target[name] = [];\n    }\n\n    const result = buildPath(path, value, target[name], index);\n\n    if (result && utils$1.isArray(target[name])) {\n      target[name] = arrayToObject(target[name]);\n    }\n\n    return !isNumericKey;\n  }\n\n  if (utils$1.isFormData(formData) && utils$1.isFunction(formData.entries)) {\n    const obj = {};\n\n    utils$1.forEachEntry(formData, (name, value) => {\n      buildPath(parsePropPath(name), value, obj, 0);\n    });\n\n    return obj;\n  }\n\n  return null;\n}\n\n/**\n * It takes a string, tries to parse it, and if it fails, it returns the stringified version\n * of the input\n *\n * @param {any} rawValue - The value to be stringified.\n * @param {Function} parser - A function that parses a string into a JavaScript object.\n * @param {Function} encoder - A function that takes a value and returns a string.\n *\n * @returns {string} A stringified version of the rawValue.\n */\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils$1.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils$1.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nconst defaults = {\n\n  transitional: transitionalDefaults,\n\n  adapter: ['xhr', 'http', 'fetch'],\n\n  transformRequest: [function transformRequest(data, headers) {\n    const contentType = headers.getContentType() || '';\n    const hasJSONContentType = contentType.indexOf('application/json') > -1;\n    const isObjectPayload = utils$1.isObject(data);\n\n    if (isObjectPayload && utils$1.isHTMLForm(data)) {\n      data = new FormData(data);\n    }\n\n    const isFormData = utils$1.isFormData(data);\n\n    if (isFormData) {\n      return hasJSONContentType ? JSON.stringify(formDataToJSON(data)) : data;\n    }\n\n    if (utils$1.isArrayBuffer(data) ||\n      utils$1.isBuffer(data) ||\n      utils$1.isStream(data) ||\n      utils$1.isFile(data) ||\n      utils$1.isBlob(data) ||\n      utils$1.isReadableStream(data)\n    ) {\n      return data;\n    }\n    if (utils$1.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils$1.isURLSearchParams(data)) {\n      headers.setContentType('application/x-www-form-urlencoded;charset=utf-8', false);\n      return data.toString();\n    }\n\n    let isFileList;\n\n    if (isObjectPayload) {\n      if (contentType.indexOf('application/x-www-form-urlencoded') > -1) {\n        return toURLEncodedForm(data, this.formSerializer).toString();\n      }\n\n      if ((isFileList = utils$1.isFileList(data)) || contentType.indexOf('multipart/form-data') > -1) {\n        const _FormData = this.env && this.env.FormData;\n\n        return toFormData(\n          isFileList ? {'files[]': data} : data,\n          _FormData && new _FormData(),\n          this.formSerializer\n        );\n      }\n    }\n\n    if (isObjectPayload || hasJSONContentType ) {\n      headers.setContentType('application/json', false);\n      return stringifySafely(data);\n    }\n\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    const transitional = this.transitional || defaults.transitional;\n    const forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    const JSONRequested = this.responseType === 'json';\n\n    if (utils$1.isResponse(data) || utils$1.isReadableStream(data)) {\n      return data;\n    }\n\n    if (data && utils$1.isString(data) && ((forcedJSONParsing && !this.responseType) || JSONRequested)) {\n      const silentJSONParsing = transitional && transitional.silentJSONParsing;\n      const strictJSONParsing = !silentJSONParsing && JSONRequested;\n\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw AxiosError.from(e, AxiosError.ERR_BAD_RESPONSE, this, null, this.response);\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  env: {\n    FormData: platform.classes.FormData,\n    Blob: platform.classes.Blob\n  },\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*',\n      'Content-Type': undefined\n    }\n  }\n};\n\nutils$1.forEach(['delete', 'get', 'head', 'post', 'put', 'patch'], (method) => {\n  defaults.headers[method] = {};\n});\n\nvar defaults$1 = defaults;\n\n// RawAxiosHeaders whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nconst ignoreDuplicateOf = utils$1.toObjectSet([\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n]);\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} rawHeaders Headers needing to be parsed\n *\n * @returns {Object} Headers parsed into an object\n */\nvar parseHeaders = rawHeaders => {\n  const parsed = {};\n  let key;\n  let val;\n  let i;\n\n  rawHeaders && rawHeaders.split('\\n').forEach(function parser(line) {\n    i = line.indexOf(':');\n    key = line.substring(0, i).trim().toLowerCase();\n    val = line.substring(i + 1).trim();\n\n    if (!key || (parsed[key] && ignoreDuplicateOf[key])) {\n      return;\n    }\n\n    if (key === 'set-cookie') {\n      if (parsed[key]) {\n        parsed[key].push(val);\n      } else {\n        parsed[key] = [val];\n      }\n    } else {\n      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n    }\n  });\n\n  return parsed;\n};\n\nconst $internals = Symbol('internals');\n\nfunction normalizeHeader(header) {\n  return header && String(header).trim().toLowerCase();\n}\n\nfunction normalizeValue(value) {\n  if (value === false || value == null) {\n    return value;\n  }\n\n  return utils$1.isArray(value) ? value.map(normalizeValue) : String(value);\n}\n\nfunction parseTokens(str) {\n  const tokens = Object.create(null);\n  const tokensRE = /([^\\s,;=]+)\\s*(?:=\\s*([^,;]+))?/g;\n  let match;\n\n  while ((match = tokensRE.exec(str))) {\n    tokens[match[1]] = match[2];\n  }\n\n  return tokens;\n}\n\nconst isValidHeaderName = (str) => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(str.trim());\n\nfunction matchHeaderValue(context, value, header, filter, isHeaderNameFilter) {\n  if (utils$1.isFunction(filter)) {\n    return filter.call(this, value, header);\n  }\n\n  if (isHeaderNameFilter) {\n    value = header;\n  }\n\n  if (!utils$1.isString(value)) return;\n\n  if (utils$1.isString(filter)) {\n    return value.indexOf(filter) !== -1;\n  }\n\n  if (utils$1.isRegExp(filter)) {\n    return filter.test(value);\n  }\n}\n\nfunction formatHeader(header) {\n  return header.trim()\n    .toLowerCase().replace(/([a-z\\d])(\\w*)/g, (w, char, str) => {\n      return char.toUpperCase() + str;\n    });\n}\n\nfunction buildAccessors(obj, header) {\n  const accessorName = utils$1.toCamelCase(' ' + header);\n\n  ['get', 'set', 'has'].forEach(methodName => {\n    Object.defineProperty(obj, methodName + accessorName, {\n      value: function(arg1, arg2, arg3) {\n        return this[methodName].call(this, header, arg1, arg2, arg3);\n      },\n      configurable: true\n    });\n  });\n}\n\nclass AxiosHeaders {\n  constructor(headers) {\n    headers && this.set(headers);\n  }\n\n  set(header, valueOrRewrite, rewrite) {\n    const self = this;\n\n    function setHeader(_value, _header, _rewrite) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!lHeader) {\n        throw new Error('header name must be a non-empty string');\n      }\n\n      const key = utils$1.findKey(self, lHeader);\n\n      if(!key || self[key] === undefined || _rewrite === true || (_rewrite === undefined && self[key] !== false)) {\n        self[key || _header] = normalizeValue(_value);\n      }\n    }\n\n    const setHeaders = (headers, _rewrite) =>\n      utils$1.forEach(headers, (_value, _header) => setHeader(_value, _header, _rewrite));\n\n    if (utils$1.isPlainObject(header) || header instanceof this.constructor) {\n      setHeaders(header, valueOrRewrite);\n    } else if(utils$1.isString(header) && (header = header.trim()) && !isValidHeaderName(header)) {\n      setHeaders(parseHeaders(header), valueOrRewrite);\n    } else if (utils$1.isHeaders(header)) {\n      for (const [key, value] of header.entries()) {\n        setHeader(value, key, rewrite);\n      }\n    } else {\n      header != null && setHeader(valueOrRewrite, header, rewrite);\n    }\n\n    return this;\n  }\n\n  get(header, parser) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils$1.findKey(this, header);\n\n      if (key) {\n        const value = this[key];\n\n        if (!parser) {\n          return value;\n        }\n\n        if (parser === true) {\n          return parseTokens(value);\n        }\n\n        if (utils$1.isFunction(parser)) {\n          return parser.call(this, value, key);\n        }\n\n        if (utils$1.isRegExp(parser)) {\n          return parser.exec(value);\n        }\n\n        throw new TypeError('parser must be boolean|regexp|function');\n      }\n    }\n  }\n\n  has(header, matcher) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils$1.findKey(this, header);\n\n      return !!(key && this[key] !== undefined && (!matcher || matchHeaderValue(this, this[key], key, matcher)));\n    }\n\n    return false;\n  }\n\n  delete(header, matcher) {\n    const self = this;\n    let deleted = false;\n\n    function deleteHeader(_header) {\n      _header = normalizeHeader(_header);\n\n      if (_header) {\n        const key = utils$1.findKey(self, _header);\n\n        if (key && (!matcher || matchHeaderValue(self, self[key], key, matcher))) {\n          delete self[key];\n\n          deleted = true;\n        }\n      }\n    }\n\n    if (utils$1.isArray(header)) {\n      header.forEach(deleteHeader);\n    } else {\n      deleteHeader(header);\n    }\n\n    return deleted;\n  }\n\n  clear(matcher) {\n    const keys = Object.keys(this);\n    let i = keys.length;\n    let deleted = false;\n\n    while (i--) {\n      const key = keys[i];\n      if(!matcher || matchHeaderValue(this, this[key], key, matcher, true)) {\n        delete this[key];\n        deleted = true;\n      }\n    }\n\n    return deleted;\n  }\n\n  normalize(format) {\n    const self = this;\n    const headers = {};\n\n    utils$1.forEach(this, (value, header) => {\n      const key = utils$1.findKey(headers, header);\n\n      if (key) {\n        self[key] = normalizeValue(value);\n        delete self[header];\n        return;\n      }\n\n      const normalized = format ? formatHeader(header) : String(header).trim();\n\n      if (normalized !== header) {\n        delete self[header];\n      }\n\n      self[normalized] = normalizeValue(value);\n\n      headers[normalized] = true;\n    });\n\n    return this;\n  }\n\n  concat(...targets) {\n    return this.constructor.concat(this, ...targets);\n  }\n\n  toJSON(asStrings) {\n    const obj = Object.create(null);\n\n    utils$1.forEach(this, (value, header) => {\n      value != null && value !== false && (obj[header] = asStrings && utils$1.isArray(value) ? value.join(', ') : value);\n    });\n\n    return obj;\n  }\n\n  [Symbol.iterator]() {\n    return Object.entries(this.toJSON())[Symbol.iterator]();\n  }\n\n  toString() {\n    return Object.entries(this.toJSON()).map(([header, value]) => header + ': ' + value).join('\\n');\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'AxiosHeaders';\n  }\n\n  static from(thing) {\n    return thing instanceof this ? thing : new this(thing);\n  }\n\n  static concat(first, ...targets) {\n    const computed = new this(first);\n\n    targets.forEach((target) => computed.set(target));\n\n    return computed;\n  }\n\n  static accessor(header) {\n    const internals = this[$internals] = (this[$internals] = {\n      accessors: {}\n    });\n\n    const accessors = internals.accessors;\n    const prototype = this.prototype;\n\n    function defineAccessor(_header) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!accessors[lHeader]) {\n        buildAccessors(prototype, _header);\n        accessors[lHeader] = true;\n      }\n    }\n\n    utils$1.isArray(header) ? header.forEach(defineAccessor) : defineAccessor(header);\n\n    return this;\n  }\n}\n\nAxiosHeaders.accessor(['Content-Type', 'Content-Length', 'Accept', 'Accept-Encoding', 'User-Agent', 'Authorization']);\n\n// reserved names hotfix\nutils$1.reduceDescriptors(AxiosHeaders.prototype, ({value}, key) => {\n  let mapped = key[0].toUpperCase() + key.slice(1); // map `set` => `Set`\n  return {\n    get: () => value,\n    set(headerValue) {\n      this[mapped] = headerValue;\n    }\n  }\n});\n\nutils$1.freezeMethods(AxiosHeaders);\n\nvar AxiosHeaders$1 = AxiosHeaders;\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Array|Function} fns A single function or Array of functions\n * @param {?Object} response The response object\n *\n * @returns {*} The resulting transformed data\n */\nfunction transformData(fns, response) {\n  const config = this || defaults$1;\n  const context = response || config;\n  const headers = AxiosHeaders$1.from(context.headers);\n  let data = context.data;\n\n  utils$1.forEach(fns, function transform(fn) {\n    data = fn.call(config, data, headers.normalize(), response ? response.status : undefined);\n  });\n\n  headers.normalize();\n\n  return data;\n}\n\nfunction isCancel(value) {\n  return !!(value && value.__CANCEL__);\n}\n\n/**\n * A `CanceledError` is an object that is thrown when an operation is canceled.\n *\n * @param {string=} message The message.\n * @param {Object=} config The config.\n * @param {Object=} request The request.\n *\n * @returns {CanceledError} The created error.\n */\nfunction CanceledError(message, config, request) {\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  AxiosError.call(this, message == null ? 'canceled' : message, AxiosError.ERR_CANCELED, config, request);\n  this.name = 'CanceledError';\n}\n\nutils$1.inherits(CanceledError, AxiosError, {\n  __CANCEL__: true\n});\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n *\n * @returns {object} The response.\n */\nfunction settle(resolve, reject, response) {\n  const validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(new AxiosError(\n      'Request failed with status code ' + response.status,\n      [AxiosError.ERR_BAD_REQUEST, AxiosError.ERR_BAD_RESPONSE][Math.floor(response.status / 100) - 4],\n      response.config,\n      response.request,\n      response\n    ));\n  }\n}\n\nfunction parseProtocol(url) {\n  const match = /^([-+\\w]{1,25})(:?\\/\\/|:)/.exec(url);\n  return match && match[1] || '';\n}\n\n/**\n * Calculate data maxRate\n * @param {Number} [samplesCount= 10]\n * @param {Number} [min= 1000]\n * @returns {Function}\n */\nfunction speedometer(samplesCount, min) {\n  samplesCount = samplesCount || 10;\n  const bytes = new Array(samplesCount);\n  const timestamps = new Array(samplesCount);\n  let head = 0;\n  let tail = 0;\n  let firstSampleTS;\n\n  min = min !== undefined ? min : 1000;\n\n  return function push(chunkLength) {\n    const now = Date.now();\n\n    const startedAt = timestamps[tail];\n\n    if (!firstSampleTS) {\n      firstSampleTS = now;\n    }\n\n    bytes[head] = chunkLength;\n    timestamps[head] = now;\n\n    let i = tail;\n    let bytesCount = 0;\n\n    while (i !== head) {\n      bytesCount += bytes[i++];\n      i = i % samplesCount;\n    }\n\n    head = (head + 1) % samplesCount;\n\n    if (head === tail) {\n      tail = (tail + 1) % samplesCount;\n    }\n\n    if (now - firstSampleTS < min) {\n      return;\n    }\n\n    const passed = startedAt && now - startedAt;\n\n    return passed ? Math.round(bytesCount * 1000 / passed) : undefined;\n  };\n}\n\n/**\n * Throttle decorator\n * @param {Function} fn\n * @param {Number} freq\n * @return {Function}\n */\nfunction throttle(fn, freq) {\n  let timestamp = 0;\n  const threshold = 1000 / freq;\n  let timer = null;\n  return function throttled() {\n    const force = this === true;\n\n    const now = Date.now();\n    if (force || now - timestamp > threshold) {\n      if (timer) {\n        clearTimeout(timer);\n        timer = null;\n      }\n      timestamp = now;\n      return fn.apply(null, arguments);\n    }\n    if (!timer) {\n      timer = setTimeout(() => {\n        timer = null;\n        timestamp = Date.now();\n        return fn.apply(null, arguments);\n      }, threshold - (now - timestamp));\n    }\n  };\n}\n\nvar progressEventReducer = (listener, isDownloadStream, freq = 3) => {\n  let bytesNotified = 0;\n  const _speedometer = speedometer(50, 250);\n\n  return throttle(e => {\n    const loaded = e.loaded;\n    const total = e.lengthComputable ? e.total : undefined;\n    const progressBytes = loaded - bytesNotified;\n    const rate = _speedometer(progressBytes);\n    const inRange = loaded <= total;\n\n    bytesNotified = loaded;\n\n    const data = {\n      loaded,\n      total,\n      progress: total ? (loaded / total) : undefined,\n      bytes: progressBytes,\n      rate: rate ? rate : undefined,\n      estimated: rate && total && inRange ? (total - loaded) / rate : undefined,\n      event: e,\n      lengthComputable: total != null\n    };\n\n    data[isDownloadStream ? 'download' : 'upload'] = true;\n\n    listener(data);\n  }, freq);\n};\n\nvar isURLSameOrigin = platform.hasStandardBrowserEnv ?\n\n// Standard browser envs have full support of the APIs needed to test\n// whether the request URL is of the same origin as current location.\n  (function standardBrowserEnv() {\n    const msie = /(msie|trident)/i.test(navigator.userAgent);\n    const urlParsingNode = document.createElement('a');\n    let originURL;\n\n    /**\n    * Parse a URL to discover its components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n    function resolveURL(url) {\n      let href = url;\n\n      if (msie) {\n        // IE needs attribute set twice to normalize properties\n        urlParsingNode.setAttribute('href', href);\n        href = urlParsingNode.href;\n      }\n\n      urlParsingNode.setAttribute('href', href);\n\n      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n      return {\n        href: urlParsingNode.href,\n        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n        host: urlParsingNode.host,\n        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n        hostname: urlParsingNode.hostname,\n        port: urlParsingNode.port,\n        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n          urlParsingNode.pathname :\n          '/' + urlParsingNode.pathname\n      };\n    }\n\n    originURL = resolveURL(window.location.href);\n\n    /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n    return function isURLSameOrigin(requestURL) {\n      const parsed = (utils$1.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n      return (parsed.protocol === originURL.protocol &&\n          parsed.host === originURL.host);\n    };\n  })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return function isURLSameOrigin() {\n      return true;\n    };\n  })();\n\nvar cookies = platform.hasStandardBrowserEnv ?\n\n  // Standard browser envs support document.cookie\n  {\n    write(name, value, expires, path, domain, secure) {\n      const cookie = [name + '=' + encodeURIComponent(value)];\n\n      utils$1.isNumber(expires) && cookie.push('expires=' + new Date(expires).toGMTString());\n\n      utils$1.isString(path) && cookie.push('path=' + path);\n\n      utils$1.isString(domain) && cookie.push('domain=' + domain);\n\n      secure === true && cookie.push('secure');\n\n      document.cookie = cookie.join('; ');\n    },\n\n    read(name) {\n      const match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n      return (match ? decodeURIComponent(match[3]) : null);\n    },\n\n    remove(name) {\n      this.write(name, '', Date.now() - 86400000);\n    }\n  }\n\n  :\n\n  // Non-standard browser env (web workers, react-native) lack needed support.\n  {\n    write() {},\n    read() {\n      return null;\n    },\n    remove() {}\n  };\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n *\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nfunction isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n}\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n *\n * @returns {string} The combined URL\n */\nfunction combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/?\\/$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n}\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n *\n * @returns {string} The combined full path\n */\nfunction buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n}\n\nconst headersToObject = (thing) => thing instanceof AxiosHeaders$1 ? { ...thing } : thing;\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n *\n * @returns {Object} New object resulting from merging config2 to config1\n */\nfunction mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  const config = {};\n\n  function getMergedValue(target, source, caseless) {\n    if (utils$1.isPlainObject(target) && utils$1.isPlainObject(source)) {\n      return utils$1.merge.call({caseless}, target, source);\n    } else if (utils$1.isPlainObject(source)) {\n      return utils$1.merge({}, source);\n    } else if (utils$1.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(a, b, caseless) {\n    if (!utils$1.isUndefined(b)) {\n      return getMergedValue(a, b, caseless);\n    } else if (!utils$1.isUndefined(a)) {\n      return getMergedValue(undefined, a, caseless);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(a, b) {\n    if (!utils$1.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(a, b) {\n    if (!utils$1.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    } else if (!utils$1.isUndefined(a)) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(a, b, prop) {\n    if (prop in config2) {\n      return getMergedValue(a, b);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  const mergeMap = {\n    url: valueFromConfig2,\n    method: valueFromConfig2,\n    data: valueFromConfig2,\n    baseURL: defaultToConfig2,\n    transformRequest: defaultToConfig2,\n    transformResponse: defaultToConfig2,\n    paramsSerializer: defaultToConfig2,\n    timeout: defaultToConfig2,\n    timeoutMessage: defaultToConfig2,\n    withCredentials: defaultToConfig2,\n    withXSRFToken: defaultToConfig2,\n    adapter: defaultToConfig2,\n    responseType: defaultToConfig2,\n    xsrfCookieName: defaultToConfig2,\n    xsrfHeaderName: defaultToConfig2,\n    onUploadProgress: defaultToConfig2,\n    onDownloadProgress: defaultToConfig2,\n    decompress: defaultToConfig2,\n    maxContentLength: defaultToConfig2,\n    maxBodyLength: defaultToConfig2,\n    beforeRedirect: defaultToConfig2,\n    transport: defaultToConfig2,\n    httpAgent: defaultToConfig2,\n    httpsAgent: defaultToConfig2,\n    cancelToken: defaultToConfig2,\n    socketPath: defaultToConfig2,\n    responseEncoding: defaultToConfig2,\n    validateStatus: mergeDirectKeys,\n    headers: (a, b) => mergeDeepProperties(headersToObject(a), headersToObject(b), true)\n  };\n\n  utils$1.forEach(Object.keys(Object.assign({}, config1, config2)), function computeConfigValue(prop) {\n    const merge = mergeMap[prop] || mergeDeepProperties;\n    const configValue = merge(config1[prop], config2[prop], prop);\n    (utils$1.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n}\n\nvar resolveConfig = (config) => {\n  const newConfig = mergeConfig({}, config);\n\n  let {data, withXSRFToken, xsrfHeaderName, xsrfCookieName, headers, auth} = newConfig;\n\n  newConfig.headers = headers = AxiosHeaders$1.from(headers);\n\n  newConfig.url = buildURL(buildFullPath(newConfig.baseURL, newConfig.url), config.params, config.paramsSerializer);\n\n  // HTTP basic authentication\n  if (auth) {\n    headers.set('Authorization', 'Basic ' +\n      btoa((auth.username || '') + ':' + (auth.password ? unescape(encodeURIComponent(auth.password)) : ''))\n    );\n  }\n\n  let contentType;\n\n  if (utils$1.isFormData(data)) {\n    if (platform.hasStandardBrowserEnv || platform.hasStandardBrowserWebWorkerEnv) {\n      headers.setContentType(undefined); // Let the browser set it\n    } else if ((contentType = headers.getContentType()) !== false) {\n      // fix semicolon duplication issue for ReactNative FormData implementation\n      const [type, ...tokens] = contentType ? contentType.split(';').map(token => token.trim()).filter(Boolean) : [];\n      headers.setContentType([type || 'multipart/form-data', ...tokens].join('; '));\n    }\n  }\n\n  // Add xsrf header\n  // This is only done if running in a standard browser environment.\n  // Specifically not if we're in a web worker, or react-native.\n\n  if (platform.hasStandardBrowserEnv) {\n    withXSRFToken && utils$1.isFunction(withXSRFToken) && (withXSRFToken = withXSRFToken(newConfig));\n\n    if (withXSRFToken || (withXSRFToken !== false && isURLSameOrigin(newConfig.url))) {\n      // Add xsrf header\n      const xsrfValue = xsrfHeaderName && xsrfCookieName && cookies.read(xsrfCookieName);\n\n      if (xsrfValue) {\n        headers.set(xsrfHeaderName, xsrfValue);\n      }\n    }\n  }\n\n  return newConfig;\n};\n\nconst isXHRAdapterSupported = typeof XMLHttpRequest !== 'undefined';\n\nvar xhrAdapter = isXHRAdapterSupported && function (config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    const _config = resolveConfig(config);\n    let requestData = _config.data;\n    const requestHeaders = AxiosHeaders$1.from(_config.headers).normalize();\n    let {responseType} = _config;\n    let onCanceled;\n    function done() {\n      if (_config.cancelToken) {\n        _config.cancelToken.unsubscribe(onCanceled);\n      }\n\n      if (_config.signal) {\n        _config.signal.removeEventListener('abort', onCanceled);\n      }\n    }\n\n    let request = new XMLHttpRequest();\n\n    request.open(_config.method.toUpperCase(), _config.url, true);\n\n    // Set the request timeout in MS\n    request.timeout = _config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      const responseHeaders = AxiosHeaders$1.from(\n        'getAllResponseHeaders' in request && request.getAllResponseHeaders()\n      );\n      const responseData = !responseType || responseType === 'text' || responseType === 'json' ?\n        request.responseText : request.response;\n      const response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config,\n        request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(new AxiosError('Request aborted', AxiosError.ECONNABORTED, _config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(new AxiosError('Network Error', AxiosError.ERR_NETWORK, _config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      let timeoutErrorMessage = _config.timeout ? 'timeout of ' + _config.timeout + 'ms exceeded' : 'timeout exceeded';\n      const transitional = _config.transitional || transitionalDefaults;\n      if (_config.timeoutErrorMessage) {\n        timeoutErrorMessage = _config.timeoutErrorMessage;\n      }\n      reject(new AxiosError(\n        timeoutErrorMessage,\n        transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n        _config,\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Remove Content-Type if data is undefined\n    requestData === undefined && requestHeaders.setContentType(null);\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils$1.forEach(requestHeaders.toJSON(), function setRequestHeader(val, key) {\n        request.setRequestHeader(key, val);\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils$1.isUndefined(_config.withCredentials)) {\n      request.withCredentials = !!_config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = _config.responseType;\n    }\n\n    // Handle progress if needed\n    if (typeof _config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', progressEventReducer(_config.onDownloadProgress, true));\n    }\n\n    // Not all browsers support upload events\n    if (typeof _config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', progressEventReducer(_config.onUploadProgress));\n    }\n\n    if (_config.cancelToken || _config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = cancel => {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || cancel.type ? new CanceledError(null, config, request) : cancel);\n        request.abort();\n        request = null;\n      };\n\n      _config.cancelToken && _config.cancelToken.subscribe(onCanceled);\n      if (_config.signal) {\n        _config.signal.aborted ? onCanceled() : _config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n    const protocol = parseProtocol(_config.url);\n\n    if (protocol && platform.protocols.indexOf(protocol) === -1) {\n      reject(new AxiosError('Unsupported protocol ' + protocol + ':', AxiosError.ERR_BAD_REQUEST, config));\n      return;\n    }\n\n\n    // Send the request\n    request.send(requestData || null);\n  });\n};\n\nconst composeSignals = (signals, timeout) => {\n  let controller = new AbortController();\n\n  let aborted;\n\n  const onabort = function (cancel) {\n    if (!aborted) {\n      aborted = true;\n      unsubscribe();\n      const err = cancel instanceof Error ? cancel : this.reason;\n      controller.abort(err instanceof AxiosError ? err : new CanceledError(err instanceof Error ? err.message : err));\n    }\n  };\n\n  let timer = timeout && setTimeout(() => {\n    onabort(new AxiosError(`timeout ${timeout} of ms exceeded`, AxiosError.ETIMEDOUT));\n  }, timeout);\n\n  const unsubscribe = () => {\n    if (signals) {\n      timer && clearTimeout(timer);\n      timer = null;\n      signals.forEach(signal => {\n        signal &&\n        (signal.removeEventListener ? signal.removeEventListener('abort', onabort) : signal.unsubscribe(onabort));\n      });\n      signals = null;\n    }\n  };\n\n  signals.forEach((signal) => signal && signal.addEventListener && signal.addEventListener('abort', onabort));\n\n  const {signal} = controller;\n\n  signal.unsubscribe = unsubscribe;\n\n  return [signal, () => {\n    timer && clearTimeout(timer);\n    timer = null;\n  }];\n};\n\nvar composeSignals$1 = composeSignals;\n\nconst streamChunk = function* (chunk, chunkSize) {\n  let len = chunk.byteLength;\n\n  if (!chunkSize || len < chunkSize) {\n    yield chunk;\n    return;\n  }\n\n  let pos = 0;\n  let end;\n\n  while (pos < len) {\n    end = pos + chunkSize;\n    yield chunk.slice(pos, end);\n    pos = end;\n  }\n};\n\nconst readBytes = async function* (iterable, chunkSize, encode) {\n  for await (const chunk of iterable) {\n    yield* streamChunk(ArrayBuffer.isView(chunk) ? chunk : (await encode(String(chunk))), chunkSize);\n  }\n};\n\nconst trackStream = (stream, chunkSize, onProgress, onFinish, encode) => {\n  const iterator = readBytes(stream, chunkSize, encode);\n\n  let bytes = 0;\n\n  return new ReadableStream({\n    type: 'bytes',\n\n    async pull(controller) {\n      const {done, value} = await iterator.next();\n\n      if (done) {\n        controller.close();\n        onFinish();\n        return;\n      }\n\n      let len = value.byteLength;\n      onProgress && onProgress(bytes += len);\n      controller.enqueue(new Uint8Array(value));\n    },\n    cancel(reason) {\n      onFinish(reason);\n      return iterator.return();\n    }\n  }, {\n    highWaterMark: 2\n  })\n};\n\nconst fetchProgressDecorator = (total, fn) => {\n  const lengthComputable = total != null;\n  return (loaded) => setTimeout(() => fn({\n    lengthComputable,\n    total,\n    loaded\n  }));\n};\n\nconst isFetchSupported = typeof fetch === 'function' && typeof Request === 'function' && typeof Response === 'function';\nconst isReadableStreamSupported = isFetchSupported && typeof ReadableStream === 'function';\n\n// used only inside the fetch adapter\nconst encodeText = isFetchSupported && (typeof TextEncoder === 'function' ?\n    ((encoder) => (str) => encoder.encode(str))(new TextEncoder()) :\n    async (str) => new Uint8Array(await new Response(str).arrayBuffer())\n);\n\nconst supportsRequestStream = isReadableStreamSupported && (() => {\n  let duplexAccessed = false;\n\n  const hasContentType = new Request(platform.origin, {\n    body: new ReadableStream(),\n    method: 'POST',\n    get duplex() {\n      duplexAccessed = true;\n      return 'half';\n    },\n  }).headers.has('Content-Type');\n\n  return duplexAccessed && !hasContentType;\n})();\n\nconst DEFAULT_CHUNK_SIZE = 64 * 1024;\n\nconst supportsResponseStream = isReadableStreamSupported && !!(()=> {\n  try {\n    return utils$1.isReadableStream(new Response('').body);\n  } catch(err) {\n    // return undefined\n  }\n})();\n\nconst resolvers = {\n  stream: supportsResponseStream && ((res) => res.body)\n};\n\nisFetchSupported && (((res) => {\n  ['text', 'arrayBuffer', 'blob', 'formData', 'stream'].forEach(type => {\n    !resolvers[type] && (resolvers[type] = utils$1.isFunction(res[type]) ? (res) => res[type]() :\n      (_, config) => {\n        throw new AxiosError(`Response type '${type}' is not supported`, AxiosError.ERR_NOT_SUPPORT, config);\n      });\n  });\n})(new Response));\n\nconst getBodyLength = async (body) => {\n  if (body == null) {\n    return 0;\n  }\n\n  if(utils$1.isBlob(body)) {\n    return body.size;\n  }\n\n  if(utils$1.isSpecCompliantForm(body)) {\n    return (await new Request(body).arrayBuffer()).byteLength;\n  }\n\n  if(utils$1.isArrayBufferView(body)) {\n    return body.byteLength;\n  }\n\n  if(utils$1.isURLSearchParams(body)) {\n    body = body + '';\n  }\n\n  if(utils$1.isString(body)) {\n    return (await encodeText(body)).byteLength;\n  }\n};\n\nconst resolveBodyLength = async (headers, body) => {\n  const length = utils$1.toFiniteNumber(headers.getContentLength());\n\n  return length == null ? getBodyLength(body) : length;\n};\n\nvar fetchAdapter = isFetchSupported && (async (config) => {\n  let {\n    url,\n    method,\n    data,\n    signal,\n    cancelToken,\n    timeout,\n    onDownloadProgress,\n    onUploadProgress,\n    responseType,\n    headers,\n    withCredentials = 'same-origin',\n    fetchOptions\n  } = resolveConfig(config);\n\n  responseType = responseType ? (responseType + '').toLowerCase() : 'text';\n\n  let [composedSignal, stopTimeout] = (signal || cancelToken || timeout) ?\n    composeSignals$1([signal, cancelToken], timeout) : [];\n\n  let finished, request;\n\n  const onFinish = () => {\n    !finished && setTimeout(() => {\n      composedSignal && composedSignal.unsubscribe();\n    });\n\n    finished = true;\n  };\n\n  let requestContentLength;\n\n  try {\n    if (\n      onUploadProgress && supportsRequestStream && method !== 'get' && method !== 'head' &&\n      (requestContentLength = await resolveBodyLength(headers, data)) !== 0\n    ) {\n      let _request = new Request(url, {\n        method: 'POST',\n        body: data,\n        duplex: \"half\"\n      });\n\n      let contentTypeHeader;\n\n      if (utils$1.isFormData(data) && (contentTypeHeader = _request.headers.get('content-type'))) {\n        headers.setContentType(contentTypeHeader);\n      }\n\n      if (_request.body) {\n        data = trackStream(_request.body, DEFAULT_CHUNK_SIZE, fetchProgressDecorator(\n          requestContentLength,\n          progressEventReducer(onUploadProgress)\n        ), null, encodeText);\n      }\n    }\n\n    if (!utils$1.isString(withCredentials)) {\n      withCredentials = withCredentials ? 'cors' : 'omit';\n    }\n\n    request = new Request(url, {\n      ...fetchOptions,\n      signal: composedSignal,\n      method: method.toUpperCase(),\n      headers: headers.normalize().toJSON(),\n      body: data,\n      duplex: \"half\",\n      withCredentials\n    });\n\n    let response = await fetch(request);\n\n    const isStreamResponse = supportsResponseStream && (responseType === 'stream' || responseType === 'response');\n\n    if (supportsResponseStream && (onDownloadProgress || isStreamResponse)) {\n      const options = {};\n\n      ['status', 'statusText', 'headers'].forEach(prop => {\n        options[prop] = response[prop];\n      });\n\n      const responseContentLength = utils$1.toFiniteNumber(response.headers.get('content-length'));\n\n      response = new Response(\n        trackStream(response.body, DEFAULT_CHUNK_SIZE, onDownloadProgress && fetchProgressDecorator(\n          responseContentLength,\n          progressEventReducer(onDownloadProgress, true)\n        ), isStreamResponse && onFinish, encodeText),\n        options\n      );\n    }\n\n    responseType = responseType || 'text';\n\n    let responseData = await resolvers[utils$1.findKey(resolvers, responseType) || 'text'](response, config);\n\n    !isStreamResponse && onFinish();\n\n    stopTimeout && stopTimeout();\n\n    return await new Promise((resolve, reject) => {\n      settle(resolve, reject, {\n        data: responseData,\n        headers: AxiosHeaders$1.from(response.headers),\n        status: response.status,\n        statusText: response.statusText,\n        config,\n        request\n      });\n    })\n  } catch (err) {\n    onFinish();\n\n    if (err && err.name === 'TypeError' && /fetch/i.test(err.message)) {\n      throw Object.assign(\n        new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request),\n        {\n          cause: err.cause || err\n        }\n      )\n    }\n\n    throw AxiosError.from(err, err && err.code, config, request);\n  }\n});\n\nconst knownAdapters = {\n  http: httpAdapter,\n  xhr: xhrAdapter,\n  fetch: fetchAdapter\n};\n\nutils$1.forEach(knownAdapters, (fn, value) => {\n  if (fn) {\n    try {\n      Object.defineProperty(fn, 'name', {value});\n    } catch (e) {\n      // eslint-disable-next-line no-empty\n    }\n    Object.defineProperty(fn, 'adapterName', {value});\n  }\n});\n\nconst renderReason = (reason) => `- ${reason}`;\n\nconst isResolvedHandle = (adapter) => utils$1.isFunction(adapter) || adapter === null || adapter === false;\n\nvar adapters = {\n  getAdapter: (adapters) => {\n    adapters = utils$1.isArray(adapters) ? adapters : [adapters];\n\n    const {length} = adapters;\n    let nameOrAdapter;\n    let adapter;\n\n    const rejectedReasons = {};\n\n    for (let i = 0; i < length; i++) {\n      nameOrAdapter = adapters[i];\n      let id;\n\n      adapter = nameOrAdapter;\n\n      if (!isResolvedHandle(nameOrAdapter)) {\n        adapter = knownAdapters[(id = String(nameOrAdapter)).toLowerCase()];\n\n        if (adapter === undefined) {\n          throw new AxiosError(`Unknown adapter '${id}'`);\n        }\n      }\n\n      if (adapter) {\n        break;\n      }\n\n      rejectedReasons[id || '#' + i] = adapter;\n    }\n\n    if (!adapter) {\n\n      const reasons = Object.entries(rejectedReasons)\n        .map(([id, state]) => `adapter ${id} ` +\n          (state === false ? 'is not supported by the environment' : 'is not available in the build')\n        );\n\n      let s = length ?\n        (reasons.length > 1 ? 'since :\\n' + reasons.map(renderReason).join('\\n') : ' ' + renderReason(reasons[0])) :\n        'as no adapter specified';\n\n      throw new AxiosError(\n        `There is no suitable adapter to dispatch the request ` + s,\n        'ERR_NOT_SUPPORT'\n      );\n    }\n\n    return adapter;\n  },\n  adapters: knownAdapters\n};\n\n/**\n * Throws a `CanceledError` if cancellation has been requested.\n *\n * @param {Object} config The config that is to be used for the request\n *\n * @returns {void}\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new CanceledError(null, config);\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n *\n * @returns {Promise} The Promise to be fulfilled\n */\nfunction dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  config.headers = AxiosHeaders$1.from(config.headers);\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.transformRequest\n  );\n\n  if (['post', 'put', 'patch'].indexOf(config.method) !== -1) {\n    config.headers.setContentType('application/x-www-form-urlencoded', false);\n  }\n\n  const adapter = adapters.getAdapter(config.adapter || defaults$1.adapter);\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      config.transformResponse,\n      response\n    );\n\n    response.headers = AxiosHeaders$1.from(response.headers);\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          config.transformResponse,\n          reason.response\n        );\n        reason.response.headers = AxiosHeaders$1.from(reason.response.headers);\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n}\n\nconst VERSION = \"1.7.2\";\n\nconst validators$1 = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach((type, i) => {\n  validators$1[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nconst deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n *\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n *\n * @returns {function}\n */\nvalidators$1.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return (value, opt, opts) => {\n    if (validator === false) {\n      throw new AxiosError(\n        formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')),\n        AxiosError.ERR_DEPRECATED\n      );\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\n/**\n * Assert object's properties type\n *\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n *\n * @returns {object}\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new AxiosError('options must be an object', AxiosError.ERR_BAD_OPTION_VALUE);\n  }\n  const keys = Object.keys(options);\n  let i = keys.length;\n  while (i-- > 0) {\n    const opt = keys[i];\n    const validator = schema[opt];\n    if (validator) {\n      const value = options[opt];\n      const result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new AxiosError('option ' + opt + ' must be ' + result, AxiosError.ERR_BAD_OPTION_VALUE);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw new AxiosError('Unknown option ' + opt, AxiosError.ERR_BAD_OPTION);\n    }\n  }\n}\n\nvar validator = {\n  assertOptions,\n  validators: validators$1\n};\n\nconst validators = validator.validators;\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n *\n * @return {Axios} A new instance of Axios\n */\nclass Axios {\n  constructor(instanceConfig) {\n    this.defaults = instanceConfig;\n    this.interceptors = {\n      request: new InterceptorManager$1(),\n      response: new InterceptorManager$1()\n    };\n  }\n\n  /**\n   * Dispatch a request\n   *\n   * @param {String|Object} configOrUrl The config specific for this request (merged with this.defaults)\n   * @param {?Object} config\n   *\n   * @returns {Promise} The Promise to be fulfilled\n   */\n  async request(configOrUrl, config) {\n    try {\n      return await this._request(configOrUrl, config);\n    } catch (err) {\n      if (err instanceof Error) {\n        let dummy;\n\n        Error.captureStackTrace ? Error.captureStackTrace(dummy = {}) : (dummy = new Error());\n\n        // slice off the Error: ... line\n        const stack = dummy.stack ? dummy.stack.replace(/^.+\\n/, '') : '';\n        try {\n          if (!err.stack) {\n            err.stack = stack;\n            // match without the 2 top stack lines\n          } else if (stack && !String(err.stack).endsWith(stack.replace(/^.+\\n.+\\n/, ''))) {\n            err.stack += '\\n' + stack;\n          }\n        } catch (e) {\n          // ignore the case where \"stack\" is an un-writable property\n        }\n      }\n\n      throw err;\n    }\n  }\n\n  _request(configOrUrl, config) {\n    /*eslint no-param-reassign:0*/\n    // Allow for axios('example/url'[, config]) a la fetch API\n    if (typeof configOrUrl === 'string') {\n      config = config || {};\n      config.url = configOrUrl;\n    } else {\n      config = configOrUrl || {};\n    }\n\n    config = mergeConfig(this.defaults, config);\n\n    const {transitional, paramsSerializer, headers} = config;\n\n    if (transitional !== undefined) {\n      validator.assertOptions(transitional, {\n        silentJSONParsing: validators.transitional(validators.boolean),\n        forcedJSONParsing: validators.transitional(validators.boolean),\n        clarifyTimeoutError: validators.transitional(validators.boolean)\n      }, false);\n    }\n\n    if (paramsSerializer != null) {\n      if (utils$1.isFunction(paramsSerializer)) {\n        config.paramsSerializer = {\n          serialize: paramsSerializer\n        };\n      } else {\n        validator.assertOptions(paramsSerializer, {\n          encode: validators.function,\n          serialize: validators.function\n        }, true);\n      }\n    }\n\n    // Set config.method\n    config.method = (config.method || this.defaults.method || 'get').toLowerCase();\n\n    // Flatten headers\n    let contextHeaders = headers && utils$1.merge(\n      headers.common,\n      headers[config.method]\n    );\n\n    headers && utils$1.forEach(\n      ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n      (method) => {\n        delete headers[method];\n      }\n    );\n\n    config.headers = AxiosHeaders$1.concat(contextHeaders, headers);\n\n    // filter out skipped interceptors\n    const requestInterceptorChain = [];\n    let synchronousRequestInterceptors = true;\n    this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n      if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n        return;\n      }\n\n      synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n      requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    const responseInterceptorChain = [];\n    this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n      responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    let promise;\n    let i = 0;\n    let len;\n\n    if (!synchronousRequestInterceptors) {\n      const chain = [dispatchRequest.bind(this), undefined];\n      chain.unshift.apply(chain, requestInterceptorChain);\n      chain.push.apply(chain, responseInterceptorChain);\n      len = chain.length;\n\n      promise = Promise.resolve(config);\n\n      while (i < len) {\n        promise = promise.then(chain[i++], chain[i++]);\n      }\n\n      return promise;\n    }\n\n    len = requestInterceptorChain.length;\n\n    let newConfig = config;\n\n    i = 0;\n\n    while (i < len) {\n      const onFulfilled = requestInterceptorChain[i++];\n      const onRejected = requestInterceptorChain[i++];\n      try {\n        newConfig = onFulfilled(newConfig);\n      } catch (error) {\n        onRejected.call(this, error);\n        break;\n      }\n    }\n\n    try {\n      promise = dispatchRequest.call(this, newConfig);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n\n    i = 0;\n    len = responseInterceptorChain.length;\n\n    while (i < len) {\n      promise = promise.then(responseInterceptorChain[i++], responseInterceptorChain[i++]);\n    }\n\n    return promise;\n  }\n\n  getUri(config) {\n    config = mergeConfig(this.defaults, config);\n    const fullPath = buildFullPath(config.baseURL, config.url);\n    return buildURL(fullPath, config.params, config.paramsSerializer);\n  }\n}\n\n// Provide aliases for supported request methods\nutils$1.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method,\n      url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils$1.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n\n  function generateHTTPMethod(isForm) {\n    return function httpMethod(url, data, config) {\n      return this.request(mergeConfig(config || {}, {\n        method,\n        headers: isForm ? {\n          'Content-Type': 'multipart/form-data'\n        } : {},\n        url,\n        data\n      }));\n    };\n  }\n\n  Axios.prototype[method] = generateHTTPMethod();\n\n  Axios.prototype[method + 'Form'] = generateHTTPMethod(true);\n});\n\nvar Axios$1 = Axios;\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @param {Function} executor The executor function.\n *\n * @returns {CancelToken}\n */\nclass CancelToken {\n  constructor(executor) {\n    if (typeof executor !== 'function') {\n      throw new TypeError('executor must be a function.');\n    }\n\n    let resolvePromise;\n\n    this.promise = new Promise(function promiseExecutor(resolve) {\n      resolvePromise = resolve;\n    });\n\n    const token = this;\n\n    // eslint-disable-next-line func-names\n    this.promise.then(cancel => {\n      if (!token._listeners) return;\n\n      let i = token._listeners.length;\n\n      while (i-- > 0) {\n        token._listeners[i](cancel);\n      }\n      token._listeners = null;\n    });\n\n    // eslint-disable-next-line func-names\n    this.promise.then = onfulfilled => {\n      let _resolve;\n      // eslint-disable-next-line func-names\n      const promise = new Promise(resolve => {\n        token.subscribe(resolve);\n        _resolve = resolve;\n      }).then(onfulfilled);\n\n      promise.cancel = function reject() {\n        token.unsubscribe(_resolve);\n      };\n\n      return promise;\n    };\n\n    executor(function cancel(message, config, request) {\n      if (token.reason) {\n        // Cancellation has already been requested\n        return;\n      }\n\n      token.reason = new CanceledError(message, config, request);\n      resolvePromise(token.reason);\n    });\n  }\n\n  /**\n   * Throws a `CanceledError` if cancellation has been requested.\n   */\n  throwIfRequested() {\n    if (this.reason) {\n      throw this.reason;\n    }\n  }\n\n  /**\n   * Subscribe to the cancel signal\n   */\n\n  subscribe(listener) {\n    if (this.reason) {\n      listener(this.reason);\n      return;\n    }\n\n    if (this._listeners) {\n      this._listeners.push(listener);\n    } else {\n      this._listeners = [listener];\n    }\n  }\n\n  /**\n   * Unsubscribe from the cancel signal\n   */\n\n  unsubscribe(listener) {\n    if (!this._listeners) {\n      return;\n    }\n    const index = this._listeners.indexOf(listener);\n    if (index !== -1) {\n      this._listeners.splice(index, 1);\n    }\n  }\n\n  /**\n   * Returns an object that contains a new `CancelToken` and a function that, when called,\n   * cancels the `CancelToken`.\n   */\n  static source() {\n    let cancel;\n    const token = new CancelToken(function executor(c) {\n      cancel = c;\n    });\n    return {\n      token,\n      cancel\n    };\n  }\n}\n\nvar CancelToken$1 = CancelToken;\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n *\n * @returns {Function}\n */\nfunction spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n}\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n *\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nfunction isAxiosError(payload) {\n  return utils$1.isObject(payload) && (payload.isAxiosError === true);\n}\n\nconst HttpStatusCode = {\n  Continue: 100,\n  SwitchingProtocols: 101,\n  Processing: 102,\n  EarlyHints: 103,\n  Ok: 200,\n  Created: 201,\n  Accepted: 202,\n  NonAuthoritativeInformation: 203,\n  NoContent: 204,\n  ResetContent: 205,\n  PartialContent: 206,\n  MultiStatus: 207,\n  AlreadyReported: 208,\n  ImUsed: 226,\n  MultipleChoices: 300,\n  MovedPermanently: 301,\n  Found: 302,\n  SeeOther: 303,\n  NotModified: 304,\n  UseProxy: 305,\n  Unused: 306,\n  TemporaryRedirect: 307,\n  PermanentRedirect: 308,\n  BadRequest: 400,\n  Unauthorized: 401,\n  PaymentRequired: 402,\n  Forbidden: 403,\n  NotFound: 404,\n  MethodNotAllowed: 405,\n  NotAcceptable: 406,\n  ProxyAuthenticationRequired: 407,\n  RequestTimeout: 408,\n  Conflict: 409,\n  Gone: 410,\n  LengthRequired: 411,\n  PreconditionFailed: 412,\n  PayloadTooLarge: 413,\n  UriTooLong: 414,\n  UnsupportedMediaType: 415,\n  RangeNotSatisfiable: 416,\n  ExpectationFailed: 417,\n  ImATeapot: 418,\n  MisdirectedRequest: 421,\n  UnprocessableEntity: 422,\n  Locked: 423,\n  FailedDependency: 424,\n  TooEarly: 425,\n  UpgradeRequired: 426,\n  PreconditionRequired: 428,\n  TooManyRequests: 429,\n  RequestHeaderFieldsTooLarge: 431,\n  UnavailableForLegalReasons: 451,\n  InternalServerError: 500,\n  NotImplemented: 501,\n  BadGateway: 502,\n  ServiceUnavailable: 503,\n  GatewayTimeout: 504,\n  HttpVersionNotSupported: 505,\n  VariantAlsoNegotiates: 506,\n  InsufficientStorage: 507,\n  LoopDetected: 508,\n  NotExtended: 510,\n  NetworkAuthenticationRequired: 511,\n};\n\nObject.entries(HttpStatusCode).forEach(([key, value]) => {\n  HttpStatusCode[value] = key;\n});\n\nvar HttpStatusCode$1 = HttpStatusCode;\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n *\n * @returns {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  const context = new Axios$1(defaultConfig);\n  const instance = bind(Axios$1.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils$1.extend(instance, Axios$1.prototype, context, {allOwnKeys: true});\n\n  // Copy context to instance\n  utils$1.extend(instance, context, null, {allOwnKeys: true});\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nconst axios = createInstance(defaults$1);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios$1;\n\n// Expose Cancel & CancelToken\naxios.CanceledError = CanceledError;\naxios.CancelToken = CancelToken$1;\naxios.isCancel = isCancel;\naxios.VERSION = VERSION;\naxios.toFormData = toFormData;\n\n// Expose AxiosError class\naxios.AxiosError = AxiosError;\n\n// alias for CanceledError for backward compatibility\naxios.Cancel = axios.CanceledError;\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\n\naxios.spread = spread;\n\n// Expose isAxiosError\naxios.isAxiosError = isAxiosError;\n\n// Expose mergeConfig\naxios.mergeConfig = mergeConfig;\n\naxios.AxiosHeaders = AxiosHeaders$1;\n\naxios.formToJSON = thing => formDataToJSON(utils$1.isHTMLForm(thing) ? new FormData(thing) : thing);\n\naxios.getAdapter = adapters.getAdapter;\n\naxios.HttpStatusCode = HttpStatusCode$1;\n\naxios.default = axios;\n\nmodule.exports = axios;\n//# sourceMappingURL=axios.cjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYXhpb3MvZGlzdC9icm93c2VyL2F4aW9zLmNqcyIsIm1hcHBpbmdzIjoiO0FBQUE7QUFDYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLE9BQU8sVUFBVTtBQUNqQixPQUFPLGdCQUFnQjs7QUFFdkI7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQSxPQUFPLFNBQVM7O0FBRWhCO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkO0FBQ0EsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2Q7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZDtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZDtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkO0FBQ0EsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2QsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2Q7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZDtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkLGFBQWEsU0FBUztBQUN0QjtBQUNBOztBQUVBO0FB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Q0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUyxRQUFRO0FBQ2pCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25C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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwyQkFBMkIsbUJBQW1CO0FBQzlDOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7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Q0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHNDQUFzQyxTQUFTO0FBQy9DLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBOztBQUVBLFNBQVMsUUFBUTs7QUFFakI7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxhQUFhLGFBQWE7O0FBRTFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBLENBQUM7O0FBRUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxLQUFLO0FBQ3BELE9BQU87QUFDUCxHQUFHO0FBQ0gsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPOztBQUVQOztBQUVBO0FBQ0E7QUFDQTtB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QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZDtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDOztBQUVEOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHdEQUF3RCxpQkFBaUI7O0FBRXpFO0FBQ0EsMkNBQTJDLGlCQUFpQjs7QUFFNUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9kaXN0L2Jyb3dzZXIvYXhpb3MuY2pzPzFjMjkiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQXhpb3MgdjEuNy4yIENvcHlyaWdodCAoYykgMjAyNCBNYXR0IFphYnJpc2tpZSBhbmQgY29udHJpYnV0b3JzXG4ndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIGJpbmQoZm4sIHRoaXNBcmcpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHdyYXAoKSB7XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoaXNBcmcsIGFyZ3VtZW50cyk7XG4gIH07XG59XG5cbi8vIHV0aWxzIGlzIGEgbGlicmFyeSBvZiBnZW5lcmljIGhlbHBlciBmdW5jdGlvbnMgbm9uLXNwZWNpZmljIHRvIGF4aW9zXG5cbmNvbnN0IHt0b1N0cmluZ30gPSBPYmplY3QucHJvdG90eXBlO1xuY29uc3Qge2dldFByb3RvdHlwZU9mfSA9IE9iamVjdDtcblxuY29uc3Qga2luZE9mID0gKGNhY2hlID0+IHRoaW5nID0+IHtcbiAgICBjb25zdCBzdHIgPSB0b1N0cmluZy5jYWxsKHRoaW5nKTtcbiAgICByZXR1cm4gY2FjaGVbc3RyXSB8fCAoY2FjaGVbc3RyXSA9IHN0ci5zbGljZSg4LCAtMSkudG9Mb3dlckNhc2UoKSk7XG59KShPYmplY3QuY3JlYXRlKG51bGwpKTtcblxuY29uc3Qga2luZE9mVGVzdCA9ICh0eXBlKSA9PiB7XG4gIHR5cGUgPSB0eXBlLnRvTG93ZXJDYXNlKCk7XG4gIHJldHVybiAodGhpbmcpID0+IGtpbmRPZih0aGluZykgPT09IHR5cGVcbn07XG5cbmNvbnN0IHR5cGVPZlRlc3QgPSB0eXBlID0+IHRoaW5nID0+IHR5cGVvZiB0aGluZyA9PT0gdHlwZTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBBcnJheVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBBcnJheSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IHtpc0FycmF5fSA9IEFycmF5O1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIHVuZGVmaW5lZFxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHZhbHVlIGlzIHVuZGVmaW5lZCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzVW5kZWZpbmVkID0gdHlwZU9mVGVzdCgndW5kZWZpbmVkJyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBCdWZmZXJcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgQnVmZmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNCdWZmZXIodmFsKSB7XG4gIHJldHVybiB2YWwgIT09IG51bGwgJiYgIWlzVW5kZWZpbmVkKHZhbCkgJiYgdmFsLmNvbnN0cnVjdG9yICE9PSBudWxsICYmICFpc1VuZGVmaW5lZCh2YWwuY29uc3RydWN0b3IpXG4gICAgJiYgaXNGdW5jdGlvbih2YWwuY29uc3RydWN0b3IuaXNCdWZmZXIpICYmIHZhbC5jb25zdHJ1Y3Rvci5pc0J1ZmZlcih2YWwpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIEFycmF5QnVmZmVyXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBBcnJheUJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzQXJyYXlCdWZmZXIgPSBraW5kT2ZUZXN0KCdBcnJheUJ1ZmZlcicpO1xuXG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSB2aWV3IG9uIGFuIEFycmF5QnVmZmVyXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIHZpZXcgb24gYW4gQXJyYXlCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5QnVmZmVyVmlldyh2YWwpIHtcbiAgbGV0IHJlc3VsdDtcbiAgaWYgKCh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnKSAmJiAoQXJyYXlCdWZmZXIuaXNWaWV3KSkge1xuICAgIHJlc3VsdCA9IEFycmF5QnVmZmVyLmlzVmlldyh2YWwpO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdCA9ICh2YWwpICYmICh2YWwuYnVmZmVyKSAmJiAoaXNBcnJheUJ1ZmZlcih2YWwuYnVmZmVyKSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFN0cmluZ1xuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBTdHJpbmcsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc1N0cmluZyA9IHR5cGVPZlRlc3QoJ3N0cmluZycpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRnVuY3Rpb25cbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBGdW5jdGlvbiwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzRnVuY3Rpb24gPSB0eXBlT2ZUZXN0KCdmdW5jdGlvbicpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgTnVtYmVyXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIE51bWJlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzTnVtYmVyID0gdHlwZU9mVGVzdCgnbnVtYmVyJyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gT2JqZWN0XG4gKlxuICogQHBhcmFtIHsqfSB0aGluZyBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIE9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzT2JqZWN0ID0gKHRoaW5nKSA9PiB0aGluZyAhPT0gbnVsbCAmJiB0eXBlb2YgdGhpbmcgPT09ICdvYmplY3QnO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgQm9vbGVhblxuICpcbiAqIEBwYXJhbSB7Kn0gdGhpbmcgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgQm9vbGVhbiwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzQm9vbGVhbiA9IHRoaW5nID0+IHRoaW5nID09PSB0cnVlIHx8IHRoaW5nID09PSBmYWxzZTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIHBsYWluIE9iamVjdFxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBwbGFpbiBPYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc1BsYWluT2JqZWN0ID0gKHZhbCkgPT4ge1xuICBpZiAoa2luZE9mKHZhbCkgIT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgY29uc3QgcHJvdG90eXBlID0gZ2V0UHJvdG90eXBlT2YodmFsKTtcbiAgcmV0dXJuIChwcm90b3R5cGUgPT09IG51bGwgfHwgcHJvdG90eXBlID09PSBPYmplY3QucHJvdG90eXBlIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90b3R5cGUpID09PSBudWxsKSAmJiAhKFN5bWJvbC50b1N0cmluZ1RhZyBpbiB2YWwpICYmICEoU3ltYm9sLml0ZXJhdG9yIGluIHZhbCk7XG59O1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRGF0ZVxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBEYXRlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNEYXRlID0ga2luZE9mVGVzdCgnRGF0ZScpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRmlsZVxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBGaWxlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNGaWxlID0ga2luZE9mVGVzdCgnRmlsZScpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgQmxvYlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBCbG9iLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNCbG9iID0ga2luZE9mVGVzdCgnQmxvYicpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRmlsZUxpc3RcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRmlsZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzRmlsZUxpc3QgPSBraW5kT2ZUZXN0KCdGaWxlTGlzdCcpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgU3RyZWFtXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFN0cmVhbSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzU3RyZWFtID0gKHZhbCkgPT4gaXNPYmplY3QodmFsKSAmJiBpc0Z1bmN0aW9uKHZhbC5waXBlKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZvcm1EYXRhXG4gKlxuICogQHBhcmFtIHsqfSB0aGluZyBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEZvcm1EYXRhLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNGb3JtRGF0YSA9ICh0aGluZykgPT4ge1xuICBsZXQga2luZDtcbiAgcmV0dXJuIHRoaW5nICYmIChcbiAgICAodHlwZW9mIEZvcm1EYXRhID09PSAnZnVuY3Rpb24nICYmIHRoaW5nIGluc3RhbmNlb2YgRm9ybURhdGEpIHx8IChcbiAgICAgIGlzRnVuY3Rpb24odGhpbmcuYXBwZW5kKSAmJiAoXG4gICAgICAgIChraW5kID0ga2luZE9mKHRoaW5nKSkgPT09ICdmb3JtZGF0YScgfHxcbiAgICAgICAgLy8gZGV0ZWN0IGZvcm0tZGF0YSBpbnN0YW5jZVxuICAgICAgICAoa2luZCA9PT0gJ29iamVjdCcgJiYgaXNGdW5jdGlvbih0aGluZy50b1N0cmluZykgJiYgdGhpbmcudG9TdHJpbmcoKSA9PT0gJ1tvYmplY3QgRm9ybURhdGFdJylcbiAgICAgIClcbiAgICApXG4gIClcbn07XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBVUkxTZWFyY2hQYXJhbXMgb2JqZWN0XG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFVSTFNlYXJjaFBhcmFtcyBvYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc1VSTFNlYXJjaFBhcmFtcyA9IGtpbmRPZlRlc3QoJ1VSTFNlYXJjaFBhcmFtcycpO1xuXG5jb25zdCBbaXNSZWFkYWJsZVN0cmVhbSwgaXNSZXF1ZXN0LCBpc1Jlc3BvbnNlLCBpc0hlYWRlcnNdID0gWydSZWFkYWJsZVN0cmVhbScsICdSZXF1ZXN0JywgJ1Jlc3BvbnNlJywgJ0hlYWRlcnMnXS5tYXAoa2luZE9mVGVzdCk7XG5cbi8qKlxuICogVHJpbSBleGNlc3Mgd2hpdGVzcGFjZSBvZmYgdGhlIGJlZ2lubmluZyBhbmQgZW5kIG9mIGEgc3RyaW5nXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0ciBUaGUgU3RyaW5nIHRvIHRyaW1cbiAqXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgU3RyaW5nIGZyZWVkIG9mIGV4Y2VzcyB3aGl0ZXNwYWNlXG4gKi9cbmNvbnN0IHRyaW0gPSAoc3RyKSA9PiBzdHIudHJpbSA/XG4gIHN0ci50cmltKCkgOiBzdHIucmVwbGFjZSgvXltcXHNcXHVGRUZGXFx4QTBdK3xbXFxzXFx1RkVGRlxceEEwXSskL2csICcnKTtcblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgYW4gQXJyYXkgb3IgYW4gT2JqZWN0IGludm9raW5nIGEgZnVuY3Rpb24gZm9yIGVhY2ggaXRlbS5cbiAqXG4gKiBJZiBgb2JqYCBpcyBhbiBBcnJheSBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBwYXNzaW5nXG4gKiB0aGUgdmFsdWUsIGluZGV4LCBhbmQgY29tcGxldGUgYXJyYXkgZm9yIGVhY2ggaXRlbS5cbiAqXG4gKiBJZiAnb2JqJyBpcyBhbiBPYmplY3QgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgcGFzc2luZ1xuICogdGhlIHZhbHVlLCBrZXksIGFuZCBjb21wbGV0ZSBvYmplY3QgZm9yIGVhY2ggcHJvcGVydHkuXG4gKlxuICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IG9iaiBUaGUgb2JqZWN0IHRvIGl0ZXJhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBjYWxsYmFjayB0byBpbnZva2UgZm9yIGVhY2ggaXRlbVxuICpcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW2FsbE93bktleXMgPSBmYWxzZV1cbiAqIEByZXR1cm5zIHthbnl9XG4gKi9cbmZ1bmN0aW9uIGZvckVhY2gob2JqLCBmbiwge2FsbE93bktleXMgPSBmYWxzZX0gPSB7fSkge1xuICAvLyBEb24ndCBib3RoZXIgaWYgbm8gdmFsdWUgcHJvdmlkZWRcbiAgaWYgKG9iaiA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGxldCBpO1xuICBsZXQgbDtcblxuICAvLyBGb3JjZSBhbiBhcnJheSBpZiBub3QgYWxyZWFkeSBzb21ldGhpbmcgaXRlcmFibGVcbiAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB7XG4gICAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gICAgb2JqID0gW29ial07XG4gIH1cblxuICBpZiAoaXNBcnJheShvYmopKSB7XG4gICAgLy8gSXRlcmF0ZSBvdmVyIGFycmF5IHZhbHVlc1xuICAgIGZvciAoaSA9IDAsIGwgPSBvYmoubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBmbi5jYWxsKG51bGwsIG9ialtpXSwgaSwgb2JqKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gSXRlcmF0ZSBvdmVyIG9iamVjdCBrZXlzXG4gICAgY29uc3Qga2V5cyA9IGFsbE93bktleXMgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmopIDogT2JqZWN0LmtleXMob2JqKTtcbiAgICBjb25zdCBsZW4gPSBrZXlzLmxlbmd0aDtcbiAgICBsZXQga2V5O1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgZm4uY2FsbChudWxsLCBvYmpba2V5XSwga2V5LCBvYmopO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBmaW5kS2V5KG9iaiwga2V5KSB7XG4gIGtleSA9IGtleS50b0xvd2VyQ2FzZSgpO1xuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgbGV0IGkgPSBrZXlzLmxlbmd0aDtcbiAgbGV0IF9rZXk7XG4gIHdoaWxlIChpLS0gPiAwKSB7XG4gICAgX2tleSA9IGtleXNbaV07XG4gICAgaWYgKGtleSA9PT0gX2tleS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICByZXR1cm4gX2tleTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmNvbnN0IF9nbG9iYWwgPSAoKCkgPT4ge1xuICAvKmVzbGludCBuby11bmRlZjowKi9cbiAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzICE9PSBcInVuZGVmaW5lZFwiKSByZXR1cm4gZ2xvYmFsVGhpcztcbiAgcmV0dXJuIHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IGdsb2JhbClcbn0pKCk7XG5cbmNvbnN0IGlzQ29udGV4dERlZmluZWQgPSAoY29udGV4dCkgPT4gIWlzVW5kZWZpbmVkKGNvbnRleHQpICYmIGNvbnRleHQgIT09IF9nbG9iYWw7XG5cbi8qKlxuICogQWNjZXB0cyB2YXJhcmdzIGV4cGVjdGluZyBlYWNoIGFyZ3VtZW50IHRvIGJlIGFuIG9iamVjdCwgdGhlblxuICogaW1tdXRhYmx5IG1lcmdlcyB0aGUgcHJvcGVydGllcyBvZiBlYWNoIG9iamVjdCBhbmQgcmV0dXJucyByZXN1bHQuXG4gKlxuICogV2hlbiBtdWx0aXBsZSBvYmplY3RzIGNvbnRhaW4gdGhlIHNhbWUga2V5IHRoZSBsYXRlciBvYmplY3QgaW5cbiAqIHRoZSBhcmd1bWVudHMgbGlzdCB3aWxsIHRha2UgcHJlY2VkZW5jZS5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiB2YXIgcmVzdWx0ID0gbWVyZ2Uoe2ZvbzogMTIzfSwge2ZvbzogNDU2fSk7XG4gKiBjb25zb2xlLmxvZyhyZXN1bHQuZm9vKTsgLy8gb3V0cHV0cyA0NTZcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmoxIE9iamVjdCB0byBtZXJnZVxuICpcbiAqIEByZXR1cm5zIHtPYmplY3R9IFJlc3VsdCBvZiBhbGwgbWVyZ2UgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBtZXJnZSgvKiBvYmoxLCBvYmoyLCBvYmozLCAuLi4gKi8pIHtcbiAgY29uc3Qge2Nhc2VsZXNzfSA9IGlzQ29udGV4dERlZmluZWQodGhpcykgJiYgdGhpcyB8fCB7fTtcbiAgY29uc3QgcmVzdWx0ID0ge307XG4gIGNvbnN0IGFzc2lnblZhbHVlID0gKHZhbCwga2V5KSA9PiB7XG4gICAgY29uc3QgdGFyZ2V0S2V5ID0gY2FzZWxlc3MgJiYgZmluZEtleShyZXN1bHQsIGtleSkgfHwga2V5O1xuICAgIGlmIChpc1BsYWluT2JqZWN0KHJlc3VsdFt0YXJnZXRLZXldKSAmJiBpc1BsYWluT2JqZWN0KHZhbCkpIHtcbiAgICAgIHJlc3VsdFt0YXJnZXRLZXldID0gbWVyZ2UocmVzdWx0W3RhcmdldEtleV0sIHZhbCk7XG4gICAgfSBlbHNlIGlmIChpc1BsYWluT2JqZWN0KHZhbCkpIHtcbiAgICAgIHJlc3VsdFt0YXJnZXRLZXldID0gbWVyZ2Uoe30sIHZhbCk7XG4gICAgfSBlbHNlIGlmIChpc0FycmF5KHZhbCkpIHtcbiAgICAgIHJlc3VsdFt0YXJnZXRLZXldID0gdmFsLnNsaWNlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdFt0YXJnZXRLZXldID0gdmFsO1xuICAgIH1cbiAgfTtcblxuICBmb3IgKGxldCBpID0gMCwgbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBhcmd1bWVudHNbaV0gJiYgZm9yRWFjaChhcmd1bWVudHNbaV0sIGFzc2lnblZhbHVlKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEV4dGVuZHMgb2JqZWN0IGEgYnkgbXV0YWJseSBhZGRpbmcgdG8gaXQgdGhlIHByb3BlcnRpZXMgb2Ygb2JqZWN0IGIuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGEgVGhlIG9iamVjdCB0byBiZSBleHRlbmRlZFxuICogQHBhcmFtIHtPYmplY3R9IGIgVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgZnJvbVxuICogQHBhcmFtIHtPYmplY3R9IHRoaXNBcmcgVGhlIG9iamVjdCB0byBiaW5kIGZ1bmN0aW9uIHRvXG4gKlxuICogQHBhcmFtIHtCb29sZWFufSBbYWxsT3duS2V5c11cbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSByZXN1bHRpbmcgdmFsdWUgb2Ygb2JqZWN0IGFcbiAqL1xuY29uc3QgZXh0ZW5kID0gKGEsIGIsIHRoaXNBcmcsIHthbGxPd25LZXlzfT0ge30pID0+IHtcbiAgZm9yRWFjaChiLCAodmFsLCBrZXkpID0+IHtcbiAgICBpZiAodGhpc0FyZyAmJiBpc0Z1bmN0aW9uKHZhbCkpIHtcbiAgICAgIGFba2V5XSA9IGJpbmQodmFsLCB0aGlzQXJnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYVtrZXldID0gdmFsO1xuICAgIH1cbiAgfSwge2FsbE93bktleXN9KTtcbiAgcmV0dXJuIGE7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBieXRlIG9yZGVyIG1hcmtlci4gVGhpcyBjYXRjaGVzIEVGIEJCIEJGICh0aGUgVVRGLTggQk9NKVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50IHdpdGggQk9NXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gY29udGVudCB2YWx1ZSB3aXRob3V0IEJPTVxuICovXG5jb25zdCBzdHJpcEJPTSA9IChjb250ZW50KSA9PiB7XG4gIGlmIChjb250ZW50LmNoYXJDb2RlQXQoMCkgPT09IDB4RkVGRikge1xuICAgIGNvbnRlbnQgPSBjb250ZW50LnNsaWNlKDEpO1xuICB9XG4gIHJldHVybiBjb250ZW50O1xufTtcblxuLyoqXG4gKiBJbmhlcml0IHRoZSBwcm90b3R5cGUgbWV0aG9kcyBmcm9tIG9uZSBjb25zdHJ1Y3RvciBpbnRvIGFub3RoZXJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBzdXBlckNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge29iamVjdH0gW3Byb3BzXVxuICogQHBhcmFtIHtvYmplY3R9IFtkZXNjcmlwdG9yc11cbiAqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuY29uc3QgaW5oZXJpdHMgPSAoY29uc3RydWN0b3IsIHN1cGVyQ29uc3RydWN0b3IsIHByb3BzLCBkZXNjcmlwdG9ycykgPT4ge1xuICBjb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ29uc3RydWN0b3IucHJvdG90eXBlLCBkZXNjcmlwdG9ycyk7XG4gIGNvbnN0cnVjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGNvbnN0cnVjdG9yO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29uc3RydWN0b3IsICdzdXBlcicsIHtcbiAgICB2YWx1ZTogc3VwZXJDb25zdHJ1Y3Rvci5wcm90b3R5cGVcbiAgfSk7XG4gIHByb3BzICYmIE9iamVjdC5hc3NpZ24oY29uc3RydWN0b3IucHJvdG90eXBlLCBwcm9wcyk7XG59O1xuXG4vKipcbiAqIFJlc29sdmUgb2JqZWN0IHdpdGggZGVlcCBwcm90b3R5cGUgY2hhaW4gdG8gYSBmbGF0IG9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZU9iaiBzb3VyY2Ugb2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gW2Rlc3RPYmpdXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufEJvb2xlYW59IFtmaWx0ZXJdXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJvcEZpbHRlcl1cbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICovXG5jb25zdCB0b0ZsYXRPYmplY3QgPSAoc291cmNlT2JqLCBkZXN0T2JqLCBmaWx0ZXIsIHByb3BGaWx0ZXIpID0+IHtcbiAgbGV0IHByb3BzO1xuICBsZXQgaTtcbiAgbGV0IHByb3A7XG4gIGNvbnN0IG1lcmdlZCA9IHt9O1xuXG4gIGRlc3RPYmogPSBkZXN0T2JqIHx8IHt9O1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgaWYgKHNvdXJjZU9iaiA9PSBudWxsKSByZXR1cm4gZGVzdE9iajtcblxuICBkbyB7XG4gICAgcHJvcHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhzb3VyY2VPYmopO1xuICAgIGkgPSBwcm9wcy5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSA+IDApIHtcbiAgICAgIHByb3AgPSBwcm9wc1tpXTtcbiAgICAgIGlmICgoIXByb3BGaWx0ZXIgfHwgcHJvcEZpbHRlcihwcm9wLCBzb3VyY2VPYmosIGRlc3RPYmopKSAmJiAhbWVyZ2VkW3Byb3BdKSB7XG4gICAgICAgIGRlc3RPYmpbcHJvcF0gPSBzb3VyY2VPYmpbcHJvcF07XG4gICAgICAgIG1lcmdlZFtwcm9wXSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHNvdXJjZU9iaiA9IGZpbHRlciAhPT0gZmFsc2UgJiYgZ2V0UHJvdG90eXBlT2Yoc291cmNlT2JqKTtcbiAgfSB3aGlsZSAoc291cmNlT2JqICYmICghZmlsdGVyIHx8IGZpbHRlcihzb3VyY2VPYmosIGRlc3RPYmopKSAmJiBzb3VyY2VPYmogIT09IE9iamVjdC5wcm90b3R5cGUpO1xuXG4gIHJldHVybiBkZXN0T2JqO1xufTtcblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgYSBzdHJpbmcgZW5kcyB3aXRoIHRoZSBjaGFyYWN0ZXJzIG9mIGEgc3BlY2lmaWVkIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWFyY2hTdHJpbmdcbiAqIEBwYXJhbSB7TnVtYmVyfSBbcG9zaXRpb249IDBdXG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmNvbnN0IGVuZHNXaXRoID0gKHN0ciwgc2VhcmNoU3RyaW5nLCBwb3NpdGlvbikgPT4ge1xuICBzdHIgPSBTdHJpbmcoc3RyKTtcbiAgaWYgKHBvc2l0aW9uID09PSB1bmRlZmluZWQgfHwgcG9zaXRpb24gPiBzdHIubGVuZ3RoKSB7XG4gICAgcG9zaXRpb24gPSBzdHIubGVuZ3RoO1xuICB9XG4gIHBvc2l0aW9uIC09IHNlYXJjaFN0cmluZy5sZW5ndGg7XG4gIGNvbnN0IGxhc3RJbmRleCA9IHN0ci5pbmRleE9mKHNlYXJjaFN0cmluZywgcG9zaXRpb24pO1xuICByZXR1cm4gbGFzdEluZGV4ICE9PSAtMSAmJiBsYXN0SW5kZXggPT09IHBvc2l0aW9uO1xufTtcblxuXG4vKipcbiAqIFJldHVybnMgbmV3IGFycmF5IGZyb20gYXJyYXkgbGlrZSBvYmplY3Qgb3IgbnVsbCBpZiBmYWlsZWRcbiAqXG4gKiBAcGFyYW0geyp9IFt0aGluZ11cbiAqXG4gKiBAcmV0dXJucyB7P0FycmF5fVxuICovXG5jb25zdCB0b0FycmF5ID0gKHRoaW5nKSA9PiB7XG4gIGlmICghdGhpbmcpIHJldHVybiBudWxsO1xuICBpZiAoaXNBcnJheSh0aGluZykpIHJldHVybiB0aGluZztcbiAgbGV0IGkgPSB0aGluZy5sZW5ndGg7XG4gIGlmICghaXNOdW1iZXIoaSkpIHJldHVybiBudWxsO1xuICBjb25zdCBhcnIgPSBuZXcgQXJyYXkoaSk7XG4gIHdoaWxlIChpLS0gPiAwKSB7XG4gICAgYXJyW2ldID0gdGhpbmdbaV07XG4gIH1cbiAgcmV0dXJuIGFycjtcbn07XG5cbi8qKlxuICogQ2hlY2tpbmcgaWYgdGhlIFVpbnQ4QXJyYXkgZXhpc3RzIGFuZCBpZiBpdCBkb2VzLCBpdCByZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBjaGVja3MgaWYgdGhlXG4gKiB0aGluZyBwYXNzZWQgaW4gaXMgYW4gaW5zdGFuY2Ugb2YgVWludDhBcnJheVxuICpcbiAqIEBwYXJhbSB7VHlwZWRBcnJheX1cbiAqXG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5jb25zdCBpc1R5cGVkQXJyYXkgPSAoVHlwZWRBcnJheSA9PiB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gIHJldHVybiB0aGluZyA9PiB7XG4gICAgcmV0dXJuIFR5cGVkQXJyYXkgJiYgdGhpbmcgaW5zdGFuY2VvZiBUeXBlZEFycmF5O1xuICB9O1xufSkodHlwZW9mIFVpbnQ4QXJyYXkgIT09ICd1bmRlZmluZWQnICYmIGdldFByb3RvdHlwZU9mKFVpbnQ4QXJyYXkpKTtcblxuLyoqXG4gKiBGb3IgZWFjaCBlbnRyeSBpbiB0aGUgb2JqZWN0LCBjYWxsIHRoZSBmdW5jdGlvbiB3aXRoIHRoZSBrZXkgYW5kIHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0PGFueSwgYW55Pn0gb2JqIC0gVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIFRoZSBmdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIGVudHJ5LlxuICpcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5jb25zdCBmb3JFYWNoRW50cnkgPSAob2JqLCBmbikgPT4ge1xuICBjb25zdCBnZW5lcmF0b3IgPSBvYmogJiYgb2JqW1N5bWJvbC5pdGVyYXRvcl07XG5cbiAgY29uc3QgaXRlcmF0b3IgPSBnZW5lcmF0b3IuY2FsbChvYmopO1xuXG4gIGxldCByZXN1bHQ7XG5cbiAgd2hpbGUgKChyZXN1bHQgPSBpdGVyYXRvci5uZXh0KCkpICYmICFyZXN1bHQuZG9uZSkge1xuICAgIGNvbnN0IHBhaXIgPSByZXN1bHQudmFsdWU7XG4gICAgZm4uY2FsbChvYmosIHBhaXJbMF0sIHBhaXJbMV0pO1xuICB9XG59O1xuXG4vKipcbiAqIEl0IHRha2VzIGEgcmVndWxhciBleHByZXNzaW9uIGFuZCBhIHN0cmluZywgYW5kIHJldHVybnMgYW4gYXJyYXkgb2YgYWxsIHRoZSBtYXRjaGVzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHJlZ0V4cCAtIFRoZSByZWd1bGFyIGV4cHJlc3Npb24gdG8gbWF0Y2ggYWdhaW5zdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgLSBUaGUgc3RyaW5nIHRvIHNlYXJjaC5cbiAqXG4gKiBAcmV0dXJucyB7QXJyYXk8Ym9vbGVhbj59XG4gKi9cbmNvbnN0IG1hdGNoQWxsID0gKHJlZ0V4cCwgc3RyKSA9PiB7XG4gIGxldCBtYXRjaGVzO1xuICBjb25zdCBhcnIgPSBbXTtcblxuICB3aGlsZSAoKG1hdGNoZXMgPSByZWdFeHAuZXhlYyhzdHIpKSAhPT0gbnVsbCkge1xuICAgIGFyci5wdXNoKG1hdGNoZXMpO1xuICB9XG5cbiAgcmV0dXJuIGFycjtcbn07XG5cbi8qIENoZWNraW5nIGlmIHRoZSBraW5kT2ZUZXN0IGZ1bmN0aW9uIHJldHVybnMgdHJ1ZSB3aGVuIHBhc3NlZCBhbiBIVE1MRm9ybUVsZW1lbnQuICovXG5jb25zdCBpc0hUTUxGb3JtID0ga2luZE9mVGVzdCgnSFRNTEZvcm1FbGVtZW50Jyk7XG5cbmNvbnN0IHRvQ2FtZWxDYXNlID0gc3RyID0+IHtcbiAgcmV0dXJuIHN0ci50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1stX1xcc10oW2EtelxcZF0pKFxcdyopL2csXG4gICAgZnVuY3Rpb24gcmVwbGFjZXIobSwgcDEsIHAyKSB7XG4gICAgICByZXR1cm4gcDEudG9VcHBlckNhc2UoKSArIHAyO1xuICAgIH1cbiAgKTtcbn07XG5cbi8qIENyZWF0aW5nIGEgZnVuY3Rpb24gdGhhdCB3aWxsIGNoZWNrIGlmIGFuIG9iamVjdCBoYXMgYSBwcm9wZXJ0eS4gKi9cbmNvbnN0IGhhc093blByb3BlcnR5ID0gKCh7aGFzT3duUHJvcGVydHl9KSA9PiAob2JqLCBwcm9wKSA9PiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpKE9iamVjdC5wcm90b3R5cGUpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgUmVnRXhwIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBSZWdFeHAgb2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNSZWdFeHAgPSBraW5kT2ZUZXN0KCdSZWdFeHAnKTtcblxuY29uc3QgcmVkdWNlRGVzY3JpcHRvcnMgPSAob2JqLCByZWR1Y2VyKSA9PiB7XG4gIGNvbnN0IGRlc2NyaXB0b3JzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMob2JqKTtcbiAgY29uc3QgcmVkdWNlZERlc2NyaXB0b3JzID0ge307XG5cbiAgZm9yRWFjaChkZXNjcmlwdG9ycywgKGRlc2NyaXB0b3IsIG5hbWUpID0+IHtcbiAgICBsZXQgcmV0O1xuICAgIGlmICgocmV0ID0gcmVkdWNlcihkZXNjcmlwdG9yLCBuYW1lLCBvYmopKSAhPT0gZmFsc2UpIHtcbiAgICAgIHJlZHVjZWREZXNjcmlwdG9yc1tuYW1lXSA9IHJldCB8fCBkZXNjcmlwdG9yO1xuICAgIH1cbiAgfSk7XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMob2JqLCByZWR1Y2VkRGVzY3JpcHRvcnMpO1xufTtcblxuLyoqXG4gKiBNYWtlcyBhbGwgbWV0aG9kcyByZWFkLW9ubHlcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqL1xuXG5jb25zdCBmcmVlemVNZXRob2RzID0gKG9iaikgPT4ge1xuICByZWR1Y2VEZXNjcmlwdG9ycyhvYmosIChkZXNjcmlwdG9yLCBuYW1lKSA9PiB7XG4gICAgLy8gc2tpcCByZXN0cmljdGVkIHByb3BzIGluIHN0cmljdCBtb2RlXG4gICAgaWYgKGlzRnVuY3Rpb24ob2JqKSAmJiBbJ2FyZ3VtZW50cycsICdjYWxsZXInLCAnY2FsbGVlJ10uaW5kZXhPZihuYW1lKSAhPT0gLTEpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCB2YWx1ZSA9IG9ialtuYW1lXTtcblxuICAgIGlmICghaXNGdW5jdGlvbih2YWx1ZSkpIHJldHVybjtcblxuICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGZhbHNlO1xuXG4gICAgaWYgKCd3cml0YWJsZScgaW4gZGVzY3JpcHRvcikge1xuICAgICAgZGVzY3JpcHRvci53cml0YWJsZSA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghZGVzY3JpcHRvci5zZXQpIHtcbiAgICAgIGRlc2NyaXB0b3Iuc2V0ID0gKCkgPT4ge1xuICAgICAgICB0aHJvdyBFcnJvcignQ2FuIG5vdCByZXdyaXRlIHJlYWQtb25seSBtZXRob2QgXFwnJyArIG5hbWUgKyAnXFwnJyk7XG4gICAgICB9O1xuICAgIH1cbiAgfSk7XG59O1xuXG5jb25zdCB0b09iamVjdFNldCA9IChhcnJheU9yU3RyaW5nLCBkZWxpbWl0ZXIpID0+IHtcbiAgY29uc3Qgb2JqID0ge307XG5cbiAgY29uc3QgZGVmaW5lID0gKGFycikgPT4ge1xuICAgIGFyci5mb3JFYWNoKHZhbHVlID0+IHtcbiAgICAgIG9ialt2YWx1ZV0gPSB0cnVlO1xuICAgIH0pO1xuICB9O1xuXG4gIGlzQXJyYXkoYXJyYXlPclN0cmluZykgPyBkZWZpbmUoYXJyYXlPclN0cmluZykgOiBkZWZpbmUoU3RyaW5nKGFycmF5T3JTdHJpbmcpLnNwbGl0KGRlbGltaXRlcikpO1xuXG4gIHJldHVybiBvYmo7XG59O1xuXG5jb25zdCBub29wID0gKCkgPT4ge307XG5cbmNvbnN0IHRvRmluaXRlTnVtYmVyID0gKHZhbHVlLCBkZWZhdWx0VmFsdWUpID0+IHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgTnVtYmVyLmlzRmluaXRlKHZhbHVlID0gK3ZhbHVlKSA/IHZhbHVlIDogZGVmYXVsdFZhbHVlO1xufTtcblxuY29uc3QgQUxQSEEgPSAnYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXonO1xuXG5jb25zdCBESUdJVCA9ICcwMTIzNDU2Nzg5JztcblxuY29uc3QgQUxQSEFCRVQgPSB7XG4gIERJR0lULFxuICBBTFBIQSxcbiAgQUxQSEFfRElHSVQ6IEFMUEhBICsgQUxQSEEudG9VcHBlckNhc2UoKSArIERJR0lUXG59O1xuXG5jb25zdCBnZW5lcmF0ZVN0cmluZyA9IChzaXplID0gMTYsIGFscGhhYmV0ID0gQUxQSEFCRVQuQUxQSEFfRElHSVQpID0+IHtcbiAgbGV0IHN0ciA9ICcnO1xuICBjb25zdCB7bGVuZ3RofSA9IGFscGhhYmV0O1xuICB3aGlsZSAoc2l6ZS0tKSB7XG4gICAgc3RyICs9IGFscGhhYmV0W01hdGgucmFuZG9tKCkgKiBsZW5ndGh8MF07XG4gIH1cblxuICByZXR1cm4gc3RyO1xufTtcblxuLyoqXG4gKiBJZiB0aGUgdGhpbmcgaXMgYSBGb3JtRGF0YSBvYmplY3QsIHJldHVybiB0cnVlLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxuICpcbiAqIEBwYXJhbSB7dW5rbm93bn0gdGhpbmcgLSBUaGUgdGhpbmcgdG8gY2hlY2suXG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzU3BlY0NvbXBsaWFudEZvcm0odGhpbmcpIHtcbiAgcmV0dXJuICEhKHRoaW5nICYmIGlzRnVuY3Rpb24odGhpbmcuYXBwZW5kKSAmJiB0aGluZ1tTeW1ib2wudG9TdHJpbmdUYWddID09PSAnRm9ybURhdGEnICYmIHRoaW5nW1N5bWJvbC5pdGVyYXRvcl0pO1xufVxuXG5jb25zdCB0b0pTT05PYmplY3QgPSAob2JqKSA9PiB7XG4gIGNvbnN0IHN0YWNrID0gbmV3IEFycmF5KDEwKTtcblxuICBjb25zdCB2aXNpdCA9IChzb3VyY2UsIGkpID0+IHtcblxuICAgIGlmIChpc09iamVjdChzb3VyY2UpKSB7XG4gICAgICBpZiAoc3RhY2suaW5kZXhPZihzb3VyY2UpID49IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZighKCd0b0pTT04nIGluIHNvdXJjZSkpIHtcbiAgICAgICAgc3RhY2tbaV0gPSBzb3VyY2U7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGlzQXJyYXkoc291cmNlKSA/IFtdIDoge307XG5cbiAgICAgICAgZm9yRWFjaChzb3VyY2UsICh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgY29uc3QgcmVkdWNlZFZhbHVlID0gdmlzaXQodmFsdWUsIGkgKyAxKTtcbiAgICAgICAgICAhaXNVbmRlZmluZWQocmVkdWNlZFZhbHVlKSAmJiAodGFyZ2V0W2tleV0gPSByZWR1Y2VkVmFsdWUpO1xuICAgICAgICB9KTtcblxuICAgICAgICBzdGFja1tpXSA9IHVuZGVmaW5lZDtcblxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzb3VyY2U7XG4gIH07XG5cbiAgcmV0dXJuIHZpc2l0KG9iaiwgMCk7XG59O1xuXG5jb25zdCBpc0FzeW5jRm4gPSBraW5kT2ZUZXN0KCdBc3luY0Z1bmN0aW9uJyk7XG5cbmNvbnN0IGlzVGhlbmFibGUgPSAodGhpbmcpID0+XG4gIHRoaW5nICYmIChpc09iamVjdCh0aGluZykgfHwgaXNGdW5jdGlvbih0aGluZykpICYmIGlzRnVuY3Rpb24odGhpbmcudGhlbikgJiYgaXNGdW5jdGlvbih0aGluZy5jYXRjaCk7XG5cbnZhciB1dGlscyQxID0ge1xuICBpc0FycmF5LFxuICBpc0FycmF5QnVmZmVyLFxuICBpc0J1ZmZlcixcbiAgaXNGb3JtRGF0YSxcbiAgaXNBcnJheUJ1ZmZlclZpZXcsXG4gIGlzU3RyaW5nLFxuICBpc051bWJlcixcbiAgaXNCb29sZWFuLFxuICBpc09iamVjdCxcbiAgaXNQbGFpbk9iamVjdCxcbiAgaXNSZWFkYWJsZVN0cmVhbSxcbiAgaXNSZXF1ZXN0LFxuICBpc1Jlc3BvbnNlLFxuICBpc0hlYWRlcnMsXG4gIGlzVW5kZWZpbmVkLFxuICBpc0RhdGUsXG4gIGlzRmlsZSxcbiAgaXNCbG9iLFxuICBpc1JlZ0V4cCxcbiAgaXNGdW5jdGlvbixcbiAgaXNTdHJlYW0sXG4gIGlzVVJMU2VhcmNoUGFyYW1zLFxuICBpc1R5cGVkQXJyYXksXG4gIGlzRmlsZUxpc3QsXG4gIGZvckVhY2gsXG4gIG1lcmdlLFxuICBleHRlbmQsXG4gIHRyaW0sXG4gIHN0cmlwQk9NLFxuICBpbmhlcml0cyxcbiAgdG9GbGF0T2JqZWN0LFxuICBraW5kT2YsXG4gIGtpbmRPZlRlc3QsXG4gIGVuZHNXaXRoLFxuICB0b0FycmF5LFxuICBmb3JFYWNoRW50cnksXG4gIG1hdGNoQWxsLFxuICBpc0hUTUxGb3JtLFxuICBoYXNPd25Qcm9wZXJ0eSxcbiAgaGFzT3duUHJvcDogaGFzT3duUHJvcGVydHksIC8vIGFuIGFsaWFzIHRvIGF2b2lkIEVTTGludCBuby1wcm90b3R5cGUtYnVpbHRpbnMgZGV0ZWN0aW9uXG4gIHJlZHVjZURlc2NyaXB0b3JzLFxuICBmcmVlemVNZXRob2RzLFxuICB0b09iamVjdFNldCxcbiAgdG9DYW1lbENhc2UsXG4gIG5vb3AsXG4gIHRvRmluaXRlTnVtYmVyLFxuICBmaW5kS2V5LFxuICBnbG9iYWw6IF9nbG9iYWwsXG4gIGlzQ29udGV4dERlZmluZWQsXG4gIEFMUEhBQkVULFxuICBnZW5lcmF0ZVN0cmluZyxcbiAgaXNTcGVjQ29tcGxpYW50Rm9ybSxcbiAgdG9KU09OT2JqZWN0LFxuICBpc0FzeW5jRm4sXG4gIGlzVGhlbmFibGVcbn07XG5cbi8qKlxuICogQ3JlYXRlIGFuIEVycm9yIHdpdGggdGhlIHNwZWNpZmllZCBtZXNzYWdlLCBjb25maWcsIGVycm9yIGNvZGUsIHJlcXVlc3QgYW5kIHJlc3BvbnNlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICogQHBhcmFtIHtzdHJpbmd9IFtjb2RlXSBUaGUgZXJyb3IgY29kZSAoZm9yIGV4YW1wbGUsICdFQ09OTkFCT1JURUQnKS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnXSBUaGUgY29uZmlnLlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXF1ZXN0XSBUaGUgcmVxdWVzdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVzcG9uc2VdIFRoZSByZXNwb25zZS5cbiAqXG4gKiBAcmV0dXJucyB7RXJyb3J9IFRoZSBjcmVhdGVkIGVycm9yLlxuICovXG5mdW5jdGlvbiBBeGlvc0Vycm9yKG1lc3NhZ2UsIGNvZGUsIGNvbmZpZywgcmVxdWVzdCwgcmVzcG9uc2UpIHtcbiAgRXJyb3IuY2FsbCh0aGlzKTtcblxuICBpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIHtcbiAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCB0aGlzLmNvbnN0cnVjdG9yKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnN0YWNrID0gKG5ldyBFcnJvcigpKS5zdGFjaztcbiAgfVxuXG4gIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gIHRoaXMubmFtZSA9ICdBeGlvc0Vycm9yJztcbiAgY29kZSAmJiAodGhpcy5jb2RlID0gY29kZSk7XG4gIGNvbmZpZyAmJiAodGhpcy5jb25maWcgPSBjb25maWcpO1xuICByZXF1ZXN0ICYmICh0aGlzLnJlcXVlc3QgPSByZXF1ZXN0KTtcbiAgcmVzcG9uc2UgJiYgKHRoaXMucmVzcG9uc2UgPSByZXNwb25zZSk7XG59XG5cbnV0aWxzJDEuaW5oZXJpdHMoQXhpb3NFcnJvciwgRXJyb3IsIHtcbiAgdG9KU09OOiBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIFN0YW5kYXJkXG4gICAgICBtZXNzYWdlOiB0aGlzLm1lc3NhZ2UsXG4gICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAvLyBNaWNyb3NvZnRcbiAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmRlc2NyaXB0aW9uLFxuICAgICAgbnVtYmVyOiB0aGlzLm51bWJlcixcbiAgICAgIC8vIE1vemlsbGFcbiAgICAgIGZpbGVOYW1lOiB0aGlzLmZpbGVOYW1lLFxuICAgICAgbGluZU51bWJlcjogdGhpcy5saW5lTnVtYmVyLFxuICAgICAgY29sdW1uTnVtYmVyOiB0aGlzLmNvbHVtbk51bWJlcixcbiAgICAgIHN0YWNrOiB0aGlzLnN0YWNrLFxuICAgICAgLy8gQXhpb3NcbiAgICAgIGNvbmZpZzogdXRpbHMkMS50b0pTT05PYmplY3QodGhpcy5jb25maWcpLFxuICAgICAgY29kZTogdGhpcy5jb2RlLFxuICAgICAgc3RhdHVzOiB0aGlzLnJlc3BvbnNlICYmIHRoaXMucmVzcG9uc2Uuc3RhdHVzID8gdGhpcy5yZXNwb25zZS5zdGF0dXMgOiBudWxsXG4gICAgfTtcbiAgfVxufSk7XG5cbmNvbnN0IHByb3RvdHlwZSQxID0gQXhpb3NFcnJvci5wcm90b3R5cGU7XG5jb25zdCBkZXNjcmlwdG9ycyA9IHt9O1xuXG5bXG4gICdFUlJfQkFEX09QVElPTl9WQUxVRScsXG4gICdFUlJfQkFEX09QVElPTicsXG4gICdFQ09OTkFCT1JURUQnLFxuICAnRVRJTUVET1VUJyxcbiAgJ0VSUl9ORVRXT1JLJyxcbiAgJ0VSUl9GUl9UT09fTUFOWV9SRURJUkVDVFMnLFxuICAnRVJSX0RFUFJFQ0FURUQnLFxuICAnRVJSX0JBRF9SRVNQT05TRScsXG4gICdFUlJfQkFEX1JFUVVFU1QnLFxuICAnRVJSX0NBTkNFTEVEJyxcbiAgJ0VSUl9OT1RfU1VQUE9SVCcsXG4gICdFUlJfSU5WQUxJRF9VUkwnXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuXS5mb3JFYWNoKGNvZGUgPT4ge1xuICBkZXNjcmlwdG9yc1tjb2RlXSA9IHt2YWx1ZTogY29kZX07XG59KTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoQXhpb3NFcnJvciwgZGVzY3JpcHRvcnMpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvdHlwZSQxLCAnaXNBeGlvc0Vycm9yJywge3ZhbHVlOiB0cnVlfSk7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5BeGlvc0Vycm9yLmZyb20gPSAoZXJyb3IsIGNvZGUsIGNvbmZpZywgcmVxdWVzdCwgcmVzcG9uc2UsIGN1c3RvbVByb3BzKSA9PiB7XG4gIGNvbnN0IGF4aW9zRXJyb3IgPSBPYmplY3QuY3JlYXRlKHByb3RvdHlwZSQxKTtcblxuICB1dGlscyQxLnRvRmxhdE9iamVjdChlcnJvciwgYXhpb3NFcnJvciwgZnVuY3Rpb24gZmlsdGVyKG9iaikge1xuICAgIHJldHVybiBvYmogIT09IEVycm9yLnByb3RvdHlwZTtcbiAgfSwgcHJvcCA9PiB7XG4gICAgcmV0dXJuIHByb3AgIT09ICdpc0F4aW9zRXJyb3InO1xuICB9KTtcblxuICBBeGlvc0Vycm9yLmNhbGwoYXhpb3NFcnJvciwgZXJyb3IubWVzc2FnZSwgY29kZSwgY29uZmlnLCByZXF1ZXN0LCByZXNwb25zZSk7XG5cbiAgYXhpb3NFcnJvci5jYXVzZSA9IGVycm9yO1xuXG4gIGF4aW9zRXJyb3IubmFtZSA9IGVycm9yLm5hbWU7XG5cbiAgY3VzdG9tUHJvcHMgJiYgT2JqZWN0LmFzc2lnbihheGlvc0Vycm9yLCBjdXN0b21Qcm9wcyk7XG5cbiAgcmV0dXJuIGF4aW9zRXJyb3I7XG59O1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgc3RyaWN0XG52YXIgaHR0cEFkYXB0ZXIgPSBudWxsO1xuXG4vKipcbiAqIERldGVybWluZXMgaWYgdGhlIGdpdmVuIHRoaW5nIGlzIGEgYXJyYXkgb3IganMgb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0aGluZyAtIFRoZSBvYmplY3Qgb3IgYXJyYXkgdG8gYmUgdmlzaXRlZC5cbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNWaXNpdGFibGUodGhpbmcpIHtcbiAgcmV0dXJuIHV0aWxzJDEuaXNQbGFpbk9iamVjdCh0aGluZykgfHwgdXRpbHMkMS5pc0FycmF5KHRoaW5nKTtcbn1cblxuLyoqXG4gKiBJdCByZW1vdmVzIHRoZSBicmFja2V0cyBmcm9tIHRoZSBlbmQgb2YgYSBzdHJpbmdcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gVGhlIGtleSBvZiB0aGUgcGFyYW1ldGVyLlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IHRoZSBrZXkgd2l0aG91dCB0aGUgYnJhY2tldHMuXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUJyYWNrZXRzKGtleSkge1xuICByZXR1cm4gdXRpbHMkMS5lbmRzV2l0aChrZXksICdbXScpID8ga2V5LnNsaWNlKDAsIC0yKSA6IGtleTtcbn1cblxuLyoqXG4gKiBJdCB0YWtlcyBhIHBhdGgsIGEga2V5LCBhbmQgYSBib29sZWFuLCBhbmQgcmV0dXJucyBhIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gVGhlIHBhdGggdG8gdGhlIGN1cnJlbnQga2V5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIFRoZSBrZXkgb2YgdGhlIGN1cnJlbnQgb2JqZWN0IGJlaW5nIGl0ZXJhdGVkIG92ZXIuXG4gKiBAcGFyYW0ge3N0cmluZ30gZG90cyAtIElmIHRydWUsIHRoZSBrZXkgd2lsbCBiZSByZW5kZXJlZCB3aXRoIGRvdHMgaW5zdGVhZCBvZiBicmFja2V0cy5cbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgcGF0aCB0byB0aGUgY3VycmVudCBrZXkuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlcktleShwYXRoLCBrZXksIGRvdHMpIHtcbiAgaWYgKCFwYXRoKSByZXR1cm4ga2V5O1xuICByZXR1cm4gcGF0aC5jb25jYXQoa2V5KS5tYXAoZnVuY3Rpb24gZWFjaCh0b2tlbiwgaSkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgIHRva2VuID0gcmVtb3ZlQnJhY2tldHModG9rZW4pO1xuICAgIHJldHVybiAhZG90cyAmJiBpID8gJ1snICsgdG9rZW4gKyAnXScgOiB0b2tlbjtcbiAgfSkuam9pbihkb3RzID8gJy4nIDogJycpO1xufVxuXG4vKipcbiAqIElmIHRoZSBhcnJheSBpcyBhbiBhcnJheSBhbmQgbm9uZSBvZiBpdHMgZWxlbWVudHMgYXJlIHZpc2l0YWJsZSwgdGhlbiBpdCdzIGEgZmxhdCBhcnJheS5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PGFueT59IGFyciAtIFRoZSBhcnJheSB0byBjaGVja1xuICpcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc0ZsYXRBcnJheShhcnIpIHtcbiAgcmV0dXJuIHV0aWxzJDEuaXNBcnJheShhcnIpICYmICFhcnIuc29tZShpc1Zpc2l0YWJsZSk7XG59XG5cbmNvbnN0IHByZWRpY2F0ZXMgPSB1dGlscyQxLnRvRmxhdE9iamVjdCh1dGlscyQxLCB7fSwgbnVsbCwgZnVuY3Rpb24gZmlsdGVyKHByb3ApIHtcbiAgcmV0dXJuIC9eaXNbQS1aXS8udGVzdChwcm9wKTtcbn0pO1xuXG4vKipcbiAqIENvbnZlcnQgYSBkYXRhIG9iamVjdCB0byBGb3JtRGF0YVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEBwYXJhbSB7P09iamVjdH0gW2Zvcm1EYXRhXVxuICogQHBhcmFtIHs/T2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRpb25zLnZpc2l0b3JdXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLm1ldGFUb2tlbnMgPSB0cnVlXVxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5kb3RzID0gZmFsc2VdXG4gKiBAcGFyYW0gez9Cb29sZWFufSBbb3B0aW9ucy5pbmRleGVzID0gZmFsc2VdXG4gKlxuICogQHJldHVybnMge09iamVjdH1cbiAqKi9cblxuLyoqXG4gKiBJdCBjb252ZXJ0cyBhbiBvYmplY3QgaW50byBhIEZvcm1EYXRhIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0PGFueSwgYW55Pn0gb2JqIC0gVGhlIG9iamVjdCB0byBjb252ZXJ0IHRvIGZvcm0gZGF0YS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBmb3JtRGF0YSAtIFRoZSBGb3JtRGF0YSBvYmplY3QgdG8gYXBwZW5kIHRvLlxuICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCBhbnk+fSBvcHRpb25zXG4gKlxuICogQHJldHVybnNcbiAqL1xuZnVuY3Rpb24gdG9Gb3JtRGF0YShvYmosIGZvcm1EYXRhLCBvcHRpb25zKSB7XG4gIGlmICghdXRpbHMkMS5pc09iamVjdChvYmopKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcigndGFyZ2V0IG11c3QgYmUgYW4gb2JqZWN0Jyk7XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgZm9ybURhdGEgPSBmb3JtRGF0YSB8fCBuZXcgKEZvcm1EYXRhKSgpO1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICBvcHRpb25zID0gdXRpbHMkMS50b0ZsYXRPYmplY3Qob3B0aW9ucywge1xuICAgIG1ldGFUb2tlbnM6IHRydWUsXG4gICAgZG90czogZmFsc2UsXG4gICAgaW5kZXhlczogZmFsc2VcbiAgfSwgZmFsc2UsIGZ1bmN0aW9uIGRlZmluZWQob3B0aW9uLCBzb3VyY2UpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgICByZXR1cm4gIXV0aWxzJDEuaXNVbmRlZmluZWQoc291cmNlW29wdGlvbl0pO1xuICB9KTtcblxuICBjb25zdCBtZXRhVG9rZW5zID0gb3B0aW9ucy5tZXRhVG9rZW5zO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgY29uc3QgdmlzaXRvciA9IG9wdGlvbnMudmlzaXRvciB8fCBkZWZhdWx0VmlzaXRvcjtcbiAgY29uc3QgZG90cyA9IG9wdGlvbnMuZG90cztcbiAgY29uc3QgaW5kZXhlcyA9IG9wdGlvbnMuaW5kZXhlcztcbiAgY29uc3QgX0Jsb2IgPSBvcHRpb25zLkJsb2IgfHwgdHlwZW9mIEJsb2IgIT09ICd1bmRlZmluZWQnICYmIEJsb2I7XG4gIGNvbnN0IHVzZUJsb2IgPSBfQmxvYiAmJiB1dGlscyQxLmlzU3BlY0NvbXBsaWFudEZvcm0oZm9ybURhdGEpO1xuXG4gIGlmICghdXRpbHMkMS5pc0Z1bmN0aW9uKHZpc2l0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcigndmlzaXRvciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbnZlcnRWYWx1ZSh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkgcmV0dXJuICcnO1xuXG4gICAgaWYgKHV0aWxzJDEuaXNEYXRlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHZhbHVlLnRvSVNPU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgaWYgKCF1c2VCbG9iICYmIHV0aWxzJDEuaXNCbG9iKHZhbHVlKSkge1xuICAgICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IoJ0Jsb2IgaXMgbm90IHN1cHBvcnRlZC4gVXNlIGEgQnVmZmVyIGluc3RlYWQuJyk7XG4gICAgfVxuXG4gICAgaWYgKHV0aWxzJDEuaXNBcnJheUJ1ZmZlcih2YWx1ZSkgfHwgdXRpbHMkMS5pc1R5cGVkQXJyYXkodmFsdWUpKSB7XG4gICAgICByZXR1cm4gdXNlQmxvYiAmJiB0eXBlb2YgQmxvYiA9PT0gJ2Z1bmN0aW9uJyA/IG5ldyBCbG9iKFt2YWx1ZV0pIDogQnVmZmVyLmZyb20odmFsdWUpO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IHZpc2l0b3IuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAgICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBrZXlcbiAgICogQHBhcmFtIHtBcnJheTxTdHJpbmd8TnVtYmVyPn0gcGF0aFxuICAgKiBAdGhpcyB7Rm9ybURhdGF9XG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufSByZXR1cm4gdHJ1ZSB0byB2aXNpdCB0aGUgZWFjaCBwcm9wIG9mIHRoZSB2YWx1ZSByZWN1cnNpdmVseVxuICAgKi9cbiAgZnVuY3Rpb24gZGVmYXVsdFZpc2l0b3IodmFsdWUsIGtleSwgcGF0aCkge1xuICAgIGxldCBhcnIgPSB2YWx1ZTtcblxuICAgIGlmICh2YWx1ZSAmJiAhcGF0aCAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICBpZiAodXRpbHMkMS5lbmRzV2l0aChrZXksICd7fScpKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICBrZXkgPSBtZXRhVG9rZW5zID8ga2V5IDoga2V5LnNsaWNlKDAsIC0yKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgIHZhbHVlID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgKHV0aWxzJDEuaXNBcnJheSh2YWx1ZSkgJiYgaXNGbGF0QXJyYXkodmFsdWUpKSB8fFxuICAgICAgICAoKHV0aWxzJDEuaXNGaWxlTGlzdCh2YWx1ZSkgfHwgdXRpbHMkMS5lbmRzV2l0aChrZXksICdbXScpKSAmJiAoYXJyID0gdXRpbHMkMS50b0FycmF5KHZhbHVlKSlcbiAgICAgICAgKSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAga2V5ID0gcmVtb3ZlQnJhY2tldHMoa2V5KTtcblxuICAgICAgICBhcnIuZm9yRWFjaChmdW5jdGlvbiBlYWNoKGVsLCBpbmRleCkge1xuICAgICAgICAgICEodXRpbHMkMS5pc1VuZGVmaW5lZChlbCkgfHwgZWwgPT09IG51bGwpICYmIGZvcm1EYXRhLmFwcGVuZChcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXN0ZWQtdGVybmFyeVxuICAgICAgICAgICAgaW5kZXhlcyA9PT0gdHJ1ZSA/IHJlbmRlcktleShba2V5XSwgaW5kZXgsIGRvdHMpIDogKGluZGV4ZXMgPT09IG51bGwgPyBrZXkgOiBrZXkgKyAnW10nKSxcbiAgICAgICAgICAgIGNvbnZlcnRWYWx1ZShlbClcbiAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpc1Zpc2l0YWJsZSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGZvcm1EYXRhLmFwcGVuZChyZW5kZXJLZXkocGF0aCwga2V5LCBkb3RzKSwgY29udmVydFZhbHVlKHZhbHVlKSk7XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBzdGFjayA9IFtdO1xuXG4gIGNvbnN0IGV4cG9zZWRIZWxwZXJzID0gT2JqZWN0LmFzc2lnbihwcmVkaWNhdGVzLCB7XG4gICAgZGVmYXVsdFZpc2l0b3IsXG4gICAgY29udmVydFZhbHVlLFxuICAgIGlzVmlzaXRhYmxlXG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGJ1aWxkKHZhbHVlLCBwYXRoKSB7XG4gICAgaWYgKHV0aWxzJDEuaXNVbmRlZmluZWQodmFsdWUpKSByZXR1cm47XG5cbiAgICBpZiAoc3RhY2suaW5kZXhPZih2YWx1ZSkgIT09IC0xKSB7XG4gICAgICB0aHJvdyBFcnJvcignQ2lyY3VsYXIgcmVmZXJlbmNlIGRldGVjdGVkIGluICcgKyBwYXRoLmpvaW4oJy4nKSk7XG4gICAgfVxuXG4gICAgc3RhY2sucHVzaCh2YWx1ZSk7XG5cbiAgICB1dGlscyQxLmZvckVhY2godmFsdWUsIGZ1bmN0aW9uIGVhY2goZWwsIGtleSkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gISh1dGlscyQxLmlzVW5kZWZpbmVkKGVsKSB8fCBlbCA9PT0gbnVsbCkgJiYgdmlzaXRvci5jYWxsKFxuICAgICAgICBmb3JtRGF0YSwgZWwsIHV0aWxzJDEuaXNTdHJpbmcoa2V5KSA/IGtleS50cmltKCkgOiBrZXksIHBhdGgsIGV4cG9zZWRIZWxwZXJzXG4gICAgICApO1xuXG4gICAgICBpZiAocmVzdWx0ID09PSB0cnVlKSB7XG4gICAgICAgIGJ1aWxkKGVsLCBwYXRoID8gcGF0aC5jb25jYXQoa2V5KSA6IFtrZXldKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHN0YWNrLnBvcCgpO1xuICB9XG5cbiAgaWYgKCF1dGlscyQxLmlzT2JqZWN0KG9iaikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdkYXRhIG11c3QgYmUgYW4gb2JqZWN0Jyk7XG4gIH1cblxuICBidWlsZChvYmopO1xuXG4gIHJldHVybiBmb3JtRGF0YTtcbn1cblxuLyoqXG4gKiBJdCBlbmNvZGVzIGEgc3RyaW5nIGJ5IHJlcGxhY2luZyBhbGwgY2hhcmFjdGVycyB0aGF0IGFyZSBub3QgaW4gdGhlIHVucmVzZXJ2ZWQgc2V0IHdpdGhcbiAqIHRoZWlyIHBlcmNlbnQtZW5jb2RlZCBlcXVpdmFsZW50c1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgLSBUaGUgc3RyaW5nIHRvIGVuY29kZS5cbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZW5jb2RlZCBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGVuY29kZSQxKHN0cikge1xuICBjb25zdCBjaGFyTWFwID0ge1xuICAgICchJzogJyUyMScsXG4gICAgXCInXCI6ICclMjcnLFxuICAgICcoJzogJyUyOCcsXG4gICAgJyknOiAnJTI5JyxcbiAgICAnfic6ICclN0UnLFxuICAgICclMjAnOiAnKycsXG4gICAgJyUwMCc6ICdcXHgwMCdcbiAgfTtcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHIpLnJlcGxhY2UoL1shJygpfl18JTIwfCUwMC9nLCBmdW5jdGlvbiByZXBsYWNlcihtYXRjaCkge1xuICAgIHJldHVybiBjaGFyTWFwW21hdGNoXTtcbiAgfSk7XG59XG5cbi8qKlxuICogSXQgdGFrZXMgYSBwYXJhbXMgb2JqZWN0IGFuZCBjb252ZXJ0cyBpdCB0byBhIEZvcm1EYXRhIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0PHN0cmluZywgYW55Pn0gcGFyYW1zIC0gVGhlIHBhcmFtZXRlcnMgdG8gYmUgY29udmVydGVkIHRvIGEgRm9ybURhdGEgb2JqZWN0LlxuICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCBhbnk+fSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgb2JqZWN0IHBhc3NlZCB0byB0aGUgQXhpb3MgY29uc3RydWN0b3IuXG4gKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIEF4aW9zVVJMU2VhcmNoUGFyYW1zKHBhcmFtcywgb3B0aW9ucykge1xuICB0aGlzLl9wYWlycyA9IFtdO1xuXG4gIHBhcmFtcyAmJiB0b0Zvcm1EYXRhKHBhcmFtcywgdGhpcywgb3B0aW9ucyk7XG59XG5cbmNvbnN0IHByb3RvdHlwZSA9IEF4aW9zVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZTtcblxucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIGFwcGVuZChuYW1lLCB2YWx1ZSkge1xuICB0aGlzLl9wYWlycy5wdXNoKFtuYW1lLCB2YWx1ZV0pO1xufTtcblxucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoZW5jb2Rlcikge1xuICBjb25zdCBfZW5jb2RlID0gZW5jb2RlciA/IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGVuY29kZXIuY2FsbCh0aGlzLCB2YWx1ZSwgZW5jb2RlJDEpO1xuICB9IDogZW5jb2RlJDE7XG5cbiAgcmV0dXJuIHRoaXMuX3BhaXJzLm1hcChmdW5jdGlvbiBlYWNoKHBhaXIpIHtcbiAgICByZXR1cm4gX2VuY29kZShwYWlyWzBdKSArICc9JyArIF9lbmNvZGUocGFpclsxXSk7XG4gIH0sICcnKS5qb2luKCcmJyk7XG59O1xuXG4vKipcbiAqIEl0IHJlcGxhY2VzIGFsbCBpbnN0YW5jZXMgb2YgdGhlIGNoYXJhY3RlcnMgYDpgLCBgJGAsIGAsYCwgYCtgLCBgW2AsIGFuZCBgXWAgd2l0aCB0aGVpclxuICogVVJJIGVuY29kZWQgY291bnRlcnBhcnRzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHZhbCBUaGUgdmFsdWUgdG8gYmUgZW5jb2RlZC5cbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZW5jb2RlZCB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gZW5jb2RlKHZhbCkge1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHZhbCkuXG4gICAgcmVwbGFjZSgvJTNBL2dpLCAnOicpLlxuICAgIHJlcGxhY2UoLyUyNC9nLCAnJCcpLlxuICAgIHJlcGxhY2UoLyUyQy9naSwgJywnKS5cbiAgICByZXBsYWNlKC8lMjAvZywgJysnKS5cbiAgICByZXBsYWNlKC8lNUIvZ2ksICdbJykuXG4gICAgcmVwbGFjZSgvJTVEL2dpLCAnXScpO1xufVxuXG4vKipcbiAqIEJ1aWxkIGEgVVJMIGJ5IGFwcGVuZGluZyBwYXJhbXMgdG8gdGhlIGVuZFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIGJhc2Ugb2YgdGhlIHVybCAoZS5nLiwgaHR0cDovL3d3dy5nb29nbGUuY29tKVxuICogQHBhcmFtIHtvYmplY3R9IFtwYXJhbXNdIFRoZSBwYXJhbXMgdG8gYmUgYXBwZW5kZWRcbiAqIEBwYXJhbSB7P29iamVjdH0gb3B0aW9uc1xuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBmb3JtYXR0ZWQgdXJsXG4gKi9cbmZ1bmN0aW9uIGJ1aWxkVVJMKHVybCwgcGFyYW1zLCBvcHRpb25zKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICBpZiAoIXBhcmFtcykge1xuICAgIHJldHVybiB1cmw7XG4gIH1cbiAgXG4gIGNvbnN0IF9lbmNvZGUgPSBvcHRpb25zICYmIG9wdGlvbnMuZW5jb2RlIHx8IGVuY29kZTtcblxuICBjb25zdCBzZXJpYWxpemVGbiA9IG9wdGlvbnMgJiYgb3B0aW9ucy5zZXJpYWxpemU7XG5cbiAgbGV0IHNlcmlhbGl6ZWRQYXJhbXM7XG5cbiAgaWYgKHNlcmlhbGl6ZUZuKSB7XG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHNlcmlhbGl6ZUZuKHBhcmFtcywgb3B0aW9ucyk7XG4gIH0gZWxzZSB7XG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHV0aWxzJDEuaXNVUkxTZWFyY2hQYXJhbXMocGFyYW1zKSA/XG4gICAgICBwYXJhbXMudG9TdHJpbmcoKSA6XG4gICAgICBuZXcgQXhpb3NVUkxTZWFyY2hQYXJhbXMocGFyYW1zLCBvcHRpb25zKS50b1N0cmluZyhfZW5jb2RlKTtcbiAgfVxuXG4gIGlmIChzZXJpYWxpemVkUGFyYW1zKSB7XG4gICAgY29uc3QgaGFzaG1hcmtJbmRleCA9IHVybC5pbmRleE9mKFwiI1wiKTtcblxuICAgIGlmIChoYXNobWFya0luZGV4ICE9PSAtMSkge1xuICAgICAgdXJsID0gdXJsLnNsaWNlKDAsIGhhc2htYXJrSW5kZXgpO1xuICAgIH1cbiAgICB1cmwgKz0gKHVybC5pbmRleE9mKCc/JykgPT09IC0xID8gJz8nIDogJyYnKSArIHNlcmlhbGl6ZWRQYXJhbXM7XG4gIH1cblxuICByZXR1cm4gdXJsO1xufVxuXG5jbGFzcyBJbnRlcmNlcHRvck1hbmFnZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmhhbmRsZXJzID0gW107XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgbmV3IGludGVyY2VwdG9yIHRvIHRoZSBzdGFja1xuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdWxmaWxsZWQgVGhlIGZ1bmN0aW9uIHRvIGhhbmRsZSBgdGhlbmAgZm9yIGEgYFByb21pc2VgXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHJlamVjdGVkIFRoZSBmdW5jdGlvbiB0byBoYW5kbGUgYHJlamVjdGAgZm9yIGEgYFByb21pc2VgXG4gICAqXG4gICAqIEByZXR1cm4ge051bWJlcn0gQW4gSUQgdXNlZCB0byByZW1vdmUgaW50ZXJjZXB0b3IgbGF0ZXJcbiAgICovXG4gIHVzZShmdWxmaWxsZWQsIHJlamVjdGVkLCBvcHRpb25zKSB7XG4gICAgdGhpcy5oYW5kbGVycy5wdXNoKHtcbiAgICAgIGZ1bGZpbGxlZCxcbiAgICAgIHJlamVjdGVkLFxuICAgICAgc3luY2hyb25vdXM6IG9wdGlvbnMgPyBvcHRpb25zLnN5bmNocm9ub3VzIDogZmFsc2UsXG4gICAgICBydW5XaGVuOiBvcHRpb25zID8gb3B0aW9ucy5ydW5XaGVuIDogbnVsbFxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLmhhbmRsZXJzLmxlbmd0aCAtIDE7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGFuIGludGVyY2VwdG9yIGZyb20gdGhlIHN0YWNrXG4gICAqXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBpZCBUaGUgSUQgdGhhdCB3YXMgcmV0dXJuZWQgYnkgYHVzZWBcbiAgICpcbiAgICogQHJldHVybnMge0Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgaW50ZXJjZXB0b3Igd2FzIHJlbW92ZWQsIGBmYWxzZWAgb3RoZXJ3aXNlXG4gICAqL1xuICBlamVjdChpZCkge1xuICAgIGlmICh0aGlzLmhhbmRsZXJzW2lkXSkge1xuICAgICAgdGhpcy5oYW5kbGVyc1tpZF0gPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhciBhbGwgaW50ZXJjZXB0b3JzIGZyb20gdGhlIHN0YWNrXG4gICAqXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgY2xlYXIoKSB7XG4gICAgaWYgKHRoaXMuaGFuZGxlcnMpIHtcbiAgICAgIHRoaXMuaGFuZGxlcnMgPSBbXTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSXRlcmF0ZSBvdmVyIGFsbCB0aGUgcmVnaXN0ZXJlZCBpbnRlcmNlcHRvcnNcbiAgICpcbiAgICogVGhpcyBtZXRob2QgaXMgcGFydGljdWxhcmx5IHVzZWZ1bCBmb3Igc2tpcHBpbmcgb3ZlciBhbnlcbiAgICogaW50ZXJjZXB0b3JzIHRoYXQgbWF5IGhhdmUgYmVjb21lIGBudWxsYCBjYWxsaW5nIGBlamVjdGAuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIGludGVyY2VwdG9yXG4gICAqXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgZm9yRWFjaChmbikge1xuICAgIHV0aWxzJDEuZm9yRWFjaCh0aGlzLmhhbmRsZXJzLCBmdW5jdGlvbiBmb3JFYWNoSGFuZGxlcihoKSB7XG4gICAgICBpZiAoaCAhPT0gbnVsbCkge1xuICAgICAgICBmbihoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG52YXIgSW50ZXJjZXB0b3JNYW5hZ2VyJDEgPSBJbnRlcmNlcHRvck1hbmFnZXI7XG5cbnZhciB0cmFuc2l0aW9uYWxEZWZhdWx0cyA9IHtcbiAgc2lsZW50SlNPTlBhcnNpbmc6IHRydWUsXG4gIGZvcmNlZEpTT05QYXJzaW5nOiB0cnVlLFxuICBjbGFyaWZ5VGltZW91dEVycm9yOiBmYWxzZVxufTtcblxudmFyIFVSTFNlYXJjaFBhcmFtcyQxID0gdHlwZW9mIFVSTFNlYXJjaFBhcmFtcyAhPT0gJ3VuZGVmaW5lZCcgPyBVUkxTZWFyY2hQYXJhbXMgOiBBeGlvc1VSTFNlYXJjaFBhcmFtcztcblxudmFyIEZvcm1EYXRhJDEgPSB0eXBlb2YgRm9ybURhdGEgIT09ICd1bmRlZmluZWQnID8gRm9ybURhdGEgOiBudWxsO1xuXG52YXIgQmxvYiQxID0gdHlwZW9mIEJsb2IgIT09ICd1bmRlZmluZWQnID8gQmxvYiA6IG51bGw7XG5cbnZhciBwbGF0Zm9ybSQxID0ge1xuICBpc0Jyb3dzZXI6IHRydWUsXG4gIGNsYXNzZXM6IHtcbiAgICBVUkxTZWFyY2hQYXJhbXM6IFVSTFNlYXJjaFBhcmFtcyQxLFxuICAgIEZvcm1EYXRhOiBGb3JtRGF0YSQxLFxuICAgIEJsb2I6IEJsb2IkMVxuICB9LFxuICBwcm90b2NvbHM6IFsnaHR0cCcsICdodHRwcycsICdmaWxlJywgJ2Jsb2InLCAndXJsJywgJ2RhdGEnXVxufTtcblxuY29uc3QgaGFzQnJvd3NlckVudiA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCc7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gYSBzdGFuZGFyZCBicm93c2VyIGVudmlyb25tZW50XG4gKlxuICogVGhpcyBhbGxvd3MgYXhpb3MgdG8gcnVuIGluIGEgd2ViIHdvcmtlciwgYW5kIHJlYWN0LW5hdGl2ZS5cbiAqIEJvdGggZW52aXJvbm1lbnRzIHN1cHBvcnQgWE1MSHR0cFJlcXVlc3QsIGJ1dCBub3QgZnVsbHkgc3RhbmRhcmQgZ2xvYmFscy5cbiAqXG4gKiB3ZWIgd29ya2VyczpcbiAqICB0eXBlb2Ygd2luZG93IC0+IHVuZGVmaW5lZFxuICogIHR5cGVvZiBkb2N1bWVudCAtPiB1bmRlZmluZWRcbiAqXG4gKiByZWFjdC1uYXRpdmU6XG4gKiAgbmF2aWdhdG9yLnByb2R1Y3QgLT4gJ1JlYWN0TmF0aXZlJ1xuICogbmF0aXZlc2NyaXB0XG4gKiAgbmF2aWdhdG9yLnByb2R1Y3QgLT4gJ05hdGl2ZVNjcmlwdCcgb3IgJ05TJ1xuICpcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5jb25zdCBoYXNTdGFuZGFyZEJyb3dzZXJFbnYgPSAoXG4gIChwcm9kdWN0KSA9PiB7XG4gICAgcmV0dXJuIGhhc0Jyb3dzZXJFbnYgJiYgWydSZWFjdE5hdGl2ZScsICdOYXRpdmVTY3JpcHQnLCAnTlMnXS5pbmRleE9mKHByb2R1Y3QpIDwgMFxuICB9KSh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IucHJvZHVjdCk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gYSBzdGFuZGFyZCBicm93c2VyIHdlYldvcmtlciBlbnZpcm9ubWVudFxuICpcbiAqIEFsdGhvdWdoIHRoZSBgaXNTdGFuZGFyZEJyb3dzZXJFbnZgIG1ldGhvZCBpbmRpY2F0ZXMgdGhhdFxuICogYGFsbG93cyBheGlvcyB0byBydW4gaW4gYSB3ZWIgd29ya2VyYCwgdGhlIFdlYldvcmtlciB3aWxsIHN0aWxsIGJlXG4gKiBmaWx0ZXJlZCBvdXQgZHVlIHRvIGl0cyBqdWRnbWVudCBzdGFuZGFyZFxuICogYHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCdgLlxuICogVGhpcyBsZWFkcyB0byBhIHByb2JsZW0gd2hlbiBheGlvcyBwb3N0IGBGb3JtRGF0YWAgaW4gd2ViV29ya2VyXG4gKi9cbmNvbnN0IGhhc1N0YW5kYXJkQnJvd3NlcldlYldvcmtlckVudiA9ICgoKSA9PiB7XG4gIHJldHVybiAoXG4gICAgdHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgIHNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZSAmJlxuICAgIHR5cGVvZiBzZWxmLmltcG9ydFNjcmlwdHMgPT09ICdmdW5jdGlvbidcbiAgKTtcbn0pKCk7XG5cbmNvbnN0IG9yaWdpbiA9IGhhc0Jyb3dzZXJFbnYgJiYgd2luZG93LmxvY2F0aW9uLmhyZWYgfHwgJ2h0dHA6Ly9sb2NhbGhvc3QnO1xuXG52YXIgdXRpbHMgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gIF9fcHJvdG9fXzogbnVsbCxcbiAgaGFzQnJvd3NlckVudjogaGFzQnJvd3NlckVudixcbiAgaGFzU3RhbmRhcmRCcm93c2VyV2ViV29ya2VyRW52OiBoYXNTdGFuZGFyZEJyb3dzZXJXZWJXb3JrZXJFbnYsXG4gIGhhc1N0YW5kYXJkQnJvd3NlckVudjogaGFzU3RhbmRhcmRCcm93c2VyRW52LFxuICBvcmlnaW46IG9yaWdpblxufSk7XG5cbnZhciBwbGF0Zm9ybSA9IHtcbiAgLi4udXRpbHMsXG4gIC4uLnBsYXRmb3JtJDFcbn07XG5cbmZ1bmN0aW9uIHRvVVJMRW5jb2RlZEZvcm0oZGF0YSwgb3B0aW9ucykge1xuICByZXR1cm4gdG9Gb3JtRGF0YShkYXRhLCBuZXcgcGxhdGZvcm0uY2xhc3Nlcy5VUkxTZWFyY2hQYXJhbXMoKSwgT2JqZWN0LmFzc2lnbih7XG4gICAgdmlzaXRvcjogZnVuY3Rpb24odmFsdWUsIGtleSwgcGF0aCwgaGVscGVycykge1xuICAgICAgaWYgKHBsYXRmb3JtLmlzTm9kZSAmJiB1dGlscyQxLmlzQnVmZmVyKHZhbHVlKSkge1xuICAgICAgICB0aGlzLmFwcGVuZChrZXksIHZhbHVlLnRvU3RyaW5nKCdiYXNlNjQnKSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGhlbHBlcnMuZGVmYXVsdFZpc2l0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gIH0sIG9wdGlvbnMpKTtcbn1cblxuLyoqXG4gKiBJdCB0YWtlcyBhIHN0cmluZyBsaWtlIGBmb29beF1beV1bel1gIGFuZCByZXR1cm5zIGFuIGFycmF5IGxpa2UgYFsnZm9vJywgJ3gnLCAneScsICd6J11cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKlxuICogQHJldHVybnMgQW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAqL1xuZnVuY3Rpb24gcGFyc2VQcm9wUGF0aChuYW1lKSB7XG4gIC8vIGZvb1t4XVt5XVt6XVxuICAvLyBmb28ueC55LnpcbiAgLy8gZm9vLXgteS16XG4gIC8vIGZvbyB4IHkgelxuICByZXR1cm4gdXRpbHMkMS5tYXRjaEFsbCgvXFx3K3xcXFsoXFx3KildL2csIG5hbWUpLm1hcChtYXRjaCA9PiB7XG4gICAgcmV0dXJuIG1hdGNoWzBdID09PSAnW10nID8gJycgOiBtYXRjaFsxXSB8fCBtYXRjaFswXTtcbiAgfSk7XG59XG5cbi8qKlxuICogQ29udmVydCBhbiBhcnJheSB0byBhbiBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtBcnJheTxhbnk+fSBhcnIgLSBUaGUgYXJyYXkgdG8gY29udmVydCB0byBhbiBvYmplY3QuXG4gKlxuICogQHJldHVybnMgQW4gb2JqZWN0IHdpdGggdGhlIHNhbWUga2V5cyBhbmQgdmFsdWVzIGFzIHRoZSBhcnJheS5cbiAqL1xuZnVuY3Rpb24gYXJyYXlUb09iamVjdChhcnIpIHtcbiAgY29uc3Qgb2JqID0ge307XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhhcnIpO1xuICBsZXQgaTtcbiAgY29uc3QgbGVuID0ga2V5cy5sZW5ndGg7XG4gIGxldCBrZXk7XG4gIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGtleSA9IGtleXNbaV07XG4gICAgb2JqW2tleV0gPSBhcnJba2V5XTtcbiAgfVxuICByZXR1cm4gb2JqO1xufVxuXG4vKipcbiAqIEl0IHRha2VzIGEgRm9ybURhdGEgb2JqZWN0IGFuZCByZXR1cm5zIGEgSmF2YVNjcmlwdCBvYmplY3RcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gZm9ybURhdGEgVGhlIEZvcm1EYXRhIG9iamVjdCB0byBjb252ZXJ0IHRvIEpTT04uXG4gKlxuICogQHJldHVybnMge09iamVjdDxzdHJpbmcsIGFueT4gfCBudWxsfSBUaGUgY29udmVydGVkIG9iamVjdC5cbiAqL1xuZnVuY3Rpb24gZm9ybURhdGFUb0pTT04oZm9ybURhdGEpIHtcbiAgZnVuY3Rpb24gYnVpbGRQYXRoKHBhdGgsIHZhbHVlLCB0YXJnZXQsIGluZGV4KSB7XG4gICAgbGV0IG5hbWUgPSBwYXRoW2luZGV4KytdO1xuXG4gICAgaWYgKG5hbWUgPT09ICdfX3Byb3RvX18nKSByZXR1cm4gdHJ1ZTtcblxuICAgIGNvbnN0IGlzTnVtZXJpY0tleSA9IE51bWJlci5pc0Zpbml0ZSgrbmFtZSk7XG4gICAgY29uc3QgaXNMYXN0ID0gaW5kZXggPj0gcGF0aC5sZW5ndGg7XG4gICAgbmFtZSA9ICFuYW1lICYmIHV0aWxzJDEuaXNBcnJheSh0YXJnZXQpID8gdGFyZ2V0Lmxlbmd0aCA6IG5hbWU7XG5cbiAgICBpZiAoaXNMYXN0KSB7XG4gICAgICBpZiAodXRpbHMkMS5oYXNPd25Qcm9wKHRhcmdldCwgbmFtZSkpIHtcbiAgICAgICAgdGFyZ2V0W25hbWVdID0gW3RhcmdldFtuYW1lXSwgdmFsdWVdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0W25hbWVdID0gdmFsdWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAhaXNOdW1lcmljS2V5O1xuICAgIH1cblxuICAgIGlmICghdGFyZ2V0W25hbWVdIHx8ICF1dGlscyQxLmlzT2JqZWN0KHRhcmdldFtuYW1lXSkpIHtcbiAgICAgIHRhcmdldFtuYW1lXSA9IFtdO1xuICAgIH1cblxuICAgIGNvbnN0IHJlc3VsdCA9IGJ1aWxkUGF0aChwYXRoLCB2YWx1ZSwgdGFyZ2V0W25hbWVdLCBpbmRleCk7XG5cbiAgICBpZiAocmVzdWx0ICYmIHV0aWxzJDEuaXNBcnJheSh0YXJnZXRbbmFtZV0pKSB7XG4gICAgICB0YXJnZXRbbmFtZV0gPSBhcnJheVRvT2JqZWN0KHRhcmdldFtuYW1lXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuICFpc051bWVyaWNLZXk7XG4gIH1cblxuICBpZiAodXRpbHMkMS5pc0Zvcm1EYXRhKGZvcm1EYXRhKSAmJiB1dGlscyQxLmlzRnVuY3Rpb24oZm9ybURhdGEuZW50cmllcykpIHtcbiAgICBjb25zdCBvYmogPSB7fTtcblxuICAgIHV0aWxzJDEuZm9yRWFjaEVudHJ5KGZvcm1EYXRhLCAobmFtZSwgdmFsdWUpID0+IHtcbiAgICAgIGJ1aWxkUGF0aChwYXJzZVByb3BQYXRoKG5hbWUpLCB2YWx1ZSwgb2JqLCAwKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBJdCB0YWtlcyBhIHN0cmluZywgdHJpZXMgdG8gcGFyc2UgaXQsIGFuZCBpZiBpdCBmYWlscywgaXQgcmV0dXJucyB0aGUgc3RyaW5naWZpZWQgdmVyc2lvblxuICogb2YgdGhlIGlucHV0XG4gKlxuICogQHBhcmFtIHthbnl9IHJhd1ZhbHVlIC0gVGhlIHZhbHVlIHRvIGJlIHN0cmluZ2lmaWVkLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcGFyc2VyIC0gQSBmdW5jdGlvbiB0aGF0IHBhcnNlcyBhIHN0cmluZyBpbnRvIGEgSmF2YVNjcmlwdCBvYmplY3QuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlbmNvZGVyIC0gQSBmdW5jdGlvbiB0aGF0IHRha2VzIGEgdmFsdWUgYW5kIHJldHVybnMgYSBzdHJpbmcuXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gQSBzdHJpbmdpZmllZCB2ZXJzaW9uIG9mIHRoZSByYXdWYWx1ZS5cbiAqL1xuZnVuY3Rpb24gc3RyaW5naWZ5U2FmZWx5KHJhd1ZhbHVlLCBwYXJzZXIsIGVuY29kZXIpIHtcbiAgaWYgKHV0aWxzJDEuaXNTdHJpbmcocmF3VmFsdWUpKSB7XG4gICAgdHJ5IHtcbiAgICAgIChwYXJzZXIgfHwgSlNPTi5wYXJzZSkocmF3VmFsdWUpO1xuICAgICAgcmV0dXJuIHV0aWxzJDEudHJpbShyYXdWYWx1ZSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgaWYgKGUubmFtZSAhPT0gJ1N5bnRheEVycm9yJykge1xuICAgICAgICB0aHJvdyBlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiAoZW5jb2RlciB8fCBKU09OLnN0cmluZ2lmeSkocmF3VmFsdWUpO1xufVxuXG5jb25zdCBkZWZhdWx0cyA9IHtcblxuICB0cmFuc2l0aW9uYWw6IHRyYW5zaXRpb25hbERlZmF1bHRzLFxuXG4gIGFkYXB0ZXI6IFsneGhyJywgJ2h0dHAnLCAnZmV0Y2gnXSxcblxuICB0cmFuc2Zvcm1SZXF1ZXN0OiBbZnVuY3Rpb24gdHJhbnNmb3JtUmVxdWVzdChkYXRhLCBoZWFkZXJzKSB7XG4gICAgY29uc3QgY29udGVudFR5cGUgPSBoZWFkZXJzLmdldENvbnRlbnRUeXBlKCkgfHwgJyc7XG4gICAgY29uc3QgaGFzSlNPTkNvbnRlbnRUeXBlID0gY29udGVudFR5cGUuaW5kZXhPZignYXBwbGljYXRpb24vanNvbicpID4gLTE7XG4gICAgY29uc3QgaXNPYmplY3RQYXlsb2FkID0gdXRpbHMkMS5pc09iamVjdChkYXRhKTtcblxuICAgIGlmIChpc09iamVjdFBheWxvYWQgJiYgdXRpbHMkMS5pc0hUTUxGb3JtKGRhdGEpKSB7XG4gICAgICBkYXRhID0gbmV3IEZvcm1EYXRhKGRhdGEpO1xuICAgIH1cblxuICAgIGNvbnN0IGlzRm9ybURhdGEgPSB1dGlscyQxLmlzRm9ybURhdGEoZGF0YSk7XG5cbiAgICBpZiAoaXNGb3JtRGF0YSkge1xuICAgICAgcmV0dXJuIGhhc0pTT05Db250ZW50VHlwZSA/IEpTT04uc3RyaW5naWZ5KGZvcm1EYXRhVG9KU09OKGRhdGEpKSA6IGRhdGE7XG4gICAgfVxuXG4gICAgaWYgKHV0aWxzJDEuaXNBcnJheUJ1ZmZlcihkYXRhKSB8fFxuICAgICAgdXRpbHMkMS5pc0J1ZmZlcihkYXRhKSB8fFxuICAgICAgdXRpbHMkMS5pc1N0cmVhbShkYXRhKSB8fFxuICAgICAgdXRpbHMkMS5pc0ZpbGUoZGF0YSkgfHxcbiAgICAgIHV0aWxzJDEuaXNCbG9iKGRhdGEpIHx8XG4gICAgICB1dGlscyQxLmlzUmVhZGFibGVTdHJlYW0oZGF0YSlcbiAgICApIHtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgICBpZiAodXRpbHMkMS5pc0FycmF5QnVmZmVyVmlldyhkYXRhKSkge1xuICAgICAgcmV0dXJuIGRhdGEuYnVmZmVyO1xuICAgIH1cbiAgICBpZiAodXRpbHMkMS5pc1VSTFNlYXJjaFBhcmFtcyhkYXRhKSkge1xuICAgICAgaGVhZGVycy5zZXRDb250ZW50VHlwZSgnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9dXRmLTgnLCBmYWxzZSk7XG4gICAgICByZXR1cm4gZGF0YS50b1N0cmluZygpO1xuICAgIH1cblxuICAgIGxldCBpc0ZpbGVMaXN0O1xuXG4gICAgaWYgKGlzT2JqZWN0UGF5bG9hZCkge1xuICAgICAgaWYgKGNvbnRlbnRUeXBlLmluZGV4T2YoJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcpID4gLTEpIHtcbiAgICAgICAgcmV0dXJuIHRvVVJMRW5jb2RlZEZvcm0oZGF0YSwgdGhpcy5mb3JtU2VyaWFsaXplcikudG9TdHJpbmcoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKChpc0ZpbGVMaXN0ID0gdXRpbHMkMS5pc0ZpbGVMaXN0KGRhdGEpKSB8fCBjb250ZW50VHlwZS5pbmRleE9mKCdtdWx0aXBhcnQvZm9ybS1kYXRhJykgPiAtMSkge1xuICAgICAgICBjb25zdCBfRm9ybURhdGEgPSB0aGlzLmVudiAmJiB0aGlzLmVudi5Gb3JtRGF0YTtcblxuICAgICAgICByZXR1cm4gdG9Gb3JtRGF0YShcbiAgICAgICAgICBpc0ZpbGVMaXN0ID8geydmaWxlc1tdJzogZGF0YX0gOiBkYXRhLFxuICAgICAgICAgIF9Gb3JtRGF0YSAmJiBuZXcgX0Zvcm1EYXRhKCksXG4gICAgICAgICAgdGhpcy5mb3JtU2VyaWFsaXplclxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpc09iamVjdFBheWxvYWQgfHwgaGFzSlNPTkNvbnRlbnRUeXBlICkge1xuICAgICAgaGVhZGVycy5zZXRDb250ZW50VHlwZSgnYXBwbGljYXRpb24vanNvbicsIGZhbHNlKTtcbiAgICAgIHJldHVybiBzdHJpbmdpZnlTYWZlbHkoZGF0YSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH1dLFxuXG4gIHRyYW5zZm9ybVJlc3BvbnNlOiBbZnVuY3Rpb24gdHJhbnNmb3JtUmVzcG9uc2UoZGF0YSkge1xuICAgIGNvbnN0IHRyYW5zaXRpb25hbCA9IHRoaXMudHJhbnNpdGlvbmFsIHx8IGRlZmF1bHRzLnRyYW5zaXRpb25hbDtcbiAgICBjb25zdCBmb3JjZWRKU09OUGFyc2luZyA9IHRyYW5zaXRpb25hbCAmJiB0cmFuc2l0aW9uYWwuZm9yY2VkSlNPTlBhcnNpbmc7XG4gICAgY29uc3QgSlNPTlJlcXVlc3RlZCA9IHRoaXMucmVzcG9uc2VUeXBlID09PSAnanNvbic7XG5cbiAgICBpZiAodXRpbHMkMS5pc1Jlc3BvbnNlKGRhdGEpIHx8IHV0aWxzJDEuaXNSZWFkYWJsZVN0cmVhbShkYXRhKSkge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgaWYgKGRhdGEgJiYgdXRpbHMkMS5pc1N0cmluZyhkYXRhKSAmJiAoKGZvcmNlZEpTT05QYXJzaW5nICYmICF0aGlzLnJlc3BvbnNlVHlwZSkgfHwgSlNPTlJlcXVlc3RlZCkpIHtcbiAgICAgIGNvbnN0IHNpbGVudEpTT05QYXJzaW5nID0gdHJhbnNpdGlvbmFsICYmIHRyYW5zaXRpb25hbC5zaWxlbnRKU09OUGFyc2luZztcbiAgICAgIGNvbnN0IHN0cmljdEpTT05QYXJzaW5nID0gIXNpbGVudEpTT05QYXJzaW5nICYmIEpTT05SZXF1ZXN0ZWQ7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoc3RyaWN0SlNPTlBhcnNpbmcpIHtcbiAgICAgICAgICBpZiAoZS5uYW1lID09PSAnU3ludGF4RXJyb3InKSB7XG4gICAgICAgICAgICB0aHJvdyBBeGlvc0Vycm9yLmZyb20oZSwgQXhpb3NFcnJvci5FUlJfQkFEX1JFU1BPTlNFLCB0aGlzLCBudWxsLCB0aGlzLnJlc3BvbnNlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkYXRhO1xuICB9XSxcblxuICAvKipcbiAgICogQSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyB0byBhYm9ydCBhIHJlcXVlc3QuIElmIHNldCB0byAwIChkZWZhdWx0KSBhXG4gICAqIHRpbWVvdXQgaXMgbm90IGNyZWF0ZWQuXG4gICAqL1xuICB0aW1lb3V0OiAwLFxuXG4gIHhzcmZDb29raWVOYW1lOiAnWFNSRi1UT0tFTicsXG4gIHhzcmZIZWFkZXJOYW1lOiAnWC1YU1JGLVRPS0VOJyxcblxuICBtYXhDb250ZW50TGVuZ3RoOiAtMSxcbiAgbWF4Qm9keUxlbmd0aDogLTEsXG5cbiAgZW52OiB7XG4gICAgRm9ybURhdGE6IHBsYXRmb3JtLmNsYXNzZXMuRm9ybURhdGEsXG4gICAgQmxvYjogcGxhdGZvcm0uY2xhc3Nlcy5CbG9iXG4gIH0sXG5cbiAgdmFsaWRhdGVTdGF0dXM6IGZ1bmN0aW9uIHZhbGlkYXRlU3RhdHVzKHN0YXR1cykge1xuICAgIHJldHVybiBzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDMwMDtcbiAgfSxcblxuICBoZWFkZXJzOiB7XG4gICAgY29tbW9uOiB7XG4gICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKicsXG4gICAgICAnQ29udGVudC1UeXBlJzogdW5kZWZpbmVkXG4gICAgfVxuICB9XG59O1xuXG51dGlscyQxLmZvckVhY2goWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAncG9zdCcsICdwdXQnLCAncGF0Y2gnXSwgKG1ldGhvZCkgPT4ge1xuICBkZWZhdWx0cy5oZWFkZXJzW21ldGhvZF0gPSB7fTtcbn0pO1xuXG52YXIgZGVmYXVsdHMkMSA9IGRlZmF1bHRzO1xuXG4vLyBSYXdBeGlvc0hlYWRlcnMgd2hvc2UgZHVwbGljYXRlcyBhcmUgaWdub3JlZCBieSBub2RlXG4vLyBjLmYuIGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvaHR0cC5odG1sI2h0dHBfbWVzc2FnZV9oZWFkZXJzXG5jb25zdCBpZ25vcmVEdXBsaWNhdGVPZiA9IHV0aWxzJDEudG9PYmplY3RTZXQoW1xuICAnYWdlJywgJ2F1dGhvcml6YXRpb24nLCAnY29udGVudC1sZW5ndGgnLCAnY29udGVudC10eXBlJywgJ2V0YWcnLFxuICAnZXhwaXJlcycsICdmcm9tJywgJ2hvc3QnLCAnaWYtbW9kaWZpZWQtc2luY2UnLCAnaWYtdW5tb2RpZmllZC1zaW5jZScsXG4gICdsYXN0LW1vZGlmaWVkJywgJ2xvY2F0aW9uJywgJ21heC1mb3J3YXJkcycsICdwcm94eS1hdXRob3JpemF0aW9uJyxcbiAgJ3JlZmVyZXInLCAncmV0cnktYWZ0ZXInLCAndXNlci1hZ2VudCdcbl0pO1xuXG4vKipcbiAqIFBhcnNlIGhlYWRlcnMgaW50byBhbiBvYmplY3RcbiAqXG4gKiBgYGBcbiAqIERhdGU6IFdlZCwgMjcgQXVnIDIwMTQgMDg6NTg6NDkgR01UXG4gKiBDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb25cbiAqIENvbm5lY3Rpb246IGtlZXAtYWxpdmVcbiAqIFRyYW5zZmVyLUVuY29kaW5nOiBjaHVua2VkXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gcmF3SGVhZGVycyBIZWFkZXJzIG5lZWRpbmcgdG8gYmUgcGFyc2VkXG4gKlxuICogQHJldHVybnMge09iamVjdH0gSGVhZGVycyBwYXJzZWQgaW50byBhbiBvYmplY3RcbiAqL1xudmFyIHBhcnNlSGVhZGVycyA9IHJhd0hlYWRlcnMgPT4ge1xuICBjb25zdCBwYXJzZWQgPSB7fTtcbiAgbGV0IGtleTtcbiAgbGV0IHZhbDtcbiAgbGV0IGk7XG5cbiAgcmF3SGVhZGVycyAmJiByYXdIZWFkZXJzLnNwbGl0KCdcXG4nKS5mb3JFYWNoKGZ1bmN0aW9uIHBhcnNlcihsaW5lKSB7XG4gICAgaSA9IGxpbmUuaW5kZXhPZignOicpO1xuICAgIGtleSA9IGxpbmUuc3Vic3RyaW5nKDAsIGkpLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICAgIHZhbCA9IGxpbmUuc3Vic3RyaW5nKGkgKyAxKS50cmltKCk7XG5cbiAgICBpZiAoIWtleSB8fCAocGFyc2VkW2tleV0gJiYgaWdub3JlRHVwbGljYXRlT2Zba2V5XSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoa2V5ID09PSAnc2V0LWNvb2tpZScpIHtcbiAgICAgIGlmIChwYXJzZWRba2V5XSkge1xuICAgICAgICBwYXJzZWRba2V5XS5wdXNoKHZhbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJzZWRba2V5XSA9IFt2YWxdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwYXJzZWRba2V5XSA9IHBhcnNlZFtrZXldID8gcGFyc2VkW2tleV0gKyAnLCAnICsgdmFsIDogdmFsO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHBhcnNlZDtcbn07XG5cbmNvbnN0ICRpbnRlcm5hbHMgPSBTeW1ib2woJ2ludGVybmFscycpO1xuXG5mdW5jdGlvbiBub3JtYWxpemVIZWFkZXIoaGVhZGVyKSB7XG4gIHJldHVybiBoZWFkZXIgJiYgU3RyaW5nKGhlYWRlcikudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVZhbHVlKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PT0gZmFsc2UgfHwgdmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiB1dGlscyQxLmlzQXJyYXkodmFsdWUpID8gdmFsdWUubWFwKG5vcm1hbGl6ZVZhbHVlKSA6IFN0cmluZyh2YWx1ZSk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlVG9rZW5zKHN0cikge1xuICBjb25zdCB0b2tlbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBjb25zdCB0b2tlbnNSRSA9IC8oW15cXHMsOz1dKylcXHMqKD86PVxccyooW14sO10rKSk/L2c7XG4gIGxldCBtYXRjaDtcblxuICB3aGlsZSAoKG1hdGNoID0gdG9rZW5zUkUuZXhlYyhzdHIpKSkge1xuICAgIHRva2Vuc1ttYXRjaFsxXV0gPSBtYXRjaFsyXTtcbiAgfVxuXG4gIHJldHVybiB0b2tlbnM7XG59XG5cbmNvbnN0IGlzVmFsaWRIZWFkZXJOYW1lID0gKHN0cikgPT4gL15bLV9hLXpBLVowLTleYHx+LCEjJCUmJyorLl0rJC8udGVzdChzdHIudHJpbSgpKTtcblxuZnVuY3Rpb24gbWF0Y2hIZWFkZXJWYWx1ZShjb250ZXh0LCB2YWx1ZSwgaGVhZGVyLCBmaWx0ZXIsIGlzSGVhZGVyTmFtZUZpbHRlcikge1xuICBpZiAodXRpbHMkMS5pc0Z1bmN0aW9uKGZpbHRlcikpIHtcbiAgICByZXR1cm4gZmlsdGVyLmNhbGwodGhpcywgdmFsdWUsIGhlYWRlcik7XG4gIH1cblxuICBpZiAoaXNIZWFkZXJOYW1lRmlsdGVyKSB7XG4gICAgdmFsdWUgPSBoZWFkZXI7XG4gIH1cblxuICBpZiAoIXV0aWxzJDEuaXNTdHJpbmcodmFsdWUpKSByZXR1cm47XG5cbiAgaWYgKHV0aWxzJDEuaXNTdHJpbmcoZmlsdGVyKSkge1xuICAgIHJldHVybiB2YWx1ZS5pbmRleE9mKGZpbHRlcikgIT09IC0xO1xuICB9XG5cbiAgaWYgKHV0aWxzJDEuaXNSZWdFeHAoZmlsdGVyKSkge1xuICAgIHJldHVybiBmaWx0ZXIudGVzdCh2YWx1ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZm9ybWF0SGVhZGVyKGhlYWRlcikge1xuICByZXR1cm4gaGVhZGVyLnRyaW0oKVxuICAgIC50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLyhbYS16XFxkXSkoXFx3KikvZywgKHcsIGNoYXIsIHN0cikgPT4ge1xuICAgICAgcmV0dXJuIGNoYXIudG9VcHBlckNhc2UoKSArIHN0cjtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gYnVpbGRBY2Nlc3NvcnMob2JqLCBoZWFkZXIpIHtcbiAgY29uc3QgYWNjZXNzb3JOYW1lID0gdXRpbHMkMS50b0NhbWVsQ2FzZSgnICcgKyBoZWFkZXIpO1xuXG4gIFsnZ2V0JywgJ3NldCcsICdoYXMnXS5mb3JFYWNoKG1ldGhvZE5hbWUgPT4ge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIG1ldGhvZE5hbWUgKyBhY2Nlc3Nvck5hbWUsIHtcbiAgICAgIHZhbHVlOiBmdW5jdGlvbihhcmcxLCBhcmcyLCBhcmczKSB7XG4gICAgICAgIHJldHVybiB0aGlzW21ldGhvZE5hbWVdLmNhbGwodGhpcywgaGVhZGVyLCBhcmcxLCBhcmcyLCBhcmczKTtcbiAgICAgIH0sXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgfSk7XG59XG5cbmNsYXNzIEF4aW9zSGVhZGVycyB7XG4gIGNvbnN0cnVjdG9yKGhlYWRlcnMpIHtcbiAgICBoZWFkZXJzICYmIHRoaXMuc2V0KGhlYWRlcnMpO1xuICB9XG5cbiAgc2V0KGhlYWRlciwgdmFsdWVPclJld3JpdGUsIHJld3JpdGUpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcblxuICAgIGZ1bmN0aW9uIHNldEhlYWRlcihfdmFsdWUsIF9oZWFkZXIsIF9yZXdyaXRlKSB7XG4gICAgICBjb25zdCBsSGVhZGVyID0gbm9ybWFsaXplSGVhZGVyKF9oZWFkZXIpO1xuXG4gICAgICBpZiAoIWxIZWFkZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdoZWFkZXIgbmFtZSBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZycpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBrZXkgPSB1dGlscyQxLmZpbmRLZXkoc2VsZiwgbEhlYWRlcik7XG5cbiAgICAgIGlmKCFrZXkgfHwgc2VsZltrZXldID09PSB1bmRlZmluZWQgfHwgX3Jld3JpdGUgPT09IHRydWUgfHwgKF9yZXdyaXRlID09PSB1bmRlZmluZWQgJiYgc2VsZltrZXldICE9PSBmYWxzZSkpIHtcbiAgICAgICAgc2VsZltrZXkgfHwgX2hlYWRlcl0gPSBub3JtYWxpemVWYWx1ZShfdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHNldEhlYWRlcnMgPSAoaGVhZGVycywgX3Jld3JpdGUpID0+XG4gICAgICB1dGlscyQxLmZvckVhY2goaGVhZGVycywgKF92YWx1ZSwgX2hlYWRlcikgPT4gc2V0SGVhZGVyKF92YWx1ZSwgX2hlYWRlciwgX3Jld3JpdGUpKTtcblxuICAgIGlmICh1dGlscyQxLmlzUGxhaW5PYmplY3QoaGVhZGVyKSB8fCBoZWFkZXIgaW5zdGFuY2VvZiB0aGlzLmNvbnN0cnVjdG9yKSB7XG4gICAgICBzZXRIZWFkZXJzKGhlYWRlciwgdmFsdWVPclJld3JpdGUpO1xuICAgIH0gZWxzZSBpZih1dGlscyQxLmlzU3RyaW5nKGhlYWRlcikgJiYgKGhlYWRlciA9IGhlYWRlci50cmltKCkpICYmICFpc1ZhbGlkSGVhZGVyTmFtZShoZWFkZXIpKSB7XG4gICAgICBzZXRIZWFkZXJzKHBhcnNlSGVhZGVycyhoZWFkZXIpLCB2YWx1ZU9yUmV3cml0ZSk7XG4gICAgfSBlbHNlIGlmICh1dGlscyQxLmlzSGVhZGVycyhoZWFkZXIpKSB7XG4gICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBoZWFkZXIuZW50cmllcygpKSB7XG4gICAgICAgIHNldEhlYWRlcih2YWx1ZSwga2V5LCByZXdyaXRlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaGVhZGVyICE9IG51bGwgJiYgc2V0SGVhZGVyKHZhbHVlT3JSZXdyaXRlLCBoZWFkZXIsIHJld3JpdGUpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZ2V0KGhlYWRlciwgcGFyc2VyKSB7XG4gICAgaGVhZGVyID0gbm9ybWFsaXplSGVhZGVyKGhlYWRlcik7XG5cbiAgICBpZiAoaGVhZGVyKSB7XG4gICAgICBjb25zdCBrZXkgPSB1dGlscyQxLmZpbmRLZXkodGhpcywgaGVhZGVyKTtcblxuICAgICAgaWYgKGtleSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXNba2V5XTtcblxuICAgICAgICBpZiAoIXBhcnNlcikge1xuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJzZXIgPT09IHRydWUpIHtcbiAgICAgICAgICByZXR1cm4gcGFyc2VUb2tlbnModmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHV0aWxzJDEuaXNGdW5jdGlvbihwYXJzZXIpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcnNlci5jYWxsKHRoaXMsIHZhbHVlLCBrZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHV0aWxzJDEuaXNSZWdFeHAocGFyc2VyKSkge1xuICAgICAgICAgIHJldHVybiBwYXJzZXIuZXhlYyh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdwYXJzZXIgbXVzdCBiZSBib29sZWFufHJlZ2V4cHxmdW5jdGlvbicpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGhhcyhoZWFkZXIsIG1hdGNoZXIpIHtcbiAgICBoZWFkZXIgPSBub3JtYWxpemVIZWFkZXIoaGVhZGVyKTtcblxuICAgIGlmIChoZWFkZXIpIHtcbiAgICAgIGNvbnN0IGtleSA9IHV0aWxzJDEuZmluZEtleSh0aGlzLCBoZWFkZXIpO1xuXG4gICAgICByZXR1cm4gISEoa2V5ICYmIHRoaXNba2V5XSAhPT0gdW5kZWZpbmVkICYmICghbWF0Y2hlciB8fCBtYXRjaEhlYWRlclZhbHVlKHRoaXMsIHRoaXNba2V5XSwga2V5LCBtYXRjaGVyKSkpO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGRlbGV0ZShoZWFkZXIsIG1hdGNoZXIpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBsZXQgZGVsZXRlZCA9IGZhbHNlO1xuXG4gICAgZnVuY3Rpb24gZGVsZXRlSGVhZGVyKF9oZWFkZXIpIHtcbiAgICAgIF9oZWFkZXIgPSBub3JtYWxpemVIZWFkZXIoX2hlYWRlcik7XG5cbiAgICAgIGlmIChfaGVhZGVyKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IHV0aWxzJDEuZmluZEtleShzZWxmLCBfaGVhZGVyKTtcblxuICAgICAgICBpZiAoa2V5ICYmICghbWF0Y2hlciB8fCBtYXRjaEhlYWRlclZhbHVlKHNlbGYsIHNlbGZba2V5XSwga2V5LCBtYXRjaGVyKSkpIHtcbiAgICAgICAgICBkZWxldGUgc2VsZltrZXldO1xuXG4gICAgICAgICAgZGVsZXRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodXRpbHMkMS5pc0FycmF5KGhlYWRlcikpIHtcbiAgICAgIGhlYWRlci5mb3JFYWNoKGRlbGV0ZUhlYWRlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbGV0ZUhlYWRlcihoZWFkZXIpO1xuICAgIH1cblxuICAgIHJldHVybiBkZWxldGVkO1xuICB9XG5cbiAgY2xlYXIobWF0Y2hlcikge1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyh0aGlzKTtcbiAgICBsZXQgaSA9IGtleXMubGVuZ3RoO1xuICAgIGxldCBkZWxldGVkID0gZmFsc2U7XG5cbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICBjb25zdCBrZXkgPSBrZXlzW2ldO1xuICAgICAgaWYoIW1hdGNoZXIgfHwgbWF0Y2hIZWFkZXJWYWx1ZSh0aGlzLCB0aGlzW2tleV0sIGtleSwgbWF0Y2hlciwgdHJ1ZSkpIHtcbiAgICAgICAgZGVsZXRlIHRoaXNba2V5XTtcbiAgICAgICAgZGVsZXRlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlbGV0ZWQ7XG4gIH1cblxuICBub3JtYWxpemUoZm9ybWF0KSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuXG4gICAgdXRpbHMkMS5mb3JFYWNoKHRoaXMsICh2YWx1ZSwgaGVhZGVyKSA9PiB7XG4gICAgICBjb25zdCBrZXkgPSB1dGlscyQxLmZpbmRLZXkoaGVhZGVycywgaGVhZGVyKTtcblxuICAgICAgaWYgKGtleSkge1xuICAgICAgICBzZWxmW2tleV0gPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSk7XG4gICAgICAgIGRlbGV0ZSBzZWxmW2hlYWRlcl07XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IGZvcm1hdCA/IGZvcm1hdEhlYWRlcihoZWFkZXIpIDogU3RyaW5nKGhlYWRlcikudHJpbSgpO1xuXG4gICAgICBpZiAobm9ybWFsaXplZCAhPT0gaGVhZGVyKSB7XG4gICAgICAgIGRlbGV0ZSBzZWxmW2hlYWRlcl07XG4gICAgICB9XG5cbiAgICAgIHNlbGZbbm9ybWFsaXplZF0gPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSk7XG5cbiAgICAgIGhlYWRlcnNbbm9ybWFsaXplZF0gPSB0cnVlO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBjb25jYXQoLi4udGFyZ2V0cykge1xuICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLmNvbmNhdCh0aGlzLCAuLi50YXJnZXRzKTtcbiAgfVxuXG4gIHRvSlNPTihhc1N0cmluZ3MpIHtcbiAgICBjb25zdCBvYmogPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gICAgdXRpbHMkMS5mb3JFYWNoKHRoaXMsICh2YWx1ZSwgaGVhZGVyKSA9PiB7XG4gICAgICB2YWx1ZSAhPSBudWxsICYmIHZhbHVlICE9PSBmYWxzZSAmJiAob2JqW2hlYWRlcl0gPSBhc1N0cmluZ3MgJiYgdXRpbHMkMS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlLmpvaW4oJywgJykgOiB2YWx1ZSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKHRoaXMudG9KU09OKCkpW1N5bWJvbC5pdGVyYXRvcl0oKTtcbiAgfVxuXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBPYmplY3QuZW50cmllcyh0aGlzLnRvSlNPTigpKS5tYXAoKFtoZWFkZXIsIHZhbHVlXSkgPT4gaGVhZGVyICsgJzogJyArIHZhbHVlKS5qb2luKCdcXG4nKTtcbiAgfVxuXG4gIGdldCBbU3ltYm9sLnRvU3RyaW5nVGFnXSgpIHtcbiAgICByZXR1cm4gJ0F4aW9zSGVhZGVycyc7XG4gIH1cblxuICBzdGF0aWMgZnJvbSh0aGluZykge1xuICAgIHJldHVybiB0aGluZyBpbnN0YW5jZW9mIHRoaXMgPyB0aGluZyA6IG5ldyB0aGlzKHRoaW5nKTtcbiAgfVxuXG4gIHN0YXRpYyBjb25jYXQoZmlyc3QsIC4uLnRhcmdldHMpIHtcbiAgICBjb25zdCBjb21wdXRlZCA9IG5ldyB0aGlzKGZpcnN0KTtcblxuICAgIHRhcmdldHMuZm9yRWFjaCgodGFyZ2V0KSA9PiBjb21wdXRlZC5zZXQodGFyZ2V0KSk7XG5cbiAgICByZXR1cm4gY29tcHV0ZWQ7XG4gIH1cblxuICBzdGF0aWMgYWNjZXNzb3IoaGVhZGVyKSB7XG4gICAgY29uc3QgaW50ZXJuYWxzID0gdGhpc1skaW50ZXJuYWxzXSA9ICh0aGlzWyRpbnRlcm5hbHNdID0ge1xuICAgICAgYWNjZXNzb3JzOiB7fVxuICAgIH0pO1xuXG4gICAgY29uc3QgYWNjZXNzb3JzID0gaW50ZXJuYWxzLmFjY2Vzc29ycztcbiAgICBjb25zdCBwcm90b3R5cGUgPSB0aGlzLnByb3RvdHlwZTtcblxuICAgIGZ1bmN0aW9uIGRlZmluZUFjY2Vzc29yKF9oZWFkZXIpIHtcbiAgICAgIGNvbnN0IGxIZWFkZXIgPSBub3JtYWxpemVIZWFkZXIoX2hlYWRlcik7XG5cbiAgICAgIGlmICghYWNjZXNzb3JzW2xIZWFkZXJdKSB7XG4gICAgICAgIGJ1aWxkQWNjZXNzb3JzKHByb3RvdHlwZSwgX2hlYWRlcik7XG4gICAgICAgIGFjY2Vzc29yc1tsSGVhZGVyXSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdXRpbHMkMS5pc0FycmF5KGhlYWRlcikgPyBoZWFkZXIuZm9yRWFjaChkZWZpbmVBY2Nlc3NvcikgOiBkZWZpbmVBY2Nlc3NvcihoZWFkZXIpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxuQXhpb3NIZWFkZXJzLmFjY2Vzc29yKFsnQ29udGVudC1UeXBlJywgJ0NvbnRlbnQtTGVuZ3RoJywgJ0FjY2VwdCcsICdBY2NlcHQtRW5jb2RpbmcnLCAnVXNlci1BZ2VudCcsICdBdXRob3JpemF0aW9uJ10pO1xuXG4vLyByZXNlcnZlZCBuYW1lcyBob3RmaXhcbnV0aWxzJDEucmVkdWNlRGVzY3JpcHRvcnMoQXhpb3NIZWFkZXJzLnByb3RvdHlwZSwgKHt2YWx1ZX0sIGtleSkgPT4ge1xuICBsZXQgbWFwcGVkID0ga2V5WzBdLnRvVXBwZXJDYXNlKCkgKyBrZXkuc2xpY2UoMSk7IC8vIG1hcCBgc2V0YCA9PiBgU2V0YFxuICByZXR1cm4ge1xuICAgIGdldDogKCkgPT4gdmFsdWUsXG4gICAgc2V0KGhlYWRlclZhbHVlKSB7XG4gICAgICB0aGlzW21hcHBlZF0gPSBoZWFkZXJWYWx1ZTtcbiAgICB9XG4gIH1cbn0pO1xuXG51dGlscyQxLmZyZWV6ZU1ldGhvZHMoQXhpb3NIZWFkZXJzKTtcblxudmFyIEF4aW9zSGVhZGVycyQxID0gQXhpb3NIZWFkZXJzO1xuXG4vKipcbiAqIFRyYW5zZm9ybSB0aGUgZGF0YSBmb3IgYSByZXF1ZXN0IG9yIGEgcmVzcG9uc2VcbiAqXG4gKiBAcGFyYW0ge0FycmF5fEZ1bmN0aW9ufSBmbnMgQSBzaW5nbGUgZnVuY3Rpb24gb3IgQXJyYXkgb2YgZnVuY3Rpb25zXG4gKiBAcGFyYW0gez9PYmplY3R9IHJlc3BvbnNlIFRoZSByZXNwb25zZSBvYmplY3RcbiAqXG4gKiBAcmV0dXJucyB7Kn0gVGhlIHJlc3VsdGluZyB0cmFuc2Zvcm1lZCBkYXRhXG4gKi9cbmZ1bmN0aW9uIHRyYW5zZm9ybURhdGEoZm5zLCByZXNwb25zZSkge1xuICBjb25zdCBjb25maWcgPSB0aGlzIHx8IGRlZmF1bHRzJDE7XG4gIGNvbnN0IGNvbnRleHQgPSByZXNwb25zZSB8fCBjb25maWc7XG4gIGNvbnN0IGhlYWRlcnMgPSBBeGlvc0hlYWRlcnMkMS5mcm9tKGNvbnRleHQuaGVhZGVycyk7XG4gIGxldCBkYXRhID0gY29udGV4dC5kYXRhO1xuXG4gIHV0aWxzJDEuZm9yRWFjaChmbnMsIGZ1bmN0aW9uIHRyYW5zZm9ybShmbikge1xuICAgIGRhdGEgPSBmbi5jYWxsKGNvbmZpZywgZGF0YSwgaGVhZGVycy5ub3JtYWxpemUoKSwgcmVzcG9uc2UgPyByZXNwb25zZS5zdGF0dXMgOiB1bmRlZmluZWQpO1xuICB9KTtcblxuICBoZWFkZXJzLm5vcm1hbGl6ZSgpO1xuXG4gIHJldHVybiBkYXRhO1xufVxuXG5mdW5jdGlvbiBpc0NhbmNlbCh2YWx1ZSkge1xuICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWUuX19DQU5DRUxfXyk7XG59XG5cbi8qKlxuICogQSBgQ2FuY2VsZWRFcnJvcmAgaXMgYW4gb2JqZWN0IHRoYXQgaXMgdGhyb3duIHdoZW4gYW4gb3BlcmF0aW9uIGlzIGNhbmNlbGVkLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbWVzc2FnZSBUaGUgbWVzc2FnZS5cbiAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIFRoZSBjb25maWcuXG4gKiBAcGFyYW0ge09iamVjdD19IHJlcXVlc3QgVGhlIHJlcXVlc3QuXG4gKlxuICogQHJldHVybnMge0NhbmNlbGVkRXJyb3J9IFRoZSBjcmVhdGVkIGVycm9yLlxuICovXG5mdW5jdGlvbiBDYW5jZWxlZEVycm9yKG1lc3NhZ2UsIGNvbmZpZywgcmVxdWVzdCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgQXhpb3NFcnJvci5jYWxsKHRoaXMsIG1lc3NhZ2UgPT0gbnVsbCA/ICdjYW5jZWxlZCcgOiBtZXNzYWdlLCBBeGlvc0Vycm9yLkVSUl9DQU5DRUxFRCwgY29uZmlnLCByZXF1ZXN0KTtcbiAgdGhpcy5uYW1lID0gJ0NhbmNlbGVkRXJyb3InO1xufVxuXG51dGlscyQxLmluaGVyaXRzKENhbmNlbGVkRXJyb3IsIEF4aW9zRXJyb3IsIHtcbiAgX19DQU5DRUxfXzogdHJ1ZVxufSk7XG5cbi8qKlxuICogUmVzb2x2ZSBvciByZWplY3QgYSBQcm9taXNlIGJhc2VkIG9uIHJlc3BvbnNlIHN0YXR1cy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZXNvbHZlIEEgZnVuY3Rpb24gdGhhdCByZXNvbHZlcyB0aGUgcHJvbWlzZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlamVjdCBBIGZ1bmN0aW9uIHRoYXQgcmVqZWN0cyB0aGUgcHJvbWlzZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSByZXNwb25zZSBUaGUgcmVzcG9uc2UuXG4gKlxuICogQHJldHVybnMge29iamVjdH0gVGhlIHJlc3BvbnNlLlxuICovXG5mdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCByZXNwb25zZSkge1xuICBjb25zdCB2YWxpZGF0ZVN0YXR1cyA9IHJlc3BvbnNlLmNvbmZpZy52YWxpZGF0ZVN0YXR1cztcbiAgaWYgKCFyZXNwb25zZS5zdGF0dXMgfHwgIXZhbGlkYXRlU3RhdHVzIHx8IHZhbGlkYXRlU3RhdHVzKHJlc3BvbnNlLnN0YXR1cykpIHtcbiAgICByZXNvbHZlKHJlc3BvbnNlKTtcbiAgfSBlbHNlIHtcbiAgICByZWplY3QobmV3IEF4aW9zRXJyb3IoXG4gICAgICAnUmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgY29kZSAnICsgcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgW0F4aW9zRXJyb3IuRVJSX0JBRF9SRVFVRVNULCBBeGlvc0Vycm9yLkVSUl9CQURfUkVTUE9OU0VdW01hdGguZmxvb3IocmVzcG9uc2Uuc3RhdHVzIC8gMTAwKSAtIDRdLFxuICAgICAgcmVzcG9uc2UuY29uZmlnLFxuICAgICAgcmVzcG9uc2UucmVxdWVzdCxcbiAgICAgIHJlc3BvbnNlXG4gICAgKSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcGFyc2VQcm90b2NvbCh1cmwpIHtcbiAgY29uc3QgbWF0Y2ggPSAvXihbLStcXHddezEsMjV9KSg6P1xcL1xcL3w6KS8uZXhlYyh1cmwpO1xuICByZXR1cm4gbWF0Y2ggJiYgbWF0Y2hbMV0gfHwgJyc7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlIGRhdGEgbWF4UmF0ZVxuICogQHBhcmFtIHtOdW1iZXJ9IFtzYW1wbGVzQ291bnQ9IDEwXVxuICogQHBhcmFtIHtOdW1iZXJ9IFttaW49IDEwMDBdXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gKi9cbmZ1bmN0aW9uIHNwZWVkb21ldGVyKHNhbXBsZXNDb3VudCwgbWluKSB7XG4gIHNhbXBsZXNDb3VudCA9IHNhbXBsZXNDb3VudCB8fCAxMDtcbiAgY29uc3QgYnl0ZXMgPSBuZXcgQXJyYXkoc2FtcGxlc0NvdW50KTtcbiAgY29uc3QgdGltZXN0YW1wcyA9IG5ldyBBcnJheShzYW1wbGVzQ291bnQpO1xuICBsZXQgaGVhZCA9IDA7XG4gIGxldCB0YWlsID0gMDtcbiAgbGV0IGZpcnN0U2FtcGxlVFM7XG5cbiAgbWluID0gbWluICE9PSB1bmRlZmluZWQgPyBtaW4gOiAxMDAwO1xuXG4gIHJldHVybiBmdW5jdGlvbiBwdXNoKGNodW5rTGVuZ3RoKSB7XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcblxuICAgIGNvbnN0IHN0YXJ0ZWRBdCA9IHRpbWVzdGFtcHNbdGFpbF07XG5cbiAgICBpZiAoIWZpcnN0U2FtcGxlVFMpIHtcbiAgICAgIGZpcnN0U2FtcGxlVFMgPSBub3c7XG4gICAgfVxuXG4gICAgYnl0ZXNbaGVhZF0gPSBjaHVua0xlbmd0aDtcbiAgICB0aW1lc3RhbXBzW2hlYWRdID0gbm93O1xuXG4gICAgbGV0IGkgPSB0YWlsO1xuICAgIGxldCBieXRlc0NvdW50ID0gMDtcblxuICAgIHdoaWxlIChpICE9PSBoZWFkKSB7XG4gICAgICBieXRlc0NvdW50ICs9IGJ5dGVzW2krK107XG4gICAgICBpID0gaSAlIHNhbXBsZXNDb3VudDtcbiAgICB9XG5cbiAgICBoZWFkID0gKGhlYWQgKyAxKSAlIHNhbXBsZXNDb3VudDtcblxuICAgIGlmIChoZWFkID09PSB0YWlsKSB7XG4gICAgICB0YWlsID0gKHRhaWwgKyAxKSAlIHNhbXBsZXNDb3VudDtcbiAgICB9XG5cbiAgICBpZiAobm93IC0gZmlyc3RTYW1wbGVUUyA8IG1pbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHBhc3NlZCA9IHN0YXJ0ZWRBdCAmJiBub3cgLSBzdGFydGVkQXQ7XG5cbiAgICByZXR1cm4gcGFzc2VkID8gTWF0aC5yb3VuZChieXRlc0NvdW50ICogMTAwMCAvIHBhc3NlZCkgOiB1bmRlZmluZWQ7XG4gIH07XG59XG5cbi8qKlxuICogVGhyb3R0bGUgZGVjb3JhdG9yXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtIHtOdW1iZXJ9IGZyZXFcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiB0aHJvdHRsZShmbiwgZnJlcSkge1xuICBsZXQgdGltZXN0YW1wID0gMDtcbiAgY29uc3QgdGhyZXNob2xkID0gMTAwMCAvIGZyZXE7XG4gIGxldCB0aW1lciA9IG51bGw7XG4gIHJldHVybiBmdW5jdGlvbiB0aHJvdHRsZWQoKSB7XG4gICAgY29uc3QgZm9yY2UgPSB0aGlzID09PSB0cnVlO1xuXG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBpZiAoZm9yY2UgfHwgbm93IC0gdGltZXN0YW1wID4gdGhyZXNob2xkKSB7XG4gICAgICBpZiAodGltZXIpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgdGltZXIgPSBudWxsO1xuICAgICAgfVxuICAgICAgdGltZXN0YW1wID0gbm93O1xuICAgICAgcmV0dXJuIGZuLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgfVxuICAgIGlmICghdGltZXIpIHtcbiAgICAgIHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRpbWVyID0gbnVsbDtcbiAgICAgICAgdGltZXN0YW1wID0gRGF0ZS5ub3coKTtcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgICB9LCB0aHJlc2hvbGQgLSAobm93IC0gdGltZXN0YW1wKSk7XG4gICAgfVxuICB9O1xufVxuXG52YXIgcHJvZ3Jlc3NFdmVudFJlZHVjZXIgPSAobGlzdGVuZXIsIGlzRG93bmxvYWRTdHJlYW0sIGZyZXEgPSAzKSA9PiB7XG4gIGxldCBieXRlc05vdGlmaWVkID0gMDtcbiAgY29uc3QgX3NwZWVkb21ldGVyID0gc3BlZWRvbWV0ZXIoNTAsIDI1MCk7XG5cbiAgcmV0dXJuIHRocm90dGxlKGUgPT4ge1xuICAgIGNvbnN0IGxvYWRlZCA9IGUubG9hZGVkO1xuICAgIGNvbnN0IHRvdGFsID0gZS5sZW5ndGhDb21wdXRhYmxlID8gZS50b3RhbCA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBwcm9ncmVzc0J5dGVzID0gbG9hZGVkIC0gYnl0ZXNOb3RpZmllZDtcbiAgICBjb25zdCByYXRlID0gX3NwZWVkb21ldGVyKHByb2dyZXNzQnl0ZXMpO1xuICAgIGNvbnN0IGluUmFuZ2UgPSBsb2FkZWQgPD0gdG90YWw7XG5cbiAgICBieXRlc05vdGlmaWVkID0gbG9hZGVkO1xuXG4gICAgY29uc3QgZGF0YSA9IHtcbiAgICAgIGxvYWRlZCxcbiAgICAgIHRvdGFsLFxuICAgICAgcHJvZ3Jlc3M6IHRvdGFsID8gKGxvYWRlZCAvIHRvdGFsKSA6IHVuZGVmaW5lZCxcbiAgICAgIGJ5dGVzOiBwcm9ncmVzc0J5dGVzLFxuICAgICAgcmF0ZTogcmF0ZSA/IHJhdGUgOiB1bmRlZmluZWQsXG4gICAgICBlc3RpbWF0ZWQ6IHJhdGUgJiYgdG90YWwgJiYgaW5SYW5nZSA/ICh0b3RhbCAtIGxvYWRlZCkgLyByYXRlIDogdW5kZWZpbmVkLFxuICAgICAgZXZlbnQ6IGUsXG4gICAgICBsZW5ndGhDb21wdXRhYmxlOiB0b3RhbCAhPSBudWxsXG4gICAgfTtcblxuICAgIGRhdGFbaXNEb3dubG9hZFN0cmVhbSA/ICdkb3dubG9hZCcgOiAndXBsb2FkJ10gPSB0cnVlO1xuXG4gICAgbGlzdGVuZXIoZGF0YSk7XG4gIH0sIGZyZXEpO1xufTtcblxudmFyIGlzVVJMU2FtZU9yaWdpbiA9IHBsYXRmb3JtLmhhc1N0YW5kYXJkQnJvd3NlckVudiA/XG5cbi8vIFN0YW5kYXJkIGJyb3dzZXIgZW52cyBoYXZlIGZ1bGwgc3VwcG9ydCBvZiB0aGUgQVBJcyBuZWVkZWQgdG8gdGVzdFxuLy8gd2hldGhlciB0aGUgcmVxdWVzdCBVUkwgaXMgb2YgdGhlIHNhbWUgb3JpZ2luIGFzIGN1cnJlbnQgbG9jYXRpb24uXG4gIChmdW5jdGlvbiBzdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgY29uc3QgbXNpZSA9IC8obXNpZXx0cmlkZW50KS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgY29uc3QgdXJsUGFyc2luZ05vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgbGV0IG9yaWdpblVSTDtcblxuICAgIC8qKlxuICAgICogUGFyc2UgYSBVUkwgdG8gZGlzY292ZXIgaXRzIGNvbXBvbmVudHNcbiAgICAqXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gdXJsIFRoZSBVUkwgdG8gYmUgcGFyc2VkXG4gICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICovXG4gICAgZnVuY3Rpb24gcmVzb2x2ZVVSTCh1cmwpIHtcbiAgICAgIGxldCBocmVmID0gdXJsO1xuXG4gICAgICBpZiAobXNpZSkge1xuICAgICAgICAvLyBJRSBuZWVkcyBhdHRyaWJ1dGUgc2V0IHR3aWNlIHRvIG5vcm1hbGl6ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHVybFBhcnNpbmdOb2RlLnNldEF0dHJpYnV0ZSgnaHJlZicsIGhyZWYpO1xuICAgICAgICBocmVmID0gdXJsUGFyc2luZ05vZGUuaHJlZjtcbiAgICAgIH1cblxuICAgICAgdXJsUGFyc2luZ05vZGUuc2V0QXR0cmlidXRlKCdocmVmJywgaHJlZik7XG5cbiAgICAgIC8vIHVybFBhcnNpbmdOb2RlIHByb3ZpZGVzIHRoZSBVcmxVdGlscyBpbnRlcmZhY2UgLSBodHRwOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jdXJsdXRpbHNcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGhyZWY6IHVybFBhcnNpbmdOb2RlLmhyZWYsXG4gICAgICAgIHByb3RvY29sOiB1cmxQYXJzaW5nTm9kZS5wcm90b2NvbCA/IHVybFBhcnNpbmdOb2RlLnByb3RvY29sLnJlcGxhY2UoLzokLywgJycpIDogJycsXG4gICAgICAgIGhvc3Q6IHVybFBhcnNpbmdOb2RlLmhvc3QsXG4gICAgICAgIHNlYXJjaDogdXJsUGFyc2luZ05vZGUuc2VhcmNoID8gdXJsUGFyc2luZ05vZGUuc2VhcmNoLnJlcGxhY2UoL15cXD8vLCAnJykgOiAnJyxcbiAgICAgICAgaGFzaDogdXJsUGFyc2luZ05vZGUuaGFzaCA/IHVybFBhcnNpbmdOb2RlLmhhc2gucmVwbGFjZSgvXiMvLCAnJykgOiAnJyxcbiAgICAgICAgaG9zdG5hbWU6IHVybFBhcnNpbmdOb2RlLmhvc3RuYW1lLFxuICAgICAgICBwb3J0OiB1cmxQYXJzaW5nTm9kZS5wb3J0LFxuICAgICAgICBwYXRobmFtZTogKHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nKSA/XG4gICAgICAgICAgdXJsUGFyc2luZ05vZGUucGF0aG5hbWUgOlxuICAgICAgICAgICcvJyArIHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lXG4gICAgICB9O1xuICAgIH1cblxuICAgIG9yaWdpblVSTCA9IHJlc29sdmVVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpO1xuXG4gICAgLyoqXG4gICAgKiBEZXRlcm1pbmUgaWYgYSBVUkwgc2hhcmVzIHRoZSBzYW1lIG9yaWdpbiBhcyB0aGUgY3VycmVudCBsb2NhdGlvblxuICAgICpcbiAgICAqIEBwYXJhbSB7U3RyaW5nfSByZXF1ZXN0VVJMIFRoZSBVUkwgdG8gdGVzdFxuICAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgVVJMIHNoYXJlcyB0aGUgc2FtZSBvcmlnaW4sIG90aGVyd2lzZSBmYWxzZVxuICAgICovXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGlzVVJMU2FtZU9yaWdpbihyZXF1ZXN0VVJMKSB7XG4gICAgICBjb25zdCBwYXJzZWQgPSAodXRpbHMkMS5pc1N0cmluZyhyZXF1ZXN0VVJMKSkgPyByZXNvbHZlVVJMKHJlcXVlc3RVUkwpIDogcmVxdWVzdFVSTDtcbiAgICAgIHJldHVybiAocGFyc2VkLnByb3RvY29sID09PSBvcmlnaW5VUkwucHJvdG9jb2wgJiZcbiAgICAgICAgICBwYXJzZWQuaG9zdCA9PT0gb3JpZ2luVVJMLmhvc3QpO1xuICAgIH07XG4gIH0pKCkgOlxuXG4gIC8vIE5vbiBzdGFuZGFyZCBicm93c2VyIGVudnMgKHdlYiB3b3JrZXJzLCByZWFjdC1uYXRpdmUpIGxhY2sgbmVlZGVkIHN1cHBvcnQuXG4gIChmdW5jdGlvbiBub25TdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGlzVVJMU2FtZU9yaWdpbigpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gIH0pKCk7XG5cbnZhciBjb29raWVzID0gcGxhdGZvcm0uaGFzU3RhbmRhcmRCcm93c2VyRW52ID9cblxuICAvLyBTdGFuZGFyZCBicm93c2VyIGVudnMgc3VwcG9ydCBkb2N1bWVudC5jb29raWVcbiAge1xuICAgIHdyaXRlKG5hbWUsIHZhbHVlLCBleHBpcmVzLCBwYXRoLCBkb21haW4sIHNlY3VyZSkge1xuICAgICAgY29uc3QgY29va2llID0gW25hbWUgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpXTtcblxuICAgICAgdXRpbHMkMS5pc051bWJlcihleHBpcmVzKSAmJiBjb29raWUucHVzaCgnZXhwaXJlcz0nICsgbmV3IERhdGUoZXhwaXJlcykudG9HTVRTdHJpbmcoKSk7XG5cbiAgICAgIHV0aWxzJDEuaXNTdHJpbmcocGF0aCkgJiYgY29va2llLnB1c2goJ3BhdGg9JyArIHBhdGgpO1xuXG4gICAgICB1dGlscyQxLmlzU3RyaW5nKGRvbWFpbikgJiYgY29va2llLnB1c2goJ2RvbWFpbj0nICsgZG9tYWluKTtcblxuICAgICAgc2VjdXJlID09PSB0cnVlICYmIGNvb2tpZS5wdXNoKCdzZWN1cmUnKTtcblxuICAgICAgZG9jdW1lbnQuY29va2llID0gY29va2llLmpvaW4oJzsgJyk7XG4gICAgfSxcblxuICAgIHJlYWQobmFtZSkge1xuICAgICAgY29uc3QgbWF0Y2ggPSBkb2N1bWVudC5jb29raWUubWF0Y2gobmV3IFJlZ0V4cCgnKF58O1xcXFxzKikoJyArIG5hbWUgKyAnKT0oW147XSopJykpO1xuICAgICAgcmV0dXJuIChtYXRjaCA/IGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFszXSkgOiBudWxsKTtcbiAgICB9LFxuXG4gICAgcmVtb3ZlKG5hbWUpIHtcbiAgICAgIHRoaXMud3JpdGUobmFtZSwgJycsIERhdGUubm93KCkgLSA4NjQwMDAwMCk7XG4gICAgfVxuICB9XG5cbiAgOlxuXG4gIC8vIE5vbi1zdGFuZGFyZCBicm93c2VyIGVudiAod2ViIHdvcmtlcnMsIHJlYWN0LW5hdGl2ZSkgbGFjayBuZWVkZWQgc3VwcG9ydC5cbiAge1xuICAgIHdyaXRlKCkge30sXG4gICAgcmVhZCgpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG4gICAgcmVtb3ZlKCkge31cbiAgfTtcblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIHNwZWNpZmllZCBVUkwgaXMgYWJzb2x1dGVcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBVUkwgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBYnNvbHV0ZVVSTCh1cmwpIHtcbiAgLy8gQSBVUkwgaXMgY29uc2lkZXJlZCBhYnNvbHV0ZSBpZiBpdCBiZWdpbnMgd2l0aCBcIjxzY2hlbWU+Oi8vXCIgb3IgXCIvL1wiIChwcm90b2NvbC1yZWxhdGl2ZSBVUkwpLlxuICAvLyBSRkMgMzk4NiBkZWZpbmVzIHNjaGVtZSBuYW1lIGFzIGEgc2VxdWVuY2Ugb2YgY2hhcmFjdGVycyBiZWdpbm5pbmcgd2l0aCBhIGxldHRlciBhbmQgZm9sbG93ZWRcbiAgLy8gYnkgYW55IGNvbWJpbmF0aW9uIG9mIGxldHRlcnMsIGRpZ2l0cywgcGx1cywgcGVyaW9kLCBvciBoeXBoZW4uXG4gIHJldHVybiAvXihbYS16XVthLXpcXGQrXFwtLl0qOik/XFwvXFwvL2kudGVzdCh1cmwpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgVVJMIGJ5IGNvbWJpbmluZyB0aGUgc3BlY2lmaWVkIFVSTHNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZVVSTCBUaGUgYmFzZSBVUkxcbiAqIEBwYXJhbSB7c3RyaW5nfSByZWxhdGl2ZVVSTCBUaGUgcmVsYXRpdmUgVVJMXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGNvbWJpbmVkIFVSTFxuICovXG5mdW5jdGlvbiBjb21iaW5lVVJMcyhiYXNlVVJMLCByZWxhdGl2ZVVSTCkge1xuICByZXR1cm4gcmVsYXRpdmVVUkxcbiAgICA/IGJhc2VVUkwucmVwbGFjZSgvXFwvP1xcLyQvLCAnJykgKyAnLycgKyByZWxhdGl2ZVVSTC5yZXBsYWNlKC9eXFwvKy8sICcnKVxuICAgIDogYmFzZVVSTDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFVSTCBieSBjb21iaW5pbmcgdGhlIGJhc2VVUkwgd2l0aCB0aGUgcmVxdWVzdGVkVVJMLFxuICogb25seSB3aGVuIHRoZSByZXF1ZXN0ZWRVUkwgaXMgbm90IGFscmVhZHkgYW4gYWJzb2x1dGUgVVJMLlxuICogSWYgdGhlIHJlcXVlc3RVUkwgaXMgYWJzb2x1dGUsIHRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgcmVxdWVzdGVkVVJMIHVudG91Y2hlZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZVVSTCBUaGUgYmFzZSBVUkxcbiAqIEBwYXJhbSB7c3RyaW5nfSByZXF1ZXN0ZWRVUkwgQWJzb2x1dGUgb3IgcmVsYXRpdmUgVVJMIHRvIGNvbWJpbmVcbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgY29tYmluZWQgZnVsbCBwYXRoXG4gKi9cbmZ1bmN0aW9uIGJ1aWxkRnVsbFBhdGgoYmFzZVVSTCwgcmVxdWVzdGVkVVJMKSB7XG4gIGlmIChiYXNlVVJMICYmICFpc0Fic29sdXRlVVJMKHJlcXVlc3RlZFVSTCkpIHtcbiAgICByZXR1cm4gY29tYmluZVVSTHMoYmFzZVVSTCwgcmVxdWVzdGVkVVJMKTtcbiAgfVxuICByZXR1cm4gcmVxdWVzdGVkVVJMO1xufVxuXG5jb25zdCBoZWFkZXJzVG9PYmplY3QgPSAodGhpbmcpID0+IHRoaW5nIGluc3RhbmNlb2YgQXhpb3NIZWFkZXJzJDEgPyB7IC4uLnRoaW5nIH0gOiB0aGluZztcblxuLyoqXG4gKiBDb25maWctc3BlY2lmaWMgbWVyZ2UtZnVuY3Rpb24gd2hpY2ggY3JlYXRlcyBhIG5ldyBjb25maWctb2JqZWN0XG4gKiBieSBtZXJnaW5nIHR3byBjb25maWd1cmF0aW9uIG9iamVjdHMgdG9nZXRoZXIuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZzFcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcyXG4gKlxuICogQHJldHVybnMge09iamVjdH0gTmV3IG9iamVjdCByZXN1bHRpbmcgZnJvbSBtZXJnaW5nIGNvbmZpZzIgdG8gY29uZmlnMVxuICovXG5mdW5jdGlvbiBtZXJnZUNvbmZpZyhjb25maWcxLCBjb25maWcyKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICBjb25maWcyID0gY29uZmlnMiB8fCB7fTtcbiAgY29uc3QgY29uZmlnID0ge307XG5cbiAgZnVuY3Rpb24gZ2V0TWVyZ2VkVmFsdWUodGFyZ2V0LCBzb3VyY2UsIGNhc2VsZXNzKSB7XG4gICAgaWYgKHV0aWxzJDEuaXNQbGFpbk9iamVjdCh0YXJnZXQpICYmIHV0aWxzJDEuaXNQbGFpbk9iamVjdChzb3VyY2UpKSB7XG4gICAgICByZXR1cm4gdXRpbHMkMS5tZXJnZS5jYWxsKHtjYXNlbGVzc30sIHRhcmdldCwgc291cmNlKTtcbiAgICB9IGVsc2UgaWYgKHV0aWxzJDEuaXNQbGFpbk9iamVjdChzb3VyY2UpKSB7XG4gICAgICByZXR1cm4gdXRpbHMkMS5tZXJnZSh7fSwgc291cmNlKTtcbiAgICB9IGVsc2UgaWYgKHV0aWxzJDEuaXNBcnJheShzb3VyY2UpKSB7XG4gICAgICByZXR1cm4gc291cmNlLnNsaWNlKCk7XG4gICAgfVxuICAgIHJldHVybiBzb3VyY2U7XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbiAgZnVuY3Rpb24gbWVyZ2VEZWVwUHJvcGVydGllcyhhLCBiLCBjYXNlbGVzcykge1xuICAgIGlmICghdXRpbHMkMS5pc1VuZGVmaW5lZChiKSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKGEsIGIsIGNhc2VsZXNzKTtcbiAgICB9IGVsc2UgaWYgKCF1dGlscyQxLmlzVW5kZWZpbmVkKGEpKSB7XG4gICAgICByZXR1cm4gZ2V0TWVyZ2VkVmFsdWUodW5kZWZpbmVkLCBhLCBjYXNlbGVzcyk7XG4gICAgfVxuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gIGZ1bmN0aW9uIHZhbHVlRnJvbUNvbmZpZzIoYSwgYikge1xuICAgIGlmICghdXRpbHMkMS5pc1VuZGVmaW5lZChiKSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKHVuZGVmaW5lZCwgYik7XG4gICAgfVxuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gIGZ1bmN0aW9uIGRlZmF1bHRUb0NvbmZpZzIoYSwgYikge1xuICAgIGlmICghdXRpbHMkMS5pc1VuZGVmaW5lZChiKSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKHVuZGVmaW5lZCwgYik7XG4gICAgfSBlbHNlIGlmICghdXRpbHMkMS5pc1VuZGVmaW5lZChhKSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKHVuZGVmaW5lZCwgYSk7XG4gICAgfVxuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gIGZ1bmN0aW9uIG1lcmdlRGlyZWN0S2V5cyhhLCBiLCBwcm9wKSB7XG4gICAgaWYgKHByb3AgaW4gY29uZmlnMikge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKGEsIGIpO1xuICAgIH0gZWxzZSBpZiAocHJvcCBpbiBjb25maWcxKSB7XG4gICAgICByZXR1cm4gZ2V0TWVyZ2VkVmFsdWUodW5kZWZpbmVkLCBhKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBtZXJnZU1hcCA9IHtcbiAgICB1cmw6IHZhbHVlRnJvbUNvbmZpZzIsXG4gICAgbWV0aG9kOiB2YWx1ZUZyb21Db25maWcyLFxuICAgIGRhdGE6IHZhbHVlRnJvbUNvbmZpZzIsXG4gICAgYmFzZVVSTDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB0cmFuc2Zvcm1SZXF1ZXN0OiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHRyYW5zZm9ybVJlc3BvbnNlOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHBhcmFtc1NlcmlhbGl6ZXI6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgdGltZW91dDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB0aW1lb3V0TWVzc2FnZTogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB3aXRoQ3JlZGVudGlhbHM6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgd2l0aFhTUkZUb2tlbjogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBhZGFwdGVyOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHJlc3BvbnNlVHlwZTogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB4c3JmQ29va2llTmFtZTogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB4c3JmSGVhZGVyTmFtZTogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBvblVwbG9hZFByb2dyZXNzOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIG9uRG93bmxvYWRQcm9ncmVzczogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBkZWNvbXByZXNzOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIG1heENvbnRlbnRMZW5ndGg6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgbWF4Qm9keUxlbmd0aDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBiZWZvcmVSZWRpcmVjdDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB0cmFuc3BvcnQ6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgaHR0cEFnZW50OiBkZWZhdWx0VG9Db25maWcyLFxuICAgIGh0dHBzQWdlbnQ6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgY2FuY2VsVG9rZW46IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgc29ja2V0UGF0aDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICByZXNwb25zZUVuY29kaW5nOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHZhbGlkYXRlU3RhdHVzOiBtZXJnZURpcmVjdEtleXMsXG4gICAgaGVhZGVyczogKGEsIGIpID0+IG1lcmdlRGVlcFByb3BlcnRpZXMoaGVhZGVyc1RvT2JqZWN0KGEpLCBoZWFkZXJzVG9PYmplY3QoYiksIHRydWUpXG4gIH07XG5cbiAgdXRpbHMkMS5mb3JFYWNoKE9iamVjdC5rZXlzKE9iamVjdC5hc3NpZ24oe30sIGNvbmZpZzEsIGNvbmZpZzIpKSwgZnVuY3Rpb24gY29tcHV0ZUNvbmZpZ1ZhbHVlKHByb3ApIHtcbiAgICBjb25zdCBtZXJnZSA9IG1lcmdlTWFwW3Byb3BdIHx8IG1lcmdlRGVlcFByb3BlcnRpZXM7XG4gICAgY29uc3QgY29uZmlnVmFsdWUgPSBtZXJnZShjb25maWcxW3Byb3BdLCBjb25maWcyW3Byb3BdLCBwcm9wKTtcbiAgICAodXRpbHMkMS5pc1VuZGVmaW5lZChjb25maWdWYWx1ZSkgJiYgbWVyZ2UgIT09IG1lcmdlRGlyZWN0S2V5cykgfHwgKGNvbmZpZ1twcm9wXSA9IGNvbmZpZ1ZhbHVlKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGNvbmZpZztcbn1cblxudmFyIHJlc29sdmVDb25maWcgPSAoY29uZmlnKSA9PiB7XG4gIGNvbnN0IG5ld0NvbmZpZyA9IG1lcmdlQ29uZmlnKHt9LCBjb25maWcpO1xuXG4gIGxldCB7ZGF0YSwgd2l0aFhTUkZUb2tlbiwgeHNyZkhlYWRlck5hbWUsIHhzcmZDb29raWVOYW1lLCBoZWFkZXJzLCBhdXRofSA9IG5ld0NvbmZpZztcblxuICBuZXdDb25maWcuaGVhZGVycyA9IGhlYWRlcnMgPSBBeGlvc0hlYWRlcnMkMS5mcm9tKGhlYWRlcnMpO1xuXG4gIG5ld0NvbmZpZy51cmwgPSBidWlsZFVSTChidWlsZEZ1bGxQYXRoKG5ld0NvbmZpZy5iYXNlVVJMLCBuZXdDb25maWcudXJsKSwgY29uZmlnLnBhcmFtcywgY29uZmlnLnBhcmFtc1NlcmlhbGl6ZXIpO1xuXG4gIC8vIEhUVFAgYmFzaWMgYXV0aGVudGljYXRpb25cbiAgaWYgKGF1dGgpIHtcbiAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsICdCYXNpYyAnICtcbiAgICAgIGJ0b2EoKGF1dGgudXNlcm5hbWUgfHwgJycpICsgJzonICsgKGF1dGgucGFzc3dvcmQgPyB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoYXV0aC5wYXNzd29yZCkpIDogJycpKVxuICAgICk7XG4gIH1cblxuICBsZXQgY29udGVudFR5cGU7XG5cbiAgaWYgKHV0aWxzJDEuaXNGb3JtRGF0YShkYXRhKSkge1xuICAgIGlmIChwbGF0Zm9ybS5oYXNTdGFuZGFyZEJyb3dzZXJFbnYgfHwgcGxhdGZvcm0uaGFzU3RhbmRhcmRCcm93c2VyV2ViV29ya2VyRW52KSB7XG4gICAgICBoZWFkZXJzLnNldENvbnRlbnRUeXBlKHVuZGVmaW5lZCk7IC8vIExldCB0aGUgYnJvd3NlciBzZXQgaXRcbiAgICB9IGVsc2UgaWYgKChjb250ZW50VHlwZSA9IGhlYWRlcnMuZ2V0Q29udGVudFR5cGUoKSkgIT09IGZhbHNlKSB7XG4gICAgICAvLyBmaXggc2VtaWNvbG9uIGR1cGxpY2F0aW9uIGlzc3VlIGZvciBSZWFjdE5hdGl2ZSBGb3JtRGF0YSBpbXBsZW1lbnRhdGlvblxuICAgICAgY29uc3QgW3R5cGUsIC4uLnRva2Vuc10gPSBjb250ZW50VHlwZSA/IGNvbnRlbnRUeXBlLnNwbGl0KCc7JykubWFwKHRva2VuID0+IHRva2VuLnRyaW0oKSkuZmlsdGVyKEJvb2xlYW4pIDogW107XG4gICAgICBoZWFkZXJzLnNldENvbnRlbnRUeXBlKFt0eXBlIHx8ICdtdWx0aXBhcnQvZm9ybS1kYXRhJywgLi4udG9rZW5zXS5qb2luKCc7ICcpKTtcbiAgICB9XG4gIH1cblxuICAvLyBBZGQgeHNyZiBoZWFkZXJcbiAgLy8gVGhpcyBpcyBvbmx5IGRvbmUgaWYgcnVubmluZyBpbiBhIHN0YW5kYXJkIGJyb3dzZXIgZW52aXJvbm1lbnQuXG4gIC8vIFNwZWNpZmljYWxseSBub3QgaWYgd2UncmUgaW4gYSB3ZWIgd29ya2VyLCBvciByZWFjdC1uYXRpdmUuXG5cbiAgaWYgKHBsYXRmb3JtLmhhc1N0YW5kYXJkQnJvd3NlckVudikge1xuICAgIHdpdGhYU1JGVG9rZW4gJiYgdXRpbHMkMS5pc0Z1bmN0aW9uKHdpdGhYU1JGVG9rZW4pICYmICh3aXRoWFNSRlRva2VuID0gd2l0aFhTUkZUb2tlbihuZXdDb25maWcpKTtcblxuICAgIGlmICh3aXRoWFNSRlRva2VuIHx8ICh3aXRoWFNSRlRva2VuICE9PSBmYWxzZSAmJiBpc1VSTFNhbWVPcmlnaW4obmV3Q29uZmlnLnVybCkpKSB7XG4gICAgICAvLyBBZGQgeHNyZiBoZWFkZXJcbiAgICAgIGNvbnN0IHhzcmZWYWx1ZSA9IHhzcmZIZWFkZXJOYW1lICYmIHhzcmZDb29raWVOYW1lICYmIGNvb2tpZXMucmVhZCh4c3JmQ29va2llTmFtZSk7XG5cbiAgICAgIGlmICh4c3JmVmFsdWUpIHtcbiAgICAgICAgaGVhZGVycy5zZXQoeHNyZkhlYWRlck5hbWUsIHhzcmZWYWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ld0NvbmZpZztcbn07XG5cbmNvbnN0IGlzWEhSQWRhcHRlclN1cHBvcnRlZCA9IHR5cGVvZiBYTUxIdHRwUmVxdWVzdCAhPT0gJ3VuZGVmaW5lZCc7XG5cbnZhciB4aHJBZGFwdGVyID0gaXNYSFJBZGFwdGVyU3VwcG9ydGVkICYmIGZ1bmN0aW9uIChjb25maWcpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIGRpc3BhdGNoWGhyUmVxdWVzdChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBjb25zdCBfY29uZmlnID0gcmVzb2x2ZUNvbmZpZyhjb25maWcpO1xuICAgIGxldCByZXF1ZXN0RGF0YSA9IF9jb25maWcuZGF0YTtcbiAgICBjb25zdCByZXF1ZXN0SGVhZGVycyA9IEF4aW9zSGVhZGVycyQxLmZyb20oX2NvbmZpZy5oZWFkZXJzKS5ub3JtYWxpemUoKTtcbiAgICBsZXQge3Jlc3BvbnNlVHlwZX0gPSBfY29uZmlnO1xuICAgIGxldCBvbkNhbmNlbGVkO1xuICAgIGZ1bmN0aW9uIGRvbmUoKSB7XG4gICAgICBpZiAoX2NvbmZpZy5jYW5jZWxUb2tlbikge1xuICAgICAgICBfY29uZmlnLmNhbmNlbFRva2VuLnVuc3Vic2NyaWJlKG9uQ2FuY2VsZWQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoX2NvbmZpZy5zaWduYWwpIHtcbiAgICAgICAgX2NvbmZpZy5zaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBvbkNhbmNlbGVkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgcmVxdWVzdC5vcGVuKF9jb25maWcubWV0aG9kLnRvVXBwZXJDYXNlKCksIF9jb25maWcudXJsLCB0cnVlKTtcblxuICAgIC8vIFNldCB0aGUgcmVxdWVzdCB0aW1lb3V0IGluIE1TXG4gICAgcmVxdWVzdC50aW1lb3V0ID0gX2NvbmZpZy50aW1lb3V0O1xuXG4gICAgZnVuY3Rpb24gb25sb2FkZW5kKCkge1xuICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIFByZXBhcmUgdGhlIHJlc3BvbnNlXG4gICAgICBjb25zdCByZXNwb25zZUhlYWRlcnMgPSBBeGlvc0hlYWRlcnMkMS5mcm9tKFxuICAgICAgICAnZ2V0QWxsUmVzcG9uc2VIZWFkZXJzJyBpbiByZXF1ZXN0ICYmIHJlcXVlc3QuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKClcbiAgICAgICk7XG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSAhcmVzcG9uc2VUeXBlIHx8IHJlc3BvbnNlVHlwZSA9PT0gJ3RleHQnIHx8IHJlc3BvbnNlVHlwZSA9PT0gJ2pzb24nID9cbiAgICAgICAgcmVxdWVzdC5yZXNwb25zZVRleHQgOiByZXF1ZXN0LnJlc3BvbnNlO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgIGRhdGE6IHJlc3BvbnNlRGF0YSxcbiAgICAgICAgc3RhdHVzOiByZXF1ZXN0LnN0YXR1cyxcbiAgICAgICAgc3RhdHVzVGV4dDogcmVxdWVzdC5zdGF0dXNUZXh0LFxuICAgICAgICBoZWFkZXJzOiByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgIGNvbmZpZyxcbiAgICAgICAgcmVxdWVzdFxuICAgICAgfTtcblxuICAgICAgc2V0dGxlKGZ1bmN0aW9uIF9yZXNvbHZlKHZhbHVlKSB7XG4gICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgICBkb25lKCk7XG4gICAgICB9LCBmdW5jdGlvbiBfcmVqZWN0KGVycikge1xuICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfSwgcmVzcG9uc2UpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoJ29ubG9hZGVuZCcgaW4gcmVxdWVzdCkge1xuICAgICAgLy8gVXNlIG9ubG9hZGVuZCBpZiBhdmFpbGFibGVcbiAgICAgIHJlcXVlc3Qub25sb2FkZW5kID0gb25sb2FkZW5kO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBMaXN0ZW4gZm9yIHJlYWR5IHN0YXRlIHRvIGVtdWxhdGUgb25sb2FkZW5kXG4gICAgICByZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZUxvYWQoKSB7XG4gICAgICAgIGlmICghcmVxdWVzdCB8fCByZXF1ZXN0LnJlYWR5U3RhdGUgIT09IDQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGUgcmVxdWVzdCBlcnJvcmVkIG91dCBhbmQgd2UgZGlkbid0IGdldCBhIHJlc3BvbnNlLCB0aGlzIHdpbGwgYmVcbiAgICAgICAgLy8gaGFuZGxlZCBieSBvbmVycm9yIGluc3RlYWRcbiAgICAgICAgLy8gV2l0aCBvbmUgZXhjZXB0aW9uOiByZXF1ZXN0IHRoYXQgdXNpbmcgZmlsZTogcHJvdG9jb2wsIG1vc3QgYnJvd3NlcnNcbiAgICAgICAgLy8gd2lsbCByZXR1cm4gc3RhdHVzIGFzIDAgZXZlbiB0aG91Z2ggaXQncyBhIHN1Y2Nlc3NmdWwgcmVxdWVzdFxuICAgICAgICBpZiAocmVxdWVzdC5zdGF0dXMgPT09IDAgJiYgIShyZXF1ZXN0LnJlc3BvbnNlVVJMICYmIHJlcXVlc3QucmVzcG9uc2VVUkwuaW5kZXhPZignZmlsZTonKSA9PT0gMCkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVhZHlzdGF0ZSBoYW5kbGVyIGlzIGNhbGxpbmcgYmVmb3JlIG9uZXJyb3Igb3Igb250aW1lb3V0IGhhbmRsZXJzLFxuICAgICAgICAvLyBzbyB3ZSBzaG91bGQgY2FsbCBvbmxvYWRlbmQgb24gdGhlIG5leHQgJ3RpY2snXG4gICAgICAgIHNldFRpbWVvdXQob25sb2FkZW5kKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIGJyb3dzZXIgcmVxdWVzdCBjYW5jZWxsYXRpb24gKGFzIG9wcG9zZWQgdG8gYSBtYW51YWwgY2FuY2VsbGF0aW9uKVxuICAgIHJlcXVlc3Qub25hYm9ydCA9IGZ1bmN0aW9uIGhhbmRsZUFib3J0KCkge1xuICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmVqZWN0KG5ldyBBeGlvc0Vycm9yKCdSZXF1ZXN0IGFib3J0ZWQnLCBBeGlvc0Vycm9yLkVDT05OQUJPUlRFRCwgX2NvbmZpZywgcmVxdWVzdCkpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIGxvdyBsZXZlbCBuZXR3b3JrIGVycm9yc1xuICAgIHJlcXVlc3Qub25lcnJvciA9IGZ1bmN0aW9uIGhhbmRsZUVycm9yKCkge1xuICAgICAgLy8gUmVhbCBlcnJvcnMgYXJlIGhpZGRlbiBmcm9tIHVzIGJ5IHRoZSBicm93c2VyXG4gICAgICAvLyBvbmVycm9yIHNob3VsZCBvbmx5IGZpcmUgaWYgaXQncyBhIG5ldHdvcmsgZXJyb3JcbiAgICAgIHJlamVjdChuZXcgQXhpb3NFcnJvcignTmV0d29yayBFcnJvcicsIEF4aW9zRXJyb3IuRVJSX05FVFdPUkssIF9jb25maWcsIHJlcXVlc3QpKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEhhbmRsZSB0aW1lb3V0XG4gICAgcmVxdWVzdC5vbnRpbWVvdXQgPSBmdW5jdGlvbiBoYW5kbGVUaW1lb3V0KCkge1xuICAgICAgbGV0IHRpbWVvdXRFcnJvck1lc3NhZ2UgPSBfY29uZmlnLnRpbWVvdXQgPyAndGltZW91dCBvZiAnICsgX2NvbmZpZy50aW1lb3V0ICsgJ21zIGV4Y2VlZGVkJyA6ICd0aW1lb3V0IGV4Y2VlZGVkJztcbiAgICAgIGNvbnN0IHRyYW5zaXRpb25hbCA9IF9jb25maWcudHJhbnNpdGlvbmFsIHx8IHRyYW5zaXRpb25hbERlZmF1bHRzO1xuICAgICAgaWYgKF9jb25maWcudGltZW91dEVycm9yTWVzc2FnZSkge1xuICAgICAgICB0aW1lb3V0RXJyb3JNZXNzYWdlID0gX2NvbmZpZy50aW1lb3V0RXJyb3JNZXNzYWdlO1xuICAgICAgfVxuICAgICAgcmVqZWN0KG5ldyBBeGlvc0Vycm9yKFxuICAgICAgICB0aW1lb3V0RXJyb3JNZXNzYWdlLFxuICAgICAgICB0cmFuc2l0aW9uYWwuY2xhcmlmeVRpbWVvdXRFcnJvciA/IEF4aW9zRXJyb3IuRVRJTUVET1VUIDogQXhpb3NFcnJvci5FQ09OTkFCT1JURUQsXG4gICAgICAgIF9jb25maWcsXG4gICAgICAgIHJlcXVlc3QpKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIFJlbW92ZSBDb250ZW50LVR5cGUgaWYgZGF0YSBpcyB1bmRlZmluZWRcbiAgICByZXF1ZXN0RGF0YSA9PT0gdW5kZWZpbmVkICYmIHJlcXVlc3RIZWFkZXJzLnNldENvbnRlbnRUeXBlKG51bGwpO1xuXG4gICAgLy8gQWRkIGhlYWRlcnMgdG8gdGhlIHJlcXVlc3RcbiAgICBpZiAoJ3NldFJlcXVlc3RIZWFkZXInIGluIHJlcXVlc3QpIHtcbiAgICAgIHV0aWxzJDEuZm9yRWFjaChyZXF1ZXN0SGVhZGVycy50b0pTT04oKSwgZnVuY3Rpb24gc2V0UmVxdWVzdEhlYWRlcih2YWwsIGtleSkge1xuICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoa2V5LCB2YWwpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gQWRkIHdpdGhDcmVkZW50aWFscyB0byByZXF1ZXN0IGlmIG5lZWRlZFxuICAgIGlmICghdXRpbHMkMS5pc1VuZGVmaW5lZChfY29uZmlnLndpdGhDcmVkZW50aWFscykpIHtcbiAgICAgIHJlcXVlc3Qud2l0aENyZWRlbnRpYWxzID0gISFfY29uZmlnLndpdGhDcmVkZW50aWFscztcbiAgICB9XG5cbiAgICAvLyBBZGQgcmVzcG9uc2VUeXBlIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG4gICAgaWYgKHJlc3BvbnNlVHlwZSAmJiByZXNwb25zZVR5cGUgIT09ICdqc29uJykge1xuICAgICAgcmVxdWVzdC5yZXNwb25zZVR5cGUgPSBfY29uZmlnLnJlc3BvbnNlVHlwZTtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgcHJvZ3Jlc3MgaWYgbmVlZGVkXG4gICAgaWYgKHR5cGVvZiBfY29uZmlnLm9uRG93bmxvYWRQcm9ncmVzcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHByb2dyZXNzRXZlbnRSZWR1Y2VyKF9jb25maWcub25Eb3dubG9hZFByb2dyZXNzLCB0cnVlKSk7XG4gICAgfVxuXG4gICAgLy8gTm90IGFsbCBicm93c2VycyBzdXBwb3J0IHVwbG9hZCBldmVudHNcbiAgICBpZiAodHlwZW9mIF9jb25maWcub25VcGxvYWRQcm9ncmVzcyA9PT0gJ2Z1bmN0aW9uJyAmJiByZXF1ZXN0LnVwbG9hZCkge1xuICAgICAgcmVxdWVzdC51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCBwcm9ncmVzc0V2ZW50UmVkdWNlcihfY29uZmlnLm9uVXBsb2FkUHJvZ3Jlc3MpKTtcbiAgICB9XG5cbiAgICBpZiAoX2NvbmZpZy5jYW5jZWxUb2tlbiB8fCBfY29uZmlnLnNpZ25hbCkge1xuICAgICAgLy8gSGFuZGxlIGNhbmNlbGxhdGlvblxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbiAgICAgIG9uQ2FuY2VsZWQgPSBjYW5jZWwgPT4ge1xuICAgICAgICBpZiAoIXJlcXVlc3QpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmVqZWN0KCFjYW5jZWwgfHwgY2FuY2VsLnR5cGUgPyBuZXcgQ2FuY2VsZWRFcnJvcihudWxsLCBjb25maWcsIHJlcXVlc3QpIDogY2FuY2VsKTtcbiAgICAgICAgcmVxdWVzdC5hYm9ydCgpO1xuICAgICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICAgIH07XG5cbiAgICAgIF9jb25maWcuY2FuY2VsVG9rZW4gJiYgX2NvbmZpZy5jYW5jZWxUb2tlbi5zdWJzY3JpYmUob25DYW5jZWxlZCk7XG4gICAgICBpZiAoX2NvbmZpZy5zaWduYWwpIHtcbiAgICAgICAgX2NvbmZpZy5zaWduYWwuYWJvcnRlZCA/IG9uQ2FuY2VsZWQoKSA6IF9jb25maWcuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0Jywgb25DYW5jZWxlZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgcHJvdG9jb2wgPSBwYXJzZVByb3RvY29sKF9jb25maWcudXJsKTtcblxuICAgIGlmIChwcm90b2NvbCAmJiBwbGF0Zm9ybS5wcm90b2NvbHMuaW5kZXhPZihwcm90b2NvbCkgPT09IC0xKSB7XG4gICAgICByZWplY3QobmV3IEF4aW9zRXJyb3IoJ1Vuc3VwcG9ydGVkIHByb3RvY29sICcgKyBwcm90b2NvbCArICc6JywgQXhpb3NFcnJvci5FUlJfQkFEX1JFUVVFU1QsIGNvbmZpZykpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuXG4gICAgLy8gU2VuZCB0aGUgcmVxdWVzdFxuICAgIHJlcXVlc3Quc2VuZChyZXF1ZXN0RGF0YSB8fCBudWxsKTtcbiAgfSk7XG59O1xuXG5jb25zdCBjb21wb3NlU2lnbmFscyA9IChzaWduYWxzLCB0aW1lb3V0KSA9PiB7XG4gIGxldCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuXG4gIGxldCBhYm9ydGVkO1xuXG4gIGNvbnN0IG9uYWJvcnQgPSBmdW5jdGlvbiAoY2FuY2VsKSB7XG4gICAgaWYgKCFhYm9ydGVkKSB7XG4gICAgICBhYm9ydGVkID0gdHJ1ZTtcbiAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICBjb25zdCBlcnIgPSBjYW5jZWwgaW5zdGFuY2VvZiBFcnJvciA/IGNhbmNlbCA6IHRoaXMucmVhc29uO1xuICAgICAgY29udHJvbGxlci5hYm9ydChlcnIgaW5zdGFuY2VvZiBBeGlvc0Vycm9yID8gZXJyIDogbmV3IENhbmNlbGVkRXJyb3IoZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6IGVycikpO1xuICAgIH1cbiAgfTtcblxuICBsZXQgdGltZXIgPSB0aW1lb3V0ICYmIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIG9uYWJvcnQobmV3IEF4aW9zRXJyb3IoYHRpbWVvdXQgJHt0aW1lb3V0fSBvZiBtcyBleGNlZWRlZGAsIEF4aW9zRXJyb3IuRVRJTUVET1VUKSk7XG4gIH0sIHRpbWVvdXQpO1xuXG4gIGNvbnN0IHVuc3Vic2NyaWJlID0gKCkgPT4ge1xuICAgIGlmIChzaWduYWxzKSB7XG4gICAgICB0aW1lciAmJiBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgdGltZXIgPSBudWxsO1xuICAgICAgc2lnbmFscy5mb3JFYWNoKHNpZ25hbCA9PiB7XG4gICAgICAgIHNpZ25hbCAmJlxuICAgICAgICAoc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIgPyBzaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBvbmFib3J0KSA6IHNpZ25hbC51bnN1YnNjcmliZShvbmFib3J0KSk7XG4gICAgICB9KTtcbiAgICAgIHNpZ25hbHMgPSBudWxsO1xuICAgIH1cbiAgfTtcblxuICBzaWduYWxzLmZvckVhY2goKHNpZ25hbCkgPT4gc2lnbmFsICYmIHNpZ25hbC5hZGRFdmVudExpc3RlbmVyICYmIHNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIG9uYWJvcnQpKTtcblxuICBjb25zdCB7c2lnbmFsfSA9IGNvbnRyb2xsZXI7XG5cbiAgc2lnbmFsLnVuc3Vic2NyaWJlID0gdW5zdWJzY3JpYmU7XG5cbiAgcmV0dXJuIFtzaWduYWwsICgpID0+IHtcbiAgICB0aW1lciAmJiBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgIHRpbWVyID0gbnVsbDtcbiAgfV07XG59O1xuXG52YXIgY29tcG9zZVNpZ25hbHMkMSA9IGNvbXBvc2VTaWduYWxzO1xuXG5jb25zdCBzdHJlYW1DaHVuayA9IGZ1bmN0aW9uKiAoY2h1bmssIGNodW5rU2l6ZSkge1xuICBsZXQgbGVuID0gY2h1bmsuYnl0ZUxlbmd0aDtcblxuICBpZiAoIWNodW5rU2l6ZSB8fCBsZW4gPCBjaHVua1NpemUpIHtcbiAgICB5aWVsZCBjaHVuaztcbiAgICByZXR1cm47XG4gIH1cblxuICBsZXQgcG9zID0gMDtcbiAgbGV0IGVuZDtcblxuICB3aGlsZSAocG9zIDwgbGVuKSB7XG4gICAgZW5kID0gcG9zICsgY2h1bmtTaXplO1xuICAgIHlpZWxkIGNodW5rLnNsaWNlKHBvcywgZW5kKTtcbiAgICBwb3MgPSBlbmQ7XG4gIH1cbn07XG5cbmNvbnN0IHJlYWRCeXRlcyA9IGFzeW5jIGZ1bmN0aW9uKiAoaXRlcmFibGUsIGNodW5rU2l6ZSwgZW5jb2RlKSB7XG4gIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgaXRlcmFibGUpIHtcbiAgICB5aWVsZCogc3RyZWFtQ2h1bmsoQXJyYXlCdWZmZXIuaXNWaWV3KGNodW5rKSA/IGNodW5rIDogKGF3YWl0IGVuY29kZShTdHJpbmcoY2h1bmspKSksIGNodW5rU2l6ZSk7XG4gIH1cbn07XG5cbmNvbnN0IHRyYWNrU3RyZWFtID0gKHN0cmVhbSwgY2h1bmtTaXplLCBvblByb2dyZXNzLCBvbkZpbmlzaCwgZW5jb2RlKSA9PiB7XG4gIGNvbnN0IGl0ZXJhdG9yID0gcmVhZEJ5dGVzKHN0cmVhbSwgY2h1bmtTaXplLCBlbmNvZGUpO1xuXG4gIGxldCBieXRlcyA9IDA7XG5cbiAgcmV0dXJuIG5ldyBSZWFkYWJsZVN0cmVhbSh7XG4gICAgdHlwZTogJ2J5dGVzJyxcblxuICAgIGFzeW5jIHB1bGwoY29udHJvbGxlcikge1xuICAgICAgY29uc3Qge2RvbmUsIHZhbHVlfSA9IGF3YWl0IGl0ZXJhdG9yLm5leHQoKTtcblxuICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgY29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgICBvbkZpbmlzaCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGxldCBsZW4gPSB2YWx1ZS5ieXRlTGVuZ3RoO1xuICAgICAgb25Qcm9ncmVzcyAmJiBvblByb2dyZXNzKGJ5dGVzICs9IGxlbik7XG4gICAgICBjb250cm9sbGVyLmVucXVldWUobmV3IFVpbnQ4QXJyYXkodmFsdWUpKTtcbiAgICB9LFxuICAgIGNhbmNlbChyZWFzb24pIHtcbiAgICAgIG9uRmluaXNoKHJlYXNvbik7XG4gICAgICByZXR1cm4gaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgfVxuICB9LCB7XG4gICAgaGlnaFdhdGVyTWFyazogMlxuICB9KVxufTtcblxuY29uc3QgZmV0Y2hQcm9ncmVzc0RlY29yYXRvciA9ICh0b3RhbCwgZm4pID0+IHtcbiAgY29uc3QgbGVuZ3RoQ29tcHV0YWJsZSA9IHRvdGFsICE9IG51bGw7XG4gIHJldHVybiAobG9hZGVkKSA9PiBzZXRUaW1lb3V0KCgpID0+IGZuKHtcbiAgICBsZW5ndGhDb21wdXRhYmxlLFxuICAgIHRvdGFsLFxuICAgIGxvYWRlZFxuICB9KSk7XG59O1xuXG5jb25zdCBpc0ZldGNoU3VwcG9ydGVkID0gdHlwZW9mIGZldGNoID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBSZXF1ZXN0ID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBSZXNwb25zZSA9PT0gJ2Z1bmN0aW9uJztcbmNvbnN0IGlzUmVhZGFibGVTdHJlYW1TdXBwb3J0ZWQgPSBpc0ZldGNoU3VwcG9ydGVkICYmIHR5cGVvZiBSZWFkYWJsZVN0cmVhbSA9PT0gJ2Z1bmN0aW9uJztcblxuLy8gdXNlZCBvbmx5IGluc2lkZSB0aGUgZmV0Y2ggYWRhcHRlclxuY29uc3QgZW5jb2RlVGV4dCA9IGlzRmV0Y2hTdXBwb3J0ZWQgJiYgKHR5cGVvZiBUZXh0RW5jb2RlciA9PT0gJ2Z1bmN0aW9uJyA/XG4gICAgKChlbmNvZGVyKSA9PiAoc3RyKSA9PiBlbmNvZGVyLmVuY29kZShzdHIpKShuZXcgVGV4dEVuY29kZXIoKSkgOlxuICAgIGFzeW5jIChzdHIpID0+IG5ldyBVaW50OEFycmF5KGF3YWl0IG5ldyBSZXNwb25zZShzdHIpLmFycmF5QnVmZmVyKCkpXG4pO1xuXG5jb25zdCBzdXBwb3J0c1JlcXVlc3RTdHJlYW0gPSBpc1JlYWRhYmxlU3RyZWFtU3VwcG9ydGVkICYmICgoKSA9PiB7XG4gIGxldCBkdXBsZXhBY2Nlc3NlZCA9IGZhbHNlO1xuXG4gIGNvbnN0IGhhc0NvbnRlbnRUeXBlID0gbmV3IFJlcXVlc3QocGxhdGZvcm0ub3JpZ2luLCB7XG4gICAgYm9keTogbmV3IFJlYWRhYmxlU3RyZWFtKCksXG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgZ2V0IGR1cGxleCgpIHtcbiAgICAgIGR1cGxleEFjY2Vzc2VkID0gdHJ1ZTtcbiAgICAgIHJldHVybiAnaGFsZic7XG4gICAgfSxcbiAgfSkuaGVhZGVycy5oYXMoJ0NvbnRlbnQtVHlwZScpO1xuXG4gIHJldHVybiBkdXBsZXhBY2Nlc3NlZCAmJiAhaGFzQ29udGVudFR5cGU7XG59KSgpO1xuXG5jb25zdCBERUZBVUxUX0NIVU5LX1NJWkUgPSA2NCAqIDEwMjQ7XG5cbmNvbnN0IHN1cHBvcnRzUmVzcG9uc2VTdHJlYW0gPSBpc1JlYWRhYmxlU3RyZWFtU3VwcG9ydGVkICYmICEhKCgpPT4ge1xuICB0cnkge1xuICAgIHJldHVybiB1dGlscyQxLmlzUmVhZGFibGVTdHJlYW0obmV3IFJlc3BvbnNlKCcnKS5ib2R5KTtcbiAgfSBjYXRjaChlcnIpIHtcbiAgICAvLyByZXR1cm4gdW5kZWZpbmVkXG4gIH1cbn0pKCk7XG5cbmNvbnN0IHJlc29sdmVycyA9IHtcbiAgc3RyZWFtOiBzdXBwb3J0c1Jlc3BvbnNlU3RyZWFtICYmICgocmVzKSA9PiByZXMuYm9keSlcbn07XG5cbmlzRmV0Y2hTdXBwb3J0ZWQgJiYgKCgocmVzKSA9PiB7XG4gIFsndGV4dCcsICdhcnJheUJ1ZmZlcicsICdibG9iJywgJ2Zvcm1EYXRhJywgJ3N0cmVhbSddLmZvckVhY2godHlwZSA9PiB7XG4gICAgIXJlc29sdmVyc1t0eXBlXSAmJiAocmVzb2x2ZXJzW3R5cGVdID0gdXRpbHMkMS5pc0Z1bmN0aW9uKHJlc1t0eXBlXSkgPyAocmVzKSA9PiByZXNbdHlwZV0oKSA6XG4gICAgICAoXywgY29uZmlnKSA9PiB7XG4gICAgICAgIHRocm93IG5ldyBBeGlvc0Vycm9yKGBSZXNwb25zZSB0eXBlICcke3R5cGV9JyBpcyBub3Qgc3VwcG9ydGVkYCwgQXhpb3NFcnJvci5FUlJfTk9UX1NVUFBPUlQsIGNvbmZpZyk7XG4gICAgICB9KTtcbiAgfSk7XG59KShuZXcgUmVzcG9uc2UpKTtcblxuY29uc3QgZ2V0Qm9keUxlbmd0aCA9IGFzeW5jIChib2R5KSA9PiB7XG4gIGlmIChib2R5ID09IG51bGwpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIGlmKHV0aWxzJDEuaXNCbG9iKGJvZHkpKSB7XG4gICAgcmV0dXJuIGJvZHkuc2l6ZTtcbiAgfVxuXG4gIGlmKHV0aWxzJDEuaXNTcGVjQ29tcGxpYW50Rm9ybShib2R5KSkge1xuICAgIHJldHVybiAoYXdhaXQgbmV3IFJlcXVlc3QoYm9keSkuYXJyYXlCdWZmZXIoKSkuYnl0ZUxlbmd0aDtcbiAgfVxuXG4gIGlmKHV0aWxzJDEuaXNBcnJheUJ1ZmZlclZpZXcoYm9keSkpIHtcbiAgICByZXR1cm4gYm9keS5ieXRlTGVuZ3RoO1xuICB9XG5cbiAgaWYodXRpbHMkMS5pc1VSTFNlYXJjaFBhcmFtcyhib2R5KSkge1xuICAgIGJvZHkgPSBib2R5ICsgJyc7XG4gIH1cblxuICBpZih1dGlscyQxLmlzU3RyaW5nKGJvZHkpKSB7XG4gICAgcmV0dXJuIChhd2FpdCBlbmNvZGVUZXh0KGJvZHkpKS5ieXRlTGVuZ3RoO1xuICB9XG59O1xuXG5jb25zdCByZXNvbHZlQm9keUxlbmd0aCA9IGFzeW5jIChoZWFkZXJzLCBib2R5KSA9PiB7XG4gIGNvbnN0IGxlbmd0aCA9IHV0aWxzJDEudG9GaW5pdGVOdW1iZXIoaGVhZGVycy5nZXRDb250ZW50TGVuZ3RoKCkpO1xuXG4gIHJldHVybiBsZW5ndGggPT0gbnVsbCA/IGdldEJvZHlMZW5ndGgoYm9keSkgOiBsZW5ndGg7XG59O1xuXG52YXIgZmV0Y2hBZGFwdGVyID0gaXNGZXRjaFN1cHBvcnRlZCAmJiAoYXN5bmMgKGNvbmZpZykgPT4ge1xuICBsZXQge1xuICAgIHVybCxcbiAgICBtZXRob2QsXG4gICAgZGF0YSxcbiAgICBzaWduYWwsXG4gICAgY2FuY2VsVG9rZW4sXG4gICAgdGltZW91dCxcbiAgICBvbkRvd25sb2FkUHJvZ3Jlc3MsXG4gICAgb25VcGxvYWRQcm9ncmVzcyxcbiAgICByZXNwb25zZVR5cGUsXG4gICAgaGVhZGVycyxcbiAgICB3aXRoQ3JlZGVudGlhbHMgPSAnc2FtZS1vcmlnaW4nLFxuICAgIGZldGNoT3B0aW9uc1xuICB9ID0gcmVzb2x2ZUNvbmZpZyhjb25maWcpO1xuXG4gIHJlc3BvbnNlVHlwZSA9IHJlc3BvbnNlVHlwZSA/IChyZXNwb25zZVR5cGUgKyAnJykudG9Mb3dlckNhc2UoKSA6ICd0ZXh0JztcblxuICBsZXQgW2NvbXBvc2VkU2lnbmFsLCBzdG9wVGltZW91dF0gPSAoc2lnbmFsIHx8IGNhbmNlbFRva2VuIHx8IHRpbWVvdXQpID9cbiAgICBjb21wb3NlU2lnbmFscyQxKFtzaWduYWwsIGNhbmNlbFRva2VuXSwgdGltZW91dCkgOiBbXTtcblxuICBsZXQgZmluaXNoZWQsIHJlcXVlc3Q7XG5cbiAgY29uc3Qgb25GaW5pc2ggPSAoKSA9PiB7XG4gICAgIWZpbmlzaGVkICYmIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY29tcG9zZWRTaWduYWwgJiYgY29tcG9zZWRTaWduYWwudW5zdWJzY3JpYmUoKTtcbiAgICB9KTtcblxuICAgIGZpbmlzaGVkID0gdHJ1ZTtcbiAgfTtcblxuICBsZXQgcmVxdWVzdENvbnRlbnRMZW5ndGg7XG5cbiAgdHJ5IHtcbiAgICBpZiAoXG4gICAgICBvblVwbG9hZFByb2dyZXNzICYmIHN1cHBvcnRzUmVxdWVzdFN0cmVhbSAmJiBtZXRob2QgIT09ICdnZXQnICYmIG1ldGhvZCAhPT0gJ2hlYWQnICYmXG4gICAgICAocmVxdWVzdENvbnRlbnRMZW5ndGggPSBhd2FpdCByZXNvbHZlQm9keUxlbmd0aChoZWFkZXJzLCBkYXRhKSkgIT09IDBcbiAgICApIHtcbiAgICAgIGxldCBfcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KHVybCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogZGF0YSxcbiAgICAgICAgZHVwbGV4OiBcImhhbGZcIlxuICAgICAgfSk7XG5cbiAgICAgIGxldCBjb250ZW50VHlwZUhlYWRlcjtcblxuICAgICAgaWYgKHV0aWxzJDEuaXNGb3JtRGF0YShkYXRhKSAmJiAoY29udGVudFR5cGVIZWFkZXIgPSBfcmVxdWVzdC5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJykpKSB7XG4gICAgICAgIGhlYWRlcnMuc2V0Q29udGVudFR5cGUoY29udGVudFR5cGVIZWFkZXIpO1xuICAgICAgfVxuXG4gICAgICBpZiAoX3JlcXVlc3QuYm9keSkge1xuICAgICAgICBkYXRhID0gdHJhY2tTdHJlYW0oX3JlcXVlc3QuYm9keSwgREVGQVVMVF9DSFVOS19TSVpFLCBmZXRjaFByb2dyZXNzRGVjb3JhdG9yKFxuICAgICAgICAgIHJlcXVlc3RDb250ZW50TGVuZ3RoLFxuICAgICAgICAgIHByb2dyZXNzRXZlbnRSZWR1Y2VyKG9uVXBsb2FkUHJvZ3Jlc3MpXG4gICAgICAgICksIG51bGwsIGVuY29kZVRleHQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghdXRpbHMkMS5pc1N0cmluZyh3aXRoQ3JlZGVudGlhbHMpKSB7XG4gICAgICB3aXRoQ3JlZGVudGlhbHMgPSB3aXRoQ3JlZGVudGlhbHMgPyAnY29ycycgOiAnb21pdCc7XG4gICAgfVxuXG4gICAgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KHVybCwge1xuICAgICAgLi4uZmV0Y2hPcHRpb25zLFxuICAgICAgc2lnbmFsOiBjb21wb3NlZFNpZ25hbCxcbiAgICAgIG1ldGhvZDogbWV0aG9kLnRvVXBwZXJDYXNlKCksXG4gICAgICBoZWFkZXJzOiBoZWFkZXJzLm5vcm1hbGl6ZSgpLnRvSlNPTigpLFxuICAgICAgYm9keTogZGF0YSxcbiAgICAgIGR1cGxleDogXCJoYWxmXCIsXG4gICAgICB3aXRoQ3JlZGVudGlhbHNcbiAgICB9KTtcblxuICAgIGxldCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHJlcXVlc3QpO1xuXG4gICAgY29uc3QgaXNTdHJlYW1SZXNwb25zZSA9IHN1cHBvcnRzUmVzcG9uc2VTdHJlYW0gJiYgKHJlc3BvbnNlVHlwZSA9PT0gJ3N0cmVhbScgfHwgcmVzcG9uc2VUeXBlID09PSAncmVzcG9uc2UnKTtcblxuICAgIGlmIChzdXBwb3J0c1Jlc3BvbnNlU3RyZWFtICYmIChvbkRvd25sb2FkUHJvZ3Jlc3MgfHwgaXNTdHJlYW1SZXNwb25zZSkpIHtcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSB7fTtcblxuICAgICAgWydzdGF0dXMnLCAnc3RhdHVzVGV4dCcsICdoZWFkZXJzJ10uZm9yRWFjaChwcm9wID0+IHtcbiAgICAgICAgb3B0aW9uc1twcm9wXSA9IHJlc3BvbnNlW3Byb3BdO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlQ29udGVudExlbmd0aCA9IHV0aWxzJDEudG9GaW5pdGVOdW1iZXIocmVzcG9uc2UuaGVhZGVycy5nZXQoJ2NvbnRlbnQtbGVuZ3RoJykpO1xuXG4gICAgICByZXNwb25zZSA9IG5ldyBSZXNwb25zZShcbiAgICAgICAgdHJhY2tTdHJlYW0ocmVzcG9uc2UuYm9keSwgREVGQVVMVF9DSFVOS19TSVpFLCBvbkRvd25sb2FkUHJvZ3Jlc3MgJiYgZmV0Y2hQcm9ncmVzc0RlY29yYXRvcihcbiAgICAgICAgICByZXNwb25zZUNvbnRlbnRMZW5ndGgsXG4gICAgICAgICAgcHJvZ3Jlc3NFdmVudFJlZHVjZXIob25Eb3dubG9hZFByb2dyZXNzLCB0cnVlKVxuICAgICAgICApLCBpc1N0cmVhbVJlc3BvbnNlICYmIG9uRmluaXNoLCBlbmNvZGVUZXh0KSxcbiAgICAgICAgb3B0aW9uc1xuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXNwb25zZVR5cGUgPSByZXNwb25zZVR5cGUgfHwgJ3RleHQnO1xuXG4gICAgbGV0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc29sdmVyc1t1dGlscyQxLmZpbmRLZXkocmVzb2x2ZXJzLCByZXNwb25zZVR5cGUpIHx8ICd0ZXh0J10ocmVzcG9uc2UsIGNvbmZpZyk7XG5cbiAgICAhaXNTdHJlYW1SZXNwb25zZSAmJiBvbkZpbmlzaCgpO1xuXG4gICAgc3RvcFRpbWVvdXQgJiYgc3RvcFRpbWVvdXQoKTtcblxuICAgIHJldHVybiBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB7XG4gICAgICAgIGRhdGE6IHJlc3BvbnNlRGF0YSxcbiAgICAgICAgaGVhZGVyczogQXhpb3NIZWFkZXJzJDEuZnJvbShyZXNwb25zZS5oZWFkZXJzKSxcbiAgICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgIHN0YXR1c1RleHQ6IHJlc3BvbnNlLnN0YXR1c1RleHQsXG4gICAgICAgIGNvbmZpZyxcbiAgICAgICAgcmVxdWVzdFxuICAgICAgfSk7XG4gICAgfSlcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgb25GaW5pc2goKTtcblxuICAgIGlmIChlcnIgJiYgZXJyLm5hbWUgPT09ICdUeXBlRXJyb3InICYmIC9mZXRjaC9pLnRlc3QoZXJyLm1lc3NhZ2UpKSB7XG4gICAgICB0aHJvdyBPYmplY3QuYXNzaWduKFxuICAgICAgICBuZXcgQXhpb3NFcnJvcignTmV0d29yayBFcnJvcicsIEF4aW9zRXJyb3IuRVJSX05FVFdPUkssIGNvbmZpZywgcmVxdWVzdCksXG4gICAgICAgIHtcbiAgICAgICAgICBjYXVzZTogZXJyLmNhdXNlIHx8IGVyclxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuXG4gICAgdGhyb3cgQXhpb3NFcnJvci5mcm9tKGVyciwgZXJyICYmIGVyci5jb2RlLCBjb25maWcsIHJlcXVlc3QpO1xuICB9XG59KTtcblxuY29uc3Qga25vd25BZGFwdGVycyA9IHtcbiAgaHR0cDogaHR0cEFkYXB0ZXIsXG4gIHhocjogeGhyQWRhcHRlcixcbiAgZmV0Y2g6IGZldGNoQWRhcHRlclxufTtcblxudXRpbHMkMS5mb3JFYWNoKGtub3duQWRhcHRlcnMsIChmbiwgdmFsdWUpID0+IHtcbiAgaWYgKGZuKSB7XG4gICAgdHJ5IHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgJ25hbWUnLCB7dmFsdWV9KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZW1wdHlcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCAnYWRhcHRlck5hbWUnLCB7dmFsdWV9KTtcbiAgfVxufSk7XG5cbmNvbnN0IHJlbmRlclJlYXNvbiA9IChyZWFzb24pID0+IGAtICR7cmVhc29ufWA7XG5cbmNvbnN0IGlzUmVzb2x2ZWRIYW5kbGUgPSAoYWRhcHRlcikgPT4gdXRpbHMkMS5pc0Z1bmN0aW9uKGFkYXB0ZXIpIHx8IGFkYXB0ZXIgPT09IG51bGwgfHwgYWRhcHRlciA9PT0gZmFsc2U7XG5cbnZhciBhZGFwdGVycyA9IHtcbiAgZ2V0QWRhcHRlcjogKGFkYXB0ZXJzKSA9PiB7XG4gICAgYWRhcHRlcnMgPSB1dGlscyQxLmlzQXJyYXkoYWRhcHRlcnMpID8gYWRhcHRlcnMgOiBbYWRhcHRlcnNdO1xuXG4gICAgY29uc3Qge2xlbmd0aH0gPSBhZGFwdGVycztcbiAgICBsZXQgbmFtZU9yQWRhcHRlcjtcbiAgICBsZXQgYWRhcHRlcjtcblxuICAgIGNvbnN0IHJlamVjdGVkUmVhc29ucyA9IHt9O1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgbmFtZU9yQWRhcHRlciA9IGFkYXB0ZXJzW2ldO1xuICAgICAgbGV0IGlkO1xuXG4gICAgICBhZGFwdGVyID0gbmFtZU9yQWRhcHRlcjtcblxuICAgICAgaWYgKCFpc1Jlc29sdmVkSGFuZGxlKG5hbWVPckFkYXB0ZXIpKSB7XG4gICAgICAgIGFkYXB0ZXIgPSBrbm93bkFkYXB0ZXJzWyhpZCA9IFN0cmluZyhuYW1lT3JBZGFwdGVyKSkudG9Mb3dlckNhc2UoKV07XG5cbiAgICAgICAgaWYgKGFkYXB0ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRocm93IG5ldyBBeGlvc0Vycm9yKGBVbmtub3duIGFkYXB0ZXIgJyR7aWR9J2ApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChhZGFwdGVyKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICByZWplY3RlZFJlYXNvbnNbaWQgfHwgJyMnICsgaV0gPSBhZGFwdGVyO1xuICAgIH1cblxuICAgIGlmICghYWRhcHRlcikge1xuXG4gICAgICBjb25zdCByZWFzb25zID0gT2JqZWN0LmVudHJpZXMocmVqZWN0ZWRSZWFzb25zKVxuICAgICAgICAubWFwKChbaWQsIHN0YXRlXSkgPT4gYGFkYXB0ZXIgJHtpZH0gYCArXG4gICAgICAgICAgKHN0YXRlID09PSBmYWxzZSA/ICdpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBlbnZpcm9ubWVudCcgOiAnaXMgbm90IGF2YWlsYWJsZSBpbiB0aGUgYnVpbGQnKVxuICAgICAgICApO1xuXG4gICAgICBsZXQgcyA9IGxlbmd0aCA/XG4gICAgICAgIChyZWFzb25zLmxlbmd0aCA+IDEgPyAnc2luY2UgOlxcbicgKyByZWFzb25zLm1hcChyZW5kZXJSZWFzb24pLmpvaW4oJ1xcbicpIDogJyAnICsgcmVuZGVyUmVhc29uKHJlYXNvbnNbMF0pKSA6XG4gICAgICAgICdhcyBubyBhZGFwdGVyIHNwZWNpZmllZCc7XG5cbiAgICAgIHRocm93IG5ldyBBeGlvc0Vycm9yKFxuICAgICAgICBgVGhlcmUgaXMgbm8gc3VpdGFibGUgYWRhcHRlciB0byBkaXNwYXRjaCB0aGUgcmVxdWVzdCBgICsgcyxcbiAgICAgICAgJ0VSUl9OT1RfU1VQUE9SVCdcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFkYXB0ZXI7XG4gIH0sXG4gIGFkYXB0ZXJzOiBrbm93bkFkYXB0ZXJzXG59O1xuXG4vKipcbiAqIFRocm93cyBhIGBDYW5jZWxlZEVycm9yYCBpZiBjYW5jZWxsYXRpb24gaGFzIGJlZW4gcmVxdWVzdGVkLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZyB0aGF0IGlzIHRvIGJlIHVzZWQgZm9yIHRoZSByZXF1ZXN0XG4gKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKSB7XG4gIGlmIChjb25maWcuY2FuY2VsVG9rZW4pIHtcbiAgICBjb25maWcuY2FuY2VsVG9rZW4udGhyb3dJZlJlcXVlc3RlZCgpO1xuICB9XG5cbiAgaWYgKGNvbmZpZy5zaWduYWwgJiYgY29uZmlnLnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgdGhyb3cgbmV3IENhbmNlbGVkRXJyb3IobnVsbCwgY29uZmlnKTtcbiAgfVxufVxuXG4vKipcbiAqIERpc3BhdGNoIGEgcmVxdWVzdCB0byB0aGUgc2VydmVyIHVzaW5nIHRoZSBjb25maWd1cmVkIGFkYXB0ZXIuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGNvbmZpZyBUaGUgY29uZmlnIHRoYXQgaXMgdG8gYmUgdXNlZCBmb3IgdGhlIHJlcXVlc3RcbiAqXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gVGhlIFByb21pc2UgdG8gYmUgZnVsZmlsbGVkXG4gKi9cbmZ1bmN0aW9uIGRpc3BhdGNoUmVxdWVzdChjb25maWcpIHtcbiAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gIGNvbmZpZy5oZWFkZXJzID0gQXhpb3NIZWFkZXJzJDEuZnJvbShjb25maWcuaGVhZGVycyk7XG5cbiAgLy8gVHJhbnNmb3JtIHJlcXVlc3QgZGF0YVxuICBjb25maWcuZGF0YSA9IHRyYW5zZm9ybURhdGEuY2FsbChcbiAgICBjb25maWcsXG4gICAgY29uZmlnLnRyYW5zZm9ybVJlcXVlc3RcbiAgKTtcblxuICBpZiAoWydwb3N0JywgJ3B1dCcsICdwYXRjaCddLmluZGV4T2YoY29uZmlnLm1ldGhvZCkgIT09IC0xKSB7XG4gICAgY29uZmlnLmhlYWRlcnMuc2V0Q29udGVudFR5cGUoJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsIGZhbHNlKTtcbiAgfVxuXG4gIGNvbnN0IGFkYXB0ZXIgPSBhZGFwdGVycy5nZXRBZGFwdGVyKGNvbmZpZy5hZGFwdGVyIHx8IGRlZmF1bHRzJDEuYWRhcHRlcik7XG5cbiAgcmV0dXJuIGFkYXB0ZXIoY29uZmlnKS50aGVuKGZ1bmN0aW9uIG9uQWRhcHRlclJlc29sdXRpb24ocmVzcG9uc2UpIHtcbiAgICB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZyk7XG5cbiAgICAvLyBUcmFuc2Zvcm0gcmVzcG9uc2UgZGF0YVxuICAgIHJlc3BvbnNlLmRhdGEgPSB0cmFuc2Zvcm1EYXRhLmNhbGwoXG4gICAgICBjb25maWcsXG4gICAgICBjb25maWcudHJhbnNmb3JtUmVzcG9uc2UsXG4gICAgICByZXNwb25zZVxuICAgICk7XG5cbiAgICByZXNwb25zZS5oZWFkZXJzID0gQXhpb3NIZWFkZXJzJDEuZnJvbShyZXNwb25zZS5oZWFkZXJzKTtcblxuICAgIHJldHVybiByZXNwb25zZTtcbiAgfSwgZnVuY3Rpb24gb25BZGFwdGVyUmVqZWN0aW9uKHJlYXNvbikge1xuICAgIGlmICghaXNDYW5jZWwocmVhc29uKSkge1xuICAgICAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gICAgICAvLyBUcmFuc2Zvcm0gcmVzcG9uc2UgZGF0YVxuICAgICAgaWYgKHJlYXNvbiAmJiByZWFzb24ucmVzcG9uc2UpIHtcbiAgICAgICAgcmVhc29uLnJlc3BvbnNlLmRhdGEgPSB0cmFuc2Zvcm1EYXRhLmNhbGwoXG4gICAgICAgICAgY29uZmlnLFxuICAgICAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZSxcbiAgICAgICAgICByZWFzb24ucmVzcG9uc2VcbiAgICAgICAgKTtcbiAgICAgICAgcmVhc29uLnJlc3BvbnNlLmhlYWRlcnMgPSBBeGlvc0hlYWRlcnMkMS5mcm9tKHJlYXNvbi5yZXNwb25zZS5oZWFkZXJzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVhc29uKTtcbiAgfSk7XG59XG5cbmNvbnN0IFZFUlNJT04gPSBcIjEuNy4yXCI7XG5cbmNvbnN0IHZhbGlkYXRvcnMkMSA9IHt9O1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuWydvYmplY3QnLCAnYm9vbGVhbicsICdudW1iZXInLCAnZnVuY3Rpb24nLCAnc3RyaW5nJywgJ3N5bWJvbCddLmZvckVhY2goKHR5cGUsIGkpID0+IHtcbiAgdmFsaWRhdG9ycyQxW3R5cGVdID0gZnVuY3Rpb24gdmFsaWRhdG9yKHRoaW5nKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0aGluZyA9PT0gdHlwZSB8fCAnYScgKyAoaSA8IDEgPyAnbiAnIDogJyAnKSArIHR5cGU7XG4gIH07XG59KTtcblxuY29uc3QgZGVwcmVjYXRlZFdhcm5pbmdzID0ge307XG5cbi8qKlxuICogVHJhbnNpdGlvbmFsIG9wdGlvbiB2YWxpZGF0b3JcbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufGJvb2xlYW4/fSB2YWxpZGF0b3IgLSBzZXQgdG8gZmFsc2UgaWYgdGhlIHRyYW5zaXRpb25hbCBvcHRpb24gaGFzIGJlZW4gcmVtb3ZlZFxuICogQHBhcmFtIHtzdHJpbmc/fSB2ZXJzaW9uIC0gZGVwcmVjYXRlZCB2ZXJzaW9uIC8gcmVtb3ZlZCBzaW5jZSB2ZXJzaW9uXG4gKiBAcGFyYW0ge3N0cmluZz99IG1lc3NhZ2UgLSBzb21lIG1lc3NhZ2Ugd2l0aCBhZGRpdGlvbmFsIGluZm9cbiAqXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb259XG4gKi9cbnZhbGlkYXRvcnMkMS50cmFuc2l0aW9uYWwgPSBmdW5jdGlvbiB0cmFuc2l0aW9uYWwodmFsaWRhdG9yLCB2ZXJzaW9uLCBtZXNzYWdlKSB7XG4gIGZ1bmN0aW9uIGZvcm1hdE1lc3NhZ2Uob3B0LCBkZXNjKSB7XG4gICAgcmV0dXJuICdbQXhpb3MgdicgKyBWRVJTSU9OICsgJ10gVHJhbnNpdGlvbmFsIG9wdGlvbiBcXCcnICsgb3B0ICsgJ1xcJycgKyBkZXNjICsgKG1lc3NhZ2UgPyAnLiAnICsgbWVzc2FnZSA6ICcnKTtcbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gIHJldHVybiAodmFsdWUsIG9wdCwgb3B0cykgPT4ge1xuICAgIGlmICh2YWxpZGF0b3IgPT09IGZhbHNlKSB7XG4gICAgICB0aHJvdyBuZXcgQXhpb3NFcnJvcihcbiAgICAgICAgZm9ybWF0TWVzc2FnZShvcHQsICcgaGFzIGJlZW4gcmVtb3ZlZCcgKyAodmVyc2lvbiA/ICcgaW4gJyArIHZlcnNpb24gOiAnJykpLFxuICAgICAgICBBeGlvc0Vycm9yLkVSUl9ERVBSRUNBVEVEXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICh2ZXJzaW9uICYmICFkZXByZWNhdGVkV2FybmluZ3Nbb3B0XSkge1xuICAgICAgZGVwcmVjYXRlZFdhcm5pbmdzW29wdF0gPSB0cnVlO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgZm9ybWF0TWVzc2FnZShcbiAgICAgICAgICBvcHQsXG4gICAgICAgICAgJyBoYXMgYmVlbiBkZXByZWNhdGVkIHNpbmNlIHYnICsgdmVyc2lvbiArICcgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmVhciBmdXR1cmUnXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbGlkYXRvciA/IHZhbGlkYXRvcih2YWx1ZSwgb3B0LCBvcHRzKSA6IHRydWU7XG4gIH07XG59O1xuXG4vKipcbiAqIEFzc2VydCBvYmplY3QncyBwcm9wZXJ0aWVzIHR5cGVcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xuICogQHBhcmFtIHtvYmplY3R9IHNjaGVtYVxuICogQHBhcmFtIHtib29sZWFuP30gYWxsb3dVbmtub3duXG4gKlxuICogQHJldHVybnMge29iamVjdH1cbiAqL1xuXG5mdW5jdGlvbiBhc3NlcnRPcHRpb25zKG9wdGlvbnMsIHNjaGVtYSwgYWxsb3dVbmtub3duKSB7XG4gIGlmICh0eXBlb2Ygb3B0aW9ucyAhPT0gJ29iamVjdCcpIHtcbiAgICB0aHJvdyBuZXcgQXhpb3NFcnJvcignb3B0aW9ucyBtdXN0IGJlIGFuIG9iamVjdCcsIEF4aW9zRXJyb3IuRVJSX0JBRF9PUFRJT05fVkFMVUUpO1xuICB9XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvcHRpb25zKTtcbiAgbGV0IGkgPSBrZXlzLmxlbmd0aDtcbiAgd2hpbGUgKGktLSA+IDApIHtcbiAgICBjb25zdCBvcHQgPSBrZXlzW2ldO1xuICAgIGNvbnN0IHZhbGlkYXRvciA9IHNjaGVtYVtvcHRdO1xuICAgIGlmICh2YWxpZGF0b3IpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gb3B0aW9uc1tvcHRdO1xuICAgICAgY29uc3QgcmVzdWx0ID0gdmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWxpZGF0b3IodmFsdWUsIG9wdCwgb3B0aW9ucyk7XG4gICAgICBpZiAocmVzdWx0ICE9PSB0cnVlKSB7XG4gICAgICAgIHRocm93IG5ldyBBeGlvc0Vycm9yKCdvcHRpb24gJyArIG9wdCArICcgbXVzdCBiZSAnICsgcmVzdWx0LCBBeGlvc0Vycm9yLkVSUl9CQURfT1BUSU9OX1ZBTFVFKTtcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoYWxsb3dVbmtub3duICE9PSB0cnVlKSB7XG4gICAgICB0aHJvdyBuZXcgQXhpb3NFcnJvcignVW5rbm93biBvcHRpb24gJyArIG9wdCwgQXhpb3NFcnJvci5FUlJfQkFEX09QVElPTik7XG4gICAgfVxuICB9XG59XG5cbnZhciB2YWxpZGF0b3IgPSB7XG4gIGFzc2VydE9wdGlvbnMsXG4gIHZhbGlkYXRvcnM6IHZhbGlkYXRvcnMkMVxufTtcblxuY29uc3QgdmFsaWRhdG9ycyA9IHZhbGlkYXRvci52YWxpZGF0b3JzO1xuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBpbnN0YW5jZSBvZiBBeGlvc1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZUNvbmZpZyBUaGUgZGVmYXVsdCBjb25maWcgZm9yIHRoZSBpbnN0YW5jZVxuICpcbiAqIEByZXR1cm4ge0F4aW9zfSBBIG5ldyBpbnN0YW5jZSBvZiBBeGlvc1xuICovXG5jbGFzcyBBeGlvcyB7XG4gIGNvbnN0cnVjdG9yKGluc3RhbmNlQ29uZmlnKSB7XG4gICAgdGhpcy5kZWZhdWx0cyA9IGluc3RhbmNlQ29uZmlnO1xuICAgIHRoaXMuaW50ZXJjZXB0b3JzID0ge1xuICAgICAgcmVxdWVzdDogbmV3IEludGVyY2VwdG9yTWFuYWdlciQxKCksXG4gICAgICByZXNwb25zZTogbmV3IEludGVyY2VwdG9yTWFuYWdlciQxKClcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIERpc3BhdGNoIGEgcmVxdWVzdFxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IGNvbmZpZ09yVXJsIFRoZSBjb25maWcgc3BlY2lmaWMgZm9yIHRoaXMgcmVxdWVzdCAobWVyZ2VkIHdpdGggdGhpcy5kZWZhdWx0cylcbiAgICogQHBhcmFtIHs/T2JqZWN0fSBjb25maWdcbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2V9IFRoZSBQcm9taXNlIHRvIGJlIGZ1bGZpbGxlZFxuICAgKi9cbiAgYXN5bmMgcmVxdWVzdChjb25maWdPclVybCwgY29uZmlnKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9yZXF1ZXN0KGNvbmZpZ09yVXJsLCBjb25maWcpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgaWYgKGVyciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIGxldCBkdW1teTtcblxuICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSA/IEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKGR1bW15ID0ge30pIDogKGR1bW15ID0gbmV3IEVycm9yKCkpO1xuXG4gICAgICAgIC8vIHNsaWNlIG9mZiB0aGUgRXJyb3I6IC4uLiBsaW5lXG4gICAgICAgIGNvbnN0IHN0YWNrID0gZHVtbXkuc3RhY2sgPyBkdW1teS5zdGFjay5yZXBsYWNlKC9eLitcXG4vLCAnJykgOiAnJztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoIWVyci5zdGFjaykge1xuICAgICAgICAgICAgZXJyLnN0YWNrID0gc3RhY2s7XG4gICAgICAgICAgICAvLyBtYXRjaCB3aXRob3V0IHRoZSAyIHRvcCBzdGFjayBsaW5lc1xuICAgICAgICAgIH0gZWxzZSBpZiAoc3RhY2sgJiYgIVN0cmluZyhlcnIuc3RhY2spLmVuZHNXaXRoKHN0YWNrLnJlcGxhY2UoL14uK1xcbi4rXFxuLywgJycpKSkge1xuICAgICAgICAgICAgZXJyLnN0YWNrICs9ICdcXG4nICsgc3RhY2s7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gaWdub3JlIHRoZSBjYXNlIHdoZXJlIFwic3RhY2tcIiBpcyBhbiB1bi13cml0YWJsZSBwcm9wZXJ0eVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH1cblxuICBfcmVxdWVzdChjb25maWdPclVybCwgY29uZmlnKSB7XG4gICAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gICAgLy8gQWxsb3cgZm9yIGF4aW9zKCdleGFtcGxlL3VybCdbLCBjb25maWddKSBhIGxhIGZldGNoIEFQSVxuICAgIGlmICh0eXBlb2YgY29uZmlnT3JVcmwgPT09ICdzdHJpbmcnKSB7XG4gICAgICBjb25maWcgPSBjb25maWcgfHwge307XG4gICAgICBjb25maWcudXJsID0gY29uZmlnT3JVcmw7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbmZpZyA9IGNvbmZpZ09yVXJsIHx8IHt9O1xuICAgIH1cblxuICAgIGNvbmZpZyA9IG1lcmdlQ29uZmlnKHRoaXMuZGVmYXVsdHMsIGNvbmZpZyk7XG5cbiAgICBjb25zdCB7dHJhbnNpdGlvbmFsLCBwYXJhbXNTZXJpYWxpemVyLCBoZWFkZXJzfSA9IGNvbmZpZztcblxuICAgIGlmICh0cmFuc2l0aW9uYWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFsaWRhdG9yLmFzc2VydE9wdGlvbnModHJhbnNpdGlvbmFsLCB7XG4gICAgICAgIHNpbGVudEpTT05QYXJzaW5nOiB2YWxpZGF0b3JzLnRyYW5zaXRpb25hbCh2YWxpZGF0b3JzLmJvb2xlYW4pLFxuICAgICAgICBmb3JjZWRKU09OUGFyc2luZzogdmFsaWRhdG9ycy50cmFuc2l0aW9uYWwodmFsaWRhdG9ycy5ib29sZWFuKSxcbiAgICAgICAgY2xhcmlmeVRpbWVvdXRFcnJvcjogdmFsaWRhdG9ycy50cmFuc2l0aW9uYWwodmFsaWRhdG9ycy5ib29sZWFuKVxuICAgICAgfSwgZmFsc2UpO1xuICAgIH1cblxuICAgIGlmIChwYXJhbXNTZXJpYWxpemVyICE9IG51bGwpIHtcbiAgICAgIGlmICh1dGlscyQxLmlzRnVuY3Rpb24ocGFyYW1zU2VyaWFsaXplcikpIHtcbiAgICAgICAgY29uZmlnLnBhcmFtc1NlcmlhbGl6ZXIgPSB7XG4gICAgICAgICAgc2VyaWFsaXplOiBwYXJhbXNTZXJpYWxpemVyXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWxpZGF0b3IuYXNzZXJ0T3B0aW9ucyhwYXJhbXNTZXJpYWxpemVyLCB7XG4gICAgICAgICAgZW5jb2RlOiB2YWxpZGF0b3JzLmZ1bmN0aW9uLFxuICAgICAgICAgIHNlcmlhbGl6ZTogdmFsaWRhdG9ycy5mdW5jdGlvblxuICAgICAgICB9LCB0cnVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTZXQgY29uZmlnLm1ldGhvZFxuICAgIGNvbmZpZy5tZXRob2QgPSAoY29uZmlnLm1ldGhvZCB8fCB0aGlzLmRlZmF1bHRzLm1ldGhvZCB8fCAnZ2V0JykudG9Mb3dlckNhc2UoKTtcblxuICAgIC8vIEZsYXR0ZW4gaGVhZGVyc1xuICAgIGxldCBjb250ZXh0SGVhZGVycyA9IGhlYWRlcnMgJiYgdXRpbHMkMS5tZXJnZShcbiAgICAgIGhlYWRlcnMuY29tbW9uLFxuICAgICAgaGVhZGVyc1tjb25maWcubWV0aG9kXVxuICAgICk7XG5cbiAgICBoZWFkZXJzICYmIHV0aWxzJDEuZm9yRWFjaChcbiAgICAgIFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJywgJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJywgJ2NvbW1vbiddLFxuICAgICAgKG1ldGhvZCkgPT4ge1xuICAgICAgICBkZWxldGUgaGVhZGVyc1ttZXRob2RdO1xuICAgICAgfVxuICAgICk7XG5cbiAgICBjb25maWcuaGVhZGVycyA9IEF4aW9zSGVhZGVycyQxLmNvbmNhdChjb250ZXh0SGVhZGVycywgaGVhZGVycyk7XG5cbiAgICAvLyBmaWx0ZXIgb3V0IHNraXBwZWQgaW50ZXJjZXB0b3JzXG4gICAgY29uc3QgcmVxdWVzdEludGVyY2VwdG9yQ2hhaW4gPSBbXTtcbiAgICBsZXQgc3luY2hyb25vdXNSZXF1ZXN0SW50ZXJjZXB0b3JzID0gdHJ1ZTtcbiAgICB0aGlzLmludGVyY2VwdG9ycy5yZXF1ZXN0LmZvckVhY2goZnVuY3Rpb24gdW5zaGlmdFJlcXVlc3RJbnRlcmNlcHRvcnMoaW50ZXJjZXB0b3IpIHtcbiAgICAgIGlmICh0eXBlb2YgaW50ZXJjZXB0b3IucnVuV2hlbiA9PT0gJ2Z1bmN0aW9uJyAmJiBpbnRlcmNlcHRvci5ydW5XaGVuKGNvbmZpZykgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc3luY2hyb25vdXNSZXF1ZXN0SW50ZXJjZXB0b3JzID0gc3luY2hyb25vdXNSZXF1ZXN0SW50ZXJjZXB0b3JzICYmIGludGVyY2VwdG9yLnN5bmNocm9ub3VzO1xuXG4gICAgICByZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbi51bnNoaWZ0KGludGVyY2VwdG9yLmZ1bGZpbGxlZCwgaW50ZXJjZXB0b3IucmVqZWN0ZWQpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgcmVzcG9uc2VJbnRlcmNlcHRvckNoYWluID0gW107XG4gICAgdGhpcy5pbnRlcmNlcHRvcnMucmVzcG9uc2UuZm9yRWFjaChmdW5jdGlvbiBwdXNoUmVzcG9uc2VJbnRlcmNlcHRvcnMoaW50ZXJjZXB0b3IpIHtcbiAgICAgIHJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbi5wdXNoKGludGVyY2VwdG9yLmZ1bGZpbGxlZCwgaW50ZXJjZXB0b3IucmVqZWN0ZWQpO1xuICAgIH0pO1xuXG4gICAgbGV0IHByb21pc2U7XG4gICAgbGV0IGkgPSAwO1xuICAgIGxldCBsZW47XG5cbiAgICBpZiAoIXN5bmNocm9ub3VzUmVxdWVzdEludGVyY2VwdG9ycykge1xuICAgICAgY29uc3QgY2hhaW4gPSBbZGlzcGF0Y2hSZXF1ZXN0LmJpbmQodGhpcyksIHVuZGVmaW5lZF07XG4gICAgICBjaGFpbi51bnNoaWZ0LmFwcGx5KGNoYWluLCByZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbik7XG4gICAgICBjaGFpbi5wdXNoLmFwcGx5KGNoYWluLCByZXNwb25zZUludGVyY2VwdG9yQ2hhaW4pO1xuICAgICAgbGVuID0gY2hhaW4ubGVuZ3RoO1xuXG4gICAgICBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKGNvbmZpZyk7XG5cbiAgICAgIHdoaWxlIChpIDwgbGVuKSB7XG4gICAgICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4oY2hhaW5baSsrXSwgY2hhaW5baSsrXSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cblxuICAgIGxlbiA9IHJlcXVlc3RJbnRlcmNlcHRvckNoYWluLmxlbmd0aDtcblxuICAgIGxldCBuZXdDb25maWcgPSBjb25maWc7XG5cbiAgICBpID0gMDtcblxuICAgIHdoaWxlIChpIDwgbGVuKSB7XG4gICAgICBjb25zdCBvbkZ1bGZpbGxlZCA9IHJlcXVlc3RJbnRlcmNlcHRvckNoYWluW2krK107XG4gICAgICBjb25zdCBvblJlamVjdGVkID0gcmVxdWVzdEludGVyY2VwdG9yQ2hhaW5baSsrXTtcbiAgICAgIHRyeSB7XG4gICAgICAgIG5ld0NvbmZpZyA9IG9uRnVsZmlsbGVkKG5ld0NvbmZpZyk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBvblJlamVjdGVkLmNhbGwodGhpcywgZXJyb3IpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgcHJvbWlzZSA9IGRpc3BhdGNoUmVxdWVzdC5jYWxsKHRoaXMsIG5ld0NvbmZpZyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgfVxuXG4gICAgaSA9IDA7XG4gICAgbGVuID0gcmVzcG9uc2VJbnRlcmNlcHRvckNoYWluLmxlbmd0aDtcblxuICAgIHdoaWxlIChpIDwgbGVuKSB7XG4gICAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKHJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbltpKytdLCByZXNwb25zZUludGVyY2VwdG9yQ2hhaW5baSsrXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBnZXRVcmkoY29uZmlnKSB7XG4gICAgY29uZmlnID0gbWVyZ2VDb25maWcodGhpcy5kZWZhdWx0cywgY29uZmlnKTtcbiAgICBjb25zdCBmdWxsUGF0aCA9IGJ1aWxkRnVsbFBhdGgoY29uZmlnLmJhc2VVUkwsIGNvbmZpZy51cmwpO1xuICAgIHJldHVybiBidWlsZFVSTChmdWxsUGF0aCwgY29uZmlnLnBhcmFtcywgY29uZmlnLnBhcmFtc1NlcmlhbGl6ZXIpO1xuICB9XG59XG5cbi8vIFByb3ZpZGUgYWxpYXNlcyBmb3Igc3VwcG9ydGVkIHJlcXVlc3QgbWV0aG9kc1xudXRpbHMkMS5mb3JFYWNoKFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJywgJ29wdGlvbnMnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZE5vRGF0YShtZXRob2QpIHtcbiAgLyplc2xpbnQgZnVuYy1uYW1lczowKi9cbiAgQXhpb3MucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbih1cmwsIGNvbmZpZykge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3QobWVyZ2VDb25maWcoY29uZmlnIHx8IHt9LCB7XG4gICAgICBtZXRob2QsXG4gICAgICB1cmwsXG4gICAgICBkYXRhOiAoY29uZmlnIHx8IHt9KS5kYXRhXG4gICAgfSkpO1xuICB9O1xufSk7XG5cbnV0aWxzJDEuZm9yRWFjaChbJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2RXaXRoRGF0YShtZXRob2QpIHtcbiAgLyplc2xpbnQgZnVuYy1uYW1lczowKi9cblxuICBmdW5jdGlvbiBnZW5lcmF0ZUhUVFBNZXRob2QoaXNGb3JtKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGh0dHBNZXRob2QodXJsLCBkYXRhLCBjb25maWcpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlcXVlc3QobWVyZ2VDb25maWcoY29uZmlnIHx8IHt9LCB7XG4gICAgICAgIG1ldGhvZCxcbiAgICAgICAgaGVhZGVyczogaXNGb3JtID8ge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YSdcbiAgICAgICAgfSA6IHt9LFxuICAgICAgICB1cmwsXG4gICAgICAgIGRhdGFcbiAgICAgIH0pKTtcbiAgICB9O1xuICB9XG5cbiAgQXhpb3MucHJvdG90eXBlW21ldGhvZF0gPSBnZW5lcmF0ZUhUVFBNZXRob2QoKTtcblxuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kICsgJ0Zvcm0nXSA9IGdlbmVyYXRlSFRUUE1ldGhvZCh0cnVlKTtcbn0pO1xuXG52YXIgQXhpb3MkMSA9IEF4aW9zO1xuXG4vKipcbiAqIEEgYENhbmNlbFRva2VuYCBpcyBhbiBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCB0byByZXF1ZXN0IGNhbmNlbGxhdGlvbiBvZiBhbiBvcGVyYXRpb24uXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZXhlY3V0b3IgVGhlIGV4ZWN1dG9yIGZ1bmN0aW9uLlxuICpcbiAqIEByZXR1cm5zIHtDYW5jZWxUb2tlbn1cbiAqL1xuY2xhc3MgQ2FuY2VsVG9rZW4ge1xuICBjb25zdHJ1Y3RvcihleGVjdXRvcikge1xuICAgIGlmICh0eXBlb2YgZXhlY3V0b3IgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2V4ZWN1dG9yIG11c3QgYmUgYSBmdW5jdGlvbi4nKTtcbiAgICB9XG5cbiAgICBsZXQgcmVzb2x2ZVByb21pc2U7XG5cbiAgICB0aGlzLnByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiBwcm9taXNlRXhlY3V0b3IocmVzb2x2ZSkge1xuICAgICAgcmVzb2x2ZVByb21pc2UgPSByZXNvbHZlO1xuICAgIH0pO1xuXG4gICAgY29uc3QgdG9rZW4gPSB0aGlzO1xuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbiAgICB0aGlzLnByb21pc2UudGhlbihjYW5jZWwgPT4ge1xuICAgICAgaWYgKCF0b2tlbi5fbGlzdGVuZXJzKSByZXR1cm47XG5cbiAgICAgIGxldCBpID0gdG9rZW4uX2xpc3RlbmVycy5sZW5ndGg7XG5cbiAgICAgIHdoaWxlIChpLS0gPiAwKSB7XG4gICAgICAgIHRva2VuLl9saXN0ZW5lcnNbaV0oY2FuY2VsKTtcbiAgICAgIH1cbiAgICAgIHRva2VuLl9saXN0ZW5lcnMgPSBudWxsO1xuICAgIH0pO1xuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbiAgICB0aGlzLnByb21pc2UudGhlbiA9IG9uZnVsZmlsbGVkID0+IHtcbiAgICAgIGxldCBfcmVzb2x2ZTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gICAgICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgIHRva2VuLnN1YnNjcmliZShyZXNvbHZlKTtcbiAgICAgICAgX3Jlc29sdmUgPSByZXNvbHZlO1xuICAgICAgfSkudGhlbihvbmZ1bGZpbGxlZCk7XG5cbiAgICAgIHByb21pc2UuY2FuY2VsID0gZnVuY3Rpb24gcmVqZWN0KCkge1xuICAgICAgICB0b2tlbi51bnN1YnNjcmliZShfcmVzb2x2ZSk7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9O1xuXG4gICAgZXhlY3V0b3IoZnVuY3Rpb24gY2FuY2VsKG1lc3NhZ2UsIGNvbmZpZywgcmVxdWVzdCkge1xuICAgICAgaWYgKHRva2VuLnJlYXNvbikge1xuICAgICAgICAvLyBDYW5jZWxsYXRpb24gaGFzIGFscmVhZHkgYmVlbiByZXF1ZXN0ZWRcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0b2tlbi5yZWFzb24gPSBuZXcgQ2FuY2VsZWRFcnJvcihtZXNzYWdlLCBjb25maWcsIHJlcXVlc3QpO1xuICAgICAgcmVzb2x2ZVByb21pc2UodG9rZW4ucmVhc29uKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaHJvd3MgYSBgQ2FuY2VsZWRFcnJvcmAgaWYgY2FuY2VsbGF0aW9uIGhhcyBiZWVuIHJlcXVlc3RlZC5cbiAgICovXG4gIHRocm93SWZSZXF1ZXN0ZWQoKSB7XG4gICAgaWYgKHRoaXMucmVhc29uKSB7XG4gICAgICB0aHJvdyB0aGlzLnJlYXNvbjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU3Vic2NyaWJlIHRvIHRoZSBjYW5jZWwgc2lnbmFsXG4gICAqL1xuXG4gIHN1YnNjcmliZShsaXN0ZW5lcikge1xuICAgIGlmICh0aGlzLnJlYXNvbikge1xuICAgICAgbGlzdGVuZXIodGhpcy5yZWFzb24pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9saXN0ZW5lcnMpIHtcbiAgICAgIHRoaXMuX2xpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fbGlzdGVuZXJzID0gW2xpc3RlbmVyXTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVW5zdWJzY3JpYmUgZnJvbSB0aGUgY2FuY2VsIHNpZ25hbFxuICAgKi9cblxuICB1bnN1YnNjcmliZShsaXN0ZW5lcikge1xuICAgIGlmICghdGhpcy5fbGlzdGVuZXJzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fbGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpO1xuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHRoaXMuX2xpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGEgbmV3IGBDYW5jZWxUb2tlbmAgYW5kIGEgZnVuY3Rpb24gdGhhdCwgd2hlbiBjYWxsZWQsXG4gICAqIGNhbmNlbHMgdGhlIGBDYW5jZWxUb2tlbmAuXG4gICAqL1xuICBzdGF0aWMgc291cmNlKCkge1xuICAgIGxldCBjYW5jZWw7XG4gICAgY29uc3QgdG9rZW4gPSBuZXcgQ2FuY2VsVG9rZW4oZnVuY3Rpb24gZXhlY3V0b3IoYykge1xuICAgICAgY2FuY2VsID0gYztcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgdG9rZW4sXG4gICAgICBjYW5jZWxcbiAgICB9O1xuICB9XG59XG5cbnZhciBDYW5jZWxUb2tlbiQxID0gQ2FuY2VsVG9rZW47XG5cbi8qKlxuICogU3ludGFjdGljIHN1Z2FyIGZvciBpbnZva2luZyBhIGZ1bmN0aW9uIGFuZCBleHBhbmRpbmcgYW4gYXJyYXkgZm9yIGFyZ3VtZW50cy5cbiAqXG4gKiBDb21tb24gdXNlIGNhc2Ugd291bGQgYmUgdG8gdXNlIGBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHlgLlxuICpcbiAqICBgYGBqc1xuICogIGZ1bmN0aW9uIGYoeCwgeSwgeikge31cbiAqICB2YXIgYXJncyA9IFsxLCAyLCAzXTtcbiAqICBmLmFwcGx5KG51bGwsIGFyZ3MpO1xuICogIGBgYFxuICpcbiAqIFdpdGggYHNwcmVhZGAgdGhpcyBleGFtcGxlIGNhbiBiZSByZS13cml0dGVuLlxuICpcbiAqICBgYGBqc1xuICogIHNwcmVhZChmdW5jdGlvbih4LCB5LCB6KSB7fSkoWzEsIDIsIDNdKTtcbiAqICBgYGBcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICpcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gc3ByZWFkKGNhbGxiYWNrKSB7XG4gIHJldHVybiBmdW5jdGlvbiB3cmFwKGFycikge1xuICAgIHJldHVybiBjYWxsYmFjay5hcHBseShudWxsLCBhcnIpO1xuICB9O1xufVxuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciB0aGUgcGF5bG9hZCBpcyBhbiBlcnJvciB0aHJvd24gYnkgQXhpb3NcbiAqXG4gKiBAcGFyYW0geyp9IHBheWxvYWQgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgcGF5bG9hZCBpcyBhbiBlcnJvciB0aHJvd24gYnkgQXhpb3MsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0F4aW9zRXJyb3IocGF5bG9hZCkge1xuICByZXR1cm4gdXRpbHMkMS5pc09iamVjdChwYXlsb2FkKSAmJiAocGF5bG9hZC5pc0F4aW9zRXJyb3IgPT09IHRydWUpO1xufVxuXG5jb25zdCBIdHRwU3RhdHVzQ29kZSA9IHtcbiAgQ29udGludWU6IDEwMCxcbiAgU3dpdGNoaW5nUHJvdG9jb2xzOiAxMDEsXG4gIFByb2Nlc3Npbmc6IDEwMixcbiAgRWFybHlIaW50czogMTAzLFxuICBPazogMjAwLFxuICBDcmVhdGVkOiAyMDEsXG4gIEFjY2VwdGVkOiAyMDIsXG4gIE5vbkF1dGhvcml0YXRpdmVJbmZvcm1hdGlvbjogMjAzLFxuICBOb0NvbnRlbnQ6IDIwNCxcbiAgUmVzZXRDb250ZW50OiAyMDUsXG4gIFBhcnRpYWxDb250ZW50OiAyMDYsXG4gIE11bHRpU3RhdHVzOiAyMDcsXG4gIEFscmVhZHlSZXBvcnRlZDogMjA4LFxuICBJbVVzZWQ6IDIyNixcbiAgTXVsdGlwbGVDaG9pY2VzOiAzMDAsXG4gIE1vdmVkUGVybWFuZW50bHk6IDMwMSxcbiAgRm91bmQ6IDMwMixcbiAgU2VlT3RoZXI6IDMwMyxcbiAgTm90TW9kaWZpZWQ6IDMwNCxcbiAgVXNlUHJveHk6IDMwNSxcbiAgVW51c2VkOiAzMDYsXG4gIFRlbXBvcmFyeVJlZGlyZWN0OiAzMDcsXG4gIFBlcm1hbmVudFJlZGlyZWN0OiAzMDgsXG4gIEJhZFJlcXVlc3Q6IDQwMCxcbiAgVW5hdXRob3JpemVkOiA0MDEsXG4gIFBheW1lbnRSZXF1aXJlZDogNDAyLFxuICBGb3JiaWRkZW46IDQwMyxcbiAgTm90Rm91bmQ6IDQwNCxcbiAgTWV0aG9kTm90QWxsb3dlZDogNDA1LFxuICBOb3RBY2NlcHRhYmxlOiA0MDYsXG4gIFByb3h5QXV0aGVudGljYXRpb25SZXF1aXJlZDogNDA3LFxuICBSZXF1ZXN0VGltZW91dDogNDA4LFxuICBDb25mbGljdDogNDA5LFxuICBHb25lOiA0MTAsXG4gIExlbmd0aFJlcXVpcmVkOiA0MTEsXG4gIFByZWNvbmRpdGlvbkZhaWxlZDogNDEyLFxuICBQYXlsb2FkVG9vTGFyZ2U6IDQxMyxcbiAgVXJpVG9vTG9uZzogNDE0LFxuICBVbnN1cHBvcnRlZE1lZGlhVHlwZTogNDE1LFxuICBSYW5nZU5vdFNhdGlzZmlhYmxlOiA0MTYsXG4gIEV4cGVjdGF0aW9uRmFpbGVkOiA0MTcsXG4gIEltQVRlYXBvdDogNDE4LFxuICBNaXNkaXJlY3RlZFJlcXVlc3Q6IDQyMSxcbiAgVW5wcm9jZXNzYWJsZUVudGl0eTogNDIyLFxuICBMb2NrZWQ6IDQyMyxcbiAgRmFpbGVkRGVwZW5kZW5jeTogNDI0LFxuICBUb29FYXJseTogNDI1LFxuICBVcGdyYWRlUmVxdWlyZWQ6IDQyNixcbiAgUHJlY29uZGl0aW9uUmVxdWlyZWQ6IDQyOCxcbiAgVG9vTWFueVJlcXVlc3RzOiA0MjksXG4gIFJlcXVlc3RIZWFkZXJGaWVsZHNUb29MYXJnZTogNDMxLFxuICBVbmF2YWlsYWJsZUZvckxlZ2FsUmVhc29uczogNDUxLFxuICBJbnRlcm5hbFNlcnZlckVycm9yOiA1MDAsXG4gIE5vdEltcGxlbWVudGVkOiA1MDEsXG4gIEJhZEdhdGV3YXk6IDUwMixcbiAgU2VydmljZVVuYXZhaWxhYmxlOiA1MDMsXG4gIEdhdGV3YXlUaW1lb3V0OiA1MDQsXG4gIEh0dHBWZXJzaW9uTm90U3VwcG9ydGVkOiA1MDUsXG4gIFZhcmlhbnRBbHNvTmVnb3RpYXRlczogNTA2LFxuICBJbnN1ZmZpY2llbnRTdG9yYWdlOiA1MDcsXG4gIExvb3BEZXRlY3RlZDogNTA4LFxuICBOb3RFeHRlbmRlZDogNTEwLFxuICBOZXR3b3JrQXV0aGVudGljYXRpb25SZXF1aXJlZDogNTExLFxufTtcblxuT2JqZWN0LmVudHJpZXMoSHR0cFN0YXR1c0NvZGUpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICBIdHRwU3RhdHVzQ29kZVt2YWx1ZV0gPSBrZXk7XG59KTtcblxudmFyIEh0dHBTdGF0dXNDb2RlJDEgPSBIdHRwU3RhdHVzQ29kZTtcblxuLyoqXG4gKiBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgQXhpb3NcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZGVmYXVsdENvbmZpZyBUaGUgZGVmYXVsdCBjb25maWcgZm9yIHRoZSBpbnN0YW5jZVxuICpcbiAqIEByZXR1cm5zIHtBeGlvc30gQSBuZXcgaW5zdGFuY2Ugb2YgQXhpb3NcbiAqL1xuZnVuY3Rpb24gY3JlYXRlSW5zdGFuY2UoZGVmYXVsdENvbmZpZykge1xuICBjb25zdCBjb250ZXh0ID0gbmV3IEF4aW9zJDEoZGVmYXVsdENvbmZpZyk7XG4gIGNvbnN0IGluc3RhbmNlID0gYmluZChBeGlvcyQxLnByb3RvdHlwZS5yZXF1ZXN0LCBjb250ZXh0KTtcblxuICAvLyBDb3B5IGF4aW9zLnByb3RvdHlwZSB0byBpbnN0YW5jZVxuICB1dGlscyQxLmV4dGVuZChpbnN0YW5jZSwgQXhpb3MkMS5wcm90b3R5cGUsIGNvbnRleHQsIHthbGxPd25LZXlzOiB0cnVlfSk7XG5cbiAgLy8gQ29weSBjb250ZXh0IHRvIGluc3RhbmNlXG4gIHV0aWxzJDEuZXh0ZW5kKGluc3RhbmNlLCBjb250ZXh0LCBudWxsLCB7YWxsT3duS2V5czogdHJ1ZX0pO1xuXG4gIC8vIEZhY3RvcnkgZm9yIGNyZWF0aW5nIG5ldyBpbnN0YW5jZXNcbiAgaW5zdGFuY2UuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKGluc3RhbmNlQ29uZmlnKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUluc3RhbmNlKG1lcmdlQ29uZmlnKGRlZmF1bHRDb25maWcsIGluc3RhbmNlQ29uZmlnKSk7XG4gIH07XG5cbiAgcmV0dXJuIGluc3RhbmNlO1xufVxuXG4vLyBDcmVhdGUgdGhlIGRlZmF1bHQgaW5zdGFuY2UgdG8gYmUgZXhwb3J0ZWRcbmNvbnN0IGF4aW9zID0gY3JlYXRlSW5zdGFuY2UoZGVmYXVsdHMkMSk7XG5cbi8vIEV4cG9zZSBBeGlvcyBjbGFzcyB0byBhbGxvdyBjbGFzcyBpbmhlcml0YW5jZVxuYXhpb3MuQXhpb3MgPSBBeGlvcyQxO1xuXG4vLyBFeHBvc2UgQ2FuY2VsICYgQ2FuY2VsVG9rZW5cbmF4aW9zLkNhbmNlbGVkRXJyb3IgPSBDYW5jZWxlZEVycm9yO1xuYXhpb3MuQ2FuY2VsVG9rZW4gPSBDYW5jZWxUb2tlbiQxO1xuYXhpb3MuaXNDYW5jZWwgPSBpc0NhbmNlbDtcbmF4aW9zLlZFUlNJT04gPSBWRVJTSU9OO1xuYXhpb3MudG9Gb3JtRGF0YSA9IHRvRm9ybURhdGE7XG5cbi8vIEV4cG9zZSBBeGlvc0Vycm9yIGNsYXNzXG5heGlvcy5BeGlvc0Vycm9yID0gQXhpb3NFcnJvcjtcblxuLy8gYWxpYXMgZm9yIENhbmNlbGVkRXJyb3IgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbmF4aW9zLkNhbmNlbCA9IGF4aW9zLkNhbmNlbGVkRXJyb3I7XG5cbi8vIEV4cG9zZSBhbGwvc3ByZWFkXG5heGlvcy5hbGwgPSBmdW5jdGlvbiBhbGwocHJvbWlzZXMpIHtcbiAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKTtcbn07XG5cbmF4aW9zLnNwcmVhZCA9IHNwcmVhZDtcblxuLy8gRXhwb3NlIGlzQXhpb3NFcnJvclxuYXhpb3MuaXNBeGlvc0Vycm9yID0gaXNBeGlvc0Vycm9yO1xuXG4vLyBFeHBvc2UgbWVyZ2VDb25maWdcbmF4aW9zLm1lcmdlQ29uZmlnID0gbWVyZ2VDb25maWc7XG5cbmF4aW9zLkF4aW9zSGVhZGVycyA9IEF4aW9zSGVhZGVycyQxO1xuXG5heGlvcy5mb3JtVG9KU09OID0gdGhpbmcgPT4gZm9ybURhdGFUb0pTT04odXRpbHMkMS5pc0hUTUxGb3JtKHRoaW5nKSA/IG5ldyBGb3JtRGF0YSh0aGluZykgOiB0aGluZyk7XG5cbmF4aW9zLmdldEFkYXB0ZXIgPSBhZGFwdGVycy5nZXRBZGFwdGVyO1xuXG5heGlvcy5IdHRwU3RhdHVzQ29kZSA9IEh0dHBTdGF0dXNDb2RlJDE7XG5cbmF4aW9zLmRlZmF1bHQgPSBheGlvcztcblxubW9kdWxlLmV4cG9ydHMgPSBheGlvcztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF4aW9zLmNqcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/axios/dist/browser/axios.cjs\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./vendor/rtippin/messenger-ui/resources/js/app.js");
/******/ 	
/******/ })()
;